import{r as p,o,c,a as n,e,t as l,F as r,d as t,b as s}from"./app.aacdb10a.js";import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";const u={},k=t(`<h1 id="html\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#html\u6A21\u5757" aria-hidden="true">#</a> HTML\u6A21\u5757</h1><h2 id="_1-h5\u7684\u65B0\u7279\u6027\u6709\u54EA\u4E9B" tabindex="-1"><a class="header-anchor" href="#_1-h5\u7684\u65B0\u7279\u6027\u6709\u54EA\u4E9B" aria-hidden="true">#</a> 1 H5\u7684\u65B0\u7279\u6027\u6709\u54EA\u4E9B</h2><ul><li>\u753B\u5E03(<code>Canvas</code>) API</li><li>\u5730\u7406(<code>Geolocation</code>) API</li><li>\u97F3\u9891\u3001\u89C6\u9891API(<code>audio</code>,<code>video</code>)</li><li><code>localStorage</code>\u548C<code>sessionStorage</code></li><li><code>webworker</code>, <code>websocket</code></li><li>\u65B0\u7684\u4E00\u5957\u6807\u7B7E <code>header</code>,<code>nav</code>,<code>footer</code>,<code>aside</code>,<code>article</code>,<code>section</code></li><li><code>web worker</code>\u662F\u8FD0\u884C\u5728\u6D4F\u89C8\u5668\u540E\u53F0\u7684js\u7A0B\u5E8F\uFF0C\u4ED6\u4E0D\u5F71\u54CD\u4E3B\u7A0B\u5E8F\u7684\u8FD0\u884C\uFF0C\u662F\u53E6\u5F00\u7684\u4E00\u4E2Ajs\u7EBF\u7A0B\uFF0C\u53EF\u4EE5\u7528\u8FD9\u4E2A\u7EBF\u7A0B\u6267\u884C\u590D\u6742\u7684\u6570\u636E\u64CD\u4F5C\uFF0C\u7136\u540E\u628A\u64CD\u4F5C\u7ED3\u679C\u901A\u8FC7postMessage\u4F20\u9012\u7ED9\u4E3B\u7EBF\u7A0B\uFF0C\u8FD9\u6837\u5728\u8FDB\u884C\u590D\u6742\u4E14\u8017\u65F6\u7684\u64CD\u4F5C\u65F6\u5C31\u4E0D\u4F1A\u963B\u585E\u4E3B\u7EBF\u7A0B\u4E86\u3002</li><li><code>HTML5 History</code>\u4E24\u4E2A\u65B0\u589E\u7684API\uFF1A<code>history.pushState</code> \u548C <code>history.replaceState</code>\uFF0C\u4E24\u4E2A API \u90FD\u4F1A\u64CD\u4F5C\u6D4F\u89C8\u5668\u7684\u5386\u53F2\u8BB0\u5F55\uFF0C\u800C\u4E0D\u4F1A\u5F15\u8D77\u9875\u9762\u7684\u5237\u65B0\u3002</li></ul><blockquote><p><code>Hash</code>\u5C31\u662F<code>url</code> \u4E2D\u770B\u5230 <code>#</code> ,\u6211\u4EEC\u9700\u8981\u4E00\u4E2A\u6839\u636E\u76D1\u542C\u54C8\u5E0C\u53D8\u5316\u89E6\u53D1\u7684\u4E8B\u4EF6( <code>hashchange</code>) \u4E8B\u4EF6\u3002\u6211\u4EEC\u7528 <code>window.location</code>\u5904\u7406\u54C8\u5E0C\u7684\u6539\u53D8\u65F6\u4E0D\u4F1A\u91CD\u65B0\u6E32\u67D3\u9875\u9762\uFF0C\u800C\u662F\u5F53\u4F5C\u65B0\u9875\u9762\u52A0\u5230\u5386\u53F2\u8BB0\u5F55\u4E2D\uFF0C\u8FD9\u6837\u6211\u4EEC\u8DF3\u8F6C\u9875\u9762\u5C31\u53EF\u4EE5\u5728 hashchange \u4E8B\u4EF6\u4E2D\u6CE8\u518C ajax \u4ECE\u800C\u6539\u53D8\u9875\u9762\u5185\u5BB9\u3002 \u53EF\u4EE5\u4E3Ahash\u7684\u6539\u53D8\u6DFB\u52A0\u76D1\u542C\u4E8B\u4EF6\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;hashchange&quot;</span><span class="token punctuation">,</span> funcRef<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>WebSocket</code> \u4F7F\u7528<code>ws</code>\u6216<code>wss</code>\u534F\u8BAE\uFF0C<code>Websocket</code>\u662F\u4E00\u4E2A\u6301\u4E45\u5316\u7684\u534F\u8BAE\uFF0C\u76F8\u5BF9\u4E8EHTTP\u8FD9\u79CD\u975E\u6301\u4E45\u7684\u534F\u8BAE\u6765\u8BF4\u3002WebSocket API\u6700\u4F1F\u5927\u4E4B\u5904\u5728\u4E8E\u670D\u52A1\u5668\u548C\u5BA2\u6237\u7AEF\u53EF\u4EE5\u5728\u7ED9\u5B9A\u7684\u65F6\u95F4\u8303\u56F4\u5185\u7684\u4EFB\u610F\u65F6\u523B\uFF0C\u76F8\u4E92\u63A8\u9001\u4FE1\u606F\u3002<code>WebSocket</code>\u5E76\u4E0D\u9650\u4E8E\u4EE5Ajax(\u6216XHR)\u65B9\u5F0F\u901A\u4FE1\uFF0C\u56E0\u4E3AAjax\u6280\u672F\u9700\u8981\u5BA2\u6237\u7AEF\u53D1\u8D77\u8BF7\u6C42\uFF0C\u800CWebSocket\u670D\u52A1\u5668\u548C\u5BA2\u6237\u7AEF\u53EF\u4EE5\u5F7C\u6B64\u76F8\u4E92\u63A8\u9001\u4FE1\u606F\uFF1BXHR\u53D7\u5230\u57DF\u7684\u9650\u5236\uFF0C\u800C<code>WebSocket</code>\u5141\u8BB8\u8DE8\u57DF\u901A\u4FE1</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u521B\u5EFA\u4E00\u4E2ASocket\u5B9E\u4F8B</span>
<span class="token keyword">var</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">&#39;ws://localhost:8080&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u6253\u5F00Socket</span>
socket<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u53D1\u9001\u4E00\u4E2A\u521D\u59CB\u5316\u6D88\u606F</span>
  socket<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&#39;I am the client and I\\&#39;m listening!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u76D1\u542C\u6D88\u606F</span>
  socket<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Client received a message&#39;</span><span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// \u76D1\u542CSocket\u7684\u5173\u95ED</span>
  socket<span class="token punctuation">.</span><span class="token function-variable function">onclose</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Client notified socket has closed&#39;</span><span class="token punctuation">,</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// \u5173\u95EDSocket....</span>
  <span class="token comment">//socket.close()</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div>`,7),d={id:"_2-\u8BF4\u4E00\u4E0B-html5-drag-api",tabindex:"-1"},b=n("a",{class:"header-anchor",href:"#_2-\u8BF4\u4E00\u4E0B-html5-drag-api","aria-hidden":"true"},"#",-1),m=s(),h={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_2-%E8%AF%B4%E4%B8%80%E4%B8%8B-html5-drag-api",target:"_blank",rel:"noopener noreferrer"},_=s("#"),g=s("2 \u8BF4\u4E00\u4E0B HTML5 drag api"),E=t("<ul><li><code>dragstart</code>:\u4E8B\u4EF6\u4E3B\u4F53\u662F\u88AB\u62D6\u653E\u5143\u7D20\uFF0C\u5728\u5F00\u59CB\u62D6\u653E\u88AB\u62D6\u653E\u5143\u7D20\u65F6\u89E6\u53D1\uFF0C\u3002</li><li><code>darg</code>:\u4E8B\u4EF6\u4E3B\u4F53\u662F\u88AB\u62D6\u653E\u5143\u7D20\uFF0C\u5728\u6B63\u5728\u62D6\u653E\u88AB\u62D6\u653E\u5143\u7D20\u65F6\u89E6\u53D1\u3002</li><li><code>dragenter</code>:\u4E8B\u4EF6\u4E3B\u4F53\u662F\u76EE\u6807\u5143\u7D20\uFF0C\u5728\u88AB\u62D6\u653E\u5143\u7D20\u8FDB\u5165\u67D0\u5143\u7D20\u65F6\u89E6\u53D1\u3002</li><li><code>dragover</code>:\u4E8B\u4EF6\u4E3B\u4F53\u662F\u76EE\u6807\u5143\u7D20\uFF0C\u5728\u88AB\u62D6\u653E\u5728\u67D0\u5143\u7D20\u5185\u79FB\u52A8\u65F6\u89E6\u53D1\u3002</li><li><code>dragleave</code>:\u4E8B\u4EF6\u4E3B\u4F53\u662F\u76EE\u6807\u5143\u7D20\uFF0C\u5728\u88AB\u62D6\u653E\u5143\u7D20\u79FB\u51FA\u76EE\u6807\u5143\u7D20\u662F\u89E6\u53D1\u3002</li><li><code>drop</code>:\u4E8B\u4EF6\u4E3B\u4F53\u662F\u76EE\u6807\u5143\u7D20\uFF0C\u5728\u76EE\u6807\u5143\u7D20\u5B8C\u5168\u63A5\u53D7\u88AB\u62D6\u653E\u5143\u7D20\u65F6\u89E6\u53D1\u3002</li><li><code>dragend</code>:\u4E8B\u4EF6\u4E3B\u4F53\u662F\u88AB\u62D6\u653E\u5143\u7D20\uFF0C\u5728\u6574\u4E2A\u62D6\u653E\u64CD\u4F5C\u7ED3\u675F\u65F6\u89E6\u53D1</li></ul>",1),f={id:"_3-iframe\u6709\u90A3\u4E9B\u7F3A\u70B9",tabindex:"-1"},v=n("a",{class:"header-anchor",href:"#_3-iframe\u6709\u90A3\u4E9B\u7F3A\u70B9","aria-hidden":"true"},"#",-1),w=s(),y={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_3-iframe%E6%9C%89%E9%82%A3%E4%BA%9B%E7%BC%BA%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},x=s("#"),A=s("3 iframe\u6709\u90A3\u4E9B\u7F3A\u70B9"),B=t("<ul><li><code>iframe</code>\u4F1A\u963B\u585E\u4E3B\u9875\u9762\u7684<code>Onload</code>\u4E8B\u4EF6\uFF1B</li><li>\u641C\u7D22\u5F15\u64CE\u7684\u68C0\u7D22\u7A0B\u5E8F\u65E0\u6CD5\u89E3\u8BFB\u8FD9\u79CD\u9875\u9762\uFF0C\u4E0D\u5229\u4E8E<code>SEO</code>;</li><li><code>iframe</code>\u548C\u4E3B\u9875\u9762\u5171\u4EAB\u8FDE\u63A5\u6C60\uFF0C\u800C\u6D4F\u89C8\u5668\u5BF9\u76F8\u540C\u57DF\u7684\u8FDE\u63A5\u6709\u9650\u5236\uFF0C\u6240\u4EE5\u4F1A\u5F71\u54CD\u9875\u9762\u7684\u5E76\u884C\u52A0\u8F7D\u3002</li><li>\u4F7F\u7528<code>iframe</code>\u4E4B\u524D\u9700\u8981\u8003\u8651\u8FD9\u4E24\u4E2A\u7F3A\u70B9\u3002\u5982\u679C\u9700\u8981\u4F7F\u7528<code>iframe</code>\uFF0C\u6700\u597D\u662F\u901A\u8FC7<code>javascript</code></li><li>\u52A8\u6001\u7ED9<code>iframe</code>\u6DFB\u52A0<code>src</code>\u5C5E\u6027\u503C\uFF0C\u8FD9\u6837\u53EF\u4EE5\u7ED5\u5F00\u4EE5\u4E0A\u4E24\u4E2A\u95EE\u9898</li></ul>",1),q={id:"_4-\u5982\u4F55\u5B9E\u73B0\u6D4F\u89C8\u5668\u5185\u591A\u4E2A\u6807\u7B7E\u9875\u4E4B\u95F4\u7684\u901A\u4FE1",tabindex:"-1"},j=n("a",{class:"header-anchor",href:"#_4-\u5982\u4F55\u5B9E\u73B0\u6D4F\u89C8\u5668\u5185\u591A\u4E2A\u6807\u7B7E\u9875\u4E4B\u95F4\u7684\u901A\u4FE1","aria-hidden":"true"},"#",-1),S=s(),C={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_4-%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E6%B5%8F%E8%A7%88%E5%99%A8%E5%86%85%E5%A4%9A%E4%B8%AA%E6%A0%87%E7%AD%BE%E9%A1%B5%E4%B9%8B%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1",target:"_blank",rel:"noopener noreferrer"},D=s("#"),F=s("4 \u5982\u4F55\u5B9E\u73B0\u6D4F\u89C8\u5668\u5185\u591A\u4E2A\u6807\u7B7E\u9875\u4E4B\u95F4\u7684\u901A\u4FE1"),P=t(`<ol><li>\u4F7F\u7528<code>WebSocket</code> \u53EF\u4EE5\u5B9E\u73B0\u591A\u4E2A\u6807\u7B7E\u9875\u4E4B\u95F4\u7684\u901A\u4FE1</li><li>\u8C03\u7528<code>localStorage</code></li></ol><ul><li>\u5728\u4E00\u4E2A\u6807\u7B7E\u9875\u91CC\u9762\u4F7F\u7528 <code>localStorage.setItem(key,value)</code> \u6DFB\u52A0\uFF08\u4FEE\u6539\u3001\u5220\u9664\uFF09\u5185\u5BB9\uFF1B</li><li>\u5728\u53E6\u4E00\u4E2A\u6807\u7B7E\u9875\u91CC\u9762\u76D1\u542C <code>storage</code> \u4E8B\u4EF6\u3002</li><li>\u5373\u53EF\u5F97\u5230 <code>localstorge</code> \u5B58\u50A8\u7684\u503C\uFF0C\u5B9E\u73B0\u4E0D\u540C\u6807\u7B7E\u9875\u4E4B\u95F4\u7684\u901A\u4FE1</li></ul><p>\u6807\u7B7E\u98751</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u63D0\u4EA4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">  
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    
            <span class="token keyword">var</span> name<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
            localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u6807\u7B7E\u98752\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">  
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   
        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;storage&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>key <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>newValue<span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol><li>\u8C03\u7528<code>cookie+setInterval()</code></li></ol><blockquote><p>\u5C06\u8981\u4F20\u9012\u7684\u4FE1\u606F\u5B58\u50A8\u5728<code>cookie</code>\u4E2D\uFF0C\u6BCF\u9694\u4E00\u5B9A\u65F6\u95F4\u8BFB\u53D6<code>cookie</code>\u4FE1\u606F\uFF0C\u5373\u53EF\u968F\u65F6\u83B7\u53D6\u8981\u4F20\u9012\u7684\u4FE1\u606F\u3002</p></blockquote><p>\u9875\u97621\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u63D0\u4EA4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">  
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    
            <span class="token keyword">var</span> name<span class="token operator">=</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
            document<span class="token punctuation">.</span>cookie<span class="token operator">=</span><span class="token string">&quot;name=&quot;</span><span class="token operator">+</span>name<span class="token punctuation">;</span>    
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u9875\u97622\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">  
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   
        <span class="token keyword">function</span> <span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
            <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;{\\&quot;&quot;</span> <span class="token operator">+</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">;\\s+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gim</span></span><span class="token punctuation">,</span><span class="token string">&quot;\\&quot;,\\&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">=</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gim</span></span><span class="token punctuation">,</span> <span class="token string">&quot;\\&quot;:\\&quot;&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\&quot;}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span>     
        <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;name=&quot;</span> <span class="token operator">+</span> <span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div>`,12),T={id:"_5-\u7B80\u8FF0\u4E00\u4E0Bsrc\u4E0Ehref\u7684\u533A\u522B",tabindex:"-1"},N=n("a",{class:"header-anchor",href:"#_5-\u7B80\u8FF0\u4E00\u4E0Bsrc\u4E0Ehref\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),M=s(),O={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_5-%E7%AE%80%E8%BF%B0%E4%B8%80%E4%B8%8Bsrc%E4%B8%8Ehref%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},I=s("#"),R=s("5 \u7B80\u8FF0\u4E00\u4E0Bsrc\u4E0Ehref\u7684\u533A\u522B"),V=t(`<ul><li><code>src</code>\u7528\u4E8E\u66FF\u6362\u5F53\u524D\u5143\u7D20\uFF0C<code>href</code>\u7528\u4E8E\u5728\u5F53\u524D\u6587\u6863\u548C\u5F15\u7528\u8D44\u6E90\u4E4B\u95F4\u786E\u7ACB\u8054\u7CFB\u3002</li><li><code>src</code>\u662F<code>source</code>\u7684\u7F29\u5199\uFF0C\u6307\u5411\u5916\u90E8\u8D44\u6E90\u7684\u4F4D\u7F6E\uFF0C\u6307\u5411\u7684\u5185\u5BB9\u5C06\u4F1A\u5D4C\u5165\u5230\u6587\u6863\u4E2D\u5F53\u524D\u6807\u7B7E\u6240\u5728\u4F4D\u7F6E\uFF1B\u5728\u8BF7\u6C42<code>src</code>\u8D44\u6E90\u65F6\u4F1A\u5C06\u5176\u6307\u5411\u7684\u8D44\u6E90\u4E0B\u8F7D\u5E76\u5E94\u7528\u5230\u6587\u6863\u5185\uFF0C\u4F8B\u5982<code>js</code>\u811A\u672C\uFF0C<code>img</code>\u56FE\u7247\u548C<code>frame</code>\u7B49\u5143\u7D20</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;script src =\u201Djs.js\u201D&gt;&lt;/script&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u5F53\u6D4F\u89C8\u5668\u89E3\u6790\u5230\u8BE5\u5143\u7D20\u65F6\uFF0C\u4F1A\u6682\u505C\u5176\u4ED6\u8D44\u6E90\u7684\u4E0B\u8F7D\u548C\u5904\u7406\uFF0C\u76F4\u5230\u5C06\u8BE5\u8D44\u6E90\u52A0\u8F7D\u3001\u7F16\u8BD1\u3001\u6267\u884C\u5B8C\u6BD5\uFF0C\u56FE\u7247\u548C\u6846\u67B6\u7B49\u5143\u7D20\u4E5F\u5982\u6B64\uFF0C\u7C7B\u4F3C\u4E8E\u5C06\u6240\u6307\u5411\u8D44\u6E90\u5D4C\u5165\u5F53\u524D\u6807\u7B7E\u5185\u3002\u8FD9\u4E5F\u662F\u4E3A\u4EC0\u4E48\u5C06js\u811A\u672C\u653E\u5728\u5E95\u90E8\u800C\u4E0D\u662F\u5934\u90E8</p></blockquote><ul><li><code>href</code>\u662F<code>Hypertext Reference</code>\u7684\u7F29\u5199\uFF0C\u6307\u5411\u7F51\u7EDC\u8D44\u6E90\u6240\u5728\u4F4D\u7F6E\uFF0C\u5EFA\u7ACB\u548C\u5F53\u524D\u5143\u7D20\uFF08\u951A\u70B9\uFF09\u6216\u5F53\u524D\u6587\u6863\uFF08\u94FE\u63A5\uFF09\u4E4B\u95F4\u7684\u94FE\u63A5\uFF0C\u5982\u679C\u6211\u4EEC\u5728\u6587\u6863\u4E2D\u6DFB\u52A0</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;link href=\u201Dcommon.css\u201D rel=\u201Dstylesheet\u201D/&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u90A3\u4E48\u6D4F\u89C8\u5668\u4F1A\u8BC6\u522B\u8BE5\u6587\u6863\u4E3Acss\u6587\u4EF6\uFF0C\u5C31\u4F1A\u5E76\u884C\u4E0B\u8F7D\u8D44\u6E90\u5E76\u4E14\u4E0D\u4F1A\u505C\u6B62\u5BF9\u5F53\u524D\u6587\u6863\u7684\u5904\u7406\u3002\u8FD9\u4E5F\u662F\u4E3A\u4EC0\u4E48\u5EFA\u8BAE\u4F7F\u7528link\u65B9\u5F0F\u6765\u52A0\u8F7Dcss\uFF0C\u800C\u4E0D\u662F\u4F7F\u7528@import\u65B9\u5F0F\u3002</p></blockquote>`,6),H={id:"_6-\u77E5\u9053\u7684\u7F51\u9875\u5236\u4F5C\u4F1A\u7528\u5230\u7684\u56FE\u7247\u683C\u5F0F\u6709\u54EA\u4E9B",tabindex:"-1"},L=n("a",{class:"header-anchor",href:"#_6-\u77E5\u9053\u7684\u7F51\u9875\u5236\u4F5C\u4F1A\u7528\u5230\u7684\u56FE\u7247\u683C\u5F0F\u6709\u54EA\u4E9B","aria-hidden":"true"},"#",-1),U=s(),J={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_6-%E7%9F%A5%E9%81%93%E7%9A%84%E7%BD%91%E9%A1%B5%E5%88%B6%E4%BD%9C%E4%BC%9A%E7%94%A8%E5%88%B0%E7%9A%84%E5%9B%BE%E7%89%87%E6%A0%BC%E5%BC%8F%E6%9C%89%E5%93%AA%E4%BA%9B",target:"_blank",rel:"noopener noreferrer"},W=s("#"),z=s("6 \u77E5\u9053\u7684\u7F51\u9875\u5236\u4F5C\u4F1A\u7528\u5230\u7684\u56FE\u7247\u683C\u5F0F\u6709\u54EA\u4E9B"),G=t('<blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>png-8`\uFF0C`png-24`\uFF0C`jpeg`\uFF0C`gif`\uFF0C`svg\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><p>\u4F46\u662F\u4E0A\u9762\u7684\u90A3\u4E9B\u90FD\u4E0D\u662F\u9762\u8BD5\u5B98\u60F3\u8981\u7684\u6700\u540E\u7B54\u6848\u3002\u9762\u8BD5\u5B98\u5E0C\u671B\u542C\u5230\u662FWebp\u3002\uFF08\u662F\u5426\u6709\u5173\u6CE8\u65B0\u6280\u672F\uFF0C\u65B0\u9C9C\u4E8B\u7269\uFF09</p><blockquote><p>\u79D1\u666E\u4E00\u4E0BWebp\uFF1AWebP\u683C\u5F0F\uFF0C\u8C37\u6B4C\uFF08google\uFF09\u5F00\u53D1\u7684\u4E00\u79CD\u65E8\u5728\u52A0\u5FEB\u56FE\u7247\u52A0\u8F7D\u901F\u5EA6\u7684\u56FE\u7247\u683C\u5F0F\u3002\u56FE\u7247\u538B\u7F29\u4F53\u79EF\u5927\u7EA6\u53EA\u6709JPEG\u76842/3\uFF0C\u5E76\u80FD\u8282\u7701\u5927\u91CF\u7684\u670D\u52A1\u5668\u5E26\u5BBD\u8D44\u6E90\u548C\u6570\u636E\u7A7A\u95F4\u3002Facebook Ebay\u7B49\u77E5\u540D\u7F51\u7AD9\u5DF2\u7ECF\u5F00\u59CB\u6D4B\u8BD5\u5E76\u4F7F\u7528WebP\u683C\u5F0F\u3002</p></blockquote><p>\u5728\u8D28\u91CF\u76F8\u540C\u7684\u60C5\u51B5\u4E0B\uFF0C<code>WebP</code>\u683C\u5F0F\u56FE\u50CF\u7684\u4F53\u79EF\u8981\u6BD4JPEG\u683C\u5F0F\u56FE\u50CF\u5C0F<code>40%</code></p>',4),$={id:"_7-script\u6807\u7B7E\u4E2Ddefer\u548Casync\u7684\u533A\u522B",tabindex:"-1"},X=n("a",{class:"header-anchor",href:"#_7-script\u6807\u7B7E\u4E2Ddefer\u548Casync\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),K=s(),Q={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_7-script%E6%A0%87%E7%AD%BE%E4%B8%ADdefer%E5%92%8Casync%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},Y=s("#"),Z=s("7 script\u6807\u7B7E\u4E2Ddefer\u548Casync\u7684\u533A\u522B"),nn=t('<ul><li><code>defer</code>:\u6D4F\u89C8\u5668\u6307\u793A\u811A\u672C\u5728\u6587\u6863\u88AB\u89E3\u6790\u540E\u6267\u884C\uFF0C<code>script</code>\u88AB\u5F02\u6B65\u52A0\u8F7D\u540E\u5E76\u4E0D\u4F1A\u7ACB\u523B\u6267\u884C\uFF0C\u800C\u662F\u7B49\u5F85\u6587\u6863\u88AB\u89E3\u6790\u5B8C\u6BD5\u540E\u6267 \u884C\u3002</li><li><code>async</code>:\u540C\u6837\u662F\u5F02\u6B65\u52A0\u8F7D\u811A\u672C\uFF0C\u533A\u522B\u662F\u811A\u672C\u52A0\u8F7D\u5B8C\u6BD5\u540E\u7ACB\u5373\u6267\u884C\uFF0C\u8FD9\u5BFC\u81F4<code>async</code>\u5C5E\u6027\u4E0B\u7684\u811A\u672C\u662F\u4E71\u5E8F\u7684\uFF0C\u5BF9\u4E8E <code>script</code> \u6709\u5148\u540E\u4F9D\u8D56\u5173\u7CFB\u7684\u60C5\u51B5\uFF0C\u5E76\u4E0D\u9002\u7528</li></ul><p><img src="http://img-repo.poetries.top/images/20210314221335.png" alt="img"></p><blockquote><p>\u84DD\u8272\u7EBF\u4EE3\u8868\u7F51\u7EDC\u8BFB\u53D6\uFF0C\u7EA2\u8272\u7EBF\u4EE3\u8868\u6267\u884C\u65F6\u95F4\uFF0C\u8FD9\u4FE9\u90FD\u662F\u9488\u5BF9\u811A\u672C\u7684;\u7EFF\u8272\u7EBF\u4EE3\u8868 HTML \u89E3\u6790</p></blockquote>',3),sn={id:"_8-\u8BF4\u4E00\u4E0B-web-worker",tabindex:"-1"},an=n("a",{class:"header-anchor",href:"#_8-\u8BF4\u4E00\u4E0B-web-worker","aria-hidden":"true"},"#",-1),en=s(),tn={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_8-%E8%AF%B4%E4%B8%80%E4%B8%8B-web-worker",target:"_blank",rel:"noopener noreferrer"},pn=s("#"),on=s("8 \u8BF4\u4E00\u4E0B web worker"),cn=t("<blockquote><p>\u5728 HTML \u9875\u9762\u4E2D\uFF0C\u5982\u679C\u5728\u6267\u884C\u811A\u672C\u65F6\uFF0C\u9875\u9762\u7684\u72B6\u6001\u662F\u4E0D\u53EF\u76F8\u5E94\u7684\uFF0C\u76F4\u5230\u811A\u672C\u6267\u884C\u5B8C\u6210\u540E\uFF0C \u9875\u9762\u624D\u53D8\u6210\u53EF\u76F8\u5E94\u3002<code>web worker</code> \u662F\u8FD0\u884C\u5728\u540E\u53F0\u7684 <code>js</code>\uFF0C\u72EC\u7ACB\u4E8E\u5176\u4ED6\u811A\u672C\uFF0C\u4E0D\u4F1A\u5F71\u54CD\u9875\u9762\u4F60 \u7684\u6027\u80FD\u3002\u5E76\u4E14\u901A\u8FC7 <code>postMessage</code> \u5C06\u7ED3\u679C\u56DE\u4F20\u5230\u4E3B\u7EBF\u7A0B\u3002\u8FD9\u6837\u5728\u8FDB\u884C\u590D\u6742\u64CD\u4F5C\u7684\u65F6\u5019\uFF0C\u5C31 \u4E0D\u4F1A\u963B\u585E\u4E3B\u7EBF\u7A0B\u4E86</p></blockquote><p><strong>\u5982\u4F55\u521B\u5EFA web worker:</strong></p><ul><li>\u68C0\u6D4B\u6D4F\u89C8\u5668\u5BF9\u4E8E <code>web worker</code> \u7684\u652F\u6301\u6027</li><li>\u521B\u5EFA <code>web worker</code> \u6587\u4EF6(js\uFF0C\u56DE\u4F20\u51FD\u6570\u7B49)</li><li>\u521B\u5EFA <code>web worker</code> \u5BF9\u8C61</li></ul>",3),ln={id:"_9-\u7528\u4E00\u4E2Adiv\u6A21\u62DFtextarea\u7684\u5B9E\u73B0",tabindex:"-1"},rn=n("a",{class:"header-anchor",href:"#_9-\u7528\u4E00\u4E2Adiv\u6A21\u62DFtextarea\u7684\u5B9E\u73B0","aria-hidden":"true"},"#",-1),un=s(),kn={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_9-%E7%94%A8%E4%B8%80%E4%B8%AAdiv%E6%A8%A1%E6%8B%9Ftextarea%E7%9A%84%E5%AE%9E%E7%8E%B0",target:"_blank",rel:"noopener noreferrer"},dn=s("#"),bn=s("9 \u7528\u4E00\u4E2A"),mn=n("code",null,"div",-1),hn=s("\u6A21\u62DF"),_n=n("code",null,"textarea",-1),gn=s("\u7684\u5B9E\u73B0"),En=n("ul",null,[n("li",null,[s("\u7ED9"),n("code",null,"div"),s("\u6DFB\u52A0"),n("code",null,"contenteditable=true"),s(" \u5373\u53EF")])],-1),fn={id:"_10-\u4ECB\u7ECD\u4E0B\u8D44\u6E90\u9884\u52A0\u8F7D-prefetch-preload",tabindex:"-1"},vn=n("a",{class:"header-anchor",href:"#_10-\u4ECB\u7ECD\u4E0B\u8D44\u6E90\u9884\u52A0\u8F7D-prefetch-preload","aria-hidden":"true"},"#",-1),wn=s(),yn={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_10-%E4%BB%8B%E7%BB%8D%E4%B8%8B%E8%B5%84%E6%BA%90%E9%A2%84%E5%8A%A0%E8%BD%BD-prefetch-preload",target:"_blank",rel:"noopener noreferrer"},xn=s("#"),An=s("10 \u4ECB\u7ECD\u4E0B\u8D44\u6E90\u9884\u52A0\u8F7D prefetch/preload"),Bn=t(`<blockquote><p>\u90FD\u662F\u544A\u77E5\u6D4F\u89C8\u5668\u63D0\u524D\u52A0\u8F7D\u6587\u4EF6(\u56FE\u7247\u3001\u89C6\u9891\u3001js\u3001css\u7B49)\uFF0C\u4F46\u6267\u884C\u4E0A\u662F\u6709\u533A\u522B\u7684\u3002</p></blockquote><ul><li><code>prefetch</code>\uFF1A\u5176\u5229\u7528\u6D4F\u89C8\u5668\u7A7A\u95F2\u65F6\u95F4\u6765\u4E0B\u8F7D\u6216\u9884\u53D6\u7528\u6237\u5728\u4E0D\u4E45\u7684\u5C06\u6765\u53EF\u80FD\u8BBF\u95EE\u7684\u6587\u6863\u3002<code>&lt;link href=&quot;/js/xx.js&quot; rel=&quot;prefetch&quot;&gt;</code></li><li><code>preload</code> : \u53EF\u4EE5\u6307\u660E\u54EA\u4E9B\u8D44\u6E90\u662F\u5728\u9875\u9762\u52A0\u8F7D\u5B8C\u6210\u540E\u5373\u523B\u9700\u8981\u7684\uFF0C\u6D4F\u89C8\u5668\u5728\u4E3B\u6E32\u67D3\u673A\u5236\u4ECB\u5165\u524D\u5C31\u8FDB\u884C\u9884\u52A0\u8F7D\uFF0C\u8FD9\u4E00\u673A\u5236\u4F7F\u5F97\u8D44\u6E90\u53EF\u4EE5\u66F4\u65E9\u7684\u5F97\u5230\u52A0\u8F7D\u5E76\u53EF\u7528\uFF0C\u4E14\u66F4\u4E0D\u6613\u963B\u585E\u9875\u9762\u7684\u521D\u6B65\u6E32\u67D3\uFF0C\u8FDB\u800C\u63D0\u5347\u6027\u80FD\u3002 <code>&lt;link href=&quot;/js/xxx.js&quot; rel=&quot;preload&quot; as=&quot;script&quot;&gt;</code>\u9700\u8981 <code>as</code> \u6307\u5B9A\u8D44\u6E90\u7C7B\u578B<strong>\u76EE\u524D\u53EF\u7528\u7684\u5C5E\u6027\u7C7B\u578B\u6709\u5982\u4E0B</strong>\uFF1A</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>audio: \u97F3\u9891\u6587\u4EF6\u3002
document: \u4E00\u4E2A\u5C06\u8981\u88AB\u5D4C\u5165\u5230&lt;frame&gt;\u6216&lt;iframe&gt;\u5185\u90E8\u7684HTML\u6587\u6863\u3002
embed: \u4E00\u4E2A\u5C06\u8981\u88AB\u5D4C\u5165\u5230&lt;embed&gt;\u5143\u7D20\u5185\u90E8\u7684\u8D44\u6E90\u3002
fetch: \u90A3\u4E9B\u5C06\u8981\u901A\u8FC7fetch\u548CXHR\u8BF7\u6C42\u6765\u83B7\u53D6\u7684\u8D44\u6E90\uFF0C\u6BD4\u5982\u4E00\u4E2AArrayBuffer\u6216JSON\u6587\u4EF6\u3002
font: \u5B57\u4F53\u6587\u4EF6\u3002
image: \u56FE\u7247\u6587\u4EF6\u3002
object: \u4E00\u4E2A\u5C06\u4F1A\u88AB\u5D4C\u5165\u5230&lt;embed&gt;\u5143\u7D20\u5185\u7684\u6587\u4EF6\u3002
script: JavaScript\u6587\u4EF6\u3002
style: \u6837\u5F0F\u8868\u3002
track: WebVTT\u6587\u4EF6\u3002
worker: \u4E00\u4E2AJavaScript\u7684web worker\u6216shared worker\u3002
video: \u89C6\u9891\u6587\u4EF6\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div>`,3),qn={id:"_11-\u4ECB\u7ECD\u4E0B-viewport",tabindex:"-1"},jn=n("a",{class:"header-anchor",href:"#_11-\u4ECB\u7ECD\u4E0B-viewport","aria-hidden":"true"},"#",-1),Sn=s(),Cn={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_11-%E4%BB%8B%E7%BB%8D%E4%B8%8B-viewport",target:"_blank",rel:"noopener noreferrer"},Dn=s("#"),Fn=s("11 \u4ECB\u7ECD\u4E0B viewport"),Pn=t(`<div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=500, initial-scale=1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>width</code>\uFF1A\u9875\u9762\u5BBD\u5EA6\uFF0C\u53EF\u4EE5\u53D6\u503C\u5177\u4F53\u7684\u6570\u5B57\uFF0C\u4E5F\u53EF\u4EE5\u662F <code>device-width</code>\uFF0C\u8868\u793A\u8DDF\u8BBE\u5907\u5BBD\u5EA6\u76F8\u7B49\u3002</li><li><code>height</code>\uFF1A\u9875\u9762\u9AD8\u5EA6\uFF0C\u53EF\u4EE5\u53D6\u503C\u5177\u4F53\u7684\u6570\u5B57\uFF0C\u4E5F\u53EF\u4EE5\u662F <code>device-height</code>\uFF0C\u8868\u793A\u8DDF\u8BBE\u5907\u9AD8\u5EA6\u76F8\u7B49\u3002</li><li><code>initial-scale</code>\uFF1A\u521D\u59CB\u7F29\u653E\u6BD4\u4F8B\u3002</li><li><code>minimum-scale</code>\uFF1A\u6700\u5C0F\u7F29\u653E\u6BD4\u4F8B\u3002</li><li><code>maximum-scale</code>\uFF1A\u6700\u5927\u7F29\u653E\u6BD4\u4F8B\u3002</li><li><code>user-scalable</code>\uFF1A\u662F\u5426\u5141\u8BB8\u7528\u6237\u7F29\u653E\u3002</li></ul>`,2),Tn={id:"_12-\u5982\u4F55\u89E3\u51B3a\u6807\u70B9\u51FB\u540Ehover\u4E8B\u4EF6\u5931\u6548\u7684\u95EE\u9898",tabindex:"-1"},Nn=n("a",{class:"header-anchor",href:"#_12-\u5982\u4F55\u89E3\u51B3a\u6807\u70B9\u51FB\u540Ehover\u4E8B\u4EF6\u5931\u6548\u7684\u95EE\u9898","aria-hidden":"true"},"#",-1),Mn=s(),On={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_12-%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3a%E6%A0%87%E7%82%B9%E5%87%BB%E5%90%8Ehover%E4%BA%8B%E4%BB%B6%E5%A4%B1%E6%95%88%E7%9A%84%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},In=s("#"),Rn=s("12 \u5982\u4F55\u89E3\u51B3a\u6807\u70B9\u51FB\u540Ehover\u4E8B\u4EF6\u5931\u6548\u7684\u95EE\u9898?"),Vn=t(`<p>\u6539\u53D8a\u6807\u7B7Ecss\u5C5E\u6027\u7684\u6392\u5217\u987A\u5E8F</p><p>\u53EA\u9700\u8981\u8BB0\u4F4F<code>LoVe HAte</code>\u539F\u5219\u5C31\u53EF\u4EE5\u4E86(\u7231\u6068\u539F\u5219)\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>link\u2192visited\u2192hover\u2192active
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u6BD4\u5982\u4E0B\u9762\u9519\u8BEF\u7684\u4EE3\u7801\u987A\u5E8F\uFF1A</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">a:hover</span><span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">a:visited</span><span class="token punctuation">{</span> <span class="token comment">/* visited\u5728hover\u540E\u9762\uFF0C\u8FD9\u6837\u7684\u8BDDhover\u4E8B\u4EF6\u5C31\u5931\u6548\u4E86 */</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u6B63\u786E\u7684\u505A\u6CD5\u662F\u5C06\u4E24\u4E2A\u4E8B\u4EF6\u7684\u4F4D\u7F6E\u8C03\u6574\u4E00\u4E0B\u3002</p><p>\u6CE8\u610F\u26A0\uFE0F\u5404\u4E2A\u9636\u6BB5\u7684\u542B\u4E49\uFF1A</p><ul><li><code>a:link</code>\uFF1A\u672A\u8BBF\u95EE\u65F6\u7684\u6837\u5F0F\uFF0C\u4E00\u822C\u7701\u7565\u6210a</li><li><code>a:visited</code>\uFF1A\u5DF2\u7ECF\u8BBF\u95EE\u540E\u7684\u6837\u5F0F</li><li><code>a:hover</code>\uFF1A\u9F20\u6807\u79FB\u4E0A\u53BB\u65F6\u7684\u6837\u5F0F</li><li><code>a:active</code>\uFF1A\u9F20\u6807\u6309\u4E0B\u65F6\u7684\u6837\u5F0F</li></ul>`,8),Hn={id:"_13-\u70B9\u51FB\u4E00\u4E2Ainput\u4F9D\u6B21\u89E6\u53D1\u7684\u4E8B\u4EF6",tabindex:"-1"},Ln=n("a",{class:"header-anchor",href:"#_13-\u70B9\u51FB\u4E00\u4E2Ainput\u4F9D\u6B21\u89E6\u53D1\u7684\u4E8B\u4EF6","aria-hidden":"true"},"#",-1),Un=s(),Jn={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_13-%E7%82%B9%E5%87%BB%E4%B8%80%E4%B8%AAinput%E4%BE%9D%E6%AC%A1%E8%A7%A6%E5%8F%91%E7%9A%84%E4%BA%8B%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},Wn=s("#"),zn=s("13 \u70B9\u51FB\u4E00\u4E2Ainput\u4F9D\u6B21\u89E6\u53D1\u7684\u4E8B\u4EF6"),Gn=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> text <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;text&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
text<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;onclick&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
text<span class="token punctuation">.</span><span class="token function-variable function">onfocus</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;onfocus&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
text<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;onmousedown&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
text<span class="token punctuation">.</span><span class="token function-variable function">onmouseenter</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;onmouseenter&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u7B54\u6848\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&#39;onmouseenter&#39;</span>
<span class="token string">&#39;onmousedown&#39;</span>
<span class="token string">&#39;onfocus&#39;</span>
<span class="token string">&#39;onclick&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>`,3),$n={id:"_14-\u6709\u5199\u8FC7\u539F\u751F\u7684\u81EA\u5B9A\u4E49\u4E8B\u4EF6\u5417",tabindex:"-1"},Xn=n("a",{class:"header-anchor",href:"#_14-\u6709\u5199\u8FC7\u539F\u751F\u7684\u81EA\u5B9A\u4E49\u4E8B\u4EF6\u5417","aria-hidden":"true"},"#",-1),Kn=s(),Qn={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_14-%E6%9C%89%E5%86%99%E8%BF%87%E5%8E%9F%E7%94%9F%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E5%90%97",target:"_blank",rel:"noopener noreferrer"},Yn=s("#"),Zn=s("14 \u6709\u5199\u8FC7\u539F\u751F\u7684\u81EA\u5B9A\u4E49\u4E8B\u4EF6\u5417"),ns=t(`<p><strong>\u521B\u5EFA\u81EA\u5B9A\u4E49\u4E8B\u4EF6</strong></p><p>\u539F\u751F\u81EA\u5B9A\u4E49\u4E8B\u4EF6\u6709\u4E09\u79CD\u5199\u6CD5\uFF1A</p><ol><li>\u4F7F\u7528<code>Event</code></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> myEvent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span><span class="token string">&#39;event_name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol><li>\u4F7F\u7528<code>customEvent</code> \uFF08\u53EF\u4EE5\u4F20\u53C2\u6570\uFF09</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> myEvent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">&#39;event_name&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">detail</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token comment">// \u5C06\u9700\u8981\u4F20\u9012\u7684\u53C2\u6570\u653E\u5230\u8FD9\u91CC</span>
		<span class="token comment">// \u53EF\u4EE5\u5728\u76D1\u542C\u7684\u56DE\u8C03\u51FD\u6570\u4E2D\u83B7\u53D6\u5230\uFF1Aevent.detail</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol><li>\u4F7F\u7528<code>document.createEvent(&#39;CustomEvent&#39;)\u548CinitCustomEvent()</code></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> myEvent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createEvent</span><span class="token punctuation">(</span><span class="token string">&#39;CustomEvent&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// \u6CE8\u610F\u8FD9\u91CC\u662F\u4E3A&#39;CustomEvent&#39;</span>
myEvent<span class="token punctuation">.</span><span class="token function">initEvent</span><span class="token punctuation">(</span>
	<span class="token comment">// 1. event_name: \u4E8B\u4EF6\u540D\u79F0</span>
	<span class="token comment">// 2. canBubble: \u662F\u5426\u5192\u6CE1</span>
	<span class="token comment">// 3. cancelable: \u662F\u5426\u53EF\u4EE5\u53D6\u6D88\u9ED8\u8BA4\u884C\u4E3A</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><code>createEvent</code>\uFF1A\u521B\u5EFA\u4E00\u4E2A\u4E8B\u4EF6</li><li><code>initEvent</code>\uFF1A\u521D\u59CB\u5316\u4E00\u4E2A\u4E8B\u4EF6</li></ul><p>\u53EF\u4EE5\u770B\u5230\uFF0C<code>initEvent</code>\u53EF\u4EE5\u6307\u5B9A3\u4E2A\u53C2\u6570\u3002</p><p>\uFF08\u6709\u4E9B\u6587\u7AE0\u4E2D\u4F1A\u8BF4\u8FD8\u6709\u7B2C\u56DB\u4E2A\u53C2\u6570<code>detail</code>\uFF0C\u4F46\u662F\u6211\u67E5\u770B\u4E86<code>W3C</code>\u4E0A\u5E76\u6CA1\u6709\u8FD9\u4E2A\u53C2\u6570\uFF0C\u800C\u4E14\u5B9E\u8DF5\u4E86\u4E00\u4E0B\u4E5F\u6CA1\u6709\u6548\u679C\uFF09</p><p><strong>\u4E8B\u4EF6\u7684\u76D1\u542C</strong></p><p>\u81EA\u5B9A\u4E49\u4E8B\u4EF6\u7684\u76D1\u542C\u5176\u5B9E\u548C\u666E\u901A\u4E8B\u4EF6\u7684\u4E00\u6837\uFF0C\u4F7F\u7528<code>addEventListener</code>\u6765\u76D1\u542C\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;event_name&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>\u4E8B\u4EF6\u7684\u89E6\u53D1</strong></p><p>\u89E6\u53D1\u81EA\u5B9A\u4E49\u4E8B\u4EF6\u4F7F\u7528<code>dispatchEvent(myEvent)</code>\u3002</p><p>\u6CE8\u610F\u26A0\uFE0F\uFF0C\u8FD9\u91CC\u7684\u53C2\u6570\u662F\u8981\u81EA\u5B9A\u4E49\u4E8B\u4EF6\u7684\u5BF9\u8C61(\u4E5F\u5C31\u662F<code>myEvent</code>)\uFF0C\u800C\u4E0D\u662F\u81EA\u5B9A\u4E49\u4E8B\u4EF6\u7684\u540D\u79F0(<code>&#39;myEvent&#39;</code>)</p><p><strong>\u6848\u4F8B</strong></p><p>\u6765\u770B\u4E2A\u6848\u4F8B\u5427\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1.</span>
<span class="token comment">// let myEvent = new Event(&#39;myEvent&#39;);</span>
<span class="token comment">// 2.</span>
<span class="token comment">// let myEvent = new CustomEvent(&#39;myEvent&#39;, {</span>
<span class="token comment">//   detail: {</span>
<span class="token comment">//     name: &#39;lindaidai&#39;</span>
<span class="token comment">//   }</span>
<span class="token comment">// })</span>
<span class="token comment">// 3.</span>
<span class="token keyword">let</span> myEvent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createEvent</span><span class="token punctuation">(</span><span class="token string">&#39;CustomEvent&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myEvent<span class="token punctuation">.</span><span class="token function">initEvent</span><span class="token punctuation">(</span><span class="token string">&#39;myEvent&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;button&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;myEvent&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>detail<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  btn<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>myEvent<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div>`,20),ss={id:"_15-addeventlistener\u548Cattachevent\u7684\u533A\u522B",tabindex:"-1"},as=n("a",{class:"header-anchor",href:"#_15-addeventlistener\u548Cattachevent\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),es=s(),ts={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_15-addeventlistener%E5%92%8Cattachevent%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},ps=s("#"),os=s("15 addEventListener\u548CattachEvent\u7684\u533A\u522B\uFF1F"),cs=t("<ul><li>\u524D\u8005\u662F\u6807\u51C6\u6D4F\u89C8\u5668\u4E2D\u7684\u7528\u6CD5\uFF0C\u540E\u8005<code>IE8</code>\u4EE5\u4E0B</li><li><code>addEventListener</code>\u53EF\u6709\u5192\u6CE1\uFF0C\u53EF\u6709\u6355\u83B7\uFF1B<code>attachEvent</code>\u53EA\u6709\u5192\u6CE1\uFF0C\u6CA1\u6709\u6355\u83B7\u3002</li><li>\u524D\u8005\u4E8B\u4EF6\u540D\u4E0D\u5E26<code>on</code>\uFF0C\u540E\u8005\u5E26<code>on</code></li><li>\u524D\u8005\u56DE\u8C03\u51FD\u6570\u4E2D\u7684<code>this</code>\u6307\u5411\u5F53\u524D\u5143\u7D20\uFF0C\u540E\u8005\u6307\u5411<code>window</code></li></ul>",1),ls={id:"_16-addeventlistener\u51FD\u6570\u7684\u7B2C\u4E09\u4E2A\u53C2\u6570",tabindex:"-1"},rs=n("a",{class:"header-anchor",href:"#_16-addeventlistener\u51FD\u6570\u7684\u7B2C\u4E09\u4E2A\u53C2\u6570","aria-hidden":"true"},"#",-1),is=s(),us={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_16-addeventlistener%E5%87%BD%E6%95%B0%E7%9A%84%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%8F%82%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},ks=s("#"),ds=s("16 addEventListener\u51FD\u6570\u7684\u7B2C\u4E09\u4E2A\u53C2\u6570"),bs=n("p",null,[s("\u7B2C\u4E09\u4E2A\u53C2\u6570\u6D89\u53CA\u5230\u5192\u6CE1\u548C\u6355\u83B7\uFF0C\u662F"),n("code",null,"true"),s("\u65F6\u4E3A\u6355\u83B7\uFF0C\u662F"),n("code",null,"false"),s("\u5219\u4E3A\u5192\u6CE1\u3002")],-1),ms=n("blockquote",null,[n("p",null,[s("\u6216\u8005\u662F\u4E00\u4E2A\u5BF9\u8C61"),n("code",null,"{passive: true}"),s("\uFF0C\u9488\u5BF9\u7684\u662F"),n("code",null,"Safari"),s("\u6D4F\u89C8\u5668\uFF0C\u7981\u6B62/\u5F00\u542F\u4F7F\u7528\u6EDA\u52A8\u7684\u65F6\u5019\u8981\u7528\u5230\u3002")])],-1),hs={id:"_17-dom\u4E8B\u4EF6\u6D41\u662F\u4EC0\u4E48",tabindex:"-1"},_s=n("a",{class:"header-anchor",href:"#_17-dom\u4E8B\u4EF6\u6D41\u662F\u4EC0\u4E48","aria-hidden":"true"},"#",-1),gs=s(),Es={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_17-dom%E4%BA%8B%E4%BB%B6%E6%B5%81%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},fs=s("#"),vs=s("17 DOM\u4E8B\u4EF6\u6D41\u662F\u4EC0\u4E48\uFF1F"),ws=t("<p>\u4E8B\u4EF6\u53D1\u751F\u65F6\u4F1A\u5728\u5143\u7D20\u8282\u70B9\u4E4B\u95F4\u6309\u7167<strong>\u7279\u5B9A\u7684\u987A\u5E8F</strong>\u4F20\u64AD\uFF0C\u8FD9\u4E2A\u4F20\u64AD\u8FC7\u7A0B\u5C31\u53EB\u505ADOM\u4E8B\u4EF6\u6D41\u3002</p><blockquote><p>DOM\u4E8B\u4EF6\u6D41\u5206\u4E3A\u4E09\u4E2A\u9636\u6BB5\uFF1A</p></blockquote><ol><li>\u6355\u83B7\u9636\u6BB5\uFF1A\u4E8B\u4EF6\u4ECE<code>window</code>\u53D1\u51FA\uFF0C\u81EA\u4E0A\u800C\u4E0B\u5411\u76EE\u6807\u8282\u70B9\u4F20\u64AD\u7684\u9636\u6BB5</li><li>\u76EE\u6807\u9636\u6BB5\uFF1A\u771F\u6B63\u7684\u76EE\u6807\u9636\u6BB5\u6B63\u5728\u5904\u7406\u4E8B\u4EF6\u7684\u9636\u6BB5</li><li>\u5192\u6CE1\u9636\u6BB5\uFF1A\u4E8B\u4EF6\u4ECE\u76EE\u6807\u8282\u70B9\u81EA\u4E0B\u800C\u4E0A\u5411<code>window</code>\u4F20\u64AD\u7684\u9636\u6BB5</li></ol><p>(\u6CE8\u610F\u26A0\uFE0F\uFF1A<code>JS</code>\u4EE3\u7801\u53EA\u80FD\u6267\u884C\u6355\u83B7\u6216\u8005\u5192\u6CE1\u5176\u4E2D\u4E00\u4E2A\u9636\u6BB5\uFF0C\u8981\u4E48\u662F\u6355\u83B7\u8981\u4E48\u662F\u5192\u6CE1)</p>",4),ys={id:"_18-\u5192\u6CE1\u548C\u6355\u83B7\u7684\u5177\u4F53\u8FC7\u7A0B",tabindex:"-1"},xs=n("a",{class:"header-anchor",href:"#_18-\u5192\u6CE1\u548C\u6355\u83B7\u7684\u5177\u4F53\u8FC7\u7A0B","aria-hidden":"true"},"#",-1),As=s(),Bs={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_18-%E5%86%92%E6%B3%A1%E5%92%8C%E6%8D%95%E8%8E%B7%E7%9A%84%E5%85%B7%E4%BD%93%E8%BF%87%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},qs=s("#"),js=s("18 \u5192\u6CE1\u548C\u6355\u83B7\u7684\u5177\u4F53\u8FC7\u7A0B"),Ss=t(`<blockquote><p>\u5192\u6CE1\u6307\u7684\u662F\uFF1A\u5F53\u7ED9\u67D0\u4E2A\u76EE\u6807\u5143\u7D20\u7ED1\u5B9A\u4E86\u4E8B\u4EF6\u4E4B\u540E\uFF0C\u8FD9\u4E2A\u4E8B\u4EF6\u4F1A\u4F9D\u6B21\u5728\u5B83\u7684\u7236\u7EA7\u5143\u7D20\u4E2D\u88AB\u89E6\u53D1(\u5F53\u7136\u524D\u63D0\u662F\u8FD9\u4E2A\u7236\u7EA7\u5143\u7D20\u4E5F\u6709\u8FD9\u4E2A\u540C\u540D\u79F0\u7684\u4E8B\u4EF6\uFF0C\u6BD4\u5982\u5B50\u5143\u7D20\u548C\u7236\u5143\u7D20\u90FD\u7ED1\u5B9A\u4E86<code>click</code>\u4E8B\u4EF6\u5C31\u89E6\u53D1\u7236\u5143\u7D20\u7684<code>click</code>)\u3002</p></blockquote><p>\u6355\u83B7\u5219\u662F\u4ECE\u4E0A\u5C42\u5411\u4E0B\u5C42\u4F20\u9012\uFF0C\u4E0E\u5192\u6CE1\u76F8\u53CD\u3002</p><p>\uFF08\u975E\u5E38\u597D\u8BB0\uFF0C\u4F60\u5C31\u60F3\u60F3\u6C34\u5E95\u6709\u4E00\u4E2A\u6CE1\u6CE1\u4ECE\u4E0B\u9762\u5F80\u4E0A\u4F20\u7684\uFF0C\u6240\u4EE5\u662F\u5192\u6CE1\uFF09</p><p>\u6765\u770B\u770B\u8FD9\u4E2A\u4F8B\u5B50\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- \u4F1A\u4F9D\u6B21\u6267\u884C button li ul --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;ul&#39;</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;li&#39;</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;button&#39;</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>\u70B9\u51FB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;window&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;document&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>\u5192\u6CE1\u7ED3\u679C\uFF1A<code>button &gt; li &gt; ul &gt; document &gt; window</code></li><li>\u6355\u83B7\u7ED3\u679C\uFF1A<code>window &gt; document &gt; ul &gt; li &gt; button</code></li></ul>`,6),Cs={id:"_19-\u5173\u4E8E\u4E00\u4E9B\u517C\u5BB9\u6027",tabindex:"-1"},Ds=n("a",{class:"header-anchor",href:"#_19-\u5173\u4E8E\u4E00\u4E9B\u517C\u5BB9\u6027","aria-hidden":"true"},"#",-1),Fs=s(),Ps={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_19-%E5%85%B3%E4%BA%8E%E4%B8%80%E4%BA%9B%E5%85%BC%E5%AE%B9%E6%80%A7",target:"_blank",rel:"noopener noreferrer"},Ts=s("#"),Ns=s("19 \u5173\u4E8E\u4E00\u4E9B\u517C\u5BB9\u6027"),Ms=t("<ol><li><code>event</code>\u7684\u517C\u5BB9\u6027</li></ol><ul><li>\u5176\u5B83\u6D4F\u89C8\u5668<code>window.event</code></li><li>\u706B\u72D0\u4E0B\u6CA1\u6709<code>window.event</code>\uFF0C\u6240\u4EE5\u7528\u4F20\u5165\u7684\u53C2\u6570<code>ev</code>\u4EE3\u66FF</li><li>\u6700\u7EC8\u5199\u6CD5\uFF1A<code>var oEvent = ev || window.event</code></li></ul><ol><li>\u4E8B\u4EF6\u6E90\u7684\u517C\u5BB9\u6027</li></ol><ul><li>\u5176\u5B83\u6D4F\u89C8\u5668<code>event.target</code></li><li><code>IE</code>\u4E0B\u4E3A<code>event.srcElement</code></li><li>\u6700\u7EC8\u5199\u6CD5\uFF1A<code>var target = event.target || event.srcElement</code></li></ul><ol><li>\u963B\u6B62\u4E8B\u4EF6\u5192\u6CE1</li></ol><ul><li>\u5176\u5B83\u6D4F\u89C8\u5668<code>event.stopPropagation()</code></li><li><code>IE</code>\u4E0B\u4E3A<code>window.event.cancelBubble = true</code></li></ul><ol><li>\u963B\u6B62\u9ED8\u8BA4\u4E8B\u4EF6</li></ol><ul><li>\u5176\u5B83\u6D4F\u89C8\u5668<code>e.preventDefault()</code></li><li><code>IE</code>\u4E0B\u4E3A<code>window.event.returnValue = false</code></li></ul>",8),Os={id:"_20-\u5982\u4F55\u963B\u6B62\u5192\u6CE1\u548C\u9ED8\u8BA4\u4E8B\u4EF6-\u517C\u5BB9\u5199\u6CD5",tabindex:"-1"},Is=n("a",{class:"header-anchor",href:"#_20-\u5982\u4F55\u963B\u6B62\u5192\u6CE1\u548C\u9ED8\u8BA4\u4E8B\u4EF6-\u517C\u5BB9\u5199\u6CD5","aria-hidden":"true"},"#",-1),Rs=s(),Vs={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_20-%E5%A6%82%E4%BD%95%E9%98%BB%E6%AD%A2%E5%86%92%E6%B3%A1%E5%92%8C%E9%BB%98%E8%AE%A4%E4%BA%8B%E4%BB%B6-%E5%85%BC%E5%AE%B9%E5%86%99%E6%B3%95",target:"_blank",rel:"noopener noreferrer"},Hs=s("#"),Ls=s("20 \u5982\u4F55\u963B\u6B62\u5192\u6CE1\u548C\u9ED8\u8BA4\u4E8B\u4EF6(\u517C\u5BB9\u5199\u6CD5)"),Us=t(`<p>\u963B\u6B62\u5192\u6CE1\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">stopBubble</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// \u963B\u6B62\u5192\u6CE1</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>stopPropagation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u517C\u5BB9 IE</span>
    window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">stopDefault</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// \u963B\u6B62\u9ED8\u8BA4\u4E8B\u4EF6</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>preventDefault<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u517C\u5BB9 IE</span>
    window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div>`,2),Js={id:"_21-\u6240\u6709\u7684\u4E8B\u4EF6\u90FD\u6709\u5192\u6CE1\u5417",tabindex:"-1"},Ws=n("a",{class:"header-anchor",href:"#_21-\u6240\u6709\u7684\u4E8B\u4EF6\u90FD\u6709\u5192\u6CE1\u5417","aria-hidden":"true"},"#",-1),zs=s(),Gs={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_21-%E6%89%80%E6%9C%89%E7%9A%84%E4%BA%8B%E4%BB%B6%E9%83%BD%E6%9C%89%E5%86%92%E6%B3%A1%E5%90%97",target:"_blank",rel:"noopener noreferrer"},$s=s("#"),Xs=s("21 \u6240\u6709\u7684\u4E8B\u4EF6\u90FD\u6709\u5192\u6CE1\u5417\uFF1F"),Ks=n("p",null,"\u5E76\u4E0D\u662F\u6240\u6709\u7684\u4E8B\u4EF6\u90FD\u6709\u5192\u6CE1\u7684\uFF0C\u4F8B\u5982\u4EE5\u4E0B\u4E8B\u4EF6\u5C31\u6CA1\u6709\uFF1A",-1),Qs=n("ul",null,[n("li",null,[n("code",null,"onblur")]),n("li",null,[n("code",null,"onfocus")]),n("li",null,[n("code",null,"onmouseenter")]),n("li",null,[n("code",null,"onmouseleave")])],-1),Ys={id:"_22-\u62D6\u62FD\u6709\u54EA\u4E9B\u77E5\u8BC6\u70B9",tabindex:"-1"},Zs=n("a",{class:"header-anchor",href:"#_22-\u62D6\u62FD\u6709\u54EA\u4E9B\u77E5\u8BC6\u70B9","aria-hidden":"true"},"#",-1),na=s(),sa={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_22-%E6%8B%96%E6%8B%BD%E6%9C%89%E5%93%AA%E4%BA%9B%E7%9F%A5%E8%AF%86%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},aa=s("#"),ea=s("22 \u62D6\u62FD\u6709\u54EA\u4E9B\u77E5\u8BC6\u70B9"),ta=t("<ol><li>\u53EF\u4EE5\u901A\u8FC7\u7ED9\u6807\u7B7E\u8BBE\u7F6E<code>draggable</code>\u5C5E\u6027\u6765\u5B9E\u73B0\u5143\u7D20\u7684\u62D6\u62FD\uFF0C<code>img\u548Ca\u6807\u7B7E</code>\u9ED8\u8BA4\u662F\u53EF\u4EE5\u62D6\u62FD\u7684</li><li>\u62D6\u62FD\u8005\u8EAB\u4E0A\u7684\u4E09\u4E2A\u4E8B\u4EF6\uFF1A<code>ondragstart</code>\u3001<code>ondrag</code>\u3001<code>ondragend</code></li><li>\u62D6\u62FD\u8981\u653E\u5230\u7684\u5143\u7D20\uFF1A<code>ondragenter</code>\u3001<code>ondragover</code>\u3001<code>ondragleave</code>\u3001<code>ondrap</code></li></ol>",1),pa={id:"_23-offset\u3001scroll\u3001client\u7684\u533A\u522B",tabindex:"-1"},oa=n("a",{class:"header-anchor",href:"#_23-offset\u3001scroll\u3001client\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),ca=s(),la={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_23-offset%E3%80%81scroll%E3%80%81client%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},ra=s("#"),ia=s("23 offset\u3001scroll\u3001client\u7684\u533A\u522B"),ua=t("<p><strong>client</strong>:</p><ul><li><code>oEvent.clientX</code>\u662F\u6307\u9F20\u6807\u5230\u53EF\u89C6\u533A\u5DE6\u8FB9\u6846\u7684\u8DDD\u79BB\u3002</li><li><code>oEvent.clientY</code>\u662F\u6307\u9F20\u6807\u5230\u53EF\u89C6\u533A\u4E0A\u8FB9\u6846\u7684\u8DDD\u79BB\u3002</li><li><code>clientWidth</code>\u662F\u6307\u53EF\u89C6\u533A\u7684\u5BBD\u5EA6\u3002</li><li><code>clientHeight</code>\u662F\u6307\u53EF\u89C6\u533A\u7684\u9AD8\u5EA6\u3002</li><li><code>clientLeft</code>\u83B7\u53D6\u5DE6\u8FB9\u6846\u7684\u5BBD\u5EA6\u3002</li><li><code>clientTop</code>\u83B7\u53D6\u4E0A\u8FB9\u6846\u7684\u5BBD\u5EA6\u3002</li></ul><p><strong>offset</strong>:</p><ul><li><code>offsetWidth</code>\u662F\u6307div\u7684\u5BBD\u5EA6\uFF08\u5305\u62ECdiv\u7684\u8FB9\u6846\uFF09</li><li><code>offsetHeight</code>\u662F\u6307div\u7684\u9AD8\u5EA6\uFF08\u5305\u62ECdiv\u7684\u8FB9\u6846\uFF09</li><li><code>offsetLeft</code>\u662F\u6307div\u5230\u6574\u4E2A\u9875\u9762\u5DE6\u8FB9\u6846\u7684\u8DDD\u79BB\uFF08\u4E0D\u5305\u62ECdiv\u7684\u8FB9\u6846\uFF09</li><li><code>offsetTop</code>\u662F\u6307div\u5230\u6574\u4E2A\u9875\u9762\u4E0A\u8FB9\u6846\u7684\u8DDD\u79BB\uFF08\u4E0D\u5305\u62ECdiv\u7684\u8FB9\u6846\uFF09</li></ul><p><strong>scroll</strong>:</p><ul><li><code>scrollTop</code>\u662F\u6307\u53EF\u89C6\u533A\u9876\u90E8\u8FB9\u6846\u4E0E\u6574\u4E2A\u9875\u9762\u4E0A\u90E8\u8FB9\u6846\u7684\u770B\u4E0D\u5230\u7684\u533A\u57DF\u3002</li><li><code>scrollLeft</code>\u662F\u6307\u53EF\u89C6\u533A\u5DE6\u8FB9\u8FB9\u6846\u4E0E\u6574\u4E2A\u9875\u9762\u5DE6\u8FB9\u8FB9\u6846\u7684\u770B\u4E0D\u5230\u7684\u533A\u57DF\u3002</li><li><code>scrollWidth</code>\u662F\u6307\u5DE6\u8FB9\u770B\u4E0D\u5230\u7684\u533A\u57DF\u52A0\u53EF\u89C6\u533A\u52A0\u53F3\u8FB9\u770B\u4E0D\u5230\u7684\u533A\u57DF\u5373\u6574\u4E2A\u9875\u9762\u7684\u5BBD\u5EA6\uFF08\u5305\u62EC\u8FB9\u6846\uFF09</li><li><code>scrollHeight</code>\u662F\u6307\u4E0A\u8FB9\u770B\u4E0D\u5230\u7684\u533A\u57DF\u52A0\u53EF\u89C6\u533A\u52A0\u53F3\u8FB9\u770B\u4E0D\u5230\u7684\u533A\u57DF\u5373\u6574\u4E2A\u9875\u9762\u7684\u9AD8\u5EA6\uFF08\u5305\u62EC\u8FB9\u6846\uFF09</li></ul>",6),ka={id:"_24-target-blank-\u6709\u54EA\u4E9B\u95EE\u9898",tabindex:"-1"},da=n("a",{class:"header-anchor",href:"#_24-target-blank-\u6709\u54EA\u4E9B\u95EE\u9898","aria-hidden":"true"},"#",-1),ba=s(),ma={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_24-target-blank-%E6%9C%89%E5%93%AA%E4%BA%9B%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},ha=s("#"),_a=s('24 target="_blank"\u6709\u54EA\u4E9B\u95EE\u9898\uFF1F'),ga=t("<p><strong>\u5B58\u5728\u95EE\u9898\uFF1A</strong></p><ol><li>\u5B89\u5168\u9690\u60A3\uFF1A\u65B0\u6253\u5F00\u7684\u7A97\u53E3\u53EF\u4EE5\u901A\u8FC7<code>window.opener</code>\u83B7\u53D6\u5230\u6765\u6E90\u9875\u9762\u7684<code>window</code>\u5BF9\u8C61\u5373\u4F7F\u8DE8\u57DF\u4E5F\u53EF\u4EE5\u3002\u67D0\u4E9B\u5C5E\u6027\u7684\u8BBF\u95EE\u88AB\u62E6\u622A\uFF0C\u662F\u56E0\u4E3A\u8DE8\u57DF\u5B89\u5168\u7B56\u7565\u7684\u9650\u5236\u3002 \u4F46\u662F\uFF0C\u6BD4\u5982\u4FEE\u6539<code>window.opener.location</code>\u7684\u503C\uFF0C\u6307\u5411\u53E6\u5916\u4E00\u4E2A\u5730\u5740\uFF0C\u8FD9\u6837\u65B0\u7A97\u53E3\u6709\u53EF\u80FD\u4F1A\u628A\u539F\u6765\u7684\u7F51\u9875\u5730\u5740\u6539\u4E86\u5E76\u8FDB\u884C\u9875\u9762\u4F2A\u88C5\u6765\u6B3A\u9A97\u7528\u6237\u3002</li><li>\u65B0\u6253\u5F00\u7684\u7A97\u53E3\u4E0E\u539F\u9875\u9762\u7A97\u53E3\u5171\u7528\u4E00\u4E2A\u8FDB\u7A0B\uFF0C\u82E5\u662F\u65B0\u9875\u9762\u6709\u6027\u80FD\u4E0D\u597D\u7684\u4EE3\u7801\u4E5F\u4F1A\u5F71\u54CD\u539F\u9875\u9762</li></ol><p><strong>\u89E3\u51B3\u65B9\u6848\uFF1A</strong></p><ol><li>\u5C3D\u91CF\u4E0D\u7528<code>target=&quot;_blank&quot;</code></li><li>\u5982\u679C\u4E00\u5B9A\u8981\u7528\uFF0C\u9700\u8981\u52A0\u4E0A<code>rel=&quot;noopener&quot;</code>\u6216\u8005<code>rel=&quot;noreferrer&quot;</code>\u3002\u8FD9\u6837\u65B0\u7A97\u53E3\u7684<code>window.openner</code>\u5C31\u662F<code>null</code>\u4E86\uFF0C\u800C\u4E14\u4F1A\u8BA9\u65B0\u7A97\u53E3\u8FD0\u884C\u5728\u72EC\u7ACB\u7684\u8FDB\u7A0B\u91CC\uFF0C\u4E0D\u4F1A\u62D6\u7D2F\u539F\u6765\u9875\u9762\u7684\u8FDB\u7A0B\u3002(\u4E0D\u8FC7\uFF0C\u6709\u4E9B\u6D4F\u89C8\u5668\u5BF9\u6027\u80FD\u505A\u4E86\u4F18\u5316\uFF0C\u5373\u4F7F\u4E0D\u52A0\u8FD9\u4E2A\u5C5E\u6027\uFF0C\u65B0\u7A97\u53E3\u4E5F\u4F1A\u5728\u72EC\u7ACB\u8FDB\u7A0B\u6253\u5F00\u3002\u4E0D\u8FC7\u4E3A\u4E86\u5B89\u5168\u8003\u8651\uFF0C\u8FD8\u662F\u52A0\u4E0A\u5427\u3002)</li></ol>",4),Ea={id:"_25-children\u4EE5\u53CAchildnodes\u7684\u533A\u522B",tabindex:"-1"},fa=n("a",{class:"header-anchor",href:"#_25-children\u4EE5\u53CAchildnodes\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),va=s(),wa={href:"http://interview.poetries.top/excellent-docs/1-HTML%E6%A8%A1%E5%9D%97.html#_25-children%E4%BB%A5%E5%8F%8Achildnodes%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},ya=s("#"),xa=s("25 children\u4EE5\u53CAchildNodes\u7684\u533A\u522B"),Aa=t('<ul><li><code>children</code>\u548C\u53EA\u83B7\u53D6\u8BE5\u8282\u70B9\u4E0B\u7684\u6240\u6709<code>element</code>\u8282\u70B9</li><li><code>childNodes</code>\u4E0D\u4EC5\u4EC5\u83B7\u53D6<code>element</code>\u8282\u70B9\u8FD8\u4F1A\u83B7\u53D6\u5143\u7D20\u6807\u7B7E\u4E2D\u7684\u7A7A\u767D\u8282\u70B9</li><li><code>firstElementChild</code>\u53EA\u83B7\u53D6\u8BE5\u8282\u70B9\u4E0B\u7684\u7B2C\u4E00\u4E2A<code>element</code>\u8282\u70B9</li><li><code>firstChild</code>\u4F1A\u83B7\u53D6\u7A7A\u767D\u8282\u70B9</li></ul><h1 id="_2-css\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#_2-css\u6A21\u5757" aria-hidden="true">#</a> 2 CSS\u6A21\u5757</h1><h2 id="_1-\u76D2\u6A21\u578B" tabindex="-1"><a class="header-anchor" href="#_1-\u76D2\u6A21\u578B" aria-hidden="true">#</a> 1 \u76D2\u6A21\u578B</h2><p>content\uFF08\u5143\u7D20\u5185\u5BB9\uFF09 + padding\uFF08\u5185\u8FB9\u8DDD\uFF09 + border\uFF08\u8FB9\u6846\uFF09 + margin\uFF08\u5916\u8FB9\u8DDD\uFF09</p><blockquote><p>\u9875\u9762\u6E32\u67D3\u65F6\uFF0C<code>dom</code> \u5143\u7D20\u6240\u91C7\u7528\u7684 \u5E03\u5C40\u6A21\u578B\u3002\u53EF\u901A\u8FC7<code>box-sizing</code>\u8FDB\u884C\u8BBE\u7F6E\u3002\u6839\u636E\u8BA1\u7B97\u5BBD\u9AD8\u7684\u533A\u57DF\u53EF\u5206\u4E3A</p></blockquote><p><strong>box-sizing</strong></p><ul><li><code>content-box</code>\uFF1A\u9ED8\u8BA4\u503C\uFF0C\u603B\u5BBD\u5EA6 = <code>margin</code> + <code>border</code> + <code>padding</code> + <code>width</code></li><li><code>border-box</code>\uFF1A\u76D2\u5B50\u5BBD\u5EA6\u5305\u542B <code>padding</code> \u548C <code>border</code>\uFF0C<code>\u603B\u5BBD\u5EA6 = margin + width</code></li><li><code>inherit</code>\uFF1A\u4ECE\u7236\u5143\u7D20\u7EE7\u627F <code>box-sizing</code> \u5C5E\u6027</li></ul>',7),Ba={id:"_2-bfc",tabindex:"-1"},qa=n("a",{class:"header-anchor",href:"#_2-bfc","aria-hidden":"true"},"#",-1),ja=s(),Sa={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_2-bfc",target:"_blank",rel:"noopener noreferrer"},Ca=s("#"),Da=s("2 BFC"),Fa=t("<blockquote><p>\u5757\u7EA7\u683C\u5F0F\u5316\u4E0A\u4E0B\u6587\uFF0C\u662F\u4E00\u4E2A\u72EC\u7ACB\u7684\u6E32\u67D3\u533A\u57DF\uFF0C\u8BA9\u5904\u4E8E <code>BFC</code> \u5185\u90E8\u7684\u5143\u7D20\u4E0E\u5916\u90E8\u7684\u5143\u7D20\u76F8\u4E92\u9694\u79BB\uFF0C\u4F7F\u5185\u5916\u5143\u7D20\u7684\u5B9A\u4F4D\u4E0D\u4F1A\u76F8\u4E92\u5F71\u54CD\u3002</p></blockquote><blockquote><p>IE\u4E0B\u4E3A <code>Layout</code>\uFF0C\u53EF\u901A\u8FC7 <code>zoom:1</code> \u89E6\u53D1</p></blockquote><p><strong>\u89E6\u53D1\u6761\u4EF6:</strong></p><ul><li>\u6839\u5143\u7D20</li><li><code>position: absolute/fixed</code></li><li><code>display: inline-block / table</code></li><li><code>float</code> \u5143\u7D20</li><li><code>ovevflow !== visible</code></li></ul><p><strong>\u89C4\u5219:</strong></p><ul><li>\u5C5E\u4E8E\u540C\u4E00\u4E2A <code>BFC</code> \u7684\u4E24\u4E2A\u76F8\u90BB <code>Box</code> \u5782\u76F4\u6392\u5217</li><li>\u5C5E\u4E8E\u540C\u4E00\u4E2A <code>BFC</code> \u7684\u4E24\u4E2A\u76F8\u90BB <code>Box</code> \u7684 <code>margin</code> \u4F1A\u53D1\u751F\u91CD\u53E0</li><li><code>BFC</code> \u4E2D\u5B50\u5143\u7D20\u7684 <code>margin box</code> \u7684\u5DE6\u8FB9\uFF0C \u4E0E\u5305\u542B\u5757 (BFC) <code>border box</code>\u7684\u5DE6\u8FB9\u76F8\u63A5\u89E6 (\u5B50\u5143\u7D20 <code>absolute</code> \u9664\u5916)</li><li><code>BFC</code> \u7684\u533A\u57DF\u4E0D\u4F1A\u4E0E <code>float</code> \u7684\u5143\u7D20\u533A\u57DF\u91CD\u53E0</li><li>\u8BA1\u7B97 <code>BFC</code> \u7684\u9AD8\u5EA6\u65F6\uFF0C\u6D6E\u52A8\u5B50\u5143\u7D20\u4E5F\u53C2\u4E0E\u8BA1\u7B97</li><li>\u6587\u5B57\u5C42\u4E0D\u4F1A\u88AB\u6D6E\u52A8\u5C42\u8986\u76D6\uFF0C\u73AF\u7ED5\u4E8E\u5468\u56F4</li></ul><p><strong>\u5E94\u7528:</strong></p><ul><li>\u963B\u6B62<code>margin</code>\u91CD\u53E0</li><li>\u53EF\u4EE5\u5305\u542B\u6D6E\u52A8\u5143\u7D20 \u2014\u2014 \u6E05\u9664\u5185\u90E8\u6D6E\u52A8(\u6E05\u9664\u6D6E\u52A8\u7684\u539F\u7406\u662F\u4E24\u4E2A<code>div</code>\u90FD\u4F4D\u4E8E\u540C\u4E00\u4E2A <code>BFC</code> \u533A\u57DF\u4E4B\u4E2D)</li><li>\u81EA\u9002\u5E94\u4E24\u680F\u5E03\u5C40</li><li>\u53EF\u4EE5\u963B\u6B62\u5143\u7D20\u88AB\u6D6E\u52A8\u5143\u7D20\u8986\u76D6</li></ul>",8),Pa={id:"_3-\u5C42\u53E0\u4E0A\u4E0B\u6587",tabindex:"-1"},Ta=n("a",{class:"header-anchor",href:"#_3-\u5C42\u53E0\u4E0A\u4E0B\u6587","aria-hidden":"true"},"#",-1),Na=s(),Ma={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_3-%E5%B1%82%E5%8F%A0%E4%B8%8A%E4%B8%8B%E6%96%87",target:"_blank",rel:"noopener noreferrer"},Oa=s("#"),Ia=s("3 \u5C42\u53E0\u4E0A\u4E0B\u6587"),Ra=t(`<blockquote><p>\u5143\u7D20\u63D0\u5347\u4E3A\u4E00\u4E2A\u6BD4\u8F83\u7279\u6B8A\u7684\u56FE\u5C42\uFF0C\u5728\u4E09\u7EF4\u7A7A\u95F4\u4E2D (z\u8F74) \u9AD8\u51FA\u666E\u901A\u5143\u7D20\u4E00\u7B49\u3002</p></blockquote><p><strong>\u89E6\u53D1\u6761\u4EF6</strong></p><ul><li><p>\u6839\u5C42\u53E0\u4E0A\u4E0B\u6587(<code>html</code>)</p></li><li><p><code>position</code></p></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>css3
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5C5E\u6027</p><ul><li><code>flex</code></li><li><code>transform</code></li><li><code>opacity</code></li><li><code>filter</code></li><li><code>will-change</code></li><li><code>webkit-overflow-scrolling</code></li></ul></li></ul><p><strong>\u5C42\u53E0\u7B49\u7EA7\uFF1A\u5C42\u53E0\u4E0A\u4E0B\u6587\u5728z\u8F74\u4E0A\u7684\u6392\u5E8F</strong></p><ul><li>\u5728\u540C\u4E00\u5C42\u53E0\u4E0A\u4E0B\u6587\u4E2D\uFF0C\u5C42\u53E0\u7B49\u7EA7\u624D\u6709\u610F\u4E49</li><li><code>z-index</code>\u7684\u4F18\u5148\u7EA7\u6700\u9AD8</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/09/111.png" alt="img"></p>`,6),Va={id:"_4-\u5C45\u4E2D\u5E03\u5C40",tabindex:"-1"},Ha=n("a",{class:"header-anchor",href:"#_4-\u5C45\u4E2D\u5E03\u5C40","aria-hidden":"true"},"#",-1),La=s(),Ua={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_4-%E5%B1%85%E4%B8%AD%E5%B8%83%E5%B1%80",target:"_blank",rel:"noopener noreferrer"},Ja=s("#"),Wa=s("4 \u5C45\u4E2D\u5E03\u5C40"),za={id:"\u5DE6\u53F3\u5C45\u4E2D",tabindex:"-1"},Ga=n("a",{class:"header-anchor",href:"#\u5DE6\u53F3\u5C45\u4E2D","aria-hidden":"true"},"#",-1),$a=s(),Xa={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#%E5%B7%A6%E5%8F%B3%E5%B1%85%E4%B8%AD",target:"_blank",rel:"noopener noreferrer"},Ka=s("#"),Qa=s("\u5DE6\u53F3\u5C45\u4E2D"),Ya=t(`<ul><li>\u884C\u5185\u5143\u7D20: <code>text-align: center</code></li><li>\u5B9A\u5BBD\u5757\u72B6\u5143\u7D20: \u5DE6\u53F3 <code>margin</code> \u503C\u4E3A <code>auto</code></li><li>\u4E0D\u5B9A\u5BBD\u5757\u72B6\u5143\u7D20: <code>table</code>\u5E03\u5C40\uFF0C<code>position + transform</code></li></ul><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* \u65B9\u68481 */</span>
<span class="token selector">.wrap</span> <span class="token punctuation">{</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center
<span class="token punctuation">}</span>
<span class="token selector">.center</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline<span class="token punctuation">;</span>
  <span class="token comment">/* or */</span>
  <span class="token comment">/* display: inline-block; */</span>
<span class="token punctuation">}</span>
<span class="token comment">/* \u65B9\u68482 */</span>
<span class="token selector">.center</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* \u65B9\u68482 */</span>
<span class="token selector">.wrap</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.center</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absulote<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div>`,2),Za={id:"\u4E0A\u4E0B\u5782\u76F4\u5C45\u4E2D",tabindex:"-1"},ne=n("a",{class:"header-anchor",href:"#\u4E0A\u4E0B\u5782\u76F4\u5C45\u4E2D","aria-hidden":"true"},"#",-1),se=s(),ae={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#%E4%B8%8A%E4%B8%8B%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD",target:"_blank",rel:"noopener noreferrer"},ee=s("#"),te=s("\u4E0A\u4E0B\u5782\u76F4\u5C45\u4E2D"),pe=t(`<ul><li>\u5B9A\u9AD8\uFF1A<code>margin</code>\uFF0C<code>position + margin</code>(\u8D1F\u503C)</li><li>\u4E0D\u5B9A\u9AD8\uFF1A<code>position</code> + <code>transform</code>\uFF0C<code>flex</code>\uFF0C<code>IFC + vertical-align:middle</code></li></ul><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* \u5B9A\u9AD8\u65B9\u68481 */</span>
<span class="token selector">.center</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 50px 0<span class="token punctuation">;</span>   
<span class="token punctuation">}</span>
<span class="token comment">/* \u5B9A\u9AD8\u65B9\u68482 */</span>
<span class="token selector">.center</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> -25px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* \u4E0D\u5B9A\u9AD8\u65B9\u68481 */</span>
<span class="token selector">.center</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* \u4E0D\u5B9A\u9AD8\u65B9\u68482 */</span>
<span class="token selector">.wrap</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.center</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* \u4E0D\u5B9A\u9AD8\u65B9\u68483 */</span>
<span class="token comment">/* \u8BBE\u7F6E inline-block \u5219\u4F1A\u5728\u5916\u5C42\u4EA7\u751F IFC\uFF0C\u9AD8\u5EA6\u8BBE\u4E3A 100% \u6491\u5F00 wrap \u7684\u9AD8\u5EA6 */</span>
<span class="token selector">.wrap::before</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.wrap</span> <span class="token punctuation">{</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.center</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>  
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div>`,2),oe={id:"_5-\u9009\u62E9\u5668\u6743\u91CD\u8BA1\u7B97\u65B9\u5F0F",tabindex:"-1"},ce=n("a",{class:"header-anchor",href:"#_5-\u9009\u62E9\u5668\u6743\u91CD\u8BA1\u7B97\u65B9\u5F0F","aria-hidden":"true"},"#",-1),le=s(),re={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_5-%E9%80%89%E6%8B%A9%E5%99%A8%E6%9D%83%E9%87%8D%E8%AE%A1%E7%AE%97%E6%96%B9%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},ie=s("#"),ue=s("5 \u9009\u62E9\u5668\u6743\u91CD\u8BA1\u7B97\u65B9\u5F0F"),ke=t("<blockquote><p>!important &gt; \u5185\u8054\u6837\u5F0F = \u5916\u8054\u6837\u5F0F &gt; ID\u9009\u62E9\u5668 &gt; \u7C7B\u9009\u62E9\u5668 = \u4F2A\u7C7B\u9009\u62E9\u5668 = \u5C5E\u6027\u9009\u62E9\u5668 &gt; \u5143\u7D20\u9009\u62E9\u5668 = \u4F2A\u5143\u7D20\u9009\u62E9\u5668 &gt; \u901A\u914D\u9009\u62E9\u5668 = \u540E\u4EE3\u9009\u62E9\u5668 = \u5144\u5F1F\u9009\u62E9\u5668</p></blockquote><ol><li>\u5C5E\u6027\u540E\u9762\u52A0<code>!import</code>\u4F1A\u8986\u76D6\u9875\u9762\u5185\u4EFB\u4F55\u4F4D\u7F6E\u5B9A\u4E49\u7684\u5143\u7D20\u6837\u5F0F</li><li>\u4F5C\u4E3A<code>style</code>\u5C5E\u6027\u5199\u5728\u5143\u7D20\u5185\u7684\u6837\u5F0F</li><li><code>id</code>\u9009\u62E9\u5668</li><li>\u7C7B\u9009\u62E9\u5668</li><li>\u6807\u7B7E\u9009\u62E9\u5668</li><li>\u901A\u914D\u7B26\u9009\u62E9\u5668\uFF08<code>*</code>\uFF09</li><li>\u6D4F\u89C8\u5668\u81EA\u5B9A\u4E49\u6216\u7EE7\u627F</li></ol><p><strong>\u540C\u4E00\u7EA7\u522B\uFF1A\u540E\u5199\u7684\u4F1A\u8986\u76D6\u5148\u5199\u7684</strong></p><blockquote><p>css\u9009\u62E9\u5668\u7684\u89E3\u6790\u539F\u5219\uFF1A\u9009\u62E9\u5668\u5B9A\u4F4DDOM\u5143\u7D20\u662F\u4ECE\u53F3\u5F80\u5DE6\u7684\u65B9\u5411\uFF0C\u8FD9\u6837\u53EF\u4EE5\u5C3D\u65E9\u7684\u8FC7\u6EE4\u6389\u4E00\u4E9B\u4E0D\u5FC5\u8981\u7684\u6837\u5F0F\u89C4\u5219\u548C\u5143\u7D20</p></blockquote>",4),de={id:"_6-\u6E05\u9664\u6D6E\u52A8",tabindex:"-1"},be=n("a",{class:"header-anchor",href:"#_6-\u6E05\u9664\u6D6E\u52A8","aria-hidden":"true"},"#",-1),me=s(),he={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_6-%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8A%A8",target:"_blank",rel:"noopener noreferrer"},_e=s("#"),ge=s("6 \u6E05\u9664\u6D6E\u52A8"),Ee=t(`<ol><li>\u5728\u6D6E\u52A8\u5143\u7D20\u540E\u9762\u6DFB\u52A0 <code>clear:both</code>\u7684\u7A7A <code>div</code> \u5143\u7D20</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">clear</span><span class="token punctuation">:</span>both</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol><li>\u7ED9\u7236\u5143\u7D20\u6DFB\u52A0 <code>overflow:hidden</code> \u6216\u8005 <code>auto</code> \u6837\u5F0F\uFF0C\u89E6\u53D1<code>BFC</code></li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
.container{
    width: 300px;
    background-color: #aaa;
    overflow:hidden;
    zoom:1;   /*IE6*/
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol><li>\u4F7F\u7528\u4F2A\u5143\u7D20\uFF0C\u4E5F\u662F\u5728\u5143\u7D20\u672B\u5C3E\u6DFB\u52A0\u4E00\u4E2A\u70B9\u5E76\u5E26\u6709 <code>clear: both</code> \u5C5E\u6027\u7684\u5143\u7D20\u5B9E\u73B0\u7684\u3002</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container clearfix<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
.clearfix{
    zoom: 1; /*IE6*/
}
.clearfix:after{
    content: &quot;.&quot;;
    height: 0;
    clear: both;
    display: block;
    visibility: hidden;
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>\u63A8\u8350\u4F7F\u7528\u7B2C\u4E09\u79CD\u65B9\u6CD5\uFF0C\u4E0D\u4F1A\u5728\u9875\u9762\u65B0\u589Ediv\uFF0C\u6587\u6863\u7ED3\u6784\u66F4\u52A0\u6E05\u6670</p></blockquote>`,7),fe={id:"_7-link-\u4E0E-import-\u7684\u533A\u522B",tabindex:"-1"},ve=n("a",{class:"header-anchor",href:"#_7-link-\u4E0E-import-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),we=s(),ye={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_7-link-%E4%B8%8E-import-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},xe=s("#"),Ae=s("7 link \u4E0E @import \u7684\u533A\u522B"),Be=t("<ul><li><code>link</code>\u529F\u80FD\u8F83\u591A\uFF0C\u53EF\u4EE5\u5B9A\u4E49 <code>RSS</code>\uFF0C\u5B9A\u4E49 <code>Rel</code> \u7B49\u4F5C\u7528\uFF0C\u800C<code>@import</code>\u53EA\u80FD\u7528\u4E8E\u52A0\u8F7D <code>css</code></li><li>\u5F53\u89E3\u6790\u5230<code>link</code>\u65F6\uFF0C\u9875\u9762\u4F1A\u540C\u6B65\u52A0\u8F7D\u6240\u5F15\u7684 <code>css</code>\uFF0C\u800C<code>@import</code>\u6240\u5F15\u7528\u7684 <code>css</code> \u4F1A\u7B49\u5230\u9875\u9762\u52A0\u8F7D\u5B8C\u624D\u88AB\u52A0\u8F7D</li><li><code>@import</code>\u9700\u8981 <code>IE5</code> \u4EE5\u4E0A\u624D\u80FD\u4F7F\u7528</li><li><code>link</code>\u53EF\u4EE5\u4F7F\u7528 <code>js</code> \u52A8\u6001\u5F15\u5165\uFF0C<code>@import</code>\u4E0D\u884C</li></ul>",1),qe={id:"_8-css3\u7684\u65B0\u7279\u6027",tabindex:"-1"},je=n("a",{class:"header-anchor",href:"#_8-css3\u7684\u65B0\u7279\u6027","aria-hidden":"true"},"#",-1),Se=s(),Ce={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_8-css3%E7%9A%84%E6%96%B0%E7%89%B9%E6%80%A7",target:"_blank",rel:"noopener noreferrer"},De=s("#"),Fe=s("8 CSS3\u7684\u65B0\u7279\u6027"),Pe=t("<ul><li><code>transition</code>\uFF1A\u8FC7\u6E21</li><li><code>transform</code>: \u65CB\u8F6C\u3001\u7F29\u653E\u3001\u79FB\u52A8\u6216\u503E\u659C</li><li><code>animation</code>: \u52A8\u753B</li><li><code>gradient</code>: \u6E10\u53D8</li><li><code>box-shadow</code>: \u9634\u5F71</li><li><code>border-radius</code>: \u5706\u89D2</li><li><code>word-break</code>: <code>normal|break-all|keep-all</code>; \u6587\u5B57\u6362\u884C(\u9ED8\u8BA4\u89C4\u5219|\u5355\u8BCD\u4E5F\u53EF\u4EE5\u6362\u884C|\u53EA\u5728\u534A\u89D2\u7A7A\u683C\u6216\u8FDE\u5B57\u7B26\u6362\u884C)</li><li><code>text-overflow</code>: \u6587\u5B57\u8D85\u51FA\u90E8\u5206\u5904\u7406</li><li><code>text-shadow</code>: \u6C34\u5E73\u9634\u5F71\uFF0C\u5782\u76F4\u9634\u5F71\uFF0C\u6A21\u7CCA\u7684\u8DDD\u79BB\uFF0C\u4EE5\u53CA\u9634\u5F71\u7684\u989C\u8272\u3002</li><li><code>box-sizing</code>: <code>content-box|border-box</code> \u76D2\u6A21\u578B</li><li>\u5A92\u4F53\u67E5\u8BE2 <code>@media screen and (max-width: 960px) {}</code>\u8FD8\u6709\u6253\u5370<code>print</code></li></ul><p><strong>transition\u548Canimation\u7684\u533A\u522B</strong></p><blockquote><p><code>Animation</code>\u548C<code>transition</code>\u5927\u90E8\u5206\u5C5E\u6027\u662F\u76F8\u540C\u7684\uFF0C\u4ED6\u4EEC\u90FD\u662F\u968F\u65F6\u95F4\u6539\u53D8\u5143\u7D20\u7684\u5C5E\u6027\u503C\uFF0C\u4ED6\u4EEC\u7684\u4E3B\u8981\u533A\u522B\u662F<code>transition</code>\u9700\u8981\u89E6\u53D1\u4E00\u4E2A\u4E8B\u4EF6\u624D\u80FD\u6539\u53D8\u5C5E\u6027\uFF0C\u800C<code>animation</code>\u4E0D\u9700\u8981\u89E6\u53D1\u4EFB\u4F55\u4E8B\u4EF6\u7684\u60C5\u51B5\u4E0B\u624D\u4F1A\u968F\u65F6\u95F4\u6539\u53D8\u5C5E\u6027\u503C\uFF0C\u5E76\u4E14<code>transition</code>\u4E3A2\u5E27\uFF0C\u4ECE<code>from .... to</code>\uFF0C\u800C<code>animation</code>\u53EF\u4EE5\u4E00\u5E27\u4E00\u5E27\u7684</p></blockquote>",3),Te={id:"_9-css\u52A8\u753B\u548C\u8FC7\u6E21",tabindex:"-1"},Ne=n("a",{class:"header-anchor",href:"#_9-css\u52A8\u753B\u548C\u8FC7\u6E21","aria-hidden":"true"},"#",-1),Me=s(),Oe={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_9-css%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BF%87%E6%B8%A1",target:"_blank",rel:"noopener noreferrer"},Ie=s("#"),Re=s("9 CSS\u52A8\u753B\u548C\u8FC7\u6E21"),Ve={id:"animation-keyframes",tabindex:"-1"},He=n("a",{class:"header-anchor",href:"#animation-keyframes","aria-hidden":"true"},"#",-1),Le=s(),Ue={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#animation-keyframes",target:"_blank",rel:"noopener noreferrer"},Je=s("#"),We=s("animation / keyframes"),ze=t(`<ul><li><p><code>animation-name</code>: \u52A8\u753B\u540D\u79F0\uFF0C\u5BF9\u5E94<code>@keyframes</code></p></li><li><p><code>animation-duration</code>: \u95F4\u9694</p></li><li><p><code>animation-timing-function</code>: \u66F2\u7EBF</p></li><li><p><code>animation-delay</code>: \u5EF6\u8FDF</p></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>animation-iteration-count
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>: \u6B21\u6570</p><ul><li><code>infinite</code>: \u5FAA\u73AF\u52A8\u753B</li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>animation-direction
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>: \u65B9\u5411</p><ul><li><code>alternate</code>: \u53CD\u5411\u64AD\u653E</li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>animation-fill-mode
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>: \u9759\u6B62\u6A21\u5F0F</p><ul><li><code>forwards</code>: \u505C\u6B62\u65F6\uFF0C\u4FDD\u7559\u6700\u540E\u4E00\u5E27</li><li><code>backwards</code>: \u505C\u6B62\u65F6\uFF0C\u56DE\u5230\u7B2C\u4E00\u5E27</li><li><code>both</code>: \u540C\u65F6\u8FD0\u7528 <code>forwards / backwards</code></li></ul></li><li><p>\u5E38\u7528\u94A9\u5B50: <code>animationend</code></p></li></ul><blockquote><p>\u52A8\u753B\u5C5E\u6027: \u5C3D\u91CF\u4F7F\u7528\u52A8\u753B\u5C5E\u6027\u8FDB\u884C\u52A8\u753B\uFF0C\u80FD\u62E5\u6709\u8F83\u597D\u7684\u6027\u80FD\u8868\u73B0</p></blockquote><ul><li><code>translate</code></li><li><code>scale</code></li><li><code>rotate</code></li><li><code>skew</code></li><li><code>opacity</code></li><li><code>color</code></li></ul>`,3),Ge={id:"transform",tabindex:"-1"},$e=n("a",{class:"header-anchor",href:"#transform","aria-hidden":"true"},"#",-1),Xe=s(),Ke={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#transform",target:"_blank",rel:"noopener noreferrer"},Qe=s("#"),Ye=s("transform"),Ze=n("ul",null,[n("li",null,"\u4F4D\u79FB\u5C5E\u6027 translate( x , y )"),n("li",null,"\u65CB\u8F6C\u5C5E\u6027 rotate()"),n("li",null,"\u7F29\u653E\u5C5E\u6027 scale()"),n("li",null,"\u503E\u659C\u5C5E\u6027 skew()")],-1),nt={id:"transition",tabindex:"-1"},st=n("a",{class:"header-anchor",href:"#transition","aria-hidden":"true"},"#",-1),at=s(),et={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#transition",target:"_blank",rel:"noopener noreferrer"},tt=s("#"),pt=s("transition"),ot=n("ul",null,[n("li",null,"transition-property\uFF08\u8FC7\u6E21\u7684\u5C5E\u6027\u7684\u540D\u79F0\uFF09\u3002"),n("li",null,"transition-duration\uFF08\u5B9A\u4E49\u8FC7\u6E21\u6548\u679C\u82B1\u8D39\u7684\u65F6\u95F4,\u9ED8\u8BA4\u662F 0\uFF09\u3002"),n("li",null,"transition-timing-function:linear(\u5300\u901F) ease(\u6162\u901F\u5F00\u59CB\uFF0C\u7136\u540E\u53D8\u5FEB\uFF0C\u7136\u540E\u6162\u901F\u7ED3\u675F)\uFF08\u89C4\u5B9A\u8FC7\u6E21\u6548\u679C\u7684\u65F6\u95F4\u66F2\u7EBF\uFF0C\u6700\u5E38\u7528\u7684\u662F\u8FD9\u4E24\u4E2A\uFF09\u3002"),n("li",null,"transition-delay\uFF08\u89C4\u5B9A\u8FC7\u6E21\u6548\u679C\u4F55\u65F6\u5F00\u59CB\u3002\u9ED8\u8BA4\u662F 0\uFF09")],-1),ct=n("blockquote",null,[n("p",null,"\u822C\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u90FD\u662F\u5199\u4E00\u8D77\u7684\uFF0C\u6BD4\u5982\uFF1Atransition\uFF1A width 2s ease 1s")],-1),lt={id:"\u5173\u952E\u5E27\u52A8\u753Banimation",tabindex:"-1"},rt=n("a",{class:"header-anchor",href:"#\u5173\u952E\u5E27\u52A8\u753Banimation","aria-hidden":"true"},"#",-1),it=s(),ut={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#%E5%85%B3%E9%94%AE%E5%B8%A7%E5%8A%A8%E7%94%BBanimation",target:"_blank",rel:"noopener noreferrer"},kt=s("#"),dt=s("\u5173\u952E\u5E27\u52A8\u753Banimation"),bt=t(`<blockquote><p>\u4E00\u4E2A\u5173\u952E\u5E27\u52A8\u753B\uFF0C\u6700\u5C11\u5305\u542B\u4E24\u90E8\u5206\uFF0Canimation \u5C5E\u6027\u53CA\u5C5E\u6027\u503C\uFF08\u52A8\u753B\u7684\u540D\u79F0\u548C\u8FD0\u884C\u65B9\u5F0F\u8FD0\u884C\u65F6\u95F4\u7B49\uFF09\u3002@keyframes\uFF08\u89C4\u5B9A\u52A8\u753B\u7684\u5177\u4F53\u5B9E\u73B0\u8FC7\u7A0B\uFF09</p></blockquote><p><strong>animation \u5C5E\u6027\u53EF\u4EE5\u62C6\u5206\u4E3A</strong></p><ul><li>animation-name \u89C4\u5B9A@keyframes \u52A8\u753B\u7684\u540D\u79F0\u3002</li><li>animation-duration \u89C4\u5B9A\u52A8\u753B\u5B8C\u6210\u4E00\u4E2A\u5468\u671F\u6240\u82B1\u8D39\u7684\u79D2\u6216\u6BEB\u79D2\u3002\u9ED8\u8BA4\u662F 0\u3002</li><li>animation-timing-function \u89C4\u5B9A\u52A8\u753B\u7684\u901F\u5EA6\u66F2\u7EBF\u3002\u9ED8\u8BA4\u662F \u201Cease\u201D\uFF0C\u5E38\u7528\u7684\u8FD8\u6709linear\uFF0C\u540Ctranstion \u3002</li><li>animation-delay \u89C4\u5B9A\u52A8\u753B\u4F55\u65F6\u5F00\u59CB\u3002\u9ED8\u8BA4\u662F 0\u3002</li><li>animation-iteration-count \u89C4\u5B9A\u52A8\u753B\u88AB\u64AD\u653E\u7684\u6B21\u6570\u3002\u9ED8\u8BA4\u662F 1\uFF0C\u4F46\u6211\u4EEC\u4E00\u822C\u7528infinite\uFF0C\u4E00\u76F4\u64AD\u653E</li></ul><blockquote><p>\u800C@keyframes\u7684\u4F7F\u7528\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u662Ffrom-&gt;to\uFF08\u7B49\u540C\u4E8E0%\u548C100%\uFF09\uFF0C\u4E5F\u53EF\u4EE5\u662F\u4ECE0%-&gt;100%\u4E4B\u95F4\u4EFB\u610F\u4E2A\u7684\u5206\u5C42\u8BBE\u7F6E\u3002\u6211\u4EEC\u901A\u8FC7\u4E0B\u9762\u4E00\u4E2A\u7A0D\u5FAE\u590D\u6742\u70B9\u7684demo\u6765\u770B\u4E00\u4E0B\uFF0C\u57FA\u672C\u4E0A\u7528\u5230\u4E86\u4E0A\u9762\u8BF4\u5230\u7684\u5927\u90E8\u5206\u77E5\u8BC6</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>eg:
   @keyframes mymove
  {
      from {top:0px;}
      to {top:200px;}
  }
 
\u7B49\u540C\u4E8E\uFF1A
 
@keyframes mymove
{
 0%   {top:0px;}
 25%  {top:200px;}
 50%  {top:100px;}
 75%  {top:200px;}
 100% {top:0px;}
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div>`,5),mt={id:"\u7528css3\u52A8\u753B\u4F7F\u4E00\u4E2A\u56FE\u7247\u65CB\u8F6C",tabindex:"-1"},ht=n("a",{class:"header-anchor",href:"#\u7528css3\u52A8\u753B\u4F7F\u4E00\u4E2A\u56FE\u7247\u65CB\u8F6C","aria-hidden":"true"},"#",-1),_t=s(),gt={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#%E7%94%A8css3%E5%8A%A8%E7%94%BB%E4%BD%BF%E4%B8%80%E4%B8%AA%E5%9B%BE%E7%89%87%E6%97%8B%E8%BD%AC",target:"_blank",rel:"noopener noreferrer"},Et=s("#"),ft=s("\u7528css3\u52A8\u753B\u4F7F\u4E00\u4E2A\u56FE\u7247\u65CB\u8F6C"),vt=t(`<div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">#loader</span> <span class="token punctuation">{</span>

    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>

    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>

    <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> spin 2s linear infinite<span class="token punctuation">;</span>

    <span class="token property">animation</span><span class="token punctuation">:</span> spin 2s linear infinite<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@-webkit-keyframes</span> spin</span> <span class="token punctuation">{</span>

    <span class="token selector">0%</span>   <span class="token punctuation">{</span>

        <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token property">-ms-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token selector">100%</span> <span class="token punctuation">{</span>

        <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token property">-ms-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@keyframes</span> spin</span> <span class="token punctuation">{</span>

    <span class="token selector">0%</span>   <span class="token punctuation">{</span>

        <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token property">-ms-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token selector">100%</span> <span class="token punctuation">{</span>

        <span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token property">-ms-transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>360deg<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div>`,1),wt={id:"_10-\u6709\u54EA\u4E9B\u65B9\u5F0F-css-\u53EF\u4EE5\u9690\u85CF\u9875\u9762\u5143\u7D20",tabindex:"-1"},yt=n("a",{class:"header-anchor",href:"#_10-\u6709\u54EA\u4E9B\u65B9\u5F0F-css-\u53EF\u4EE5\u9690\u85CF\u9875\u9762\u5143\u7D20","aria-hidden":"true"},"#",-1),xt=s(),At={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_10-%E6%9C%89%E5%93%AA%E4%BA%9B%E6%96%B9%E5%BC%8F-css-%E5%8F%AF%E4%BB%A5%E9%9A%90%E8%97%8F%E9%A1%B5%E9%9D%A2%E5%85%83%E7%B4%A0",target:"_blank",rel:"noopener noreferrer"},Bt=s("#"),qt=s("10 \u6709\u54EA\u4E9B\u65B9\u5F0F\uFF08CSS\uFF09\u53EF\u4EE5\u9690\u85CF\u9875\u9762\u5143\u7D20"),jt=t("<ul><li><code>opacity:0</code>\uFF1A\u672C\u8D28\u4E0A\u662F\u5C06\u5143\u7D20\u7684\u900F\u660E\u5EA6\u5C06\u4E3A0\uFF0C\u5C31\u770B\u8D77\u6765\u9690\u85CF\u4E86\uFF0C\u4F46\u662F\u4F9D\u7136\u5360\u636E\u7A7A\u95F4\u4E14\u53EF\u4EE5\u4EA4\u4E92</li><li><code>visibility:hidden</code>: \u4E0E\u4E0A\u4E00\u4E2A\u65B9\u6CD5\u7C7B\u4F3C\u7684\u6548\u679C\uFF0C\u5360\u636E\u7A7A\u95F4\uFF0C\u4F46\u662F\u4E0D\u53EF\u4EE5\u4EA4\u4E92\u4E86</li><li><code>overflow:hidden</code>: \u8FD9\u4E2A\u53EA\u9690\u85CF\u5143\u7D20\u6EA2\u51FA\u7684\u90E8\u5206\uFF0C\u4F46\u662F\u5360\u636E\u7A7A\u95F4\u4E14\u4E0D\u53EF\u4EA4\u4E92</li><li><code>display:none</code>: \u8FD9\u4E2A\u662F\u5F7B\u5E95\u9690\u85CF\u4E86\u5143\u7D20\uFF0C\u5143\u7D20\u4ECE\u6587\u6863\u6D41\u4E2D\u6D88\u5931\uFF0C\u65E2\u4E0D\u5360\u636E\u7A7A\u95F4\u4E5F\u4E0D\u4EA4\u4E92\uFF0C\u4E5F\u4E0D\u5F71\u54CD\u5E03\u5C40</li><li><code>z-index:-9999</code>: \u539F\u7406\u662F\u5C06\u5C42\u7EA7\u653E\u5230\u5E95\u90E8\uFF0C\u8FD9\u6837\u5C31\u88AB\u8986\u76D6\u4E86\uFF0C\u770B\u8D77\u6765\u9690\u85CF\u4E86</li><li><code>transform: scale(0,0)</code>: \u5E73\u9762\u53D8\u6362\uFF0C\u5C06\u5143\u7D20\u7F29\u653E\u4E3A0\uFF0C\u4F46\u662F\u4F9D\u7136\u5360\u636E\u7A7A\u95F4\uFF0C\u4F46\u4E0D\u53EF\u4EA4\u4E92</li></ul>",1),St={id:"_11-em\u3001px\u3001rem\u533A\u522B",tabindex:"-1"},Ct=n("a",{class:"header-anchor",href:"#_11-em\u3001px\u3001rem\u533A\u522B","aria-hidden":"true"},"#",-1),Dt=s(),Ft={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_11-em%E3%80%81px%E3%80%81rem%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},Pt=s("#"),Tt=s("11 em\u3001px\u3001rem\u533A\u522B"),Nt=t("<ul><li><code>px</code>\uFF1A\u7EDD\u5BF9\u5355\u4F4D\uFF0C\u9875\u9762\u6309\u7CBE\u786E\u50CF\u7D20\u5C55\u793A\u3002</li><li><code>em</code>\uFF1A\u76F8\u5BF9\u5355\u4F4D\uFF0C\u57FA\u51C6\u70B9\u4E3A\u7236\u8282\u70B9\u5B57\u4F53\u7684\u5927\u5C0F\uFF0C\u5982\u679C\u81EA\u8EAB\u5B9A\u4E49\u4E86<code>font-size</code>\u6309\u81EA\u8EAB\u6765\u8BA1\u7B97\uFF08\u6D4F\u89C8\u5668\u9ED8\u8BA4\u5B57\u4F53\u662F<code>16px</code>\uFF09\uFF0C\u6574\u4E2A\u9875\u9762\u51851em\u4E0D\u662F\u4E00\u4E2A\u56FA\u5B9A\u7684\u503C\u3002</li><li><code>rem</code>\uFF1A\u76F8\u5BF9\u5355\u4F4D\uFF0C\u53EF\u7406\u89E3\u4E3A\u201D<code>root em</code>\u201D, \u76F8\u5BF9\u6839\u8282\u70B9html\u7684\u5B57\u4F53\u5927\u5C0F\u6765\u8BA1\u7B97\uFF0C<code>CSS3</code>\u65B0\u52A0\u5C5E\u6027\uFF0C<code>chrome/firefox/IE9+</code>\u652F\u6301</li></ul>",1),Mt={id:"_12-flex",tabindex:"-1"},Ot=n("a",{class:"header-anchor",href:"#_12-flex","aria-hidden":"true"},"#",-1),It=s(),Rt={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_12-flex",target:"_blank",rel:"noopener noreferrer"},Vt=s("#"),Ht=s("12 flex"),Lt={id:"\u4F7F\u7528\u8FC7flex\u5E03\u5C40\u5417-flex-grow\u548Cflex-shrink\u5C5E\u6027\u6709\u4EC0\u4E48\u7528",tabindex:"-1"},Ut=n("a",{class:"header-anchor",href:"#\u4F7F\u7528\u8FC7flex\u5E03\u5C40\u5417-flex-grow\u548Cflex-shrink\u5C5E\u6027\u6709\u4EC0\u4E48\u7528","aria-hidden":"true"},"#",-1),Jt=s(),Wt={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#%E4%BD%BF%E7%94%A8%E8%BF%87flex%E5%B8%83%E5%B1%80%E5%90%97-flex-grow%E5%92%8Cflex-shrink%E5%B1%9E%E6%80%A7%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},zt=s("#"),Gt=s("\u4F7F\u7528\u8FC7flex\u5E03\u5C40\u5417\uFF1Fflex-grow\u548Cflex-shrink\u5C5E\u6027\u6709\u4EC0\u4E48\u7528\uFF1F"),$t=n("ul",null,[n("li",null,[n("code",null,"flex-grow"),s("\uFF1A\u9879\u76EE\u7684\u653E\u5927\u6BD4\u4F8B\uFF0C\u9ED8\u8BA4\u4E3A0\uFF0C\u5373\u5982\u679C\u5B58\u5728\u5269\u4F59\u7A7A\u95F4\uFF0C\u4E5F\u4E0D\u653E\u5927\u3002")]),n("li",null,[n("code",null,"flex-shrink"),s("\uFF1A\u9879\u76EE\u7684\u7F29\u5C0F\u6BD4\u4F8B\uFF0C\u9ED8\u8BA4\u4E3A1\uFF0C\u5373\u5982\u679C\u7A7A\u95F4\u4E0D\u8DB3\uFF0C\u8BE5\u9879\u76EE\u5C06\u7F29\u5C0F")])],-1),Xt={id:"_13-\u5173\u4E8E\u4F2A\u7C7B-lvha-\u7684\u89E3\u91CA",tabindex:"-1"},Kt=n("a",{class:"header-anchor",href:"#_13-\u5173\u4E8E\u4F2A\u7C7B-lvha-\u7684\u89E3\u91CA","aria-hidden":"true"},"#",-1),Qt=s(),Yt={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_13-%E5%85%B3%E4%BA%8E%E4%BC%AA%E7%B1%BB-lvha-%E7%9A%84%E8%A7%A3%E9%87%8A",target:"_blank",rel:"noopener noreferrer"},Zt=s("#"),np=s("13 \u5173\u4E8E\u4F2A\u7C7B LVHA \u7684\u89E3\u91CA"),sp=t("<blockquote><p>a\u6807\u7B7E\u6709\u56DB\u79CD\u72B6\u6001\uFF1A\u94FE\u63A5\u8BBF\u95EE\u524D\u3001\u94FE\u63A5\u8BBF\u95EE\u540E\u3001\u9F20\u6807\u6ED1\u8FC7\u3001\u6FC0\u6D3B\uFF0C\u5206\u522B\u5BF9\u5E94\u56DB\u79CD\u4F2A\u7C7B:<code>link</code>\u3001<code>:visited</code>\u3001<code>:hover</code>\u3001<code>:active</code>\uFF1B</p></blockquote><p><strong>\u5F53\u94FE\u63A5\u672A\u8BBF\u95EE\u8FC7\u65F6\uFF1A</strong></p><ul><li>\u5F53\u9F20\u6807\u6ED1\u8FC7a\u94FE\u63A5\u65F6\uFF0C\u6EE1\u8DB3<code>:link</code>\u548C<code>:hover</code>\u4E24\u79CD\u72B6\u6001\uFF0C\u8981\u6539\u53D8a\u6807\u7B7E\u7684\u989C\u8272\uFF0C\u5C31\u5FC5\u987B\u5C06<code>:hover</code>\u4F2A\u7C7B\u5728<code>:link</code>\u4F2A \u7C7B\u540E\u9762\u58F0\u660E\uFF1B</li><li>\u5F53\u9F20\u6807\u70B9\u51FB\u6FC0\u6D3Ba\u94FE\u63A5\u65F6\uFF0C\u540C\u65F6\u6EE1\u8DB3<code>:link</code>\u3001<code>:hover</code>\u3001<code>:active</code>\u4E09\u79CD\u72B6\u6001\uFF0C\u8981\u663E\u793Aa\u6807\u7B7E\u6FC0\u6D3B\u65F6\u7684\u6837\u5F0F\uFF08<code>:active</code>\uFF09\uFF0C \u5FC5\u987B\u5C06<code>:active</code>\u58F0\u660E\u653E\u5230<code>:link</code>\u548C<code>:hover</code>\u4E4B\u540E\u3002\u56E0\u6B64\u5F97\u51FA<code>LVHA</code>\u8FD9\u4E2A\u987A\u5E8F\u3002</li><li>\u5F53\u94FE\u63A5\u8BBF\u95EE\u8FC7\u65F6\uFF0C\u60C5\u51B5\u57FA\u672C\u540C\u4E0A\uFF0C\u53EA\u4E0D\u8FC7\u9700\u8981\u5C06<code>:link</code>\u6362\u6210<code>:visited</code>\u3002</li></ul><blockquote><p>\u8FD9\u4E2A\u987A\u5E8F\u80FD\u4E0D\u80FD\u53D8\uFF1F\u53EF\u4EE5\uFF0C\u4F46\u4E5F\u53EA\u6709<code>:link</code>\u548C<code>:visited</code>\u53EF\u4EE5\u4EA4\u6362\u4F4D\u7F6E\uFF0C\u56E0\u4E3A\u4E00\u4E2A\u94FE\u63A5\u8981\u4E48\u8BBF\u95EE\u8FC7\u8981\u4E48\u6CA1\u8BBF\u95EE\u8FC7\uFF0C\u4E0D\u53EF\u80FD\u540C\u65F6\u6EE1\u8DB3\uFF0C\u4E5F\u5C31\u4E0D\u5B58\u5728\u8986\u76D6\u7684\u95EE\u9898\u3002</p></blockquote>",4),ap={id:"_14-calc\u51FD\u6570",tabindex:"-1"},ep=n("a",{class:"header-anchor",href:"#_14-calc\u51FD\u6570","aria-hidden":"true"},"#",-1),tp=s(),pp={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_14-calc%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},op=s("#"),cp=s("14 calc\u51FD\u6570"),lp=t(`<blockquote><p>calc\u51FD\u6570\u662Fcss3\u65B0\u589E\u7684\u529F\u80FD\uFF0C\u53EF\u4EE5\u4F7F\u7528<code>calc()</code>\u8BA1\u7B97<code>border\u3001margin\u3001pading\u3001font-size</code>\u548Cwidth\u7B49\u5C5E\u6027\u8BBE\u7F6E\u52A8\u6001\u503C</p></blockquote><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">#div1</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span> 100% / <span class="token punctuation">(</span>100px * 2<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/* \u517C\u5BB9\u5199\u6CD5 */</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">-moz-calc</span><span class="token punctuation">(</span> 100% / <span class="token punctuation">(</span>100px * 2<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">-webkit-calc</span><span class="token punctuation">(</span> 100% / <span class="token punctuation">(</span>100px * 2<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid black<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>\u6CE8\u610F\u70B9\uFF1A</strong></p><ul><li>\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u8FD0\u7B97\u7B26\u524D\u540E\u90FD\u9700\u8981\u4FDD\u7559\u4E00\u4E2A\u7A7A\u683C\uFF0C\u4F8B\u5982\uFF1A<code>width: calc(100% - 10px)</code>;</li><li><code>calc()</code>\u51FD\u6570\u652F\u6301 <code>&quot;+&quot;</code>, &quot;<code>-&quot;</code>, <code>&quot;*&quot;</code>, <code>&quot;/&quot;</code> \u8FD0\u7B97;</li><li>\u5BF9\u4E8E\u4E0D\u652F\u6301 <code>calc()</code>\u7684\u6D4F\u89C8\u5668\uFF0C\u6574\u4E2A\u5C5E\u6027\u503C\u8868\u8FBE\u5F0F\u5C06\u88AB\u5FFD\u7565\u3002\u4E0D\u8FC7\u6211\u4EEC\u53EF\u4EE5\u5BF9\u90A3\u4E9B\u4E0D\u652F\u6301<code>calc()</code>\u7684\u6D4F\u89C8\u5668\uFF0C\u4F7F\u7528\u4E00\u4E2A\u56FA\u5B9A\u503C\u4F5C\u4E3A\u56DE\u9000\u3002</li></ul>`,4),rp={id:"_15-\u4F2A\u7C7B\u548C\u4F2A\u5143\u7D20",tabindex:"-1"},ip=n("a",{class:"header-anchor",href:"#_15-\u4F2A\u7C7B\u548C\u4F2A\u5143\u7D20","aria-hidden":"true"},"#",-1),up=s(),kp={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_15-%E4%BC%AA%E7%B1%BB%E5%92%8C%E4%BC%AA%E5%85%83%E7%B4%A0",target:"_blank",rel:"noopener noreferrer"},dp=s("#"),bp=s("15 \u4F2A\u7C7B\u548C\u4F2A\u5143\u7D20"),mp=t('<blockquote><p><code>css</code>\u5F15\u5165\u4F2A\u7C7B\u548C\u4F2A\u5143\u7D20\u6982\u5FF5\u662F\u4E3A\u4E86\u683C\u5F0F\u5316\u6587\u6863\u6811\u4EE5\u5916\u7684\u4FE1\u606F\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u4F2A\u7C7B\u548C\u4F2A\u5143\u7D20\u90FD\u662F\u7528\u6765\u4FEE\u9970\u4E0D\u5728\u6587\u6863\u6811\u4E2D\u7684\u90E8\u5206</p></blockquote><p><strong>\u4F2A\u7C7B</strong></p><blockquote><p>\u4F2A\u7C7B\u5B58\u5728\u7684\u610F\u4E49\u662F\u4E3A\u4E86\u901A\u8FC7\u9009\u62E9\u5668\u627E\u5230\u90A3\u4E9B\u4E0D\u5B58\u5728DOM\u6811\u4E2D\u7684\u4FE1\u606F\u4EE5\u53CA\u4E0D\u80FD\u88AB\u5E38\u89C4CSS\u9009\u62E9\u5668\u83B7\u53D6\u5230\u7684\u4FE1\u606F</p></blockquote><ol><li>\u83B7\u53D6\u4E0D\u5B58\u5728\u4E0EDOM\u6811\u4E2D\u7684\u4FE1\u606F\u3002\u6BD4\u5982a\u6807\u7B7E\u7684<code>:link</code>\u3001<code>visited</code>\u7B49\uFF0C\u8FD9\u4E9B\u4FE1\u606F\u4E0D\u5B58\u5728\u4E0EDOM\u6811\u7ED3\u6784\u4E2D\uFF0C\u53EA\u80FD\u901A\u8FC7CSS\u9009\u62E9\u5668\u6765\u83B7\u53D6\uFF1B</li><li>\u83B7\u53D6\u4E0D\u80FD\u88AB\u5E38\u89C4CSS\u9009\u62E9\u5668\u83B7\u53D6\u7684\u4FE1\u606F\u3002\u6BD4\u5982\uFF1A\u8981\u83B7\u53D6\u7B2C\u4E00\u4E2A\u5B50\u5143\u7D20\uFF0C\u6211\u4EEC\u65E0\u6CD5\u7528\u5E38\u89C4\u7684CSS\u9009\u62E9\u5668\u83B7\u53D6\uFF0C\u4F46\u53EF\u4EE5\u901A\u8FC7 <code>:first-child</code> \u6765\u83B7\u53D6\u5230\u3002</li></ol><p><img src="http://blog.poetries.top/img-repo/2020/01/24.png" alt="img"></p><p><strong>\u4F2A\u5143\u7D20</strong></p><blockquote><p>\u4F2A\u5143\u7D20\u7528\u4E8E\u521B\u5EFA\u4E00\u4E9B\u4E0D\u5728\u6587\u6863\u6811\u4E2D\u7684\u5143\u7D20\uFF0C\u5E76\u4E3A\u5176\u6DFB\u52A0\u6837\u5F0F\u3002\u6BD4\u5982\u8BF4\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7<code>:before</code>\u6765\u5728\u4E00\u4E2A\u5143\u7D20\u524D\u589E\u52A0\u4E00\u4E9B\u6587\u672C\uFF0C\u5E76\u4E3A\u8FD9\u4E9B\u6587\u672C\u6DFB\u52A0\u6837\u5F0F\u3002\u867D\u7136\u7528\u6237\u53EF\u4EE5\u770B\u5230\u8FD9\u4E9B\u6587\u672C\uFF0C\u4F46\u662F\u8FD9\u4E9B\u6587\u672C\u5B9E\u9645\u4E0A\u4E0D\u5728\u6587\u6863\u6811\u4E2D\u3002\u5E38\u89C1\u7684\u4F2A\u5143\u7D20\u6709\uFF1A<code>::before</code>\uFF0C<code>::after</code>\uFF0C<code>::first-line</code>\uFF0C<code>::first-letter</code>\uFF0C<code>::selection</code>\u3001<code>::placeholder</code>\u7B49</p></blockquote><blockquote><p>\u56E0\u6B64\uFF0C\u4F2A\u7C7B\u4E0E\u4F2A\u5143\u7D20\u7684\u533A\u522B\u5728\u4E8E\uFF1A\u6709\u6CA1\u6709\u521B\u5EFA\u4E00\u4E2A\u6587\u6863\u6811\u4E4B\u5916\u7684\u5143\u7D20</p></blockquote><p><strong>::after\u548C:after\u7684\u533A\u522B</strong></p><ul><li>\u5728\u5B9E\u9645\u7684\u5F00\u53D1\u5DE5\u4F5C\u4E2D\uFF0C\u6211\u4EEC\u4F1A\u770B\u5230\u6709\u4EBA\u628A\u4F2A\u5143\u7D20\u5199\u6210<code>:after</code>\uFF0C\u8FD9\u5B9E\u9645\u662F <code>CSS2</code> \u4E0E<code>CSS3</code>\u65B0\u65E7\u6807\u51C6\u7684\u89C4\u5B9A\u4E0D\u540C\u800C\u5BFC\u81F4\u7684\u3002</li><li><code>CSS2</code> \u4E2D\u7684\u4F2A\u5143\u7D20\u4F7F\u75281\u4E2A\u5192\u53F7\uFF0C\u5728 <code>CSS3</code> \u4E2D\uFF0C\u4E3A\u4E86\u533A\u5206\u4F2A\u7C7B\u548C\u4F2A\u5143\u7D20\uFF0C\u89C4\u5B9A\u4F2A\u5143\u7D20\u4F7F\u75282\u4E2A\u5192\u53F7\u3002\u6240\u4EE5\uFF0C\u5BF9\u4E8E CSS2 \u6807\u51C6\u7684\u8001\u4F2A\u5143\u7D20\uFF0C\u6BD4\u5982<code>:first-line</code>\uFF0C<code>:first-letter</code>\uFF0C<code>:before</code>\uFF0C<code>:after</code>\uFF0C\u5199\u4E00\u4E2A\u5192\u53F7\u6D4F\u89C8\u5668\u4E5F\u80FD\u8BC6\u522B\uFF0C\u4F46\u5BF9\u4E8E CSS3 \u6807\u51C6\u7684\u65B0\u4F2A\u5143\u7D20\uFF0C\u6BD4\u5982<code>::selection</code>\uFF0C\u5C31\u5FC5\u987B\u51992\u4E2A\u5192\u53F7\u4E86</li></ul><p><strong>CSS3\u65B0\u589E\u4F2A\u7C7B\u6709\u90A3\u4E9B\uFF1F</strong></p><ul><li><code>p:first-of-type</code> \u9009\u62E9\u5C5E\u4E8E\u5176\u7236\u5143\u7D20\u7684\u9996\u4E2A<code>&lt;p&gt;</code>\u5143\u7D20\u7684\u6BCF\u4E2A<code>&lt;p&gt;</code> \u5143\u7D20\u3002</li><li><code>p:last-of-type</code> \u9009\u62E9\u5C5E\u4E8E\u5176\u7236\u5143\u7D20\u7684\u6700\u540E <code>&lt;p&gt;</code> \u5143\u7D20\u7684\u6BCF\u4E2A<code>&lt;p&gt;</code> \u5143\u7D20\u3002</li><li><code>p:only-of-type</code> \u9009\u62E9\u5C5E\u4E8E\u5176\u7236\u5143\u7D20\u552F\u4E00\u7684 <code>&lt;p&gt;</code>\u5143\u7D20\u7684\u6BCF\u4E2A <code>&lt;p&gt;</code> \u5143\u7D20\u3002</li><li><code>p:only-child</code> \u9009\u62E9\u5C5E\u4E8E\u5176\u7236\u5143\u7D20\u7684\u552F\u4E00\u5B50\u5143\u7D20\u7684\u6BCF\u4E2A <code>&lt;p&gt;</code> \u5143\u7D20\u3002</li><li><code>p:nth-child(2)</code> \u9009\u62E9\u5C5E\u4E8E\u5176\u7236\u5143\u7D20\u7684\u7B2C\u4E8C\u4E2A\u5B50\u5143\u7D20\u7684\u6BCF\u4E2A <code>&lt;p&gt;</code> \u5143\u7D20\u3002</li><li><code>:after</code> \u5728\u5143\u7D20\u4E4B\u524D\u6DFB\u52A0\u5185\u5BB9,\u4E5F\u53EF\u4EE5\u7528\u6765\u505A\u6E05\u9664\u6D6E\u52A8\u3002</li><li><code>:before</code> \u5728\u5143\u7D20\u4E4B\u540E\u6DFB\u52A0\u5185\u5BB9</li><li><code>:enabled</code></li><li><code>:disabled</code> \u63A7\u5236\u8868\u5355\u63A7\u4EF6\u7684\u7981\u7528\u72B6\u6001\u3002</li><li><code>:checked</code> \u5355\u9009\u6846\u6216\u590D\u9009\u6846\u88AB\u9009\u4E2D</li></ul>',12),hp={id:"_16-\u6D4F\u89C8\u5668\u662F\u600E\u6837\u89E3\u6790-css-\u9009\u62E9\u5668\u7684",tabindex:"-1"},_p=n("a",{class:"header-anchor",href:"#_16-\u6D4F\u89C8\u5668\u662F\u600E\u6837\u89E3\u6790-css-\u9009\u62E9\u5668\u7684","aria-hidden":"true"},"#",-1),gp=s(),Ep={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_16-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%98%AF%E6%80%8E%E6%A0%B7%E8%A7%A3%E6%9E%90-css-%E9%80%89%E6%8B%A9%E5%99%A8%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},fp=s("#"),vp=s("16 \u6D4F\u89C8\u5668\u662F\u600E\u6837\u89E3\u6790 CSS \u9009\u62E9\u5668\u7684"),wp=n("ul",null,[n("li",null,"\u6837\u5F0F\u7CFB\u7EDF\u4ECE\u5173\u952E\u9009\u62E9\u5668\u5F00\u59CB\u5339\u914D\uFF0C\u7136\u540E\u5DE6\u79FB\u67E5\u627E\u89C4\u5219\u9009\u62E9\u5668\u7684\u7956\u5148\u5143\u7D20\u3002\u53EA\u8981\u9009\u62E9\u5668\u7684\u5B50\u6811\u4E00\u76F4\u5728\u5DE5\u4F5C\uFF0C\u6837\u5F0F\u7CFB\u7EDF\u5C31\u4F1A\u6301\u7EED\u5DE6\u79FB\uFF0C\u76F4\u5230\u548C\u89C4\u5219\u5339\u914D\uFF0C\u6216\u8005\u662F\u56E0\u4E3A\u4E0D\u5339\u914D\u800C\u653E\u5F03\u8BE5\u89C4\u5219\u3002"),n("li",null,"\u8BD5\u60F3\u4E00\u4E0B\uFF0C\u5982\u679C\u91C7\u7528\u4ECE\u5DE6\u81F3\u53F3\u7684\u65B9\u5F0F\u8BFB\u53D6CSS\u89C4\u5219\uFF0C\u90A3\u4E48\u5927\u591A\u6570\u89C4\u5219\u8BFB\u5230\u6700\u540E\uFF08\u6700\u53F3\uFF09\u624D\u4F1A\u53D1\u73B0\u662F\u4E0D\u5339\u914D\u7684\uFF0C\u8FD9\u6837\u505A\u4F1A\u8D39\u65F6\u8017\u80FD\uFF0C \u6700\u540E\u6709\u5F88\u591A\u90FD\u662F\u65E0\u7528\u7684\uFF1B\u800C\u5982\u679C\u91C7\u53D6\u4ECE\u53F3\u5411\u5DE6\u7684\u65B9\u5F0F\uFF0C\u90A3\u4E48\u53EA\u8981\u53D1\u73B0\u6700\u53F3\u8FB9\u9009\u62E9\u5668\u4E0D\u5339\u914D\uFF0C\u5C31\u53EF\u4EE5\u76F4\u63A5\u820D\u5F03\u4E86\uFF0C\u907F\u514D\u4E86\u8BB8\u591A\u65E0\u6548\u5339\u914D\u3002")],-1),yp={id:"_17-\u6D4F\u89C8\u5668\u5982\u4F55\u5224\u65AD\u662F\u5426\u652F\u6301-webp-\u683C\u5F0F\u56FE\u7247",tabindex:"-1"},xp=n("a",{class:"header-anchor",href:"#_17-\u6D4F\u89C8\u5668\u5982\u4F55\u5224\u65AD\u662F\u5426\u652F\u6301-webp-\u683C\u5F0F\u56FE\u7247","aria-hidden":"true"},"#",-1),Ap=s(),Bp={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_17-%E6%B5%8F%E8%A7%88%E5%99%A8%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81-webp-%E6%A0%BC%E5%BC%8F%E5%9B%BE%E7%89%87",target:"_blank",rel:"noopener noreferrer"},qp=s("#"),jp=s("17 \u6D4F\u89C8\u5668\u5982\u4F55\u5224\u65AD\u662F\u5426\u652F\u6301 webp \u683C\u5F0F\u56FE\u7247"),Sp=t("<ul><li>\u5BBD\u9AD8\u5224\u65AD\u6CD5\u3002\u901A\u8FC7\u521B\u5EFA<code>image</code>\u5BF9\u8C61\uFF0C\u5C06\u5176<code>src</code>\u5C5E\u6027\u8BBE\u7F6E\u4E3A<code>webp</code>\u683C\u5F0F\u7684\u56FE\u7247\uFF0C\u7136\u540E\u5728<code>onload</code>\u4E8B\u4EF6\u4E2D\u83B7\u53D6\u56FE\u7247\u7684\u5BBD\u9AD8\uFF0C\u5982 \u679C\u80FD\u591F\u83B7\u53D6\uFF0C\u5219\u8BF4\u660E\u6D4F\u89C8\u5668\u652F\u6301<code>webp</code>\u683C\u5F0F\u56FE\u7247\u3002\u5982\u679C\u4E0D\u80FD\u83B7\u53D6\u6216\u8005\u89E6\u53D1\u4E86<code>onerror</code>\u51FD\u6570\uFF0C\u90A3\u4E48\u5C31\u8BF4\u660E\u6D4F\u89C8\u5668\u4E0D\u652F\u6301webp\u683C \u5F0F\u7684\u56FE\u7247</li><li>canvas\u5224\u65AD\u65B9\u6CD5\u3002\u6211\u4EEC\u53EF\u4EE5\u52A8\u6001\u7684\u521B\u5EFA\u4E00\u4E2A<code>canvas</code>\u5BF9\u8C61\uFF0C\u901A\u8FC7<code>canvas</code>\u7684<code>toDataURL</code>\u5C06\u8BBE\u7F6E\u4E3Awebp\u683C\u5F0F\uFF0C\u7136\u540E\u5224\u65AD \u8FD4\u56DE\u503C\u4E2D\u662F\u5426\u542B\u6709<code>image/webp</code>\u5B57\u6BB5\uFF0C\u5982\u679C\u5305\u542B\u5219\u8BF4\u660E\u652F\u6301<code>WebP</code>\uFF0C\u53CD\u4E4B\u5219\u4E0D\u652F\u6301</li></ul>",1),Cp={id:"_18-css\u52A0\u8F7D\u95EE\u9898",tabindex:"-1"},Dp=n("a",{class:"header-anchor",href:"#_18-css\u52A0\u8F7D\u95EE\u9898","aria-hidden":"true"},"#",-1),Fp=s(),Pp={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_18-css%E5%8A%A0%E8%BD%BD%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},Tp=s("#"),Np=s("18 CSS\u52A0\u8F7D\u95EE\u9898"),Mp=n("p",null,"\u6839\u636E\u9875\u9762\u6E32\u67D3\u6D41\u7A0B\u53EF\u5F97\u77E5\uFF1A",-1),Op=n("ul",null,[n("li",null,[n("code",null,"css"),s("\u52A0\u8F7D\u4E0D\u4F1A\u963B\u585EDOM\u6811\u7684\u89E3\u6790;")]),n("li",null,[n("code",null,"css"),s("\u52A0\u8F7D\u4F1A\u963B\u585EDOM\u6811\u7684\u6E32\u67D3\uFF1B")]),n("li",null,[n("code",null,"css"),s("\u52A0\u8F7D\u4F1A\u963B\u585E\u540E\u9762js\u8BED\u53E5\u7684\u6267\u884C")])],-1),Ip={id:"_19-\u6587\u5B57\u5355\u8D85\u51FA\u663E\u793A\u7701\u7565\u53F7",tabindex:"-1"},Rp=n("a",{class:"header-anchor",href:"#_19-\u6587\u5B57\u5355\u8D85\u51FA\u663E\u793A\u7701\u7565\u53F7","aria-hidden":"true"},"#",-1),Vp=s(),Hp={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_19-%E6%96%87%E5%AD%97%E5%8D%95%E8%B6%85%E5%87%BA%E6%98%BE%E7%A4%BA%E7%9C%81%E7%95%A5%E5%8F%B7",target:"_blank",rel:"noopener noreferrer"},Lp=s("#"),Up=s("19 \u6587\u5B57\u5355\u8D85\u51FA\u663E\u793A\u7701\u7565\u53F7"),Jp=t(`<div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">div</span> <span class="token punctuation">{</span>
	<span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
	<span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
	<span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
	<span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>\u6587\u5B57\u591A\u884C\u8D85\u51FA\u663E\u793A\u7701\u7565\u53F7</strong></p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">div</span> <span class="token punctuation">{</span>
	<span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
	<span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>
	<span class="token property">-webkit-box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span>
	<span class="token property">-webkit-line-clamp</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span>
	<span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u8BE5\u65B9\u6CD5\u9002\u7528\u4E8EWebKit\u6D4F\u89C8\u5668\u53CA\u79FB\u52A8\u7AEF\u3002</p><p><strong>\u8DE8\u6D4F\u89C8\u5668\u517C\u5BB9\u65B9\u6848\uFF1A</strong></p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">p</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span>relative<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span>1.4em<span class="token punctuation">;</span>
    <span class="token comment">/* 3 times the line-height to show 3 lines */</span>
    <span class="token property">height</span><span class="token punctuation">:</span>4.2em<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span>hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">p::after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span><span class="token string">&quot;...&quot;</span><span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span>bold<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span>
    <span class="token property">bottom</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span>0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span>0 20px 1px 45px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div>`,6),Wp={id:"_20-\u9875\u9762\u53D8\u7070",tabindex:"-1"},zp=n("a",{class:"header-anchor",href:"#_20-\u9875\u9762\u53D8\u7070","aria-hidden":"true"},"#",-1),Gp=s(),$p={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_20-%E9%A1%B5%E9%9D%A2%E5%8F%98%E7%81%B0",target:"_blank",rel:"noopener noreferrer"},Xp=s("#"),Kp=s("20 \u9875\u9762\u53D8\u7070"),Qp=t(`<div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
	<span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">grayscale</span><span class="token punctuation">(</span>100%<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* \u767E\u5206\u6BD4\u6216\u8005 0~1 */</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,1),Yp={id:"_21-css\u4E2D\u53EF\u7EE7\u627F\u7684\u5C5E\u6027",tabindex:"-1"},Zp=n("a",{class:"header-anchor",href:"#_21-css\u4E2D\u53EF\u7EE7\u627F\u7684\u5C5E\u6027","aria-hidden":"true"},"#",-1),no=s(),so={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_21-css%E4%B8%AD%E5%8F%AF%E7%BB%A7%E6%89%BF%E7%9A%84%E5%B1%9E%E6%80%A7",target:"_blank",rel:"noopener noreferrer"},ao=s("#"),eo=s("21 CSS\u4E2D\u53EF\u7EE7\u627F\u7684\u5C5E\u6027"),to=t("<blockquote><p>\u53EF\u7EE7\u627F\u7684\u53EA\u6709\uFF1A<code>\u989C\u8272</code>\u3001<code>\u6587\u5B57</code>\u3001<code>\u5B57\u4F53\u95F4\u8DDD</code>\u3001<code>\u884C\u9AD8\u5BF9\u9F50\u65B9\u5F0F</code>\uFF0C<code>\u5217\u8868\u6837\u5F0F</code>\u3002</p></blockquote><p>\u6240\u6709\u5143\u7D20\u53EF\u7EE7\u627F\uFF1A<code>visibility</code>\u548C<code>cursor</code>\u3002</p><ul><li>\u5185\u8054\u5143\u7D20\u53EF\u7EE7\u627F\uFF1A <ul><li>letter-spacing</li><li>word-spacing</li><li>white-space</li><li>line-height</li><li>color</li><li>font</li><li>font-family</li><li>font-size</li><li>font-style</li><li>font-variant</li><li>font-weight</li><li>text-decoration</li><li>text-transform</li><li>direction</li></ul></li><li>\u5757\u72B6\uFF1A<code>text-indent</code>\u548C<code>text-align</code>\u3002</li><li>\u5217\u8868\u5143\u7D20\u53EF\u7EE7\u627F\uFF1A<code>list-style</code>\u3001<code>list-style-type</code>\u3001<code>list-style-position</code>\u3001<code>list-style-image</code></li></ul>",3),po={id:"_22-\u5E38\u89C4\u6D41-\u6587\u6863\u6D41-\u662F\u4E2A\u600E\u6837\u7684\u6392\u5217\u5173\u7CFB",tabindex:"-1"},oo=n("a",{class:"header-anchor",href:"#_22-\u5E38\u89C4\u6D41-\u6587\u6863\u6D41-\u662F\u4E2A\u600E\u6837\u7684\u6392\u5217\u5173\u7CFB","aria-hidden":"true"},"#",-1),co=s(),lo={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_22-%E5%B8%B8%E8%A7%84%E6%B5%81-%E6%96%87%E6%A1%A3%E6%B5%81-%E6%98%AF%E4%B8%AA%E6%80%8E%E6%A0%B7%E7%9A%84%E6%8E%92%E5%88%97%E5%85%B3%E7%B3%BB",target:"_blank",rel:"noopener noreferrer"},ro=s("#"),io=s("22 \u5E38\u89C4\u6D41(\u6587\u6863\u6D41)\u662F\u4E2A\u600E\u6837\u7684\u6392\u5217\u5173\u7CFB"),uo=n("p",null,"\u5C06\u7A97\u4F53\u81EA\u4E0A\u800C\u4E0B\u5206\u6210\u4E00\u884C\u4E00\u884C,\u5E76\u5728\u6BCF\u884C\u4E2D\u6309\u4ECE\u5DE6\u81F3\u53F3\u7684\u6328\u6B21\u6392\u653E\u5143\u7D20\u3002",-1),ko={id:"_23-inline-block\u7684\u4F7F\u7528\u573A\u666F",tabindex:"-1"},bo=n("a",{class:"header-anchor",href:"#_23-inline-block\u7684\u4F7F\u7528\u573A\u666F","aria-hidden":"true"},"#",-1),mo=s(),ho={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_23-inline-block%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF",target:"_blank",rel:"noopener noreferrer"},_o=s("#"),go=s("23 inline-block\u7684\u4F7F\u7528\u573A\u666F"),Eo=t("<ol><li>\u8981\u8BBE\u7F6E\u67D0\u4E9B\u5B50\u5143\u7D20\u5728\u4E00\u884C\u6216\u8005\u591A\u884C\u5185\u663E\u793A\uFF0C\u5C24\u5176\u662F\u6392\u5217\u65B9\u5411\u4E00\u81F4\u7684\u60C5\u51B5\u4E0B\uFF0C\u5E94\u5C3D\u91CF\u7528<code>inline-block</code>\u3002</li><li>\u5E0C\u671B\u82E5\u5E72\u4E2A\u5143\u7D20\u5E73\u884C\u6392\u5217\uFF0C\u4E14\u5728\u7236\u5143\u7D20\u4E2D\u5C45\u4E2D\u6392\u5217\uFF0C\u6B64\u65F6\u53EF\u4EE5\u7528<code>inline-block</code>\uFF0C\u4E14\u7ED9\u7236\u5143\u7D20\u8BBE<code>text-align: center</code>\u3002</li><li><code>inline-block</code>\u53EF\u4EE5\u7528\u4E00\u6392<code>a {display: inline-block}</code>\u5B9E\u73B0\u6A2A\u5411\u5BFC\u822A\u680F\uFF0C\u65E0\u8BBA\u662F\u5C45\u5DE6\u7684\u5BFC\u822A\u680F\u8FD8\u662F\u5C45\u53F3\u7684\u90FD\u9002\u7528\u3002</li></ol><p>\u5BF9\u4E8E\u7B2C\u4E00\u79CD\u548C\u7B2C\u4E09\u79CD\u60C5\u51B5\u867D\u7136\u90FD\u53EF\u4EE5\u4F7F\u7528<code>float</code>\u6765\u5B9E\u73B0\uFF0C\u4E0D\u8FC7<code>inline-block</code>\u4F1A\u6BD4\u5B83\u597D\u4E00\u4E9B\uFF0C\u539F\u56E0\u5982\u4E0B\uFF1A</p><ul><li>\u6D6E\u52A8\u4F1A\u8131\u79BB\u6587\u6863\u6D41\uFF0C\u5BFC\u81F4\u7236\u5143\u7D20\u9AD8\u5EA6\u584C\u9677</li></ul>",3),fo={id:"_24-position-fixed\u4EC0\u4E48\u65F6\u5019\u4F1A\u5931\u6548",tabindex:"-1"},vo=n("a",{class:"header-anchor",href:"#_24-position-fixed\u4EC0\u4E48\u65F6\u5019\u4F1A\u5931\u6548","aria-hidden":"true"},"#",-1),wo=s(),yo={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_24-position-fixed%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E4%BC%9A%E5%A4%B1%E6%95%88",target:"_blank",rel:"noopener noreferrer"},xo=s("#"),Ao=s("24 position: fixed\u4EC0\u4E48\u65F6\u5019\u4F1A\u5931\u6548\uFF1F"),Bo=t("<p>\u6211\u4EEC\u77E5\u9053\uFF0C\u8BBE\u7F6E\u4E86<code>position: fixed</code>\u56FA\u5B9A\u5B9A\u4F4D\u5C5E\u6027\u7684\u5143\u7D20\u4F1A\u8131\u79BB\u6587\u6863\u6D41\uFF0C\u8FBE\u5230\u201C\u8D85\u7136\u8131\u4FD7\u201D\u7684\u5883\u754C\u3002</p><blockquote><p>\u4E5F\u5C31\u662F\u8BF4\u6B64\u65F6\u7ED9\u8FD9\u79CD\u5143\u7D20\u8BBE\u7F6E<code>top, left, right, bottom</code>\u7B49\u5C5E\u6027\u662F\u6839\u636E<strong>\u6D4F\u89C8\u5668\u7A97\u53E3</strong>\u5B9A\u4F4D\u7684\uFF0C\u4E0E\u5176\u4E0A\u7EA7\u5143\u7D20\u7684\u4F4D\u7F6E\u65E0\u5173\u3002</p></blockquote><p>\u4F46\u662F\u6709\u4E00\u79CD\u60C5\u51B5\u4F8B\u5916\uFF1A</p><ul><li>\u82E5\u662F\u8BBE\u7F6E\u4E86<code>position: fixed</code>\u5C5E\u6027\u7684\u5143\u7D20\uFF0C\u5B83\u7684\u7956\u5148\u5143\u7D20\u8BBE\u7F6E\u4E86<code>transform</code>\u5C5E\u6027\u5219\u4F1A\u5BFC\u81F4\u56FA\u5B9A\u5B9A\u4F4D\u5C5E\u6027\u5931\u6548\u3002</li><li>\u53EA\u8981\u4F60\u7684<code>transform</code>\u8BBE\u7F6E\u7684\u4E0D\u662F<code>none</code>\uFF0C\u90FD\u4F1A\u5F71\u54CD\u5230<code>position: fixed</code>\uFF0C\u56E0\u4E3A\u6B64\u65F6\u5C31\u4F1A\u76F8\u5BF9\u4E8E\u7956\u5148\u5143\u7D20\u6307\u5B9A\u5750\u6807\uFF0C\u800C\u4E0D\u662F\u6D4F\u89C8\u5668\u7A97\u53E3\u3002</li></ul><p>\u6CE8\u610F\uFF0C\u8FD9\u4E2A\u7279\u6027\u8868\u73B0\uFF0C\u76EE\u524D\u53EA\u5728Chrome\u6D4F\u89C8\u5668/FireFox\u6D4F\u89C8\u5668\u4E0B\u6709\u3002IE\u6D4F\u89C8\u5668\uFF0C\u5305\u62ECIE11, <code>fixed</code>\u8FD8\u662F<code>fixed</code>\u7684\u8868\u73B0\u3002</p>",5),qo={id:"_25-\u8BF4\u4E00\u4E0B\u56DE\u6D41\u548C\u91CD\u7ED8",tabindex:"-1"},jo=n("a",{class:"header-anchor",href:"#_25-\u8BF4\u4E00\u4E0B\u56DE\u6D41\u548C\u91CD\u7ED8","aria-hidden":"true"},"#",-1),So=s(),Co={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_25-%E8%AF%B4%E4%B8%80%E4%B8%8B%E5%9B%9E%E6%B5%81%E5%92%8C%E9%87%8D%E7%BB%98",target:"_blank",rel:"noopener noreferrer"},Do=s("#"),Fo=s("25 \u8BF4\u4E00\u4E0B\u56DE\u6D41\u548C\u91CD\u7ED8"),Po=t("<p><strong>\u56DE\u6D41</strong>\uFF1A</p><p>\u89E6\u53D1\u6761\u4EF6\uFF1A\u5F53\u6211\u4EEC\u5BF9 DOM \u7ED3\u6784\u7684\u4FEE\u6539\u5F15\u53D1 DOM \u51E0\u4F55\u5C3A\u5BF8\u53D8\u5316\u7684\u65F6\u5019\uFF0C\u4F1A\u53D1\u751F<code>\u56DE\u6D41</code>\u7684\u8FC7\u7A0B\u3002</p><p>\u4F8B\u5982\u4EE5\u4E0B\u64CD\u4F5C\u4F1A\u89E6\u53D1\u56DE\u6D41\uFF1A</p><p>1.\u4E00\u4E2A DOM \u5143\u7D20\u7684\u51E0\u4F55\u5C5E\u6027\u53D8\u5316\uFF0C\u5E38\u89C1\u7684\u51E0\u4F55\u5C5E\u6027\u6709<code>width</code>\u3001<code>height</code>\u3001<code>padding</code>\u3001<code>margin</code>\u3001<code>left</code>\u3001<code>top</code>\u3001<code>border</code> \u7B49\u7B49, \u8FD9\u4E2A\u5F88\u597D\u7406\u89E3\u3002 2. \u4F7F DOM \u8282\u70B9\u53D1\u751F<code>\u589E\u51CF</code>\u6216\u8005<code>\u79FB\u52A8</code>\u3002 3. \u8BFB\u5199 <code>offset</code>\u65CF\u3001<code>scroll</code>\u65CF\u548C<code>client</code>\u65CF\u5C5E\u6027\u7684\u65F6\u5019\uFF0C\u6D4F\u89C8\u5668\u4E3A\u4E86\u83B7\u53D6\u8FD9\u4E9B\u503C\uFF0C\u9700\u8981\u8FDB\u884C\u56DE\u6D41\u64CD\u4F5C\u3002 4. \u8C03\u7528 <code>window.getComputedStyle</code> \u65B9\u6CD5\u3002</p><blockquote><p>\u56DE\u6D41\u8FC7\u7A0B\uFF1A\u7531\u4E8EDOM\u7684\u7ED3\u6784\u53D1\u751F\u4E86\u6539\u53D8\uFF0C\u6240\u4EE5\u9700\u8981\u4ECE\u751F\u6210DOM\u8FD9\u4E00\u6B65\u5F00\u59CB\uFF0C\u91CD\u65B0\u7ECF\u8FC7<code>\u6837\u5F0F\u8BA1\u7B97</code>\u3001<code>\u751F\u6210\u5E03\u5C40\u6811</code>\u3001<code>\u5EFA\u7ACB\u56FE\u5C42\u6811</code>\u3001\u518D\u5230<code>\u751F\u6210\u7ED8\u5236\u5217\u8868</code>\u4EE5\u53CA\u4E4B\u540E\u7684\u663E\u793A\u5668\u663E\u793A\u8FD9\u6574\u4E00\u4E2A\u6E32\u67D3\u8FC7\u7A0B\u8D70\u4E00\u904D\uFF0C\u5F00\u9500\u662F\u975E\u5E38\u5927\u7684\u3002</p></blockquote><p><strong>\u91CD\u7ED8</strong>\uFF1A</p><p>\u89E6\u53D1\u6761\u4EF6\uFF1A</p><ul><li>\u5F53 DOM \u7684\u4FEE\u6539\u5BFC\u81F4\u4E86\u6837\u5F0F\u7684\u53D8\u5316\uFF0C\u5E76\u4E14\u6CA1\u6709\u5F71\u54CD\u51E0\u4F55\u5C5E\u6027\u7684\u65F6\u5019\uFF0C\u4F1A\u5BFC\u81F4<code>\u91CD\u7ED8</code>(<code>repaint</code>)\u3002</li><li>\u91CD\u7ED8\u8FC7\u7A0B\uFF1A\u7531\u4E8E\u6CA1\u6709\u5BFC\u81F4 DOM \u51E0\u4F55\u5C5E\u6027\u7684\u53D8\u5316\uFF0C\u56E0\u6B64\u5143\u7D20\u7684\u4F4D\u7F6E\u4FE1\u606F\u4E0D\u9700\u8981\u66F4\u65B0\uFF0C\u6240\u4EE5\u5F53\u53D1\u751F\u91CD\u7ED8\u7684\u65F6\u5019\uFF0C\u4F1A\u8DF3\u8FC7<code>\u751F\u5B58\u5E03\u5C40\u6811</code>\u548C<code>\u5EFA\u7ACB\u56FE\u5C42\u6811</code>\u7684\u9636\u6BB5\uFF0C\u76F4\u63A5\u5230<code>\u751F\u6210\u7ED8\u5236\u5217\u8868</code>\uFF0C\u7136\u540E\u7EE7\u7EED\u8FDB\u884C\u5206\u5757\u3001\u751F\u6210\u4F4D\u56FE\u7B49\u540E\u9762\u4E00\u7CFB\u5217\u64CD\u4F5C\u3002</li></ul><p><strong>\u5982\u4F55\u907F\u514D\u89E6\u53D1\u56DE\u6D41\u548C\u91CD\u7ED8</strong>\uFF1A</p><ol><li>\u907F\u514D\u9891\u7E41\u4F7F\u7528 style\uFF0C\u800C\u662F\u91C7\u7528\u4FEE\u6539<code>class</code>\u7684\u65B9\u5F0F\u3002</li><li>\u5C06\u52A8\u753B\u6548\u679C\u5E94\u7528\u5230<code>position</code>\u5C5E\u6027\u4E3A<code>absolute</code>\u6216<code>fixed</code>\u7684\u5143\u7D20\u4E0A\u3002</li><li>\u4E5F\u53EF\u4EE5\u5148\u4E3A\u5143\u7D20\u8BBE\u7F6E<code>display: none</code>\uFF0C\u64CD\u4F5C\u7ED3\u675F\u540E\u518D\u628A\u5B83\u663E\u793A\u51FA\u6765\u3002\u56E0\u4E3A\u5728<code>display</code>\u5C5E\u6027\u4E3A<code>none</code>\u7684\u5143\u7D20\u4E0A\u8FDB\u884C\u7684DOM\u64CD\u4F5C\u4E0D\u4F1A\u5F15\u53D1\u56DE\u6D41\u548C\u91CD\u7ED8</li><li>\u4F7F\u7528<code>createDocumentFragment</code>\u8FDB\u884C\u6279\u91CF\u7684 DOM \u64CD\u4F5C\u3002</li><li>\u5BF9\u4E8E resize\u3001scroll \u7B49\u8FDB\u884C\u9632\u6296/\u8282\u6D41\u5904\u7406\u3002</li><li>\u907F\u514D\u9891\u7E41\u8BFB\u53D6\u4F1A\u5F15\u53D1\u56DE\u6D41/\u91CD\u7ED8\u7684\u5C5E\u6027\uFF0C\u5982\u679C\u786E\u5B9E\u9700\u8981\u591A\u6B21\u4F7F\u7528\uFF0C\u5C31\u7528\u4E00\u4E2A\u53D8\u91CF\u7F13\u5B58\u8D77\u6765\u3002</li><li>\u5229\u7528 CSS3 \u7684<code>transform</code>\u3001<code>opacity</code>\u3001<code>filter</code>\u8FD9\u4E9B\u5C5E\u6027\u53EF\u4EE5\u5B9E\u73B0\u5408\u6210\u7684\u6548\u679C\uFF0C\u4E5F\u5C31\u662F<code>CPU</code>\u52A0\u901F\u3002</li></ol>",10),To={id:"_26-gpu\u52A0\u901F\u7684\u539F\u56E0",tabindex:"-1"},No=n("a",{class:"header-anchor",href:"#_26-gpu\u52A0\u901F\u7684\u539F\u56E0","aria-hidden":"true"},"#",-1),Mo=s(),Oo={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_26-gpu%E5%8A%A0%E9%80%9F%E7%9A%84%E5%8E%9F%E5%9B%A0",target:"_blank",rel:"noopener noreferrer"},Io=s("#"),Ro=s("26 GPU\u52A0\u901F\u7684\u539F\u56E0"),Vo=t("<blockquote><p>\u5728\u5408\u6210\u7684\u60C5\u51B5\u4E0B\uFF0C\u4F1A\u76F4\u63A5\u8DF3\u8FC7\u5E03\u5C40\u548C\u7ED8\u5236\u6D41\u7A0B\uFF0C\u76F4\u63A5\u8FDB\u5165<code>\u975E\u4E3B\u7EBF\u7A0B</code>\u5904\u7406\u7684\u90E8\u5206\uFF0C\u5373\u76F4\u63A5\u4EA4\u7ED9<code>\u5408\u6210\u7EBF\u7A0B</code>\u5904\u7406\u3002\u4EA4\u7ED9\u5B83\u5904\u7406\u6709\u4E24\u5927\u597D\u5904:</p></blockquote><ol><li>\u80FD\u591F\u5145\u5206\u53D1\u6325<code>GPU</code>\u7684\u4F18\u52BF\u3002\u5408\u6210\u7EBF\u7A0B\u751F\u6210\u4F4D\u56FE\u7684\u8FC7\u7A0B\u4E2D\u4F1A\u8C03\u7528\u7EBF\u7A0B\u6C60\uFF0C\u5E76\u5728\u5176\u4E2D\u4F7F\u7528<code>GPU</code>\u8FDB\u884C\u52A0\u901F\u751F\u6210\uFF0C\u800C <code>GPU</code> \u662F\u64C5\u957F\u5904\u7406\u4F4D\u56FE\u6570\u636E\u7684\u3002</li><li>\u6CA1\u6709\u5360\u7528\u4E3B\u7EBF\u7A0B\u7684\u8D44\u6E90\uFF0C\u5373\u4F7F\u4E3B\u7EBF\u7A0B\u5361\u4F4F\u4E86\uFF0C\u6548\u679C\u4F9D\u7136\u80FD\u591F\u6D41\u7545\u5730\u5C55\u793A\u3002</li></ol>",2),Ho={id:"_27-\u8BF4\u8BF4will-change",tabindex:"-1"},Lo=n("a",{class:"header-anchor",href:"#_27-\u8BF4\u8BF4will-change","aria-hidden":"true"},"#",-1),Uo=s(),Jo={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_27-%E8%AF%B4%E8%AF%B4will-change",target:"_blank",rel:"noopener noreferrer"},Wo=s("#"),zo=s("27 \u8BF4\u8BF4will-change"),Go=t("<blockquote><p><code>will-change</code>\u662F<code>CSS3</code>\u65B0\u589E\u7684\u6807\u51C6\u5C5E\u6027\uFF0C\u5B83\u7684\u4F5C\u7528\u5F88\u5355\u7EAF\uFF0C\u5C31\u662F<code>&quot;\u589E\u5F3A\u9875\u9762\u6E32\u67D3\u6027\u80FD&quot;</code>\uFF0C\u5F53\u6211\u4EEC\u5728\u901A\u8FC7\u67D0\u4E9B\u884C\u4E3A\u89E6\u53D1\u9875\u9762\u8FDB\u884C\u5927\u9762\u79EF\u7ED8\u5236\u7684\u65F6\u5019\uFF0C\u6D4F\u89C8\u5668\u5F80\u5F80\u662F\u6CA1\u6709\u51C6\u5907\uFF0C\u53EA\u80FD\u88AB\u52A8\u7684\u4F7F\u7528CUP\u53BB\u8BA1\u7B97\u548C\u91CD\u7ED8\uFF0C\u7531\u4E8E\u4E8B\u5148\u6CA1\u6709\u51C6\u5907\uFF0C\u5BF9\u4E8E\u4E00\u4E9B\u590D\u6742\u7684\u6E32\u67D3\u53EF\u80FD\u4F1A\u51FA\u73B0\u6389\u5E27\u3001\u5361\u987F\u7B49\u60C5\u51B5\u3002\u800C<code>will-change</code>\u5219\u662F\u5728\u771F\u6B63\u7684\u884C\u4E3A\u89E6\u53D1\u4E4B\u524D\u544A\u8BC9\u6D4F\u89C8\u5668\u53EF\u80FD\u8981\u8FDB\u884C\u91CD\u7ED8\u4E86\uFF0C\u76F8\u5F53\u4E8E\u6D4F\u89C8\u5668\u628ACUP\u62C9\u4E0A\u4E86\uFF0C\u80FD\u4ECE\u5BB9\u7684\u9762\u5BF9\u63A5\u4E0B\u6765\u7684\u53D8\u5F62\u3002</p></blockquote><p><strong>\u5E38\u7528\u7684\u8BED\u6CD5\u4E3B\u8981\u6709\uFF1A</strong></p><ul><li><code>whil-change: scroll-position;</code> \u5373\u5C06\u5F00\u59CB\u6EDA\u52A8</li><li><code>will-change: contents;</code> \u5185\u5BB9\u8981\u52A8\u753B\u6216\u8005\u53D8\u5316\u4E86</li><li><code>will-transform;</code> transform\u76F8\u5173\u7684\u5C5E\u6027\u8981\u53D8\u5316\u4E86(\u5E38\u7528)</li></ul><p><strong>\u6CE8\u610F\uFF1A</strong></p><ul><li><code>will-change</code>\u867D\u7136\u53EF\u4EE5\u5F00\u542F\u52A0\u901F\uFF0C\u4F46\u662F\u4E00\u5B9A\u8981\u9002\u5EA6\u4F7F\u7528</li><li>\u5F00\u542F\u52A0\u901F\u7684\u4EE3\u4EF7\u4E3A\u624B\u673A\u7684\u8017\u7535\u91CF\u4F1A\u589E\u52A0</li><li>\u4F7F\u7528\u65F6\u9075\u5FAA\u6700\u5C0F\u5316\u5F71\u54CD\u539F\u5219\uFF0C\u53EF\u4EE5\u5BF9\u4F2A\u5143\u7D20\u5F00\u542F\u52A0\u901F\uFF0C\u72EC\u7ACB\u6E32\u67D3</li><li>\u53EF\u4EE5\u5199\u5728\u4F2A\u7C7B\u4E2D\uFF0C\u4F8B\u5982<code>hover</code>\u4E2D\uFF0C\u8FD9\u6837\u79FB\u51FA\u5143\u7D20\u7684\u65F6\u5019\u5C31\u4F1A\u81EA\u52A8<code>remove</code>\u6389<code>will-change</code>\u4E86</li><li>\u5982\u679C\u4F7F\u7528<code>JS</code>\u6DFB\u52A0\u4E86<code>will-change</code>\uFF0C\u6CE8\u610F\u8981\u53CA\u65F6<code>remove</code>\u6389\uFF0C\u65B9\u5F0F\u5C31\u662F<code>style.willChange = &#39;auto&#39;</code></li></ul>",5),$o={id:"_28-z-index\u548Cbackground\u7684\u8986\u76D6\u5173\u7CFB",tabindex:"-1"},Xo=n("a",{class:"header-anchor",href:"#_28-z-index\u548Cbackground\u7684\u8986\u76D6\u5173\u7CFB","aria-hidden":"true"},"#",-1),Ko=s(),Qo={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_28-z-index%E5%92%8Cbackground%E7%9A%84%E8%A6%86%E7%9B%96%E5%85%B3%E7%B3%BB",target:"_blank",rel:"noopener noreferrer"},Yo=s("#"),Zo=s("28 z-index\u548Cbackground\u7684\u8986\u76D6\u5173\u7CFB"),nc=n("p",null,[n("img",{src:"https://poetries1.gitee.io/img-repo/2020/09/4.png",alt:"img"})],-1),sc={id:"_29-\u79FB\u52A8\u7AEF\u4E2Dcss\u4F60\u662F\u4F7F\u7528\u4EC0\u4E48\u5355\u4F4D",tabindex:"-1"},ac=n("a",{class:"header-anchor",href:"#_29-\u79FB\u52A8\u7AEF\u4E2Dcss\u4F60\u662F\u4F7F\u7528\u4EC0\u4E48\u5355\u4F4D","aria-hidden":"true"},"#",-1),ec=s(),tc={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_29-%E7%A7%BB%E5%8A%A8%E7%AB%AF%E4%B8%ADcss%E4%BD%A0%E6%98%AF%E4%BD%BF%E7%94%A8%E4%BB%80%E4%B9%88%E5%8D%95%E4%BD%8D",target:"_blank",rel:"noopener noreferrer"},pc=s("#"),oc=s("29 \u79FB\u52A8\u7AEF\u4E2Dcss\u4F60\u662F\u4F7F\u7528\u4EC0\u4E48\u5355\u4F4D"),cc=t("<p><strong>\u6BD4\u8F83\u5E38\u7528\u7684</strong>\uFF1A</p><ul><li><code>em</code>\uFF1A\u5B9A\u4E49\u5B57\u4F53\u5927\u5C0F\u65F6\u4EE5\u7236\u7EA7\u7684\u5B57\u4F53\u5927\u5C0F\u4E3A\u57FA\u51C6\uFF1B\u5B9A\u4E49\u957F\u5EA6\u5355\u4F4D\u65F6\u4EE5\u5F53\u524D\u5B57\u4F53\u5927\u5C0F\u4E3A\u57FA\u51C6\u3002\u4F8B\u7236\u7EA7<code>font-size: 14px</code>\uFF0C\u5219\u5B50\u7EA7<code>font-size: 1em;</code>\u4E3A<code>font-size: 14px;</code>\uFF1B\u82E5\u5B9A\u4E49\u957F\u5EA6\u65F6\uFF0C\u5B50\u7EA7\u7684\u5B57\u4F53\u5927\u5C0F\u5982\u679C\u4E3A<code>14px</code>\uFF0C\u5219\u5B50\u7EA7<code>width: 2em;</code>\u4E3A<code>width: 24px</code>\u3002</li><li><code>rem</code>\uFF1A\u4EE5\u6839\u5143\u7D20\u7684\u5B57\u4F53\u5927\u5C0F\u4E3A\u57FA\u51C6\u3002\u4F8B\u5982<code>html</code>\u7684<code>font-size: 14px</code>\uFF0C\u5219\u5B50\u7EA7<code>1rem = 14px</code>\u3002</li><li><code>%</code>\uFF1A\u4EE5\u7236\u7EA7\u7684\u5BBD\u5EA6\u4E3A\u57FA\u51C6\u3002\u4F8B\u7236\u7EA7<code>width: 200px</code>\uFF0C\u5219\u5B50\u7EA7<code>width: 50%;height:50%;</code>\u4E3A<code>width: 100px;height: 100px;</code></li><li><code>vw\u548Cvh</code>\uFF1A\u57FA\u4E8E\u89C6\u53E3\u7684\u5BBD\u5EA6\u548C\u9AD8\u5EA6(\u89C6\u53E3\u4E0D\u5305\u62EC\u6D4F\u89C8\u5668\u7684\u5730\u5740\u680F\u5DE5\u5177\u680F\u548C\u72B6\u6001\u680F)\u3002\u4F8B\u5982\u89C6\u53E3\u5BBD\u5EA6\u4E3A<code>1000px</code>\uFF0C\u5219<code>60vw = 600px;</code></li><li><code>vmin\u548Cvmax</code>\uFF1A<code>vmin</code>\u4E3A\u5F53\u524D<code>vw</code> \u548C<code>vh</code>\u4E2D\u8F83\u5C0F\u7684\u4E00\u4E2A\u503C\uFF1B<code>vmax</code>\u4E3A\u8F83\u5927\u7684\u4E00\u4E2A\u503C\u3002\u4F8B\u5982\u89C6\u53E3\u5BBD\u5EA6<code>375px</code>\uFF0C\u89C6\u53E3\u9AD8\u5EA6<code>812px</code>\uFF0C\u5219<code>100vmin = 375px;</code>\uFF0C<code>100vmax = 812px;</code></li></ul><p><strong>\u4E0D\u5E38\u7528\u7684\uFF1A</strong></p><ul><li><code>ex\u548Cch</code>\uFF1A<code>ex</code>\u4EE5\u5B57\u7B26<code>&quot;x&quot;</code>\u7684\u9AD8\u5EA6\u4E3A\u57FA\u51C6\uFF1B\u4F8B\u5982<code>1ex</code>\u8868\u793A\u548C\u5B57\u7B26<code>&quot;x&quot;</code>\u4E00\u6837\u957F\u3002<code>ch</code>\u4EE5\u6570\u5B57<code>&quot;0&quot;</code>\u7684\u5BBD\u5EA6\u4E3A\u57FA\u51C6\uFF1B\u4F8B\u5982<code>2ch</code>\u8868\u793A\u548C2\u4E2A\u6570\u5B57<code>&quot;0&quot;</code>\u4E00\u6837\u957F\u3002</li></ul><p><strong>\u79FB\u52A8\u7AEF\u5E03\u5C40\u603B\u7ED3</strong>\uFF1A</p><ol><li>\u79FB\u52A8\u7AEF\u5E03\u5C40\u7684\u65B9\u5F0F\u4E3B\u8981\u4F7F\u7528rem\u548Cflex\uFF0C\u53EF\u4EE5\u7ED3\u5408\u5404\u81EA\u7684\u4F18\u70B9\uFF0C\u6BD4\u5982flex\u5E03\u5C40\u5F88\u7075\u6D3B\uFF0C\u4F46\u662F\u5B57\u4F53\u7684\u5927\u5C0F\u4E0D\u597D\u63A7\u5236\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528rem\u548C\u5A92\u4F53\u67E5\u8BE2\u63A7\u5236\u5B57\u4F53\u7684\u5927\u5C0F\uFF0C\u5A92\u4F53\u67E5\u8BE2\u89C6\u53E3\u7684\u5927\u5C0F\uFF0C\u7136\u540E\u4E0D\u540C\u7684\u4E0A\u89C6\u53E3\u5927\u5C0F\u4E0B\u8BBE\u7F6E\u8BBE\u7F6E<code>html</code>\u7684<code>font-size</code>\u3002</li><li>\u53EF\u5355\u72EC\u5236\u4F5C\u79FB\u52A8\u7AEF\u9875\u9762\u4E5F\u53EF\u54CD\u5E94\u5F0Fpc\u7AEF\u79FB\u52A8\u7AEF\u5171\u7528\u4E00\u4E2A\u9875\u9762\u3002\u6CA1\u6709\u597D\u574F\uFF0C\u89C6\u60C5\u51B5\u800C\u5B9A\uFF0C\u56E0\u52BF\u5229\u5BFC</li></ol>",6),lc={id:"_30-rem\u548Cem\u7684\u533A\u522B",tabindex:"-1"},rc=n("a",{class:"header-anchor",href:"#_30-rem\u548Cem\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),ic=s(),uc={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_30-rem%E5%92%8Cem%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},kc=s("#"),dc=s("30 rem\u548Cem\u7684\u533A\u522B"),bc=t("<p><strong>em:</strong></p><blockquote><p>\u5B9A\u4E49\u5B57\u4F53\u5927\u5C0F\u65F6\u4EE5\u7236\u7EA7\u7684\u5B57\u4F53\u5927\u5C0F\u4E3A\u57FA\u51C6\uFF1B\u5B9A\u4E49\u957F\u5EA6\u5355\u4F4D\u65F6\u4EE5\u5F53\u524D\u5B57\u4F53\u5927\u5C0F\u4E3A\u57FA\u51C6\u3002\u4F8B\u7236\u7EA7<code>font-size: 14px</code>\uFF0C\u5219\u5B50\u7EA7<code>font-size: 1em;</code>\u4E3A<code>font-size: 14px;</code>\uFF1B\u82E5\u5B9A\u4E49\u957F\u5EA6\u65F6\uFF0C\u5B50\u7EA7\u7684\u5B57\u4F53\u5927\u5C0F\u5982\u679C\u4E3A<code>14px</code>\uFF0C\u5219\u5B50\u7EA7<code>width: 2em;</code>\u4E3A<code>width: 24px</code>\u3002</p></blockquote><p><strong>rem:</strong></p><p>\u4EE5\u6839\u5143\u7D20\u7684\u5B57\u4F53\u5927\u5C0F\u4E3A\u57FA\u51C6\u3002\u4F8B\u5982<code>html</code>\u7684<code>font-size: 14px</code>\uFF0C\u5219\u5B50\u7EA7<code>1rem = 14px</code>\u3002</p>",4),mc={id:"_31-\u5728\u79FB\u52A8\u7AEF\u4E2D\u600E\u6837\u521D\u59CB\u5316\u6839\u5143\u7D20\u7684\u5B57\u4F53\u5927\u5C0F",tabindex:"-1"},hc=n("a",{class:"header-anchor",href:"#_31-\u5728\u79FB\u52A8\u7AEF\u4E2D\u600E\u6837\u521D\u59CB\u5316\u6839\u5143\u7D20\u7684\u5B57\u4F53\u5927\u5C0F","aria-hidden":"true"},"#",-1),_c=s(),gc={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_31-%E5%9C%A8%E7%A7%BB%E5%8A%A8%E7%AB%AF%E4%B8%AD%E6%80%8E%E6%A0%B7%E5%88%9D%E5%A7%8B%E5%8C%96%E6%A0%B9%E5%85%83%E7%B4%A0%E7%9A%84%E5%AD%97%E4%BD%93%E5%A4%A7%E5%B0%8F",target:"_blank",rel:"noopener noreferrer"},Ec=s("#"),fc=s("31 \u5728\u79FB\u52A8\u7AEF\u4E2D\u600E\u6837\u521D\u59CB\u5316\u6839\u5143\u7D20\u7684\u5B57\u4F53\u5927\u5C0F"),vc=t(`<p>\u4E00\u4E2A\u7B80\u6613\u7248\u7684\u521D\u59CB\u5316\u6839\u5143\u7D20\u5B57\u4F53\u5927\u5C0F\u3002</p><p>\u9875\u9762\u5F00\u5934\u5904\u5F15\u5165\u4E0B\u9762\u8FD9\u6BB5\u4EE3\u7801\uFF0C\u7528\u4E8E\u52A8\u6001\u8BA1\u7B97<code>font-size</code>\uFF1A</p><p>(\u5047\u8BBE\u4F60\u9700\u8981\u7684<code>1rem = 20px</code>)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> html <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">onWindowResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    html<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">20</span> <span class="token operator">+</span> <span class="token string">&#39;px&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span> onWindowResize<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">onWindowResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><code>document.documentElement</code>\uFF1A\u83B7\u53D6<code>document</code>\u7684\u6839\u5143\u7D20</li><li><code>html.getBoundingClientRect().width</code>\uFF1A\u83B7\u53D6<code>html</code>\u7684\u5BBD\u5EA6(\u7A97\u53E3\u7684\u5BBD\u5EA6)</li><li>\u76D1\u542C<code>window</code>\u7684<code>resize</code>\u4E8B\u4EF6</li></ul><p>\u4E00\u822C\u8FD8\u9700\u8981\u914D\u5408\u4E00\u4E2A<code>meta</code>\u5934\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0, minimum-sacle=1.0, maximum-scale=1.0, user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,7),wc={id:"_32-\u79FB\u52A8\u7AEF\u4E2D\u4E0D\u540C\u624B\u673Ahtml\u9ED8\u8BA4\u7684\u5B57\u4F53\u5927\u5C0F\u90FD\u662F\u4E00\u6837\u7684\u5417",tabindex:"-1"},yc=n("a",{class:"header-anchor",href:"#_32-\u79FB\u52A8\u7AEF\u4E2D\u4E0D\u540C\u624B\u673Ahtml\u9ED8\u8BA4\u7684\u5B57\u4F53\u5927\u5C0F\u90FD\u662F\u4E00\u6837\u7684\u5417","aria-hidden":"true"},"#",-1),xc=s(),Ac={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_32-%E7%A7%BB%E5%8A%A8%E7%AB%AF%E4%B8%AD%E4%B8%8D%E5%90%8C%E6%89%8B%E6%9C%BAhtml%E9%BB%98%E8%AE%A4%E7%9A%84%E5%AD%97%E4%BD%93%E5%A4%A7%E5%B0%8F%E9%83%BD%E6%98%AF%E4%B8%80%E6%A0%B7%E7%9A%84%E5%90%97",target:"_blank",rel:"noopener noreferrer"},Bc=s("#"),qc=s("32 \u79FB\u52A8\u7AEF\u4E2D\u4E0D\u540C\u624B\u673Ahtml\u9ED8\u8BA4\u7684\u5B57\u4F53\u5927\u5C0F\u90FD\u662F\u4E00\u6837\u7684\u5417"),jc=n("blockquote",null,[n("p",null,[s("\u5982\u679C\u6CA1\u6709\u4EBA\u4E3A\u53D6\u6539\u53D8\u6839\u5143\u7D20\u5B57\u4F53\u5927\u5C0F\u7684\u8BDD\uFF0C\u9ED8\u8BA4\u662F"),n("code",null,"1rem = 16px"),s("\uFF1B\u6839\u5143\u7D20\u9ED8\u8BA4\u7684\u5B57\u4F53\u5927\u5C0F\u662F"),n("code",null,"16px"),s("\u3002")])],-1),Sc={id:"_33-\u7F16\u7A0B\u9898",tabindex:"-1"},Cc=n("a",{class:"header-anchor",href:"#_33-\u7F16\u7A0B\u9898","aria-hidden":"true"},"#",-1),Dc=s(),Fc={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#_33-%E7%BC%96%E7%A8%8B%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},Pc=s("#"),Tc=s("33 \u7F16\u7A0B\u9898"),Nc={id:"\u753B\u4E00\u6761-0-5px-\u7684\u7EBF",tabindex:"-1"},Mc=n("a",{class:"header-anchor",href:"#\u753B\u4E00\u6761-0-5px-\u7684\u7EBF","aria-hidden":"true"},"#",-1),Oc=s(),Ic={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#%E7%94%BB%E4%B8%80%E6%9D%A1-0-5px-%E7%9A%84%E7%BA%BF",target:"_blank",rel:"noopener noreferrer"},Rc=s("#"),Vc=s("\u753B\u4E00\u6761 0.5px \u7684\u7EBF"),Hc=n("ul",null,[n("li",null,[s("\u91C7\u7528 meta viewport \u7684\u65B9\u5F0F "),n("code",null,'<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />')]),n("li",null,[s("\u91C7\u7528 "),n("code",null,"border-image"),s(" \u7684\u65B9\u5F0F")]),n("li",null,[s("\u91C7\u7528 "),n("code",null,"transform: scale()"),s(" \u7684\u65B9\u5F0F")])],-1),Lc={id:"\u5982\u4F55\u753B\u4E00\u4E2A\u4E09\u89D2\u5F62",tabindex:"-1"},Uc=n("a",{class:"header-anchor",href:"#\u5982\u4F55\u753B\u4E00\u4E2A\u4E09\u89D2\u5F62","aria-hidden":"true"},"#",-1),Jc=s(),Wc={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#%E5%A6%82%E4%BD%95%E7%94%BB%E4%B8%80%E4%B8%AA%E4%B8%89%E8%A7%92%E5%BD%A2",target:"_blank",rel:"noopener noreferrer"},zc=s("#"),Gc=s("\u5982\u4F55\u753B\u4E00\u4E2A\u4E09\u89D2\u5F62"),$c=t(`<p>\u4E09\u89D2\u5F62\u539F\u7406:\u8FB9\u6846\u7684\u5747\u5206\u539F\u7406</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">div</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span>0px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>0px<span class="token punctuation">;</span>
  <span class="token property">border-top</span><span class="token punctuation">:</span>10px solid red<span class="token punctuation">;</span> 
  <span class="token property">border-right</span><span class="token punctuation">:</span>10px solid transparent<span class="token punctuation">;</span> 
  <span class="token property">border-bottom</span><span class="token punctuation">:</span>10px solid transparent<span class="token punctuation">;</span> 
  <span class="token property">border-left</span><span class="token punctuation">:</span>10px solid transparent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>`,2),Xc={id:"\u5706-\u534A\u5706-\u692D\u5706",tabindex:"-1"},Kc=n("a",{class:"header-anchor",href:"#\u5706-\u534A\u5706-\u692D\u5706","aria-hidden":"true"},"#",-1),Qc=s(),Yc={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#%E5%9C%86-%E5%8D%8A%E5%9C%86-%E6%A4%AD%E5%9C%86",target:"_blank",rel:"noopener noreferrer"},Zc=s("#"),nl=s("\u5706\uFF1F\u534A\u5706\uFF1F\u692D\u5706\uFF1F"),sl=t(`<div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">div</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box1</span> <span class="token punctuation">{</span> <span class="token comment">/* \u5706 */</span>
  <span class="token comment">/* border-radius: 50%; */</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box2</span> <span class="token punctuation">{</span> <span class="token comment">/* \u534A\u5706 */</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 50px 50px 0 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.box3</span> <span class="token punctuation">{</span> <span class="token comment">/* \u692D\u5706 */</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 50px/25px<span class="token punctuation">;</span> <span class="token comment">/* x\u8F74/y\u8F74 */</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div>`,1),al={id:"\u5DE6\u8FB9\u5B9A\u5BBD-\u53F3\u8FB9\u81EA\u9002\u5E94\u65B9\u6848",tabindex:"-1"},el=n("a",{class:"header-anchor",href:"#\u5DE6\u8FB9\u5B9A\u5BBD-\u53F3\u8FB9\u81EA\u9002\u5E94\u65B9\u6848","aria-hidden":"true"},"#",-1),tl=s(),pl={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#%E5%B7%A6%E8%BE%B9%E5%AE%9A%E5%AE%BD-%E5%8F%B3%E8%BE%B9%E8%87%AA%E9%80%82%E5%BA%94%E6%96%B9%E6%A1%88",target:"_blank",rel:"noopener noreferrer"},ol=s("#"),cl=s("\u5DE6\u8FB9\u5B9A\u5BBD\uFF0C\u53F3\u8FB9\u81EA\u9002\u5E94\u65B9\u6848"),ll=t(`<blockquote><p>float + margin\uFF0Cfloat + calc</p></blockquote><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* \u65B9\u68481 */</span> 
<span class="token selector">.left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right</span> <span class="token punctuation">{</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* \u65B9\u68482 */</span> 
<span class="token selector">.left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 120px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div>`,2),rl={id:"\u5DE6\u53F3\u4E24\u8FB9\u5B9A\u5BBD-\u4E2D\u95F4\u81EA\u9002\u5E94",tabindex:"-1"},il=n("a",{class:"header-anchor",href:"#\u5DE6\u53F3\u4E24\u8FB9\u5B9A\u5BBD-\u4E2D\u95F4\u81EA\u9002\u5E94","aria-hidden":"true"},"#",-1),ul=s(),kl={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#%E5%B7%A6%E5%8F%B3%E4%B8%A4%E8%BE%B9%E5%AE%9A%E5%AE%BD-%E4%B8%AD%E9%97%B4%E8%87%AA%E9%80%82%E5%BA%94",target:"_blank",rel:"noopener noreferrer"},dl=s("#"),bl=s("\u5DE6\u53F3\u4E24\u8FB9\u5B9A\u5BBD\uFF0C\u4E2D\u95F4\u81EA\u9002\u5E94"),ml=t(`<blockquote><p>float\uFF0Cfloat + calc, \u5723\u676F\u5E03\u5C40\uFF08\u8BBE\u7F6EBFC\uFF0Cmargin\u8D1F\u503C\u6CD5\uFF09\uFF0Cflex</p></blockquote><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.wrap</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.wrap &gt; div</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* \u65B9\u68481 */</span>
<span class="token selector">.left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right</span> <span class="token punctuation">{</span>
  <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.center</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 120px<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* \u65B9\u68482 */</span>
<span class="token selector">.left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right</span> <span class="token punctuation">{</span>
  <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.center</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 240px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* \u65B9\u68483 */</span>
<span class="token selector">.wrap</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.center</span> <span class="token punctuation">{</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div>`,2),hl={id:"\u5982\u4F55\u5B9E\u73B0\u5DE6\u4FA7\u5BBD\u5EA6\u56FA\u5B9A-\u53F3\u4FA7\u5BBD\u5EA6\u81EA\u9002\u5E94\u7684\u5E03\u5C40",tabindex:"-1"},_l=n("a",{class:"header-anchor",href:"#\u5982\u4F55\u5B9E\u73B0\u5DE6\u4FA7\u5BBD\u5EA6\u56FA\u5B9A-\u53F3\u4FA7\u5BBD\u5EA6\u81EA\u9002\u5E94\u7684\u5E03\u5C40","aria-hidden":"true"},"#",-1),gl=s(),El={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%B7%A6%E4%BE%A7%E5%AE%BD%E5%BA%A6%E5%9B%BA%E5%AE%9A-%E5%8F%B3%E4%BE%A7%E5%AE%BD%E5%BA%A6%E8%87%AA%E9%80%82%E5%BA%94%E7%9A%84%E5%B8%83%E5%B1%80",target:"_blank",rel:"noopener noreferrer"},fl=s("#"),vl=s("\u5982\u4F55\u5B9E\u73B0\u5DE6\u4FA7\u5BBD\u5EA6\u56FA\u5B9A\uFF0C\u53F3\u4FA7\u5BBD\u5EA6\u81EA\u9002\u5E94\u7684\u5E03\u5C40"),wl=t(`<div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box-left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box-right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>\u5229\u7528float + margin\u5B9E\u73B0</strong></p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
 <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box &gt; div</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-right</span> <span class="token punctuation">{</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>\u5229\u7528calc\u8BA1\u7B97\u5BBD\u5EA6</strong></p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
 <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box &gt; div</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-right</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 200px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>\u5229\u7528float + overflow\u5B9E\u73B0</strong></p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
 <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box &gt; div</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-right</span> <span class="token punctuation">{</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>\u5229\u7528flex\u5B9E\u73B0</strong></p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.box</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box &gt; div</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box-right</span> <span class="token punctuation">{</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span> // \u8BBE\u7F6Eflex-grow\u5C5E\u6027\u4E3A1\uFF0C\u9ED8\u8BA4\u4E3A0
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div>`,9),yl={id:"\u4E24\u8FB9\u5BBD\u5EA6\u56FA\u5B9A\u4E2D\u95F4\u81EA\u9002\u5E94\u7684\u4E09\u680F\u5E03\u5C40",tabindex:"-1"},xl=n("a",{class:"header-anchor",href:"#\u4E24\u8FB9\u5BBD\u5EA6\u56FA\u5B9A\u4E2D\u95F4\u81EA\u9002\u5E94\u7684\u4E09\u680F\u5E03\u5C40","aria-hidden":"true"},"#",-1),Al=s(),Bl={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#%E4%B8%A4%E8%BE%B9%E5%AE%BD%E5%BA%A6%E5%9B%BA%E5%AE%9A%E4%B8%AD%E9%97%B4%E8%87%AA%E9%80%82%E5%BA%94%E7%9A%84%E4%B8%89%E6%A0%8F%E5%B8%83%E5%B1%80",target:"_blank",rel:"noopener noreferrer"},ql=s("#"),jl=s("\u4E24\u8FB9\u5BBD\u5EA6\u56FA\u5B9A\u4E2D\u95F4\u81EA\u9002\u5E94\u7684\u4E09\u680F\u5E03\u5C40"),Sl=t(`<blockquote><p>\u5723\u676F\u5E03\u5C40\u548C\u53CC\u98DE\u7FFC\u5E03\u5C40\u662F\u524D\u7AEF\u5DE5\u7A0B\u5E08\u9700\u8981\u65E5\u5E38\u638C\u63E1\u7684\u91CD\u8981\u5E03\u5C40\u65B9\u5F0F\u3002\u4E24\u8005\u7684\u529F\u80FD\u76F8\u540C\uFF0C\u90FD\u662F\u4E3A\u4E86\u5B9E\u73B0\u4E00\u4E2A\u4E24\u4FA7\u5BBD\u5EA6\u56FA\u5B9A\uFF0C\u4E2D\u95F4\u5BBD\u5EA6\u81EA\u9002\u5E94\u7684\u4E09\u680F\u5E03\u5C40\u3002</p></blockquote><p><strong>\u5723\u676F\u5E03\u5C40</strong></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">body</span><span class="token punctuation">{</span>
    <span class="token property">min-width</span><span class="token punctuation">:</span> 550px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#container</span><span class="token punctuation">{</span>
    <span class="token property">padding-left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">padding-right</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#container .column</span><span class="token punctuation">{</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#center</span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#left</span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> -100%<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#right</span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> -150px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>center<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>left<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>right<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p><strong>\u53CC\u98DE\u7FFC\u5E03\u5C40</strong></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">body</span> <span class="token punctuation">{</span>
    <span class="token property">min-width</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#container</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.column</span> <span class="token punctuation">{</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#center</span> <span class="token punctuation">{</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#left</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> -100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#right</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> -150px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>center<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>left<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>right<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div>`,5),Cl={id:"css\u753B\u5706\u534A\u5706\u6247\u5F62\u4E09\u89D2\u68AF\u5F62",tabindex:"-1"},Dl=n("a",{class:"header-anchor",href:"#css\u753B\u5706\u534A\u5706\u6247\u5F62\u4E09\u89D2\u68AF\u5F62","aria-hidden":"true"},"#",-1),Fl=s(),Pl={href:"http://interview.poetries.top/excellent-docs/2-CSS%E6%A8%A1%E5%9D%97.html#css%E7%94%BB%E5%9C%86%E5%8D%8A%E5%9C%86%E6%89%87%E5%BD%A2%E4%B8%89%E8%A7%92%E6%A2%AF%E5%BD%A2",target:"_blank",rel:"noopener noreferrer"},Tl=s("#"),Nl=s("CSS\u753B\u5706\u534A\u5706\u6247\u5F62\u4E09\u89D2\u68AF\u5F62"),Ml=t(`<div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">div</span><span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* \u534A\u5706 */</span>
<span class="token selector">.half-circle</span><span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50px 50px 0 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* \u6247\u5F62 */</span>
<span class="token selector">.sector</span><span class="token punctuation">{</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 100px 0 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* \u4E09\u89D2 */</span>
<span class="token selector">.triangle</span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 50px solid red<span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> red transparent transparent transparent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* \u68AF\u5F62 */</span>
<span class="token selector">.ladder</span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 50px solid red<span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> red transparent transparent transparent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h1 id="_3-js\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#_3-js\u6A21\u5757" aria-hidden="true">#</a> 3 JS\u6A21\u5757</h1><h2 id="_1-\u6570\u636E\u7C7B\u578B\u57FA\u7840" tabindex="-1"><a class="header-anchor" href="#_1-\u6570\u636E\u7C7B\u578B\u57FA\u7840" aria-hidden="true">#</a> 1 \u6570\u636E\u7C7B\u578B\u57FA\u7840</h2>`,3),Ol={id:"_1-1-js\u5185\u7F6E\u7C7B\u578B",tabindex:"-1"},Il=n("a",{class:"header-anchor",href:"#_1-1-js\u5185\u7F6E\u7C7B\u578B","aria-hidden":"true"},"#",-1),Rl=s(),Vl={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_1-1-js%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B",target:"_blank",rel:"noopener noreferrer"},Hl=s("#"),Ll=s("1.1 JS\u5185\u7F6E\u7C7B\u578B"),Ul=t(`<ul><li><code>JS</code> \u4E2D\u5206\u4E3A\u4E03\u79CD\u5185\u7F6E\u7C7B\u578B\uFF0C\u4E03\u79CD\u5185\u7F6E\u7C7B\u578B\u53C8\u5206\u4E3A\u4E24\u5927\u7C7B\u578B\uFF1A\u57FA\u672C\u7C7B\u578B\u548C\u5BF9\u8C61\uFF08<code>Object</code>\uFF09\u3002</li><li>\u57FA\u672C\u7C7B\u578B\u6709\u4E03\u79CD\uFF1A <code>null</code>\uFF0C<code>undefined</code>\uFF0C<code>boolean</code>\uFF0C<code>number</code>\uFF0C<code>string</code>\uFF0C<code>symbol</code>, <code>bigint</code>\u3002</li><li>\u5176\u4E2D <code>JS</code> \u7684\u6570\u5B57\u7C7B\u578B\u662F\u6D6E\u70B9\u7C7B\u578B\u7684\uFF0C\u6CA1\u6709\u6574\u578B\u3002\u5E76\u4E14\u6D6E\u70B9\u7C7B\u578B\u57FA\u4E8E <code>IEEE 754</code>\u6807\u51C6\u5B9E\u73B0\uFF0C\u5728\u4F7F\u7528\u4E2D\u4F1A\u9047\u5230\u67D0\u4E9B Bug\u3002<code>NaN</code> \u4E5F\u5C5E\u4E8E <code>number</code> \u7C7B\u578B\uFF0C\u5E76\u4E14 <code>NaN</code> \u4E0D\u7B49\u4E8E\u81EA\u8EAB\u3002</li><li>\u5BF9\u4E8E\u57FA\u672C\u7C7B\u578B\u6765\u8BF4\uFF0C\u5982\u679C\u4F7F\u7528\u5B57\u9762\u91CF\u7684\u65B9\u5F0F\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u53D8\u91CF\u53EA\u662F\u4E2A\u5B57\u9762\u91CF\uFF0C\u53EA\u6709\u5728\u5FC5\u8981\u7684\u65F6\u5019\u624D\u4F1A\u8F6C\u6362\u4E3A\u5BF9\u5E94\u7684\u7C7B\u578B\u3002</li></ul><p><strong>\u5F15\u7528\u6570\u636E\u7C7B\u578B:</strong></p><ul><li>\u5BF9\u8C61<code>Object</code>\uFF08\u5305\u542B\u666E\u901A\u5BF9\u8C61-<code>Object</code>\uFF0C\u6570\u7EC4\u5BF9\u8C61-<code>Array</code>\uFF0C\u6B63\u5219\u5BF9\u8C61-<code>RegExp</code>\uFF0C\u65E5\u671F\u5BF9\u8C61-<code>Date</code>\uFF0C\u6570\u5B66\u51FD\u6570-<code>Math</code>\uFF0C\u51FD\u6570\u5BF9\u8C61-<code>Function</code>\uFF09</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">111</span> <span class="token comment">// \u8FD9\u53EA\u662F\u5B57\u9762\u91CF\uFF0C\u4E0D\u662F number \u7C7B\u578B</span>
a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u4F7F\u7528\u65F6\u5019\u624D\u4F1A\u8F6C\u6362\u4E3A\u5BF9\u8C61\u7C7B\u578B</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>\u5BF9\u8C61\uFF08<code>Object</code>\uFF09\u662F\u5F15\u7528\u7C7B\u578B\uFF0C\u5728\u4F7F\u7528\u8FC7\u7A0B\u4E2D\u4F1A\u9047\u5230\u6D45\u62F7\u8D1D\u548C\u6DF1\u62F7\u8D1D\u7684\u95EE\u9898\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;FE&#39;</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> a
b<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;EF&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// EF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>\u8BF4\u51FA\u4E0B\u9762\u8FD0\u884C\u7684\u7ED3\u679C\uFF0C\u89E3\u91CA\u539F\u56E0\u3002</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">26</span>
  person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;hzj&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> person
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;fyq&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">19</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span> <span class="token comment">// -&gt; ?</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span> <span class="token comment">// -&gt; ?</span>
<span class="token comment">// \u7ED3\u679C:</span>
p1\uFF1A<span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> \u201Cfyq\u201D<span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">}</span>
p2\uFF1A<span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> \u201Chzj\u201D<span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><blockquote><p>\u539F\u56E0: \u5728\u51FD\u6570\u4F20\u53C2\u7684\u65F6\u5019\u4F20\u9012\u7684\u662F\u5BF9\u8C61\u5728\u5806\u4E2D\u7684\u5185\u5B58\u5730\u5740\u503C\uFF0Ctest\u51FD\u6570\u4E2D\u7684\u5B9E\u53C2person\u662Fp1\u5BF9\u8C61\u7684\u5185\u5B58\u5730\u5740\uFF0C\u901A\u8FC7\u8C03\u7528<code>person.age = 26</code>\u786E\u5B9E\u6539\u53D8\u4E86p1\u7684\u503C\uFF0C\u4F46\u968F\u540E<code>person</code>\u53D8\u6210\u4E86\u53E6\u4E00\u5757\u5185\u5B58\u7A7A\u95F4\u7684\u5730\u5740\uFF0C\u5E76\u4E14\u5728\u6700\u540E\u5C06\u8FD9\u53E6\u5916\u4E00\u4EFD\u5185\u5B58\u7A7A\u95F4\u7684\u5730\u5740\u8FD4\u56DE\uFF0C\u8D4B\u7ED9\u4E86p2\u3002</p></blockquote>`,9),Jl={id:"_1-2-null\u548Cundefined\u533A\u522B",tabindex:"-1"},Wl=n("a",{class:"header-anchor",href:"#_1-2-null\u548Cundefined\u533A\u522B","aria-hidden":"true"},"#",-1),zl=s(),Gl={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_1-2-null%E5%92%8Cundefined%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},$l=s("#"),Xl=s("1.2 null\u548Cundefined\u533A\u522B"),Kl=t("<blockquote><p><code>Undefined</code>\u7C7B\u578B\u53EA\u6709\u4E00\u4E2A\u503C\uFF0C\u5373<code>undefined</code>\u3002\u5F53\u58F0\u660E\u7684\u53D8\u91CF\u8FD8\u672A\u88AB\u521D\u59CB\u5316\u65F6\uFF0C\u53D8\u91CF\u7684\u9ED8\u8BA4\u503C\u4E3A<code>undefined</code>\u3002\u7528\u6CD5</p></blockquote><ul><li>\u53D8\u91CF\u88AB\u58F0\u660E\u4E86\uFF0C\u4F46\u6CA1\u6709\u8D4B\u503C\u65F6\uFF0C\u5C31\u7B49\u4E8E<code>undefined</code>\u3002</li><li>\u8C03\u7528\u51FD\u6570\u65F6\uFF0C\u5E94\u8BE5\u63D0\u4F9B\u7684\u53C2\u6570\u6CA1\u6709\u63D0\u4F9B\uFF0C\u8BE5\u53C2\u6570\u7B49\u4E8E<code>undefined</code>\u3002</li><li>\u5BF9\u8C61\u6CA1\u6709\u8D4B\u503C\u7684\u5C5E\u6027\uFF0C\u8BE5\u5C5E\u6027\u7684\u503C\u4E3A<code>undefined</code>\u3002</li><li>\u51FD\u6570\u6CA1\u6709\u8FD4\u56DE\u503C\u65F6\uFF0C\u9ED8\u8BA4\u8FD4\u56DE<code>undefined</code></li></ul><blockquote><p><code>Null</code>\u7C7B\u578B\u4E5F\u53EA\u6709\u4E00\u4E2A\u503C\uFF0C\u5373<code>null</code>\u3002<code>null</code>\u7528\u6765\u8868\u793A\u5C1A\u672A\u5B58\u5728\u7684\u5BF9\u8C61\uFF0C\u5E38\u7528\u6765\u8868\u793A\u51FD\u6570\u4F01\u56FE\u8FD4\u56DE\u4E00\u4E2A\u4E0D\u5B58\u5728\u7684\u5BF9\u8C61\u3002\u7528\u6CD5</p></blockquote><ul><li>\u4F5C\u4E3A\u51FD\u6570\u7684\u53C2\u6570\uFF0C\u8868\u793A\u8BE5\u51FD\u6570\u7684\u53C2\u6570\u4E0D\u662F\u5BF9\u8C61\u3002</li><li>\u4F5C\u4E3A\u5BF9\u8C61\u539F\u578B\u94FE\u7684\u7EC8\u70B9</li></ul>",4),Ql={id:"_1-3-null\u662F\u5BF9\u8C61\u5417-\u4E3A\u4EC0\u4E48",tabindex:"-1"},Yl=n("a",{class:"header-anchor",href:"#_1-3-null\u662F\u5BF9\u8C61\u5417-\u4E3A\u4EC0\u4E48","aria-hidden":"true"},"#",-1),Zl=s(),nr={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_1-3-null%E6%98%AF%E5%AF%B9%E8%B1%A1%E5%90%97-%E4%B8%BA%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},sr=s("#"),ar=s("1.3 null\u662F\u5BF9\u8C61\u5417\uFF1F\u4E3A\u4EC0\u4E48\uFF1F"),er=n("p",null,[s("\u7ED3\u8BBA: "),n("code",null,"null"),s("\u4E0D\u662F\u5BF9\u8C61\u3002")],-1),tr=n("blockquote",null,[n("p",null,[s("\u89E3\u91CA: \u867D\u7136 "),n("code",null,"typeof null"),s(" \u4F1A\u8F93\u51FA object\uFF0C\u4F46\u662F\u8FD9\u53EA\u662F JS \u5B58\u5728\u7684\u4E00\u4E2A\u60A0\u4E45 Bug\u3002\u5728 JS \u7684\u6700\u521D\u7248\u672C\u4E2D\u4F7F\u7528\u7684\u662F 32 \u4F4D\u7CFB\u7EDF\uFF0C\u4E3A\u4E86\u6027\u80FD\u8003\u8651\u4F7F\u7528\u4F4E\u4F4D\u5B58\u50A8\u53D8\u91CF\u7684\u7C7B\u578B\u4FE1\u606F\uFF0C000 \u5F00\u5934\u4EE3\u8868\u662F\u5BF9\u8C61\u7136\u800C null \u8868\u793A\u4E3A\u5168\u96F6\uFF0C\u6240\u4EE5\u5C06\u5B83\u9519\u8BEF\u7684\u5224\u65AD\u4E3A object \u3002")])],-1),pr={id:"_1-4-1-tostring-\u4E3A\u4EC0\u4E48\u53EF\u4EE5\u8C03\u7528",tabindex:"-1"},or=n("a",{class:"header-anchor",href:"#_1-4-1-tostring-\u4E3A\u4EC0\u4E48\u53EF\u4EE5\u8C03\u7528","aria-hidden":"true"},"#",-1),cr=s(),lr={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_1-4-1-tostring-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8F%AF%E4%BB%A5%E8%B0%83%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},rr=s("#"),ir=s("1.4 '1'.toString()\u4E3A\u4EC0\u4E48\u53EF\u4EE5\u8C03\u7528\uFF1F"),ur=t(`<p>\u5176\u5B9E\u5728\u8FD9\u4E2A\u8BED\u53E5\u8FD0\u884C\u7684\u8FC7\u7A0B\u4E2D\u505A\u4E86\u8FD9\u6837\u51E0\u4EF6\u4E8B\u60C5\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var s = new Object(&#39;1&#39;);
s.toString();
s = null;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>\u7B2C\u4E00\u6B65: \u521B\u5EFAObject\u7C7B\u5B9E\u4F8B\u3002\u6CE8\u610F\u4E3A\u4EC0\u4E48\u4E0D\u662FString \uFF1F \u7531\u4E8ESymbol\u548CBigInt\u7684\u51FA\u73B0\uFF0C\u5BF9\u5B83\u4EEC\u8C03\u7528new\u90FD\u4F1A\u62A5\u9519\uFF0C\u76EE\u524DES6\u89C4\u8303\u4E5F\u4E0D\u5EFA\u8BAE\u7528new\u6765\u521B\u5EFA\u57FA\u672C\u7C7B\u578B\u7684\u5305\u88C5\u7C7B\u3002</li><li>\u7B2C\u4E8C\u6B65: \u8C03\u7528\u5B9E\u4F8B\u65B9\u6CD5\u3002</li><li>\u7B2C\u4E09\u6B65: \u6267\u884C\u5B8C\u65B9\u6CD5\u7ACB\u5373\u9500\u6BC1\u8FD9\u4E2A\u5B9E\u4F8B\u3002</li></ul><blockquote><p>\u6574\u4E2A\u8FC7\u7A0B\u4F53\u73B0\u4E86<code>\u57FA\u672C\u5305\u88C5\u7C7B\u578B</code>\u7684\u6027\u8D28\uFF0C\u800C\u57FA\u672C\u5305\u88C5\u7C7B\u578B\u6070\u6070\u5C5E\u4E8E<code>\u57FA\u672C\u6570\u636E\u7C7B\u578B</code>\uFF0C\u5305\u62ECBoolean, Number\u548CString\u3002</p></blockquote>`,4),kr={id:"_1-5-0-1-0-2\u4E3A\u4EC0\u4E48\u4E0D\u7B49\u4E8E0-3",tabindex:"-1"},dr=n("a",{class:"header-anchor",href:"#_1-5-0-1-0-2\u4E3A\u4EC0\u4E48\u4E0D\u7B49\u4E8E0-3","aria-hidden":"true"},"#",-1),br=s(),mr={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_1-5-0-1-0-2%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E7%AD%89%E4%BA%8E0-3",target:"_blank",rel:"noopener noreferrer"},hr=s("#"),_r=s("1.5 0.1+0.2\u4E3A\u4EC0\u4E48\u4E0D\u7B49\u4E8E0.3\uFF1F"),gr=n("blockquote",null,[n("p",null,[s("0.1\u548C0.2\u5728\u8F6C\u6362\u6210\u4E8C\u8FDB\u5236\u540E\u4F1A\u65E0\u9650\u5FAA\u73AF\uFF0C\u7531\u4E8E\u6807\u51C6\u4F4D\u6570\u7684\u9650\u5236\u540E\u9762\u591A\u4F59\u7684\u4F4D\u6570\u4F1A\u88AB\u622A\u6389\uFF0C\u6B64\u65F6\u5C31\u5DF2\u7ECF\u51FA\u73B0\u4E86\u7CBE\u5EA6\u7684\u635F\u5931\uFF0C\u76F8\u52A0\u540E\u56E0\u6D6E\u70B9\u6570\u5C0F\u6570\u4F4D\u7684\u9650\u5236\u800C\u622A\u65AD\u7684\u4E8C\u8FDB\u5236\u6570\u5B57\u5728\u8F6C\u6362\u4E3A\u5341\u8FDB\u5236\u5C31\u4F1A\u53D8\u6210"),n("code",null,"0.30000000000000004")])],-1),Er={id:"_1-6-\u5982\u4F55\u7406\u89E3bigint",tabindex:"-1"},fr=n("a",{class:"header-anchor",href:"#_1-6-\u5982\u4F55\u7406\u89E3bigint","aria-hidden":"true"},"#",-1),vr=s(),wr={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_1-6-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3bigint",target:"_blank",rel:"noopener noreferrer"},yr=s("#"),xr=s("1.6 \u5982\u4F55\u7406\u89E3BigInt"),Ar=t(`<p><strong>\u4EC0\u4E48\u662FBigInt?</strong></p><blockquote><p><code>BigInt</code>\u662F\u4E00\u79CD\u65B0\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u7528\u4E8E\u5F53\u6574\u6570\u503C\u5927\u4E8ENumber\u6570\u636E\u7C7B\u578B\u652F\u6301\u7684\u8303\u56F4\u65F6\u3002\u8FD9\u79CD\u6570\u636E\u7C7B\u578B\u5141\u8BB8\u6211\u4EEC\u5B89\u5168\u5730\u5BF9\u5927\u6574\u6570\u6267\u884C\u7B97\u672F\u64CD\u4F5C\uFF0C\u8868\u793A\u9AD8\u5206\u8FA8\u7387\u7684\u65F6\u95F4\u6233\uFF0C\u4F7F\u7528\u5927\u6574\u6570id\uFF0C\u7B49\u7B49\uFF0C\u800C\u4E0D\u9700\u8981\u4F7F\u7528\u5E93\u3002</p></blockquote><p><strong>\u4E3A\u4EC0\u4E48\u9700\u8981BigInt?</strong></p><p>\u5728JS\u4E2D\uFF0C\u6240\u6709\u7684\u6570\u5B57\u90FD\u4EE5\u53CC\u7CBE\u5EA664\u4F4D\u6D6E\u70B9\u683C\u5F0F\u8868\u793A\uFF0C\u90A3\u8FD9\u4F1A\u5E26\u6765\u4EC0\u4E48\u95EE\u9898\u5462\uFF1F</p><blockquote><p>\u8FD9\u5BFC\u81F4JS\u4E2D\u7684Number\u65E0\u6CD5\u7CBE\u786E\u8868\u793A\u975E\u5E38\u5927\u7684\u6574\u6570\uFF0C\u5B83\u4F1A\u5C06\u975E\u5E38\u5927\u7684\u6574\u6570\u56DB\u820D\u4E94\u5165\uFF0C\u786E\u5207\u5730\u8BF4\uFF0CJS\u4E2D\u7684<code>Number</code>\u7C7B\u578B\u53EA\u80FD\u5B89\u5168\u5730\u8868\u793A<code>-9007199254740991(-(2^53-1))\u548C9007199254740991\uFF08(2^53-1)\uFF09</code>\uFF0C\u4EFB\u4F55\u8D85\u51FA\u6B64\u8303\u56F4\u7684\u6574\u6570\u503C\u90FD\u53EF\u80FD\u5931\u53BB\u7CBE\u5EA6\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>console.log(999999999999999);  //=&gt;10000000000000000
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u540C\u65F6\u4E5F\u4F1A\u6709\u4E00\u5B9A\u7684\u5B89\u5168\u6027\u95EE\u9898:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>9007199254740992 === 9007199254740993;    // \u2192 true \u5C45\u7136\u662Ftrue!
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>\u5982\u4F55\u521B\u5EFA\u5E76\u4F7F\u7528BigInt\uFF1F</strong></p><p>\u8981\u521B\u5EFA<code>BigInt</code>\uFF0C\u53EA\u9700\u8981\u5728\u6570\u5B57\u672B\u5C3E\u8FFD\u52A0<code>n</code>\u5373\u53EF</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token number">9007199254740995n</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// \u2192 9007199254740995n	</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token number">9007199254740995</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// \u2192 9007199254740996</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u53E6\u4E00\u79CD\u521B\u5EFA<code>BigInt</code>\u7684\u65B9\u6CD5\u662F\u7528<code>BigInt()</code>\u6784\u9020\u51FD\u6570</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token string">&quot;9007199254740995&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// \u2192 9007199254740995n</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7B80\u5355\u4F7F\u7528\u5982\u4E0B:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token number">10n</span> <span class="token operator">+</span> <span class="token number">20n</span><span class="token punctuation">;</span>    <span class="token comment">// \u2192 30n	</span>
<span class="token number">10n</span> <span class="token operator">-</span> <span class="token number">20n</span><span class="token punctuation">;</span>    <span class="token comment">// \u2192 -10n	</span>
<span class="token operator">+</span><span class="token number">10n</span><span class="token punctuation">;</span>         <span class="token comment">// \u2192 TypeError: Cannot convert a BigInt value to a number	</span>
<span class="token operator">-</span><span class="token number">10n</span><span class="token punctuation">;</span>         <span class="token comment">// \u2192 -10n	</span>
<span class="token number">10n</span> <span class="token operator">*</span> <span class="token number">20n</span><span class="token punctuation">;</span>    <span class="token comment">// \u2192 200n	</span>
<span class="token number">20n</span> <span class="token operator">/</span> <span class="token number">10n</span><span class="token punctuation">;</span>    <span class="token comment">// \u2192 2n	</span>
<span class="token number">23n</span> <span class="token operator">%</span> <span class="token number">10n</span><span class="token punctuation">;</span>    <span class="token comment">// \u2192 3n	</span>
<span class="token number">10n</span> <span class="token operator">**</span> <span class="token number">3n</span><span class="token punctuation">;</span>    <span class="token comment">// \u2192 1000n	</span>

<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token number">10n</span><span class="token punctuation">;</span>	
<span class="token operator">++</span>x<span class="token punctuation">;</span>          <span class="token comment">// \u2192 11n	</span>
<span class="token operator">--</span>x<span class="token punctuation">;</span>          <span class="token comment">// \u2192 9n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//&quot;bigint&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>\u503C\u5F97\u8B66\u60D5\u7684\u70B9</strong></p><blockquote><p><code>BigInt</code>\u4E0D\u652F\u6301\u4E00\u5143\u52A0\u53F7\u8FD0\u7B97\u7B26, \u8FD9\u53EF\u80FD\u662F\u67D0\u4E9B\u7A0B\u5E8F\u53EF\u80FD\u4F9D\u8D56\u4E8E + \u59CB\u7EC8\u751F\u6210 <code>Number</code> \u7684\u4E0D\u53D8\u91CF\uFF0C\u6216\u8005\u629B\u51FA\u5F02\u5E38\u3002\u53E6\u5916\uFF0C\u66F4\u6539 <code>+</code> \u7684\u884C\u4E3A\u4E5F\u4F1A\u7834\u574F <code>asm.js</code> \u4EE3\u7801\u3002</p></blockquote><p>\u56E0\u4E3A\u9690\u5F0F\u7C7B\u578B\u8F6C\u6362\u53EF\u80FD\u4E22\u5931\u4FE1\u606F\uFF0C\u6240\u4EE5\u4E0D\u5141\u8BB8\u5728<code>bigint</code>\u548C <code>Number</code> \u4E4B\u95F4\u8FDB\u884C\u6DF7\u5408\u64CD\u4F5C\u3002\u5F53\u6DF7\u5408\u4F7F\u7528\u5927\u6574\u6570\u548C\u6D6E\u70B9\u6570\u65F6\uFF0C\u7ED3\u679C\u503C\u53EF\u80FD\u65E0\u6CD5\u7531<code>BigInt</code>\u6216<code>Number</code>\u7CBE\u786E\u8868\u793A\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>10 + 10n;    // \u2192 TypeError
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u4E0D\u80FD\u5C06<code>BigInt</code>\u4F20\u9012\u7ED9<code>Web api</code>\u548C\u5185\u7F6E\u7684 JS \u51FD\u6570\uFF0C\u8FD9\u4E9B\u51FD\u6570\u9700\u8981\u4E00\u4E2A Number \u7C7B\u578B\u7684\u6570\u5B57\u3002\u5C1D\u8BD5\u8FD9\u6837\u505A\u4F1A\u62A5TypeError\u9519\u8BEF\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Math.max(2n, 4n, 6n);    // \u2192 TypeError
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u5F53 <code>Boolean</code> \u7C7B\u578B\u4E0E <code>BigInt</code> \u7C7B\u578B\u76F8\u9047\u65F6\uFF0C<code>BigInt</code> \u7684\u5904\u7406\u65B9\u5F0F\u4E0E<code>Number</code>\u7C7B\u4F3C\uFF0C\u6362\u53E5\u8BDD\u8BF4\uFF0C\u53EA\u8981\u4E0D\u662F<code>0n</code>\uFF0C<code>BigInt</code>\u5C31\u88AB\u89C6\u4E3A<code>truthy</code>\u7684\u503C\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>if(0n){//\u6761\u4EF6\u5224\u65AD\u4E3Afalse

}
if(3n){//\u6761\u4EF6\u4E3Atrue

}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>\u5143\u7D20\u90FD\u4E3ABigInt\u7684\u6570\u7EC4\u53EF\u4EE5\u8FDB\u884Csort\u3002</li><li><code>BigInt</code>\u53EF\u4EE5\u6B63\u5E38\u5730\u8FDB\u884C\u4F4D\u8FD0\u7B97\uFF0C\u5982<code>|</code>\u3001<code>&amp;</code>\u3001<code>&lt;&lt;</code>\u3001<code>&gt;&gt;</code>\u548C<code>^</code></li></ul><p><strong>\u6D4F\u89C8\u5668\u517C\u5BB9\u6027</strong></p><p>caniuse\u7684\u7ED3\u679C:</p><p><img src="http://img-repo.poetries.top/images/20210309092826.png" alt="img"></p><p>\u5176\u5B9E\u73B0\u5728\u7684\u517C\u5BB9\u6027\u5E76\u4E0D\u600E\u4E48\u597D\uFF0C\u53EA\u6709chrome67\u3001firefox\u3001Opera\u8FD9\u4E9B\u4E3B\u6D41\u5B9E\u73B0\uFF0C\u8981\u6B63\u5F0F\u6210\u4E3A\u89C4\u8303\uFF0C\u5176\u5B9E\u8FD8\u6709\u5F88\u957F\u7684\u8DEF\u8981\u8D70\u3002</p>`,28),Br={id:"_2-\u6570\u636E\u7C7B\u578B\u68C0\u6D4B",tabindex:"-1"},qr=n("a",{class:"header-anchor",href:"#_2-\u6570\u636E\u7C7B\u578B\u68C0\u6D4B","aria-hidden":"true"},"#",-1),jr=s(),Sr={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%B5%8B",target:"_blank",rel:"noopener noreferrer"},Cr=s("#"),Dr=s("2 \u6570\u636E\u7C7B\u578B\u68C0\u6D4B"),Fr={id:"_2-1-typeof\u7C7B\u578B\u5224\u65AD",tabindex:"-1"},Pr=n("a",{class:"header-anchor",href:"#_2-1-typeof\u7C7B\u578B\u5224\u65AD","aria-hidden":"true"},"#",-1),Tr=s(),Nr={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_2-1-typeof%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD",target:"_blank",rel:"noopener noreferrer"},Mr=s("#"),Or=s("2.1 typeof\u7C7B\u578B\u5224\u65AD"),Ir=t(`<blockquote><p>\u5728\u5199\u4E1A\u52A1\u903B\u8F91\u7684\u65F6\u5019\uFF0C\u7ECF\u5E38\u8981\u7528\u5230JS\u6570\u636E\u7C7B\u578B\u7684\u5224\u65AD\uFF0C\u9762\u8BD5\u5E38\u89C1\u7684\u6848\u4F8B\u6DF1\u6D45\u62F7\u8D1D\u4E5F\u8981\u7528\u5230\u6570\u636E\u7C7B\u578B\u7684\u5224\u65AD\u3002</p></blockquote><p><strong>typeof</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// number</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// boolean</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">&#39;str&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// object </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// object</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>\u4F18\u70B9\uFF1A\u80FD\u591F\u5FEB\u901F\u533A\u5206\u57FA\u672C\u6570\u636E\u7C7B\u578B \u7F3A\u70B9\uFF1A\u4E0D\u80FD\u5C06<code>Object</code>\u3001<code>Array</code>\u548C<code>Null</code>\u533A\u5206\uFF0C\u90FD\u8FD4\u56DE<code>object</code></p></blockquote><p><strong>instanceof</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token boolean">true</span> <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// false </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;str&#39;</span> <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// false  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>\u4F18\u70B9\uFF1A\u80FD\u591F\u533A\u5206<code>Array</code>\u3001<code>Object</code>\u548C<code>Function</code>\uFF0C\u9002\u5408\u7528\u4E8E\u5224\u65AD\u81EA\u5B9A\u4E49\u7684\u7C7B\u5B9E\u4F8B\u5BF9\u8C61</li><li>\u7F3A\u70B9\uFF1A<code>Number</code>\uFF0C<code>Boolean</code>\uFF0C<code>String</code>\u57FA\u672C\u6570\u636E\u7C7B\u578B\u4E0D\u80FD\u5224\u65AD</li></ul><p><strong>Object.prototype.toString.call()</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> toString <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">//[object Number]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">//[object Boolean]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&#39;str&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//[object String]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">//[object Array]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//[object Function]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">//[object Object]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//[object Undefined]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">//[object Null]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>\u4F18\u70B9\uFF1A\u7CBE\u51C6\u5224\u65AD\u6570\u636E\u7C7B\u578B</li><li>\u7F3A\u70B9\uFF1A\u5199\u6CD5\u7E41\u7410\u4E0D\u5BB9\u6613\u8BB0\uFF0C\u63A8\u8350\u8FDB\u884C\u5C01\u88C5\u540E\u4F7F\u7528</li></ul><p><strong>\u5224\u65AD\u662F\u5426\u662Fpromise\u5BF9\u8C61</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isPromise</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token keyword">typeof</span> val<span class="token punctuation">.</span>then <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span> <span class="token operator">&amp;&amp;</span>
      <span class="token keyword">typeof</span> val<span class="token punctuation">.</span>catch <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,12),Rr={id:"_2-2-typeof-\u4E8E-instanceof-\u533A\u522B",tabindex:"-1"},Vr=n("a",{class:"header-anchor",href:"#_2-2-typeof-\u4E8E-instanceof-\u533A\u522B","aria-hidden":"true"},"#",-1),Hr=s(),Lr={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_2-2-typeof-%E4%BA%8E-instanceof-%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},Ur=s("#"),Jr=s("2.2 typeof \u4E8E instanceof \u533A\u522B"),Wr=t(`<blockquote><p><code>typeof</code> \u5BF9\u4E8E\u57FA\u672C\u7C7B\u578B\uFF0C\u9664\u4E86 <code>null</code>\u90FD\u53EF\u4EE5\u663E\u793A\u6B63\u786E\u7684\u7C7B\u578B</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">typeof</span> <span class="token number">1</span> <span class="token comment">// &#39;number&#39;</span>
<span class="token keyword">typeof</span> <span class="token string">&#39;1&#39;</span> <span class="token comment">// &#39;string&#39;</span>
<span class="token keyword">typeof</span> <span class="token keyword">undefined</span> <span class="token comment">// &#39;undefined&#39;</span>
<span class="token keyword">typeof</span> <span class="token boolean">true</span> <span class="token comment">// &#39;boolean&#39;</span>
<span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &#39;symbol&#39;</span>
<span class="token keyword">typeof</span> b <span class="token comment">// b \u6CA1\u6709\u58F0\u660E\uFF0C\u4F46\u662F\u8FD8\u4F1A\u663E\u793A undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>typeof\` \u5BF9\u4E8E\u5BF9\u8C61\uFF0C\u9664\u4E86\u51FD\u6570\u90FD\u4F1A\u663E\u793A \`object
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// &#39;object&#39;</span>
<span class="token keyword">typeof</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// &#39;object&#39;</span>
<span class="token keyword">typeof</span> console<span class="token punctuation">.</span>log <span class="token comment">// &#39;function&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>\u5BF9\u4E8E <code>null</code> \u6765\u8BF4\uFF0C\u867D\u7136\u5B83\u662F\u57FA\u672C\u7C7B\u578B\uFF0C\u4F46\u662F\u4F1A\u663E\u793A <code>object</code>\uFF0C\u8FD9\u662F\u4E00\u4E2A\u5B58\u5728\u5F88\u4E45\u4E86\u7684 <code>Bug</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>typeof null // &#39;object&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>instanceof\` \u53EF\u4EE5\u6B63\u786E\u7684\u5224\u65AD\u5BF9\u8C61\u7684\u7C7B\u578B\uFF0C\u56E0\u4E3A\u5185\u90E8\u673A\u5236\u662F\u901A\u8FC7\u5224\u65AD\u5BF9\u8C61\u7684\u539F\u578B\u94FE\u4E2D\u662F\u4E0D\u662F\u80FD\u627E\u5230\u7C7B\u578B\u7684 \`iprototype
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u6211\u4EEC\u4E5F\u53EF\u4EE5\u8BD5\u7740\u5B9E\u73B0\u4E00\u4E0B instanceof</span>
<span class="token keyword">function</span> <span class="token keyword">instanceof</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u83B7\u5F97\u7C7B\u578B\u7684\u539F\u578B</span>
    <span class="token keyword">let</span> prototype <span class="token operator">=</span> right<span class="token punctuation">.</span>prototype
    <span class="token comment">// \u83B7\u5F97\u5BF9\u8C61\u7684\u539F\u578B</span>
    left <span class="token operator">=</span> left<span class="token punctuation">.</span>__proto__
    <span class="token comment">// \u5224\u65AD\u5BF9\u8C61\u7684\u7C7B\u578B\u662F\u5426\u7B49\u4E8E\u7C7B\u578B\u7684\u539F\u578B</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
    		<span class="token keyword">return</span> <span class="token boolean">false</span>
    	<span class="token keyword">if</span> <span class="token punctuation">(</span>prototype <span class="token operator">===</span> left<span class="token punctuation">)</span>
    		<span class="token keyword">return</span> <span class="token boolean">true</span>
    	left <span class="token operator">=</span> left<span class="token punctuation">.</span>__proto__
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div>`,8),zr={id:"_2-3-object-is\u548C-\u7684\u533A\u522B",tabindex:"-1"},Gr=n("a",{class:"header-anchor",href:"#_2-3-object-is\u548C-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),$r=s(),Xr={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_2-3-object-is%E5%92%8C-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},Kr=s("#"),Qr=s("2.3 Object.is\u548C===\u7684\u533A\u522B"),Yr=t(`<blockquote><p><code>Object</code>\u5728\u4E25\u683C\u7B49\u4E8E\u7684\u57FA\u7840\u4E0A\u4FEE\u590D\u4E86\u4E00\u4E9B\u7279\u6B8A\u60C5\u51B5\u4E0B\u7684\u5931\u8BEF\uFF0C\u5177\u4F53\u6765\u8BF4\u5C31\u662F<code>+0</code>\u548C<code>-0</code>\uFF0C<code>NaN</code>\u548C<code>NaN</code>\u3002 \u6E90\u7801\u5982\u4E0B</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">is</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">===</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//\u8FD0\u884C\u52301/x === 1/y\u7684\u65F6\u5019x\u548Cy\u90FD\u4E3A0\uFF0C\u4F46\u662F1/+0 = +Infinity\uFF0C 1/-0 = -Infinity, \u662F\u4E0D\u4E00\u6837\u7684</span>
    <span class="token keyword">return</span> x <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">||</span> y <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token number">1</span> <span class="token operator">/</span> x <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">/</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">//NaN===NaN\u662Ffalse,\u8FD9\u662F\u4E0D\u5BF9\u7684\uFF0C\u6211\u4EEC\u5728\u8FD9\u91CC\u505A\u4E00\u4E2A\u62E6\u622A\uFF0Cx !== x\uFF0C\u90A3\u4E48\u4E00\u5B9A\u662F NaN, y \u540C\u7406</span>
    <span class="token comment">//\u4E24\u4E2A\u90FD\u662FNaN\u7684\u65F6\u5019\u8FD4\u56DEtrue</span>
    <span class="token keyword">return</span> x <span class="token operator">!==</span> x <span class="token operator">&amp;&amp;</span> y <span class="token operator">!==</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div>`,2),Zr={id:"_2-4-\u603B\u7ED3",tabindex:"-1"},ni=n("a",{class:"header-anchor",href:"#_2-4-\u603B\u7ED3","aria-hidden":"true"},"#",-1),si=s(),ai={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_2-4-%E6%80%BB%E7%BB%93",target:"_blank",rel:"noopener noreferrer"},ei=s("#"),ti=s("2.4 \u603B\u7ED3"),pi=t(`<ul><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>typeof
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u76F4\u63A5\u5728\u8BA1\u7B97\u673A\u5E95\u5C42\u57FA\u4E8E\u6570\u636E\u7C7B\u578B\u7684\u503C\uFF08\u4E8C\u8FDB\u5236\uFF09\u8FDB\u884C\u68C0\u6D4B</li><li><code>typeof null</code>\u4E3A<code>object</code> \u539F\u56E0\u662F\u5BF9\u8C61\u5B58\u5728\u5728\u8BA1\u7B97\u673A\u4E2D\uFF0C\u90FD\u662F\u4EE5<code>000</code>\u5F00\u59CB\u7684\u4E8C\u8FDB\u5236\u5B58\u50A8\uFF0C\u6240\u4EE5\u68C0\u6D4B\u51FA\u6765\u7684\u7ED3\u679C\u662F\u5BF9\u8C61</li><li><code>typeof</code> \u666E\u901A\u5BF9\u8C61/\u6570\u7EC4\u5BF9\u8C61/\u6B63\u5219\u5BF9\u8C61/\u65E5\u671F\u5BF9\u8C61 \u90FD\u662F<code>object</code></li><li><code>typeof NaN === &#39;number&#39;</code></li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>instanceof
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u68C0\u6D4B\u5F53\u524D\u5B9E\u4F8B\u662F\u5426\u5C5E\u4E8E\u8FD9\u4E2A\u7C7B\u7684</li><li>\u5E95\u5C42\u673A\u5236\uFF1A\u53EA\u8981\u5F53\u524D\u7C7B\u51FA\u73B0\u5728\u5B9E\u4F8B\u7684\u539F\u578B\u4E0A\uFF0C\u7ED3\u679C\u90FD\u662Ftrue</li><li>\u4E0D\u80FD\u68C0\u6D4B\u57FA\u672C\u6570\u636E\u7C7B\u578B</li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>constructor
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u652F\u6301\u57FA\u672C\u7C7B\u578B</li><li>constructor\u53EF\u4EE5\u968F\u4FBF\u6539\uFF0C\u4E5F\u4E0D\u51C6</li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Object.prototype.toString.call([val])
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u8FD4\u56DE\u5F53\u524D\u5B9E\u4F8B\u6240\u5C5E\u7C7B\u4FE1\u606F</li></ul></li></ul><blockquote><p>\u5224\u65AD <code>Target</code> \u7684\u7C7B\u578B\uFF0C\u5355\u5355\u7528 <code>typeof</code> \u5E76\u65E0\u6CD5\u5B8C\u5168\u6EE1\u8DB3\uFF0C\u8FD9\u5176\u5B9E\u5E76\u4E0D\u662F <code>bug</code>\uFF0C\u672C\u8D28\u539F\u56E0\u662F <code>JS</code> \u7684\u4E07\u7269\u7686\u5BF9\u8C61\u7684\u7406\u8BBA\u3002\u56E0\u6B64\u8981\u771F\u6B63\u5B8C\u7F8E\u5224\u65AD\u65F6\uFF0C\u6211\u4EEC\u9700\u8981\u533A\u5206\u5BF9\u5F85:</p></blockquote><ul><li>\u57FA\u672C\u7C7B\u578B(<code>null</code>): \u4F7F\u7528 <code>String(null)</code></li><li>\u57FA\u672C\u7C7B\u578B(<code>string / number / boolean / undefined</code>) + <code>function</code>: - \u76F4\u63A5\u4F7F\u7528 <code>typeof</code>\u5373\u53EF</li><li>\u5176\u4F59\u5F15\u7528\u7C7B\u578B(<code>Array / Date / RegExp Error</code>): \u8C03\u7528<code>toString</code>\u540E\u6839\u636E<code>[object XXX]</code>\u8FDB\u884C\u5224\u65AD</li></ul><p>\u5F88\u7A33\u7684\u5224\u65AD\u5C01\u88C5:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> class2type <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token string">&#39;Array Date RegExp Object Error&#39;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> class2type<span class="token punctuation">[</span> <span class="token string">&#39;[object &#39;</span> <span class="token operator">+</span> e <span class="token operator">+</span> <span class="token string">&#39;]&#39;</span> <span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 

<span class="token keyword">function</span> <span class="token function">type</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">String</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">&#39;object&#39;</span> <span class="token operator">?</span> class2type<span class="token punctuation">[</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&#39;object&#39;</span> <span class="token operator">:</span> <span class="token keyword">typeof</span> obj
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,5),oi={id:"_3-\u6570\u636E\u7C7B\u578B\u8F6C\u6362",tabindex:"-1"},ci=n("a",{class:"header-anchor",href:"#_3-\u6570\u636E\u7C7B\u578B\u8F6C\u6362","aria-hidden":"true"},"#",-1),li=s(),ri={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_3-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2",target:"_blank",rel:"noopener noreferrer"},ii=s("#"),ui=s("3 \u6570\u636E\u7C7B\u578B\u8F6C\u6362"),ki=n("blockquote",null,[n("p",null,"\u5927\u5BB6\u90FD\u77E5\u9053 JS \u4E2D\u5728\u4F7F\u7528\u8FD0\u7B97\u7B26\u53F7\u6216\u8005\u5BF9\u6BD4\u7B26\u65F6\uFF0C\u4F1A\u81EA\u5E26\u9690\u5F0F\u8F6C\u6362\uFF0C\u89C4\u5219\u5982\u4E0B:")],-1),di={id:"_3-1-\u8F6C\u5316\u89C4\u5219",tabindex:"-1"},bi=n("a",{class:"header-anchor",href:"#_3-1-\u8F6C\u5316\u89C4\u5219","aria-hidden":"true"},"#",-1),mi=s(),hi={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_3-1-%E8%BD%AC%E5%8C%96%E8%A7%84%E5%88%99",target:"_blank",rel:"noopener noreferrer"},_i=s("#"),gi=s("3.1 \u8F6C\u5316\u89C4\u5219"),Ei=t('<ul><li><code>-\u3001*\u3001/\u3001%</code>\uFF1A\u4E00\u5F8B\u8F6C\u6362\u6210\u6570\u503C\u540E\u8BA1\u7B97</li><li>+\uFF1A <ul><li>\u6570\u5B57 + \u5B57\u7B26\u4E32 = \u5B57\u7B26\u4E32\uFF0C \u8FD0\u7B97\u987A\u5E8F\u662F\u4ECE\u5DE6\u5230\u53F3</li><li>\u6570\u5B57 + \u5BF9\u8C61\uFF0C \u4F18\u5148\u8C03\u7528\u5BF9\u8C61\u7684<code>valueOf -&gt; toString</code></li><li>\u6570\u5B57 + <code>boolean/null</code> -&gt; \u6570\u5B57</li><li>\u6570\u5B57 + <code>undefined</code> -&gt; <code>NaN</code></li></ul></li><li><code>[1].toString() === &#39;1&#39;</code></li><li><code>{}.toString() === &#39;[object object]&#39;</code></li><li><code>NaN !== NaN</code> \u3001+<code>undefined</code> \u4E3A <code>NaN</code></li></ul><blockquote><p>\u9996\u5148\u6211\u4EEC\u8981\u77E5\u9053\uFF0C\u5728 <code>JS</code> \u4E2D\u7C7B\u578B\u8F6C\u6362\u53EA\u6709\u4E09\u79CD\u60C5\u51B5\uFF0C\u5206\u522B\u662F\uFF1A</p></blockquote><ul><li>\u8F6C\u6362\u4E3A\u5E03\u5C14\u503C</li><li>\u8F6C\u6362\u4E3A\u6570\u5B57</li><li>\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32</li></ul><p><img src="http://blog.poetries.top/img-repo/2020/02/2.png" alt="\u7C7B\u578B\u8F6C\u6362"></p>',4),fi={id:"_3-2-\u8F6Cboolean",tabindex:"-1"},vi=n("a",{class:"header-anchor",href:"#_3-2-\u8F6Cboolean","aria-hidden":"true"},"#",-1),wi=s(),yi={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_3-2-%E8%BD%ACboolean",target:"_blank",rel:"noopener noreferrer"},xi=s("#"),Ai=s("3.2 \u8F6CBoolean"),Bi=t("<blockquote><p>\u5728\u6761\u4EF6\u5224\u65AD\u65F6\uFF0C\u9664\u4E86 <code>undefined</code>\uFF0C<code>null</code>\uFF0C <code>false</code>\uFF0C <code>NaN</code>\uFF0C <code>&#39;&#39;</code>\uFF0C <code>0</code>\uFF0C <code>-0</code>\uFF0C\u5176\u4ED6\u6240\u6709\u503C\u90FD\u8F6C\u4E3A <code>true</code>\uFF0C\u5305\u62EC\u6240\u6709\u5BF9\u8C61</p></blockquote>",1),qi={id:"_3-3-\u5BF9\u8C61\u8F6C\u539F\u59CB\u7C7B\u578B\u662F\u6839\u636E\u4EC0\u4E48\u6D41\u7A0B\u8FD0\u884C\u7684",tabindex:"-1"},ji=n("a",{class:"header-anchor",href:"#_3-3-\u5BF9\u8C61\u8F6C\u539F\u59CB\u7C7B\u578B\u662F\u6839\u636E\u4EC0\u4E48\u6D41\u7A0B\u8FD0\u884C\u7684","aria-hidden":"true"},"#",-1),Si=s(),Ci={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_3-3-%E5%AF%B9%E8%B1%A1%E8%BD%AC%E5%8E%9F%E5%A7%8B%E7%B1%BB%E5%9E%8B%E6%98%AF%E6%A0%B9%E6%8D%AE%E4%BB%80%E4%B9%88%E6%B5%81%E7%A8%8B%E8%BF%90%E8%A1%8C%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},Di=s("#"),Fi=s("3.3 \u5BF9\u8C61\u8F6C\u539F\u59CB\u7C7B\u578B\u662F\u6839\u636E\u4EC0\u4E48\u6D41\u7A0B\u8FD0\u884C\u7684"),Pi=t(`<blockquote><p>\u5BF9\u8C61\u8F6C\u539F\u59CB\u7C7B\u578B\uFF0C\u4F1A\u8C03\u7528\u5185\u7F6E\u7684<code>[ToPrimitive]</code>\u51FD\u6570\uFF0C\u5BF9\u4E8E\u8BE5\u51FD\u6570\u800C\u8A00\uFF0C\u5176\u903B\u8F91\u5982\u4E0B\uFF1A</p></blockquote><ul><li>\u5982\u679C\u6709<code>Symbol.toPrimitive()</code>\u65B9\u6CD5\uFF0C\u4F18\u5148\u8C03\u7528\u518D\u8FD4\u56DE</li><li>\u8C03\u7528<code>valueOf()</code>\uFF0C\u5982\u679C\u8F6C\u6362\u4E3A\u539F\u59CB\u7C7B\u578B\uFF0C\u5219\u8FD4\u56DE</li><li>\u8C03\u7528<code>toString()</code>\uFF0C\u5982\u679C\u8F6C\u6362\u4E3A\u539F\u59CB\u7C7B\u578B\uFF0C\u5219\u8FD4\u56DE</li><li>\u5982\u679C\u90FD\u6CA1\u6709\u8FD4\u56DE\u539F\u59CB\u7C7B\u578B\uFF0C\u4F1A\u62A5\u9519</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;5&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">6</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8F93\u51FA7</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div>`,3),Ti={id:"_3-4-\u5982\u4F55\u8BA9if-a-1-a-2-\u6761\u4EF6\u6210\u7ACB",tabindex:"-1"},Ni=n("a",{class:"header-anchor",href:"#_3-4-\u5982\u4F55\u8BA9if-a-1-a-2-\u6761\u4EF6\u6210\u7ACB","aria-hidden":"true"},"#",-1),Mi=s(),Oi={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_3-4-%E5%A6%82%E4%BD%95%E8%AE%A9if-a-1-a-2-%E6%9D%A1%E4%BB%B6%E6%88%90%E7%AB%8B",target:"_blank",rel:"noopener noreferrer"},Ii=s("#"),Ri=s("3.4 \u5982\u4F55\u8BA9if(a == 1 && a == 2)\u6761\u4EF6\u6210\u7ACB"),Vi=t(`<p>\u5176\u5B9E\u5C31\u662F\u4E0A\u4E00\u4E2A\u95EE\u9898\u7684\u5E94\u7528\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>`,2),Hi={id:"_3-5-\u56DB\u5219\u8FD0\u7B97\u7B26",tabindex:"-1"},Li=n("a",{class:"header-anchor",href:"#_3-5-\u56DB\u5219\u8FD0\u7B97\u7B26","aria-hidden":"true"},"#",-1),Ui=s(),Ji={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_3-5-%E5%9B%9B%E5%88%99%E8%BF%90%E7%AE%97%E7%AC%A6",target:"_blank",rel:"noopener noreferrer"},Wi=s("#"),zi=s("3.5 \u56DB\u5219\u8FD0\u7B97\u7B26"),Gi=t(`<blockquote><p>\u5B83\u6709\u4EE5\u4E0B\u51E0\u4E2A\u7279\u70B9\uFF1A</p></blockquote><ul><li>\u8FD0\u7B97\u4E2D\u5176\u4E2D\u4E00\u65B9\u4E3A\u5B57\u7B26\u4E32\uFF0C\u90A3\u4E48\u5C31\u4F1A\u628A\u53E6\u4E00\u65B9\u4E5F\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32</li><li>\u5982\u679C\u4E00\u65B9\u4E0D\u662F\u5B57\u7B26\u4E32\u6216\u8005\u6570\u5B57\uFF0C\u90A3\u4E48\u4F1A\u5C06\u5B83\u8F6C\u6362\u4E3A\u6570\u5B57\u6216\u8005\u5B57\u7B26\u4E32</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">+</span> <span class="token string">&#39;1&#39;</span> <span class="token comment">// &#39;11&#39;</span>
<span class="token boolean">true</span> <span class="token operator">+</span> <span class="token boolean">true</span> <span class="token comment">// 2</span>
<span class="token number">4</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment">// &quot;41,2,3&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>\u5BF9\u4E8E\u7B2C\u4E00\u884C\u4EE3\u7801\u6765\u8BF4\uFF0C\u89E6\u53D1\u7279\u70B9\u4E00\uFF0C\u6240\u4EE5\u5C06\u6570\u5B57 <code>1</code> \u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\uFF0C\u5F97\u5230\u7ED3\u679C <code>&#39;11&#39;</code></li><li>\u5BF9\u4E8E\u7B2C\u4E8C\u884C\u4EE3\u7801\u6765\u8BF4\uFF0C\u89E6\u53D1\u7279\u70B9\u4E8C\uFF0C\u6240\u4EE5\u5C06 <code>true</code> \u8F6C\u4E3A\u6570\u5B57 <code>1</code></li><li>\u5BF9\u4E8E\u7B2C\u4E09\u884C\u4EE3\u7801\u6765\u8BF4\uFF0C\u89E6\u53D1\u7279\u70B9\u4E8C\uFF0C\u6240\u4EE5\u5C06\u6570\u7EC4\u901A\u8FC7 <code>toString</code>\u8F6C\u4E3A\u5B57\u7B26\u4E32 <code>1,2,3</code>\uFF0C\u5F97\u5230\u7ED3\u679C <code>41,2,3</code></li></ul><blockquote><p>\u53E6\u5916\u5BF9\u4E8E\u52A0\u6CD5\u8FD8\u9700\u8981\u6CE8\u610F\u8FD9\u4E2A\u8868\u8FBE\u5F0F <code>&#39;a&#39; + + &#39;b&#39;</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&#39;a&#39; + + &#39;b&#39; // -&gt; &quot;aNaN&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u56E0\u4E3A <code>+ &#39;b&#39;</code> \u7B49\u4E8E <code>NaN</code>\uFF0C\u6240\u4EE5\u7ED3\u679C\u4E3A <code>&quot;aNaN&quot;</code>\uFF0C\u4F60\u53EF\u80FD\u4E5F\u4F1A\u5728\u4E00\u4E9B\u4EE3\u7801\u4E2D\u770B\u5230\u8FC7 <code>+ &#39;1&#39;</code>\u7684\u5F62\u5F0F\u6765\u5FEB\u901F\u83B7\u53D6 <code>number</code> \u7C7B\u578B\u3002</li><li>\u90A3\u4E48\u5BF9\u4E8E\u9664\u4E86\u52A0\u6CD5\u7684\u8FD0\u7B97\u7B26\u6765\u8BF4\uFF0C\u53EA\u8981\u5176\u4E2D\u4E00\u65B9\u662F\u6570\u5B57\uFF0C\u90A3\u4E48\u53E6\u4E00\u65B9\u5C31\u4F1A\u88AB\u8F6C\u4E3A\u6570\u5B57</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token number">4</span> <span class="token operator">*</span> <span class="token string">&#39;3&#39;</span> <span class="token comment">// 12</span>
<span class="token number">4</span> <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 0</span>
<span class="token number">4</span> <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// NaN</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,8),$i={id:"_3-6-\u6BD4\u8F83\u8FD0\u7B97\u7B26",tabindex:"-1"},Xi=n("a",{class:"header-anchor",href:"#_3-6-\u6BD4\u8F83\u8FD0\u7B97\u7B26","aria-hidden":"true"},"#",-1),Ki=s(),Qi={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_3-6-%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6",target:"_blank",rel:"noopener noreferrer"},Yi=s("#"),Zi=s("3.6 \u6BD4\u8F83\u8FD0\u7B97\u7B26"),nu=t(`<ul><li>\u5982\u679C\u662F\u5BF9\u8C61\uFF0C\u5C31\u901A\u8FC7 <code>toPrimitive</code> \u8F6C\u6362\u5BF9\u8C61</li><li>\u5982\u679C\u662F\u5B57\u7B26\u4E32\uFF0C\u5C31\u901A\u8FC7 <code>unicode</code> \u5B57\u7B26\u7D22\u5F15\u6765\u6BD4\u8F83</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;1&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
a <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>\u5728\u4EE5\u4E0A\u4EE3\u7801\u4E2D\uFF0C\u56E0\u4E3A <code>a</code> \u662F\u5BF9\u8C61\uFF0C\u6240\u4EE5\u4F1A\u901A\u8FC7 <code>valueOf</code> \u8F6C\u6362\u4E3A\u539F\u59CB\u7C7B\u578B\u518D\u6BD4\u8F83\u503C\u3002</p></blockquote>`,3),su={id:"_3-7-\u7ED3\u679C\u662F\u4EC0\u4E48-\u4E3A\u4EC0\u4E48",tabindex:"-1"},au=n("a",{class:"header-anchor",href:"#_3-7-\u7ED3\u679C\u662F\u4EC0\u4E48-\u4E3A\u4EC0\u4E48","aria-hidden":"true"},"#",-1),eu=s(),tu={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_3-7-%E7%BB%93%E6%9E%9C%E6%98%AF%E4%BB%80%E4%B9%88-%E4%B8%BA%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},pu=s("#"),ou=s("3.7 [] == ![]\u7ED3\u679C\u662F\u4EC0\u4E48\uFF1F\u4E3A\u4EC0\u4E48\uFF1F"),cu=t("<ul><li><code>==</code> \u4E2D\uFF0C\u5DE6\u53F3\u4E24\u8FB9\u90FD\u9700\u8981\u8F6C\u6362\u4E3A\u6570\u5B57\u7136\u540E\u8FDB\u884C\u6BD4\u8F83</li><li><code>[]</code>\u8F6C\u6362\u4E3A\u6570\u5B57\u4E3A<code>0</code></li><li><code>![]</code> \u9996\u5148\u662F\u8F6C\u6362\u4E3A\u5E03\u5C14\u503C\uFF0C\u7531\u4E8E<code>[]</code>\u4F5C\u4E3A\u4E00\u4E2A\u5F15\u7528\u7C7B\u578B\u8F6C\u6362\u4E3A\u5E03\u5C14\u503C\u4E3A<code>true</code></li><li>\u56E0\u6B64<code>![]</code>\u4E3A<code>false</code>\uFF0C\u8FDB\u800C\u5728\u8F6C\u6362\u6210\u6570\u5B57\uFF0C\u53D8\u4E3A<code>0</code></li><li><code>0 == 0</code> \uFF0C \u7ED3\u679C\u4E3A<code>true</code></li></ul>",1),lu={id:"_3-8-\u548C-\u6709\u4EC0\u4E48\u533A\u522B",tabindex:"-1"},ru=n("a",{class:"header-anchor",href:"#_3-8-\u548C-\u6709\u4EC0\u4E48\u533A\u522B","aria-hidden":"true"},"#",-1),iu=s(),uu={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_3-8-%E5%92%8C-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},ku=s("#"),du=s("3.8 == \u548C ===\u6709\u4EC0\u4E48\u533A\u522B"),bu=t('<blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>===`\u53EB\u505A\u4E25\u683C\u76F8\u7B49\uFF0C\u662F\u6307\uFF1A\u5DE6\u53F3\u4E24\u8FB9\u4E0D\u4EC5\u503C\u8981\u76F8\u7B49\uFF0C\u7C7B\u578B\u4E5F\u8981\u76F8\u7B49\uFF0C\u4F8B\u5982`&#39;1&#39;===1`\u7684\u7ED3\u679C\u662F`false`\uFF0C\u56E0\u4E3A\u4E00\u8FB9\u662F`string`\uFF0C\u53E6\u4E00\u8FB9\u662F`number\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><p><strong>==\u4E0D\u50CF===\u90A3\u6837\u4E25\u683C\uFF0C\u5BF9\u4E8E\u4E00\u822C\u60C5\u51B5\uFF0C\u53EA\u8981\u503C\u76F8\u7B49\uFF0C\u5C31\u8FD4\u56DEtrue\uFF0C\u4F46==\u8FD8\u6D89\u53CA\u4E00\u4E9B\u7C7B\u578B\u8F6C\u6362\uFF0C\u5B83\u7684\u8F6C\u6362\u89C4\u5219\u5982\u4E0B</strong></p><ul><li>\u4E24\u8FB9\u7684\u7C7B\u578B\u662F\u5426\u76F8\u540C\uFF0C\u76F8\u540C\u7684\u8BDD\u5C31\u6BD4\u8F83\u503C\u7684\u5927\u5C0F\uFF0C\u4F8B\u5982<code>1==2</code>\uFF0C\u8FD4\u56DE<code>false</code></li><li>\u5224\u65AD\u7684\u662F\u5426\u662F<code>null</code>\u548C<code>undefined</code>\uFF0C\u662F\u7684\u8BDD\u5C31\u8FD4\u56DEtrue</li><li>\u5224\u65AD\u7684\u7C7B\u578B\u662F\u5426\u662F<code>String</code>\u548C<code>Number</code>\uFF0C\u662F\u7684\u8BDD\uFF0C\u628A<code>String</code>\u7C7B\u578B\u8F6C\u6362\u6210<code>Number</code>\uFF0C\u518D\u8FDB\u884C\u6BD4\u8F83</li><li>\u5224\u65AD\u5176\u4E2D\u4E00\u65B9\u662F\u5426\u662F<code>Boolean</code>\uFF0C\u662F\u7684\u8BDD\u5C31\u628A<code>Boolean</code>\u8F6C\u6362\u6210<code>N</code>umber`\uFF0C\u518D\u8FDB\u884C\u6BD4\u8F83</li><li>\u5982\u679C\u5176\u4E2D\u4E00\u65B9\u4E3A<code>Object</code>\uFF0C\u4E14\u53E6\u4E00\u65B9\u4E3A<code>String</code>\u3001<code>Number</code>\u6216\u8005<code>Symbol</code>\uFF0C\u4F1A\u5C06<code>Object</code>\u8F6C\u6362\u6210\u5B57\u7B26\u4E32\uFF0C\u518D\u8FDB\u884C\u6BD4\u8F83</li></ul>',3),mu={id:"_4-\u95ED\u5305",tabindex:"-1"},hu=n("a",{class:"header-anchor",href:"#_4-\u95ED\u5305","aria-hidden":"true"},"#",-1),_u=s(),gu={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_4-%E9%97%AD%E5%8C%85",target:"_blank",rel:"noopener noreferrer"},Eu=s("#"),fu=s("4 \u95ED\u5305"),vu=n("blockquote",null,[n("p",null,"\u7EA2\u5B9D\u4E66(p178)\u4E0A\u5BF9\u4E8E\u95ED\u5305\u7684\u5B9A\u4E49\uFF1A\u95ED\u5305\u662F\u6307\u6709\u6743\u8BBF\u95EE\u53E6\u5916\u4E00\u4E2A\u51FD\u6570\u4F5C\u7528\u57DF\u4E2D\u7684\u53D8\u91CF\u7684\u51FD\u6570\uFF0C")],-1),wu=n("blockquote",null,[n("p",null,"MDN \u5BF9\u95ED\u5305\u7684\u5B9A\u4E49\u4E3A\uFF1A\u95ED\u5305\u662F\u6307\u90A3\u4E9B\u80FD\u591F\u8BBF\u95EE\u81EA\u7531\u53D8\u91CF\u7684\u51FD\u6570\u3002"),n("ul",null,[n("li",null,"\uFF08\u5176\u4E2D\u81EA\u7531\u53D8\u91CF\uFF0C\u6307\u5728\u51FD\u6570\u4E2D\u4F7F\u7528\u7684\uFF0C\u4F46\u65E2\u4E0D\u662F\u51FD\u6570\u53C2\u6570arguments\u4E5F\u4E0D\u662F\u51FD\u6570\u7684\u5C40\u90E8\u53D8\u91CF\u7684\u53D8\u91CF\uFF0C\u5176\u5B9E\u5C31\u662F\u53E6\u5916\u4E00\u4E2A\u51FD\u6570\u4F5C\u7528\u57DF\u4E2D\u7684\u53D8\u91CF\u3002\uFF09")])],-1),yu={id:"_4-1-\u95ED\u5305\u4EA7\u751F\u7684\u539F\u56E0",tabindex:"-1"},xu=n("a",{class:"header-anchor",href:"#_4-1-\u95ED\u5305\u4EA7\u751F\u7684\u539F\u56E0","aria-hidden":"true"},"#",-1),Au=s(),Bu={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_4-1-%E9%97%AD%E5%8C%85%E4%BA%A7%E7%94%9F%E7%9A%84%E5%8E%9F%E5%9B%A0",target:"_blank",rel:"noopener noreferrer"},qu=s("#"),ju=s("4.1 \u95ED\u5305\u4EA7\u751F\u7684\u539F\u56E0"),Su=t(`<blockquote><p>\u9996\u5148\u8981\u660E\u767D\u4F5C\u7528\u57DF\u94FE\u7684\u6982\u5FF5\uFF0C\u5176\u5B9E\u5F88\u7B80\u5355\uFF0C\u5728ES5\u4E2D\u53EA\u5B58\u5728\u4E24\u79CD\u4F5C\u7528\u57DF\u2014\u2014\u2014\u2014<code>\u5168\u5C40\u4F5C\u7528\u57DF</code>\u548C<code>\u51FD\u6570\u4F5C\u7528\u57DF</code>\uFF0C\u5F53\u8BBF\u95EE\u4E00\u4E2A\u53D8\u91CF\u65F6\uFF0C\u89E3\u91CA\u5668\u4F1A\u9996\u5148\u5728\u5F53\u524D\u4F5C\u7528\u57DF\u67E5\u627E\u6807\u793A\u7B26\uFF0C\u5982\u679C\u6CA1\u6709\u627E\u5230\uFF0C\u5C31\u53BB\u7236\u4F5C\u7528\u57DF\u627E\uFF0C\u76F4\u5230\u627E\u5230\u8BE5\u53D8\u91CF\u7684\u6807\u793A\u7B26\u6216\u8005\u4E0D\u5728\u7236\u4F5C\u7528\u57DF\u4E2D\uFF0C\u8FD9\u5C31\u662F\u4F5C\u7528\u57DF\u94FE\uFF0C\u503C\u5F97\u6CE8\u610F\u7684\u662F\uFF0C\u6BCF\u4E00\u4E2A\u5B50\u51FD\u6570\u90FD\u4F1A\u62F7\u8D1D\u4E0A\u7EA7\u7684\u4F5C\u7528\u57DF\uFF0C\u5F62\u6210\u4E00\u4E2A\u4F5C\u7528\u57DF\u7684\u94FE\u6761\u3002 \u6BD4\u5982:</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>\u5728\u8FD9\u6BB5\u4EE3\u7801\u4E2D\uFF0C<code>f1</code>\u7684\u4F5C\u7528\u57DF\u6307\u5411\u6709\u5168\u5C40\u4F5C\u7528\u57DF(<code>window</code>)\u548C\u5B83\u672C\u8EAB\uFF0C\u800C<code>f2</code>\u7684\u4F5C\u7528\u57DF\u6307\u5411\u5168\u5C40\u4F5C\u7528\u57DF(<code>window</code>)\u3001<code>f1</code>\u548C\u5B83\u672C\u8EAB\u3002\u800C\u4E14\u4F5C\u7528\u57DF\u662F\u4ECE\u6700\u5E95\u5C42\u5411\u4E0A\u627E\uFF0C\u76F4\u5230\u627E\u5230\u5168\u5C40\u4F5C\u7528\u57DF<code>window</code>\u4E3A\u6B62\uFF0C\u5982\u679C\u5168\u5C40\u8FD8\u6CA1\u6709\u7684\u8BDD\u5C31\u4F1A\u62A5\u9519\u3002\u5C31\u8FD9\u4E48\u7B80\u5355\u4E00\u4EF6\u4E8B\u60C5</p></blockquote><p><strong>\u95ED\u5305\u4EA7\u751F\u7684\u672C\u8D28\u5C31\u662F\uFF0C\u5F53\u524D\u73AF\u5883\u4E2D\u5B58\u5728\u6307\u5411\u7236\u7EA7\u4F5C\u7528\u57DF\u7684\u5F15\u7528\u3002\u8FD8\u662F\u4E3E\u4E0A\u9762\u7684\u4F8B\u5B50:</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> f2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>\u8FD9\u91CCx\u4F1A\u62FF\u5230\u7236\u7EA7\u4F5C\u7528\u57DF\u4E2D\u7684\u53D8\u91CF\uFF0C\u8F93\u51FA2\u3002\u56E0\u4E3A\u5728\u5F53\u524D\u73AF\u5883\u4E2D\uFF0C\u542B\u6709\u5BF9f2\u7684\u5F15\u7528\uFF0Cf2\u6070\u6070\u5F15\u7528\u4E86window\u3001f1\u548Cf2\u7684\u4F5C\u7528\u57DF\u3002\u56E0\u6B64f2\u53EF\u4EE5\u8BBF\u95EE\u5230f1\u7684\u4F5C\u7528\u57DF\u7684\u53D8\u91CF\u3002</p></blockquote><ul><li>\u90A3\u662F\u4E0D\u662F\u53EA\u6709\u8FD4\u56DE\u51FD\u6570\u624D\u7B97\u662F\u4EA7\u751F\u4E86\u95ED\u5305\u5462\uFF1F</li><li>\u56DE\u5230\u95ED\u5305\u7684\u672C\u8D28\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u8BA9\u7236\u7EA7\u4F5C\u7528\u57DF\u7684\u5F15\u7528\u5B58\u5728\u5373\u53EF\uFF0C\u56E0\u6B64\u6211\u4EEC\u8FD8\u53EF\u4EE5\u8FD9\u4E48\u505A\uFF1A</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> f3<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token function-variable function">f3</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>\u8BA9<code>f1</code>\u6267\u884C\uFF0C\u7ED9<code>f3</code>\u8D4B\u503C\u540E\uFF0C\u7B49\u4E8E\u8BF4\u73B0\u5728<code>f3</code>\u62E5\u6709\u4E86<code>window\u3001f1\u548Cf3\u672C\u8EAB\u8FD9\u51E0\u4E2A\u4F5C\u7528\u57DF\u7684\u8BBF\u95EE\u6743\u9650</code>\uFF0C\u8FD8\u662F\u81EA\u5E95\u5411\u4E0A\u67E5\u627E\uFF0C\u6700\u8FD1\u662F\u5728<code>f1</code>\u4E2D\u627E\u5230\u4E86<code>a</code>,\u56E0\u6B64\u8F93\u51FA2\u3002</li><li>\u5728\u8FD9\u91CC\u662F\u5916\u9762\u7684\u53D8\u91CF<code>f3</code>\u5B58\u5728\u7740\u7236\u7EA7\u4F5C\u7528\u57DF\u7684\u5F15\u7528\uFF0C\u56E0\u6B64\u4EA7\u751F\u4E86\u95ED\u5305\uFF0C\u5F62\u5F0F\u53D8\u4E86\uFF0C\u672C\u8D28\u6CA1\u6709\u6539\u53D8</li></ul>`,9),Cu={id:"_4-2-\u95ED\u5305\u6709\u54EA\u4E9B\u8868\u73B0\u5F62\u5F0F",tabindex:"-1"},Du=n("a",{class:"header-anchor",href:"#_4-2-\u95ED\u5305\u6709\u54EA\u4E9B\u8868\u73B0\u5F62\u5F0F","aria-hidden":"true"},"#",-1),Fu=s(),Pu={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_4-2-%E9%97%AD%E5%8C%85%E6%9C%89%E5%93%AA%E4%BA%9B%E8%A1%A8%E7%8E%B0%E5%BD%A2%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},Tu=s("#"),Nu=s("4.2 \u95ED\u5305\u6709\u54EA\u4E9B\u8868\u73B0\u5F62\u5F0F"),Mu=t(`<p>\u660E\u767D\u4E86\u672C\u8D28\u4E4B\u540E\uFF0C\u6211\u4EEC\u5C31\u6765\u770B\u770B\uFF0C\u5728\u771F\u5B9E\u7684\u573A\u666F\u4E2D\uFF0C\u7A76\u7ADF\u5728\u54EA\u4E9B\u5730\u65B9\u80FD\u4F53\u73B0\u95ED\u5305\u7684\u5B58\u5728\uFF1F</p><ol><li>\u8FD4\u56DE\u4E00\u4E2A\u51FD\u6570\u3002\u521A\u521A\u5DF2\u7ECF\u4E3E\u4F8B\u3002</li><li>\u4F5C\u4E3A\u51FD\u6570\u53C2\u6570\u4F20\u9012</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">bar</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// \u8FD9\u5C31\u662F\u95ED\u5305</span>
  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u8F93\u51FA2\uFF0C\u800C\u4E0D\u662F1</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ol><li>\u5728\u5B9A\u65F6\u5668\u3001\u4E8B\u4EF6\u76D1\u542C\u3001Ajax\u8BF7\u6C42\u3001\u8DE8\u7A97\u53E3\u901A\u4FE1\u3001<code>Web Workers</code>\u6216\u8005\u4EFB\u4F55\u5F02\u6B65\u4E2D\uFF0C\u53EA\u8981\u4F7F\u7528\u4E86\u56DE\u8C03\u51FD\u6570\uFF0C\u5B9E\u9645\u4E0A\u5C31\u662F\u5728\u4F7F\u7528\u95ED\u5305</li></ol><p>\u4EE5\u4E0B\u7684\u95ED\u5305\u4FDD\u5B58\u7684\u4EC5\u4EC5\u662Fwindow\u548C\u5F53\u524D\u4F5C\u7528\u57DF\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9A\u65F6\u5668</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timeHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;111&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>\uFF0C<span class="token number">100</span><span class="token punctuation">)</span>

<span class="token comment">// \u4E8B\u4EF6\u76D1\u542C</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;DOM Listener&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol><li><code>IIFE</code>(\u7ACB\u5373\u6267\u884C\u51FD\u6570\u8868\u8FBE\u5F0F)\u521B\u5EFA\u95ED\u5305, \u4FDD\u5B58\u4E86\u5168\u5C40\u4F5C\u7528\u57DF<code>window</code>\u548C\u5F53\u524D\u51FD\u6570\u7684\u4F5C\u7528\u57DF\uFF0C\u56E0\u6B64\u53EF\u4EE5\u8BBF\u95EE\u5168\u5C40\u7684\u53D8\u91CF</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token constant">IIFE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// \u8F93\u51FA2</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,8),Ou={id:"_4-3-\u5982\u4F55\u89E3\u51B3\u4E0B\u9762\u7684\u5FAA\u73AF\u8F93\u51FA\u95EE\u9898",tabindex:"-1"},Iu=n("a",{class:"header-anchor",href:"#_4-3-\u5982\u4F55\u89E3\u51B3\u4E0B\u9762\u7684\u5FAA\u73AF\u8F93\u51FA\u95EE\u9898","aria-hidden":"true"},"#",-1),Ru=s(),Vu={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_4-3-%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E4%B8%8B%E9%9D%A2%E7%9A%84%E5%BE%AA%E7%8E%AF%E8%BE%93%E5%87%BA%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},Hu=s("#"),Lu=s("4.3 \u5982\u4F55\u89E3\u51B3\u4E0B\u9762\u7684\u5FAA\u73AF\u8F93\u51FA\u95EE\u9898"),Uu=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u4E3A\u4EC0\u4E48\u4F1A\u5168\u90E8\u8F93\u51FA6\uFF1F\u5982\u4F55\u6539\u8FDB\uFF0C\u8BA9\u5B83\u8F93\u51FA1\uFF0C2\uFF0C3\uFF0C4\uFF0C5\uFF1F(\u65B9\u6CD5\u8D8A\u591A\u8D8A\u597D) \u56E0\u4E3AsetTimeout\u4E3A\u5B8F\u4EFB\u52A1\uFF0C\u7531\u4E8EJS\u4E2D\u5355\u7EBF\u7A0BeventLoop\u673A\u5236\uFF0C\u5728\u4E3B\u7EBF\u7A0B\u540C\u6B65\u4EFB\u52A1\u6267\u884C\u5B8C\u540E\u624D\u53BB\u6267\u884C\u5B8F\u4EFB\u52A1\uFF0C\u56E0\u6B64\u5FAA\u73AF\u7ED3\u675F\u540EsetTimeout\u4E2D\u7684\u56DE\u8C03\u624D\u4F9D\u6B21\u6267\u884C\uFF0C\u4F46\u8F93\u51FAi\u7684\u65F6\u5019\u5F53\u524D\u4F5C\u7528\u57DF\u6CA1\u6709\uFF0C\u5F80\u4E0A\u4E00\u7EA7\u518D\u627E\uFF0C\u53D1\u73B0\u4E86i,\u6B64\u65F6\u5FAA\u73AF\u5DF2\u7ECF\u7ED3\u675F\uFF0Ci\u53D8\u6210\u4E866\u3002\u56E0\u6B64\u4F1A\u5168\u90E8\u8F93\u51FA6\u3002</p><p><strong>\u89E3\u51B3\u65B9\u6CD5\uFF1A</strong></p><ol><li>\u5229\u7528IIFE(\u7ACB\u5373\u6267\u884C\u51FD\u6570\u8868\u8FBE\u5F0F)\u5F53\u6BCF\u6B21for\u5FAA\u73AF\u65F6\uFF0C\u628A\u6B64\u65F6\u7684i\u53D8\u91CF\u4F20\u9012\u5230\u5B9A\u65F6\u5668\u4E2D</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol><li>\u7ED9\u5B9A\u65F6\u5668\u4F20\u5165\u7B2C\u4E09\u4E2A\u53C2\u6570, \u4F5C\u4E3A<code>timer</code>\u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u51FD\u6570\u53C2\u6570</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol><li>\u4F7F\u7528ES6\u4E2D\u7684let</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>let\u4F7FJS\u53D1\u751F\u9769\u547D\u6027\u7684\u53D8\u5316\uFF0C\u8BA9JS\u6709\u51FD\u6570\u4F5C\u7528\u57DF\u53D8\u4E3A\u4E86\u5757\u7EA7\u4F5C\u7528\u57DF\uFF0C\u7528let\u540E\u4F5C\u7528\u57DF\u94FE\u4E0D\u590D\u5B58\u5728\u3002\u4EE3\u7801\u7684\u4F5C\u7528\u57DF\u4EE5\u5757\u7EA7\u4E3A\u5355\u4F4D\uFF0C\u4EE5\u4E0A\u9762\u4EE3\u7801\u4E3A\u4F8B:</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// i = 1</span>
<span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// i = 2</span>
<span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// i = 3</span>
<span class="token operator">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div>`,11),Ju={id:"_5-\u539F\u578B\u94FE",tabindex:"-1"},Wu=n("a",{class:"header-anchor",href:"#_5-\u539F\u578B\u94FE","aria-hidden":"true"},"#",-1),zu=s(),Gu={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_5-%E5%8E%9F%E5%9E%8B%E9%93%BE",target:"_blank",rel:"noopener noreferrer"},$u=s("#"),Xu=s("5 \u539F\u578B\u94FE"),Ku={id:"_5-1-\u539F\u578B-\u6784\u9020\u51FD\u6570-\u5B9E\u4F8B",tabindex:"-1"},Qu=n("a",{class:"header-anchor",href:"#_5-1-\u539F\u578B-\u6784\u9020\u51FD\u6570-\u5B9E\u4F8B","aria-hidden":"true"},"#",-1),Yu=s(),Zu={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_5-1-%E5%8E%9F%E5%9E%8B-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0-%E5%AE%9E%E4%BE%8B",target:"_blank",rel:"noopener noreferrer"},nk=s("#"),sk=s("5.1 \u539F\u578B/\u6784\u9020\u51FD\u6570/\u5B9E\u4F8B"),ak=t(`<ul><li>\u539F\u578B(<code>prototype</code>): \u4E00\u4E2A\u7B80\u5355\u7684\u5BF9\u8C61\uFF0C\u7528\u4E8E\u5B9E\u73B0\u5BF9\u8C61\u7684 \u5C5E\u6027\u7EE7\u627F\u3002\u53EF\u4EE5\u7B80\u5355\u7684\u7406\u89E3\u6210\u5BF9\u8C61\u7684\u7239\u3002\u5728 <code>Firefox</code> \u548C <code>Chrome</code> \u4E2D\uFF0C\u6BCF\u4E2A<code>JavaScript</code>\u5BF9\u8C61\u4E2D\u90FD\u5305\u542B\u4E00\u4E2A<code>__proto__</code>(\u975E\u6807\u51C6)\u7684\u5C5E\u6027\u6307\u5411\u5B83\u7239(\u8BE5\u5BF9\u8C61\u7684\u539F\u578B)\uFF0C\u53EF<code>obj.__proto__</code>\u8FDB\u884C\u8BBF\u95EE\u3002</li><li>\u6784\u9020\u51FD\u6570: \u53EF\u4EE5\u901A\u8FC7<code>new</code>\u6765 \u65B0\u5EFA\u4E00\u4E2A\u5BF9\u8C61 \u7684\u51FD\u6570\u3002</li><li>\u5B9E\u4F8B: \u901A\u8FC7\u6784\u9020\u51FD\u6570\u548C<code>new</code>\u521B\u5EFA\u51FA\u6765\u7684\u5BF9\u8C61\uFF0C\u4FBF\u662F\u5B9E\u4F8B\u3002 \u5B9E\u4F8B\u901A\u8FC7<code>__proto__</code>\u6307\u5411\u539F\u578B\uFF0C\u901A\u8FC7<code>constructor</code>\u6307\u5411\u6784\u9020\u51FD\u6570\u3002</li></ul><blockquote><p>\u4EE5<code>Object</code>\u4E3A\u4F8B\uFF0C\u6211\u4EEC\u5E38\u7528\u7684<code>Object</code>\u4FBF\u662F\u4E00\u4E2A\u6784\u9020\u51FD\u6570\uFF0C\u56E0\u6B64\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u5B83\u6784\u5EFA\u5B9E\u4F8B\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9E\u4F8B</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>\u5219\u6B64\u65F6\uFF0C \u5B9E\u4F8B\u4E3A<code>instance</code>, \u6784\u9020\u51FD\u6570\u4E3A<code>Object</code>\uFF0C\u6211\u4EEC\u77E5\u9053\uFF0C\u6784\u9020\u51FD\u6570\u62E5\u6709\u4E00\u4E2A<code>prototype</code>\u7684\u5C5E\u6027\u6307\u5411\u539F\u578B\uFF0C\u56E0\u6B64\u539F\u578B\u4E3A:</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u539F\u578B</span>
<span class="token keyword">const</span> prototype <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>\u8FD9\u91CC\u6211\u4EEC\u53EF\u4EE5\u6765\u770B\u51FA\u4E09\u8005\u7684\u5173\u7CFB:</strong></p><ul><li><code>\u5B9E\u4F8B.__proto__ === \u539F\u578B</code></li><li><code>\u539F\u578B.constructor === \u6784\u9020\u51FD\u6570</code></li><li><code>\u6784\u9020\u51FD\u6570.prototype === \u539F\u578B</code></li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u8FD9\u6761\u7EBF\u5176\u5B9E\u662F\u662F\u57FA\u4E8E\u539F\u578B\u8FDB\u884C\u83B7\u53D6\u7684\uFF0C\u53EF\u4EE5\u7406\u89E3\u6210\u4E00\u6761\u57FA\u4E8E\u539F\u578B\u7684\u6620\u5C04\u7EBF
// \u4F8B\u5982: 
// const o = new Object()
// o.constructor === Object   --&gt; true
// o.__proto__ = null;
// o.constructor === Object   --&gt; false
\u5B9E\u4F8B.constructor === \u6784\u9020\u51FD\u6570
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://poetries1.gitee.io/img-repo/2020/09/112.png" alt="img"></p>`,9),ek={id:"_5-2-\u539F\u578B\u5BF9\u8C61\u548C\u6784\u9020\u51FD\u6570\u6709\u4F55\u5173\u7CFB",tabindex:"-1"},tk=n("a",{class:"header-anchor",href:"#_5-2-\u539F\u578B\u5BF9\u8C61\u548C\u6784\u9020\u51FD\u6570\u6709\u4F55\u5173\u7CFB","aria-hidden":"true"},"#",-1),pk=s(),ok={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_5-2-%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%9C%89%E4%BD%95%E5%85%B3%E7%B3%BB",target:"_blank",rel:"noopener noreferrer"},ck=s("#"),lk=s("5.2 \u539F\u578B\u5BF9\u8C61\u548C\u6784\u9020\u51FD\u6570\u6709\u4F55\u5173\u7CFB"),rk=n("ul",null,[n("li",null,[s("\u5728JavaScript\u4E2D\uFF0C\u6BCF\u5F53\u5B9A\u4E49\u4E00\u4E2A\u51FD\u6570\u6570\u636E\u7C7B\u578B(\u666E\u901A\u51FD\u6570\u3001\u7C7B)\u65F6\u5019\uFF0C\u90FD\u4F1A\u5929\u751F\u81EA\u5E26\u4E00\u4E2A"),n("code",null,"prototype"),s("\u5C5E\u6027\uFF0C\u8FD9\u4E2A\u5C5E\u6027\u6307\u5411\u51FD\u6570\u7684\u539F\u578B\u5BF9\u8C61\u3002")]),n("li",null,[s("\u5F53\u51FD\u6570\u7ECF\u8FC7"),n("code",null,"new"),s("\u8C03\u7528\u65F6\uFF0C\u8FD9\u4E2A\u51FD\u6570\u5C31\u6210\u4E3A\u4E86\u6784\u9020\u51FD\u6570\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u5168\u65B0\u7684\u5B9E\u4F8B\u5BF9\u8C61\uFF0C\u8FD9\u4E2A\u5B9E\u4F8B\u5BF9\u8C61\u6709\u4E00\u4E2A"),n("code",null,"__proto__"),s("\u5C5E\u6027\uFF0C\u6307\u5411\u6784\u9020\u51FD\u6570\u7684\u539F\u578B\u5BF9\u8C61\u3002")])],-1),ik=n("p",null,[n("img",{src:"http://img-repo.poetries.top/images/20210309102015.png",alt:"img"})],-1),uk={id:"_5-3-\u80FD\u4E0D\u80FD\u63CF\u8FF0\u4E00\u4E0B\u539F\u578B\u94FE",tabindex:"-1"},kk=n("a",{class:"header-anchor",href:"#_5-3-\u80FD\u4E0D\u80FD\u63CF\u8FF0\u4E00\u4E0B\u539F\u578B\u94FE","aria-hidden":"true"},"#",-1),dk=s(),bk={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_5-3-%E8%83%BD%E4%B8%8D%E8%83%BD%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8B%E5%8E%9F%E5%9E%8B%E9%93%BE",target:"_blank",rel:"noopener noreferrer"},mk=s("#"),hk=s("5.3 \u80FD\u4E0D\u80FD\u63CF\u8FF0\u4E00\u4E0B\u539F\u578B\u94FE"),_k=t('<blockquote><p>JavaScript\u5BF9\u8C61\u901A\u8FC7<code>__proto__</code> \u6307\u5411\u7236\u7C7B\u5BF9\u8C61\uFF0C\u76F4\u5230\u6307\u5411<code>Object</code>\u5BF9\u8C61\u4E3A\u6B62\uFF0C\u8FD9\u6837\u5C31\u5F62\u6210\u4E86\u4E00\u4E2A\u539F\u578B\u6307\u5411\u7684\u94FE\u6761, \u5373\u539F\u578B\u94FE</p></blockquote><p><img src="http://img-repo.poetries.top/images/20210309102100.png" alt="img"></p><ul><li>\u5BF9\u8C61\u7684 <code>hasOwnProperty()</code> \u6765\u68C0\u67E5\u5BF9\u8C61\u81EA\u8EAB\u4E2D\u662F\u5426\u542B\u6709\u8BE5\u5C5E\u6027</li><li>\u4F7F\u7528 <code>in</code> \u68C0\u67E5\u5BF9\u8C61\u4E2D\u662F\u5426\u542B\u6709\u67D0\u4E2A\u5C5E\u6027\u65F6\uFF0C\u5982\u679C\u5BF9\u8C61\u4E2D\u6CA1\u6709\u4F46\u662F\u539F\u578B\u94FE\u4E2D\u6709\uFF0C\u4E5F\u4F1A\u8FD4\u56DE <code>true</code></li></ul>',3),gk={id:"_6-\u7EE7\u627F",tabindex:"-1"},Ek=n("a",{class:"header-anchor",href:"#_6-\u7EE7\u627F","aria-hidden":"true"},"#",-1),fk=s(),vk={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_6-%E7%BB%A7%E6%89%BF",target:"_blank",rel:"noopener noreferrer"},wk=s("#"),yk=s("6 \u7EE7\u627F"),xk={id:"_6-1-\u65B9\u5F0F1-\u501F\u52A9call",tabindex:"-1"},Ak=n("a",{class:"header-anchor",href:"#_6-1-\u65B9\u5F0F1-\u501F\u52A9call","aria-hidden":"true"},"#",-1),Bk=s(),qk={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_6-1-%E6%96%B9%E5%BC%8F1-%E5%80%9F%E5%8A%A9call",target:"_blank",rel:"noopener noreferrer"},jk=s("#"),Sk=s("6.1 \u65B9\u5F0F1: \u501F\u52A9call"),Ck=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token keyword">function</span> <span class="token function">Parent1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;parent1&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">Child1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Parent1</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;child1&#39;</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Child1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>\u8FD9\u6837\u5199\u7684\u65F6\u5019\u5B50\u7C7B\u867D\u7136\u80FD\u591F\u62FF\u5230\u7236\u7C7B\u7684\u5C5E\u6027\u503C\uFF0C\u4F46\u662F\u95EE\u9898\u662F\u7236\u7C7B\u539F\u578B\u5BF9\u8C61\u4E2D\u4E00\u65E6\u5B58\u5728\u65B9\u6CD5\u90A3\u4E48\u5B50\u7C7B\u65E0\u6CD5\u7EE7\u627F\u3002\u90A3\u4E48\u5F15\u51FA\u4E0B\u9762\u7684\u65B9\u6CD5\u3002</p></blockquote>`,2),Dk={id:"_6-2-\u65B9\u5F0F2-\u501F\u52A9\u539F\u578B\u94FE",tabindex:"-1"},Fk=n("a",{class:"header-anchor",href:"#_6-2-\u65B9\u5F0F2-\u501F\u52A9\u539F\u578B\u94FE","aria-hidden":"true"},"#",-1),Pk=s(),Tk={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_6-2-%E6%96%B9%E5%BC%8F2-%E5%80%9F%E5%8A%A9%E5%8E%9F%E5%9E%8B%E9%93%BE",target:"_blank",rel:"noopener noreferrer"},Nk=s("#"),Mk=s("6.2 \u65B9\u5F0F2: \u501F\u52A9\u539F\u578B\u94FE"),Ok=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token keyword">function</span> <span class="token function">Parent2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;parent2&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>play <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">Child2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;child2&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token class-name">Child2</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Child2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u770B\u4F3C\u6CA1\u6709\u95EE\u9898\uFF0C\u7236\u7C7B\u7684\u65B9\u6CD5\u548C\u5C5E\u6027\u90FD\u80FD\u591F\u8BBF\u95EE\uFF0C\u4F46\u5B9E\u9645\u4E0A\u6709\u4E00\u4E2A\u6F5C\u5728\u7684\u4E0D\u8DB3\u3002\u4E3E\u4E2A\u4F8B\u5B50\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s1<span class="token punctuation">.</span>play<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>play<span class="token punctuation">,</span> s2<span class="token punctuation">.</span>play<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u53EF\u4EE5\u770B\u5230\u63A7\u5236\u53F0\uFF1A</p><p><img src="http://img-repo.poetries.top/images/20210309103243.png" alt="img"></p><blockquote><p>\u660E\u660E\u6211\u53EA\u6539\u53D8\u4E86s1\u7684play\u5C5E\u6027\uFF0C\u4E3A\u4EC0\u4E48s2\u4E5F\u8DDF\u7740\u53D8\u4E86\u5462\uFF1F\u5F88\u7B80\u5355\uFF0C\u56E0\u4E3A\u4E24\u4E2A\u5B9E\u4F8B\u4F7F\u7528\u7684\u662F\u540C\u4E00\u4E2A\u539F\u578B\u5BF9\u8C61\u3002</p></blockquote><p>\u90A3\u4E48\u8FD8\u6709\u66F4\u597D\u7684\u65B9\u5F0F\u4E48\uFF1F</p>`,7),Ik={id:"_6-3-\u65B9\u5F0F3-\u5C06\u524D\u4E24\u79CD\u7EC4\u5408",tabindex:"-1"},Rk=n("a",{class:"header-anchor",href:"#_6-3-\u65B9\u5F0F3-\u5C06\u524D\u4E24\u79CD\u7EC4\u5408","aria-hidden":"true"},"#",-1),Vk=s(),Hk={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_6-3-%E6%96%B9%E5%BC%8F3-%E5%B0%86%E5%89%8D%E4%B8%A4%E7%A7%8D%E7%BB%84%E5%90%88",target:"_blank",rel:"noopener noreferrer"},Lk=s("#"),Uk=s("6.3 \u65B9\u5F0F3\uFF1A\u5C06\u524D\u4E24\u79CD\u7EC4\u5408"),Jk=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token keyword">function</span> <span class="token function">Parent3</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;parent3&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>play <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">Child3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Parent3</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;child3&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token class-name">Child3</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> s3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> s4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  s3<span class="token punctuation">.</span>play<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s3<span class="token punctuation">.</span>play<span class="token punctuation">,</span> s4<span class="token punctuation">.</span>play<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u53EF\u4EE5\u770B\u5230\u63A7\u5236\u53F0\uFF1A</p><p><img src="http://img-repo.poetries.top/images/20210309103312.png" alt="img"></p><blockquote><p>\u4E4B\u524D\u7684\u95EE\u9898\u90FD\u5F97\u4EE5\u89E3\u51B3\u3002\u4F46\u662F\u8FD9\u91CC\u53C8\u5F92\u589E\u4E86\u4E00\u4E2A\u65B0\u95EE\u9898\uFF0C\u90A3\u5C31\u662F<code>Parent3</code>\u7684\u6784\u9020\u51FD\u6570\u4F1A\u591A\u6267\u884C\u4E86\u4E00\u6B21\uFF08<code>Child3.prototype = new Parent3();</code>\uFF09\u3002\u8FD9\u662F\u6211\u4EEC\u4E0D\u613F\u770B\u5230\u7684\u3002\u90A3\u4E48\u5982\u4F55\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF1F</p></blockquote>`,4),Wk={id:"_6-4-\u65B9\u5F0F4-\u7EC4\u5408\u7EE7\u627F\u7684\u4F18\u53161",tabindex:"-1"},zk=n("a",{class:"header-anchor",href:"#_6-4-\u65B9\u5F0F4-\u7EC4\u5408\u7EE7\u627F\u7684\u4F18\u53161","aria-hidden":"true"},"#",-1),Gk=s(),$k={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_6-4-%E6%96%B9%E5%BC%8F4-%E7%BB%84%E5%90%88%E7%BB%A7%E6%89%BF%E7%9A%84%E4%BC%98%E5%8C%961",target:"_blank",rel:"noopener noreferrer"},Xk=s("#"),Kk=s("6.4 \u65B9\u5F0F4: \u7EC4\u5408\u7EE7\u627F\u7684\u4F18\u53161"),Qk=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token keyword">function</span> <span class="token function">Parent4</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;parent4&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>play <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">Child4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Parent4</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;child4&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token class-name">Child4</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">Parent4</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u8FD9\u91CC\u8BA9\u5C06\u7236\u7C7B\u539F\u578B\u5BF9\u8C61\u76F4\u63A5\u7ED9\u5230\u5B50\u7C7B\uFF0C\u7236\u7C7B\u6784\u9020\u51FD\u6570\u53EA\u6267\u884C\u4E00\u6B21\uFF0C\u800C\u4E14\u7236\u7C7B\u5C5E\u6027\u548C\u65B9\u6CD5\u5747\u80FD\u8BBF\u95EE\uFF0C\u4F46\u662F\u6211\u4EEC\u6765\u6D4B\u8BD5\u4E00\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> s3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> s4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="http://img-repo.poetries.top/images/20210309103358.png" alt="img"></p><blockquote><p>\u5B50\u7C7B\u5B9E\u4F8B\u7684\u6784\u9020\u51FD\u6570\u662FParent4\uFF0C\u663E\u7136\u8FD9\u662F\u4E0D\u5BF9\u7684\uFF0C\u5E94\u8BE5\u662FChild4\u3002</p></blockquote>`,5),Yk={id:"_6-5-\u65B9\u5F0F5-\u6700\u63A8\u8350\u4F7F\u7528-\u7EC4\u5408\u7EE7\u627F\u7684\u4F18\u53162",tabindex:"-1"},Zk=n("a",{class:"header-anchor",href:"#_6-5-\u65B9\u5F0F5-\u6700\u63A8\u8350\u4F7F\u7528-\u7EC4\u5408\u7EE7\u627F\u7684\u4F18\u53162","aria-hidden":"true"},"#",-1),nd=s(),sd={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_6-5-%E6%96%B9%E5%BC%8F5-%E6%9C%80%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8-%E7%BB%84%E5%90%88%E7%BB%A7%E6%89%BF%E7%9A%84%E4%BC%98%E5%8C%962",target:"_blank",rel:"noopener noreferrer"},ad=s("#"),ed=s("6.5 \u65B9\u5F0F5(\u6700\u63A8\u8350\u4F7F\u7528): \u7EC4\u5408\u7EE7\u627F\u7684\u4F18\u53162"),td=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token keyword">function</span> <span class="token function">Parent5</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;parent5&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>play <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">Child5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Parent5</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;child5&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token class-name">Child5</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Parent5</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Child5</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Child5<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u8FD9\u662F\u6700\u63A8\u8350\u7684\u4E00\u79CD\u65B9\u5F0F\uFF0C\u63A5\u8FD1\u5B8C\u7F8E\u7684\u7EE7\u627F\uFF0C\u5B83\u7684\u540D\u5B57\u4E5F\u53EB\u505A\u5BC4\u751F\u7EC4\u5408\u7EE7\u627F\u3002</p>`,2),pd={id:"_6-6-es6\u7684extends\u88AB\u7F16\u8BD1\u540E\u7684javascript\u4EE3\u7801",tabindex:"-1"},od=n("a",{class:"header-anchor",href:"#_6-6-es6\u7684extends\u88AB\u7F16\u8BD1\u540E\u7684javascript\u4EE3\u7801","aria-hidden":"true"},"#",-1),cd=s(),ld={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_6-6-es6%E7%9A%84extends%E8%A2%AB%E7%BC%96%E8%AF%91%E5%90%8E%E7%9A%84javascript%E4%BB%A3%E7%A0%81",target:"_blank",rel:"noopener noreferrer"},rd=s("#"),id=s("6.6 ES6\u7684extends\u88AB\u7F16\u8BD1\u540E\u7684JavaScript\u4EE3\u7801"),ud=t(`<blockquote><p>ES6\u7684\u4EE3\u7801\u6700\u540E\u90FD\u662F\u8981\u5728\u6D4F\u89C8\u5668\u4E0A\u80FD\u591F\u8DD1\u8D77\u6765\u7684\uFF0C\u8FD9\u4E2D\u95F4\u5C31\u5229\u7528\u4E86babel\u8FD9\u4E2A\u7F16\u8BD1\u5DE5\u5177\uFF0C\u5C06ES6\u7684\u4EE3\u7801\u7F16\u8BD1\u6210ES5\u8BA9\u4E00\u4E9B\u4E0D\u652F\u6301\u65B0\u8BED\u6CD5\u7684\u6D4F\u89C8\u5668\u4E5F\u80FD\u8FD0\u884C\u3002</p></blockquote><p>\u90A3\u6700\u540E\u7F16\u8BD1\u6210\u4E86\u4EC0\u4E48\u6837\u5B50\u5462\uFF1F</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">_possibleConstructorReturn</span><span class="token punctuation">(</span><span class="token parameter">self<span class="token punctuation">,</span> call</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">return</span> call <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> call <span class="token operator">===</span> <span class="token string">&#39;object&#39;</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> call <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token operator">?</span> call <span class="token operator">:</span> self<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">_inherits</span><span class="token punctuation">(</span><span class="token parameter">subClass<span class="token punctuation">,</span> superClass</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token comment">//\u770B\u5230\u6CA1\u6709</span>
    subClass<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>superClass <span class="token operator">&amp;&amp;</span> superClass<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">constructor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">value</span><span class="token operator">:</span> subClass<span class="token punctuation">,</span>
            <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>superClass<span class="token punctuation">)</span> Object<span class="token punctuation">.</span>setPrototypeOf <span class="token operator">?</span> Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>subClass<span class="token punctuation">,</span> superClass<span class="token punctuation">)</span> <span class="token operator">:</span> subClass<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> superClass<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">var</span> <span class="token function-variable function">Parent</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u9A8C\u8BC1\u662F\u5426\u662F Parent \u6784\u9020\u51FA\u6765\u7684 this</span>
    <span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> Parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Child <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">_Parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">_inherits</span><span class="token punctuation">(</span>Child<span class="token punctuation">,</span> _Parent<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> Child<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token function">_possibleConstructorReturn</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Child<span class="token punctuation">.</span>__proto__ <span class="token operator">||</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>Child<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> Child<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span>Parent<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><blockquote><p>\u6838\u5FC3\u662F<code>_inherits</code>\u51FD\u6570\uFF0C\u53EF\u4EE5\u770B\u5230\u5B83\u91C7\u7528\u7684\u4F9D\u7136\u4E5F\u662F\u7B2C\u4E94\u79CD\u65B9\u5F0F\u2014\u2014\u2014\u2014\u5BC4\u751F\u7EC4\u5408\u7EE7\u627F\u65B9\u5F0F\uFF0C\u540C\u65F6\u8BC1\u660E\u4E86\u8FD9\u79CD\u65B9\u5F0F\u7684\u6210\u529F\u3002\u4E0D\u8FC7\u8FD9\u91CC\u52A0\u4E86\u4E00\u4E2A<code>Object.setPrototypeOf(subClass, superClass)</code>\uFF0C\u8FD9\u662F\u7528\u6765\u5E72\u5565\u7684\u5462\uFF1F</p></blockquote><p>\u7B54\u6848\u662F\u7528\u6765\u7EE7\u627F\u7236\u7C7B\u7684\u9759\u6001\u65B9\u6CD5\u3002\u8FD9\u4E5F\u662F\u539F\u6765\u7684\u7EE7\u627F\u65B9\u5F0F\u758F\u5FFD\u6389\u7684\u5730\u65B9\u3002</p><p><strong>\u8FFD\u95EE: \u9762\u5411\u5BF9\u8C61\u7684\u8BBE\u8BA1\u4E00\u5B9A\u662F\u597D\u7684\u8BBE\u8BA1\u5417\uFF1F</strong></p><blockquote><p>\u4E0D\u4E00\u5B9A\u3002\u4ECE\u7EE7\u627F\u7684\u89D2\u5EA6\u8BF4\uFF0C\u8FD9\u4E00\u8BBE\u8BA1\u662F\u5B58\u5728\u5DE8\u5927\u9690\u60A3\u7684\u3002</p></blockquote>`,7),kd={id:"_6-7-\u4ECE\u8BBE\u8BA1\u601D\u60F3\u4E0A\u8C08\u8C08\u7EE7\u627F\u672C\u8EAB\u7684\u95EE\u9898",tabindex:"-1"},dd=n("a",{class:"header-anchor",href:"#_6-7-\u4ECE\u8BBE\u8BA1\u601D\u60F3\u4E0A\u8C08\u8C08\u7EE7\u627F\u672C\u8EAB\u7684\u95EE\u9898","aria-hidden":"true"},"#",-1),bd=s(),md={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_6-7-%E4%BB%8E%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3%E4%B8%8A%E8%B0%88%E8%B0%88%E7%BB%A7%E6%89%BF%E6%9C%AC%E8%BA%AB%E7%9A%84%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},hd=s("#"),_d=s("6.7 \u4ECE\u8BBE\u8BA1\u601D\u60F3\u4E0A\u8C08\u8C08\u7EE7\u627F\u672C\u8EAB\u7684\u95EE\u9898"),gd=t(`<p>\u5047\u5982\u73B0\u5728\u6709\u4E0D\u540C\u54C1\u724C\u7684\u8F66\uFF0C\u6BCF\u8F86\u8F66\u90FD\u6709drive\u3001music\u3001addOil\u8FD9\u4E09\u4E2A\u65B9\u6CD5\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">drive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;wuwuwu!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">music</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;lalala!&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">addOil</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u54E6\u54DF\uFF01&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">otherCar</span> <span class="token keyword">extends</span> <span class="token class-name">Car</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>\u73B0\u5728\u53EF\u4EE5\u5B9E\u73B0\u8F66\u7684\u529F\u80FD\uFF0C\u5E76\u4E14\u4EE5\u6B64\u53BB\u6269\u5C55\u4E0D\u540C\u7684\u8F66\u3002</p><p>\u4F46\u662F\u95EE\u9898\u6765\u4E86\uFF0C\u65B0\u80FD\u6E90\u6C7D\u8F66\u4E5F\u662F\u8F66\uFF0C\u4F46\u662F\u5B83\u5E76\u4E0D\u9700\u8981addOil(\u52A0\u6CB9)\u3002</p><p>\u5982\u679C\u8BA9\u65B0\u80FD\u6E90\u6C7D\u8F66\u7684\u7C7B\u7EE7\u627FCar\u7684\u8BDD\uFF0C\u4E5F\u662F\u6709\u95EE\u9898\u7684\uFF0C\u4FD7\u79F0&quot;\u5927\u7329\u7329\u548C\u9999\u8549&quot;\u7684\u95EE\u9898\u3002\u5927\u7329\u7329\u624B\u91CC\u6709\u9999\u8549\uFF0C\u4F46\u662F\u6211\u73B0\u5728\u660E\u660E\u53EA\u9700\u8981\u9999\u8549\uFF0C\u5374\u62FF\u5230\u4E86\u4E00\u53EA\u5927\u7329\u7329\u3002\u4E5F\u5C31\u662F\u8BF4\u52A0\u6CB9\u8FD9\u4E2A\u65B9\u6CD5\uFF0C\u6211\u73B0\u5728\u662F\u4E0D\u9700\u8981\u7684\uFF0C\u4F46\u662F\u7531\u4E8E\u7EE7\u627F\u7684\u539F\u56E0\uFF0C\u4E5F\u7ED9\u5230\u5B50\u7C7B\u4E86\u3002</p><blockquote><p>\u7EE7\u627F\u7684\u6700\u5927\u95EE\u9898\u5728\u4E8E\uFF1A\u65E0\u6CD5\u51B3\u5B9A\u7EE7\u627F\u54EA\u4E9B\u5C5E\u6027\uFF0C\u6240\u6709\u5C5E\u6027\u90FD\u5F97\u7EE7\u627F\u3002</p></blockquote><p>\u5F53\u7136\u4F60\u53EF\u80FD\u4F1A\u8BF4\uFF0C\u53EF\u4EE5\u518D\u521B\u5EFA\u4E00\u4E2A\u7236\u7C7B\u554A\uFF0C\u628A\u52A0\u6CB9\u7684\u65B9\u6CD5\u7ED9\u53BB\u6389\uFF0C\u4F46\u662F\u8FD9\u4E5F\u662F\u6709\u95EE\u9898\u7684\uFF0C\u4E00\u65B9\u9762\u7236\u7C7B\u662F\u65E0\u6CD5\u63CF\u8FF0\u6240\u6709\u5B50\u7C7B\u7684\u7EC6\u8282\u60C5\u51B5\u7684\uFF0C\u4E3A\u4E86\u4E0D\u540C\u7684\u5B50\u7C7B\u7279\u6027\u53BB\u589E\u52A0\u4E0D\u540C\u7684\u7236\u7C7B\uFF0C\u4EE3\u7801\u52BF\u5FC5\u4F1A\u5927\u91CF\u91CD\u590D\uFF0C\u53E6\u4E00\u65B9\u9762\u4E00\u65E6\u5B50\u7C7B\u6709\u6240\u53D8\u52A8\uFF0C\u7236\u7C7B\u4E5F\u8981\u8FDB\u884C\u76F8\u5E94\u7684\u66F4\u65B0\uFF0C\u4EE3\u7801\u7684\u8026\u5408\u6027\u592A\u9AD8\uFF0C\u7EF4\u62A4\u6027\u4E0D\u597D\u3002</p><p><strong>\u90A3\u5982\u4F55\u6765\u89E3\u51B3\u7EE7\u627F\u7684\u8BF8\u591A\u95EE\u9898\u5462\uFF1F</strong></p><blockquote><p>\u7528\u7EC4\u5408\uFF0C\u8FD9\u4E5F\u662F\u5F53\u4ECA\u7F16\u7A0B\u8BED\u6CD5\u53D1\u5C55\u7684\u8D8B\u52BF\uFF0C\u6BD4\u5982golang\u5B8C\u5168\u91C7\u7528\u7684\u662F\u9762\u5411\u7EC4\u5408\u7684\u8BBE\u8BA1\u65B9\u5F0F\u3002</p></blockquote><p>\u987E\u540D\u601D\u4E49\uFF0C\u9762\u5411\u7EC4\u5408\u5C31\u662F\u5148\u8BBE\u8BA1\u4E00\u7CFB\u5217\u96F6\u4EF6\uFF0C\u7136\u540E\u5C06\u8FD9\u4E9B\u96F6\u4EF6\u8FDB\u884C\u62FC\u88C5\uFF0C\u6765\u5F62\u6210\u4E0D\u540C\u7684\u5B9E\u4F8B\u6216\u8005\u7C7B\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">drive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;wuwuwu!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">music</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;lalala!&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">addOil</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u54E6\u54DF\uFF01&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> car <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span>drive<span class="token punctuation">,</span> music<span class="token punctuation">,</span> addOil<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newEnergyCar <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span>drive<span class="token punctuation">,</span> music<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>\u4EE3\u7801\u5E72\u51C0\uFF0C\u590D\u7528\u6027\u4E5F\u5F88\u597D\u3002\u8FD9\u5C31\u662F\u9762\u5411\u7EC4\u5408\u7684\u8BBE\u8BA1\u65B9\u5F0F\u3002</p></blockquote>`,12),Ed={id:"_6-8-\u7EE7\u627F-\u7B80\u7248",tabindex:"-1"},fd=n("a",{class:"header-anchor",href:"#_6-8-\u7EE7\u627F-\u7B80\u7248","aria-hidden":"true"},"#",-1),vd=s(),wd={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_6-8-%E7%BB%A7%E6%89%BF-%E7%AE%80%E7%89%88",target:"_blank",rel:"noopener noreferrer"},yd=s("#"),xd=s("6.8 \u7EE7\u627F-\u7B80\u7248"),Ad=t(`<blockquote><p>\u5728 ES5 \u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u5982\u4E0B\u65B9\u5F0F\u89E3\u51B3\u7EE7\u627F\u7684\u95EE\u9898</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Super</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">Super</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getNumber</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Sub</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sub</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token class-name">Sub</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Super</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">constructor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> Sub<span class="token punctuation">,</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>\u4EE5\u4E0A\u7EE7\u627F\u5B9E\u73B0\u601D\u8DEF\u5C31\u662F\u5C06\u5B50\u7C7B\u7684\u539F\u578B\u8BBE\u7F6E\u4E3A\u7236\u7C7B\u7684\u539F\u578B</li><li>\u5728 <code>ES6</code> \u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 <code>class</code> \u8BED\u6CD5\u8F7B\u677E\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">MyDate</span> <span class="token keyword">extends</span> <span class="token class-name">Date</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> myDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
myDate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>\u4F46\u662F <code>ES6</code> \u4E0D\u662F\u6240\u6709\u6D4F\u89C8\u5668\u90FD\u517C\u5BB9\uFF0C\u6240\u4EE5\u6211\u4EEC\u9700\u8981\u4F7F\u7528 <code>Babel</code> \u6765\u7F16\u8BD1\u8FD9\u6BB5\u4EE3\u7801\u3002</li><li>\u5982\u679C\u4F60\u4F7F\u7528\u7F16\u8BD1\u8FC7\u5F97\u4EE3\u7801\u8C03\u7528 <code>myDate.test()</code>\u4F60\u4F1A\u60CA\u5947\u5730\u53D1\u73B0\u51FA\u73B0\u4E86\u62A5\u9519</li></ul><blockquote><p>\u56E0\u4E3A\u5728 <code>JS</code> \u5E95\u5C42\u6709\u9650\u5236\uFF0C\u5982\u679C\u4E0D\u662F\u7531 <code>Date</code>\u6784\u9020\u51FA\u6765\u7684\u5B9E\u4F8B\u7684\u8BDD\uFF0C\u662F\u4E0D\u80FD\u8C03\u7528 <code>Date</code> \u91CC\u7684\u51FD\u6570\u7684\u3002\u6240\u4EE5\u8FD9\u4E5F\u4FA7\u9762\u7684\u8BF4\u660E\u4E86\uFF1A<code>ES6</code> \u4E2D\u7684 <code>class</code> \u7EE7\u627F\u4E0E <code>ES5</code> \u4E2D\u7684\u4E00\u822C\u7EE7\u627F\u5199\u6CD5\u662F\u4E0D\u540C\u7684\u3002</p></blockquote><ul><li>\u65E2\u7136\u5E95\u5C42\u9650\u5236\u4E86\u5B9E\u4F8B\u5FC5\u987B\u7531 <code>Date</code> \u6784\u9020\u51FA\u6765\uFF0C\u90A3\u4E48\u6211\u4EEC\u53EF\u4EE5\u6539\u53D8\u4E0B\u601D\u8DEF\u5B9E\u73B0\u7EE7\u627F</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">MyData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token class-name">MyData</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span> <span class="token class-name">MyData</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span><span class="token class-name">MyData</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token class-name">Date</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>\u4EE5\u4E0A\u7EE7\u627F\u5B9E\u73B0\u601D\u8DEF\uFF1A\u5148\u521B\u5EFA\u7236\u7C7B\u5B9E\u4F8B =&gt; \u6539\u53D8\u5B9E\u4F8B\u539F\u5148\u7684 <code>_proto__</code>\u8F6C\u800C\u8FDE\u63A5\u5230\u5B50\u7C7B\u7684 <code>prototype</code>=&gt; \u5B50\u7C7B\u7684 <code>prototype</code> \u7684 <code>__proto__</code> \u6539\u4E3A\u7236\u7C7B\u7684 <code>prototype</code>\u3002</li><li>\u901A\u8FC7\u4EE5\u4E0A\u65B9\u6CD5\u5B9E\u73B0\u7684\u7EE7\u627F\u5C31\u53EF\u4EE5\u5B8C\u7F8E\u89E3\u51B3 <code>JS</code> \u5E95\u5C42\u7684\u8FD9\u4E2A\u9650\u5236</li></ul>`,9),Bd={id:"_7-this",tabindex:"-1"},qd=n("a",{class:"header-anchor",href:"#_7-this","aria-hidden":"true"},"#",-1),jd=s(),Sd={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_7-this",target:"_blank",rel:"noopener noreferrer"},Cd=s("#"),Dd=s("7 this"),Fd=t(`<blockquote><p>\u6211\u4EEC\u5148\u6765\u770B\u51E0\u4E2A\u51FD\u6570\u8C03\u7528\u7684\u573A\u666F</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> foo
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>\u5BF9\u4E8E\u76F4\u63A5\u8C03\u7528 <code>foo</code> \u6765\u8BF4\uFF0C\u4E0D\u7BA1 <code>foo</code> \u51FD\u6570\u88AB\u653E\u5728\u4E86\u4EC0\u4E48\u5730\u65B9\uFF0C<code>this</code> \u4E00\u5B9A\u662F<code>window</code></li><li>\u5BF9\u4E8E <code>obj.foo()</code> \u6765\u8BF4\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u8BB0\u4F4F\uFF0C\u8C01\u8C03\u7528\u4E86\u51FD\u6570\uFF0C\u8C01\u5C31\u662F <code>this</code>\uFF0C\u6240\u4EE5\u5728\u8FD9\u4E2A\u573A\u666F\u4E0B <code>foo</code> \u51FD\u6570\u4E2D\u7684 <code>this</code> \u5C31\u662F <code>obj</code> \u5BF9\u8C61</li><li>\u5BF9\u4E8E <code>new</code> \u7684\u65B9\u5F0F\u6765\u8BF4\uFF0C<code>this</code> \u88AB\u6C38\u8FDC\u7ED1\u5B9A\u5728\u4E86 <code>c</code> \u4E0A\u9762\uFF0C\u4E0D\u4F1A\u88AB\u4EFB\u4F55\u65B9\u5F0F\u6539\u53D8 <code>this</code></li></ul><blockquote><p>\u8BF4\u5B8C\u4E86\u4EE5\u4E0A\u51E0\u79CD\u60C5\u51B5\uFF0C\u5176\u5B9E\u5F88\u591A\u4EE3\u7801\u4E2D\u7684 <code>this</code> \u5E94\u8BE5\u5C31\u6CA1\u4EC0\u4E48\u95EE\u9898\u4E86\uFF0C\u4E0B\u9762\u8BA9\u6211\u4EEC\u770B\u770B\u7BAD\u5934\u51FD\u6570\u4E2D\u7684 <code>this</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>\u9996\u5148\u7BAD\u5934\u51FD\u6570\u5176\u5B9E\u662F\u6CA1\u6709 <code>this</code> \u7684\uFF0C\u7BAD\u5934\u51FD\u6570\u4E2D\u7684 <code>this</code> \u53EA\u53D6\u51B3\u5305\u88F9\u7BAD\u5934\u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u666E\u901A\u51FD\u6570\u7684 <code>this</code>\u3002\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u56E0\u4E3A\u5305\u88F9\u7BAD\u5934\u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u666E\u901A\u51FD\u6570\u662F <code>a</code>\uFF0C\u6240\u4EE5\u6B64\u65F6\u7684 <code>this</code> \u662F <code>window</code>\u3002\u53E6\u5916\u5BF9\u7BAD\u5934\u51FD\u6570\u4F7F\u7528 <code>bind</code>\u8FD9\u7C7B\u51FD\u6570\u662F\u65E0\u6548\u7684\u3002</li><li>\u6700\u540E\u79CD\u60C5\u51B5\u4E5F\u5C31\u662F <code>bind</code> \u8FD9\u4E9B\u6539\u53D8\u4E0A\u4E0B\u6587\u7684 <code>API</code> \u4E86\uFF0C\u5BF9\u4E8E\u8FD9\u4E9B\u51FD\u6570\u6765\u8BF4\uFF0C<code>this</code> \u53D6\u51B3\u4E8E\u7B2C\u4E00\u4E2A\u53C2\u6570\uFF0C\u5982\u679C\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E3A\u7A7A\uFF0C\u90A3\u4E48\u5C31\u662F <code>window</code>\u3002</li><li>\u90A3\u4E48\u8BF4\u5230 <code>bind</code>\uFF0C\u4E0D\u77E5\u9053\u5927\u5BB6\u662F\u5426\u8003\u8651\u8FC7\uFF0C\u5982\u679C\u5BF9\u4E00\u4E2A\u51FD\u6570\u8FDB\u884C\u591A\u6B21 <code>bind</code>\uFF0C\u90A3\u4E48\u4E0A\u4E0B\u6587\u4F1A\u662F\u4EC0\u4E48\u5462\uFF1F</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; ?</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>\u5982\u679C\u4F60\u8BA4\u4E3A\u8F93\u51FA\u7ED3\u679C\u662F <code>a</code>\uFF0C\u90A3\u4E48\u4F60\u5C31\u9519\u4E86\uFF0C\u5176\u5B9E\u6211\u4EEC\u53EF\u4EE5\u628A\u4E0A\u8FF0\u4EE3\u7801\u8F6C\u6362\u6210\u53E6\u4E00\u79CD\u5F62\u5F0F</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// fn.bind().bind(a) \u7B49\u4E8E</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn2</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>\u53EF\u4EE5\u4ECE\u4E0A\u8FF0\u4EE3\u7801\u4E2D\u53D1\u73B0\uFF0C\u4E0D\u7BA1\u6211\u4EEC\u7ED9\u51FD\u6570 <code>bind</code> \u51E0\u6B21\uFF0C<code>fn</code> \u4E2D\u7684 <code>this</code> \u6C38\u8FDC\u7531\u7B2C\u4E00\u6B21 <code>bind</code> \u51B3\u5B9A\uFF0C\u6240\u4EE5\u7ED3\u679C\u6C38\u8FDC\u662F <code>window</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;poetries&#39;</span> <span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; &#39;poetries&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u5C31\u662F <code>this</code> \u7684\u89C4\u5219\u4E86\uFF0C\u4F46\u662F\u53EF\u80FD\u4F1A\u53D1\u751F\u591A\u4E2A\u89C4\u5219\u540C\u65F6\u51FA\u73B0\u7684\u60C5\u51B5\uFF0C\u8FD9\u65F6\u5019\u4E0D\u540C\u7684\u89C4\u5219\u4E4B\u95F4\u4F1A\u6839\u636E\u4F18\u5148\u7EA7\u6700\u9AD8\u7684\u6765\u51B3\u5B9A <code>this</code> \u6700\u7EC8\u6307\u5411\u54EA\u91CC\u3002</p></blockquote><blockquote><p>\u9996\u5148\uFF0C<code>new</code> \u7684\u65B9\u5F0F\u4F18\u5148\u7EA7\u6700\u9AD8\uFF0C\u63A5\u4E0B\u6765\u662F <code>bind</code> \u8FD9\u4E9B\u51FD\u6570\uFF0C\u7136\u540E\u662F <code>obj.foo()</code> \u8FD9\u79CD\u8C03\u7528\u65B9\u5F0F\uFF0C\u6700\u540E\u662F <code>foo</code> \u8FD9\u79CD\u8C03\u7528\u65B9\u5F0F\uFF0C\u540C\u65F6\uFF0C\u7BAD\u5934\u51FD\u6570\u7684 <code>this</code> \u4E00\u65E6\u88AB\u7ED1\u5B9A\uFF0C\u5C31\u4E0D\u4F1A\u518D\u88AB\u4EFB\u4F55\u65B9\u5F0F\u6240\u6539\u53D8\u3002</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/2.png" alt="image.png"></p><p><strong>\u603B\u7ED3</strong></p><blockquote><p><code>this</code>\u6267\u884C\u4E3B\u4F53\uFF0C\u8C01\u628A\u5B83\u6267\u884C\u7684\u548C\u5728\u54EA\u521B\u5EFA\u7684\u5728\u54EA\u6267\u884C\u7684\u90FD\u6CA1\u6709\u5FC5\u7136\u7684\u5173\u7CFB</p></blockquote><ul><li>\u51FD\u6570\u6267\u884C\uFF0C\u770B\u65B9\u6CD5\u524D\u9762\u662F\u5426\u6709\u70B9\uFF0C\u6CA1\u6709\u70B9<code>this</code>\u662F<code>window</code>(\u4E25\u683C\u6A21\u5F0F\u4E0B\u662F<code>undefined</code>)\uFF0C\u6709\u70B9\uFF0C\u70B9\u524D\u9762\u662F\u8C01\xB7this\xB7\u5C31\u662F\u8C01</li><li>\u7ED9\u5F53\u524D\u5143\u7D20\u7684\u67D0\u4E2A\u4E8B\u4EF6\u884C\u4E3A\u7ED1\u5B9A\u65B9\u6CD5\uFF0C\u5F53\u4E8B\u4EF6\u884C\u4E3A\u89E6\u53D1\uFF0C\u65B9\u6CD5\u4E2D\u7684this\u662F\u5F53\u524D\u5143\u7D20\u672C\u8EAB\uFF08\u6392\u9664<code>attachEvent</code>\uFF09</li><li>\u6784\u9020\u51FD\u6570\u4F53\u4E2D<code>this</code>\u662F\u5F53\u524D\u7C7B\u7684\u5B9E\u4F8B</li><li>\u7BAD\u5934\u51FD\u6570\u4E2D\u6CA1\u6709\u6267\u884C\u4E3B\u4F53\uFF0C\u6240\u7528\u5230\u7684this\u90FD\u662F\u6240\u5904\u4E0A\u4E0B\u6587\u4E2D\u7684<code>this</code></li><li>\u53EF\u4EE5\u57FA\u4E8E<code>Function.prototype</code>\u4E0A\u7684<code>call/apply/bind</code>\u6539\u53D8<code>this</code>\u6307\u5411</li></ul>`,17),Pd={id:"_8-\u5185\u5B58\u673A\u5236",tabindex:"-1"},Td=n("a",{class:"header-anchor",href:"#_8-\u5185\u5B58\u673A\u5236","aria-hidden":"true"},"#",-1),Nd=s(),Md={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_8-%E5%86%85%E5%AD%98%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"},Od=s("#"),Id=s("8 \u5185\u5B58\u673A\u5236"),Rd=t(`<blockquote><p>\u7F51\u4E0A\u7684\u8D44\u6599\u57FA\u672C\u662F\u8FD9\u6837\u8BF4\u7684: \u57FA\u672C\u6570\u636E\u7C7B\u578B\u7528\u6808\u5B58\u50A8\uFF0C\u5F15\u7528\u6570\u636E\u7C7B\u578B\u7528\u5806\u5B58\u50A8\u3002</p></blockquote><p>\u770B\u8D77\u6765\u6CA1\u6709\u9519\u8BEF\uFF0C\u4F46\u5B9E\u9645\u4E0A\u662F\u6709\u95EE\u9898\u7684\u3002\u53EF\u4EE5\u8003\u8651\u4E00\u4E0B\u95ED\u5305\u7684\u60C5\u51B5\uFF0C\u5982\u679C\u53D8\u91CF\u5B58\u5728\u6808\u4E2D\uFF0C\u90A3\u51FD\u6570\u8C03\u7528\u5B8C\u6808\u9876\u7A7A\u95F4\u9500\u6BC1\uFF0C\u95ED\u5305\u53D8\u91CF\u4E0D\u5C31\u6CA1\u4E86\u5417\uFF1F</p><p>\u5176\u5B9E\u8FD8\u662F\u9700\u8981\u8865\u5145\u4E00\u53E5:</p><blockquote><p>\u95ED\u5305\u53D8\u91CF\u662F\u5B58\u5728\u5806\u5185\u5B58\u4E2D\u7684\u3002</p></blockquote><p><strong>\u5177\u4F53\u800C\u8A00\uFF0C\u4EE5\u4E0B\u6570\u636E\u7C7B\u578B\u5B58\u50A8\u5728\u6808\u4E2D:</strong></p><ul><li><code>boolean</code></li><li><code>null</code></li><li><code>undefined</code></li><li><code>number</code></li><li><code>string</code></li><li><code>symbol</code></li><li><code>bigint</code></li></ul><p>\u800C\u6240\u6709\u7684\u5BF9\u8C61\u6570\u636E\u7C7B\u578B\u5B58\u653E\u5728\u5806\u4E2D\u3002</p><blockquote><p>\u503C\u5F97\u6CE8\u610F\u7684\u662F\uFF0C\u5BF9\u4E8E\u8D4B\u503C\u64CD\u4F5C\uFF0C\u539F\u59CB\u7C7B\u578B\u7684\u6570\u636E\u76F4\u63A5\u5B8C\u6574\u5730\u590D\u5236\u53D8\u91CF\u503C\uFF0C\u5BF9\u8C61\u6570\u636E\u7C7B\u578B\u7684\u6570\u636E\u5219\u662F\u590D\u5236\u5F15\u7528\u5730\u5740\u3002</p></blockquote><p>\u56E0\u6B64\u4F1A\u6709\u4E0B\u9762\u7684\u60C5\u51B5:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newObj <span class="token operator">=</span> obj<span class="token punctuation">;</span>
newObj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//\u53D8\u6210\u4E862</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>\u4E4B\u6240\u4EE5\u4F1A\u8FD9\u6837\uFF0C\u662F\u56E0\u4E3A <code>obj</code> \u548C <code>newObj</code> \u662F\u540C\u4E00\u4EFD\u5806\u7A7A\u95F4\u7684\u5730\u5740\uFF0C\u6539\u53D8<code>newObj</code>\uFF0C\u7B49\u4E8E\u6539\u53D8\u4E86\u5171\u540C\u7684\u5806\u5185\u5B58\uFF0C\u8FD9\u65F6\u5019\u901A\u8FC7 obj \u6765\u83B7\u53D6\u8FD9\u5757\u5185\u5B58\u7684\u503C\u5F53\u7136\u4F1A\u6539\u53D8\u3002 \u5F53\u7136\uFF0C\u4F60\u53EF\u80FD\u4F1A\u95EE: \u4E3A\u4EC0\u4E48\u4E0D\u5168\u90E8\u7528\u6808\u6765\u4FDD\u5B58\u5462\uFF1F</li><li>\u9996\u5148\uFF0C\u5BF9\u4E8E\u7CFB\u7EDF\u6808\u6765\u8BF4\uFF0C\u5B83\u7684\u529F\u80FD\u9664\u4E86\u4FDD\u5B58\u53D8\u91CF\u4E4B\u5916\uFF0C\u8FD8\u6709\u521B\u5EFA\u5E76\u5207\u6362\u51FD\u6570\u6267\u884C\u4E0A\u4E0B\u6587\u7684\u529F\u80FD\u3002\u4E3E\u4E2A\u4F8B\u5B50:</li></ul><p>\u5F53\u7136\uFF0C\u4F60\u53EF\u80FD\u4F1A\u95EE: \u4E3A\u4EC0\u4E48\u4E0D\u5168\u90E8\u7528\u6808\u6765\u4FDD\u5B58\u5462\uFF1F</p><p>\u9996\u5148\uFF0C\u5BF9\u4E8E\u7CFB\u7EDF\u6808\u6765\u8BF4\uFF0C\u5B83\u7684\u529F\u80FD\u9664\u4E86\u4FDD\u5B58\u53D8\u91CF\u4E4B\u5916\uFF0C\u8FD8\u6709<code>\u521B\u5EFA\u5E76\u5207\u6362\u51FD\u6570\u6267\u884C\u4E0A\u4E0B\u6587\u7684\u529F\u80FD</code>\u3002\u4E3E\u4E2A\u4F8B\u5B50:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">func</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>\u5047\u8BBE\u7528ESP\u6307\u9488\u6765\u4FDD\u5B58\u5F53\u524D\u7684\u6267\u884C\u72B6\u6001\uFF0C\u5728\u7CFB\u7EDF\u6808\u4E2D\u4F1A\u4EA7\u751F\u5982\u4E0B\u7684\u8FC7\u7A0B\uFF1A</li><li>\u8C03\u7528func, \u5C06 func \u51FD\u6570\u7684\u4E0A\u4E0B\u6587\u538B\u6808\uFF0CESP\u6307\u5411\u6808\u9876\u3002</li><li>\u6267\u884Cfunc\uFF0C\u53C8\u8C03\u7528f\u51FD\u6570\uFF0C\u5C06 f \u51FD\u6570\u7684\u4E0A\u4E0B\u6587\u538B\u6808\uFF0CESP \u6307\u9488\u4E0A\u79FB\u3002</li><li>\u6267\u884C\u5B8C f \u51FD\u6570\uFF0C\u5C06ESP \u4E0B\u79FB\uFF0Cf\u51FD\u6570\u5BF9\u5E94\u7684\u6808\u9876\u7A7A\u95F4\u88AB\u56DE\u6536\u3002</li><li>\u6267\u884C\u5B8C func\uFF0CESP \u4E0B\u79FB\uFF0Cfunc\u5BF9\u5E94\u7684\u7A7A\u95F4\u88AB\u56DE\u6536\u3002</li></ul><p>\u56FE\u793A\u5982\u4E0B:</p><p><img src="http://img-repo.poetries.top/images/20210309114827.png" alt="img"></p><ul><li>\u56E0\u6B64\u4F60\u4E5F\u770B\u5230\u4E86\uFF0C\u5982\u679C\u91C7\u7528\u6808\u6765\u5B58\u50A8\u76F8\u5BF9\u57FA\u672C\u7C7B\u578B\u66F4\u52A0\u590D\u6742\u7684\u5BF9\u8C61\u6570\u636E\uFF0C\u90A3\u4E48\u5207\u6362\u4E0A\u4E0B\u6587\u7684\u5F00\u9500\u5C06\u53D8\u5F97\u5DE8\u5927\uFF01</li><li>\u4E0D\u8FC7\u5806\u5185\u5B58\u867D\u7136\u7A7A\u95F4\u5927\uFF0C\u80FD\u5B58\u653E\u5927\u91CF\u7684\u6570\u636E\uFF0C\u4F46\u4E0E\u6B64\u540C\u65F6\u5783\u573E\u5185\u5B58\u7684\u56DE\u6536\u4F1A\u5E26\u6765\u66F4\u5927\u7684\u5F00\u9500</li></ul>`,18),Vd={id:"_9-\u6267\u884C\u4E0A\u4E0B\u6587",tabindex:"-1"},Hd=n("a",{class:"header-anchor",href:"#_9-\u6267\u884C\u4E0A\u4E0B\u6587","aria-hidden":"true"},"#",-1),Ld=s(),Ud={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_9-%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87",target:"_blank",rel:"noopener noreferrer"},Jd=s("#"),Wd=s("9 \u6267\u884C\u4E0A\u4E0B\u6587"),zd=t(`<blockquote><p>\u5F53\u6267\u884C JS \u4EE3\u7801\u65F6\uFF0C\u4F1A\u4EA7\u751F\u4E09\u79CD\u6267\u884C\u4E0A\u4E0B\u6587</p></blockquote><ul><li>\u5168\u5C40\u6267\u884C\u4E0A\u4E0B\u6587</li><li>\u51FD\u6570\u6267\u884C\u4E0A\u4E0B\u6587</li><li><code>eval</code> \u6267\u884C\u4E0A\u4E0B\u6587</li></ul><blockquote><p>\u6BCF\u4E2A\u6267\u884C\u4E0A\u4E0B\u6587\u4E2D\u90FD\u6709\u4E09\u4E2A\u91CD\u8981\u7684\u5C5E\u6027</p></blockquote><ul><li>\u53D8\u91CF\u5BF9\u8C61\uFF08<code>VO</code>\uFF09\uFF0C\u5305\u542B\u53D8\u91CF\u3001\u51FD\u6570\u58F0\u660E\u548C\u51FD\u6570\u7684\u5F62\u53C2\uFF0C\u8BE5\u5C5E\u6027\u53EA\u80FD\u5728\u5168\u5C40\u4E0A\u4E0B\u6587\u4E2D\u8BBF\u95EE</li><li>\u4F5C\u7528\u57DF\u94FE\uFF08<code>JS</code> \u91C7\u7528\u8BCD\u6CD5\u4F5C\u7528\u57DF\uFF0C\u4E5F\u5C31\u662F\u8BF4\u53D8\u91CF\u7684\u4F5C\u7528\u57DF\u662F\u5728\u5B9A\u4E49\u65F6\u5C31\u51B3\u5B9A\u4E86\uFF09</li><li><code>this</code></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">20</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u4E0A\u8FF0\u4EE3\u7801\uFF0C\u6267\u884C\u6808\u4E2D\u6709\u4E24\u4E2A\u4E0A\u4E0B\u6587\uFF1A\u5168\u5C40\u4E0A\u4E0B\u6587\u548C\u51FD\u6570 foo \u4E0A\u4E0B\u6587\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>stack <span class="token operator">=</span> <span class="token punctuation">[</span>
    globalContext<span class="token punctuation">,</span>
    fooContext
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u5168\u5C40\u4E0A\u4E0B\u6587\u6765\u8BF4\uFF0C<code>VO</code>\u5927\u6982\u662F\u8FD9\u6837\u7684</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>globalContext<span class="token punctuation">.</span><span class="token constant">VO</span> <span class="token operator">===</span> globe
globalContext<span class="token punctuation">.</span><span class="token constant">VO</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
	<span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token operator">&lt;</span>Function<span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u51FD\u6570 <code>foo</code> \u6765\u8BF4\uFF0C<code>VO</code> \u4E0D\u80FD\u8BBF\u95EE\uFF0C\u53EA\u80FD\u8BBF\u95EE\u5230\u6D3B\u52A8\u5BF9\u8C61\uFF08<code>AO</code>\uFF09</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>fooContext<span class="token punctuation">.</span><span class="token constant">VO</span> <span class="token operator">===</span> foo<span class="token punctuation">.</span><span class="token constant">AO</span>
fooContext<span class="token punctuation">.</span><span class="token constant">AO</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">i</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
	<span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token literal-property property">arguments</span><span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
<span class="token comment">// arguments \u662F\u51FD\u6570\u72EC\u6709\u7684\u5BF9\u8C61(\u7BAD\u5934\u51FD\u6570\u6CA1\u6709)</span>
<span class="token comment">// \u8BE5\u5BF9\u8C61\u662F\u4E00\u4E2A\u4F2A\u6570\u7EC4\uFF0C\u6709 \`length\` \u5C5E\u6027\u4E14\u53EF\u4EE5\u901A\u8FC7\u4E0B\u6807\u8BBF\u95EE\u5143\u7D20</span>
<span class="token comment">// \u8BE5\u5BF9\u8C61\u4E2D\u7684 \`callee\` \u5C5E\u6027\u4EE3\u8868\u51FD\u6570\u672C\u8EAB</span>
<span class="token comment">// \`caller\` \u5C5E\u6027\u4EE3\u8868\u51FD\u6570\u7684\u8C03\u7528\u8005</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u4F5C\u7528\u57DF\u94FE\uFF0C\u53EF\u4EE5\u628A\u5B83\u7406\u89E3\u6210\u5305\u542B\u81EA\u8EAB\u53D8\u91CF\u5BF9\u8C61\u548C\u4E0A\u7EA7\u53D8\u91CF\u5BF9\u8C61\u7684\u5217\u8868\uFF0C\u901A\u8FC7 <code>[[Scope]]</code>\u5C5E\u6027\u67E5\u627E\u4E0A\u7EA7\u53D8\u91CF</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>fooContext<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token punctuation">[</span>Scope<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    globalContext<span class="token punctuation">.</span><span class="token constant">VO</span>
<span class="token punctuation">]</span>
fooContext<span class="token punctuation">.</span>Scope <span class="token operator">=</span> fooContext<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token punctuation">[</span>Scope<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> fooContext<span class="token punctuation">.</span><span class="token constant">VO</span>
fooContext<span class="token punctuation">.</span>Scope <span class="token operator">=</span> <span class="token punctuation">[</span>
    fooContext<span class="token punctuation">.</span><span class="token constant">VO</span><span class="token punctuation">,</span>
    globalContext<span class="token punctuation">.</span><span class="token constant">VO</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>\u63A5\u4E0B\u6765\u8BA9\u6211\u4EEC\u770B\u4E00\u4E2A\u8001\u751F\u5E38\u8C08\u7684\u4F8B\u5B50\uFF0C<code>var</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// call b</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// undefined</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&#39;Hello world&#39;</span>

<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;call b&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>\u60F3\u5FC5\u4EE5\u4E0A\u7684\u8F93\u51FA\u5927\u5BB6\u80AF\u5B9A\u90FD\u5DF2\u7ECF\u660E\u767D\u4E86\uFF0C\u8FD9\u662F\u56E0\u4E3A\u51FD\u6570\u548C\u53D8\u91CF\u63D0\u5347\u7684\u539F\u56E0\u3002\u901A\u5E38\u63D0\u5347\u7684\u89E3\u91CA\u662F\u8BF4\u5C06\u58F0\u660E\u7684\u4EE3\u7801\u79FB\u52A8\u5230\u4E86\u9876\u90E8\uFF0C\u8FD9\u5176\u5B9E\u6CA1\u6709\u4EC0\u4E48\u9519\u8BEF\uFF0C\u4FBF\u4E8E\u5927\u5BB6\u7406\u89E3\u3002\u4F46\u662F\u66F4\u51C6\u786E\u7684\u89E3\u91CA\u5E94\u8BE5\u662F\uFF1A\u5728\u751F\u6210\u6267\u884C\u4E0A\u4E0B\u6587\u65F6\uFF0C\u4F1A\u6709\u4E24\u4E2A\u9636\u6BB5\u3002\u7B2C\u4E00\u4E2A\u9636\u6BB5\u662F\u521B\u5EFA\u7684\u9636\u6BB5\uFF08\u5177\u4F53\u6B65\u9AA4\u662F\u521B\u5EFA <code>VO</code>\uFF09\uFF0C<code>JS</code> \u89E3\u91CA\u5668\u4F1A\u627E\u51FA\u9700\u8981\u63D0\u5347\u7684\u53D8\u91CF\u548C\u51FD\u6570\uFF0C\u5E76\u4E14\u7ED9\u4ED6\u4EEC\u63D0\u524D\u5728\u5185\u5B58\u4E2D\u5F00\u8F9F\u597D\u7A7A\u95F4\uFF0C\u51FD\u6570\u7684\u8BDD\u4F1A\u5C06\u6574\u4E2A\u51FD\u6570\u5B58\u5165\u5185\u5B58\u4E2D\uFF0C\u53D8\u91CF\u53EA\u58F0\u660E\u5E76\u4E14\u8D4B\u503C\u4E3A <code>undefined</code>\uFF0C\u6240\u4EE5\u5728\u7B2C\u4E8C\u4E2A\u9636\u6BB5\uFF0C\u4E5F\u5C31\u662F\u4EE3\u7801\u6267\u884C\u9636\u6BB5\uFF0C\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u63D0\u524D\u4F7F\u7528\u3002</p></blockquote><ul><li>\u5728\u63D0\u5347\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u76F8\u540C\u7684\u51FD\u6570\u4F1A\u8986\u76D6\u4E0A\u4E00\u4E2A\u51FD\u6570\uFF0C\u5E76\u4E14\u51FD\u6570\u4F18\u5148\u4E8E\u53D8\u91CF\u63D0\u5347</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// call b second</span>

<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;call b fist&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;call b second&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&#39;Hello world&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p><code>var</code>\u4F1A\u4EA7\u751F\u5F88\u591A\u9519\u8BEF\uFF0C\u6240\u4EE5\u5728 <code>ES6</code>\u4E2D\u5F15\u5165\u4E86 <code>let</code>\u3002<code>let</code>\u4E0D\u80FD\u5728\u58F0\u660E\u524D\u4F7F\u7528\uFF0C\u4F46\u662F\u8FD9\u5E76\u4E0D\u662F\u5E38\u8BF4\u7684 <code>let</code> \u4E0D\u4F1A\u63D0\u5347\uFF0C<code>let</code> \u63D0\u5347\u4E86\u58F0\u660E\u4F46\u6CA1\u6709\u8D4B\u503C\uFF0C\u56E0\u4E3A\u4E34\u65F6\u6B7B\u533A\u5BFC\u81F4\u4E86\u5E76\u4E0D\u80FD\u5728\u58F0\u660E\u524D\u4F7F\u7528\u3002</p></blockquote><ul><li>\u5BF9\u4E8E\u975E\u533F\u540D\u7684\u7ACB\u5373\u6267\u884C\u51FD\u6570\u9700\u8981\u6CE8\u610F\u4EE5\u4E0B\u4E00\u70B9</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    foo <span class="token operator">=</span> <span class="token number">10</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; \u0192 foo() { foo = 10 ; console.log(foo) }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u56E0\u4E3A\u5F53 <code>JS</code> \u89E3\u91CA\u5668\u5728\u9047\u5230\u975E\u533F\u540D\u7684\u7ACB\u5373\u6267\u884C\u51FD\u6570\u65F6\uFF0C\u4F1A\u521B\u5EFA\u4E00\u4E2A\u8F85\u52A9\u7684\u7279\u5B9A\u5BF9\u8C61\uFF0C\u7136\u540E\u5C06\u51FD\u6570\u540D\u79F0\u4F5C\u4E3A\u8FD9\u4E2A\u5BF9\u8C61\u7684\u5C5E\u6027\uFF0C\u56E0\u6B64\u51FD\u6570\u5185\u90E8\u624D\u53EF\u4EE5\u8BBF\u95EE\u5230 <code>foo</code>\uFF0C\u4F46\u662F\u8FD9\u4E2A\u503C\u53C8\u662F\u53EA\u8BFB\u7684\uFF0C\u6240\u4EE5\u5BF9\u5B83\u7684\u8D4B\u503C\u5E76\u4E0D\u751F\u6548\uFF0C\u6240\u4EE5\u6253\u5370\u7684\u7ED3\u679C\u8FD8\u662F\u8FD9\u4E2A\u51FD\u6570\uFF0C\u5E76\u4E14\u5916\u90E8\u7684\u503C\u4E5F\u6CA1\u6709\u53D1\u751F\u66F4\u6539\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>specialObject <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

Scope <span class="token operator">=</span> specialObject <span class="token operator">+</span> Scope<span class="token punctuation">;</span>

foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FunctionExpression</span><span class="token punctuation">;</span>
foo<span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token punctuation">[</span>Scope<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Scope<span class="token punctuation">;</span>
specialObject<span class="token punctuation">.</span>foo <span class="token operator">=</span> foo<span class="token punctuation">;</span> <span class="token comment">// {DontDelete}, {ReadOnly}</span>

<span class="token keyword">delete</span> Scope<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// remove specialObject from the front of scope chain</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div>`,23),Gd={id:"\u5C0F\u7ED3",tabindex:"-1"},$d=n("a",{class:"header-anchor",href:"#\u5C0F\u7ED3","aria-hidden":"true"},"#",-1),Xd=s(),Kd={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E5%B0%8F%E7%BB%93",target:"_blank",rel:"noopener noreferrer"},Qd=s("#"),Yd=s("\u5C0F\u7ED3"),Zd=t("<blockquote><p>\u6267\u884C\u4E0A\u4E0B\u6587\u53EF\u4EE5\u7B80\u5355\u7406\u89E3\u4E3A\u4E00\u4E2A\u5BF9\u8C61:</p></blockquote><p><strong>\u5B83\u5305\u542B\u4E09\u4E2A\u90E8\u5206:</strong></p><ul><li>\u53D8\u91CF\u5BF9\u8C61(<code>VO</code>)</li><li>\u4F5C\u7528\u57DF\u94FE(\u8BCD\u6CD5\u4F5C\u7528\u57DF)</li><li><code>this</code>\u6307\u5411</li></ul><p><strong>\u5B83\u7684\u7C7B\u578B:</strong></p><ul><li>\u5168\u5C40\u6267\u884C\u4E0A\u4E0B\u6587</li><li>\u51FD\u6570\u6267\u884C\u4E0A\u4E0B\u6587</li><li><code>eval</code>\u6267\u884C\u4E0A\u4E0B\u6587</li></ul><p><strong>\u4EE3\u7801\u6267\u884C\u8FC7\u7A0B:</strong></p><ul><li>\u521B\u5EFA \u5168\u5C40\u4E0A\u4E0B\u6587 (<code>global EC</code>)</li><li>\u5168\u5C40\u6267\u884C\u4E0A\u4E0B\u6587 (<code>caller</code>) \u9010\u884C \u81EA\u4E0A\u800C\u4E0B \u6267\u884C\u3002\u9047\u5230\u51FD\u6570\u65F6\uFF0C\u51FD\u6570\u6267\u884C\u4E0A\u4E0B\u6587 (<code>callee</code>) \u88AB<code>push</code>\u5230\u6267\u884C\u6808\u9876\u5C42</li><li>\u51FD\u6570\u6267\u884C\u4E0A\u4E0B\u6587\u88AB\u6FC0\u6D3B\uFF0C\u6210\u4E3A <code>active EC</code>, \u5F00\u59CB\u6267\u884C\u51FD\u6570\u4E2D\u7684\u4EE3\u7801\uFF0C<code>caller</code> \u88AB\u6302\u8D77</li><li>\u51FD\u6570\u6267\u884C\u5B8C\u540E\uFF0C<code>callee</code> \u88AB<code>pop</code>\u79FB\u9664\u51FA\u6267\u884C\u6808\uFF0C\u63A7\u5236\u6743\u4EA4\u8FD8\u5168\u5C40\u4E0A\u4E0B\u6587 (<code>caller</code>)\uFF0C\u7EE7\u7EED\u6267\u884C</li></ul>",7),nb={id:"_10-\u53D8\u91CF\u63D0\u5347",tabindex:"-1"},sb=n("a",{class:"header-anchor",href:"#_10-\u53D8\u91CF\u63D0\u5347","aria-hidden":"true"},"#",-1),ab=s(),eb={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_10-%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87",target:"_blank",rel:"noopener noreferrer"},tb=s("#"),pb=s("10 \u53D8\u91CF\u63D0\u5347"),ob=t(`<blockquote><p>\u5F53\u6267\u884C <code>JS</code> \u4EE3\u7801\u65F6\uFF0C\u4F1A\u751F\u6210\u6267\u884C\u73AF\u5883\uFF0C\u53EA\u8981\u4EE3\u7801\u4E0D\u662F\u5199\u5728\u51FD\u6570\u4E2D\u7684\uFF0C\u5C31\u662F\u5728\u5168\u5C40\u6267\u884C\u73AF\u5883\u4E2D\uFF0C\u51FD\u6570\u4E2D\u7684\u4EE3\u7801\u4F1A\u4EA7\u751F\u51FD\u6570\u6267\u884C\u73AF\u5883\uFF0C\u53EA\u6B64\u4E24\u79CD\u6267\u884C\u73AF\u5883\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// call b</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// undefined</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&#39;Hello world&#39;</span>

<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;call b&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>\u60F3\u5FC5\u4EE5\u4E0A\u7684\u8F93\u51FA\u5927\u5BB6\u80AF\u5B9A\u90FD\u5DF2\u7ECF\u660E\u767D\u4E86\uFF0C\u8FD9\u662F\u56E0\u4E3A\u51FD\u6570\u548C\u53D8\u91CF\u63D0\u5347\u7684\u539F\u56E0\u3002\u901A\u5E38\u63D0\u5347\u7684\u89E3\u91CA\u662F\u8BF4\u5C06\u58F0\u660E\u7684\u4EE3\u7801\u79FB\u52A8\u5230\u4E86\u9876\u90E8\uFF0C\u8FD9\u5176\u5B9E\u6CA1\u6709\u4EC0\u4E48\u9519\u8BEF\uFF0C\u4FBF\u4E8E\u5927\u5BB6\u7406\u89E3\u3002\u4F46\u662F\u66F4\u51C6\u786E\u7684\u89E3\u91CA\u5E94\u8BE5\u662F\uFF1A\u5728\u751F\u6210\u6267\u884C\u73AF\u5883\u65F6\uFF0C\u4F1A\u6709\u4E24\u4E2A\u9636\u6BB5\u3002\u7B2C\u4E00\u4E2A\u9636\u6BB5\u662F\u521B\u5EFA\u7684\u9636\u6BB5\uFF0C<code>JS</code> \u89E3\u91CA\u5668\u4F1A\u627E\u51FA\u9700\u8981\u63D0\u5347\u7684\u53D8\u91CF\u548C\u51FD\u6570\uFF0C\u5E76\u4E14\u7ED9\u4ED6\u4EEC\u63D0\u524D\u5728\u5185\u5B58\u4E2D\u5F00\u8F9F\u597D\u7A7A\u95F4\uFF0C\u51FD\u6570\u7684\u8BDD\u4F1A\u5C06\u6574\u4E2A\u51FD\u6570\u5B58\u5165\u5185\u5B58\u4E2D\uFF0C\u53D8\u91CF\u53EA\u58F0\u660E\u5E76\u4E14\u8D4B\u503C\u4E3A <code>undefined</code>\uFF0C\u6240\u4EE5\u5728\u7B2C\u4E8C\u4E2A\u9636\u6BB5\uFF0C\u4E5F\u5C31\u662F\u4EE3\u7801\u6267\u884C\u9636\u6BB5\uFF0C\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u63D0\u524D\u4F7F\u7528</p></blockquote><ul><li>\u5728\u63D0\u5347\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u76F8\u540C\u7684\u51FD\u6570\u4F1A\u8986\u76D6\u4E0A\u4E00\u4E2A\u51FD\u6570\uFF0C\u5E76\u4E14\u51FD\u6570\u4F18\u5148\u4E8E\u53D8\u91CF\u63D0\u5347</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// call b second</span>

<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;call b fist&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;call b second&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&#39;Hello world&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p><code>var</code> \u4F1A\u4EA7\u751F\u5F88\u591A\u9519\u8BEF\uFF0C\u6240\u4EE5\u5728 ES6\u4E2D\u5F15\u5165\u4E86 <code>let</code>\u3002<code>let</code>\u4E0D\u80FD\u5728\u58F0\u660E\u524D\u4F7F\u7528\uFF0C\u4F46\u662F\u8FD9\u5E76\u4E0D\u662F\u5E38\u8BF4\u7684 <code>let</code> \u4E0D\u4F1A\u63D0\u5347\uFF0C<code>let</code>\u63D0\u5347\u4E86\uFF0C\u5728\u7B2C\u4E00\u9636\u6BB5\u5185\u5B58\u4E5F\u5DF2\u7ECF\u4E3A\u4ED6\u5F00\u8F9F\u597D\u4E86\u7A7A\u95F4\uFF0C\u4F46\u662F\u56E0\u4E3A\u8FD9\u4E2A\u58F0\u660E\u7684\u7279\u6027\u5BFC\u81F4\u4E86\u5E76\u4E0D\u80FD\u5728\u58F0\u660E\u524D\u4F7F\u7528</p></blockquote>`,6),cb={id:"_11-\u6A21\u5757\u5316",tabindex:"-1"},lb=n("a",{class:"header-anchor",href:"#_11-\u6A21\u5757\u5316","aria-hidden":"true"},"#",-1),rb=s(),ib={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_11-%E6%A8%A1%E5%9D%97%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},ub=s("#"),kb=s("11 \u6A21\u5757\u5316"),db=t("<blockquote><p>\u6A21\u5757\u5316\u5F00\u53D1\u5728\u73B0\u4EE3\u5F00\u53D1\u4E2D\u5DF2\u662F\u5FC5\u4E0D\u53EF\u5C11\u7684\u4E00\u90E8\u5206\uFF0C\u5B83\u5927\u5927\u63D0\u9AD8\u4E86\u9879\u76EE\u7684\u53EF\u7EF4\u62A4\u3001\u53EF\u62D3\u5C55\u548C\u53EF\u534F\u4F5C\u6027\u3002\u901A\u5E38\uFF0C\u6211\u4EEC \u5728\u6D4F\u89C8\u5668\u4E2D\u4F7F\u7528 <code>ES6</code> \u7684\u6A21\u5757\u5316\u652F\u6301\uFF0C\u5728 <code>Node</code> \u4E2D\u4F7F\u7528 <code>commonjs</code> \u7684\u6A21\u5757\u5316\u652F\u6301\u3002</p></blockquote><p><strong>\u5206\u7C7B:</strong></p><ul><li><code>es6: import / export</code></li><li><code>commonjs: require / module.exports / exports</code></li><li><code>amd: require / defined</code></li></ul><p><strong>require\u4E0Eimport\u7684\u533A\u522B</strong></p><ul><li><code>require</code>\u652F\u6301 \u52A8\u6001\u5BFC\u5165\uFF0C<code>import</code>\u4E0D\u652F\u6301\uFF0C\u6B63\u5728\u63D0\u6848 (<code>babel</code> \u4E0B\u53EF\u652F\u6301)</li><li><code>require</code>\u662F \u540C\u6B65 \u5BFC\u5165\uFF0C<code>impor</code>t\u5C5E\u4E8E \u5F02\u6B65 \u5BFC\u5165</li><li><code>require</code>\u662F \u503C\u62F7\u8D1D\uFF0C\u5BFC\u51FA\u503C\u53D8\u5316\u4E0D\u4F1A\u5F71\u54CD\u5BFC\u5165\u503C\uFF1B<code>import</code>\u6307\u5411 \u5185\u5B58\u5730\u5740\uFF0C\u5BFC\u5165\u503C\u4F1A\u968F\u5BFC\u51FA\u503C\u800C\u53D8\u5316</li></ul>",5),bb={id:"_12-settimeout\u3001promise\u3001async-await-\u7684\u533A\u522B",tabindex:"-1"},mb=n("a",{class:"header-anchor",href:"#_12-settimeout\u3001promise\u3001async-await-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),hb=s(),_b={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_12-settimeout%E3%80%81promise%E3%80%81async-await-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},gb=s("#"),Eb=s("12 setTimeout\u3001Promise\u3001Async / Await \u7684\u533A\u522B"),fb=t('<ul><li>\u9996\u5148\uFF0C\u6211\u4EEC\u5148\u6765\u4E86\u89E3\u4E00\u4E0B\u57FA\u672C\u6982\u5FF5\uFF1A <ul><li>js EventLoop \u4E8B\u4EF6\u5FAA\u73AF\u673A\u5236:</li><li>JavaScript\u7684\u4E8B\u4EF6\u5206\u4E24\u79CD\uFF0C\u5B8F\u4EFB\u52A1(macro-task)\u548C\u5FAE\u4EFB\u52A1(micro-task)</li></ul></li><li>\u5B8F\u4EFB\u52A1\uFF1A\u5305\u62EC\u6574\u4F53\u4EE3\u7801script\uFF0CsetTimeout\uFF0CsetInterval</li><li>\u5FAE\u4EFB\u52A1\uFF1APromise.then(\u975Enew Promise)\uFF0Cprocess.nextTick(node\u4E2D)</li><li>\u4E8B\u4EF6\u7684\u6267\u884C\u987A\u5E8F\uFF0C\u662F\u5148\u6267\u884C\u5B8F\u4EFB\u52A1\uFF0C\u7136\u540E\u6267\u884C\u5FAE\u4EFB\u52A1\uFF0C\u8FD9\u4E2A\u662F\u57FA\u7840\uFF0C\u4EFB\u52A1\u53EF\u4EE5\u6709\u540C\u6B65\u4EFB\u52A1\u548C\u5F02\u6B65\u4EFB\u52A1\uFF0C\u540C\u6B65\u7684\u8FDB\u5165\u4E3B\u7EBF\u7A0B\uFF0C\u5F02\u6B65\u7684\u8FDB\u5165Event Table\u5E76\u6CE8\u518C\u51FD\u6570\uFF0C\u5F02\u6B65\u4E8B\u4EF6\u5B8C\u6210\u540E\uFF0C\u4F1A\u5C06\u56DE\u8C03\u51FD\u6570\u653E\u5165Event Queue\u4E2D(\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1\u662F\u4E0D\u540C\u7684Event Queue)\uFF0C\u540C\u6B65\u4EFB\u52A1\u6267\u884C\u5B8C\u6210\u540E\uFF0C\u4F1A\u4ECEEvent Queue\u4E2D\u8BFB\u53D6\u4E8B\u4EF6\u653E\u5165\u4E3B\u7EBF\u7A0B\u6267\u884C\uFF0C\u56DE\u8C03\u51FD\u6570\u4E2D\u53EF\u80FD\u8FD8\u4F1A\u5305\u542B\u4E0D\u540C\u7684\u4EFB\u52A1\uFF0C\u56E0\u6B64\u4F1A\u5FAA\u73AF\u6267\u884C\u4E0A\u8FF0\u64CD\u4F5C\u3002</li><li>\u6CE8\u610F\uFF1A setTimeOut\u5E76\u4E0D\u662F\u76F4\u63A5\u7684\u628A\u4F60\u7684\u56DE\u6389\u51FD\u6570\u653E\u8FDB\u4E0A\u8FF0\u7684\u5F02\u6B65\u961F\u5217\u4E2D\u53BB\uFF0C\u800C\u662F\u5728\u5B9A\u65F6\u5668\u7684\u65F6\u95F4\u5230\u4E86\u4E4B\u540E\uFF0C\u628A\u56DE\u6389\u51FD\u6570\u653E\u5230\u6267\u884C\u5F02\u6B65\u961F\u5217\u4E2D\u53BB\u3002\u5982\u679C\u6B64\u65F6\u8FD9\u4E2A\u961F\u5217\u5DF2\u7ECF\u6709\u5F88\u591A\u4EFB\u52A1\u4E86\uFF0C\u90A3\u5C31\u6392\u5728\u4ED6\u4EEC\u7684\u540E\u9762\u3002\u8FD9\u4E5F\u5C31\u89E3\u91CA\u4E86\u4E3A\u4EC0\u4E48setTimeOut\u4E3A\u4EC0\u4E48\u4E0D\u80FD\u7CBE\u51C6\u7684\u6267\u884C\u7684\u95EE\u9898\u4E86\u3002</li><li>setTimeout\u6267\u884C\u9700\u8981\u6EE1\u8DB3\u4E24\u4E2A\u6761\u4EF6\uFF1A <ul><li>\u4E3B\u8FDB\u7A0B\u5FC5\u987B\u662F\u7A7A\u95F2\u7684\u72B6\u6001\uFF0C\u5982\u679C\u5230\u65F6\u95F4\u4E86\uFF0C\u4E3B\u8FDB\u7A0B\u4E0D\u7A7A\u95F2\u4E5F\u4E0D\u4F1A\u6267\u884C\u4F60\u7684\u56DE\u6389\u51FD\u6570</li><li>\u8FD9\u4E2A\u56DE\u6389\u51FD\u6570\u9700\u8981\u7B49\u5230\u63D2\u5165\u5F02\u6B65\u961F\u5217\u65F6\u524D\u9762\u7684\u5F02\u6B65\u51FD\u6570\u90FD\u6267\u884C\u5B8C\u4E86\uFF0C\u624D\u4F1A\u6267\u884C</li></ul></li><li>\u4E0A\u9762\u662F\u6BD4\u8F83\u5B98\u65B9\u7684\u89E3\u91CA\uFF0C\u8BF4\u4E00\u4E0B\u81EA\u5DF1\u7684\u7406\u89E3\u5427\uFF1A <ul><li>\u4E86\u89E3\u4E86\u4EC0\u4E48\u662F\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1\uFF0C\u5C31\u597D\u7406\u89E3\u591A\u4E86\uFF0C\u9996\u5148\u6267\u884C \u5B8F\u4EFB\u52A1 =&gt; \u5FAE\u4EFB\u52A1\u7684Event Queue =&gt; \u5B8F\u4EFB\u52A1\u7684Event Queue</li></ul></li><li>promise\u3001async/await <ul><li>\u9996\u5148\uFF0Cnew Promise\u662F\u540C\u6B65\u7684\u4EFB\u52A1\uFF0C\u4F1A\u88AB\u653E\u5230\u4E3B\u8FDB\u7A0B\u4E2D\u53BB\u7ACB\u5373\u6267\u884C\u3002\u800C.then()\u51FD\u6570\u662F\u5F02\u6B65\u4EFB\u52A1\u4F1A\u653E\u5230\u5F02\u6B65\u961F\u5217\u4E2D\u53BB\uFF0C\u90A3\u4EC0\u4E48\u65F6\u5019\u653E\u5230\u5F02\u6B65\u961F\u5217\u4E2D\u53BB\u5462\uFF1F\u5F53\u4F60\u7684promise\u72B6\u6001\u7ED3\u675F\u7684\u65F6\u5019\uFF0C\u5C31\u4F1A\u7ACB\u5373\u653E\u8FDB\u5F02\u6B65\u961F\u5217\u4E2D\u53BB\u4E86\u3002</li><li>\u5E26async\u5173\u952E\u5B57\u7684\u51FD\u6570\u4F1A\u8FD4\u56DE\u4E00\u4E2Apromise\u5BF9\u8C61\uFF0C\u5982\u679C\u91CC\u9762\u6CA1\u6709await\uFF0C\u6267\u884C\u8D77\u6765\u7B49\u540C\u4E8E\u666E\u901A\u51FD\u6570\uFF1B\u5982\u679C\u6CA1\u6709await\uFF0Casync\u51FD\u6570\u5E76\u6CA1\u6709\u5F88\u5389\u5BB3\u662F\u4E0D\u662F</li><li>await \u5173\u952E\u5B57\u8981\u5728 async \u5173\u952E\u5B57\u51FD\u6570\u7684\u5185\u90E8\uFF0Cawait \u5199\u5728\u5916\u9762\u4F1A\u62A5\u9519\uFF1Bawait\u5982\u540C\u4ED6\u7684\u8BED\u610F\uFF0C\u5C31\u662F\u5728\u7B49\u5F85\uFF0C\u7B49\u5F85\u53F3\u4FA7\u7684\u8868\u8FBE\u5F0F\u5B8C\u6210\u3002\u6B64\u65F6\u7684await\u4F1A\u8BA9\u51FA\u7EBF\u7A0B\uFF0C\u963B\u585Easync\u5185\u540E\u7EED\u7684\u4EE3\u7801\uFF0C\u5148\u53BB\u6267\u884Casync\u5916\u7684\u4EE3\u7801\u3002\u7B49\u5916\u9762\u7684\u540C\u6B65\u4EE3\u7801\u6267\u884C\u5B8C\u6BD5\uFF0C\u624D\u4F1A\u6267\u884C\u91CC\u9762\u7684\u540E\u7EED\u4EE3\u7801\u3002\u5C31\u7B97await\u7684\u4E0D\u662Fpromise\u5BF9\u8C61\uFF0C\u662F\u4E00\u4E2A\u540C\u6B65\u51FD\u6570\uFF0C\u4E5F\u4F1A\u7B49\u8FD9\u6837\u64CD\u4F5C</li></ul></li></ul><p><img src="https://pic2.zhimg.com/80/v2-9540801abdfb378ae5120b0df9a96059_1440w.jpg" alt="img"></p><p>\u6839\u636E\u56FE\u7247\u663E\u793A\u6211\u4EEC\u6765\u6574\u7406\u4E00\u4E0B\u6D41\u7A0B\uFF1A</p><ul><li>\u6267\u884C<code>console.log(&#39;script start&#39;)</code>\uFF0C\u8F93\u51FA<code>script start</code>\uFF1B</li><li>\u6267\u884C<code>setTimeout</code>\uFF0C\u662F\u4E00\u4E2A\u5F02\u6B65\u52A8\u4F5C\uFF0C\u653E\u5165\u5B8F\u4EFB\u52A1\u5F02\u6B65\u961F\u5217\u4E2D\uFF1B</li><li>\u6267\u884C<code>async1()</code>\uFF0C\u8F93\u51FA<code>async1 start</code>\uFF0C\u7EE7\u7EED\u5411\u4E0B\u6267\u884C\uFF1B</li><li>\u6267\u884C<code>async2()</code>\uFF0C\u8F93\u51FA<code>async2</code>\uFF0C\u5E76\u8FD4\u56DE\u4E86\u4E00\u4E2A<code>promise</code>\u5BF9\u8C61\uFF0C<code>await</code>\u8BA9\u51FA\u4E86\u7EBF\u7A0B\uFF0C\u628A\u8FD4\u56DE\u7684promise\u52A0\u5165\u4E86\u5FAE\u4EFB\u52A1\u5F02\u6B65\u961F\u5217\uFF0C\u6240\u4EE5<code>async1()</code>\u4E0B\u9762\u7684\u4EE3\u7801\u4E5F\u8981\u7B49\u5F85\u4E0A\u9762\u5B8C\u6210\u540E\u7EE7\u7EED\u6267\u884C;</li><li>\u6267\u884C <code>new Promise</code>\uFF0C\u8F93\u51FA<code>promise1</code>\uFF0C\u7136\u540E\u5C06<code>resolve</code>\u653E\u5165\u5FAE\u4EFB\u52A1\u5F02\u6B65\u961F\u5217\uFF1B</li><li>\u6267\u884C<code>console.log(&#39;script end&#39;)</code>\uFF0C\u8F93\u51FA<code>script end</code>\uFF1B</li><li>\u5230\u6B64\u540C\u6B65\u7684\u4EE3\u7801\u5C31\u90FD\u6267\u884C\u5B8C\u6210\u4E86\uFF0C\u7136\u540E\u53BB\u5FAE\u4EFB\u52A1\u5F02\u6B65\u961F\u5217\u91CC\u53BB\u83B7\u53D6\u4EFB\u52A1</li><li>\u63A5\u4E0B\u6765\u6267\u884C<code>resolve</code>\uFF08<code>async2</code>\u8FD4\u56DE\u7684<code>promise</code>\u8FD4\u56DE\u7684\uFF09\uFF0C\u8F93\u51FA\u4E86<code>async1 end</code>\u3002</li><li>\u7136\u540E\u6267\u884C<code>resolve</code>\uFF08<code>new Promise</code>\u7684\uFF09\uFF0C\u8F93\u51FA\u4E86<code>promise2</code></li><li>\u6700\u540E\u6267\u884C<code>setTimeout</code>\uFF0C\u8F93\u51FA\u4E86<code>settimeout</code></li></ul>',4),vb={id:"_13-async\u539F\u7406",tabindex:"-1"},wb=n("a",{class:"header-anchor",href:"#_13-async\u539F\u7406","aria-hidden":"true"},"#",-1),yb=s(),xb={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_13-async%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},Ab=s("#"),Bb=s("13 async\u539F\u7406"),qb=t(`<blockquote><p><code>async/await</code>\u8BED\u6CD5\u7CD6\u5C31\u662F\u4F7F\u7528<code>Generator</code>\u51FD\u6570+\u81EA\u52A8\u6267\u884C\u5668\u6765\u8FD0\u4F5C\u7684</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9A\u4E49\u4E86\u4E00\u4E2Apromise\uFF0C\u7528\u6765\u6A21\u62DF\u5F02\u6B65\u8BF7\u6C42\uFF0C\u4F5C\u7528\u662F\u4F20\u5165\u53C2\u6570++</span>
<span class="token keyword">function</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>num<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u81EA\u52A8\u6267\u884C\u5668\uFF0C\u5982\u679C\u4E00\u4E2AGenerator\u51FD\u6570\u6CA1\u6709\u6267\u884C\u5B8C\uFF0C\u5219\u9012\u5F52\u8C03\u7528</span>
<span class="token keyword">function</span> <span class="token function">asyncFun</span><span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> gen <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> gen<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>done<span class="token punctuation">)</span> <span class="token keyword">return</span> result<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    result<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u6240\u9700\u8981\u6267\u884C\u7684Generator\u51FD\u6570\uFF0C\u5185\u90E8\u7684\u6570\u636E\u5728\u6267\u884C\u5B8C\u6210\u4E00\u6B65\u7684promise\u4E4B\u540E\uFF0C\u518D\u8C03\u7528\u4E0B\u4E00\u6B65</span>
<span class="token keyword">var</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> f1 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> f2 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">getNum</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">asyncFun</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><ul><li>\u5728\u6267\u884C\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u5224\u65AD\u4E00\u4E2A\u51FD\u6570\u7684<code>promise</code>\u662F\u5426\u5B8C\u6210\uFF0C\u5982\u679C\u5DF2\u7ECF\u5B8C\u6210\uFF0C\u5C06\u7ED3\u679C\u4F20\u5165\u4E0B\u4E00\u4E2A\u51FD\u6570\uFF0C\u7EE7\u7EED\u91CD\u590D\u6B64\u6B65\u9AA4</li><li>\u6BCF\u4E00\u4E2A <code>next()</code> \u65B9\u6CD5\u8FD4\u56DE\u503C\u7684 <code>value</code> \u5C5E\u6027\u4E3A\u4E00\u4E2A <code>Promise</code> \u5BF9\u8C61\uFF0C\u6240\u4EE5\u6211\u4EEC\u4E3A\u5176\u6DFB\u52A0 <code>then</code> \u65B9\u6CD5\uFF0C \u5728 <code>then</code> \u65B9\u6CD5\u91CC\u9762\u63A5\u7740\u8FD0\u884C <code>next</code> \u65B9\u6CD5\u632A\u79FB\u904D\u5386\u5668\u6307\u9488\uFF0C\u76F4\u5230 <code>Generator</code>\u51FD\u6570\u8FD0\u884C\u5B8C\u6210</li></ul>`,3),jb={id:"_14-js-\u6574\u6570\u662F\u600E\u4E48\u8868\u793A\u7684",tabindex:"-1"},Sb=n("a",{class:"header-anchor",href:"#_14-js-\u6574\u6570\u662F\u600E\u4E48\u8868\u793A\u7684","aria-hidden":"true"},"#",-1),Cb=s(),Db={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_14-js-%E6%95%B4%E6%95%B0%E6%98%AF%E6%80%8E%E4%B9%88%E8%A1%A8%E7%A4%BA%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},Fb=s("#"),Pb=s("14 JS \u6574\u6570\u662F\u600E\u4E48\u8868\u793A\u7684"),Tb=n("blockquote",null,[n("p",null,"\u901A\u8FC7 Number \u7C7B\u578B\u6765\u8868\u793A\uFF0C\u9075\u5FAA IEEE754 \u6807\u51C6\uFF0C\u901A\u8FC7 64 \u4F4D\u6765\u8868\u793A\u4E00\u4E2A\u6570\u5B57\uFF0C\uFF081 + 11 + 52\uFF09\uFF0C\u6700\u5927\u5B89\u5168\u6570\u5B57\u662F Math.pow(2, 53) - 1\uFF0C\u5BF9\u4E8E 16 \u4F4D\u5341\u8FDB\u5236\u3002\uFF08\u7B26\u53F7\u4F4D + \u6307\u6570\u4F4D + \u5C0F\u6570\u90E8\u5206\u6709\u6548\u4F4D\uFF09")],-1),Nb={id:"_15-number-\u7684\u5B58\u50A8\u7A7A\u95F4\u662F\u591A\u5927-\u5982\u679C\u540E\u53F0\u53D1\u9001\u4E86\u4E00\u4E2A\u8D85\u8FC7\u6700\u5927\u81EA\u5DF1\u7684\u6570\u5B57\u600E\u4E48\u529E",tabindex:"-1"},Mb=n("a",{class:"header-anchor",href:"#_15-number-\u7684\u5B58\u50A8\u7A7A\u95F4\u662F\u591A\u5927-\u5982\u679C\u540E\u53F0\u53D1\u9001\u4E86\u4E00\u4E2A\u8D85\u8FC7\u6700\u5927\u81EA\u5DF1\u7684\u6570\u5B57\u600E\u4E48\u529E","aria-hidden":"true"},"#",-1),Ob=s(),Ib={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_15-number-%E7%9A%84%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E6%98%AF%E5%A4%9A%E5%A4%A7-%E5%A6%82%E6%9E%9C%E5%90%8E%E5%8F%B0%E5%8F%91%E9%80%81%E4%BA%86%E4%B8%80%E4%B8%AA%E8%B6%85%E8%BF%87%E6%9C%80%E5%A4%A7%E8%87%AA%E5%B7%B1%E7%9A%84%E6%95%B0%E5%AD%97%E6%80%8E%E4%B9%88%E5%8A%9E",target:"_blank",rel:"noopener noreferrer"},Rb=s("#"),Vb=s("15 Number() \u7684\u5B58\u50A8\u7A7A\u95F4\u662F\u591A\u5927\uFF1F\u5982\u679C\u540E\u53F0\u53D1\u9001\u4E86\u4E00\u4E2A\u8D85\u8FC7\u6700\u5927\u81EA\u5DF1\u7684\u6570\u5B57\u600E\u4E48\u529E"),Hb=n("blockquote",null,[n("p",null,"Math.pow(2, 53) \uFF0C53 \u4E3A\u6709\u6548\u6570\u5B57\uFF0C\u4F1A\u53D1\u751F\u622A\u65AD\uFF0C\u7B49\u4E8E JS \u80FD\u652F\u6301\u7684\u6700\u5927\u6570\u5B57\u3002")],-1),Lb={id:"_16-settimeout-fn-0-\u591A\u4E45\u624D\u6267\u884C-event-loop",tabindex:"-1"},Ub=n("a",{class:"header-anchor",href:"#_16-settimeout-fn-0-\u591A\u4E45\u624D\u6267\u884C-event-loop","aria-hidden":"true"},"#",-1),Jb=s(),Wb={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_16-settimeout-fn-0-%E5%A4%9A%E4%B9%85%E6%89%8D%E6%89%A7%E8%A1%8C-event-loop",target:"_blank",rel:"noopener noreferrer"},zb=s("#"),Gb=s("16 setTimeout(fn, 0)\u591A\u4E45\u624D\u6267\u884C\uFF0CEvent Loop"),$b=n("blockquote",null,[n("p",null,"setTimeout \u6309\u7167\u987A\u5E8F\u653E\u5230\u961F\u5217\u91CC\u9762\uFF0C\u7136\u540E\u7B49\u5F85\u51FD\u6570\u8C03\u7528\u6808\u6E05\u7A7A\u4E4B\u540E\u624D\u5F00\u59CB\u6267\u884C\uFF0C\u800C\u8FD9\u4E9B\u64CD\u4F5C\u8FDB\u5165\u961F\u5217\u7684\u987A\u5E8F\uFF0C\u5219\u7531\u8BBE\u5B9A\u7684\u5EF6\u8FDF\u65F6\u95F4\u6765\u51B3\u5B9A")],-1),Xb={id:"_17-js\u811A\u672C\u52A0\u8F7D\u95EE\u9898-async\u3001defer\u95EE\u9898",tabindex:"-1"},Kb=n("a",{class:"header-anchor",href:"#_17-js\u811A\u672C\u52A0\u8F7D\u95EE\u9898-async\u3001defer\u95EE\u9898","aria-hidden":"true"},"#",-1),Qb=s(),Yb={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_17-js%E8%84%9A%E6%9C%AC%E5%8A%A0%E8%BD%BD%E9%97%AE%E9%A2%98-async%E3%80%81defer%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},Zb=s("#"),nm=s("17 js\u811A\u672C\u52A0\u8F7D\u95EE\u9898\uFF0Casync\u3001defer\u95EE\u9898"),sm=t("<ul><li>\u5982\u679C\u4F9D\u8D56\u5176\u4ED6\u811A\u672C\u548C DOM \u7ED3\u679C\uFF0C\u4F7F\u7528 defer</li><li>\u5982\u679C\u4E0E DOM \u548C\u5176\u4ED6\u811A\u672C\u4F9D\u8D56\u4E0D\u5F3A\u65F6\uFF0C\u4F7F\u7528 async</li></ul><p><strong>script \u5F15\u5165\u65B9\u5F0F</strong></p><ul><li><code>html</code> \u9759\u6001<code>&lt;script&gt;</code>\u5F15\u5165</li><li><code>js</code> \u52A8\u6001\u63D2\u5165<code>&lt;script&gt;</code></li><li><code>&lt;script defer&gt;</code>: \u5F02\u6B65\u52A0\u8F7D\uFF0C\u5143\u7D20\u89E3\u6790\u5B8C\u6210\u540E\u6267\u884C</li><li><code>&lt;script async&gt;</code>: \u5F02\u6B65\u52A0\u8F7D\uFF0C\u4F46\u6267\u884C\u65F6\u4F1A\u963B\u585E\u5143\u7D20\u6E32\u67D3</li></ul>",3),am={id:"_18-javascript\u5783\u573E\u56DE\u6536\u673A\u5236\u7684\u4E86\u89E3",tabindex:"-1"},em=n("a",{class:"header-anchor",href:"#_18-javascript\u5783\u573E\u56DE\u6536\u673A\u5236\u7684\u4E86\u89E3","aria-hidden":"true"},"#",-1),tm=s(),pm={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_18-javascript%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6%E7%9A%84%E4%BA%86%E8%A7%A3",target:"_blank",rel:"noopener noreferrer"},om=s("#"),cm=s("18 JavaScript\u5783\u573E\u56DE\u6536\u673A\u5236\u7684\u4E86\u89E3"),lm=n("ul",null,[n("li",null,"\u5BF9\u4E8E\u5728JavaScript\u4E2D\u7684\u5B57\u7B26\u4E32\uFF0C\u5BF9\u8C61\uFF0C\u6570\u7EC4\u662F\u6CA1\u6709\u56FA\u5B9A\u5927\u5C0F\u7684\uFF0C\u53EA\u6709\u5F53\u5BF9\u4ED6\u4EEC\u8FDB\u884C\u52A8\u6001\u5206\u914D\u5B58\u50A8\u65F6\uFF0C\u89E3\u91CA\u5668\u5C31\u4F1A\u5206\u914D\u5185\u5B58\u6765\u5B58\u50A8\u8FD9\u4E9B\u6570\u636E\uFF0C\u5F53JavaScript\u7684\u89E3\u91CA\u5668\u6D88\u8017\u5B8C\u7CFB\u7EDF\u4E2D\u6240\u6709\u53EF\u7528\u7684\u5185\u5B58\u65F6\uFF0C\u5C31\u4F1A\u9020\u6210\u7CFB\u7EDF\u5D29\u6E83\u3002"),n("li",null,"\u5185\u5B58\u6CC4\u6F0F\uFF0C\u5728\u67D0\u4E9B\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u518D\u4F7F\u7528\u5230\u7684\u53D8\u91CF\u6240\u5360\u7528\u5185\u5B58\u6CA1\u6709\u53CA\u65F6\u91CA\u653E\uFF0C\u5BFC\u81F4\u7A0B\u5E8F\u8FD0\u884C\u4E2D\uFF0C\u5185\u5B58\u8D8A\u5360\u8D8A\u5927\uFF0C\u6781\u7AEF\u60C5\u51B5\u4E0B\u53EF\u4EE5\u5BFC\u81F4\u7CFB\u7EDF\u5D29\u6E83\uFF0C\u670D\u52A1\u5668\u5B95\u673A\u3002"),n("li",null,"JavaScript\u6709\u81EA\u5DF1\u7684\u4E00\u5957\u5783\u573E\u56DE\u6536\u673A\u5236\uFF0CJavaScript\u7684\u89E3\u91CA\u5668\u53EF\u4EE5\u68C0\u6D4B\u5230\u4EC0\u4E48\u65F6\u5019\u7A0B\u5E8F\u4E0D\u518D\u4F7F\u7528\u8FD9\u4E2A\u5BF9\u8C61\u4E86\uFF08\u6570\u636E\uFF09\uFF0C\u5C31\u4F1A\u628A\u5B83\u6240\u5360\u7528\u7684\u5185\u5B58\u91CA\u653E\u6389\u3002"),n("li",null,"\u9488\u5BF9JavaScript\u7684\u6765\u53CA\u56DE\u6536\u673A\u5236\u6709\u4EE5\u4E0B\u4E24\u79CD\u65B9\u6CD5\uFF08\u5E38\u7528\uFF09\uFF1A\u6807\u8BB0\u6E05\u9664\uFF0C\u5F15\u7528\u8BA1\u6570"),n("li",null,"\u6807\u8BB0\u6E05\u9664")],-1),rm={id:"_19-\u8BF4\u8BF4\u6709\u51E0\u79CD\u7C7B\u578B\u7684dom\u8282\u70B9",tabindex:"-1"},im=n("a",{class:"header-anchor",href:"#_19-\u8BF4\u8BF4\u6709\u51E0\u79CD\u7C7B\u578B\u7684dom\u8282\u70B9","aria-hidden":"true"},"#",-1),um=s(),km={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_19-%E8%AF%B4%E8%AF%B4%E6%9C%89%E5%87%A0%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84dom%E8%8A%82%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},dm=s("#"),bm=s("19 \u8BF4\u8BF4\u6709\u51E0\u79CD\u7C7B\u578B\u7684DOM\u8282\u70B9"),mm=n("ul",null,[n("li",null,"Document\u8282\u70B9\uFF0C\u6574\u4E2A\u6587\u6863\u662F\u4E00\u4E2A\u6587\u6863\u8282\u70B9\uFF1B"),n("li",null,"Element\u8282\u70B9\uFF0C\u6BCF\u4E2AHTML\u6807\u7B7E\u662F\u4E00\u4E2A\u5143\u7D20\u8282\u70B9\uFF1B"),n("li",null,"Attribute\u8282\u70B9\uFF0C\u6BCF\u4E00\u4E2AHTML\u5C5E\u6027\u662F\u4E00\u4E2A\u5C5E\u6027\u8282\u70B9\uFF1B"),n("li",null,"Text\u8282\u70B9\uFF0C\u5305\u542B\u5728HTML\u5143\u7D20\u4E2D\u7684\u6587\u672C\u662F\u6587\u672C\u8282\u70B9")],-1),hm={id:"_20-\u8BF4\u8BF4javascript\u5BF9\u8C61\u7684\u51E0\u79CD\u521B\u5EFA\u65B9\u5F0F",tabindex:"-1"},_m=n("a",{class:"header-anchor",href:"#_20-\u8BF4\u8BF4javascript\u5BF9\u8C61\u7684\u51E0\u79CD\u521B\u5EFA\u65B9\u5F0F","aria-hidden":"true"},"#",-1),gm=s(),Em={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_20-%E8%AF%B4%E8%AF%B4javascript%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%87%A0%E7%A7%8D%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},fm=s("#"),vm=s("20 \u8BF4\u8BF4JavaScript\u5BF9\u8C61\u7684\u51E0\u79CD\u521B\u5EFA\u65B9\u5F0F"),wm={id:"\u5DE5\u5382\u6A21\u5F0F-\u521B\u5EFA\u65B9\u5F0F",tabindex:"-1"},ym=n("a",{class:"header-anchor",href:"#\u5DE5\u5382\u6A21\u5F0F-\u521B\u5EFA\u65B9\u5F0F","aria-hidden":"true"},"#",-1),xm=s(),Am={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},Bm=s("#"),qm=s("\u5DE5\u5382\u6A21\u5F0F,\u521B\u5EFA\u65B9\u5F0F"),jm=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>job</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    o<span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
    o<span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
    o<span class="token punctuation">.</span>job<span class="token operator">=</span>job<span class="token punctuation">;</span>
    o<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token string">&quot;da&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;it&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> person2 <span class="token operator">=</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token string">&quot;dada&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;it&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,1),Sm={id:"\u6784\u9020\u51FD\u6570\u6A21\u5F0F",tabindex:"-1"},Cm=n("a",{class:"header-anchor",href:"#\u6784\u9020\u51FD\u6570\u6A21\u5F0F","aria-hidden":"true"},"#",-1),Dm=s(),Fm={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},Pm=s("#"),Tm=s("\u6784\u9020\u51FD\u6570\u6A21\u5F0F"),Nm=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>ob</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>job<span class="token operator">=</span>job<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;dada&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;web&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> person2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;dada&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;web&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div>`,1),Mm={id:"\u4F7F\u7528\u539F\u578B\u6A21\u5F0F",tabindex:"-1"},Om=n("a",{class:"header-anchor",href:"#\u4F7F\u7528\u539F\u578B\u6A21\u5F0F","aria-hidden":"true"},"#",-1),Im=s(),Rm={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E4%BD%BF%E7%94%A8%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},Vm=s("#"),Hm=s("\u4F7F\u7528\u539F\u578B\u6A21\u5F0F"),Lm=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;da&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>job <span class="token operator">=</span> <span class="token string">&quot;web&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person1<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//&quot;dada&quot;</span>
 
<span class="token keyword">var</span> person2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person2<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//&quot;dada&quot;</span>
 
<span class="token function">alert</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span>sayName <span class="token operator">==</span> person2<span class="token punctuation">.</span>sayName<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div>`,1),Um={id:"\u7EC4\u5408\u4F7F\u7528\u6784\u9020\u51FD\u6570\u6A21\u5F0F\u548C\u539F\u578B\u6A21\u5F0F",tabindex:"-1"},Jm=n("a",{class:"header-anchor",href:"#\u7EC4\u5408\u4F7F\u7528\u6784\u9020\u51FD\u6570\u6A21\u5F0F\u548C\u539F\u578B\u6A21\u5F0F","aria-hidden":"true"},"#",-1),Wm=s(),zm={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E7%BB%84%E5%90%88%E4%BD%BF%E7%94%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%A8%A1%E5%BC%8F%E5%92%8C%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},Gm=s("#"),$m=s("\u7EC4\u5408\u4F7F\u7528\u6784\u9020\u51FD\u6570\u6A21\u5F0F\u548C\u539F\u578B\u6A21\u5F0F"),Xm=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>friends <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;da&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;dada&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">constructor</span><span class="token operator">:</span>Person<span class="token punctuation">,</span>
    <span class="token function-variable function">sayName</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;da1&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> person2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;da2&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person1<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;dadada&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span>friends<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//[&quot;da&quot;,&quot;dada&quot;,&quot;dadada&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person2<span class="token punctuation">.</span>friends<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//[&quot;da&quot;,&quot;dada&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span>friends <span class="token operator">===</span> person2<span class="token punctuation">.</span>friends<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span>sayName <span class="token operator">===</span> person2<span class="token punctuation">.</span>sayName<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div>`,1),Km={id:"\u52A8\u6001\u539F\u578B\u6A21\u5F0F",tabindex:"-1"},Qm=n("a",{class:"header-anchor",href:"#\u52A8\u6001\u539F\u578B\u6A21\u5F0F","aria-hidden":"true"},"#",-1),Ym=s(),Zm={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E5%8A%A8%E6%80%81%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},nh=s("#"),sh=s("\u52A8\u6001\u539F\u578B\u6A21\u5F0F"),ah=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>job</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>job<span class="token operator">=</span>job<span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sayName<span class="token operator">!=</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,1),eh={id:"_21-\u5982\u4F55\u8F6C\u5316\u7C7B\u6570\u7EC4\u6210\u6570\u7EC4",tabindex:"-1"},th=n("a",{class:"header-anchor",href:"#_21-\u5982\u4F55\u8F6C\u5316\u7C7B\u6570\u7EC4\u6210\u6570\u7EC4","aria-hidden":"true"},"#",-1),ph=s(),oh={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_21-%E5%A6%82%E4%BD%95%E8%BD%AC%E5%8C%96%E7%B1%BB%E6%95%B0%E7%BB%84%E6%88%90%E6%95%B0%E7%BB%84",target:"_blank",rel:"noopener noreferrer"},ch=s("#"),lh=s("21 \u5982\u4F55\u8F6C\u5316\u7C7B\u6570\u7EC4\u6210\u6570\u7EC4"),rh=t("<blockquote><p>\u56E0\u4E3A<code>arguments</code>\u672C\u8EAB\u5E76\u4E0D\u80FD\u8C03\u7528\u6570\u7EC4\u65B9\u6CD5\uFF0C\u5B83\u662F\u4E00\u4E2A\u53E6\u5916\u4E00\u79CD\u5BF9\u8C61\u7C7B\u578B\uFF0C\u53EA\u4E0D\u8FC7\u5C5E\u6027\u4ECE<code>0</code>\u5F00\u59CB\u6392\uFF0C\u4F9D\u6B21\u4E3A<code>0\uFF0C1\uFF0C2...</code>\u6700\u540E\u8FD8\u6709<code>callee</code>\u548C<code>length</code>\u5C5E\u6027\u3002\u6211\u4EEC\u4E5F\u628A\u8FD9\u6837\u7684\u5BF9\u8C61\u79F0\u4E3A\u7C7B\u6570\u7EC4</p></blockquote><p><strong>\u5E38\u89C1\u7684\u7C7B\u6570\u7EC4\u8FD8\u6709\uFF1A</strong></p><ul><li>\u7528<code>getElementsByTagName/ClassName()</code>\u83B7\u5F97\u7684<code>HTMLCollection</code></li><li>\u7528<code>querySelector</code>\u83B7\u5F97\u7684<code>nodeList</code></li></ul><blockquote><p>\u90A3\u8FD9\u5BFC\u81F4\u5F88\u591A\u6570\u7EC4\u7684\u65B9\u6CD5\u5C31\u4E0D\u80FD\u7528\u4E86\uFF0C\u5FC5\u8981\u65F6\u9700\u8981\u6211\u4EEC\u5C06\u5B83\u4EEC\u8F6C\u6362\u6210\u6570\u7EC4\uFF0C\u6709\u54EA\u4E9B\u65B9\u6CD5\u5462\uFF1F</p></blockquote>",4),ih={id:"array-prototype-slice-call",tabindex:"-1"},uh=n("a",{class:"header-anchor",href:"#array-prototype-slice-call","aria-hidden":"true"},"#",-1),kh=s(),dh={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#array-prototype-slice-call",target:"_blank",rel:"noopener noreferrer"},bh=s("#"),mh=s("Array.prototype.slice.call()"),hh=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> cur<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//args\u53EF\u4EE5\u8C03\u7528\u6570\u7EC4\u539F\u751F\u7684\u65B9\u6CD5\u5566</span>
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,1),_h={id:"array-from",tabindex:"-1"},gh=n("a",{class:"header-anchor",href:"#array-from","aria-hidden":"true"},"#",-1),Eh=s(),fh={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#array-from",target:"_blank",rel:"noopener noreferrer"},vh=s("#"),wh=s("Array.from()"),yh=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> cur<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//args\u53EF\u4EE5\u8C03\u7528\u6570\u7EC4\u539F\u751F\u7684\u65B9\u6CD5\u5566</span>
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u8FD9\u79CD\u65B9\u6CD5\u4E5F\u53EF\u4EE5\u7528\u6765\u8F6C\u6362<code>Set</code>\u548C<code>Map</code>\u54E6\uFF01</p>`,2),xh={id:"es6\u5C55\u5F00\u8FD0\u7B97\u7B26",tabindex:"-1"},Ah=n("a",{class:"header-anchor",href:"#es6\u5C55\u5F00\u8FD0\u7B97\u7B26","aria-hidden":"true"},"#",-1),Bh=s(),qh={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#es6%E5%B1%95%E5%BC%80%E8%BF%90%E7%AE%97%E7%AC%A6",target:"_blank",rel:"noopener noreferrer"},jh=s("#"),Sh=s("ES6\u5C55\u5F00\u8FD0\u7B97\u7B26"),Ch=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> cur<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//args\u53EF\u4EE5\u8C03\u7528\u6570\u7EC4\u539F\u751F\u7684\u65B9\u6CD5\u5566</span>
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,1),Dh={id:"\u5229\u7528concat-apply",tabindex:"-1"},Fh=n("a",{class:"header-anchor",href:"#\u5229\u7528concat-apply","aria-hidden":"true"},"#",-1),Ph=s(),Th={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E5%88%A9%E7%94%A8concat-apply",target:"_blank",rel:"noopener noreferrer"},Nh=s("#"),Mh=s("\u5229\u7528concat+apply"),Oh=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//apply\u65B9\u6CD5\u4F1A\u628A\u7B2C\u4E8C\u4E2A\u53C2\u6570\u5C55\u5F00</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sum <span class="token operator">+</span> cur<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//args\u53EF\u4EE5\u8C03\u7528\u6570\u7EC4\u539F\u751F\u7684\u65B9\u6CD5\u5566</span>
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,1),Ih={id:"_22-foreach\u4E2Dreturn\u6709\u6548\u679C\u5417-\u5982\u4F55\u4E2D\u65ADforeach\u5FAA\u73AF",tabindex:"-1"},Rh=n("a",{class:"header-anchor",href:"#_22-foreach\u4E2Dreturn\u6709\u6548\u679C\u5417-\u5982\u4F55\u4E2D\u65ADforeach\u5FAA\u73AF","aria-hidden":"true"},"#",-1),Vh=s(),Hh={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_22-foreach%E4%B8%ADreturn%E6%9C%89%E6%95%88%E6%9E%9C%E5%90%97-%E5%A6%82%E4%BD%95%E4%B8%AD%E6%96%ADforeach%E5%BE%AA%E7%8E%AF",target:"_blank",rel:"noopener noreferrer"},Lh=s("#"),Uh=s("22 forEach\u4E2Dreturn\u6709\u6548\u679C\u5417\uFF1F\u5982\u4F55\u4E2D\u65ADforEach\u5FAA\u73AF\uFF1F"),Jh=t(`<blockquote><p>\u5728<code>forEach</code>\u4E2D\u7528<code>return</code>\u4E0D\u4F1A\u8FD4\u56DE\uFF0C\u51FD\u6570\u4F1A\u7EE7\u7EED\u6267\u884C\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
nums<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//\u65E0\u6548</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>\u4E2D\u65AD\u65B9\u6CD5\uFF1A</strong></p><ul><li>\u4F7F\u7528<code>try</code>\u76D1\u89C6\u4EE3\u7801\u5757\uFF0C\u5728\u9700\u8981\u4E2D\u65AD\u7684\u5730\u65B9\u629B\u51FA\u5F02\u5E38\u3002</li><li>\u5B98\u65B9\u63A8\u8350\u65B9\u6CD5\uFF08\u66FF\u6362\u65B9\u6CD5\uFF09\uFF1A\u7528<code>every</code>\u548C<code>some</code>\u66FF\u4EE3<code>forEach</code>\u51FD\u6570\u3002<code>every</code>\u5728\u78B0\u5230<code>return false</code>\u7684\u65F6\u5019\uFF0C\u4E2D\u6B62\u5FAA\u73AF\u3002<code>some</code>\u5728\u78B0\u5230<code>return true</code>\u7684\u65F6\u5019\uFF0C\u4E2D\u6B62\u5FAA\u73AF</li></ul>`,4),Wh={id:"_23-js\u5224\u65AD\u6570\u7EC4\u4E2D\u662F\u5426\u5305\u542B\u67D0\u4E2A\u503C",tabindex:"-1"},zh=n("a",{class:"header-anchor",href:"#_23-js\u5224\u65AD\u6570\u7EC4\u4E2D\u662F\u5426\u5305\u542B\u67D0\u4E2A\u503C","aria-hidden":"true"},"#",-1),Gh=s(),$h={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_23-js%E5%88%A4%E6%96%AD%E6%95%B0%E7%BB%84%E4%B8%AD%E6%98%AF%E5%90%A6%E5%8C%85%E5%90%AB%E6%9F%90%E4%B8%AA%E5%80%BC",target:"_blank",rel:"noopener noreferrer"},Xh=s("#"),Kh=s("23 JS\u5224\u65AD\u6570\u7EC4\u4E2D\u662F\u5426\u5305\u542B\u67D0\u4E2A\u503C"),Qh={id:"\u65B9\u6CD5\u4E00-array-indexof",tabindex:"-1"},Yh=n("a",{class:"header-anchor",href:"#\u65B9\u6CD5\u4E00-array-indexof","aria-hidden":"true"},"#",-1),Zh=s(),n_={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E6%96%B9%E6%B3%95%E4%B8%80-array-indexof",target:"_blank",rel:"noopener noreferrer"},s_=s("#"),a_=s("\u65B9\u6CD5\u4E00\uFF1Aarray.indexOf"),e_=t(`<blockquote><p>\u6B64\u65B9\u6CD5\u5224\u65AD\u6570\u7EC4\u4E2D\u662F\u5426\u5B58\u5728\u67D0\u4E2A\u503C\uFF0C\u5982\u679C\u5B58\u5728\uFF0C\u5219\u8FD4\u56DE\u6570\u7EC4\u5143\u7D20\u7684\u4E0B\u6807\uFF0C\u5426\u5219\u8FD4\u56DE<code>-1</code>\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> index<span class="token operator">=</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,2),t_={id:"\u65B9\u6CD5\u4E8C-array-includes-searcelement-fromindex",tabindex:"-1"},p_=n("a",{class:"header-anchor",href:"#\u65B9\u6CD5\u4E8C-array-includes-searcelement-fromindex","aria-hidden":"true"},"#",-1),o_=s(),c_={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E6%96%B9%E6%B3%95%E4%BA%8C-array-includes-searcelement-fromindex",target:"_blank",rel:"noopener noreferrer"},l_=s("#"),r_=s("\u65B9\u6CD5\u4E8C\uFF1Aarray.includes(searcElement[,fromIndex])"),i_=t(`<blockquote><p>\u6B64\u65B9\u6CD5\u5224\u65AD\u6570\u7EC4\u4E2D\u662F\u5426\u5B58\u5728\u67D0\u4E2A\u503C\uFF0C\u5982\u679C\u5B58\u5728\u8FD4\u56DE<code>true</code>\uFF0C\u5426\u5219\u8FD4\u56DE<code>false</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u5B58\u5728&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u4E0D\u5B58\u5728&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,2),u_={id:"\u65B9\u6CD5\u4E09-array-find-callback-thisarg",tabindex:"-1"},k_=n("a",{class:"header-anchor",href:"#\u65B9\u6CD5\u4E09-array-find-callback-thisarg","aria-hidden":"true"},"#",-1),d_=s(),b_={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E6%96%B9%E6%B3%95%E4%B8%89-array-find-callback-thisarg",target:"_blank",rel:"noopener noreferrer"},m_=s("#"),h_=s("\u65B9\u6CD5\u4E09\uFF1Aarray.find(callback[,thisArg])"),__=t(`<p>\u8FD4\u56DE\u6570\u7EC4\u4E2D\u6EE1\u8DB3\u6761\u4EF6\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20\u7684\u503C\uFF0C\u5982\u679C\u6CA1\u6709\uFF0C\u8FD4\u56DE<code>undefined</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,2),g_={id:"\u65B9\u6CD5\u56DB-array-findeindex-callback-thisarg",tabindex:"-1"},E_=n("a",{class:"header-anchor",href:"#\u65B9\u6CD5\u56DB-array-findeindex-callback-thisarg","aria-hidden":"true"},"#",-1),f_=s(),v_={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E6%96%B9%E6%B3%95%E5%9B%9B-array-findeindex-callback-thisarg",target:"_blank",rel:"noopener noreferrer"},w_=s("#"),y_=s("\u65B9\u6CD5\u56DB\uFF1Aarray.findeIndex(callback[,thisArg])"),x_=t(`<blockquote><p>\u8FD4\u56DE\u6570\u7EC4\u4E2D\u6EE1\u8DB3\u6761\u4EF6\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20\u7684\u4E0B\u6807\uFF0C\u5982\u679C\u6CA1\u6709\u627E\u5230\uFF0C\u8FD4\u56DE<code>-1</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,2),A_={id:"_24-js\u4E2Dflat-\u6570\u7EC4\u6241\u5E73\u5316",tabindex:"-1"},B_=n("a",{class:"header-anchor",href:"#_24-js\u4E2Dflat-\u6570\u7EC4\u6241\u5E73\u5316","aria-hidden":"true"},"#",-1),q_=s(),j_={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_24-js%E4%B8%ADflat-%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},S_=s("#"),C_=s("24 JS\u4E2Dflat---\u6570\u7EC4\u6241\u5E73\u5316"),D_=t(`<blockquote><p>\u5BF9\u4E8E\u524D\u7AEF\u9879\u76EE\u5F00\u53D1\u8FC7\u7A0B\u4E2D\uFF0C\u5076\u5C14\u4F1A\u51FA\u73B0\u5C42\u53E0\u6570\u636E\u7ED3\u6784\u7684\u6570\u7EC4\uFF0C\u6211\u4EEC\u9700\u8981\u5C06\u591A\u5C42\u7EA7\u6570\u7EC4\u8F6C\u5316\u4E3A\u4E00\u7EA7\u6570\u7EC4\uFF08\u5373\u63D0\u53D6\u5D4C\u5957\u6570\u7EC4\u5143\u7D20\u6700\u7EC8\u5408\u5E76\u4E3A\u4E00\u4E2A\u6570\u7EC4\uFF09\uFF0C\u4F7F\u5176\u5185\u5BB9\u5408\u5E76\u4E14\u5C55\u5F00\u3002\u90A3\u4E48\u8BE5\u5982\u4F55\u53BB\u5B9E\u73B0\u5462\uFF1F</p></blockquote><p>\u9700\u6C42:\u591A\u7EF4\u6570\u7EC4=&gt;\u4E00\u7EF4\u6570\u7EC4</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> ary <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// -&gt; [1, 2, 3, 4, 5, 6]</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>ary<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,3),F_={id:"\u8C03\u7528es6\u4E2D\u7684flat\u65B9\u6CD5",tabindex:"-1"},P_=n("a",{class:"header-anchor",href:"#\u8C03\u7528es6\u4E2D\u7684flat\u65B9\u6CD5","aria-hidden":"true"},"#",-1),T_=s(),N_={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E8%B0%83%E7%94%A8es6%E4%B8%AD%E7%9A%84flat%E6%96%B9%E6%B3%95",target:"_blank",rel:"noopener noreferrer"},M_=s("#"),O_=s("\u8C03\u7528ES6\u4E2D\u7684flat\u65B9\u6CD5"),I_=n("div",{class:"language-text ext-text line-numbers-mode"},[n("pre",{class:"language-text"},[n("code",null,`ary = ary.flat(Infinity);
`)]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br")])],-1),R_={id:"replace-split",tabindex:"-1"},V_=n("a",{class:"header-anchor",href:"#replace-split","aria-hidden":"true"},"#",-1),H_=s(),L_={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#replace-split",target:"_blank",rel:"noopener noreferrer"},U_=s("#"),J_=s("replace + split"),W_=n("div",{class:"language-text ext-text line-numbers-mode"},[n("pre",{class:"language-text"},[n("code",null,`ary = str.replace(/(\\[|\\])/g, '').split(',')
`)]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br")])],-1),z_={id:"replace-json-parse",tabindex:"-1"},G_=n("a",{class:"header-anchor",href:"#replace-json-parse","aria-hidden":"true"},"#",-1),$_=s(),X_={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#replace-json-parse",target:"_blank",rel:"noopener noreferrer"},K_=s("#"),Q_=s("replace + JSON.parse"),Y_=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\\[|\\])</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
str <span class="token operator">=</span> <span class="token string">&#39;[&#39;</span> <span class="token operator">+</span> str <span class="token operator">+</span> <span class="token string">&#39;]&#39;</span><span class="token punctuation">;</span>
ary <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,1),Z_={id:"\u666E\u901A\u9012\u5F52",tabindex:"-1"},n1=n("a",{class:"header-anchor",href:"#\u666E\u901A\u9012\u5F52","aria-hidden":"true"},"#",-1),s1=s(),a1={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E6%99%AE%E9%80%9A%E9%80%92%E5%BD%92",target:"_blank",rel:"noopener noreferrer"},e1=s("#"),t1=s("\u666E\u901A\u9012\u5F52"),p1=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ary</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ary<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> item <span class="token operator">=</span> ary<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>ary<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,1),o1={id:"\u5229\u7528reduce\u51FD\u6570\u8FED\u4EE3",tabindex:"-1"},c1=n("a",{class:"header-anchor",href:"#\u5229\u7528reduce\u51FD\u6570\u8FED\u4EE3","aria-hidden":"true"},"#",-1),l1=s(),r1={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E5%88%A9%E7%94%A8reduce%E5%87%BD%E6%95%B0%E8%BF%AD%E4%BB%A3",target:"_blank",rel:"noopener noreferrer"},i1=s("#"),u1=s("\u5229\u7528reduce\u51FD\u6570\u8FED\u4EE3"),k1=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">flatten</span><span class="token punctuation">(</span><span class="token parameter">ary</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> ary<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> pre<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">flatten</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token operator">:</span> cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> ary <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">flatten</span><span class="token punctuation">(</span>ary<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,1),d1={id:"\u6269\u5C55\u8FD0\u7B97\u7B26",tabindex:"-1"},b1=n("a",{class:"header-anchor",href:"#\u6269\u5C55\u8FD0\u7B97\u7B26","aria-hidden":"true"},"#",-1),m1=s(),h1={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6",target:"_blank",rel:"noopener noreferrer"},_1=s("#"),g1=s("\u6269\u5C55\u8FD0\u7B97\u7B26"),E1=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//\u53EA\u8981\u6709\u4E00\u4E2A\u5143\u7D20\u6709\u6570\u7EC4\uFF0C\u90A3\u4E48\u5FAA\u73AF\u7EE7\u7EED</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>ary<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span>isArray<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ary <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>ary<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>`,1),f1={id:"_25-js\u4E2D\u6D45\u62F7\u8D1D\u7684\u624B\u6BB5\u6709\u54EA\u4E9B",tabindex:"-1"},v1=n("a",{class:"header-anchor",href:"#_25-js\u4E2D\u6D45\u62F7\u8D1D\u7684\u624B\u6BB5\u6709\u54EA\u4E9B","aria-hidden":"true"},"#",-1),w1=s(),y1={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_25-js%E4%B8%AD%E6%B5%85%E6%8B%B7%E8%B4%9D%E7%9A%84%E6%89%8B%E6%AE%B5%E6%9C%89%E5%93%AA%E4%BA%9B",target:"_blank",rel:"noopener noreferrer"},x1=s("#"),A1=s("25 JS\u4E2D\u6D45\u62F7\u8D1D\u7684\u624B\u6BB5\u6709\u54EA\u4E9B"),B1={id:"\u91CD\u8981-\u4EC0\u4E48\u662F\u62F7\u8D1D",tabindex:"-1"},q1=n("a",{class:"header-anchor",href:"#\u91CD\u8981-\u4EC0\u4E48\u662F\u62F7\u8D1D","aria-hidden":"true"},"#",-1),j1=s(),S1={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E9%87%8D%E8%A6%81-%E4%BB%80%E4%B9%88%E6%98%AF%E6%8B%B7%E8%B4%9D",target:"_blank",rel:"noopener noreferrer"},C1=s("#"),D1=s("\u91CD\u8981: \u4EC0\u4E48\u662F\u62F7\u8D1D\uFF1F"),F1=t(`<p>\u9996\u5148\u6765\u76F4\u89C2\u7684\u611F\u53D7\u4E00\u4E0B\u4EC0\u4E48\u662F\u62F7\u8D1D</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">;</span>
newArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[100, 2, 3]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u8FD9\u662F\u76F4\u63A5\u8D4B\u503C\u7684\u60C5\u51B5\uFF0C\u4E0D\u6D89\u53CA\u4EFB\u4F55\u62F7\u8D1D\u3002\u5F53\u6539\u53D8<code>newArr</code>\u7684\u65F6\u5019\uFF0C\u7531\u4E8E\u662F\u540C\u4E00\u4E2A\u5F15\u7528\uFF0Carr\u6307\u5411\u7684\u503C\u4E5F\u8DDF\u7740\u6539\u53D8\u3002</p></blockquote><p>\u73B0\u5728\u8FDB\u884C\u6D45\u62F7\u8D1D:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
newArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[1, 2, 3]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u5F53\u4FEE\u6539newArr\u7684\u65F6\u5019\uFF0Carr\u7684\u503C\u5E76\u4E0D\u6539\u53D8\u3002\u4EC0\u4E48\u539F\u56E0?\u56E0\u4E3A\u8FD9\u91CCnewArr\u662Farr\u6D45\u62F7\u8D1D\u540E\u7684\u7ED3\u679C\uFF0CnewArr\u548Carr\u73B0\u5728\u5F15\u7528\u7684\u5DF2\u7ECF\u4E0D\u662F\u540C\u4E00\u5757\u7A7A\u95F4\u5566\uFF01</p></blockquote><p>\u8FD9\u5C31\u662F\u6D45\u62F7\u8D1D\uFF01</p><p>\u4F46\u662F\u8FD9\u53C8\u4F1A\u5E26\u6765\u4E00\u4E2A\u6F5C\u5728\u7684\u95EE\u9898:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
newArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>val <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[ 1, 2, { val: 1000 } ]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u4E0D\u662F\u5DF2\u7ECF\u4E0D\u662F\u540C\u4E00\u5757\u7A7A\u95F4\u7684\u5F15\u7528\u4E86\u5417\uFF1F\u4E3A\u4EC0\u4E48\u6539\u53D8\u4E86newArr\u6539\u53D8\u4E86\u7B2C\u4E8C\u4E2A\u5143\u7D20\u7684val\u503C\uFF0Carr\u4E5F\u8DDF\u7740\u53D8\u4E86\u3002</p><blockquote><p>\u8FD9\u5C31\u662F\u6D45\u62F7\u8D1D\u7684\u9650\u5236\u6240\u5728\u4E86\u3002\u5B83\u53EA\u80FD\u62F7\u8D1D\u4E00\u5C42\u5BF9\u8C61\u3002\u5982\u679C\u6709\u5BF9\u8C61\u7684\u5D4C\u5957\uFF0C\u90A3\u4E48\u6D45\u62F7\u8D1D\u5C06\u65E0\u80FD\u4E3A\u529B\u3002\u4F46\u5E78\u8FD0\u7684\u662F\uFF0C\u6DF1\u62F7\u8D1D\u5C31\u662F\u4E3A\u4E86\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u800C\u751F\u7684\uFF0C\u5B83\u80FD</p></blockquote><p>\u89E3\u51B3\u65E0\u9650\u6781\u7684\u5BF9\u8C61\u5D4C\u5957\u95EE\u9898\uFF0C\u5B9E\u73B0\u5F7B\u5E95\u7684\u62F7\u8D1D\u3002\u5F53\u7136\uFF0C\u8FD9\u662F\u6211\u4EEC\u4E0B\u4E00\u7BC7\u7684\u91CD\u70B9\u3002 \u73B0\u5728\u5148\u8BA9\u5927\u5BB6\u6709\u4E00\u4E2A\u57FA\u672C\u7684\u6982\u5FF5\u3002</p><p>\u63A5\u4E0B\u6765\uFF0C\u6211\u4EEC\u6765\u7814\u7A76\u4E00\u4E0BJS\u4E2D\u5B9E\u73B0\u6D45\u62F7\u8D1D\u5230\u5E95\u6709\u591A\u5C11\u79CD\u65B9\u5F0F\uFF1F</p>`,13),P1={id:"_1-\u624B\u52A8\u5B9E\u73B0",tabindex:"-1"},T1=n("a",{class:"header-anchor",href:"#_1-\u624B\u52A8\u5B9E\u73B0","aria-hidden":"true"},"#",-1),N1=s(),M1={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_1-%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0",target:"_blank",rel:"noopener noreferrer"},O1=s("#"),I1=s("1. \u624B\u52A8\u5B9E\u73B0"),R1=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">shallowClone</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> target <span class="token operator">===</span> <span class="token string">&#39;object&#39;</span> <span class="token operator">&amp;&amp;</span> target <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cloneTarget <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> prop <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          cloneTarget<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> cloneTarget<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> target<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div>`,1),V1={id:"_2-object-assign",tabindex:"-1"},H1=n("a",{class:"header-anchor",href:"#_2-object-assign","aria-hidden":"true"},"#",-1),L1=s(),U1={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_2-object-assign",target:"_blank",rel:"noopener noreferrer"},J1=s("#"),W1=s("2. Object.assign"),z1=t(`<blockquote><p>\u4F46\u662F\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C<code>Object.assgin()</code> \u62F7\u8D1D\u7684\u662F\u5BF9\u8C61\u7684\u5C5E\u6027\u7684\u5F15\u7528\uFF0C\u800C\u4E0D\u662F\u5BF9\u8C61\u672C\u8EAB\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;sy&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;sss&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//{ name: &#39;sss&#39;, age: 18 }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,2),G1={id:"_3-concat\u6D45\u62F7\u8D1D\u6570\u7EC4",tabindex:"-1"},$1=n("a",{class:"header-anchor",href:"#_3-concat\u6D45\u62F7\u8D1D\u6570\u7EC4","aria-hidden":"true"},"#",-1),X1=s(),K1={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_3-concat%E6%B5%85%E6%8B%B7%E8%B4%9D%E6%95%B0%E7%BB%84",target:"_blank",rel:"noopener noreferrer"},Q1=s("#"),Y1=s("3. concat\u6D45\u62F7\u8D1D\u6570\u7EC4"),Z1=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
newArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[ 1, 2, 3 ]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>`,1),ng={id:"_4-slice\u6D45\u62F7\u8D1D",tabindex:"-1"},sg=n("a",{class:"header-anchor",href:"#_4-slice\u6D45\u62F7\u8D1D","aria-hidden":"true"},"#",-1),ag=s(),eg={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_4-slice%E6%B5%85%E6%8B%B7%E8%B4%9D",target:"_blank",rel:"noopener noreferrer"},tg=s("#"),pg=s("4. slice\u6D45\u62F7\u8D1D"),og=n("p",null,"\u5F00\u5934\u7684\u4F8B\u5B50",-1),cg={id:"_5-\u5C55\u5F00\u8FD0\u7B97\u7B26",tabindex:"-1"},lg=n("a",{class:"header-anchor",href:"#_5-\u5C55\u5F00\u8FD0\u7B97\u7B26","aria-hidden":"true"},"#",-1),rg=s(),ig={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_5-%E5%B1%95%E5%BC%80%E8%BF%90%E7%AE%97%E7%AC%A6",target:"_blank",rel:"noopener noreferrer"},ug=s("#"),kg=s("5. ...\u5C55\u5F00\u8FD0\u7B97\u7B26"),dg=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//\u8DDFarr.slice()\u662F\u4E00\u6837\u7684\u6548\u679C</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,1),bg={id:"_26-\u6570\u7EC4-array",tabindex:"-1"},mg=n("a",{class:"header-anchor",href:"#_26-\u6570\u7EC4-array","aria-hidden":"true"},"#",-1),hg=s(),_g={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_26-%E6%95%B0%E7%BB%84-array",target:"_blank",rel:"noopener noreferrer"},gg=s("#"),Eg=s("26 \u6570\u7EC4(array)"),fg=t(`<ul><li><code>map</code>: \u904D\u5386\u6570\u7EC4\uFF0C\u8FD4\u56DE\u56DE\u8C03\u8FD4\u56DE\u503C\u7EC4\u6210\u7684\u65B0\u6570\u7EC4</li><li><code>forEach</code>: \u65E0\u6CD5<code>break</code>\uFF0C\u53EF\u4EE5\u7528<code>try/catch</code>\u4E2D<code>throw new Error</code>\u6765\u505C\u6B62</li><li><code>filter</code>: \u8FC7\u6EE4</li><li><code>some</code>: \u6709\u4E00\u9879\u8FD4\u56DE<code>true</code>\uFF0C\u5219\u6574\u4F53\u4E3A<code>true</code></li><li><code>every</code>: \u6709\u4E00\u9879\u8FD4\u56DE<code>false</code>\uFF0C\u5219\u6574\u4F53\u4E3A<code>false</code></li><li><code>join</code>: \u901A\u8FC7\u6307\u5B9A\u8FDE\u63A5\u7B26\u751F\u6210\u5B57\u7B26\u4E32</li><li><code>push / pop</code>: \u672B\u5C3E\u63A8\u5165\u548C\u5F39\u51FA\uFF0C\u6539\u53D8\u539F\u6570\u7EC4\uFF0C \u8FD4\u56DE\u63A8\u5165/\u5F39\u51FA\u9879</li><li><code>unshift / shift</code>: \u5934\u90E8\u63A8\u5165\u548C\u5F39\u51FA\uFF0C\u6539\u53D8\u539F\u6570\u7EC4\uFF0C\u8FD4\u56DE\u64CD\u4F5C\u9879</li><li><code>sort(fn) / reverse</code>: \u6392\u5E8F\u4E0E\u53CD\u8F6C\uFF0C\u6539\u53D8\u539F\u6570\u7EC4</li><li><code>concat</code>: \u8FDE\u63A5\u6570\u7EC4\uFF0C\u4E0D\u5F71\u54CD\u539F\u6570\u7EC4\uFF0C \u6D45\u62F7\u8D1D</li><li><code>slice(start, end)</code>: \u8FD4\u56DE\u622A\u65AD\u540E\u7684\u65B0\u6570\u7EC4\uFF0C\u4E0D\u6539\u53D8\u539F\u6570\u7EC4</li><li><code>splice(start, number, value...)</code>: \u8FD4\u56DE\u5220\u9664\u5143\u7D20\u7EC4\u6210\u7684\u6570\u7EC4\uFF0C<code>value</code>\u4E3A\u63D2\u5165\u9879\uFF0C\u6539\u53D8\u539F\u6570\u7EC4</li><li><code>indexOf / lastIndexOf(value, fromIndex)</code>: \u67E5\u627E\u6570\u7EC4\u9879\uFF0C\u8FD4\u56DE\u5BF9\u5E94\u7684\u4E0B\u6807</li><li><code>reduce / reduceRight(fn(prev, cur)</code>\uFF0C <code>defaultPrev)</code>: \u4E24\u4E24\u6267\u884C\uFF0C<code>prev</code> \u4E3A\u4E0A\u6B21\u5316\u7B80\u51FD\u6570\u7684<code>return</code>\u503C\uFF0C<code>cur</code>\u4E3A\u5F53\u524D\u503C(\u4ECE\u7B2C\u4E8C\u9879\u5F00\u59CB)</li></ul><p><strong>\u6570\u7EC4\u4E71\u5E8F\uFF1A</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>\u6570\u7EC4\u62C6\u89E3: flat: [1,[2,3]] --&gt; [1, 2, 3]</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">flat</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token operator">+</span>item <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,5),vg={id:"_27-\u4EE3\u7801\u7684\u590D\u7528",tabindex:"-1"},wg=n("a",{class:"header-anchor",href:"#_27-\u4EE3\u7801\u7684\u590D\u7528","aria-hidden":"true"},"#",-1),yg=s(),xg={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_27-%E4%BB%A3%E7%A0%81%E7%9A%84%E5%A4%8D%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},Ag=s("#"),Bg=s("27 \u4EE3\u7801\u7684\u590D\u7528"),qg=t("<blockquote><p>\u5F53\u4F60\u53D1\u73B0\u4EFB\u4F55\u4EE3\u7801\u5F00\u59CB\u5199\u7B2C\u4E8C\u904D\u65F6\uFF0C\u5C31\u8981\u5F00\u59CB\u8003\u8651\u5982\u4F55\u590D\u7528\u3002\u4E00\u822C\u6709\u4EE5\u4E0B\u7684\u65B9\u5F0F:</p></blockquote><ul><li>\u51FD\u6570\u5C01\u88C5</li><li>\u7EE7\u627F</li><li>\u590D\u5236<code>extend</code></li><li>\u6DF7\u5165<code>mixin</code></li><li>\u501F\u7528<code>apply/call</code></li></ul>",2),jg={id:"_28-\u64CD\u4F5Cdom\u8282\u70B9\u65B9\u6CD5",tabindex:"-1"},Sg=n("a",{class:"header-anchor",href:"#_28-\u64CD\u4F5Cdom\u8282\u70B9\u65B9\u6CD5","aria-hidden":"true"},"#",-1),Cg=s(),Dg={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_28-%E6%93%8D%E4%BD%9Cdom%E8%8A%82%E7%82%B9%E6%96%B9%E6%B3%95",target:"_blank",rel:"noopener noreferrer"},Fg=s("#"),Pg=s("28 \u64CD\u4F5CDOM\u8282\u70B9\u65B9\u6CD5"),Tg=t(`<p><strong>\u521B\u5EFA\u65B0\u8282\u70B9</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//\u521B\u5EFA\u4E00\u4E2ADOM\u7247\u6BB5</span>
<span class="token function">createElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//\u521B\u5EFA\u4E00\u4E2A\u5177\u4F53\u7684\u5143\u7D20</span>
<span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//\u521B\u5EFA\u4E00\u4E2A\u6587\u672C\u8282\u70B9</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>\u6DFB\u52A0\u3001\u79FB\u9664\u3001\u66FF\u6362\u3001\u63D2\u5165</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">//\u6DFB\u52A0</span>
<span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">//\u79FB\u9664</span>
<span class="token function">replaceChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">//\u66FF\u6362</span>
<span class="token function">insertBefore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">//\u63D2\u5165</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>\u67E5\u627E</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">//\u901A\u8FC7\u6807\u7B7E\u540D\u79F0</span>
<span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment">//\u901A\u8FC7\u5143\u7D20\u7684Name\u5C5E\u6027\u7684\u503C</span>
<span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">//\u901A\u8FC7\u5143\u7D20Id\uFF0C\u552F\u4E00\u6027</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,6),Ng={id:"_29-ajax\u603B\u7ED3",tabindex:"-1"},Mg=n("a",{class:"header-anchor",href:"#_29-ajax\u603B\u7ED3","aria-hidden":"true"},"#",-1),Og=s(),Ig={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_29-ajax%E6%80%BB%E7%BB%93",target:"_blank",rel:"noopener noreferrer"},Rg=s("#"),Vg=s("29 Ajax\u603B\u7ED3"),Hg=t(`<ul><li><code>Ajax</code>\u7684\u539F\u7406\u7B80\u5355\u6765\u8BF4\u662F\u5728\u7528\u6237\u548C\u670D\u52A1\u5668\u4E4B\u95F4\u52A0\u4E86\u2014\u4E2A\u4E2D\u95F4\u5C42(<code>AJAX</code>\u5F15\u64CE)\uFF0C\u901A\u8FC7<code>XmlHttpRequest</code>\u5BF9\u8C61\u6765\u5411\u670D\u52A1\u5668\u53D1\u5F02\u6B65\u8BF7\u6C42\uFF0C\u4ECE\u670D\u52A1\u5668\u83B7\u5F97\u6570\u636E\uFF0C\u7136\u540E\u7528<code>javascript</code>\u6765\u64CD\u4F5CDOM\u800C\u66F4\u65B0\u9875\u9762\u3002\u4F7F\u7528\u6237\u64CD\u4F5C\u4E0E\u670D\u52A1\u5668\u54CD\u5E94\u5F02\u6B65\u5316\u3002\u8FD9\u5176\u4E2D\u6700\u5173\u952E\u7684\u4E00\u6B65\u5C31\u662F\u4ECE\u670D\u52A1\u5668\u83B7\u5F97\u8BF7\u6C42\u6570\u636E</li><li><code>Ajax</code>\u7684\u8FC7\u7A0B\u53EA\u6D89\u53CA<code>JavaScript</code>\u3001<code>XMLHttpRequest</code>\u548C<code>DOM</code>\u3002<code>XMLHttpRequest</code>\u662F<code>ajax</code>\u7684\u6838\u5FC3\u673A\u5236</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1. \u521B\u5EFA\u8FDE\u63A5</span>
<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 2. \u8FDE\u63A5\u670D\u52A1\u5668</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;get&#39;</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token comment">// 3. \u53D1\u9001\u8BF7\u6C42</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 4. \u63A5\u53D7\u8BF7\u6C42</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">success</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// fail</span>
            fail <span class="token operator">&amp;&amp;</span> <span class="token function">fail</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>ajax \u6709\u90A3\u4E9B\u4F18\u7F3A\u70B9?</strong></p><p><strong>\u4F18\u70B9\uFF1A</strong></p><ul><li>\u901A\u8FC7\u5F02\u6B65\u6A21\u5F0F\uFF0C\u63D0\u5347\u4E86\u7528\u6237\u4F53\u9A8C.</li><li>\u4F18\u5316\u4E86\u6D4F\u89C8\u5668\u548C\u670D\u52A1\u5668\u4E4B\u95F4\u7684\u4F20\u8F93\uFF0C\u51CF\u5C11\u4E0D\u5FC5\u8981\u7684\u6570\u636E\u5F80\u8FD4\uFF0C\u51CF\u5C11\u4E86\u5E26\u5BBD\u5360\u7528.</li><li><code>Ajax</code>\u5728\u5BA2\u6237\u7AEF\u8FD0\u884C\uFF0C\u627F\u62C5\u4E86\u4E00\u90E8\u5206\u672C\u6765\u7531\u670D\u52A1\u5668\u627F\u62C5\u7684\u5DE5\u4F5C\uFF0C\u51CF\u5C11\u4E86\u5927\u7528\u6237\u91CF\u4E0B\u7684\u670D\u52A1\u5668\u8D1F\u8F7D\u3002</li><li><code>Ajax</code>\u53EF\u4EE5\u5B9E\u73B0\u52A8\u6001\u4E0D\u5237\u65B0\uFF08\u5C40\u90E8\u5237\u65B0\uFF09</li></ul><p><strong>\u7F3A\u70B9\uFF1A</strong></p><ul><li>\u5B89\u5168\u95EE\u9898 <code>AJAX</code>\u66B4\u9732\u4E86\u4E0E\u670D\u52A1\u5668\u4EA4\u4E92\u7684\u7EC6\u8282\u3002</li><li>\u5BF9\u641C\u7D22\u5F15\u64CE\u7684\u652F\u6301\u6BD4\u8F83\u5F31\u3002</li><li>\u4E0D\u5BB9\u6613\u8C03\u8BD5\u3002</li></ul>`,7),Lg={id:"_30-\u8C08\u8C08\u4F60\u5BF9for-in-for-of\u7684\u7406\u89E3",tabindex:"-1"},Ug=n("a",{class:"header-anchor",href:"#_30-\u8C08\u8C08\u4F60\u5BF9for-in-for-of\u7684\u7406\u89E3","aria-hidden":"true"},"#",-1),Jg=s(),Wg={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_30-%E8%B0%88%E8%B0%88%E4%BD%A0%E5%AF%B9for-in-for-of%E7%9A%84%E7%90%86%E8%A7%A3",target:"_blank",rel:"noopener noreferrer"},zg=s("#"),Gg=s("30 \u8C08\u8C08\u4F60\u5BF9for in/for of\u7684\u7406\u89E3"),$g=t(`<blockquote><p><code>for in</code>\u6027\u80FD\u5F88\u5DEE\uFF0C\u8FED\u4EE3\u5F53\u524D\u5BF9\u8C61\u4E2D\u53EF\u679A\u4E3E\u7684\u5C5E\u6027\uFF0C\u5E76\u4E14\u4E00\u76F4\u67E5\u627E\u5230\u539F\u578B\u4E0A\u53BB\u3002</p></blockquote><ul><li>\u95EE\u98981\uFF1A\u904D\u5386\u987A\u5E8F\u6570\u5B57\u4F18\u5148</li><li>\u95EE\u98982\uFF1A\u65E0\u6CD5\u904D\u5386<code>symbol</code>\u5C5E\u6027</li><li>\u95EE\u98983\uFF1A\u53EF\u4EE5\u904D\u5386\u5230\u539F\u578B\u5C5E\u6027\u4E2D\u53EF\u679A\u4E3E\u7684</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;poetry&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&#39;aa&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token number">0</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token number">300</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="http://img-repo.poetries.top/images/20210320102041.png" alt="img"> <img src="http://img-repo.poetries.top/images/20210320103701.png" alt="img"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u4E0D\u904D\u5386\u539F\u578B\u4E0A\u7684\u5C5E\u6027</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>\u904D\u5386obj\u7684\u79C1\u6709\u5C5E\u6027\u62FC\u63A5</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
keys <span class="token operator">=</span> keys<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">)</span>
keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>for of</strong></p><ul><li>\u90E8\u5206\u6570\u636E\u7ED3\u6784\u5B9E\u73B0\u4E86\u8FED\u4EE3\u5668\u89C4\u8303 <ul><li><code>Symbol.itertor</code></li><li><code>\u6570\u7EC4/set/map</code></li><li>\u5BF9\u8C61\u6CA1\u6709\u5B9E\u73B0\uFF0C<code>for of</code>\u4E0D\u80FD\u904D\u5386\u5BF9\u8C61</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u6570\u7EC4\u5177\u5907\u8FED\u4EE3\u5668\u89C4\u8303\uFF0C\u6A21\u62DF\u5B9E\u73B0</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>

arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>index <span class="token operator">&gt;</span> self<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> self<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u4F7F\u5BF9\u8C61\u5177\u5907\u53EF\u8FED\u4EE3\u7279\u6027</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>

obj<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> val <span class="token keyword">of</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div>`,10),Xg={id:"_31-\u6570\u7EC4\u76F8\u5173",tabindex:"-1"},Kg=n("a",{class:"header-anchor",href:"#_31-\u6570\u7EC4\u76F8\u5173","aria-hidden":"true"},"#",-1),Qg=s(),Yg={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_31-%E6%95%B0%E7%BB%84%E7%9B%B8%E5%85%B3",target:"_blank",rel:"noopener noreferrer"},Zg=s("#"),n8=s("31 \u6570\u7EC4\u76F8\u5173"),s8={id:"array-3-\u548Carray-3-4-\u7684\u533A\u522B",tabindex:"-1"},a8=n("a",{class:"header-anchor",href:"#array-3-\u548Carray-3-4-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),e8=s(),t8={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#array-3-%E5%92%8Carray-3-4-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},p8=s("#"),o8=s("Array(3)\u548CArray(3, 4)\u7684\u533A\u522B\uFF1F"),c8=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [empty x 3]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [3, 4]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,1),l8={id:"\u8BF7\u521B\u5EFA\u4E00\u4E2A\u957F\u5EA6\u4E3A100-\u503C\u90FD\u4E3A1\u7684\u6570\u7EC4",tabindex:"-1"},r8=n("a",{class:"header-anchor",href:"#\u8BF7\u521B\u5EFA\u4E00\u4E2A\u957F\u5EA6\u4E3A100-\u503C\u90FD\u4E3A1\u7684\u6570\u7EC4","aria-hidden":"true"},"#",-1),i8=s(),u8={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E8%AF%B7%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E9%95%BF%E5%BA%A6%E4%B8%BA100-%E5%80%BC%E9%83%BD%E4%B8%BA1%E7%9A%84%E6%95%B0%E7%BB%84",target:"_blank",rel:"noopener noreferrer"},k8=s("#"),d8=s("\u8BF7\u521B\u5EFA\u4E00\u4E2A\u957F\u5EA6\u4E3A100\uFF0C\u503C\u90FD\u4E3A1\u7684\u6570\u7EC4"),b8=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,1),m8={id:"\u8BF7\u521B\u5EFA\u4E00\u4E2A\u957F\u5EA6\u4E3A100-\u503C\u4E3A\u5BF9\u5E94\u4E0B\u6807\u7684\u6570\u7EC4",tabindex:"-1"},h8=n("a",{class:"header-anchor",href:"#\u8BF7\u521B\u5EFA\u4E00\u4E2A\u957F\u5EA6\u4E3A100-\u503C\u4E3A\u5BF9\u5E94\u4E0B\u6807\u7684\u6570\u7EC4","aria-hidden":"true"},"#",-1),_8=s(),g8={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E8%AF%B7%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E9%95%BF%E5%BA%A6%E4%B8%BA100-%E5%80%BC%E4%B8%BA%E5%AF%B9%E5%BA%94%E4%B8%8B%E6%A0%87%E7%9A%84%E6%95%B0%E7%BB%84",target:"_blank",rel:"noopener noreferrer"},E8=s("#"),f8=s("\u8BF7\u521B\u5EFA\u4E00\u4E2A\u957F\u5EA6\u4E3A100\uFF0C\u503C\u4E3A\u5BF9\u5E94\u4E0B\u6807\u7684\u6570\u7EC4"),v8=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// cool\u7684\u5199\u6CD5\uFF1A</span>
<span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token comment">// \u5176\u4ED6\u65B9\u6CD5\uFF1A</span>
<span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> i<span class="token punctuation">)</span>
<span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> i<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,1),w8={id:"_32-setinterval\u5B58\u5728\u54EA\u4E9B\u95EE\u9898",tabindex:"-1"},y8=n("a",{class:"header-anchor",href:"#_32-setinterval\u5B58\u5728\u54EA\u4E9B\u95EE\u9898","aria-hidden":"true"},"#",-1),x8=s(),A8={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_32-setinterval%E5%AD%98%E5%9C%A8%E5%93%AA%E4%BA%9B%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},B8=s("#"),q8=s("32 setInterval\u5B58\u5728\u54EA\u4E9B\u95EE\u9898\uFF1F"),j8=n("blockquote",null,[n("p",null,[n("code",null,"JavaScript"),s("\u4E2D\u4F7F\u7528 "),n("code",null,"setInterval"),s(" \u5F00\u542F\u8F6E\u8BE2\u3002\u5B9A\u65F6\u5668\u4EE3\u7801\u53EF\u80FD\u5728\u4EE3\u7801\u518D\u6B21\u88AB\u6DFB\u52A0\u5230\u961F\u5217\u4E4B\u524D\u8FD8\u6CA1\u6709\u5B8C\u6210\u6267\u884C\uFF0C\u7ED3\u679C\u5BFC\u81F4\u5B9A\u65F6\u5668\u4EE3\u7801\u8FDE\u7EED\u8FD0\u884C\u597D\u51E0\u6B21\uFF0C\u800C\u4E4B\u95F4\u6CA1\u6709\u4EFB\u4F55\u505C\u987F\u3002\u800Cjavascript\u5F15\u64CE\u5BF9\u8FD9\u4E2A\u95EE\u9898\u7684\u89E3\u51B3\u662F\uFF1A\u5F53\u4F7F\u7528"),n("code",null,"setInterval()"),s("\u65F6\uFF0C\u4EC5\u5F53\u6CA1\u6709\u8BE5\u5B9A\u65F6\u5668\u7684\u4EFB\u4F55\u5176\u4ED6\u4EE3\u7801\u5B9E\u4F8B\u65F6\uFF0C\u624D\u5C06\u5B9A\u65F6\u5668\u4EE3\u7801\u6DFB\u52A0\u5230\u961F\u5217\u4E2D\u3002\u8FD9\u786E\u4FDD\u4E86\u5B9A\u65F6\u5668\u4EE3\u7801\u52A0\u5165\u5230\u961F\u5217\u4E2D\u7684\u6700\u5C0F\u65F6\u95F4\u95F4\u9694\u4E3A\u6307\u5B9A\u95F4\u9694\u3002")])],-1),S8=n("p",null,"\u4F46\u662F\uFF0C\u8FD9\u6837\u4F1A\u5BFC\u81F4\u4E24\u4E2A\u95EE\u9898\uFF1A",-1),C8=n("ul",null,[n("li",null,"\u67D0\u4E9B\u95F4\u9694\u88AB\u8DF3\u8FC7\uFF1B"),n("li",null,"\u591A\u4E2A\u5B9A\u65F6\u5668\u7684\u4EE3\u7801\u6267\u884C\u4E4B\u95F4\u7684\u95F4\u9694\u53EF\u80FD\u6BD4\u9884\u671F\u7684\u5C0F")],-1),D8={id:"_33-\u94FE\u5F0F\u8C03\u7528settimeout\u5BF9\u6BD4setinterval",tabindex:"-1"},F8=n("a",{class:"header-anchor",href:"#_33-\u94FE\u5F0F\u8C03\u7528settimeout\u5BF9\u6BD4setinterval","aria-hidden":"true"},"#",-1),P8=s(),T8={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_33-%E9%93%BE%E5%BC%8F%E8%B0%83%E7%94%A8settimeout%E5%AF%B9%E6%AF%94setinterval",target:"_blank",rel:"noopener noreferrer"},N8=s("#"),M8=s("33 \u94FE\u5F0F\u8C03\u7528setTimeout\u5BF9\u6BD4setInterval"),O8=t(`<p>\u5728\u4E0A\u4E00\u9898\u4E2D\u4E5F\u8BF4\u5230\u4E86<code>setInterval</code>\u672C\u8EAB\u662F\u4F1A\u5B58\u5728\u4E00\u4E9B\u95EE\u9898\u7684\u3002\u800C\u4F7F\u7528\u94FE\u5F0F\u8C03\u7528<code>setTimeout</code>\u8FD9\u79CD\u65B9\u5F0F\u4F1A\u6BD4\u5B83\u597D\u4E00\u4E9B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u662FsetTimeout&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u8FD9\u4E2A\u6A21\u5F0F\u94FE\u5F0F\u8C03\u7528\u4E86<code>setTimeout()</code>\uFF0C\u6BCF\u6B21\u51FD\u6570\u6267\u884C\u7684\u65F6\u5019\u90FD\u4F1A\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u5B9A\u65F6\u5668\u3002\u7B2C\u4E8C\u4E2A<code>setTimeout()</code>\u8C03\u7528\u5F53\u524D\u6267\u884C\u7684\u51FD\u6570\uFF0C\u5E76\u4E3A\u5176\u8BBE\u7F6E\u53E6\u5916\u4E00\u4E2A\u5B9A\u65F6\u5668\u3002\u8FD9\u6837\u505A\u7684\u597D\u5904\u662F\uFF1A</p><ul><li>\u5728\u524D\u4E00\u4E2A\u5B9A\u65F6\u5668\u4EE3\u7801\u6267\u884C\u5B8C\u4E4B\u524D\uFF0C\u4E0D\u4F1A\u5411\u961F\u5217\u63D2\u5165\u65B0\u7684\u5B9A\u65F6\u5668\u4EE3\u7801\uFF0C\u786E\u4FDD\u4E0D\u4F1A\u6709\u4EFB\u4F55\u7F3A\u5931\u7684\u95F4\u9694\u3002</li><li>\u800C\u4E14\uFF0C\u5B83\u53EF\u4EE5\u4FDD\u8BC1\u5728\u4E0B\u4E00\u6B21\u5B9A\u65F6\u5668\u4EE3\u7801\u6267\u884C\u4E4B\u524D\uFF0C\u81F3\u5C11\u8981\u7B49\u5F85\u6307\u5B9A\u7684\u95F4\u9694\uFF0C\u907F\u514D\u4E86\u8FDE\u7EED\u7684\u8FD0\u884C\u3002</li></ul>`,4),I8={id:"_34-\u8BF4\u4E00\u4E0Brequestanimationframe",tabindex:"-1"},R8=n("a",{class:"header-anchor",href:"#_34-\u8BF4\u4E00\u4E0Brequestanimationframe","aria-hidden":"true"},"#",-1),V8=s(),H8={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_34-%E8%AF%B4%E4%B8%80%E4%B8%8Brequestanimationframe",target:"_blank",rel:"noopener noreferrer"},L8=s("#"),U8=s("34 \u8BF4\u4E00\u4E0BrequestAnimationFrame"),J8=t(`<p><strong>\u7B80\u4ECB\uFF1A</strong></p><p>\u663E\u793A\u5668\u90FD\u6709\u81EA\u5DF1\u56FA\u6709\u7684\u5237\u65B0\u9891\u7387(60HZ\u6216\u800575HZ)\uFF0C\u4E5F\u5C31\u662F\u8BF4\u6BCF\u79D2\u6700\u591A\u91CD\u7ED860\u6B21\u6216\u800575\u6B21\u3002\u800C<code>requestAnimationFrame</code>\u7684\u57FA\u672C\u601D\u60F3\u5C31\u662F\u4E0E\u8FD9\u4E2A\u5237\u65B0\u9891\u7387\u4FDD\u6301\u540C\u6B65\uFF0C\u5229\u7528\u8FD9\u4E2A\u5237\u65B0\u9891\u7387\u8FDB\u884C\u91CD\u7ED8\u3002</p><p><strong>\u7279\u70B9\uFF1A</strong></p><ul><li>\u4F7F\u7528\u8FD9\u4E2AAPI\u65F6\uFF0C\u4E00\u65E6\u9875\u9762\u4E0D\u5904\u4E8E\u6D4F\u89C8\u5668\u7684\u5F53\u524D\u6807\u7B7E\uFF0C\u5C31\u4F1A\u81EA\u52A8\u505C\u6B62\u5237\u65B0\uFF0C\u8FD9\u6837\u5C31\u8282\u7701\u4E86CPU\u3001GPU\u3001\u7535\u529B\u3002</li><li>\u7531\u4E8E\u5B83\u65F6\u5728\u4E3B\u7EBF\u7A0B\u4E0A\u5B8C\u6210\u7684\uFF0C\u6240\u4EE5\u82E5\u662F\u4E3B\u7EBF\u7A0B\u975E\u5E38\u5FD9\u65F6\u5B83\u7684\u52A8\u753B\u4E5F\u4F1A\u6536\u5230\u5F71\u54CD</li><li>\u5B83\u4F7F\u7528\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\u4F5C\u4E3A\u53C2\u6570\uFF0C\u8FD9\u4E2A\u56DE\u8C03\u51FD\u6570\u4F1A\u5728\u6D4F\u89C8\u5668\u91CD\u7ED8\u4E4B\u524D\u8C03\u7528\u3002</li></ul><p><strong>\u4F7F\u7528\uFF1A</strong></p><p>\u6B63\u5E38\u4F7F\u7528\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> requestID <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u517C\u5BB9\u7248\u672C\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7ED9 window \u4E0B\u6302\u8F7D\u4E00\u4E2A\u517C\u5BB9\u7248\u672C\u7684 requestAniFrame</span>
window<span class="token punctuation">.</span>requestAniFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span>  window<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">||</span> 
    window<span class="token punctuation">.</span>webkitRequestAnimationFrame <span class="token operator">||</span> 
    window<span class="token punctuation">.</span>mozRequestAnimationFrame    <span class="token operator">||</span> 
    window<span class="token punctuation">.</span>oRequestAnimationFrame      <span class="token operator">||</span> 
    window<span class="token punctuation">.</span>msRequestAnimationFrame     <span class="token operator">||</span> 
    <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">callback</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
      window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,9),W8={id:"_35-requestanimationframe\u5BF9\u6BD4settimeout",tabindex:"-1"},z8=n("a",{class:"header-anchor",href:"#_35-requestanimationframe\u5BF9\u6BD4settimeout","aria-hidden":"true"},"#",-1),G8=s(),$8={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_35-requestanimationframe%E5%AF%B9%E6%AF%94settimeout",target:"_blank",rel:"noopener noreferrer"},X8=s("#"),K8=s("35 requestAnimationFrame\u5BF9\u6BD4setTimeout"),Q8=t("<ul><li>**\u5C4F\u5E55\u5237\u65B0\u9891\u7387\uFF1A**\u5C4F\u5E55\u6BCF\u79D2\u51FA\u73B0\u56FE\u50CF\u7684\u6B21\u6570\u3002\u666E\u901A\u7B14\u8BB0\u672C\u4E3A<code>60Hz</code></li><li>**\u52A8\u753B\u539F\u7406\uFF1A**\u8BA1\u7B97\u673A\u6BCF<code>16.7ms</code>\u5237\u65B0\u4E00\u6B21\uFF0C\u7531\u4E8E\u4EBA\u773C\u7684\u89C6\u89C9\u505C\u7559\uFF0C\u6240\u4EE5\u770B\u8D77\u6765\u662F\u6D41\u7545\u7684\u79FB\u52A8\u3002</li><li>**setTimeout\uFF1A**\u901A\u8FC7\u8BBE\u5B9A\u95F4\u9694\u65F6\u95F4\u6765\u4E0D\u65AD\u6539\u53D8\u56FE\u50CF\u4F4D\u7F6E\uFF0C\u8FBE\u5230\u52A8\u753B\u6548\u679C\u3002\u4F46\u662F\u5BB9\u6613\u51FA\u73B0\u5361\u987F\u6296\u52A8\u7684\u73B0\u8C61\uFF1B\u539F\u56E0\u662F\uFF1A</li></ul><ol><li><code>settimeout</code>\u4EFB\u52A1\u88AB\u653E\u5165\u5F02\u6B65\u961F\u5217\uFF0C\u53EA\u6709\u5F53\u4E3B\u7EBF\u7A0B\u4EFB\u52A1\u6267\u884C\u5B8C\u540E\u624D\u4F1A\u6267\u884C\u961F\u5217\u4E2D\u7684\u4EFB\u52A1\uFF0C\u56E0\u6B64\u5B9E\u9645\u6267\u884C\u65F6\u95F4\u603B\u662F\u6BD4\u8BBE\u5B9A\u65F6\u95F4\u8981\u665A\uFF1B</li><li><code>settimeout</code>\u7684\u56FA\u5B9A\u65F6\u95F4\u95F4\u9694\u4E0D\u4E00\u5B9A\u4E0E\u5C4F\u5E55\u5237\u65B0\u65F6\u95F4\u76F8\u540C\uFF0C\u4F1A\u5F15\u8D77\u4E22\u5E27\u3002</li></ol><blockquote><p>**requestAnimationFrame\uFF1A**\u4F18\u52BF\uFF1A\u7531\u7CFB\u7EDF\u51B3\u5B9A\u56DE\u8C03\u51FD\u6570\u7684\u6267\u884C\u65F6\u673A\u300260Hz\u7684\u5237\u65B0\u9891\u7387\uFF0C\u90A3\u4E48\u6BCF\u6B21\u5237\u65B0\u7684\u95F4\u9694\u4E2D\u4F1A\u6267\u884C\u4E00\u6B21\u56DE\u8C03\u51FD\u6570\uFF0C\u4E0D\u4F1A\u5F15\u8D77\u4E22\u5E27\uFF0C\u4E0D\u4F1A\u5361\u987F\u3002\u4E14\u7531\u4E8E\u4E00\u65E6\u9875\u9762\u4E0D\u5904\u4E8E\u6D4F\u89C8\u5668\u7684\u5F53\u524D\u6807\u7B7E\uFF0C\u5C31\u4F1A\u81EA\u52A8\u505C\u6B62\u5237\u65B0\uFF0C\u8FD9\u6837\u5C31\u8282\u7701\u4E86CPU\u3001GPU\u3001\u7535\u529B\u3002</p></blockquote>",3),Y8={id:"_36-xmlhttprequest",tabindex:"-1"},Z8=n("a",{class:"header-anchor",href:"#_36-xmlhttprequest","aria-hidden":"true"},"#",-1),nE=s(),sE={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_36-xmlhttprequest",target:"_blank",rel:"noopener noreferrer"},aE=s("#"),eE=s("36 XMLHttpRequest"),tE={id:"\u5173\u4E8Ehttp-xmlhttprequest-ajax\u7684\u5173\u7CFB",tabindex:"-1"},pE=n("a",{class:"header-anchor",href:"#\u5173\u4E8Ehttp-xmlhttprequest-ajax\u7684\u5173\u7CFB","aria-hidden":"true"},"#",-1),oE=s(),cE={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E5%85%B3%E4%BA%8Ehttp-xmlhttprequest-ajax%E7%9A%84%E5%85%B3%E7%B3%BB",target:"_blank",rel:"noopener noreferrer"},lE=s("#"),rE=s("\u5173\u4E8Ehttp,XMLHttpRequest,Ajax\u7684\u5173\u7CFB"),iE=t("<ul><li><code>http</code>\u662F\u6D4F\u89C8\u5668\u548Cweb\u670D\u52A1\u5668\u4EA4\u6362\u6570\u636E\u7684\u534F\u8BAE,\u89C4\u8303</li><li><code>XMLHttpRequest</code>\u662F\u4E00\u4E2A<code>JS</code>\u5BF9\u8C61\uFF0C\u662F\u6D4F\u89C8\u5668\u5B9E\u73B0\u7684\u4E00\u7EC4<code>api</code>\u51FD\u6570\uFF0C\u4F7F\u7528\u8FD9\u4E9B\u51FD\u6570\uFF0C\u6D4F\u89C8\u5668\u518D\u901A\u8FC7<code>http</code>\u534F\u8BAE\u8BF7\u6C42\u548C\u53D1\u9001\u6570\u636E\u3002</li><li><code>Ajax</code>\u662F\u4E00\u79CD\u6280\u672F\u65B9\u6848\uFF0C\u4F46\u5E76\u4E0D\u662F\u4E00\u79CD\u65B0\u6280\u672F\uFF0C\u5B83\u6700\u6838\u5FC3\u7684\u5C31\u662F\u4F9D\u8D56\u6D4F\u89C8\u5668\u63D0\u4F9B\u7684<code>XMLHttpRequest</code>\u5BF9\u8C61\u3002\u7528\u4E00\u53E5\u8BDD\u6765\u6982\u62EC\u5C31\u662F<code>\u6211\u4EEC\u4F7F\u7528XMLHttpRequest\u5BF9\u8C61\u6765\u53D1\u9001\u4E00\u4E2AAjax\u8BF7\u6C42</code>\u3002</li></ul>",1),uE={id:"xmlhttprequest\u7684\u53D1\u5C55\u5386\u7A0B\u662F\u600E\u6837\u7684",tabindex:"-1"},kE=n("a",{class:"header-anchor",href:"#xmlhttprequest\u7684\u53D1\u5C55\u5386\u7A0B\u662F\u600E\u6837\u7684","aria-hidden":"true"},"#",-1),dE=s(),bE={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#xmlhttprequest%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},mE=s("#"),hE=s("XMLHttpRequest\u7684\u53D1\u5C55\u5386\u7A0B\u662F\u600E\u6837\u7684\uFF1F"),_E=t("<p>\u5B83\u6700\u5F00\u59CB\u53EA\u662F\u5FAE\u8F6F\u6D4F\u89C8\u5668\u63D0\u4F9B\u7684\u4E00\u4E2A\u63A5\u53E3\uFF0C\u540E\u6765\u5404\u5927\u6D4F\u89C8\u5668\u7EB7\u7EB7\u6548\u4EFF\u4E5F\u63D0\u4F9B\u4E86\u8FD9\u4E2A\u63A5\u53E3\uFF0C\u518D\u540E\u6765W3C\u5BF9\u5B83\u8FDB\u884C\u4E86\u6807\u51C6\u5316\uFF0C\u63D0\u51FA\u4E86<code>XMLHttpRequest</code>\u6807\u51C6\u3002\u6807\u51C6\u53C8\u5206\u4E3A<code>Level 1</code>\u548C<code>Level 2</code>\u3002</p><p><code>Level 2</code>\u76F8\u5BF9\u4E8E<code>Level 1</code>\u505A\u4E86\u5F88\u5927\u7684\u6539\u8FDB\uFF0C\u5177\u4F53\u6765\u8BF4\u662F\uFF1A</p><ul><li>\u53EF\u4EE5\u8BBE\u7F6EHTTP\u8BF7\u6C42\u7684\u8D85\u65F6\u65F6\u95F4\u3002</li><li>\u53EF\u4EE5\u4F7F\u7528FormData\u5BF9\u8C61\u7BA1\u7406\u8868\u5355\u6570\u636E\u3002</li><li>\u53EF\u4EE5\u4E0A\u4F20\u6587\u4EF6\u3002</li><li>\u53EF\u4EE5\u8BF7\u6C42\u4E0D\u540C\u57DF\u540D\u4E0B\u7684\u6570\u636E\uFF08\u8DE8\u57DF\u8BF7\u6C42\uFF09\u3002</li><li>\u53EF\u4EE5\u83B7\u53D6\u670D\u52A1\u5668\u7AEF\u7684\u4E8C\u8FDB\u5236\u6570\u636E\u3002</li><li>\u53EF\u4EE5\u83B7\u5F97\u6570\u636E\u4F20\u8F93\u7684\u8FDB\u5EA6\u4FE1\u606F\u3002</li></ul>",3),gE={id:"\u4F7F\u7528xmlhttprequest\u5C01\u88C5\u4E00\u4E2Aget\u548Cpost\u8BF7\u6C42",tabindex:"-1"},EE=n("a",{class:"header-anchor",href:"#\u4F7F\u7528xmlhttprequest\u5C01\u88C5\u4E00\u4E2Aget\u548Cpost\u8BF7\u6C42","aria-hidden":"true"},"#",-1),fE=s(),vE={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E4%BD%BF%E7%94%A8xmlhttprequest%E5%B0%81%E8%A3%85%E4%B8%80%E4%B8%AAget%E5%92%8Cpost%E8%AF%B7%E6%B1%82",target:"_blank",rel:"noopener noreferrer"},wE=s("#"),yE=s("\u4F7F\u7528XMLHttpRequest\u5C01\u88C5\u4E00\u4E2Aget\u548Cpost\u8BF7\u6C42"),xE=t(`<p><strong>get\u8BF7\u6C42</strong>\uFF1A</p><p>\u6838\u5FC3\u5C31\u56DB\u6B65\uFF1A</p><ol><li><code>var xhr = new XMLHttpRequest()</code></li><li><code>xhr.open(&#39;GET&#39;, &#39;http://www.example.com/api/getname&#39;, true)</code></li><li><code>xhr.onreadystatechange = function () {}</code></li><li><code>xhr.send()</code></li></ol><p>\u8BA9\u6211\u4EEC\u6765\u5C01\u88C5\u4E00\u4E2A\u7B80\u6613\u7248\u7684\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">/*
* xhr\u7684get\u8BF7\u6C42
* @param url: \u8BF7\u6C42\u5730\u5740
* @param params: \u8BF7\u6C42\u53C2\u6570
* @param onSuccess: \u6210\u529F\u56DE\u8C03\u51FD\u6570
* @param onError: \u5931\u8D25\u56DE\u8C03\u51FD\u6570
*/</span>
<span class="token keyword">function</span> <span class="token function">xhrGet</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> onSuccess<span class="token punctuation">,</span> onError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u517C\u5BB9IE6</span>
  <span class="token keyword">var</span> xhr <span class="token operator">=</span> window<span class="token punctuation">.</span>XMLHttpRequest <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&#39;Microsoft.XMLHTTP&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> paramString <span class="token operator">=</span> <span class="token function">formatParams</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// xhr.open\u7684\u7B2C\u4E09\u4E2A\u53C2\u6570isAsync\uFF1A\u662F\u5426\u5F02\u6B65 </span>
  xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>paramString<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log(e);</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">onError</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>response<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u5904\u7406\u53C2\u6570\uFF1A\u5982\u5C06{name: &#39;lindaidai&#39;}\u8F6C\u4E3A&#39;?name=lindaidai&#39;</span>
<span class="token keyword">function</span> <span class="token function">formatParams</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> paramString <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>params<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&amp;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> paramString <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>paramString<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>\uFF08\u5F53\u7136\u4E0A\u9762\u7684\u517C\u5BB9<code>IE6</code>\u4F30\u8BA1\u73B0\u5728\u8003\u7684\u4E0D\u591A\u4E86\uFF0C\u800C\u4E14\u6211\u8FD9\u79CD\u5199\u6CD5\u5176\u5B9E\u4E5F\u6CA1\u5565\u7528\uFF0C\u56E0\u4E3A\u5982\u679C\u771F\u662F\u5728<code>IE6</code>\u4E0B\u7684\u8BDD\uFF0C\u540E\u9762\u7684<code>Object.keys()</code>\u7B49\u65B9\u6CD5\u4E5F\u7528\u4E0D\u4E86\u4E86\uFF09</p><p>\u9700\u8981\u6CE8\u610F\u7684\u662F\u4E24\u79CD\u72B6\u6001\uFF0C\u4E00\u4E2A\u662F<code>readyState</code>\uFF0C\u4E00\u4E2A\u662F<code>status</code>\u3002</p><blockquote><p><code>readyState</code>\u8BF7\u6C42\u72B6\u6001\uFF1A</p></blockquote><ul><li>0\uFF08\u672A\u521D\u59CB\u5316\uFF09\uFF1A\u8FD8\u6CA1\u6709\u8C03\u7528 open() \u65B9\u6CD5\u3002</li><li>1\uFF08\u8F7D\u5165\uFF09\uFF1A\u5DF2\u8C03\u7528 send() \u65B9\u6CD5\uFF0C\u6B63\u5728\u53D1\u9001\u8BF7\u6C42\u3002</li><li>2\uFF08\u8F7D\u5165\u5B8C\u6210\uFF09\uFF1Asend() \u65B9\u6CD5\u5B8C\u6210\uFF0C\u5DF2\u6536\u5230\u5168\u90E8\u54CD\u5E94\u5185\u5BB9\u3002</li><li>3\uFF08\u89E3\u6790\uFF09\uFF1A\u6B63\u5728\u89E3\u6790\u54CD\u5E94\u5185\u5BB9\u3002</li><li>4\uFF08\u5B8C\u6210\uFF09\uFF1A\u54CD\u5E94\u5185\u5BB9\u89E3\u6790\u5B8C\u6210\uFF0C\u53EF\u4EE5\u5728\u5BA2\u6237\u7AEF\u8C03\u7528\u3002</li></ul><blockquote><p><code>status</code>\u7ED3\u679C\u72B6\u6001\u7801\uFF1A</p></blockquote><ul><li>0 \uFF1A\u5982\u679C\u72B6\u6001\u662F UNSENT \u6216 OPENED\uFF1B\u6216\u8005\u5982\u679C\u9519\u8BEF\u6807\u7B7E\u88AB\u8BBE\u7F6E(\u4F8B\u5982\u8DE8\u57DF\u65F6)</li><li>200 \u6210\u529F</li><li>\u5176\u5B83HTTP\u72B6\u6001\u7801</li></ul><p><strong>post\u8BF7\u6C42\uFF1A</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">xhrPost</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params<span class="token punctuation">,</span> onSuccess<span class="token punctuation">,</span> onError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ajax\u7684\u9ED8\u8BA4\u8BF7\u6C42ContentType:text/plain(\u7EAF\u6587\u672C)</span>
  xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application-x-www-form-urlencode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">onError</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div>`,13),AE={id:"_37-javascript-\u5B9E\u73B0\u5BF9\u4E0A\u4F20\u56FE\u7247\u7684\u538B\u7F29",tabindex:"-1"},BE=n("a",{class:"header-anchor",href:"#_37-javascript-\u5B9E\u73B0\u5BF9\u4E0A\u4F20\u56FE\u7247\u7684\u538B\u7F29","aria-hidden":"true"},"#",-1),qE=s(),jE={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#_37-javascript-%E5%AE%9E%E7%8E%B0%E5%AF%B9%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E7%9A%84%E5%8E%8B%E7%BC%A9",target:"_blank",rel:"noopener noreferrer"},SE=s("#"),CE=s("37 JavaScript \u5B9E\u73B0\u5BF9\u4E0A\u4F20\u56FE\u7247\u7684\u538B\u7F29\uFF1F"),DE=t("<blockquote><p>\u7B54\uFF1A\u8BFB\u53D6\u7528\u6237\u4E0A\u4F20\u7684 File \u5BF9\u8C61\uFF0C\u8BFB\u5199\u5230\u753B\u5E03\uFF08canvas\uFF09\u4E0A\uFF0C\u5229\u7528 Canvas \u7684 API \u8FDB\u884C\u538B\u7F29\uFF0C\u5B8C\u6210\u538B\u7F29\u4E4B\u540E\u518D\u8F6C\u6210 <code>File\uFF08Blob\uFF09</code> \u5BF9\u8C61\uFF0C\u4E0A\u4F20\u5230\u8FDC\u7A0B\u56FE\u7247\u670D\u52A1\u5668\uFF1B\u4E0D\u8FC7\u6709\u65F6\u5019\u6211\u4EEC\u4E5F\u9700\u8981\u5C06\u4E00\u4E2A <code>base64</code> \u5B57\u7B26\u4E32\u538B\u7F29\u4E4B\u540E\u518D\u53D8\u4E3A <code>base64</code> \u5B57\u7B26\u4E32\u4F20\u5165\u5230\u8FDC\u7A0B\u6570\u636E\u5E93\u6216\u8005\u518D\u8F6C\u6210 <code>File\uFF08Blob\uFF09</code> \u5BF9\u8C61\u3002</p></blockquote><p>\u601D\u8DEF\u5C31\u662F <code>File + Canvas</code> \u7684 <code>drawImage</code></p>",2),FE={id:"\u53C2\u8003",tabindex:"-1"},PE=n("a",{class:"header-anchor",href:"#\u53C2\u8003","aria-hidden":"true"},"#",-1),TE=s(),NE={href:"http://interview.poetries.top/excellent-docs/3-JS%E6%A8%A1%E5%9D%97.html#%E5%8F%82%E8%80%83",target:"_blank",rel:"noopener noreferrer"},ME=s("#"),OE=s("\u53C2\u8003"),IE={href:"https://juejin.cn/post/6844903974378668039",target:"_blank",rel:"noopener noreferrer"},RE=s("JS\u7075\u9B42\u4E4B\u95EE"),VE=t('<h1 id="_4-es6\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#_4-es6\u6A21\u5757" aria-hidden="true">#</a> 4 ES6\u6A21\u5757</h1><h2 id="_1-es5\u3001es6\u548Ces2015\u6709\u4EC0\u4E48\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#_1-es5\u3001es6\u548Ces2015\u6709\u4EC0\u4E48\u533A\u522B" aria-hidden="true">#</a> 1 ES5\u3001ES6\u548CES2015\u6709\u4EC0\u4E48\u533A\u522B?</h2><blockquote><p><code>ES2015</code>\u7279\u6307\u5728<code>2015</code>\u5E74\u53D1\u5E03\u7684\u65B0\u4E00\u4EE3<code>JS</code>\u8BED\u8A00\u6807\u51C6\uFF0C<code>ES6</code>\u6CDB\u6307\u4E0B\u4E00\u4EE3JS\u8BED\u8A00\u6807\u51C6\uFF0C\u5305\u542B<code>ES2015</code>\u3001<code>ES2016</code>\u3001<code>ES2017</code>\u3001<code>ES2018</code>\u7B49\u3002\u73B0\u9636\u6BB5\u5728\u7EDD\u5927\u90E8\u5206\u573A\u666F\u4E0B\uFF0C<code>ES2015</code>\u9ED8\u8BA4\u7B49\u540C<code>ES6</code>\u3002<code>ES5</code>\u6CDB\u6307\u4E0A\u4E00\u4EE3\u8BED\u8A00\u6807\u51C6\u3002<code>ES2015</code>\u53EF\u4EE5\u7406\u89E3\u4E3A<code>ES5</code>\u548C<code>ES6</code>\u7684\u65F6\u95F4\u5206\u754C\u7EBF</p></blockquote>',3),HE={id:"_2-babel\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528",tabindex:"-1"},LE=n("a",{class:"header-anchor",href:"#_2-babel\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528","aria-hidden":"true"},"#",-1),UE=s(),JE={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_2-babel%E6%98%AF%E4%BB%80%E4%B9%88-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},WE=s("#"),zE=s("2 babel\u662F\u4EC0\u4E48\uFF0C\u6709\u4EC0\u4E48\u4F5C\u7528?"),GE=n("blockquote",null,[n("p",null,[n("code",null,"babel"),s("\u662F\u4E00\u4E2A "),n("code",null,"ES6"),s(" \u8F6C\u7801\u5668\uFF0C\u53EF\u4EE5\u5C06 "),n("code",null,"ES6"),s(" \u4EE3\u7801\u8F6C\u4E3A "),n("code",null,"ES5"),s(" \u4EE3\u7801\uFF0C\u4EE5\u4FBF\u517C\u5BB9\u90A3\u4E9B\u8FD8\u6CA1\u652F\u6301"),n("code",null,"ES6"),s("\u7684\u5E73\u53F0")])],-1),$E={id:"_3-let\u6709\u4EC0\u4E48\u7528-\u6709\u4E86var\u4E3A\u4EC0\u4E48\u8FD8\u8981\u7528let",tabindex:"-1"},XE=n("a",{class:"header-anchor",href:"#_3-let\u6709\u4EC0\u4E48\u7528-\u6709\u4E86var\u4E3A\u4EC0\u4E48\u8FD8\u8981\u7528let","aria-hidden":"true"},"#",-1),KE=s(),QE={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_3-let%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8-%E6%9C%89%E4%BA%86var%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E8%A6%81%E7%94%A8let",target:"_blank",rel:"noopener noreferrer"},YE=s("#"),ZE=s("3 let\u6709\u4EC0\u4E48\u7528\uFF0C\u6709\u4E86var\u4E3A\u4EC0\u4E48\u8FD8\u8981\u7528let\uFF1F"),n9=t("<blockquote><p>\u5728<code>ES6</code>\u4E4B\u524D\uFF0C\u58F0\u660E\u53D8\u91CF\u53EA\u80FD\u7528<code>var</code>\uFF0C<code>var</code>\u65B9\u5F0F\u58F0\u660E\u53D8\u91CF\u5176\u5B9E\u662F\u5F88\u4E0D\u5408\u7406\u7684\uFF0C\u51C6\u786E\u7684\u8BF4\uFF0C\u662F\u56E0\u4E3A<code>ES5</code>\u91CC\u9762\u6CA1\u6709\u5757\u7EA7\u4F5C\u7528\u57DF\u662F\u5F88\u4E0D\u5408\u7406\u7684\u3002\u6CA1\u6709\u5757\u7EA7\u4F5C\u7528\u57DF\u56DE\u6765\u5E26\u5F88\u591A\u96BE\u4EE5\u7406\u89E3\u7684\u95EE\u9898\uFF0C\u6BD4\u5982<code>for</code>\u5FAA\u73AF<code>var</code>\u53D8\u91CF\u6CC4\u9732\uFF0C\u53D8\u91CF\u8986\u76D6\u7B49\u95EE\u9898\u3002<code>let</code>\u58F0\u660E\u7684\u53D8\u91CF\u62E5\u6709\u81EA\u5DF1\u7684\u5757\u7EA7\u4F5C\u7528\u57DF\uFF0C\u4E14\u4FEE\u590D\u4E86<code>var</code>\u58F0\u660E\u53D8\u91CF\u5E26\u6765\u7684\u53D8\u91CF\u63D0\u5347\u95EE\u9898\u3002</p></blockquote>",1),s9={id:"_4-\u4E3E\u4E00\u4E9Bes6\u5BF9string\u5B57\u7B26\u4E32\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316",tabindex:"-1"},a9=n("a",{class:"header-anchor",href:"#_4-\u4E3E\u4E00\u4E9Bes6\u5BF9string\u5B57\u7B26\u4E32\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316","aria-hidden":"true"},"#",-1),e9=s(),t9={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_4-%E4%B8%BE%E4%B8%80%E4%BA%9Bes6%E5%AF%B9string%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E5%81%9A%E7%9A%84%E5%B8%B8%E7%94%A8%E5%8D%87%E7%BA%A7%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},p9=s("#"),o9=s("4 \u4E3E\u4E00\u4E9BES6\u5BF9String\u5B57\u7B26\u4E32\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316?"),c9=t("<p><strong>\u4F18\u5316\u90E8\u5206</strong></p><blockquote><p><code>ES6</code>\u65B0\u589E\u4E86\u5B57\u7B26\u4E32\u6A21\u677F\uFF0C\u5728\u62FC\u63A5\u5927\u6BB5\u5B57\u7B26\u4E32\u65F6\uFF0C\u7528\u53CD\u659C\u6760<code>(</code>)`\u53D6\u4EE3\u4EE5\u5F80\u7684\u5B57\u7B26\u4E32\u76F8\u52A0\u7684\u5F62\u5F0F\uFF0C\u80FD\u4FDD\u7559\u6240\u6709\u7A7A\u683C\u548C\u6362\u884C\uFF0C\u4F7F\u5F97\u5B57\u7B26\u4E32\u62FC\u63A5\u770B\u8D77\u6765\u66F4\u52A0\u76F4\u89C2\uFF0C\u66F4\u52A0\u4F18\u96C5</p></blockquote><p><strong>\u5347\u7EA7\u90E8\u5206</strong></p><blockquote><p><code>ES6</code>\u5728<code>String</code>\u539F\u578B\u4E0A\u65B0\u589E\u4E86<code>includes()</code>\u65B9\u6CD5\uFF0C\u7528\u4E8E\u53D6\u4EE3\u4F20\u7EDF\u7684\u53EA\u80FD\u7528<code>indexOf</code>\u67E5\u627E\u5305\u542B\u5B57\u7B26\u7684\u65B9\u6CD5(<code>indexOf</code>\u8FD4\u56DE<code>-1</code>\u8868\u793A\u6CA1\u67E5\u5230\u4E0D\u5982<code>includes</code>\u65B9\u6CD5\u8FD4\u56DE<code>false</code>\u66F4\u660E\u786E\uFF0C\u8BED\u4E49\u66F4\u6E05\u6670), \u6B64\u5916\u8FD8\u65B0\u589E\u4E86<code>startsWith()</code>, <code>endsWith(),</code> <code>padStart()</code>,<code>padEnd()</code>,<code>repeat()</code>\u7B49\u65B9\u6CD5\uFF0C\u53EF\u65B9\u4FBF\u7684\u7528\u4E8E\u67E5\u627E\uFF0C\u8865\u5168\u5B57\u7B26\u4E32</p></blockquote>",4),l9={id:"_5-\u4E3E\u4E00\u4E9Bes6\u5BF9array\u6570\u7EC4\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316",tabindex:"-1"},r9=n("a",{class:"header-anchor",href:"#_5-\u4E3E\u4E00\u4E9Bes6\u5BF9array\u6570\u7EC4\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316","aria-hidden":"true"},"#",-1),i9=s(),u9={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_5-%E4%B8%BE%E4%B8%80%E4%BA%9Bes6%E5%AF%B9array%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B%E5%81%9A%E7%9A%84%E5%B8%B8%E7%94%A8%E5%8D%87%E7%BA%A7%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},k9=s("#"),d9=s("5 \u4E3E\u4E00\u4E9BES6\u5BF9Array\u6570\u7EC4\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316"),b9=t("<p><strong>\u4F18\u5316\u90E8\u5206</strong></p><ul><li>\u6570\u7EC4\u89E3\u6784\u8D4B\u503C\u3002<code>ES6</code>\u53EF\u4EE5\u76F4\u63A5\u4EE5<code>let [a,b,c] = [1,2,3]</code>\u5F62\u5F0F\u8FDB\u884C\u53D8\u91CF\u8D4B\u503C\uFF0C\u5728\u58F0\u660E\u8F83\u591A\u53D8\u91CF\u65F6\uFF0C\u4E0D\u7528\u518D\u5199\u5F88\u591A<code>let(var),</code>\u4E14\u6620\u5C04\u5173\u7CFB\u6E05\u6670\uFF0C\u4E14\u652F\u6301\u8D4B\u9ED8\u8BA4\u503C</li><li>\u6269\u5C55\u8FD0\u7B97\u7B26\u3002<code>ES6</code>\u65B0\u589E\u7684\u6269\u5C55\u8FD0\u7B97\u7B26(<code>...</code>)(\u91CD\u8981),\u53EF\u4EE5\u8F7B\u677E\u7684\u5B9E\u73B0\u6570\u7EC4\u548C\u677E\u6563\u5E8F\u5217\u7684\u76F8\u4E92\u8F6C\u5316\uFF0C\u53EF\u4EE5\u53D6\u4EE3<code>arguments</code>\u5BF9\u8C61\u548C<code>apply</code>\u65B9\u6CD5\uFF0C\u8F7B\u677E\u83B7\u53D6\u672A\u77E5\u53C2\u6570\u4E2A\u6570\u60C5\u51B5\u4E0B\u7684\u53C2\u6570\u96C6\u5408\u3002\uFF08\u5C24\u5176\u662F\u5728<code>ES5</code>\u4E2D\uFF0C<code>arguments</code>\u5E76\u4E0D\u662F\u4E00\u4E2A\u771F\u6B63\u7684\u6570\u7EC4\uFF0C\u800C\u662F\u4E00\u4E2A\u7C7B\u6570\u7EC4\u7684\u5BF9\u8C61\uFF0C\u4F46\u662F\u6269\u5C55\u8FD0\u7B97\u7B26\u7684\u9006\u8FD0\u7B97\u5374\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u771F\u6B63\u7684\u6570\u7EC4\uFF09\u3002\u6269\u5C55\u8FD0\u7B97\u7B26\u8FD8\u53EF\u4EE5\u8F7B\u677E\u65B9\u4FBF\u7684\u5B9E\u73B0\u6570\u7EC4\u7684\u590D\u5236\u548C\u89E3\u6784\u8D4B\u503C\uFF08<code>let a = [2,3,4]</code>; <code>let b = [...a]</code>\uFF09</li></ul><p><strong>\u5347\u7EA7\u90E8\u5206</strong></p><blockquote><p><code>ES6</code>\u5728<code>Array</code>\u539F\u578B\u4E0A\u65B0\u589E\u4E86<code>find()</code>\u65B9\u6CD5\uFF0C\u7528\u4E8E\u53D6\u4EE3\u4F20\u7EDF\u7684\u53EA\u80FD\u7528<code>indexOf</code>\u67E5\u627E\u5305\u542B\u6570\u7EC4\u9879\u76EE\u7684\u65B9\u6CD5,\u4E14\u4FEE\u590D\u4E86<code>indexOf</code>\u67E5\u627E\u4E0D\u5230<code>NaN\u7684bug([NaN].indexOf(NaN) === -1)</code>.\u6B64\u5916\u8FD8\u65B0\u589E\u4E86<code>copyWithin()</code>,<code>includes()</code>, <code>fill()</code>,<code>flat()</code>\u7B49\u65B9\u6CD5\uFF0C\u53EF\u65B9\u4FBF\u7684\u7528\u4E8E\u5B57\u7B26\u4E32\u7684\u67E5\u627E\uFF0C\u8865\u5168,\u8F6C\u6362\u7B49</p></blockquote>",4),m9={id:"_6-\u4E3E\u4E00\u4E9Bes6\u5BF9number\u6570\u5B57\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316",tabindex:"-1"},h9=n("a",{class:"header-anchor",href:"#_6-\u4E3E\u4E00\u4E9Bes6\u5BF9number\u6570\u5B57\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316","aria-hidden":"true"},"#",-1),_9=s(),g9={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_6-%E4%B8%BE%E4%B8%80%E4%BA%9Bes6%E5%AF%B9number%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B%E5%81%9A%E7%9A%84%E5%B8%B8%E7%94%A8%E5%8D%87%E7%BA%A7%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},E9=s("#"),f9=s("6 \u4E3E\u4E00\u4E9BES6\u5BF9Number\u6570\u5B57\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316"),v9=t("<p><strong>\u4F18\u5316\u90E8\u5206</strong></p><blockquote><p>ES6\u5728<code>Number</code>\u539F\u578B\u4E0A\u65B0\u589E\u4E86<code>isFinite()</code>, <code>isNaN()</code>\u65B9\u6CD5\uFF0C\u7528\u6765\u53D6\u4EE3\u4F20\u7EDF\u7684\u5168\u5C40<code>isFinite(),</code> <code>isNaN()</code>\u65B9\u6CD5\u68C0\u6D4B\u6570\u503C\u662F\u5426\u6709\u9650\u3001\u662F\u5426\u662F<code>NaN</code>\u3002<code>ES5</code>\u7684<code>isFinite()</code>, <code>isNaN()</code>\u65B9\u6CD5\u90FD\u4F1A\u5148\u5C06\u975E\u6570\u503C\u7C7B\u578B\u7684\u53C2\u6570\u8F6C\u5316\u4E3A<code>Number</code>\u7C7B\u578B\u518D\u505A\u5224\u65AD\uFF0C\u8FD9\u5176\u5B9E\u662F\u4E0D\u5408\u7406\u7684\uFF0C\u6700\u9020\u6210i<code>sNaN(&#39;NaN&#39;) === true</code>\u7684\u5947\u602A\u884C\u4E3A<code>--&#39;NaN&#39;</code>\u662F\u4E00\u4E2A\u5B57\u7B26\u4E32\uFF0C\u4F46\u662F<code>isNaN</code>\u5374\u8BF4\u8FD9\u5C31\u662F<code>NaN</code>\u3002\u800C<code>Number.isFinite()</code>\u548C<code>Number.isNaN()</code>\u5219\u4E0D\u4F1A\u6709\u6B64\u7C7B\u95EE\u9898(<code>Number.isNaN(&#39;NaN&#39;) === false</code>)\u3002\uFF08<code>isFinite()</code>\u540C\u4E0A\uFF09</p></blockquote><p><strong>\u5347\u7EA7\u90E8\u5206</strong></p><blockquote><p><code>ES6</code>\u5728<code>Math</code>\u5BF9\u8C61\u4E0A\u65B0\u589E\u4E86<code>Math.cbrt()</code>\uFF0C<code>trunc()</code>\uFF0C<code>hypot()</code>\u7B49\u7B49\u8F83\u591A\u7684\u79D1\u5B66\u8BA1\u6570\u6CD5\u8FD0\u7B97\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u66F4\u52A0\u5168\u9762\u7684\u8FDB\u884C\u7ACB\u65B9\u6839\u3001\u6C42\u548C\u7ACB\u65B9\u6839\u7B49\u7B49\u79D1\u5B66\u8BA1\u7B97</p></blockquote>",4),w9={id:"_7-\u4E3E\u4E00\u4E9Bes6\u5BF9object\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316",tabindex:"-1"},y9=n("a",{class:"header-anchor",href:"#_7-\u4E3E\u4E00\u4E9Bes6\u5BF9object\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316","aria-hidden":"true"},"#",-1),x9=s(),A9={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_7-%E4%B8%BE%E4%B8%80%E4%BA%9Bes6%E5%AF%B9object%E7%B1%BB%E5%9E%8B%E5%81%9A%E7%9A%84%E5%B8%B8%E7%94%A8%E5%8D%87%E7%BA%A7%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},B9=s("#"),q9=s("7 \u4E3E\u4E00\u4E9BES6\u5BF9Object\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316"),j9=t(`<p><strong>\u4F18\u5316\u90E8\u5206</strong></p><blockquote><p>\u5BF9\u8C61\u5C5E\u6027\u53D8\u91CF\u5F0F\u58F0\u660E\u3002<code>ES6</code>\u53EF\u4EE5\u76F4\u63A5\u4EE5\u53D8\u91CF\u5F62\u5F0F\u58F0\u660E\u5BF9\u8C61\u5C5E\u6027\u6216\u8005\u65B9\u6CD5\uFF0C\u3002\u6BD4\u4F20\u7EDF\u7684\u952E\u503C\u5BF9\u5F62\u5F0F\u58F0\u660E\u66F4\u52A0\u7B80\u6D01\uFF0C\u66F4\u52A0\u65B9\u4FBF\uFF0C\u8BED\u4E49\u66F4\u52A0\u6E05\u6670</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>apple<span class="token punctuation">,</span> orange<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;red appe&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;yellow orange&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> myFruits <span class="token operator">=</span> <span class="token punctuation">{</span>apple<span class="token punctuation">,</span> orange<span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token comment">// let myFruits = {apple: &#39;red appe&#39;, orange: &#39;yellow orange&#39;};</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>\u5C24\u5176\u5728\u5BF9\u8C61\u89E3\u6784\u8D4B\u503C(\u89C1\u4F18\u5316\u90E8\u5206b.)\u6216\u8005\u6A21\u5757\u8F93\u51FA\u53D8\u91CF\u65F6\uFF0C\u8FD9\u79CD\u5199\u6CD5\u7684\u597D\u5904\u4F53\u73B0\u7684\u6700\u4E3A\u660E\u663E</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>keys<span class="token punctuation">,</span> values<span class="token punctuation">,</span> entries<span class="token punctuation">}</span> <span class="token operator">=</span> Object<span class="token punctuation">;</span>
<span class="token keyword">let</span> MyOwnMethods <span class="token operator">=</span> <span class="token punctuation">{</span>keys<span class="token punctuation">,</span> values<span class="token punctuation">,</span> entries<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// let MyOwnMethods = {keys: keys, values: values, entries: entries}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u53EF\u4EE5\u770B\u5230\u5C5E\u6027\u53D8\u91CF\u5F0F\u58F0\u660E\u5C5E\u6027\u770B\u8D77\u6765\u66F4\u52A0\u7B80\u6D01\u660E\u4E86\u3002\u65B9\u6CD5\u4E5F\u53EF\u4EE5\u91C7\u7528\u7B80\u6D01\u5199\u6CD5</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> es5Fun <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">method</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> es6Fun <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>\u5BF9\u8C61\u7684\u89E3\u6784\u8D4B\u503C\u3002 <code>ES6</code>\u5BF9\u8C61\u4E5F\u53EF\u4EE5\u50CF\u6570\u7EC4\u89E3\u6784\u8D4B\u503C\u90A3\u6837\uFF0C\u8FDB\u884C\u53D8\u91CF\u7684\u89E3\u6784\u8D4B\u503C</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>apple<span class="token punctuation">,</span> orange<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">apple</span><span class="token operator">:</span> <span class="token string">&#39;red appe&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">orange</span><span class="token operator">:</span> <span class="token string">&#39;yellow orange&#39;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u5BF9\u8C61\u7684\u6269\u5C55\u8FD0\u7B97\u7B26(<code>...</code>)\u3002 ES6\u5BF9\u8C61\u7684\u6269\u5C55\u8FD0\u7B97\u7B26\u548C\u6570\u7EC4\u6269\u5C55\u8FD0\u7B97\u7B26\u7528\u6CD5\u672C\u8D28\u4E0A\u5DEE\u522B\u4E0D\u5927\uFF0C\u6BD5\u7ADF\u6570\u7EC4\u4E5F\u5C31\u662F\u7279\u6B8A\u7684\u5BF9\u8C61\u3002\u5BF9\u8C61\u7684\u6269\u5C55\u8FD0\u7B97\u7B26\u4E00\u4E2A\u6700\u5E38\u7528\u4E5F\u6700\u597D\u7528\u7684\u7528\u5904\u5C31\u5728\u4E8E\u53EF\u4EE5\u8F7B\u677E\u7684\u53D6\u51FA\u4E00\u4E2A\u76EE\u6807\u5BF9\u8C61\u5185\u90E8\u5168\u90E8\u6216\u8005\u90E8\u5206\u7684\u53EF\u904D\u5386\u5C5E\u6027\uFF0C\u4ECE\u800C\u8FDB\u884C\u5BF9\u8C61\u7684\u5408\u5E76\u548C\u5206\u89E3</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>apple<span class="token punctuation">,</span> orange<span class="token punctuation">,</span> <span class="token operator">...</span>otherFruits<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">apple</span><span class="token operator">:</span> <span class="token string">&#39;red apple&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">orange</span><span class="token operator">:</span> <span class="token string">&#39;yellow orange&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">grape</span><span class="token operator">:</span> <span class="token string">&#39;purple grape&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">peach</span><span class="token operator">:</span> <span class="token string">&#39;sweet peach&#39;</span><span class="token punctuation">}</span><span class="token punctuation">;</span> 
<span class="token comment">// otherFruits  {grape: &#39;purple grape&#39;, peach: &#39;sweet peach&#39;}</span>
<span class="token comment">// \u6CE8\u610F: \u5BF9\u8C61\u7684\u6269\u5C55\u8FD0\u7B97\u7B26\u7528\u5728\u89E3\u6784\u8D4B\u503C\u65F6\uFF0C\u6269\u5C55\u8FD0\u7B97\u7B26\u53EA\u80FD\u7528\u5728\u6700\u6709\u4E00\u4E2A\u53C2\u6570(otherFruits\u540E\u9762\u4E0D\u80FD\u518D\u8DDF\u5176\u4ED6\u53C2\u6570)</span>
<span class="token keyword">let</span> moreFruits <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">watermelon</span><span class="token operator">:</span> <span class="token string">&#39;nice watermelon&#39;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> allFruits <span class="token operator">=</span> <span class="token punctuation">{</span>apple<span class="token punctuation">,</span> orange<span class="token punctuation">,</span> <span class="token operator">...</span>otherFruits<span class="token punctuation">,</span> <span class="token operator">...</span>moreFruits<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p><code>super</code> \u5173\u952E\u5B57\u3002<code>ES6</code>\u5728<code>Class</code>\u7C7B\u91CC\u65B0\u589E\u4E86\u7C7B\u4F3C<code>this</code>\u7684\u5173\u952E\u5B57<code>super</code>\u3002\u540C<code>this</code>\u603B\u662F\u6307\u5411\u5F53\u524D\u51FD\u6570\u6240\u5728\u7684\u5BF9\u8C61\u4E0D\u540C\uFF0C<code>super</code>\u5173\u952E\u5B57\u603B\u662F\u6307\u5411\u5F53\u524D\u51FD\u6570\u6240\u5728\u5BF9\u8C61\u7684\u539F\u578B\u5BF9\u8C61</p></blockquote><p><strong>\u5347\u7EA7\u90E8\u5206</strong></p><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ES6\`\u5728\`Object\`\u539F\u578B\u4E0A\u65B0\u589E\u4E86\`is()\`\u65B9\u6CD5\uFF0C\u505A\u4E24\u4E2A\u76EE\u6807\u5BF9\u8C61\u7684\u76F8\u7B49\u6BD4\u8F83\uFF0C\u7528\u6765\u5B8C\u5584\`&#39;===&#39;\`\u65B9\u6CD5\u3002\`&#39;===&#39;\`\u65B9\u6CD5\u4E2D\`NaN === NaN //false\`\u5176\u5B9E\u662F\u4E0D\u5408\u7406\u7684\uFF0C\`Object.is\`\u4FEE\u590D\u4E86\u8FD9\u4E2A\u5C0F\`bug\`\u3002\`(Object.is(NaN, NaN) // true)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><blockquote><p><code>ES6</code>\u5728<code>Object</code>\u539F\u578B\u4E0A\u65B0\u589E\u4E86<code>assign()</code>\u65B9\u6CD5\uFF0C\u7528\u4E8E\u5BF9\u8C61\u65B0\u589E\u5C5E\u6027\u6216\u8005\u591A\u4E2A\u5BF9\u8C61\u5408\u5E76</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> source1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> source2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source1<span class="token punctuation">,</span> source2<span class="token punctuation">)</span><span class="token punctuation">;</span>
target <span class="token comment">// {a:1, b:2, c:3}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p><strong>\u6CE8\u610F</strong>: <code>assign</code>\u5408\u5E76\u7684\u5BF9\u8C61<code>target</code>\u53EA\u80FD\u5408\u5E76<code>source1</code>\u3001s<code>ource2</code>\u4E2D\u7684\u81EA\u8EAB\u5C5E\u6027\uFF0C\u5E76\u4E0D\u4F1A\u5408\u5E76<code>source1</code>\u3001<code>source2</code>\u4E2D\u7684\u7EE7\u627F\u5C5E\u6027\uFF0C\u4E5F\u4E0D\u4F1A\u5408\u5E76\u4E0D\u53EF\u679A\u4E3E\u7684\u5C5E\u6027\uFF0C\u4E14\u65E0\u6CD5\u6B63\u786E\u590D\u5236get\u548Cset\u5C5E\u6027\uFF08\u4F1A\u76F4\u63A5\u6267\u884C<code>get/set</code>\u51FD\u6570\uFF0C\u53D6<code>return</code>\u7684\u503C\uFF09</p></blockquote><ul><li><code>ES6</code>\u5728<code>Object</code>\u539F\u578B\u4E0A\u65B0\u589E\u4E86<code>getOwnPropertyDescriptors()</code>\u65B9\u6CD5\uFF0C\u6B64\u65B9\u6CD5\u589E\u5F3A\u4E86<code>ES5</code>\u4E2D<code>getOwnPropertyDescriptor()</code>\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u83B7\u53D6\u6307\u5B9A\u5BF9\u8C61\u6240\u6709\u81EA\u8EAB\u5C5E\u6027\u7684\u63CF\u8FF0\u5BF9\u8C61\u3002\u7ED3\u5408<code>defineProperties()</code>\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u5B8C\u7F8E\u590D\u5236\u5BF9\u8C61\uFF0C\u5305\u62EC\u590D\u5236<code>get</code>\u548C<code>set</code>\u5C5E\u6027</li><li><code>ES6</code>\u5728<code>Object</code>\u539F\u578B\u4E0A\u65B0\u589E\u4E86<code>getPrototypeOf()</code>\u548C<code>setPrototypeOf()</code>\u65B9\u6CD5\uFF0C\u7528\u6765\u83B7\u53D6\u6216\u8BBE\u7F6E\u5F53\u524D\u5BF9\u8C61\u7684<code>prototype</code>\u5BF9\u8C61\u3002\u8FD9\u4E2A\u65B9\u6CD5\u5B58\u5728\u7684\u610F\u4E49\u5728\u4E8E\uFF0C<code>ES5</code>\u4E2D\u83B7\u53D6\u8BBE\u7F6E<code>prototype</code>\u5BF9\u50CF\u662F\u901A\u8FC7<code>__proto__</code>\u5C5E\u6027\u6765\u5B9E\u73B0\u7684\uFF0C\u7136\u800C<code>__proto__</code>\u5C5E\u6027\u5E76\u4E0D\u662FES\u89C4\u8303\u4E2D\u7684\u660E\u6587\u89C4\u5B9A\u7684\u5C5E\u6027\uFF0C\u53EA\u662F\u6D4F\u89C8\u5668\u5404\u5927\u4EA7\u5546\u201C\u79C1\u81EA\u201D\u52A0\u4E0A\u53BB\u7684\u5C5E\u6027\uFF0C\u53EA\u4E0D\u8FC7\u56E0\u4E3A\u9002\u7528\u8303\u56F4\u5E7F\u800C\u88AB\u9ED8\u8BA4\u4F7F\u7528\u4E86\uFF0C\u518D\u975E\u6D4F\u89C8\u5668\u73AF\u5883\u4E2D\u5E76\u4E0D\u4E00\u5B9A\u5C31\u53EF\u4EE5\u4F7F\u7528\uFF0C\u6240\u4EE5\u4E3A\u4E86\u7A33\u59A5\u8D77\u89C1\uFF0C\u83B7\u53D6\u6216\u8BBE\u7F6E\u5F53\u524D\u5BF9\u8C61\u7684<code>prototype</code>\u5BF9\u8C61\u65F6\uFF0C\u90FD\u5E94\u8BE5\u91C7\u7528ES6\u65B0\u589E\u7684\u6807\u51C6\u7528\u6CD5</li><li><code>ES6</code>\u5728<code>Object</code>\u539F\u578B\u4E0A\u8FD8\u65B0\u589E\u4E86<code>Object.keys()</code>\uFF0C<code>Object.values()</code>\uFF0C<code>Object.entries()</code>\u65B9\u6CD5\uFF0C\u7528\u6765\u83B7\u53D6\u5BF9\u8C61\u7684\u6240\u6709\u952E\u3001\u6240\u6709\u503C\u548C\u6240\u6709\u952E\u503C\u5BF9\u6570\u7EC4</li></ul>`,18),S9={id:"_8-\u4E3E\u4E00\u4E9Bes6\u5BF9function\u51FD\u6570\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316",tabindex:"-1"},C9=n("a",{class:"header-anchor",href:"#_8-\u4E3E\u4E00\u4E9Bes6\u5BF9function\u51FD\u6570\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316","aria-hidden":"true"},"#",-1),D9=s(),F9={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_8-%E4%B8%BE%E4%B8%80%E4%BA%9Bes6%E5%AF%B9function%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B%E5%81%9A%E7%9A%84%E5%B8%B8%E7%94%A8%E5%8D%87%E7%BA%A7%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},P9=s("#"),T9=s("8 \u4E3E\u4E00\u4E9BES6\u5BF9Function\u51FD\u6570\u7C7B\u578B\u505A\u7684\u5E38\u7528\u5347\u7EA7\u4F18\u5316?"),N9=t(`<p><strong>\u4F18\u5316\u90E8\u5206</strong></p><blockquote><p>\u7BAD\u5934\u51FD\u6570(\u6838\u5FC3)\u3002\u7BAD\u5934\u51FD\u6570\u662FES6\u6838\u5FC3\u7684\u5347\u7EA7\u9879\u4E4B\u4E00\uFF0C\u7BAD\u5934\u51FD\u6570\u91CC\u6CA1\u6709\u81EA\u5DF1\u7684this,\u8FD9\u6539\u53D8\u4E86\u4EE5\u5F80JS\u51FD\u6570\u4E2D\u6700\u8BA9\u4EBA\u96BE\u4EE5\u7406\u89E3\u7684this\u8FD0\u884C\u673A\u5236\u3002\u4E3B\u8981\u4F18\u5316\u70B9</p></blockquote><ul><li>\u7BAD\u5934\u51FD\u6570\u5185\u7684this\u6307\u5411\u7684\u662F\u51FD\u6570\u5B9A\u4E49\u65F6\u6240\u5728\u7684\u5BF9\u8C61\uFF0C\u800C\u4E0D\u662F\u51FD\u6570\u6267\u884C\u65F6\u6240\u5728\u7684\u5BF9\u8C61\u3002ES5\u51FD\u6570\u91CC\u7684this\u603B\u662F\u6307\u5411\u51FD\u6570\u6267\u884C\u65F6\u6240\u5728\u7684\u5BF9\u8C61\uFF0C\u8FD9\u4F7F\u5F97\u5728\u5F88\u591A\u60C5\u51B5\u4E0B<code>this</code>\u7684\u6307\u5411\u53D8\u5F97\u5F88\u96BE\u7406\u89E3\uFF0C\u5C24\u5176\u662F\u975E\u4E25\u683C\u6A21\u5F0F\u60C5\u51B5\u4E0B\uFF0C<code>this</code>\u6709\u65F6\u5019\u4F1A\u6307\u5411\u5168\u5C40\u5BF9\u8C61\uFF0C\u8FD9\u751A\u81F3\u4E5F\u53EF\u4EE5\u5F52\u7ED3\u4E3A\u8BED\u8A00\u5C42\u9762\u7684bug\u4E4B\u4E00\u3002ES6\u7684\u7BAD\u5934\u51FD\u6570\u4F18\u5316\u4E86\u8FD9\u4E00\u70B9\uFF0C\u5B83\u7684\u5185\u90E8\u6CA1\u6709\u81EA\u5DF1\u7684<code>this</code>,\u8FD9\u4E5F\u5C31\u5BFC\u81F4\u4E86<code>this</code>\u603B\u662F\u6307\u5411\u4E0A\u4E00\u5C42\u7684<code>this</code>\uFF0C\u5982\u679C\u4E0A\u4E00\u5C42\u8FD8\u662F\u7BAD\u5934\u51FD\u6570\uFF0C\u5219\u7EE7\u7EED\u5411\u4E0A\u6307\uFF0C\u76F4\u5230\u6307\u5411\u5230\u6709\u81EA\u5DF1<code>this</code>\u7684\u51FD\u6570\u4E3A\u6B62\uFF0C\u5E76\u4F5C\u4E3A\u81EA\u5DF1\u7684<code>this</code></li><li>\u7BAD\u5934\u51FD\u6570\u4E0D\u80FD\u7528\u4F5C\u6784\u9020\u51FD\u6570\uFF0C\u56E0\u4E3A\u5B83\u6CA1\u6709\u81EA\u5DF1\u7684<code>this</code>\uFF0C\u65E0\u6CD5\u5B9E\u4F8B\u5316</li><li>\u4E5F\u662F\u56E0\u4E3A\u7BAD\u5934\u51FD\u6570\u6CA1\u6709\u81EA\u5DF1\u7684this,\u6240\u4EE5\u7BAD\u5934\u51FD\u6570 \u5185\u4E5F\u4E0D\u5B58\u5728<code>arguments</code>\u5BF9\u8C61\u3002\uFF08\u53EF\u4EE5\u7528\u6269\u5C55\u8FD0\u7B97\u7B26\u4EE3\u66FF\uFF09</li><li>\u51FD\u6570\u9ED8\u8BA4\u8D4B\u503C\u3002<code>ES6</code>\u4E4B\u524D\uFF0C\u51FD\u6570\u7684\u5F62\u53C2\u662F\u65E0\u6CD5\u7ED9\u9ED8\u8BA4\u503C\u5F97\uFF0C\u53EA\u80FD\u5728\u51FD\u6570\u5185\u90E8\u901A\u8FC7\u53D8\u901A\u65B9\u6CD5\u5B9E\u73B0\u3002<code>ES6</code>\u4EE5\u66F4\u7B80\u6D01\u66F4\u660E\u786E\u7684\u65B9\u5F0F\u8FDB\u884C\u51FD\u6570\u9ED8\u8BA4\u8D4B\u503C</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">es6Fuc</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token string">&#39;default&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">es6Fuc</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// 4, default</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>\u5347\u7EA7\u90E8\u5206</strong></p><blockquote><p>ES6\u65B0\u589E\u4E86\u53CC\u5192\u53F7\u8FD0\u7B97\u7B26\uFF0C\u7528\u6765\u53D6\u4EE3\u4EE5\u5F80\u7684<code>bind</code>\uFF0C<code>call</code>,\u548C<code>apply</code>\u3002(\u6D4F\u89C8\u5668\u6682\u4E0D\u652F\u6301\uFF0C<code>Babel</code>\u5DF2\u7ECF\u652F\u6301\u8F6C\u7801)</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">foo</span><span class="token operator">:</span><span class="token operator">:</span>bar<span class="token punctuation">;</span>
<span class="token comment">// \u7B49\u540C\u4E8E</span>
<span class="token function">bar</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token literal-property property">foo</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u7B49\u540C\u4E8E</span>
<span class="token function">bar</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,7),M9={id:"_9-symbol\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528",tabindex:"-1"},O9=n("a",{class:"header-anchor",href:"#_9-symbol\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528","aria-hidden":"true"},"#",-1),I9=s(),R9={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_9-symbol%E6%98%AF%E4%BB%80%E4%B9%88-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},V9=s("#"),H9=s("9 Symbol\u662F\u4EC0\u4E48\uFF0C\u6709\u4EC0\u4E48\u4F5C\u7528\uFF1F"),L9=n("blockquote",null,[n("p",null,[n("code",null,"Symbol"),s("\u662F"),n("code",null,"ES6"),s("\u5F15\u5165\u7684\u7B2C\u4E03\u79CD\u539F\u59CB\u6570\u636E\u7C7B\u578B\uFF08\u8BF4\u6CD5\u4E0D\u51C6\u786E\uFF0C\u5E94\u8BE5\u662F\u7B2C\u4E03\u79CD\u6570\u636E\u7C7B\u578B\uFF0CObject\u4E0D\u662F\u539F\u59CB\u6570\u636E\u7C7B\u578B\u4E4B\u4E00\uFF0C\u5DF2\u66F4\u6B63\uFF09\uFF0C\u6240\u6709Symbol()\u751F\u6210\u7684\u503C\u90FD\u662F\u72EC\u4E00\u65E0\u4E8C\u7684\uFF0C\u53EF\u4EE5\u4ECE\u6839\u672C\u4E0A\u89E3\u51B3\u5BF9\u8C61\u5C5E\u6027\u592A\u591A\u5BFC\u81F4\u5C5E\u6027\u540D\u51B2\u7A81\u8986\u76D6\u7684\u95EE\u9898\u3002\u5BF9\u8C61\u4E2D"),n("code",null,"Symbol()"),s("\u5C5E\u6027\u4E0D\u80FD\u88AB"),n("code",null,"for...in"),s("\u904D\u5386\uFF0C\u4F46\u662F\u4E5F\u4E0D\u662F\u79C1\u6709\u5C5E\u6027")])],-1),U9={id:"_10-set\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528",tabindex:"-1"},J9=n("a",{class:"header-anchor",href:"#_10-set\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528","aria-hidden":"true"},"#",-1),W9=s(),z9={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_10-set%E6%98%AF%E4%BB%80%E4%B9%88-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},G9=s("#"),$9=s("10 Set\u662F\u4EC0\u4E48\uFF0C\u6709\u4EC0\u4E48\u4F5C\u7528\uFF1F"),X9=t("<blockquote><p><code>Set</code>\u662F<code>ES6</code>\u5F15\u5165\u7684\u4E00\u79CD\u7C7B\u4F3C<code>Array</code>\u7684\u65B0\u7684\u6570\u636E\u7ED3\u6784\uFF0C<code>Set</code>\u5B9E\u4F8B\u7684\u6210\u5458\u7C7B\u4F3C\u4E8E\u6570\u7EC4<code>item</code>\u6210\u5458\uFF0C\u533A\u522B\u662F<code>Set</code>\u5B9E\u4F8B\u7684\u6210\u5458\u90FD\u662F\u552F\u4E00\uFF0C\u4E0D\u91CD\u590D\u7684\u3002\u8FD9\u4E2A\u7279\u6027\u53EF\u4EE5\u8F7B\u677E\u5730\u5B9E\u73B0\u6570\u7EC4\u53BB\u91CD</p></blockquote>",1),K9={id:"\u4ECB\u7ECD\u4E0B-set\u3001map\u3001weakset-\u548C-weakmap-\u7684\u533A\u522B",tabindex:"-1"},Q9=n("a",{class:"header-anchor",href:"#\u4ECB\u7ECD\u4E0B-set\u3001map\u3001weakset-\u548C-weakmap-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),Y9=s(),Z9={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#%E4%BB%8B%E7%BB%8D%E4%B8%8B-set%E3%80%81map%E3%80%81weakset-%E5%92%8C-weakmap-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},nf=s("#"),sf=s("\u4ECB\u7ECD\u4E0B Set\u3001Map\u3001WeakSet \u548C WeakMap \u7684\u533A\u522B"),af=n("ul",null,[n("li",null,"Set\u2014\u2014\u5BF9\u8C61\u5141\u8BB8\u4F60\u5B58\u50A8\u4EFB\u4F55\u7C7B\u578B\u7684\u552F\u4E00\u503C\uFF0C\u65E0\u8BBA\u662F\u539F\u59CB\u503C\u6216\u8005\u662F\u5BF9\u8C61\u5F15\u7528"),n("li",null,"WeakSet\u2014\u2014\u6210\u5458\u90FD\u662F\u5BF9\u8C61\uFF1B\u6210\u5458\u90FD\u662F\u5F31\u5F15\u7528\uFF0C\u53EF\u4EE5\u88AB\u5783\u573E\u56DE\u6536\u673A\u5236\u56DE\u6536\uFF0C\u53EF\u4EE5\u7528\u6765\u4FDD\u5B58 DOM \u8282\u70B9\uFF0C\u4E0D\u5BB9\u6613\u9020\u6210\u5185\u5B58\u6CC4\u6F0F\uFF1B"),n("li",null,"Map\u2014\u2014\u672C\u8D28\u4E0A\u662F\u952E\u503C\u5BF9\u7684\u96C6\u5408\uFF0C\u7C7B\u4F3C\u96C6\u5408\uFF1B\u53EF\u4EE5\u904D\u5386\uFF0C\u65B9\u6CD5\u5F88\u591A\uFF0C\u53EF\u4EE5\u8DDF\u5404\u79CD\u6570\u636E\u683C\u5F0F\u8F6C\u6362\u3002"),n("li",null,"WeakMap\u2014\u2014\u53EA\u63A5\u53D7\u5BF9\u8C61\u6700\u4E3A\u952E\u540D\uFF08null \u9664\u5916\uFF09\uFF0C\u4E0D\u63A5\u53D7\u5176\u4ED6\u7C7B\u578B\u7684\u503C\u4F5C\u4E3A\u952E\u540D\uFF1B\u952E\u540D\u662F\u5F31\u5F15\u7528\uFF0C\u952E\u503C\u53EF\u4EE5\u662F\u4EFB\u610F\u7684\uFF0C\u952E\u540D\u6240\u6307\u5411\u7684\u5BF9\u8C61\u53EF\u4EE5\u88AB\u5783\u573E\u56DE\u6536\uFF0C\u6B64\u65F6\u952E\u540D\u662F\u65E0\u6548\u7684\uFF1B\u4E0D\u80FD\u904D\u5386\uFF0C\u65B9\u6CD5\u6709 get\u3001set\u3001has\u3001delet")],-1),ef={id:"_11-map\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528",tabindex:"-1"},tf=n("a",{class:"header-anchor",href:"#_11-map\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528","aria-hidden":"true"},"#",-1),pf=s(),of={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_11-map%E6%98%AF%E4%BB%80%E4%B9%88-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},cf=s("#"),lf=s("11 Map\u662F\u4EC0\u4E48\uFF0C\u6709\u4EC0\u4E48\u4F5C\u7528\uFF1F"),rf=t("<blockquote><p><code>Map</code>\u662F<code>ES6</code>\u5F15\u5165\u7684\u4E00\u79CD\u7C7B\u4F3C<code>Object</code>\u7684\u65B0\u7684\u6570\u636E\u7ED3\u6784\uFF0C<code>Map</code>\u53EF\u4EE5\u7406\u89E3\u4E3A\u662F<code>Object</code>\u7684\u8D85\u96C6\uFF0C\u6253\u7834\u4E86\u4EE5\u4F20\u7EDF\u952E\u503C\u5BF9\u5F62\u5F0F\u5B9A\u4E49\u5BF9\u8C61\uFF0C\u5BF9\u8C61\u7684<code>key</code>\u4E0D\u518D\u5C40\u9650\u4E8E\u5B57\u7B26\u4E32\uFF0C\u4E5F\u53EF\u4EE5\u662F<code>Object</code>\u3002\u53EF\u4EE5\u66F4\u52A0\u5168\u9762\u7684\u63CF\u8FF0\u5BF9\u8C61\u7684\u5C5E\u6027</p></blockquote>",1),uf={id:"_12-proxy\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528",tabindex:"-1"},kf=n("a",{class:"header-anchor",href:"#_12-proxy\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528","aria-hidden":"true"},"#",-1),df=s(),bf={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_12-proxy%E6%98%AF%E4%BB%80%E4%B9%88-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},mf=s("#"),hf=s("12 Proxy\u662F\u4EC0\u4E48\uFF0C\u6709\u4EC0\u4E48\u4F5C\u7528\uFF1F"),_f=t(`<blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Proxy\`\u662F\`ES6\`\u65B0\u589E\u7684\u4E00\u4E2A\u6784\u9020\u51FD\u6570\uFF0C\u53EF\u4EE5\u7406\u89E3\u4E3AJS\u8BED\u8A00\u7684\u4E00\u4E2A\u4EE3\u7406\uFF0C\u7528\u6765\u6539\u53D8JS\u9ED8\u8BA4\u7684\u4E00\u4E9B\u8BED\u8A00\u884C\u4E3A\uFF0C\u5305\u62EC\u62E6\u622A\u9ED8\u8BA4\u7684\`get/set\`\u7B49\u5E95\u5C42\u65B9\u6CD5\uFF0C\u4F7F\u5F97JS\u7684\u4F7F\u7528\u81EA\u7531\u5EA6\u66F4\u9AD8\uFF0C\u53EF\u4EE5\u6700\u5927\u9650\u5EA6\u7684\u6EE1\u8DB3\u5F00\u53D1\u8005\u7684\u9700\u6C42\u3002\u6BD4\u5982\u901A\u8FC7\u62E6\u622A\u5BF9\u8C61\u7684\`get/set\`\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u8F7B\u677E\u5730\u5B9A\u5236\u81EA\u5DF1\u60F3\u8981\u7684\`key\`\u6216\u8005\`value\`\u3002\u4E0B\u9762\u7684\u4F8B\u5B50\u53EF\u4EE5\u770B\u5230\uFF0C\u968F\u4FBF\u5B9A\u4E49\u4E00\u4E2A\`myOwnObj\`\u7684\`key\`,\u90FD\u53EF\u4EE5\u53D8\u6210\u81EA\u5DF1\u60F3\u8981\u7684\u51FD\u6570
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createMyOwnObj</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//\u60F3\u628A\u6240\u6709\u7684key\u90FD\u53D8\u6210\u51FD\u6570\uFF0C\u6216\u8005Promise,\u6216\u8005anything</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> propKey<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
				<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
					<span class="token keyword">let</span> randomBoolean <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
					<span class="token keyword">let</span> Message<span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>randomBoolean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
						Message <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u4F60\u7684</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>propKey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u8FD0\u6C14\u4E0D\u9519\uFF0C\u6210\u529F\u4E86</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
						<span class="token function">resolve</span><span class="token punctuation">(</span>Message<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
						Message <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u4F60\u7684</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>propKey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u8FD0\u6C14\u4E0D\u884C\uFF0C\u5931\u8D25\u4E86</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
						<span class="token function">reject</span><span class="token punctuation">(</span>Message<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> myOwnObj <span class="token operator">=</span> <span class="token function">createMyOwnObj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

myOwnObj<span class="token punctuation">.</span>hahaha<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">//\u4F60\u7684hahaha\u8FD0\u6C14\u4E0D\u9519\uFF0C\u6210\u529F\u4E86</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token comment">//\u4F60\u7684hahaha\u8FD0\u6C14\u4E0D\u884C\uFF0C\u5931\u8D25\u4E86</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

myOwnObj<span class="token punctuation">.</span>wuwuwu<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">//\u4F60\u7684wuwuwu\u8FD0\u6C14\u4E0D\u9519\uFF0C\u6210\u529F\u4E86</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token comment">//\u4F60\u7684wuwuwu\u8FD0\u6C14\u4E0D\u884C\uFF0C\u5931\u8D25\u4E86</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div>`,2),gf={id:"_13-reflect\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528",tabindex:"-1"},Ef=n("a",{class:"header-anchor",href:"#_13-reflect\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528","aria-hidden":"true"},"#",-1),ff=s(),vf={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_13-reflect%E6%98%AF%E4%BB%80%E4%B9%88-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},wf=s("#"),yf=s("13 Reflect\u662F\u4EC0\u4E48\uFF0C\u6709\u4EC0\u4E48\u4F5C\u7528\uFF1F"),xf=n("blockquote",null,[n("div",{class:"language-text ext-text line-numbers-mode"},[n("pre",{class:"language-text"},[n("code",null,"Reflect`\u662F`ES6`\u5F15\u5165\u7684\u4E00\u4E2A\u65B0\u7684\u5BF9\u8C61\uFF0C\u4ED6\u7684\u4E3B\u8981\u4F5C\u7528\u6709\u4E24\u70B9\uFF0C\u4E00\u662F\u5C06\u539F\u751F\u7684\u4E00\u4E9B\u96F6\u6563\u5206\u5E03\u5728`Object`\u3001`Function`\u6216\u8005\u5168\u5C40\u51FD\u6570\u91CC\u7684\u65B9\u6CD5(\u5982`apply`\u3001`delete`\u3001`get`\u3001`set`\u7B49\u7B49)\uFF0C\u7EDF\u4E00\u6574\u5408\u5230`Reflect`\u4E0A\uFF0C\u8FD9\u6837\u53EF\u4EE5\u66F4\u52A0\u65B9\u4FBF\u66F4\u52A0\u7EDF\u4E00\u7684\u7BA1\u7406\u4E00\u4E9B\u539F\u751F`API`\u3002\u5176\u6B21\u5C31\u662F\u56E0\u4E3A`Proxy`\u53EF\u4EE5\u6539\u5199\u9ED8\u8BA4\u7684\u539F\u751FAPI\uFF0C\u5982\u679C\u4E00\u65E6\u539F\u751F`API`\u522B\u6539\u5199\u53EF\u80FD\u5C31\u627E\u4E0D\u5230\u4E86\uFF0C\u6240\u4EE5`Reflect`\u4E5F\u53EF\u4EE5\u8D77\u5230\u5907\u4EFD\u539F\u751FAPI\u7684\u4F5C\u7528\uFF0C\u4F7F\u5F97\u5373\u4F7F\u539F\u751F`API`\u88AB\u6539\u5199\u4E86\u4E4B\u540E\uFF0C\u4E5F\u53EF\u4EE5\u5728\u88AB\u6539\u5199\u4E4B\u540E\u7684`API`\u7528\u4E0A\u9ED8\u8BA4\u7684`API\n")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br")])])],-1),Af={id:"_14-promise\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528",tabindex:"-1"},Bf=n("a",{class:"header-anchor",href:"#_14-promise\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528","aria-hidden":"true"},"#",-1),qf=s(),jf={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_14-promise%E6%98%AF%E4%BB%80%E4%B9%88-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},Sf=s("#"),Cf=s("14 Promise\u662F\u4EC0\u4E48\uFF0C\u6709\u4EC0\u4E48\u4F5C\u7528\uFF1F"),Df=n("blockquote",null,[n("p",null,[n("code",null,"Promise"),s("\u662F"),n("code",null,"ES6"),s("\u5F15\u5165\u7684\u4E00\u4E2A\u65B0\u7684\u5BF9\u8C61\uFF0C\u4ED6\u7684\u4E3B\u8981\u4F5C\u7528\u662F\u7528\u6765\u89E3\u51B3JS\u5F02\u6B65\u673A\u5236\u91CC\uFF0C\u56DE\u8C03\u673A\u5236\u4EA7\u751F\u7684\u201C\u56DE\u8C03\u5730\u72F1\u201D\u3002\u5B83\u5E76\u4E0D\u662F\u4EC0\u4E48\u7A81\u7834\u6027\u7684"),n("code",null,"API"),s("\uFF0C\u53EA\u662F\u5C01\u88C5\u4E86\u5F02\u6B65\u56DE\u8C03\u5F62\u5F0F\uFF0C\u4F7F\u5F97\u5F02\u6B65\u56DE\u8C03\u53EF\u4EE5\u5199\u7684\u66F4\u52A0\u4F18\u96C5\uFF0C\u53EF\u8BFB\u6027\u66F4\u9AD8\uFF0C\u800C\u4E14\u53EF\u4EE5\u94FE\u5F0F\u8C03\u7528")])],-1),Ff={id:"_15-iterator\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528",tabindex:"-1"},Pf=n("a",{class:"header-anchor",href:"#_15-iterator\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528","aria-hidden":"true"},"#",-1),Tf=s(),Nf={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_15-iterator%E6%98%AF%E4%BB%80%E4%B9%88-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},Mf=s("#"),Of=s("15 Iterator\u662F\u4EC0\u4E48\uFF0C\u6709\u4EC0\u4E48\u4F5C\u7528\uFF1F"),If=t(`<ul><li><code>Iterator</code>\u662F<code>ES6</code>\u4E2D\u4E00\u4E2A\u5F88\u91CD\u8981\u6982\u5FF5\uFF0C\u5B83\u5E76\u4E0D\u662F\u5BF9\u8C61\uFF0C\u4E5F\u4E0D\u662F\u4EFB\u4F55\u4E00\u79CD\u6570\u636E\u7C7B\u578B\u3002\u56E0\u4E3A<code>ES6</code>\u65B0\u589E\u4E86<code>Set</code>\u3001<code>Map</code>\u7C7B\u578B\uFF0C\u4ED6\u4EEC\u548C<code>Array</code>\u3001<code>Object</code>\u7C7B\u578B\u5F88\u50CF\uFF0C<code>Array</code>\u3001<code>Object</code>\u90FD\u662F\u53EF\u4EE5\u904D\u5386\u7684\uFF0C\u4F46\u662F<code>Set</code>\u3001<code>Map</code>\u90FD\u4E0D\u80FD\u7528for\u5FAA\u73AF\u904D\u5386\uFF0C\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u6709\u4E24\u79CD\u65B9\u6848\uFF0C\u4E00\u79CD\u662F\u4E3A<code>Set</code>\u3001<code>Map</code>\u5355\u72EC\u65B0\u589E\u4E00\u4E2A\u7528\u6765\u904D\u5386\u7684<code>API</code>\uFF0C\u53E6\u4E00\u79CD\u662F\u4E3A<code>Set</code>\u3001<code>Map</code>\u3001<code>Array</code>\u3001<code>Object</code>\u65B0\u589E\u4E00\u4E2A\u7EDF\u4E00\u7684\u904D\u5386<code>API</code>\uFF0C\u663E\u7136\uFF0C\u7B2C\u4E8C\u79CD\u66F4\u597D\uFF0C<code>ES6</code>\u4E5F\u5C31\u987A\u5176\u81EA\u7136\u7684\u9700\u8981\u4E00\u79CD\u8BBE\u8BA1\u6807\u51C6\uFF0C\u6765\u7EDF\u4E00\u6240\u6709\u53EF\u904D\u5386\u7C7B\u578B\u7684\u904D\u5386\u65B9\u5F0F\u3002<code>Iterator</code>\u6B63\u662F\u8FD9\u6837\u4E00\u79CD\u6807\u51C6\u3002\u6216\u8005\u8BF4\u662F\u4E00\u79CD\u89C4\u8303\u7406\u5FF5</li><li>\u5C31\u597D\u50CF<code>JavaScript</code>\u662F<code>ECMAScript</code>\u6807\u51C6\u7684\u4E00\u79CD\u5177\u4F53\u5B9E\u73B0\u4E00\u6837\uFF0C<code>Iterator</code>\u6807\u51C6\u7684\u5177\u4F53\u5B9E\u73B0\u662F<code>Iterator</code>\u904D\u5386\u5668\u3002<code>Iterator</code>\u6807\u51C6\u89C4\u5B9A\uFF0C\u6240\u6709\u90E8\u7F72\u4E86<code>key</code>\u503C\u4E3A<code>[Symbol.iterator]</code>\uFF0C\u4E14<code>[Symbol.iterator]</code>\u7684<code>value</code>\u662F\u6807\u51C6\u7684<code>Iterator</code>\u63A5\u53E3\u51FD\u6570(\u6807\u51C6\u7684<code>Iterator</code>\u63A5\u53E3\u51FD\u6570: \u8BE5\u51FD\u6570\u5FC5\u987B\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u4E14\u5BF9\u8C61\u4E2D\u5305\u542B<code>next</code>\u65B9\u6CD5\uFF0C\u4E14\u6267\u884C<code>next()</code>\u80FD\u8FD4\u56DE\u5305\u542B<code>value/done</code>\u5C5E\u6027\u7684<code>Iterator</code>\u5BF9\u8C61)\u7684\u5BF9\u8C61\uFF0C\u90FD\u79F0\u4E4B\u4E3A\u53EF\u904D\u5386\u5BF9\u8C61\uFF0C<code>next()</code>\u540E\u8FD4\u56DE\u7684<code>Iterator</code>\u5BF9\u8C61\u4E5F\u5C31\u662F<code>Iterator</code>\u904D\u5386\u5668</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//obj\u5C31\u662F\u53EF\u904D\u5386\u7684\uFF0C\u56E0\u4E3A\u5B83\u9075\u5FAA\u4E86Iterator\u6807\u51C6\uFF0C\u4E14\u5305\u542B[Symbol.iterator]\u65B9\u6CD5\uFF0C\u65B9\u6CD5\u51FD\u6570\u4E5F\u7B26\u5408\u6807\u51C6\u7684Iterator\u63A5\u53E3\u89C4\u8303\u3002</span>
<span class="token comment">//obj.[Symbol.iterator]() \u5C31\u662FIterator\u904D\u5386\u5668</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;world&#39;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>data<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">value</span><span class="token operator">:</span> self<span class="token punctuation">.</span>data<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><blockquote><p><code>ES6</code>\u7ED9<code>Set</code>\u3001<code>Map</code>\u3001<code>Array</code>\u3001<code>String</code>\u90FD\u52A0\u4E0A\u4E86<code>[Symbol.iterator]</code>\u65B9\u6CD5\uFF0C\u4E14<code>[Symbol.iterator]</code>\u65B9\u6CD5\u51FD\u6570\u4E5F\u7B26\u5408\u6807\u51C6\u7684<code>Iterator</code>\u63A5\u53E3\u89C4\u8303\uFF0C\u6240\u4EE5<code>Set</code>\u3001<code>Map</code>\u3001<code>Array</code>\u3001<code>String</code>\u9ED8\u8BA4\u90FD\u662F\u53EF\u4EE5\u904D\u5386\u7684</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//Array</span>
<span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
array<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//Iterator\u904D\u5386\u5668</span>
array<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//{value: &quot;red&quot;, done: false}</span>

<span class="token comment">//String</span>
<span class="token keyword">let</span> string <span class="token operator">=</span> <span class="token string">&#39;1122334455&#39;</span><span class="token punctuation">;</span>
string<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//Iterator\u904D\u5386\u5668</span>
string<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//{value: &quot;1&quot;, done: false}</span>

<span class="token comment">//set</span>
<span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">set</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//Iterator\u904D\u5386\u5668</span>
<span class="token keyword">set</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//{value: &quot;red&quot;, done: false}</span>

<span class="token comment">//Map</span>
<span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">map</span><span class="token operator">:</span> <span class="token string">&#39;map&#39;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;mapValue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span><span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div>`,4),Rf={id:"_16-for-in-\u548Cfor-of\u6709\u4EC0\u4E48\u533A\u522B",tabindex:"-1"},Vf=n("a",{class:"header-anchor",href:"#_16-for-in-\u548Cfor-of\u6709\u4EC0\u4E48\u533A\u522B","aria-hidden":"true"},"#",-1),Hf=s(),Lf={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_16-for-in-%E5%92%8Cfor-of%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},Uf=s("#"),Jf=s("16 for...in \u548Cfor...of\u6709\u4EC0\u4E48\u533A\u522B\uFF1F"),Wf=t("<blockquote><p>\u5982\u679C\u770B\u5230\u95EE\u9898\u5341\u516D\uFF0C\u90A3\u4E48\u5C31\u5F88\u597D\u56DE\u7B54\u3002\u95EE\u9898\u5341\u516D\u63D0\u5230\u4E86ES6\u7EDF\u4E00\u4E86\u904D\u5386\u6807\u51C6\uFF0C\u5236\u5B9A\u4E86\u53EF\u904D\u5386\u5BF9\u8C61\uFF0C\u90A3\u4E48\u7528\u4EC0\u4E48\u65B9\u6CD5\u53BB\u904D\u5386\u5462\uFF1F\u7B54\u6848\u5C31\u662F\u7528<code>for...of</code>\u3002ES6\u89C4\u5B9A\uFF0C\u6709\u6240\u90E8\u7F72\u4E86\u8F7D\u4E86<code>Iterator</code>\u63A5\u53E3\u7684\u5BF9\u8C61(\u53EF\u904D\u5386\u5BF9\u8C61)\u90FD\u53EF\u4EE5\u901A\u8FC7<code>for...of</code>\u53BB\u904D\u5386\uFF0C\u800C<code>for..in</code>\u4EC5\u4EC5\u53EF\u4EE5\u904D\u5386\u5BF9\u8C61</p></blockquote><ul><li>\u8FD9\u4E5F\u5C31\u610F\u5473\u7740\uFF0C\u6570\u7EC4\u4E5F\u53EF\u4EE5\u7528<code>for...of</code>\u904D\u5386\uFF0C\u8FD9\u6781\u5927\u5730\u65B9\u4FBF\u4E86\u6570\u7EC4\u7684\u53D6\u503C\uFF0C\u4E14\u907F\u514D\u4E86\u5F88\u591A\u7A0B\u5E8F\u7528<code>for..in</code>\u53BB\u904D\u5386\u6570\u7EC4\u7684\u6076\u4E60</li></ul>",2),zf={id:"_17-generator\u51FD\u6570\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528",tabindex:"-1"},Gf=n("a",{class:"header-anchor",href:"#_17-generator\u51FD\u6570\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528","aria-hidden":"true"},"#",-1),$f=s(),Xf={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_17-generator%E5%87%BD%E6%95%B0%E6%98%AF%E4%BB%80%E4%B9%88-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},Kf=s("#"),Qf=s("17 Generator\u51FD\u6570\u662F\u4EC0\u4E48\uFF0C\u6709\u4EC0\u4E48\u4F5C\u7528\uFF1F"),Yf=t("<ul><li>\u5982\u679C\u8BF4<code>JavaScript</code>\u662F<code>ECMAScript</code>\u6807\u51C6\u7684\u4E00\u79CD\u5177\u4F53\u5B9E\u73B0\u3001<code>Iterator</code>\u904D\u5386\u5668\u662F<code>Iterator</code>\u7684\u5177\u4F53\u5B9E\u73B0\uFF0C\u90A3\u4E48<code>Generator</code>\u51FD\u6570\u53EF\u4EE5\u8BF4\u662F<code>Iterator</code>\u63A5\u53E3\u7684\u5177\u4F53\u5B9E\u73B0\u65B9\u5F0F\u3002</li><li>\u6267\u884C<code>Generator</code>\u51FD\u6570\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u904D\u5386\u5668\u5BF9\u8C61\uFF0C\u6BCF\u4E00\u6B21<code>Generator</code>\u51FD\u6570\u91CC\u9762\u7684<code>yield</code>\u90FD\u76F8\u5F53\u4E00\u6B21\u904D\u5386\u5668\u5BF9\u8C61\u7684<code>next()</code>\u65B9\u6CD5\uFF0C\u5E76\u4E14\u53EF\u4EE5\u901A\u8FC7<code>next(value)</code>\u65B9\u6CD5\u4F20\u5165\u81EA\u5B9A\u4E49\u7684value,\u6765\u6539\u53D8<code>Generator</code>\u51FD\u6570\u7684\u884C\u4E3A\u3002</li><li><code>Generator</code>\u51FD\u6570\u53EF\u4EE5\u901A\u8FC7\u914D\u5408<code>Thunk</code> \u51FD\u6570\u66F4\u8F7B\u677E\u66F4\u4F18\u96C5\u7684\u5B9E\u73B0\u5F02\u6B65\u7F16\u7A0B\u548C\u63A7\u5236\u6D41\u7BA1\u7406\u3002</li></ul>",1),Zf={id:"generator-\u539F\u7406",tabindex:"-1"},n3=n("a",{class:"header-anchor",href:"#generator-\u539F\u7406","aria-hidden":"true"},"#",-1),s3=s(),a3={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#generator-%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},e3=s("#"),t3=s("generator \u539F\u7406"),p3=t(`<blockquote><p><code>Generator</code> \u662F <code>ES6</code>\u4E2D\u65B0\u589E\u7684\u8BED\u6CD5\uFF0C\u548C <code>Promise</code> \u4E00\u6837\uFF0C\u90FD\u53EF\u4EE5\u7528\u6765\u5F02\u6B65\u7F16\u7A0B</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4F7F\u7528 * \u8868\u793A\u8FD9\u662F\u4E00\u4E2A Generator \u51FD\u6570</span>
<span class="token comment">// \u5185\u90E8\u53EF\u4EE5\u901A\u8FC7 yield \u6682\u505C\u4EE3\u7801</span>
<span class="token comment">// \u901A\u8FC7\u8C03\u7528 next \u6062\u590D\u6267\u884C</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &gt;  { value: 2, done: false }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &gt;  { value: 3, done: false }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &gt;  { value: undefined, done: true }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>\u4ECE\u4EE5\u4E0A\u4EE3\u7801\u53EF\u4EE5\u53D1\u73B0\uFF0C\u52A0\u4E0A <code>*</code>\u7684\u51FD\u6570\u6267\u884C\u540E\u62E5\u6709\u4E86 <code>next</code> \u51FD\u6570\uFF0C\u4E5F\u5C31\u662F\u8BF4\u51FD\u6570\u6267\u884C\u540E\u8FD4\u56DE\u4E86\u4E00\u4E2A\u5BF9\u8C61\u3002\u6BCF\u6B21\u8C03\u7528 <code>next</code> \u51FD\u6570\u53EF\u4EE5\u7EE7\u7EED\u6267\u884C\u88AB\u6682\u505C\u7684\u4EE3\u7801\u3002\u4EE5\u4E0B\u662F <code>Generator</code> \u51FD\u6570\u7684\u7B80\u5355\u5B9E\u73B0</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// cb \u4E5F\u5C31\u662F\u7F16\u8BD1\u8FC7\u7684 test \u51FD\u6570</span>
<span class="token keyword">function</span> <span class="token function">generator</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">next</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token function-variable function">stop</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> ret <span class="token operator">=</span> <span class="token function">cb</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> ret<span class="token punctuation">,</span>
          <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u5982\u679C\u4F60\u4F7F\u7528 babel \u7F16\u8BD1\u540E\u53EF\u4EE5\u53D1\u73B0 test \u51FD\u6570\u53D8\u6210\u4E86\u8FD9\u6837</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">generator</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">_context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>_context<span class="token punctuation">.</span>prev <span class="token operator">=</span> _context<span class="token punctuation">.</span>next<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u53EF\u4EE5\u53D1\u73B0\u901A\u8FC7 yield \u5C06\u4EE3\u7801\u5206\u5272\u6210\u51E0\u5757</span>
        <span class="token comment">// \u6BCF\u6B21\u6267\u884C next \u51FD\u6570\u5C31\u6267\u884C\u4E00\u5757\u4EE3\u7801</span>
        <span class="token comment">// \u5E76\u4E14\u8868\u660E\u4E0B\u6B21\u9700\u8981\u6267\u884C\u54EA\u5757\u4EE3\u7801</span>
        <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
          a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
          _context<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>
          _context<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
		<span class="token comment">// \u6267\u884C\u5B8C\u6BD5</span>
        <span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span>
        <span class="token keyword">case</span> <span class="token string">&quot;end&quot;</span><span class="token operator">:</span>
          <span class="token keyword">return</span> _context<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div>`,4),o3={id:"generator-\u5B9E\u73B0",tabindex:"-1"},c3=n("a",{class:"header-anchor",href:"#generator-\u5B9E\u73B0","aria-hidden":"true"},"#",-1),l3=s(),r3={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#generator-%E5%AE%9E%E7%8E%B0",target:"_blank",rel:"noopener noreferrer"},i3=s("#"),u3=s("Generator \u5B9E\u73B0"),k3=t(`<blockquote><p><code>Generator</code> \u662F <code>ES6</code>\u4E2D\u65B0\u589E\u7684\u8BED\u6CD5\uFF0C\u548C <code>Promise</code> \u4E00\u6837\uFF0C\u90FD\u53EF\u4EE5\u7528\u6765\u5F02\u6B65\u7F16\u7A0B</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4F7F\u7528 * \u8868\u793A\u8FD9\u662F\u4E00\u4E2A Generator \u51FD\u6570</span>
<span class="token comment">// \u5185\u90E8\u53EF\u4EE5\u901A\u8FC7 yield \u6682\u505C\u4EE3\u7801</span>
<span class="token comment">// \u901A\u8FC7\u8C03\u7528 next \u6062\u590D\u6267\u884C</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &gt;  { value: 2, done: false }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &gt;  { value: 3, done: false }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &gt;  { value: undefined, done: true }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>\u4ECE\u4EE5\u4E0A\u4EE3\u7801\u53EF\u4EE5\u53D1\u73B0\uFF0C\u52A0\u4E0A <code>*</code> \u7684\u51FD\u6570\u6267\u884C\u540E\u62E5\u6709\u4E86 <code>next</code>\u51FD\u6570\uFF0C\u4E5F\u5C31\u662F\u8BF4\u51FD\u6570\u6267\u884C\u540E\u8FD4\u56DE\u4E86\u4E00\u4E2A\u5BF9\u8C61\u3002\u6BCF\u6B21\u8C03\u7528 <code>next</code>\u51FD\u6570\u53EF\u4EE5\u7EE7\u7EED\u6267\u884C\u88AB\u6682\u505C\u7684\u4EE3\u7801\u3002\u4EE5\u4E0B\u662F <code>Generator</code> \u51FD\u6570\u7684\u7B80\u5355\u5B9E\u73B0</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// cb \u4E5F\u5C31\u662F\u7F16\u8BD1\u8FC7\u7684 test \u51FD\u6570</span>
<span class="token keyword">function</span> <span class="token function">generator</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">next</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token function-variable function">stop</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> ret <span class="token operator">=</span> <span class="token function">cb</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> ret<span class="token punctuation">,</span>
          <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u5982\u679C\u4F60\u4F7F\u7528 babel \u7F16\u8BD1\u540E\u53EF\u4EE5\u53D1\u73B0 test \u51FD\u6570\u53D8\u6210\u4E86\u8FD9\u6837</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">generator</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">_context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>_context<span class="token punctuation">.</span>prev <span class="token operator">=</span> _context<span class="token punctuation">.</span>next<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u53EF\u4EE5\u53D1\u73B0\u901A\u8FC7 yield \u5C06\u4EE3\u7801\u5206\u5272\u6210\u51E0\u5757</span>
        <span class="token comment">// \u6BCF\u6B21\u6267\u884C next \u51FD\u6570\u5C31\u6267\u884C\u4E00\u5757\u4EE3\u7801</span>
        <span class="token comment">// \u5E76\u4E14\u8868\u660E\u4E0B\u6B21\u9700\u8981\u6267\u884C\u54EA\u5757\u4EE3\u7801</span>
        <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
          a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
          _context<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>
          _context<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
		<span class="token comment">// \u6267\u884C\u5B8C\u6BD5</span>
        <span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span>
        <span class="token keyword">case</span> <span class="token string">&quot;end&quot;</span><span class="token operator">:</span>
          <span class="token keyword">return</span> _context<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div>`,4),d3={id:"_18-async\u51FD\u6570\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528",tabindex:"-1"},b3=n("a",{class:"header-anchor",href:"#_18-async\u51FD\u6570\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528","aria-hidden":"true"},"#",-1),m3=s(),h3={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_18-async%E5%87%BD%E6%95%B0%E6%98%AF%E4%BB%80%E4%B9%88-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},_3=s("#"),g3=s("18 async\u51FD\u6570\u662F\u4EC0\u4E48\uFF0C\u6709\u4EC0\u4E48\u4F5C\u7528\uFF1F"),E3=t(`<blockquote><p><code>async</code>\u51FD\u6570\u53EF\u4EE5\u7406\u89E3\u4E3A\u5185\u7F6E\u81EA\u52A8\u6267\u884C\u5668\u7684<code>Generator</code>\u51FD\u6570\u8BED\u6CD5\u7CD6\uFF0C\u5B83\u914D\u5408<code>ES6</code>\u7684<code>Promise</code>\u8FD1\u4E4E\u5B8C\u7F8E\u7684\u5B9E\u73B0\u4E86\u5F02\u6B65\u7F16\u7A0B\u89E3\u51B3\u65B9\u6848</p></blockquote><p><strong>async\u3001await \u4F18\u7F3A\u70B9</strong></p><blockquote><p><code>async</code> \u548C <code>await</code> \u76F8\u6BD4\u76F4\u63A5\u4F7F\u7528 <code>Promise</code> \u6765\u8BF4\uFF0C\u4F18\u52BF\u5728\u4E8E\u5904\u7406 then \u7684\u8C03\u7528\u94FE\uFF0C\u80FD\u591F\u66F4\u6E05\u6670\u51C6\u786E\u7684\u5199\u51FA\u4EE3\u7801\u3002\u7F3A\u70B9\u5728\u4E8E\u6EE5\u7528 <code>await</code> \u53EF\u80FD\u4F1A\u5BFC\u81F4\u6027\u80FD\u95EE\u9898\uFF0C\u56E0\u4E3A <code>await</code> \u4F1A\u963B\u585E\u4EE3\u7801\uFF0C\u4E5F\u8BB8\u4E4B\u540E\u7684\u5F02\u6B65\u4EE3\u7801\u5E76\u4E0D\u4F9D\u8D56\u4E8E\u524D\u8005\uFF0C\u4F46\u4ECD\u7136\u9700\u8981\u7B49\u5F85\u524D\u8005\u5B8C\u6210\uFF0C\u5BFC\u81F4\u4EE3\u7801\u5931\u53BB\u4E86\u5E76\u53D1\u6027</p></blockquote><p>\u4E0B\u9762\u6765\u770B\u4E00\u4E2A\u4F7F\u7528 <code>await</code> \u7684\u4EE3\u7801\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">var</span> <span class="token function-variable function">b</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  a <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token keyword">await</span> <span class="token number">10</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token comment">// -&gt; &#39;2&#39; 10</span>
  a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> a
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;3&#39;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token comment">// -&gt; &#39;3&#39; 20</span>
<span class="token punctuation">}</span>
<span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
a<span class="token operator">++</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token comment">// -&gt; &#39;1&#39; 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>\u9996\u5148\u51FD\u6570<code>b</code> \u5148\u6267\u884C\uFF0C\u5728\u6267\u884C\u5230 <code>await 10</code> \u4E4B\u524D\u53D8\u91CF <code>a</code> \u8FD8\u662F <code>0</code>\uFF0C\u56E0\u4E3A\u5728 <code>await</code> \u5185\u90E8\u5B9E\u73B0\u4E86 <code>generators</code> \uFF0C<code>generators</code> \u4F1A\u4FDD\u7559\u5806\u6808\u4E2D\u4E1C\u897F\uFF0C\u6240\u4EE5\u8FD9\u65F6\u5019 <code>a = 0</code> \u88AB\u4FDD\u5B58\u4E86\u4E0B\u6765</li><li>\u56E0\u4E3A <code>await</code> \u662F\u5F02\u6B65\u64CD\u4F5C\uFF0C\u9047\u5230<code>await</code>\u5C31\u4F1A\u7ACB\u5373\u8FD4\u56DE\u4E00\u4E2A<code>pending</code>\u72B6\u6001\u7684<code>Promise</code>\u5BF9\u8C61\uFF0C\u6682\u65F6\u8FD4\u56DE\u6267\u884C\u4EE3\u7801\u7684\u63A7\u5236\u6743\uFF0C\u4F7F\u5F97\u51FD\u6570\u5916\u7684\u4EE3\u7801\u5F97\u4EE5\u7EE7\u7EED\u6267\u884C\uFF0C\u6240\u4EE5\u4F1A\u5148\u6267\u884C <code>console.log(&#39;1&#39;, a)</code></li><li>\u8FD9\u65F6\u5019\u540C\u6B65\u4EE3\u7801\u6267\u884C\u5B8C\u6BD5\uFF0C\u5F00\u59CB\u6267\u884C\u5F02\u6B65\u4EE3\u7801\uFF0C\u5C06\u4FDD\u5B58\u4E0B\u6765\u7684\u503C\u62FF\u51FA\u6765\u4F7F\u7528\uFF0C\u8FD9\u65F6\u5019 <code>a = 10</code></li><li>\u7136\u540E\u540E\u9762\u5C31\u662F\u5E38\u89C4\u6267\u884C\u4EE3\u7801\u4E86</li></ul>`,6),f3={id:"_19-class\u3001extends\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528",tabindex:"-1"},v3=n("a",{class:"header-anchor",href:"#_19-class\u3001extends\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528","aria-hidden":"true"},"#",-1),w3=s(),y3={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_19-class%E3%80%81extends%E6%98%AF%E4%BB%80%E4%B9%88-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},x3=s("#"),A3=s("19 Class\u3001extends\u662F\u4EC0\u4E48\uFF0C\u6709\u4EC0\u4E48\u4F5C\u7528\uFF1F"),B3=t(`<blockquote><p><code>ES6</code> \u7684<code>class</code>\u53EF\u4EE5\u770B\u4F5C\u53EA\u662F\u4E00\u4E2A<code>ES5</code>\u751F\u6210\u5B9E\u4F8B\u5BF9\u8C61\u7684\u6784\u9020\u51FD\u6570\u7684\u8BED\u6CD5\u7CD6\u3002\u5B83\u53C2\u8003\u4E86<code>java</code>\u8BED\u8A00\uFF0C\u5B9A\u4E49\u4E86\u4E00\u4E2A\u7C7B\u7684\u6982\u5FF5\uFF0C\u8BA9\u5BF9\u8C61\u539F\u578B\u5199\u6CD5\u66F4\u52A0\u6E05\u6670\uFF0C\u5BF9\u8C61\u5B9E\u4F8B\u5316\u66F4\u50CF\u662F\u4E00\u79CD\u9762\u5411\u5BF9\u8C61\u7F16\u7A0B\u3002<code>Class</code>\u7C7B\u53EF\u4EE5\u901A\u8FC7<code>extends</code>\u5B9E\u73B0\u7EE7\u627F\u3002\u5B83\u548CES5\u6784\u9020\u51FD\u6570\u7684\u4E0D\u540C\u70B9</p></blockquote><p>\u7C7B\u7684\u5185\u90E8\u5B9A\u4E49\u7684\u6240\u6709\u65B9\u6CD5\uFF0C\u90FD\u662F\u4E0D\u53EF\u679A\u4E3E\u7684</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">///ES5</span>
<span class="token keyword">function</span> <span class="token function">ES5Fun</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">ES5Fun</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	 <span class="token keyword">return</span> <span class="token string">&#39;(&#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">&#39;, &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">&#39;)&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ES5Fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token class-name">ES5Fun</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[&#39;toString&#39;]</span>

<span class="token comment">//ES6</span>
<span class="token keyword">class</span> <span class="token class-name">ES6Fun</span> <span class="token punctuation">{</span>
	<span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">toString</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&#39;(&#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">&#39;, &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">&#39;)&#39;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token class-name">ES6Fun</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><ul><li><code>ES6</code>\u7684<code>class</code>\u7C7B\u5FC5\u987B\u7528<code>new</code>\u547D\u4EE4\u64CD\u4F5C\uFF0C\u800C<code>ES5</code>\u7684\u6784\u9020\u51FD\u6570\u4E0D\u7528<code>new</code>\u4E5F\u53EF\u4EE5\u6267\u884C\u3002</li><li><code>ES6</code>\u7684<code>class</code>\u7C7B\u4E0D\u5B58\u5728\u53D8\u91CF\u63D0\u5347\uFF0C\u5FC5\u987B\u5148\u5B9A\u4E49<code>class</code>\u4E4B\u540E\u624D\u80FD\u5B9E\u4F8B\u5316\uFF0C\u4E0D\u50CF<code>ES5</code>\u4E2D\u53EF\u4EE5\u5C06\u6784\u9020\u51FD\u6570\u5199\u5728\u5B9E\u4F8B\u5316\u4E4B\u540E\u3002</li><li><code>ES5</code> \u7684\u7EE7\u627F\uFF0C\u5B9E\u8D28\u662F\u5148\u521B\u9020\u5B50\u7C7B\u7684\u5B9E\u4F8B\u5BF9\u8C61<code>this</code>\uFF0C\u7136\u540E\u518D\u5C06\u7236\u7C7B\u7684\u65B9\u6CD5\u6DFB\u52A0\u5230<code>this</code>\u4E0A\u9762\u3002<code>ES6</code> \u7684\u7EE7\u627F\u673A\u5236\u5B8C\u5168\u4E0D\u540C\uFF0C\u5B9E\u8D28\u662F\u5148\u5C06\u7236\u7C7B\u5B9E\u4F8B\u5BF9\u8C61\u7684\u5C5E\u6027\u548C\u65B9\u6CD5\uFF0C\u52A0\u5230<code>this</code>\u4E0A\u9762\uFF08\u6240\u4EE5\u5FC5\u987B\u5148\u8C03\u7528<code>super</code>\u65B9\u6CD5\uFF09\uFF0C\u7136\u540E\u518D\u7528\u5B50\u7C7B\u7684\u6784\u9020\u51FD\u6570\u4FEE\u6539<code>this</code>\u3002</li></ul>`,4),q3={id:"_20-module\u3001export\u3001import\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528",tabindex:"-1"},j3=n("a",{class:"header-anchor",href:"#_20-module\u3001export\u3001import\u662F\u4EC0\u4E48-\u6709\u4EC0\u4E48\u4F5C\u7528","aria-hidden":"true"},"#",-1),S3=s(),C3={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_20-module%E3%80%81export%E3%80%81import%E6%98%AF%E4%BB%80%E4%B9%88-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},D3=s("#"),F3=s("20 module\u3001export\u3001import\u662F\u4EC0\u4E48\uFF0C\u6709\u4EC0\u4E48\u4F5C\u7528\uFF1F"),P3=t("<ul><li><code>module</code>\u3001<code>export</code>\u3001<code>import</code>\u662F<code>ES6</code>\u7528\u6765\u7EDF\u4E00\u524D\u7AEF\u6A21\u5757\u5316\u65B9\u6848\u7684\u8BBE\u8BA1\u601D\u8DEF\u548C\u5B9E\u73B0\u65B9\u6848\u3002<code>export</code>\u3001<code>import</code>\u7684\u51FA\u73B0\u7EDF\u4E00\u4E86\u524D\u7AEF\u6A21\u5757\u5316\u7684\u5B9E\u73B0\u65B9\u6848\uFF0C\u6574\u5408\u89C4\u8303\u4E86\u6D4F\u89C8\u5668/\u670D\u52A1\u7AEF\u7684\u6A21\u5757\u5316\u65B9\u6CD5\uFF0C\u7528\u6765\u53D6\u4EE3\u4F20\u7EDF\u7684<code>AMD/CMD</code>\u3001<code>requireJS</code>\u3001<code>seaJS</code>\u3001<code>commondJS</code>\u7B49\u7B49\u4E00\u7CFB\u5217\u524D\u7AEF\u6A21\u5757\u4E0D\u540C\u7684\u5B9E\u73B0\u65B9\u6848\uFF0C\u4F7F\u524D\u7AEF\u6A21\u5757\u5316\u66F4\u52A0\u7EDF\u4E00\u89C4\u8303\uFF0C<code>JS</code>\u4E5F\u80FD\u66F4\u52A0\u80FD\u5B9E\u73B0\u5927\u578B\u7684\u5E94\u7528\u7A0B\u5E8F\u5F00\u53D1\u3002</li><li><code>import</code>\u5F15\u5165\u7684\u6A21\u5757\u662F\u9759\u6001\u52A0\u8F7D\uFF08\u7F16\u8BD1\u9636\u6BB5\u52A0\u8F7D\uFF09\u800C\u4E0D\u662F\u52A8\u6001\u52A0\u8F7D\uFF08\u8FD0\u884C\u65F6\u52A0\u8F7D\uFF09\u3002</li><li><code>import</code>\u5F15\u5165<code>export</code>\u5BFC\u51FA\u7684\u63A5\u53E3\u503C\u662F\u52A8\u6001\u7ED1\u5B9A\u5173\u7CFB\uFF0C\u5373\u901A\u8FC7\u8BE5\u63A5\u53E3\uFF0C\u53EF\u4EE5\u53D6\u5230\u6A21\u5757\u5185\u90E8\u5B9E\u65F6\u7684\u503C</li></ul>",1),T3={id:"_21-\u65E5\u5E38\u524D\u7AEF\u4EE3\u7801\u5F00\u53D1\u4E2D-\u6709\u54EA\u4E9B\u503C\u5F97\u7528es6\u53BB\u6539\u8FDB\u7684\u7F16\u7A0B\u4F18\u5316\u6216\u8005\u89C4\u8303",tabindex:"-1"},N3=n("a",{class:"header-anchor",href:"#_21-\u65E5\u5E38\u524D\u7AEF\u4EE3\u7801\u5F00\u53D1\u4E2D-\u6709\u54EA\u4E9B\u503C\u5F97\u7528es6\u53BB\u6539\u8FDB\u7684\u7F16\u7A0B\u4F18\u5316\u6216\u8005\u89C4\u8303","aria-hidden":"true"},"#",-1),M3=s(),O3={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_21-%E6%97%A5%E5%B8%B8%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E4%B8%AD-%E6%9C%89%E5%93%AA%E4%BA%9B%E5%80%BC%E5%BE%97%E7%94%A8es6%E5%8E%BB%E6%94%B9%E8%BF%9B%E7%9A%84%E7%BC%96%E7%A8%8B%E4%BC%98%E5%8C%96%E6%88%96%E8%80%85%E8%A7%84%E8%8C%83",target:"_blank",rel:"noopener noreferrer"},I3=s("#"),R3=s("21 \u65E5\u5E38\u524D\u7AEF\u4EE3\u7801\u5F00\u53D1\u4E2D\uFF0C\u6709\u54EA\u4E9B\u503C\u5F97\u7528ES6\u53BB\u6539\u8FDB\u7684\u7F16\u7A0B\u4F18\u5316\u6216\u8005\u89C4\u8303\uFF1F"),V3=t("<ul><li>\u5E38\u7528\u7BAD\u5934\u51FD\u6570\u6765\u53D6\u4EE3<code>var self = this</code>;\u7684\u505A\u6CD5\u3002</li><li>\u5E38\u7528<code>let</code>\u53D6\u4EE3<code>var</code>\u547D\u4EE4\u3002</li><li>\u5E38\u7528\u6570\u7EC4/\u5BF9\u8C61\u7684\u7ED3\u6784\u8D4B\u503C\u6765\u547D\u540D\u53D8\u91CF\uFF0C\u7ED3\u6784\u66F4\u6E05\u6670\uFF0C\u8BED\u4E49\u66F4\u660E\u786E\uFF0C\u53EF\u8BFB\u6027\u66F4\u597D\u3002</li><li>\u5728\u957F\u5B57\u7B26\u4E32\u591A\u53D8\u91CF\u7EC4\u5408\u573A\u5408\uFF0C\u7528\u6A21\u677F\u5B57\u7B26\u4E32\u6765\u53D6\u4EE3\u5B57\u7B26\u4E32\u7D2F\u52A0\uFF0C\u80FD\u53D6\u5F97\u66F4\u597D\u5730\u6548\u679C\u548C\u9605\u8BFB\u4F53\u9A8C\u3002</li><li>\u7528<code>Class</code>\u7C7B\u53D6\u4EE3\u4F20\u7EDF\u7684\u6784\u9020\u51FD\u6570\uFF0C\u6765\u751F\u6210\u5B9E\u4F8B\u5316\u5BF9\u8C61\u3002</li><li>\u5728\u5927\u578B\u5E94\u7528\u5F00\u53D1\u4E2D\uFF0C\u8981\u4FDD\u6301<code>module</code>\u6A21\u5757\u5316\u5F00\u53D1\u601D\u7EF4\uFF0C\u5206\u6E05\u6A21\u5757\u4E4B\u95F4\u7684\u5173\u7CFB\uFF0C\u5E38\u7528<code>import</code>\u3001<code>export</code>\u65B9\u6CD5\u3002</li></ul>",1),H3={id:"_22-es6\u7684\u4E86\u89E3",tabindex:"-1"},L3=n("a",{class:"header-anchor",href:"#_22-es6\u7684\u4E86\u89E3","aria-hidden":"true"},"#",-1),U3=s(),J3={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_22-es6%E7%9A%84%E4%BA%86%E8%A7%A3",target:"_blank",rel:"noopener noreferrer"},W3=s("#"),z3=s("22 ES6\u7684\u4E86\u89E3"),G3=n("blockquote",null,[n("p",null,"\u65B0\u589E\u6A21\u677F\u5B57\u7B26\u4E32\uFF08\u4E3AJavaScript\u63D0\u4F9B\u4E86\u7B80\u5355\u7684\u5B57\u7B26\u4E32\u63D2\u503C\u529F\u80FD\uFF09\u3001\u7BAD\u5934\u51FD\u6570\uFF08\u64CD\u4F5C\u7B26\u5DE6\u8FB9\u4E3A\u8F93\u5165\u7684\u53C2\u6570\uFF0C\u800C\u53F3\u8FB9\u5219\u662F\u8FDB\u884C\u7684\u64CD\u4F5C\u4EE5\u53CA\u8FD4\u56DE\u7684\u503CInputs=>outputs\u3002\uFF09\u3001for-of\uFF08\u7528\u6765\u904D\u5386\u6570\u636E\u2014\u4F8B\u5982\u6570\u7EC4\u4E2D\u7684\u503C\u3002\uFF09arguments\u5BF9\u8C61\u53EF\u88AB\u4E0D\u5B9A\u53C2\u6570\u548C\u9ED8\u8BA4\u53C2\u6570\u5B8C\u7F8E\u4EE3\u66FF\u3002ES6\u5C06promise\u5BF9\u8C61\u7EB3\u5165\u89C4\u8303\uFF0C\u63D0\u4F9B\u4E86\u539F\u751F\u7684Promise\u5BF9\u8C61\u3002\u589E\u52A0\u4E86let\u548Cconst\u547D\u4EE4\uFF0C\u7528\u6765\u58F0\u660E\u53D8\u91CF\u3002\u589E\u52A0\u4E86\u5757\u7EA7\u4F5C\u7528\u57DF\u3002let\u547D\u4EE4\u5B9E\u9645\u4E0A\u5C31\u589E\u52A0\u4E86\u5757\u7EA7\u4F5C\u7528\u57DF\u3002ES6\u89C4\u5B9A\uFF0Cvar\u547D\u4EE4\u548Cfunction\u547D\u4EE4\u58F0\u660E\u7684\u5168\u5C40\u53D8\u91CF\uFF0C\u5C5E\u4E8E\u5168\u5C40\u5BF9\u8C61\u7684\u5C5E\u6027\uFF1Blet\u547D\u4EE4\u3001const\u547D\u4EE4\u3001class\u547D\u4EE4\u58F0\u660E\u7684\u5168\u5C40\u53D8\u91CF\uFF0C\u4E0D\u5C5E\u4E8E\u5168\u5C40\u5BF9\u8C61\u7684\u5C5E\u6027\u3002\u3002\u8FD8\u6709\u5C31\u662F\u5F15\u5165module\u6A21\u5757\u7684\u6982\u5FF5")],-1),$3={id:"_23-\u8BF4\u8BF4\u4F60\u5BF9promise\u7684\u7406\u89E3",tabindex:"-1"},X3=n("a",{class:"header-anchor",href:"#_23-\u8BF4\u8BF4\u4F60\u5BF9promise\u7684\u7406\u89E3","aria-hidden":"true"},"#",-1),K3=s(),Q3={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_23-%E8%AF%B4%E8%AF%B4%E4%BD%A0%E5%AF%B9promise%E7%9A%84%E7%90%86%E8%A7%A3",target:"_blank",rel:"noopener noreferrer"},Y3=s("#"),Z3=s("23 \u8BF4\u8BF4\u4F60\u5BF9Promise\u7684\u7406\u89E3"),n2=t(`<ul><li><p>\u4F9D\u7167</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Promise/A+
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7684\u5B9A\u4E49\uFF0CPromise \u6709\u56DB\u79CD\u72B6\u6001\uFF1A</p><ul><li><code>pending</code>: \u521D\u59CB\u72B6\u6001, \u975E <code>fulfilled</code> \u6216 <code>rejected.</code></li><li><code>fulfilled</code>: \u6210\u529F\u7684\u64CD\u4F5C.</li><li><code>rejected</code>: \u5931\u8D25\u7684\u64CD\u4F5C.</li><li><code>settled</code>: <code>Promise</code>\u5DF2\u88AB<code>fulfilled</code>\u6216<code>rejected</code>\uFF0C\u4E14\u4E0D\u662F<code>pending</code></li></ul></li><li><p>\u53E6\u5916\uFF0C <code>fulfilled</code> \u4E0E <code>rejected</code> \u4E00\u8D77\u5408\u79F0 settled</p></li><li><p><code>Promise</code> \u5BF9\u8C61\u7528\u6765\u8FDB\u884C\u5EF6\u8FDF(<code>deferred</code>) \u548C\u5F02\u6B65(<code>asynchronous</code> ) \u8BA1\u7B97</p></li><li><p>\u53EF\u4EE5\u628A <code>Promise</code>\u770B\u6210\u4E00\u4E2A\u72B6\u6001\u673A\u3002\u521D\u59CB\u662F <code>pending</code> \u72B6\u6001\uFF0C\u53EF\u4EE5\u901A\u8FC7\u51FD\u6570 <code>resolve</code> \u548C <code>reject</code>\uFF0C\u5C06\u72B6\u6001\u8F6C\u53D8\u4E3A <code>resolved</code> \u6216\u8005 <code>rejected</code> \u72B6\u6001\uFF0C\u72B6\u6001\u4E00\u65E6\u6539\u53D8\u5C31\u4E0D\u80FD\u518D\u6B21\u53D8\u5316\u3002</p></li><li><p><code>then</code> \u51FD\u6570\u4F1A\u8FD4\u56DE\u4E00\u4E2A <code>Promise</code> \u5B9E\u4F8B\uFF0C\u5E76\u4E14\u8BE5\u8FD4\u56DE\u503C\u662F\u4E00\u4E2A\u65B0\u7684\u5B9E\u4F8B\u800C\u4E0D\u662F\u4E4B\u524D\u7684\u5B9E\u4F8B\u3002\u56E0\u4E3A <code>Promise</code> \u89C4\u8303\u89C4\u5B9A\u9664\u4E86 <code>pending</code> \u72B6\u6001\uFF0C\u5176\u4ED6\u72B6\u6001\u662F\u4E0D\u53EF\u4EE5\u6539\u53D8\u7684\uFF0C\u5982\u679C\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\u76F8\u540C\u5B9E\u4F8B\u7684\u8BDD\uFF0C\u591A\u4E2A <code>then</code>\u8C03\u7528\u5C31\u5931\u53BB\u610F\u4E49\u4E86</p></li></ul>`,1),s2={id:"_24-promise-\u7684\u6784\u9020\u51FD\u6570",tabindex:"-1"},a2=n("a",{class:"header-anchor",href:"#_24-promise-\u7684\u6784\u9020\u51FD\u6570","aria-hidden":"true"},"#",-1),e2=s(),t2={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_24-promise-%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},p2=s("#"),o2=s("24 Promise \u7684\u6784\u9020\u51FD\u6570"),c2=t(`<blockquote><p>\u6784\u9020\u4E00\u4E2A <code>Promise</code>\uFF0C\u6700\u57FA\u672C\u7684\u7528\u6CD5\u5982\u4E0B\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// succeed</span>

            <span class="token function">resolve</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   <span class="token comment">// fails</span>

            <span class="token function">reject</span><span class="token punctuation">(</span><span class="token function">Error</span><span class="token punctuation">(</span>errMessage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p><code>Promise</code> \u5B9E\u4F8B\u62E5\u6709 then \u65B9\u6CD5\uFF08\u5177\u6709 then \u65B9\u6CD5\u7684\u5BF9\u8C61\uFF0C\u901A\u5E38\u88AB\u79F0\u4E3Athenable\uFF09\u3002\u5B83\u7684\u4F7F\u7528\u65B9\u6CD5\u5982\u4E0B\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>onFulfilled<span class="token punctuation">,</span> onRejected<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u63A5\u6536\u4E24\u4E2A\u51FD\u6570\u4F5C\u4E3A\u53C2\u6570\uFF0C\u4E00\u4E2A\u5728 <code>fulfilled</code> \u7684\u65F6\u5019\u88AB\u8C03\u7528\uFF0C\u4E00\u4E2A\u5728<code>rejected</code>\u7684\u65F6\u5019\u88AB\u8C03\u7528\uFF0C\u63A5\u6536\u53C2\u6570\u5C31\u662F future\uFF0C<code>onFulfilled</code> \u5BF9\u5E94 <code>resolve</code>, <code>onRejected</code> \u5BF9\u5E94 <code>reject</code></p></blockquote><p><strong>\u4EC0\u4E48\u662F Promise \uFF1F</strong></p><ul><li>Promise \u5C31\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u7528\u6765\u8868\u793A\u5E76\u4F20\u9012\u5F02\u6B65\u64CD\u4F5C\u7684\u6700\u7EC8\u7ED3\u679C</li><li>Promise \u6700\u4E3B\u8981\u7684\u4EA4\u4E92\u65B9\u5F0F\uFF1A\u5C06\u56DE\u8C03\u51FD\u6570\u4F20\u5165 then \u65B9\u6CD5\u6765\u83B7\u5F97\u6700\u7EC8\u7ED3\u679C\u6216\u51FA\u9519\u539F\u56E0</li><li>Promise \u4EE3\u7801\u4E66\u5199\u4E0A\u7684\u8868\u73B0\uFF1A\u4EE5\u201C\u94FE\u5F0F\u8C03\u7528\u201D\u4EE3\u66FF\u56DE\u8C03\u51FD\u6570\u5C42\u5C42\u5D4C\u5957\uFF08\u56DE\u8C03\u5730\u72F1\uFF09</li></ul>`,7),l2={id:"_25-\u8C08\u4E00\u8C08\u4F60\u4E86\u89E3ecmascript6\u7684\u65B0\u7279\u6027",tabindex:"-1"},r2=n("a",{class:"header-anchor",href:"#_25-\u8C08\u4E00\u8C08\u4F60\u4E86\u89E3ecmascript6\u7684\u65B0\u7279\u6027","aria-hidden":"true"},"#",-1),i2=s(),u2={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_25-%E8%B0%88%E4%B8%80%E8%B0%88%E4%BD%A0%E4%BA%86%E8%A7%A3ecmascript6%E7%9A%84%E6%96%B0%E7%89%B9%E6%80%A7",target:"_blank",rel:"noopener noreferrer"},k2=s("#"),d2=s("25 \u8C08\u4E00\u8C08\u4F60\u4E86\u89E3ECMAScript6\u7684\u65B0\u7279\u6027\uFF1F"),b2=t(`<ul><li>\u5757\u7EA7\u4F5C\u7528\u533A\u57DF <code>let a = 1;</code></li><li>\u53EF\u5B9A\u4E49\u5E38\u91CF <code>const PI = 3.141592654;</code></li><li>\u53D8\u91CF\u89E3\u6784\u8D4B\u503C <code>var [a, b, c] = [1, 2, 3];</code></li><li>\u5B57\u7B26\u4E32\u7684\u6269\u5C55(\u6A21\u677F\u5B57\u7B26\u4E32) <code>var sum =</code>\${a + b}<code>;</code></li><li>\u6570\u7EC4\u7684\u6269\u5C55(\u8F6C\u6362\u6570\u7EC4\u7C7B\u578B) <code>Array.from($(&#39;li&#39;));</code></li><li>\u51FD\u6570\u7684\u6269\u5C55(\u6269\u5C55\u8FD0\u7B97\u7B26) <code>[1, 2].push(...[3, 4, 5]);</code></li><li>\u5BF9\u8C61\u7684\u6269\u5C55(\u540C\u503C\u76F8\u7B49\u7B97\u6CD5) <code>Object.is(NaN, NaN);</code></li><li>\u65B0\u589E\u6570\u636E\u7C7B\u578B(Symbol) <code>let uid = Symbol(&#39;uid&#39;);</code></li><li>\u65B0\u589E\u6570\u636E\u7ED3\u6784(Map) <code>let set = new Set([1, 2, 2, 3]);</code></li><li>for...of\u5FAA\u73AF <code>for(let val of arr){};</code></li><li>Promise\u5BF9\u8C61 <code>var promise = new Promise(func);</code></li><li>Generator\u51FD\u6570 <code>function* foo(x){yield x; return x*x;}</code></li><li>\u5F15\u5165Class(\u7C7B) <code>class Foo {}</code></li><li>\u5F15\u5165\u6A21\u5757\u4F53\u7CFB <code>export default func;</code></li><li>\u5F15\u5165async\u51FD\u6570[ES7]</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">asyncPrint</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">await</span> <span class="token function">timeout</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
     
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,2),m2={id:"_26-object-is-\u4E0E\u539F\u6765\u7684\u6BD4\u8F83\u64CD\u4F5C\u7B26-\u3001-\u7684\u533A\u522B",tabindex:"-1"},h2=n("a",{class:"header-anchor",href:"#_26-object-is-\u4E0E\u539F\u6765\u7684\u6BD4\u8F83\u64CD\u4F5C\u7B26-\u3001-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),_2=s(),g2={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_26-object-is-%E4%B8%8E%E5%8E%9F%E6%9D%A5%E7%9A%84%E6%AF%94%E8%BE%83%E6%93%8D%E4%BD%9C%E7%AC%A6-%E3%80%81-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},E2=s("#"),f2=s("26 Object.is() \u4E0E\u539F\u6765\u7684\u6BD4\u8F83\u64CD\u4F5C\u7B26 ===\u3001== \u7684\u533A\u522B\uFF1F"),v2=t(`<ul><li><code>==</code> \u76F8\u7B49\u8FD0\u7B97\u7B26\uFF0C\u6BD4\u8F83\u65F6\u4F1A\u81EA\u52A8\u8FDB\u884C\u6570\u636E\u7C7B\u578B\u8F6C\u6362</li><li><code>===</code> \u4E25\u683C\u76F8\u7B49\u8FD0\u7B97\u7B26\uFF0C\u6BD4\u8F83\u65F6\u4E0D\u8FDB\u884C\u9690\u5F0F\u7C7B\u578B\u8F6C\u6362</li><li><code>Object.is</code> \u540C\u503C\u76F8\u7B49\u7B97\u6CD5\uFF0C\u5728 <code>===</code> \u57FA\u7840\u4E0A\u5BF9 <code>0</code> \u548C <code>NaN</code> \u7279\u522B\u5904\u7406</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">+</span><span class="token number">0</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">0</span> <span class="token comment">//true</span>
<span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span> <span class="token comment">// false</span>

Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,2),w2={id:"_27-\u4EC0\u4E48\u662F-babel",tabindex:"-1"},y2=n("a",{class:"header-anchor",href:"#_27-\u4EC0\u4E48\u662F-babel","aria-hidden":"true"},"#",-1),x2=s(),A2={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_27-%E4%BB%80%E4%B9%88%E6%98%AF-babel",target:"_blank",rel:"noopener noreferrer"},B2=s("#"),q2=s("27 \u4EC0\u4E48\u662F Babel"),j2=n("ul",null,[n("li",null,[n("code",null,"Babel"),s(" \u662F\u4E00\u4E2A JS \u7F16\u8BD1\u5668\uFF0C\u81EA\u5E26\u4E00\u7EC4 ES6 \u8BED\u6CD5\u8F6C\u5316\u5668\uFF0C\u7528\u4E8E\u8F6C\u5316 JS \u4EE3\u7801\u3002 \u8FD9\u4E9B\u8F6C\u5316\u5668\u8BA9\u5F00\u53D1\u8005\u63D0\u524D\u4F7F\u7528\u6700\u65B0\u7684 JS\u8BED\u6CD5(ES6/ES7)\uFF0C\u800C\u4E0D\u7528\u7B49\u6D4F\u89C8\u5668\u5168\u90E8\u517C\u5BB9\u3002")]),n("li",null,[n("code",null,"Babel"),s(" \u9ED8\u8BA4\u53EA\u8F6C\u6362\u65B0\u7684 JS \u53E5\u6CD5(syntax)\uFF0C\u800C\u4E0D\u8F6C\u6362\u65B0\u7684API\u3002")])],-1),S2={id:"_28-symbol-\u6709\u4EC0\u4E48\u7528\u5904",tabindex:"-1"},C2=n("a",{class:"header-anchor",href:"#_28-symbol-\u6709\u4EC0\u4E48\u7528\u5904","aria-hidden":"true"},"#",-1),D2=s(),F2={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_28-symbol-%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%E5%A4%84",target:"_blank",rel:"noopener noreferrer"},P2=s("#"),T2=s("28 symbol \u6709\u4EC0\u4E48\u7528\u5904"),N2=n("blockquote",null,[n("p",null,"\u53EF\u4EE5\u7528\u6765\u8868\u793A\u4E00\u4E2A\u72EC\u4E00\u65E0\u4E8C\u7684\u53D8\u91CF\u9632\u6B62\u547D\u540D\u51B2\u7A81\u3002\u4F46\u662F\u9762\u8BD5\u5B98\u95EE\u8FD8\u6709\u5417\uFF1F\u6211\u6CA1\u60F3\u51FA\u5176\u4ED6\u7684\u7528\u5904\u5C31\u76F4\u63A5\u7B54\u6211\u4E0D\u77E5\u9053\u4E86\uFF0C\u8FD8\u53EF\u4EE5\u5229\u7528 symbol \u4E0D\u4F1A\u88AB\u5E38\u89C4\u7684\u65B9\u6CD5\uFF08\u9664\u4E86 Object.getOwnPropertySymbols \u5916\uFF09\u904D\u5386\u5230\uFF0C\u6240\u4EE5\u53EF\u4EE5\u7528\u6765\u6A21\u62DF\u79C1\u6709\u53D8\u91CF\u3002")],-1),M2=n("p",null,"\u4E3B\u8981\u7528\u6765\u63D0\u4F9B\u904D\u5386\u63A5\u53E3\uFF0C\u5E03\u7F6E\u4E86 symbol.iterator \u7684\u5BF9\u8C61\u624D\u53EF\u4EE5\u4F7F\u7528 for\xB7\xB7\xB7of \u5FAA\u73AF\uFF0C\u53EF\u4EE5\u7EDF\u4E00\u5904\u7406\u6570\u636E\u7ED3\u6784\u3002\u8C03\u7528\u4E4B\u540E\u56DE\u8FD4\u56DE\u4E00\u4E2A\u904D\u5386\u5668\u5BF9\u8C61\uFF0C\u5305\u542B\u6709\u4E00\u4E2A next \u65B9\u6CD5\uFF0C\u4F7F\u7528 next \u65B9\u6CD5\u540E\u6709\u4E24\u4E2A\u8FD4\u56DE\u503C value \u548C done \u5206\u522B\u8868\u793A\u51FD\u6570\u5F53\u524D\u6267\u884C\u4F4D\u7F6E\u7684\u503C\u548C\u662F\u5426\u904D\u5386\u5B8C\u6BD5\u3002",-1),O2=n("blockquote",null,[n("div",{class:"language-text ext-text line-numbers-mode"},[n("pre",{class:"language-text"},[n("code",null,"Symbol.for()` \u53EF\u4EE5\u5728\u5168\u5C40\u8BBF\u95EE `symbol\n")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br")])])],-1),I2={id:"_29-\u6A21\u5757\u5316",tabindex:"-1"},R2=n("a",{class:"header-anchor",href:"#_29-\u6A21\u5757\u5316","aria-hidden":"true"},"#",-1),V2=s(),H2={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_29-%E6%A8%A1%E5%9D%97%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},L2=s("#"),U2=s("29 \u6A21\u5757\u5316"),J2=t(`<blockquote><p>\u5728\u6709 <code>Babel</code> \u7684\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 <code>ES6</code>\u7684\u6A21\u5757\u5316</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// file a.js</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// file b.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span>a<span class="token punctuation">,</span> b<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./a.js&#39;</span>
<span class="token keyword">import</span> <span class="token constant">XXX</span> <span class="token keyword">from</span> <span class="token string">&#39;./b.js&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>CommonJS</strong></p><blockquote><p><code>CommonJs</code> \u662F <code>Node</code> \u72EC\u6709\u7684\u89C4\u8303\uFF0C\u6D4F\u89C8\u5668\u4E2D\u4F7F\u7528\u5C31\u9700\u8981\u7528\u5230 <code>Browserify</code>\u89E3\u6790\u4E86\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// a.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token comment">// or</span>
exports<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">// b.js</span>
<span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./a.js&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>a <span class="token comment">// -&gt; log 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>\u5728\u4E0A\u8FF0\u4EE3\u7801\u4E2D\uFF0C<code>module.exports</code> \u548C <code>exports</code> \u5F88\u5BB9\u6613\u6DF7\u6DC6\uFF0C\u8BA9\u6211\u4EEC\u6765\u770B\u770B\u5927\u81F4\u5185\u90E8\u5B9E\u73B0</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./a.js&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>a
<span class="token comment">// \u8FD9\u91CC\u5176\u5B9E\u5C31\u662F\u5305\u88C5\u4E86\u4E00\u5C42\u7ACB\u5373\u6267\u884C\u51FD\u6570\uFF0C\u8FD9\u6837\u5C31\u4E0D\u4F1A\u6C61\u67D3\u5168\u5C40\u53D8\u91CF\u4E86\uFF0C</span>
<span class="token comment">// \u91CD\u8981\u7684\u662F module \u8FD9\u91CC\uFF0Cmodule \u662F Node \u72EC\u6709\u7684\u4E00\u4E2A\u53D8\u91CF</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u57FA\u672C\u5B9E\u73B0</span>
<span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">exports</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// exports \u5C31\u662F\u4E2A\u7A7A\u5BF9\u8C61</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u8FD9\u4E2A\u662F\u4E3A\u4EC0\u4E48 exports \u548C module.exports \u7528\u6CD5\u76F8\u4F3C\u7684\u539F\u56E0</span>
<span class="token keyword">var</span> exports <span class="token operator">=</span> module<span class="token punctuation">.</span>exports
<span class="token keyword">var</span> <span class="token function-variable function">load</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5BFC\u51FA\u7684\u4E1C\u897F</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> a
    <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>\u518D\u6765\u8BF4\u8BF4 <code>module.exports</code> \u548C<code>exports</code>\uFF0C\u7528\u6CD5\u5176\u5B9E\u662F\u76F8\u4F3C\u7684\uFF0C\u4F46\u662F\u4E0D\u80FD\u5BF9 <code>exports</code> \u76F4\u63A5\u8D4B\u503C\uFF0C\u4E0D\u4F1A\u6709\u4EFB\u4F55\u6548\u679C\u3002</p></blockquote><blockquote><p>\u5BF9\u4E8E <code>CommonJS</code> \u548C <code>ES6</code> \u4E2D\u7684\u6A21\u5757\u5316\u7684\u4E24\u8005\u533A\u522B\u662F\uFF1A</p></blockquote><ul><li>\u524D\u8005\u652F\u6301\u52A8\u6001\u5BFC\u5165\uFF0C\u4E5F\u5C31\u662F <code>require(\${path}/xx.js)</code>\uFF0C\u540E\u8005\u76EE\u524D\u4E0D\u652F\u6301\uFF0C\u4F46\u662F\u5DF2\u6709\u63D0\u6848,\u524D\u8005\u662F\u540C\u6B65\u5BFC\u5165\uFF0C\u56E0\u4E3A\u7528\u4E8E\u670D\u52A1\u7AEF\uFF0C\u6587\u4EF6\u90FD\u5728\u672C\u5730\uFF0C\u540C\u6B65\u5BFC\u5165\u5373\u4F7F\u5361\u4F4F\u4E3B\u7EBF\u7A0B\u5F71\u54CD\u4E5F\u4E0D\u5927\u3002</li><li>\u800C\u540E\u8005\u662F\u5F02\u6B65\u5BFC\u5165\uFF0C\u56E0\u4E3A\u7528\u4E8E\u6D4F\u89C8\u5668\uFF0C\u9700\u8981\u4E0B\u8F7D\u6587\u4EF6\uFF0C\u5982\u679C\u4E5F\u91C7\u7528\u540C\u6B65\u5BFC\u5165\u4F1A\u5BF9\u6E32\u67D3\u6709\u5F88\u5927\u5F71\u54CD</li><li>\u524D\u8005\u5728\u5BFC\u51FA\u65F6\u90FD\u662F\u503C\u62F7\u8D1D\uFF0C\u5C31\u7B97\u5BFC\u51FA\u7684\u503C\u53D8\u4E86\uFF0C\u5BFC\u5165\u7684\u503C\u4E5F\u4E0D\u4F1A\u6539\u53D8\uFF0C\u6240\u4EE5\u5982\u679C\u60F3\u66F4\u65B0\u503C\uFF0C\u5FC5\u987B\u91CD\u65B0\u5BFC\u5165\u4E00\u6B21\u3002</li><li>\u4F46\u662F\u540E\u8005\u91C7\u7528\u5B9E\u65F6\u7ED1\u5B9A\u7684\u65B9\u5F0F\uFF0C\u5BFC\u5165\u5BFC\u51FA\u7684\u503C\u90FD\u6307\u5411\u540C\u4E00\u4E2A\u5185\u5B58\u5730\u5740\uFF0C\u6240\u4EE5\u5BFC\u5165\u503C\u4F1A\u8DDF\u968F\u5BFC\u51FA\u503C\u53D8\u5316</li><li>\u540E\u8005\u4F1A\u7F16\u8BD1\u6210 <code>require/exports</code> \u6765\u6267\u884C\u7684</li></ul><p><strong>AMD</strong></p><blockquote><p><code>AMD</code> \u662F\u7531 <code>RequireJS</code> \u63D0\u51FA\u7684</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// AMD</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;./a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;./b&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">.</span><span class="token function">do</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    b<span class="token punctuation">.</span><span class="token function">do</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./a&#39;</span><span class="token punctuation">)</span>  
    a<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./b&#39;</span><span class="token punctuation">)</span>
    b<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,13),W2={id:"_30-\u7BAD\u5934\u51FD\u6570\u7684\u7279\u70B9",tabindex:"-1"},z2=n("a",{class:"header-anchor",href:"#_30-\u7BAD\u5934\u51FD\u6570\u7684\u7279\u70B9","aria-hidden":"true"},"#",-1),G2=s(),$2={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_30-%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E7%9A%84%E7%89%B9%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},X2=s("#"),K2=s("30 \u7BAD\u5934\u51FD\u6570\u7684\u7279\u70B9"),Q2=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>\u7BAD\u5934\u51FD\u6570\u5176\u5B9E\u662F\u6CA1\u6709 <code>this</code> \u7684\uFF0C\u8FD9\u4E2A\u51FD\u6570\u4E2D\u7684 <code>this</code> \u53EA\u53D6\u51B3\u4E8E\u4ED6\u5916\u9762\u7684\u7B2C\u4E00\u4E2A\u4E0D\u662F\u7BAD\u5934\u51FD\u6570\u7684\u51FD\u6570\u7684 <code>this</code>\u3002\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u56E0\u4E3A\u8C03\u7528 <code>a</code> \u7B26\u5408\u524D\u9762\u4EE3\u7801\u4E2D\u7684\u7B2C\u4E00\u4E2A\u60C5\u51B5\uFF0C\u6240\u4EE5 <code>this</code> \u662F<code>window</code>\u3002\u5E76\u4E14 <code>this</code>\u4E00\u65E6\u7ED1\u5B9A\u4E86\u4E0A\u4E0B\u6587\uFF0C\u5C31\u4E0D\u4F1A\u88AB\u4EFB\u4F55\u4EE3\u7801\u6539\u53D8</p></blockquote>`,2),Y2={id:"_31-es5-es6-\u7684\u7EE7\u627F\u9664\u4E86\u5199\u6CD5\u4EE5\u5916\u8FD8\u6709\u4EC0\u4E48\u533A\u522B",tabindex:"-1"},Z2=n("a",{class:"header-anchor",href:"#_31-es5-es6-\u7684\u7EE7\u627F\u9664\u4E86\u5199\u6CD5\u4EE5\u5916\u8FD8\u6709\u4EC0\u4E48\u533A\u522B","aria-hidden":"true"},"#",-1),nv=s(),sv={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_31-es5-es6-%E7%9A%84%E7%BB%A7%E6%89%BF%E9%99%A4%E4%BA%86%E5%86%99%E6%B3%95%E4%BB%A5%E5%A4%96%E8%BF%98%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},av=s("#"),ev=s("31 ES5 / ES6 \u7684\u7EE7\u627F\u9664\u4E86\u5199\u6CD5\u4EE5\u5916\u8FD8\u6709\u4EC0\u4E48\u533A\u522B"),tv=n("ul",null,[n("li",null,"ES5 \u7684\u7EE7\u627F\u5B9E\u8D28\u4E0A\u662F\u5148\u521B\u5EFA\u5B50\u7C7B\u7684\u5B9E\u4F8B\u5BF9\u8C61\uFF0C\u7136\u540E\u518D\u5C06\u7236\u7C7B\u7684\u65B9\u6CD5\u6DFB\u52A0\u5230 this \u4E0A\uFF08Parent.apply(this)\uFF09"),n("li",null,"ES6 \u7684\u7EE7\u627F\u673A\u5236\u5B8C\u5168\u4E0D\u540C\uFF0C\u5B9E\u8D28\u4E0A\u662F\u5148\u521B\u5EFA\u7236\u7C7B\u7684\u5B9E\u4F8B\u5BF9\u8C61 this\uFF08\u6240\u4EE5\u5FC5\u987B\u5148\u8C03\u7528\u7236\u7C7B\u7684 super()\u65B9\u6CD5\uFF09\uFF0C\u7136\u540E\u518D\u7528\u5B50\u7C7B\u7684\u6784\u9020\u51FD\u6570\u4FEE\u6539 this\u3002"),n("li",null,"ES5 \u7684\u7EE7\u627F\u65F6\u901A\u8FC7\u539F\u578B\u6216\u6784\u9020\u51FD\u6570\u673A\u5236\u6765\u5B9E\u73B0\u3002"),n("li",null,"ES6 \u901A\u8FC7 class \u5173\u952E\u5B57\u5B9A\u4E49\u7C7B\uFF0C\u91CC\u9762\u6709\u6784\u9020\u65B9\u6CD5\uFF0C\u7C7B\u4E4B\u95F4\u901A\u8FC7 extends \u5173\u952E\u5B57\u5B9E\u73B0\u7EE7\u627F\u3002"),n("li",null,"\u5B50\u7C7B\u5FC5\u987B\u5728 constructor \u65B9\u6CD5\u4E2D\u8C03\u7528 super \u65B9\u6CD5\uFF0C\u5426\u5219\u65B0\u5EFA\u5B9E\u4F8B\u62A5\u9519\u3002\u56E0\u4E3A\u5B50\u7C7B\u6CA1\u6709\u81EA\u5DF1\u7684 this \u5BF9\u8C61\uFF0C\u800C\u662F\u7EE7\u627F\u4E86\u7236\u7C7B\u7684 this \u5BF9\u8C61\uFF0C\u7136\u540E\u5BF9\u5176\u8FDB\u884C\u52A0\u5DE5\u3002\u5982\u679C\u4E0D\u8C03\u7528 super \u65B9\u6CD5\uFF0C\u5B50\u7C7B\u5F97\u4E0D\u5230 this \u5BF9\u8C61\u3002"),n("li",null,"\u6CE8\u610F super \u5173\u952E\u5B57\u6307\u4EE3\u7236\u7C7B\u7684\u5B9E\u4F8B\uFF0C\u5373\u7236\u7C7B\u7684 this \u5BF9\u8C61\u3002"),n("li",null,"\u6CE8\u610F\uFF1A\u5728\u5B50\u7C7B\u6784\u9020\u51FD\u6570\u4E2D\uFF0C\u8C03\u7528 super \u540E\uFF0C\u624D\u53EF\u4F7F\u7528 this \u5173\u952E\u5B57\uFF0C\u5426\u5219\u62A5\u9519\u3002function \u58F0\u660E\u4F1A\u63D0\u5347\uFF0C\u4F46\u4E0D\u4F1A\u521D\u59CB\u5316\u8D4B\u503C\u3002Foo \u8FDB\u5165\u6682\u65F6\u6027\u6B7B\u533A\uFF0C\u7C7B\u4F3C\u4E8E let\u3001const \u58F0\u660E\u53D8\u91CF")],-1),pv={id:"_32-\u5168\u5C40\u4F5C\u7528\u57DF\u4E2D-\u7528-const-\u548C-let-\u58F0\u660E\u7684\u53D8\u91CF\u4E0D\u5728-window-\u4E0A-\u90A3\u5230\u5E95\u5728\u54EA\u91CC-\u5982\u4F55\u53BB\u83B7\u53D6",tabindex:"-1"},ov=n("a",{class:"header-anchor",href:"#_32-\u5168\u5C40\u4F5C\u7528\u57DF\u4E2D-\u7528-const-\u548C-let-\u58F0\u660E\u7684\u53D8\u91CF\u4E0D\u5728-window-\u4E0A-\u90A3\u5230\u5E95\u5728\u54EA\u91CC-\u5982\u4F55\u53BB\u83B7\u53D6","aria-hidden":"true"},"#",-1),cv=s(),lv={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_32-%E5%85%A8%E5%B1%80%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%AD-%E7%94%A8-const-%E5%92%8C-let-%E5%A3%B0%E6%98%8E%E7%9A%84%E5%8F%98%E9%87%8F%E4%B8%8D%E5%9C%A8-window-%E4%B8%8A-%E9%82%A3%E5%88%B0%E5%BA%95%E5%9C%A8%E5%93%AA%E9%87%8C-%E5%A6%82%E4%BD%95%E5%8E%BB%E8%8E%B7%E5%8F%96",target:"_blank",rel:"noopener noreferrer"},rv=s("#"),iv=s("32 \u5168\u5C40\u4F5C\u7528\u57DF\u4E2D\uFF0C\u7528 const \u548C let \u58F0\u660E\u7684\u53D8\u91CF\u4E0D\u5728 window \u4E0A\uFF0C\u90A3\u5230\u5E95\u5728\u54EA\u91CC\uFF1F\u5982\u4F55\u53BB\u83B7\u53D6\uFF1F"),uv=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5728 ES5 \u4E2D\uFF0C\u9876\u5C42\u5BF9\u8C61\u7684\u5C5E\u6027\u548C\u5168\u5C40\u53D8\u91CF\u662F\u7B49\u4EF7\u7684\uFF0Cvar \u547D\u4EE4\u548C function \u547D\u4EE4\u58F0\u660E\u7684\u5168\u5C40\u53D8\u91CF\uFF0C\u81EA\u7136\u4E5F\u662F\u9876\u5C42\u5BF9\u8C61\u3002</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 12console.log(window.f);</span>
<span class="token comment">// f(){}</span>

<span class="token comment">// \u4F46 ES6 \u89C4\u5B9A\uFF0Cvar \u547D\u4EE4\u548C function \u547D\u4EE4\u58F0\u660E\u7684\u5168\u5C40\u53D8\u91CF\uFF0C\u4F9D\u65E7\u662F\u9876\u5C42\u5BF9\u8C61\u7684\u5C5E\u6027\uFF0C\u4F46 let \u547D\u4EE4\u3001const \u547D\u4EE4\u3001class \u547D\u4EE4\u58F0\u660E\u7684\u5168\u5C40\u53D8\u91CF\uFF0C\u4E0D\u5C5E\u4E8E\u9876\u5C42\u5BF9\u8C61\u7684\u5C5E\u6027\u3002</span>
<span class="token keyword">let</span> aa <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bb <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>aa<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// undefinedconsole.log(window.bb);</span>
<span class="token comment">// undefined</span>

<span class="token comment">// \u5728\u54EA\u91CC\uFF1F\u600E\u4E48\u83B7\u53D6\uFF1F\u901A\u8FC7\u5728\u8BBE\u7F6E\u65AD\u70B9\uFF0C\u770B\u770B\u6D4F\u89C8\u5668\u662F\u600E\u4E48\u5904\u7406\u7684\uFF1A</span>
<span class="token comment">//\u901A\u8FC7\u4E0A\u56FE\u4E5F\u53EF\u4EE5\u770B\u5230\uFF0C\u5728\u5168\u5C40\u4F5C\u7528\u57DF\u4E2D\uFF0C\u7528 let \u548C const \u58F0\u660E\u7684\u5168\u5C40\u53D8\u91CF\u5E76\u6CA1</span>
<span class="token comment">//\u6709\u5728\u5168\u5C40\u5BF9\u8C61\u4E2D\uFF0C\u53EA\u662F\u4E00\u4E2A\u5757\u7EA7\u4F5C\u7528\u57DF\uFF08Script\uFF09\u4E2D\u600E\u4E48\u83B7\u53D6\uFF1F\u5728\u5B9A\u4E49\u53D8\u91CF\u7684\u5757\u7EA7\u4F5C\u7528\u57DF\u4E2D\u5C31\u80FD\u83B7\u53D6\u554A\uFF0C\u65E2\u7136\u4E0D\u5C5E\u4E8E\u9876\u5C42\u5BF9\u8C61\uFF0C\u90A3\u5C31\u4E0D\u52A0 window\uFF08global\uFF09\u5457\u3002</span>
<span class="token keyword">let</span> aa <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bb <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aa<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1console.log(bb);</span>
<span class="token comment">// 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div>`,1),kv={id:"_33-\u4ECB\u7ECD\u4E0B-set\u3001map\u3001weakset-\u548C-weakmap-\u7684\u533A\u522B",tabindex:"-1"},dv=n("a",{class:"header-anchor",href:"#_33-\u4ECB\u7ECD\u4E0B-set\u3001map\u3001weakset-\u548C-weakmap-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),bv=s(),mv={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_33-%E4%BB%8B%E7%BB%8D%E4%B8%8B-set%E3%80%81map%E3%80%81weakset-%E5%92%8C-weakmap-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},hv=s("#"),_v=s("33 \u4ECB\u7ECD\u4E0B Set\u3001Map\u3001WeakSet \u548C WeakMap \u7684\u533A\u522B"),gv=t("<p><strong>Set</strong></p><ul><li>\u6210\u5458\u4E0D\u80FD\u91CD\u590D</li><li>\u53EA\u6709\u5065\u503C\uFF0C\u6CA1\u6709\u5065\u540D\uFF0C\u6709\u70B9\u7C7B\u4F3C\u6570\u7EC4</li><li>\u53EF\u4EE5\u904D\u5386\uFF0C\u65B9\u6CD5\u6709<code>add</code>, <code>delete</code>,<code>has</code></li></ul><p><strong>weakSet</strong></p><ul><li>\u6210\u5458\u90FD\u662F\u5BF9\u8C61</li><li>\u6210\u5458\u90FD\u662F\u5F31\u5F15\u7528\uFF0C\u968F\u65F6\u53EF\u4EE5\u6D88\u5931\u3002 \u53EF\u4EE5\u7528\u6765\u4FDD\u5B58DOM\u8282\u70B9\uFF0C\u4E0D\u5BB9\u6613\u9020\u6210\u5185\u5B58\u6CC4\u6F0F</li><li>\u4E0D\u80FD\u904D\u5386\uFF0C\u65B9\u6CD5\u6709<code>add</code>, <code>delete</code>,<code>has</code></li></ul><p><strong>Map</strong></p><ul><li>\u672C\u8D28\u4E0A\u662F\u5065\u503C\u5BF9\u7684\u96C6\u5408\uFF0C\u7C7B\u4F3C\u96C6\u5408</li><li>\u53EF\u4EE5\u904D\u5386\uFF0C\u65B9\u6CD5\u5F88\u591A\uFF0C\u53EF\u4EE5\u5E72\u8DDF\u5404\u79CD\u6570\u636E\u683C\u5F0F\u8F6C\u6362</li></ul><p><strong>weakMap</strong></p><ul><li>\u76F4\u63A5\u53D7\u5BF9\u8C61\u4F5C\u4E3A\u5065\u540D\uFF08<code>null</code>\u9664\u5916\uFF09\uFF0C\u4E0D\u63A5\u53D7\u5176\u4ED6\u7C7B\u578B\u7684\u503C\u4F5C\u4E3A\u5065\u540D</li><li>\u5065\u540D\u6240\u6307\u5411\u7684\u5BF9\u8C61\uFF0C\u4E0D\u8BA1\u5165\u5783\u573E\u56DE\u6536\u673A\u5236</li><li>\u4E0D\u80FD\u904D\u5386\uFF0C\u65B9\u6CD5\u540C<code>get</code>,<code>set</code>,<code>has</code>,<code>delete</code></li></ul>",8),Ev={id:"_34-promise-all-\u548C-promise-allsettled-\u7684\u6BD4\u8F83",tabindex:"-1"},fv=n("a",{class:"header-anchor",href:"#_34-promise-all-\u548C-promise-allsettled-\u7684\u6BD4\u8F83","aria-hidden":"true"},"#",-1),vv=s(),wv={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#_34-promise-all-%E5%92%8C-promise-allsettled-%E7%9A%84%E6%AF%94%E8%BE%83",target:"_blank",rel:"noopener noreferrer"},yv=s("#"),xv=s("34 Promise.all() \u548C Promise.allSettled()\u7684\u6BD4\u8F83"),Av={id:"promise-allsettled",tabindex:"-1"},Bv=n("a",{class:"header-anchor",href:"#promise-allsettled","aria-hidden":"true"},"#",-1),qv=s(),jv={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#promise-allsettled",target:"_blank",rel:"noopener noreferrer"},Sv=s("#"),Cv=s("Promise.allSettled()"),Dv=t(`<blockquote><p>\u63A5\u53D7\u7684\u7ED3\u679C\u4E0E\u5165\u53C2\u65F6\u7684promise\u5B9E\u4F8B\u4E00\u4E00\u5BF9\u5E94\uFF0C\u4E14\u7ED3\u679C\u7684\u6BCF\u4E00\u9879\u90FD\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u544A\u8BC9\u4F60\u7ED3\u679C\u548C\u503C\uFF0C\u5BF9\u8C61\u5185\u90FD\u6709\u4E00\u4E2A\u5C5E\u6027\u53EB\u201Cstatus\u201D\uFF0C\u7528\u6765\u660E\u786E\u77E5\u9053\u5BF9\u5E94\u7684\u8FD9\u4E2Apromise\u5B9E\u4F8B\u7684\u72B6\u6001\uFF08fulfilled\u6216rejected\uFF09\uFF0Cfulfilled\u65F6\uFF0C\u5BF9\u8C61\u6709value\u5C5E\u6027\uFF0Crejected\u65F6\u6709reason\u5C5E\u6027\uFF0C\u5BF9\u5E94\u4E24\u79CD\u72B6\u6001\u7684\u8FD4\u56DE\u503C\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> resolved <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> rejected <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> allSettledPromise <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">allSettled</span><span class="token punctuation">(</span><span class="token punctuation">[</span>resolved<span class="token punctuation">,</span> rejected<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

allSettledPromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">results</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [</span>
<span class="token comment">//    { status: &#39;fulfilled&#39;, value: 42 },</span>
<span class="token comment">//    { status: &#39;rejected&#39;, reason: -1 }</span>
<span class="token comment">// ]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>\u91CD\u8981\u7684\u4E00\u70B9\u662F\uFF0C\u4ED6\u4E0D\u8BBA\u63A5\u53D7\u5165\u53C2\u7684promise\u672C\u8EAB\u7684\u72B6\u6001\uFF0C\u4F1A\u8FD4\u56DE\u6240\u6709promise\u7684\u7ED3\u679C\uFF0C\u4F46\u8FD9\u4E00\u70B9<code>Promise.all</code>\u505A\u4E0D\u5230\uFF0C\u5982\u679C\u4F60\u9700\u8981\u77E5\u9053\u6240\u6709\u5165\u53C2\u7684\u5F02\u6B65\u64CD\u4F5C\u7684\u6240\u6709\u7ED3\u679C\uFF0C\u6216\u8005\u9700\u8981\u77E5\u9053\u8FD9\u4E9B\u5F02\u6B65\u64CD\u4F5C\u662F\u5426\u5168\u90E8\u7ED3\u675F\uFF0C\u5E94\u8BE5\u4F7F\u7528<code>promise.allSettled()</code></p></blockquote>`,3),Fv={id:"promise-all",tabindex:"-1"},Pv=n("a",{class:"header-anchor",href:"#promise-all","aria-hidden":"true"},"#",-1),Tv=s(),Nv={href:"http://interview.poetries.top/excellent-docs/4-ES6%E6%A8%A1%E5%9D%97.html#promise-all",target:"_blank",rel:"noopener noreferrer"},Mv=s("#"),Ov=s("Promise.all()"),Iv=t(`<blockquote><p>\u53EA\u6709\u5F53\u6240\u6709\u5165\u53C2\u7684promise\u5B9E\u4F8B\u90FD\u662F<code>fulfilled</code>\u72B6\u6001\uFF0C\u624D\u4F1A\u5728<code>Promise.all().then()</code>\u65B9\u6CD5\u4E2D\u7ED3\u679C\uFF0C\u8FD4\u56DE\u7ED3\u679C\u4E5F\u662F\u4E0E\u5165\u53C2\u4E00\u4E00\u5BF9\u5E94\uFF0C\u7ED3\u679C\u4E2D\u53EA\u5305\u542B\u5B9E\u9645\u7684<code>resolve</code>\u7684\u7ED3\u679C\uFF0C\u4E0D\u5305\u542B\u7C7B\u4F3C<code>allSettled</code>\u7684<code>status</code>\u548C<code>value</code>\u5C5E\u6027\u3002</p></blockquote><h1 id="_5-\u6D4F\u89C8\u5668\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#_5-\u6D4F\u89C8\u5668\u6A21\u5757" aria-hidden="true">#</a> 5 \u6D4F\u89C8\u5668\u6A21\u5757</h1><h2 id="_1-\u8DE8\u6807\u7B7E\u9875\u901A\u8BAF" tabindex="-1"><a class="header-anchor" href="#_1-\u8DE8\u6807\u7B7E\u9875\u901A\u8BAF" aria-hidden="true">#</a> 1 \u8DE8\u6807\u7B7E\u9875\u901A\u8BAF</h2><blockquote><p>\u4E0D\u540C\u6807\u7B7E\u9875\u95F4\u7684\u901A\u8BAF\uFF0C\u672C\u8D28\u539F\u7406\u5C31\u662F\u53BB\u8FD0\u7528\u4E00\u4E9B\u53EF\u4EE5 \u5171\u4EAB\u7684\u4E2D\u95F4\u4ECB\u8D28\uFF0C\u56E0\u6B64\u6BD4\u8F83\u5E38\u7528\u7684\u6709\u4EE5\u4E0B\u65B9\u6CD5:</p></blockquote><ul><li><p>\u901A\u8FC7\u7236\u9875\u9762</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>window.open()
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u548C\u5B50\u9875\u9762</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>postMessage
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u5F02\u6B65\u4E0B\uFF0C\u901A\u8FC7 <code>window.open(&#39;about: blank&#39;)</code> \u548C <code>tab.location.href = &#39;*&#39;</code></li></ul></li><li><p>\u8BBE\u7F6E\u540C\u57DF\u4E0B\u5171\u4EAB\u7684</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>localStorage
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u4E0E\u76D1\u542C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>window.onstorage
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u91CD\u590D\u5199\u5165\u76F8\u540C\u7684\u503C\u65E0\u6CD5\u89E6\u53D1</li><li>\u4F1A\u53D7\u5230\u6D4F\u89C8\u5668\u9690\u8EAB\u6A21\u5F0F\u7B49\u7684\u9650\u5236</li></ul></li><li><p>\u8BBE\u7F6E\u5171\u4EAB<code>cookie</code>\u4E0E\u4E0D\u65AD\u8F6E\u8BE2\u810F\u68C0\u67E5(<code>setInterval</code>)</p></li><li><p>\u501F\u52A9\u670D\u52A1\u7AEF\u6216\u8005\u4E2D\u95F4\u5C42\u5B9E\u73B0</p></li></ul>`,5),Rv={id:"_2-\u6D4F\u89C8\u5668\u67B6\u6784",tabindex:"-1"},Vv=n("a",{class:"header-anchor",href:"#_2-\u6D4F\u89C8\u5668\u67B6\u6784","aria-hidden":"true"},"#",-1),Hv=s(),Lv={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_2-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%9E%B6%E6%9E%84",target:"_blank",rel:"noopener noreferrer"},Uv=s("#"),Jv=s("2 \u6D4F\u89C8\u5668\u67B6\u6784"),Wv=t(`<ul><li><p>\u7528\u6237\u754C\u9762</p></li><li><p>\u4E3B\u8FDB\u7A0B</p></li><li><p>\u5185\u6838</p><ul><li><p>\u6E32\u67D3\u5F15\u64CE</p></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>JS
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5F15\u64CE</p><ul><li>\u6267\u884C\u6808</li></ul></li></ul></li><li><p>\u4E8B\u4EF6\u89E6\u53D1\u7EBF\u7A0B</p><ul><li>\u6D88\u606F\u961F\u5217 <ul><li>\u5FAE\u4EFB\u52A1</li><li>\u5B8F\u4EFB\u52A1</li></ul></li></ul></li><li><p>\u7F51\u7EDC\u5F02\u6B65\u7EBF\u7A0B</p></li><li><p>\u5B9A\u65F6\u5668\u7EBF\u7A0B</p></li></ul>`,1),zv={id:"_3-\u6E32\u67D3\u673A\u5236",tabindex:"-1"},Gv=n("a",{class:"header-anchor",href:"#_3-\u6E32\u67D3\u673A\u5236","aria-hidden":"true"},"#",-1),$v=s(),Xv={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_3-%E6%B8%B2%E6%9F%93%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"},Kv=s("#"),Qv=s("3 \u6E32\u67D3\u673A\u5236"),Yv={id:"_3-1-\u6D4F\u89C8\u5668\u7684\u6E32\u67D3\u673A\u5236\u4E00\u822C\u5206\u4E3A\u4EE5\u4E0B\u51E0\u4E2A\u6B65\u9AA4",tabindex:"-1"},Zv=n("a",{class:"header-anchor",href:"#_3-1-\u6D4F\u89C8\u5668\u7684\u6E32\u67D3\u673A\u5236\u4E00\u822C\u5206\u4E3A\u4EE5\u4E0B\u51E0\u4E2A\u6B65\u9AA4","aria-hidden":"true"},"#",-1),n5=s(),s5={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_3-1-%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E6%B8%B2%E6%9F%93%E6%9C%BA%E5%88%B6%E4%B8%80%E8%88%AC%E5%88%86%E4%B8%BA%E4%BB%A5%E4%B8%8B%E5%87%A0%E4%B8%AA%E6%AD%A5%E9%AA%A4",target:"_blank",rel:"noopener noreferrer"},a5=s("#"),e5=s("3.1 \u6D4F\u89C8\u5668\u7684\u6E32\u67D3\u673A\u5236\u4E00\u822C\u5206\u4E3A\u4EE5\u4E0B\u51E0\u4E2A\u6B65\u9AA4"),t5=t('<ul><li>\u5904\u7406 <code>HTML</code> \u5E76\u6784\u5EFA <code>DOM</code> \u6811\u3002</li><li>\u5904\u7406 <code>CSS</code> \u6784\u5EFA <code>CSSOM</code> \u6811\u3002</li><li>\u5C06 <code>DOM</code> \u4E0E <code>CSSOM</code> \u5408\u5E76\u6210\u4E00\u4E2A\u6E32\u67D3\u6811\u3002</li><li>\u6839\u636E\u6E32\u67D3\u6811\u6765\u5E03\u5C40\uFF0C\u8BA1\u7B97\u6BCF\u4E2A\u8282\u70B9\u7684\u4F4D\u7F6E\u3002</li><li>\u8C03\u7528 <code>GPU</code> \u7ED8\u5236\uFF0C\u5408\u6210\u56FE\u5C42\uFF0C\u663E\u793A\u5728\u5C4F\u5E55\u4E0A</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/09/98.png" alt="img"></p><ul><li>\u5728\u6784\u5EFA CSSOM \u6811\u65F6\uFF0C\u4F1A\u963B\u585E\u6E32\u67D3\uFF0C\u76F4\u81F3 CSSOM \u6811\u6784\u5EFA\u5B8C\u6210\u3002\u5E76\u4E14\u6784\u5EFA CSSOM \u6811\u662F\u4E00\u4E2A\u5341\u5206\u6D88\u8017\u6027\u80FD\u7684\u8FC7\u7A0B\uFF0C\u6240\u4EE5\u5E94\u8BE5\u5C3D\u91CF\u4FDD\u8BC1\u5C42\u7EA7\u6241\u5E73\uFF0C\u51CF\u5C11\u8FC7\u5EA6\u5C42\u53E0\uFF0C\u8D8A\u662F\u5177\u4F53\u7684 CSS \u9009\u62E9\u5668\uFF0C\u6267\u884C\u901F\u5EA6\u8D8A\u6162\u3002</li><li>css \u662F\u963B\u585E\u6E32\u67D3\u7684\u8D44\u6E90\u3002\u9700\u8981\u5C06\u5B83\u5C3D\u65E9\u3001\u5C3D\u5FEB\u5730\u4E0B\u8F7D\u5230\u5BA2\u6237\u7AEF\uFF0C\u4EE5\u4FBF\u7F29\u77ED\u9996\u6B21\u6E32\u67D3\u7684\u65F6\u95F4</li><li>\u5F53 HTML \u89E3\u6790\u5230 script \u6807\u7B7E\u65F6\uFF0C\u4F1A\u6682\u505C\u6784\u5EFA DOM\uFF0C\u5B8C\u6210\u540E\u624D\u4F1A\u4ECE\u6682\u505C\u7684\u5730\u65B9\u91CD\u65B0\u5F00\u59CB\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5982\u679C\u4F60\u60F3\u9996\u5C4F\u6E32\u67D3\u7684\u8D8A\u5FEB\uFF0C\u5C31\u8D8A\u4E0D\u5E94\u8BE5\u5728\u9996\u5C4F\u5C31\u52A0\u8F7D JS \u6587\u4EF6\u3002\u5E76\u4E14 CSS \u4E5F\u4F1A\u5F71\u54CD JS \u7684\u6267\u884C\uFF0C\u53EA\u6709\u5F53\u89E3\u6790\u5B8C\u6837\u5F0F\u8868\u624D\u4F1A\u6267\u884C JS\uFF0C\u6240\u4EE5\u4E5F\u53EF\u4EE5\u8BA4\u4E3A\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0CCSS \u4E5F\u4F1A\u6682\u505C\u6784\u5EFA DOM</li></ul>',3),p5={id:"_3-2-\u56FE\u5C42",tabindex:"-1"},o5=n("a",{class:"header-anchor",href:"#_3-2-\u56FE\u5C42","aria-hidden":"true"},"#",-1),c5=s(),l5={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_3-2-%E5%9B%BE%E5%B1%82",target:"_blank",rel:"noopener noreferrer"},r5=s("#"),i5=s("3.2 \u56FE\u5C42"),u5=t("<blockquote><p>\u4E00\u822C\u6765\u8BF4\uFF0C\u53EF\u4EE5\u628A\u666E\u901A\u6587\u6863\u6D41\u770B\u6210\u4E00\u4E2A\u56FE\u5C42\u3002\u7279\u5B9A\u7684\u5C5E\u6027\u53EF\u4EE5\u751F\u6210\u4E00\u4E2A\u65B0\u7684\u56FE\u5C42\u3002\u4E0D\u540C\u7684\u56FE\u5C42\u6E32\u67D3\u4E92\u4E0D\u5F71\u54CD\uFF0C\u6240\u4EE5\u5BF9\u4E8E\u67D0\u4E9B\u9891\u7E41\u9700\u8981\u6E32\u67D3\u7684\u5EFA\u8BAE\u5355\u72EC\u751F\u6210\u4E00\u4E2A\u65B0\u56FE\u5C42\uFF0C\u63D0\u9AD8\u6027\u80FD\u3002\u4F46\u4E5F\u4E0D\u80FD\u751F\u6210\u8FC7\u591A\u7684\u56FE\u5C42\uFF0C\u4F1A\u5F15\u8D77\u53CD\u4F5C\u7528</p></blockquote><ul><li>\u901A\u8FC7\u4EE5\u4E0B\u51E0\u4E2A\u5E38\u7528\u5C5E\u6027\u53EF\u4EE5\u751F\u6210\u65B0\u56FE\u5C42 <ul><li><code>3D</code>\u53D8\u6362\uFF1A<code>translate3d</code>\u3001<code>translateZ</code></li><li><code>will-change</code></li><li><code>video</code>\u3001<code>iframe</code> \u6807\u7B7E</li><li>\u901A\u8FC7\u52A8\u753B\u5B9E\u73B0\u7684 <code>opacity</code> \u52A8\u753B\u8F6C\u6362</li><li><code>position: fixed</code></li></ul></li></ul>",2),k5={id:"_3-3-\u91CD\u7ED8\u4E0E\u56DE\u6D41",tabindex:"-1"},d5=n("a",{class:"header-anchor",href:"#_3-3-\u91CD\u7ED8\u4E0E\u56DE\u6D41","aria-hidden":"true"},"#",-1),b5=s(),m5={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_3-3-%E9%87%8D%E7%BB%98%E4%B8%8E%E5%9B%9E%E6%B5%81",target:"_blank",rel:"noopener noreferrer"},h5=s("#"),_5=s("3.3 \u91CD\u7ED8\u4E0E\u56DE\u6D41"),g5=t("<blockquote><p>\u5F53\u5143\u7D20\u7684\u6837\u5F0F\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u6D4F\u89C8\u5668\u9700\u8981\u89E6\u53D1\u66F4\u65B0\uFF0C\u91CD\u65B0\u7ED8\u5236\u5143\u7D20\u3002\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\uFF0C\u6709\u4E24\u79CD\u7C7B\u578B\u7684\u64CD\u4F5C\uFF0C\u5373\u91CD\u7ED8\u4E0E\u56DE\u6D41\u3002</p></blockquote><blockquote><ul><li>\u91CD\u7ED8(repaint): \u5F53\u5143\u7D20\u6837\u5F0F\u7684\u6539\u53D8\u4E0D\u5F71\u54CD\u5E03\u5C40\u65F6\uFF0C\u6D4F\u89C8\u5668\u5C06\u4F7F\u7528\u91CD\u7ED8\u5BF9\u5143\u7D20\u8FDB\u884C\u66F4\u65B0\uFF0C\u6B64\u65F6\u7531\u4E8E\u53EA\u9700\u8981UI\u5C42\u9762\u7684\u91CD\u65B0\u50CF\u7D20\u7ED8\u5236\uFF0C\u56E0\u6B64 \u635F\u8017\u8F83\u5C11</li><li>\u56DE\u6D41(reflow): \u5F53\u5143\u7D20\u7684\u5C3A\u5BF8\u3001\u7ED3\u6784\u6216\u89E6\u53D1\u67D0\u4E9B\u5C5E\u6027\u65F6\uFF0C\u6D4F\u89C8\u5668\u4F1A\u91CD\u65B0\u6E32\u67D3\u9875\u9762\uFF0C\u79F0\u4E3A\u56DE\u6D41\u3002\u6B64\u65F6\uFF0C\u6D4F\u89C8\u5668\u9700\u8981\u91CD\u65B0\u7ECF\u8FC7\u8BA1\u7B97\uFF0C\u8BA1\u7B97\u540E\u8FD8\u9700\u8981\u91CD\u65B0\u9875\u9762\u5E03\u5C40\uFF0C\u56E0\u6B64\u662F\u8F83\u91CD\u7684\u64CD\u4F5C\u3002\u4F1A\u89E6\u53D1\u56DE\u6D41\u7684\u64CD\u4F5C:</li></ul></blockquote><ul><li>\u9875\u9762\u521D\u6B21\u6E32\u67D3</li><li>\u6D4F\u89C8\u5668\u7A97\u53E3\u5927\u5C0F\u6539\u53D8</li><li>\u5143\u7D20\u5C3A\u5BF8\u3001\u4F4D\u7F6E\u3001\u5185\u5BB9\u53D1\u751F\u6539\u53D8</li><li>\u5143\u7D20\u5B57\u4F53\u5927\u5C0F\u53D8\u5316</li><li>\u6DFB\u52A0\u6216\u8005\u5220\u9664\u53EF\u89C1\u7684 <code>dom</code> \u5143\u7D20</li><li>\u6FC0\u6D3B <code>CSS</code> \u4F2A\u7C7B\uFF08\u4F8B\u5982\uFF1A<code>:hover</code>\uFF09</li><li>\u67E5\u8BE2\u67D0\u4E9B\u5C5E\u6027\u6216\u8C03\u7528\u67D0\u4E9B\u65B9\u6CD5 <ul><li><code>clientWidth\u3001clientHeight\u3001clientTop\u3001clientLeft</code></li><li><code>offsetWidth\u3001offsetHeight\u3001offsetTop\u3001offsetLeft</code></li><li><code>scrollWidth\u3001scrollHeight\u3001scrollTop\u3001scrollLeft</code></li><li><code>getComputedStyle()</code></li><li><code>getBoundingClientRect()</code></li><li><code>scrollTo()</code></li></ul></li></ul><blockquote><p>\u56DE\u6D41\u5FC5\u5B9A\u89E6\u53D1\u91CD\u7ED8\uFF0C\u91CD\u7ED8\u4E0D\u4E00\u5B9A\u89E6\u53D1\u56DE\u6D41\u3002\u91CD\u7ED8\u7684\u5F00\u9500\u8F83\u5C0F\uFF0C\u56DE\u6D41\u7684\u4EE3\u4EF7\u8F83\u9AD8\u3002</p></blockquote><p><strong>\u56DE\u6D41\u7684\u4F18\u5316</strong></p><blockquote><p>\u5BF9\u6811\u7684\u5C40\u90E8\u751A\u81F3\u5168\u5C40\u91CD\u65B0\u751F\u6210\u662F\u975E\u5E38\u8017\u6027\u80FD\u7684\uFF0C\u6240\u4EE5\u8981\u907F\u514D\u9891\u7E41\u89E6\u53D1\u56DE\u6D41</p></blockquote><ul><li>\u73B0\u4EE3\u6D4F\u89C8\u5668\u5DF2\u7ECF\u5E2E\u6211\u4EEC\u505A\u4E86\u4F18\u5316\uFF0C\u91C7\u7528\u961F\u5217\u5B58\u50A8\u591A\u6B21\u7684\u56DE\u6D41\u64CD\u4F5C\uFF0C\u7136\u540E\u6279\u91CF\u6267\u884C\uFF0C\u4F46\u83B7\u53D6\u5E03\u5C40\u4FE1\u606F\u4F8B\u5916\uFF0C\u56E0\u4E3A\u8981\u83B7\u53D6\u5230\u5B9E\u65F6\u7684\u6570\u503C\uFF0C\u6D4F\u89C8\u5668\u5C31\u5FC5\u987B\u8981\u6E05\u7A7A\u961F\u5217\uFF0C\u7ACB\u5373\u6267\u884C\u56DE\u6D41\u3002</li><li>\u7F16\u7801\u4E0A\uFF0C\u907F\u514D\u8FDE\u7EED\u591A\u6B21\u4FEE\u6539\uFF0C\u53EF\u901A\u8FC7\u5408\u5E76\u4FEE\u6539\uFF0C\u4E00\u6B21\u89E6\u53D1</li><li>\u51CF\u5C11<code>dom</code>\u7684\u589E\u5220\u6B21\u6570\uFF0C\u53EF\u4F7F\u7528 \u5B57\u7B26\u4E32 \u6216\u8005 <code>documentFragment</code> \u4E00\u6B21\u6027\u63D2\u5165</li><li>\u5BF9\u4E8E\u5927\u91CF\u4E0D\u540C\u7684 <code>dom</code> \u4FEE\u6539\uFF0C\u53EF\u4EE5\u5148\u5C06\u5176\u8131\u79BB\u6587\u6863\u6D41\uFF0C\u6BD4\u5982\u4F7F\u7528\u7EDD\u5BF9\u5B9A\u4F4D\uFF0C\u6216\u8005 <code>display:none</code>\uFF0C\u5728\u6587\u6863\u6D41\u5916\u4FEE\u6539\u5B8C\u6210\u540E\u518D\u653E\u56DE\u6587\u6863\u91CC\u4E2D</li><li>\u5C06\u52A8\u753B\u6548\u679C\u5E94\u7528\u5230<code>position</code>\u5C5E\u6027\u4E3A<code>absolute</code>\u6216<code>fixed</code>\u7684\u5143\u7D20\u4E0A</li><li>\u52A8\u753B\u5B9E\u73B0\u7684\u901F\u5EA6\u7684\u9009\u62E9\uFF0C\u52A8\u753B\u901F\u5EA6\u8D8A\u5FEB\uFF0C\u56DE\u6D41\u6B21\u6570\u8D8A\u591A\uFF0C\u4E5F\u53EF\u4EE5\u9009\u62E9\u4F7F\u7528 <code>requestAnimationFrame</code></li><li>\u901A\u8FC7\u8282\u6D41\u548C\u9632\u6296\u63A7\u5236\u89E6\u53D1\u9891\u7387</li><li><code>css3</code> \u786C\u4EF6\u52A0\u901F\uFF0C<code>transform</code>\u3001<code>opacity</code>\u3001<code>filters</code>\uFF0C\u5F00\u542F\u540E\uFF0C\u4F1A\u65B0\u5EFA\u6E32\u67D3\u5C42</li></ul><p><strong>\u5F00\u542FGPU\u52A0\u901F\u7684\u65B9\u6CD5</strong></p><blockquote><p>\u5F00\u542F\u540E\uFF0C\u4F1A\u5C06 dom\u5143\u7D20\u63D0\u5347\u4E3A\u72EC\u7ACB\u7684\u6E32\u67D3\u5C42\uFF0C\u5B83\u7684\u53D8\u5316\u4E0D\u4F1A\u518D\u5F71\u54CD\u6587\u6863\u6D41\u4E2D\u7684\u5E03\u5C40\u3002</p></blockquote><ul><li><code>transform: translateZ(0)</code></li><li><code>opacity</code></li><li><code>filters</code></li><li><code>Will-change</code></li></ul><p><strong>\u5F88\u591A\u4EBA\u4E0D\u77E5\u9053\u7684\u662F\uFF0C\u91CD\u7ED8\u548C\u56DE\u6D41\u5176\u5B9E\u548C <code>Event loop</code> \u6709\u5173</strong></p><ul><li>\u5F53 <code>Event loop</code> \u6267\u884C\u5B8C <code>Microtasks</code> \u540E\uFF0C\u4F1A\u5224\u65AD <code>document</code> \u662F\u5426\u9700\u8981\u66F4\u65B0\u3002\u56E0\u4E3A\u6D4F\u89C8\u5668\u662F <code>60Hz</code>\u7684\u5237\u65B0\u7387\uFF0C\u6BCF <code>16ms</code>\u624D\u4F1A\u66F4\u65B0\u4E00\u6B21\u3002</li><li>\u7136\u540E\u5224\u65AD\u662F\u5426\u6709 <code>resize</code> \u6216\u8005 <code>scroll</code> \uFF0C\u6709\u7684\u8BDD\u4F1A\u53BB\u89E6\u53D1\u4E8B\u4EF6\uFF0C\u6240\u4EE5 <code>resize</code> \u548C <code>scroll</code> \u4E8B\u4EF6\u4E5F\u662F\u81F3\u5C11 <code>16ms</code> \u624D\u4F1A\u89E6\u53D1\u4E00\u6B21\uFF0C\u5E76\u4E14\u81EA\u5E26\u8282\u6D41\u529F\u80FD\u3002</li><li>\u5224\u65AD\u662F\u5426\u89E6\u53D1\u4E86<code>media query</code></li><li>\u66F4\u65B0\u52A8\u753B\u5E76\u4E14\u53D1\u9001\u4E8B\u4EF6</li><li>\u5224\u65AD\u662F\u5426\u6709\u5168\u5C4F\u64CD\u4F5C\u4E8B\u4EF6</li><li>\u6267\u884C <code>requestAnimationFrame</code> \u56DE\u8C03</li><li>\u6267\u884C <code>IntersectionObserver</code> \u56DE\u8C03\uFF0C\u8BE5\u65B9\u6CD5\u7528\u4E8E\u5224\u65AD\u5143\u7D20\u662F\u5426\u53EF\u89C1\uFF0C\u53EF\u4EE5\u7528\u4E8E\u61D2\u52A0\u8F7D\u4E0A\uFF0C\u4F46\u662F\u517C\u5BB9\u6027\u4E0D\u597D</li><li>\u66F4\u65B0\u754C\u9762</li><li>\u4EE5\u4E0A\u5C31\u662F\u4E00\u5E27\u4E2D\u53EF\u80FD\u4F1A\u505A\u7684\u4E8B\u60C5\u3002\u5982\u679C\u5728\u4E00\u5E27\u4E2D\u6709\u7A7A\u95F2\u65F6\u95F4\uFF0C\u5C31\u4F1A\u53BB\u6267\u884C <code>requestIdleCallback</code> \u56DE\u8C03</li></ul>",12),E5={id:"_3-4-javascript-\u4F1A\u963B\u585E-dom-\u751F\u6210",tabindex:"-1"},f5=n("a",{class:"header-anchor",href:"#_3-4-javascript-\u4F1A\u963B\u585E-dom-\u751F\u6210","aria-hidden":"true"},"#",-1),v5=s(),w5={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_3-4-javascript-%E4%BC%9A%E9%98%BB%E5%A1%9E-dom-%E7%94%9F%E6%88%90",target:"_blank",rel:"noopener noreferrer"},y5=s("#"),x5=s("3.4 JavaScript \u4F1A\u963B\u585E DOM \u751F\u6210"),A5=t("<blockquote><p><code>JavaScript</code> \u4F1A\u963B\u585E <code>DOM</code>\u751F\u6210\uFF0C\u800C\u6837\u5F0F\u6587\u4EF6\u53C8\u4F1A\u963B\u585E <code>JavaScript</code> \u7684\u6267\u884C\uFF0C\u6240\u4EE5\u5728\u5B9E\u9645\u7684\u5DE5\u7A0B\u4E2D\u9700\u8981\u91CD\u70B9\u5173\u6CE8 <code>JavaScript</code> \u6587\u4EF6\u548C\u6837\u5F0F\u8868\u6587\u4EF6\uFF0C\u4F7F\u7528\u4E0D\u5F53\u4F1A\u5F71\u54CD\u5230\u9875\u9762\u6027\u80FD\u7684</p></blockquote><blockquote><p>\u5F53\u6E32\u67D3\u8FDB\u7A0B\u63A5\u6536 HTML \u6587\u4EF6\u5B57\u8282\u6D41\u65F6\uFF0C\u4F1A\u5148\u5F00\u542F\u4E00\u4E2A\u9884\u89E3\u6790\u7EBF\u7A0B\uFF0C\u5982\u679C\u9047\u5230 JavaScript \u6587\u4EF6\u6216\u8005 CSS \u6587\u4EF6\uFF0C\u90A3\u4E48\u9884\u89E3\u6790\u7EBF\u7A0B\u4F1A\u63D0\u524D\u4E0B\u8F7D\u8FD9\u4E9B\u6570\u636E</p></blockquote><ul><li>\u5982\u679C\u4EE3\u7801\u91CC\u5F15\u7528\u4E86\u5916\u90E8\u7684 CSS \u6587\u4EF6\uFF0C\u90A3\u4E48\u5728\u6267\u884C JavaScript \u4E4B\u524D\uFF0C\u8FD8\u9700\u8981\u7B49\u5F85\u5916\u90E8\u7684 CSS \u6587\u4EF6\u4E0B\u8F7D\u5B8C\u6210\uFF0C\u5E76\u89E3\u6790\u751F\u6210 CSSOM \u5BF9\u8C61\u4E4B\u540E\uFF0C\u624D\u80FD\u6267\u884C JavaScript \u811A\u672C\u3002</li><li>\u800C JavaScript \u5F15\u64CE\u5728\u89E3\u6790 JavaScript \u4E4B\u524D\uFF0C\u662F\u4E0D\u77E5\u9053 JavaScript \u662F\u5426\u64CD\u7EB5\u4E86 CSSOM \u7684\uFF0C\u6240\u4EE5\u6E32\u67D3\u5F15\u64CE\u5728\u9047\u5230 JavaScript \u811A\u672C\u65F6\uFF0C\u4E0D\u7BA1\u8BE5\u811A\u672C\u662F\u5426\u64CD\u7EB5\u4E86 CSSOM\uFF0C\u90FD\u4F1A\u6267\u884C CSS \u6587\u4EF6\u4E0B\u8F7D\uFF0C\u89E3\u6790\u64CD\u4F5C\uFF0C\u518D\u6267\u884C JavaScript \u811A\u672C\u3002</li><li>\u4E0D\u7BA1 CSS \u6587\u4EF6\u548C JavaScript \u6587\u4EF6\u8C01\u5148\u5230\u8FBE\uFF0C\u90FD\u8981\u5148\u7B49\u5230 CSS \u6587\u4EF6\u4E0B\u8F7D\u5B8C\u6210\u5E76\u751F\u6210 CSSOM\uFF0C\u7136\u540E\u518D\u6267\u884C JavaScript \u811A\u672C\uFF0C\u6700\u540E\u518D\u7EE7\u7EED\u6784\u5EFA DOM\uFF0C\u6784\u5EFA\u5E03\u5C40\u6811\uFF0C\u7ED8\u5236\u9875\u9762</li></ul>",3),B5={id:"_3-5-\u7F29\u77ED\u767D\u5C4F\u65F6\u957F-\u53EF\u4EE5\u6709\u4EE5\u4E0B\u7B56\u7565",tabindex:"-1"},q5=n("a",{class:"header-anchor",href:"#_3-5-\u7F29\u77ED\u767D\u5C4F\u65F6\u957F-\u53EF\u4EE5\u6709\u4EE5\u4E0B\u7B56\u7565","aria-hidden":"true"},"#",-1),j5=s(),S5={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_3-5-%E7%BC%A9%E7%9F%AD%E7%99%BD%E5%B1%8F%E6%97%B6%E9%95%BF-%E5%8F%AF%E4%BB%A5%E6%9C%89%E4%BB%A5%E4%B8%8B%E7%AD%96%E7%95%A5",target:"_blank",rel:"noopener noreferrer"},C5=s("#"),D5=s("3.5 \u7F29\u77ED\u767D\u5C4F\u65F6\u957F\uFF0C\u53EF\u4EE5\u6709\u4EE5\u4E0B\u7B56\u7565"),F5=n("ul",null,[n("li",null,"\u901A\u8FC7\u5185\u8054 JavaScript\u3001\u5185\u8054 CSS \u6765\u79FB\u9664\u8FD9\u4E24\u79CD\u7C7B\u578B\u7684\u6587\u4EF6\u4E0B\u8F7D\uFF0C\u8FD9\u6837\u83B7\u53D6\u5230 HTML \u6587\u4EF6\u4E4B\u540E\u5C31\u53EF\u4EE5\u76F4\u63A5\u5F00\u59CB\u6E32\u67D3\u6D41\u7A0B\u4E86\u3002"),n("li",null,"\u4F46\u5E76\u4E0D\u662F\u6240\u6709\u7684\u573A\u5408\u90FD\u9002\u5408\u5185\u8054\uFF0C\u90A3\u4E48\u8FD8\u53EF\u4EE5\u5C3D\u91CF\u51CF\u5C11\u6587\u4EF6\u5927\u5C0F\uFF0C\u6BD4\u5982\u901A\u8FC7 webpack \u7B49\u5DE5\u5177\u79FB\u9664\u4E00\u4E9B\u4E0D\u5FC5\u8981\u7684\u6CE8\u91CA\uFF0C\u5E76\u538B\u7F29 JavaScript \u6587\u4EF6\u3002"),n("li",null,"\u8FD8\u53EF\u4EE5\u5C06\u4E00\u4E9B\u4E0D\u9700\u8981\u5728\u89E3\u6790 HTML \u9636\u6BB5\u4F7F\u7528\u7684 JavaScript \u6807\u8BB0\u4E0A sync \u6216\u8005 defer"),n("li",null,"\u5BF9\u4E8E\u5927\u7684 CSS \u6587\u4EF6\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5A92\u4F53\u67E5\u8BE2\u5C5E\u6027\uFF0C\u5C06\u5176\u62C6\u5206\u4E3A\u591A\u4E2A\u4E0D\u540C\u7528\u9014\u7684 CSS \u6587\u4EF6\uFF0C\u8FD9\u6837\u53EA\u6709\u5728\u7279\u5B9A\u7684\u573A\u666F\u4E0B\u624D\u4F1A\u52A0\u8F7D\u7279\u5B9A\u7684 CSS \u6587\u4EF6\u3002")],-1),P5={id:"_4-\u8DE8\u57DF",tabindex:"-1"},T5=n("a",{class:"header-anchor",href:"#_4-\u8DE8\u57DF","aria-hidden":"true"},"#",-1),N5=s(),M5={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_4-%E8%B7%A8%E5%9F%9F",target:"_blank",rel:"noopener noreferrer"},O5=s("#"),I5=s("4 \u8DE8\u57DF"),R5=n("blockquote",null,[n("p",null,[s("\u56E0\u4E3A\u6D4F\u89C8\u5668\u51FA\u4E8E\u5B89\u5168\u8003\u8651\uFF0C\u6709\u540C\u6E90\u7B56\u7565\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5982\u679C\u534F\u8BAE\u3001\u57DF\u540D\u6216\u8005\u7AEF\u53E3\u6709\u4E00\u4E2A\u4E0D\u540C\u5C31\u662F\u8DE8\u57DF\uFF0C"),n("code",null,"Ajax"),s("\u8BF7\u6C42\u4F1A\u5931\u8D25\u3002")])],-1),V5=n("p",null,"\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u51E0\u79CD\u5E38\u7528\u65B9\u6CD5\u89E3\u51B3\u8DE8\u57DF\u7684\u95EE\u9898",-1),H5={id:"jsonp",tabindex:"-1"},L5=n("a",{class:"header-anchor",href:"#jsonp","aria-hidden":"true"},"#",-1),U5=s(),J5={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#jsonp",target:"_blank",rel:"noopener noreferrer"},W5=s("#"),z5=s("JSONP"),G5=t(`<blockquote><p><code>JSONP</code> \u7684\u539F\u7406\u5F88\u7B80\u5355\uFF0C\u5C31\u662F\u5229\u7528 <code>&lt;script&gt;</code>\u6807\u7B7E\u6CA1\u6709\u8DE8\u57DF\u9650\u5236\u7684\u6F0F\u6D1E\u3002\u901A\u8FC7 <code>&lt;script&gt;</code>\u6807\u7B7E\u6307\u5411\u4E00\u4E2A\u9700\u8981\u8BBF\u95EE\u7684\u5730\u5740\u5E76\u63D0\u4F9B\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\u6765\u63A5\u6536\u6570\u636E\u5F53\u9700\u8981\u901A\u8BAF\u65F6</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://domain/api?param1=a&amp;param2=b&amp;callback=jsonp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">jsonp</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>    
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p><code>JSONP</code> \u4F7F\u7528\u7B80\u5355\u4E14\u517C\u5BB9\u6027\u4E0D\u9519\uFF0C\u4F46\u662F\u53EA\u9650\u4E8E <code>get</code> \u8BF7\u6C42</p></blockquote><ul><li>\u5728\u5F00\u53D1\u4E2D\u53EF\u80FD\u4F1A\u9047\u5230\u591A\u4E2A <code>JSONP</code> \u8BF7\u6C42\u7684\u56DE\u8C03\u51FD\u6570\u540D\u662F\u76F8\u540C\u7684\uFF0C\u8FD9\u65F6\u5019\u5C31\u9700\u8981\u81EA\u5DF1\u5C01\u88C5\u4E00\u4E2A <code>JSONP</code>\uFF0C\u4EE5\u4E0B\u662F\u7B80\u5355\u5B9E\u73B0</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">jsonp</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> jsonpCallback<span class="token punctuation">,</span> success</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>async <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;text/javascript&quot;</span><span class="token punctuation">;</span>
  window<span class="token punctuation">[</span>jsonpCallback<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    success <span class="token operator">&amp;&amp;</span> <span class="token function">success</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">jsonp</span><span class="token punctuation">(</span>
  <span class="token string">&quot;http://xxx&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;callback&quot;</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div>`,5),$5={id:"cors",tabindex:"-1"},X5=n("a",{class:"header-anchor",href:"#cors","aria-hidden":"true"},"#",-1),K5=s(),Q5={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#cors",target:"_blank",rel:"noopener noreferrer"},Y5=s("#"),Z5=s("CORS"),n6=t("<ul><li><code>ORS</code>\u9700\u8981\u6D4F\u89C8\u5668\u548C\u540E\u7AEF\u540C\u65F6\u652F\u6301\u3002<code>IE 8</code> \u548C <code>9</code> \u9700\u8981\u901A\u8FC7 <code>XDomainRequest</code> \u6765\u5B9E\u73B0\u3002</li><li>\u6D4F\u89C8\u5668\u4F1A\u81EA\u52A8\u8FDB\u884C <code>CORS</code> \u901A\u4FE1\uFF0C\u5B9E\u73B0<code>CORS</code>\u901A\u4FE1\u7684\u5173\u952E\u662F\u540E\u7AEF\u3002\u53EA\u8981\u540E\u7AEF\u5B9E\u73B0\u4E86 <code>CORS</code>\uFF0C\u5C31\u5B9E\u73B0\u4E86\u8DE8\u57DF\u3002</li><li>\u670D\u52A1\u7AEF\u8BBE\u7F6E <code>Access-Control-Allow-Origin</code> \u5C31\u53EF\u4EE5\u5F00\u542F <code>CORS</code>\u3002 \u8BE5\u5C5E\u6027\u8868\u793A\u54EA\u4E9B\u57DF\u540D\u53EF\u4EE5\u8BBF\u95EE\u8D44\u6E90\uFF0C\u5982\u679C\u8BBE\u7F6E\u901A\u914D\u7B26\u5219\u8868\u793A\u6240\u6709\u7F51\u7AD9\u90FD\u53EF\u4EE5\u8BBF\u95EE\u8D44\u6E90\u3002</li></ul>",1),s6={id:"document-domain",tabindex:"-1"},a6=n("a",{class:"header-anchor",href:"#document-domain","aria-hidden":"true"},"#",-1),e6=s(),t6={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#document-domain",target:"_blank",rel:"noopener noreferrer"},p6=s("#"),o6=s("document.domain"),c6=n("ul",null,[n("li",null,[s("\u8BE5\u65B9\u5F0F\u53EA\u80FD\u7528\u4E8E\u4E8C\u7EA7\u57DF\u540D\u76F8\u540C\u7684\u60C5\u51B5\u4E0B\uFF0C\u6BD4\u5982 "),n("code",null,"a.test.com"),s(" \u548C "),n("code",null,"b.test.com"),s(" \u9002\u7528\u4E8E\u8BE5\u65B9\u5F0F\u3002")]),n("li",null,[s("\u53EA\u9700\u8981\u7ED9\u9875\u9762\u6DFB\u52A0 "),n("code",null,"document.domain = 'test.com'"),s(" \u8868\u793A\u4E8C\u7EA7\u57DF\u540D\u90FD\u76F8\u540C\u5C31\u53EF\u4EE5\u5B9E\u73B0\u8DE8\u57DF")])],-1),l6={id:"postmessage",tabindex:"-1"},r6=n("a",{class:"header-anchor",href:"#postmessage","aria-hidden":"true"},"#",-1),i6=s(),u6={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#postmessage",target:"_blank",rel:"noopener noreferrer"},k6=s("#"),d6=s("postMessage"),b6=t(`<blockquote><p>\u8FD9\u79CD\u65B9\u5F0F\u901A\u5E38\u7528\u4E8E\u83B7\u53D6\u5D4C\u5165\u9875\u9762\u4E2D\u7684\u7B2C\u4E09\u65B9\u9875\u9762\u6570\u636E\u3002\u4E00\u4E2A\u9875\u9762\u53D1\u9001\u6D88\u606F\uFF0C\u53E6\u4E00\u4E2A\u9875\u9762\u5224\u65AD\u6765\u6E90\u5E76\u63A5\u6536\u6D88\u606F</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u53D1\u9001\u6D88\u606F\u7AEF</span>
window<span class="token punctuation">.</span>parent<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;http://test.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u63A5\u6536\u6D88\u606F\u7AEF</span>
<span class="token keyword">var</span> mc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mc<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> origin <span class="token operator">=</span> event<span class="token punctuation">.</span>origin <span class="token operator">||</span> event<span class="token punctuation">.</span>originalEvent<span class="token punctuation">.</span>origin<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>origin <span class="token operator">===</span> <span class="token string">&#39;http://test.com&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u9A8C\u8BC1\u901A\u8FC7&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div>`,2),m6={id:"_5-\u6D4F\u89C8\u5668\u7F13\u5B58",tabindex:"-1"},h6=n("a",{class:"header-anchor",href:"#_5-\u6D4F\u89C8\u5668\u7F13\u5B58","aria-hidden":"true"},"#",-1),_6=s(),g6={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_5-%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98",target:"_blank",rel:"noopener noreferrer"},E6=s("#"),f6=s("5 \u6D4F\u89C8\u5668\u7F13\u5B58"),v6=t(`<blockquote><p>\u6211\u4EEC\u7ECF\u5E38\u9700\u8981\u5BF9\u4E1A\u52A1\u4E2D\u7684\u4E00\u4E9B\u6570\u636E\u8FDB\u884C\u5B58\u50A8\uFF0C\u901A\u5E38\u53EF\u4EE5\u5206\u4E3A \u77ED\u6682\u6027\u5B58\u50A8 \u548C \u6301\u4E45\u6027\u50A8\u5B58\u3002</p></blockquote><ul><li><p>\u77ED\u6682\u6027\u7684\u65F6\u5019\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u5C06\u6570\u636E\u5B58\u5728\u5185\u5B58\u4E2D\uFF0C\u53EA\u5728\u8FD0\u884C\u65F6\u53EF\u7528</p></li><li><p>\u6301\u4E45\u6027\u5B58\u50A8\uFF0C\u53EF\u4EE5\u5206\u4E3A \u6D4F\u89C8\u5668\u7AEF \u4E0E \u670D\u52A1\u5668\u7AEF</p><ul><li><p>\u6D4F\u89C8\u5668:</p><ul><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cookie
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>: \u901A\u5E38\u7528\u4E8E\u5B58\u50A8\u7528\u6237\u8EAB\u4EFD\uFF0C\u767B\u5F55\u72B6\u6001\u7B49</p><ul><li><code>http</code> \u4E2D\u81EA\u52A8\u643A\u5E26\uFF0C \u4F53\u79EF\u4E0A\u9650\u4E3A <code>4K</code>\uFF0C \u53EF\u81EA\u884C\u8BBE\u7F6E\u8FC7\u671F\u65F6\u95F4</li></ul></li><li><p><code>localStorage / sessionStorage</code>: \u957F\u4E45\u50A8\u5B58/\u7A97\u53E3\u5173\u95ED\u5220\u9664\uFF0C \u4F53\u79EF\u9650\u5236\u4E3A <code>4~5M</code></p></li><li><p><code>indexDB</code></p></li></ul></li><li><p>\u670D\u52A1\u5668:</p><ul><li>\u5206\u5E03\u5F0F\u7F13\u5B58 <code>redis</code></li><li>\u6570\u636E\u5E93</li></ul></li></ul></li></ul><blockquote><p>\u63D0\u793A\uFF1A\u5982\u679C\u5E73\u5E38\u6709\u9047\u5230\u8FC7\u7F13\u5B58\u7684\u5751\u6216\u8005\u5F88\u597D\u7684\u5229\u7528\u7F13\u5B58\uFF0C\u53EF\u4EE5\u8BB2\u89E3\u4E00\u4E0B\u81EA\u5DF1\u7684\u4F7F\u7528\u573A\u666F\u3002\u5982\u679C\u6CA1\u6709\u4F7F\u7528\u6CE8\u610F\u8FC7\u7F13\u5B58\u95EE\u9898\u4F60\u4E5F\u53EF\u4EE5\u5C1D\u8BD5\u8BB2\u89E3\u4E00\u4E0B\u548C\u6211\u4EEC\u606F\u606F\u76F8\u5173\u7684Webpack\u6784\u5EFA\uFF08\u6BCF\u4E00\u6B21\u6784\u5EFA\u9759\u6001\u8D44\u6E90\u540D\u79F0\u7684<code>hash</code>\u503C\u90FD\u4F1A\u53D8\u5316\uFF09\uFF0C\u5B83\u5176\u5B9E\u5C31\u8DDF\u7F13\u5B58\u76F8\u5173</p></blockquote><blockquote><p>\u7F13\u5B58\u5206\u4E3A\u5F3A\u7F13\u5B58\u548C\u534F\u5546\u7F13\u5B58\u3002\u5F3A\u7F13\u5B58\u4E0D\u8FC7\u670D\u52A1\u5668\uFF0C\u534F\u5546\u7F13\u5B58\u9700\u8981\u8FC7\u670D\u52A1\u5668\uFF0C\u534F\u5546\u7F13\u5B58\u8FD4\u56DE\u7684\u72B6\u6001\u7801\u662F304\u3002\u4E24\u7C7B\u7F13\u5B58\u673A\u5236\u53EF\u4EE5\u540C\u65F6\u5B58\u5728\uFF0C\u5F3A\u7F13\u5B58\u7684\u4F18\u5148\u7EA7\u9AD8\u4E8E\u534F\u5546\u7F13\u5B58\u3002\u5F53\u6267\u884C\u5F3A\u7F13\u5B58\u65F6\uFF0C\u5982\u82E5\u7F13\u5B58\u547D\u4E2D\uFF0C\u5219\u76F4\u63A5\u4F7F\u7528\u7F13\u5B58\u6570\u636E\u5E93\u4E2D\u7684\u6570\u636E\uFF0C\u4E0D\u518D\u8FDB\u884C\u7F13\u5B58\u534F\u5546\u3002</p></blockquote>`,4),w6={id:"_6-1-\u5F3A\u7F13\u5B58",tabindex:"-1"},y6=n("a",{class:"header-anchor",href:"#_6-1-\u5F3A\u7F13\u5B58","aria-hidden":"true"},"#",-1),x6=s(),A6={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_6-1-%E5%BC%BA%E7%BC%93%E5%AD%98",target:"_blank",rel:"noopener noreferrer"},B6=s("#"),q6=s("6.1 \u5F3A\u7F13\u5B58"),j6=t("<p><strong>Expires(HTTP1.0)</strong>\uFF1A<code>Exprires</code>\u7684\u503C\u4E3A\u670D\u52A1\u7AEF\u8FD4\u56DE\u7684\u6570\u636E\u5230\u671F\u65F6\u95F4\u3002\u5F53\u518D\u6B21\u8BF7\u6C42\u65F6\u7684\u8BF7\u6C42\u65F6\u95F4\u5C0F\u4E8E\u8FD4\u56DE\u7684\u6B64\u65F6\u95F4\uFF0C\u5219\u76F4\u63A5\u4F7F\u7528\u7F13\u5B58\u6570\u636E\u3002\u4F46\u7531\u4E8E\u670D\u52A1\u7AEF\u65F6\u95F4\u548C\u5BA2\u6237\u7AEF\u65F6\u95F4\u53EF\u80FD\u6709\u8BEF\u5DEE\uFF0C\u8FD9\u4E5F\u5C06\u5BFC\u81F4\u7F13\u5B58\u547D\u4E2D\u7684\u8BEF\u5DEE\u3002\u53E6\u4E00\u65B9\u9762\uFF0CExpires\u662FHTTP1.0\u7684\u4EA7\u7269\uFF0C\u6545\u73B0\u5728\u5927\u591A\u6570\u4F7F\u7528<code>Cache-Control</code>\u66FF\u4EE3</p><blockquote><p>\u7F3A\u70B9\uFF1A\u4F7F\u7528\u7684\u662F\u7EDD\u5BF9\u65F6\u95F4\uFF0C\u5982\u679C\u670D\u52A1\u7AEF\u548C\u5BA2\u6237\u7AEF\u7684\u65F6\u95F4\u4EA7\u751F\u504F\u5DEE\uFF0C\u90A3\u4E48\u4F1A\u5BFC\u81F4\u547D\u4E2D\u7F13\u5B58\u4EA7\u751F\u504F\u5DEE\u3002</p></blockquote><p><strong>Cache-Control(HTTP1.1)</strong>\uFF1A\u6709\u5F88\u591A\u5C5E\u6027\uFF0C\u4E0D\u540C\u7684\u5C5E\u6027\u4EE3\u8868\u7684\u610F\u4E49\u4E5F\u4E0D\u540C</p><ul><li><code>private</code>\uFF1A\u5BA2\u6237\u7AEF\u53EF\u4EE5\u7F13\u5B58</li><li><code>public</code>\uFF1A\u5BA2\u6237\u7AEF\u548C\u4EE3\u7406\u670D\u52A1\u5668\u90FD\u53EF\u4EE5\u7F13\u5B58</li><li><code>max-age=t</code>\uFF1A\u7F13\u5B58\u5185\u5BB9\u5C06\u5728t\u79D2\u540E\u5931\u6548</li><li><code>no-cache</code>\uFF1A\u9700\u8981\u4F7F\u7528\u534F\u5546\u7F13\u5B58\u6765\u9A8C\u8BC1\u7F13\u5B58\u6570\u636E</li><li><code>no-store</code>\uFF1A\u6240\u6709\u5185\u5BB9\u90FD\u4E0D\u4F1A\u7F13\u5B58</li></ul><blockquote><p>\u8BF7\u6CE8\u610F<code>no-cache</code>\u6307\u4EE4\u5F88\u591A\u4EBA\u8BEF\u4EE5\u4E3A\u662F\u4E0D\u7F13\u5B58\uFF0C\u8FD9\u662F\u4E0D\u51C6\u786E\u7684\uFF0C<code>no-cache</code>\u7684\u610F\u601D\u662F\u53EF\u4EE5\u7F13\u5B58\uFF0C\u4F46\u6BCF\u6B21\u7528\u5E94\u8BE5\u53BB\u5411\u670D\u52A1\u5668\u9A8C\u8BC1\u7F13\u5B58\u662F\u5426\u53EF\u7528\u3002<code>no-store</code>\u624D\u662F\u4E0D\u7F13\u5B58\u5185\u5BB9\u3002\u5F53\u5728\u9996\u90E8\u5B57\u6BB5<code>Cache-Control</code> \u6709\u6307\u5B9A <code>max-age</code> \u6307\u4EE4\u65F6\uFF0C\u6BD4\u8D77\u9996\u90E8\u5B57\u6BB5 Expires\uFF0C\u4F1A\u4F18\u5148\u5904\u7406 <code>max-age</code> \u6307\u4EE4\u3002\u547D\u4E2D\u5F3A\u7F13\u5B58\u7684\u8868\u73B0\u5F62\u5F0F\uFF1AFirefox\u6D4F\u89C8\u5668\u8868\u73B0\u4E3A\u4E00\u4E2A\u7070\u8272\u7684200\u72B6\u6001\u7801\u3002Chrome\u6D4F\u89C8\u5668\u72B6\u6001\u7801\u8868\u73B0\u4E3A200 (<code>from disk cache</code>)\u6216\u662F200 OK (<code>from memory cache</code>)</p></blockquote>",5),S6={id:"_6-2-\u534F\u5546\u7F13\u5B58",tabindex:"-1"},C6=n("a",{class:"header-anchor",href:"#_6-2-\u534F\u5546\u7F13\u5B58","aria-hidden":"true"},"#",-1),D6=s(),F6={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_6-2-%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98",target:"_blank",rel:"noopener noreferrer"},P6=s("#"),T6=s("6.2 \u534F\u5546\u7F13\u5B58"),N6=t("<blockquote><p>\u534F\u5546\u7F13\u5B58\u9700\u8981\u8FDB\u884C\u5BF9\u6BD4\u5224\u65AD\u662F\u5426\u53EF\u4EE5\u4F7F\u7528\u7F13\u5B58\u3002\u6D4F\u89C8\u5668\u7B2C\u4E00\u6B21\u8BF7\u6C42\u6570\u636E\u65F6\uFF0C\u670D\u52A1\u5668\u4F1A\u5C06\u7F13\u5B58\u6807\u8BC6\u4E0E\u6570\u636E\u4E00\u8D77\u54CD\u5E94\u7ED9\u5BA2\u6237\u7AEF\uFF0C\u5BA2\u6237\u7AEF\u5C06\u5B83\u4EEC\u5907\u4EFD\u81F3\u7F13\u5B58\u4E2D\u3002\u518D\u6B21\u8BF7\u6C42\u65F6\uFF0C\u5BA2\u6237\u7AEF\u4F1A\u5C06\u7F13\u5B58\u4E2D\u7684\u6807\u8BC6\u53D1\u9001\u7ED9\u670D\u52A1\u5668\uFF0C\u670D\u52A1\u5668\u6839\u636E\u6B64\u6807\u8BC6\u5224\u65AD\u3002\u82E5\u672A\u5931\u6548\uFF0C\u8FD4\u56DE304\u72B6\u6001\u7801\uFF0C\u6D4F\u89C8\u5668\u62FF\u5230\u6B64\u72B6\u6001\u7801\u5C31\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u7F13\u5B58\u6570\u636E\u4E86</p></blockquote><ul><li><code>Last-Modified</code>\uFF1A\u670D\u52A1\u5668\u5728\u54CD\u5E94\u8BF7\u6C42\u65F6\uFF0C\u4F1A\u544A\u8BC9\u6D4F\u89C8\u5668\u8D44\u6E90\u7684\u6700\u540E\u4FEE\u6539\u65F6\u95F4</li><li><code>if-Modified-Since</code>\uFF1A\u6D4F\u89C8\u5668\u518D\u6B21\u8BF7\u6C42\u670D\u52A1\u5668\u7684\u65F6\u5019\uFF0C\u8BF7\u6C42\u5934\u4F1A\u5305\u542B\u6B64\u5B57\u6BB5\uFF0C\u540E\u9762\u8DDF\u7740\u5728\u7F13\u5B58\u4E2D\u83B7\u5F97\u7684\u6700\u540E\u4FEE\u6539\u65F6\u95F4\u3002\u670D\u52A1\u7AEF\u6536\u5230\u6B64\u8BF7\u6C42\u5934\u53D1\u73B0\u6709<code>if-Modified-Since</code>\uFF0C\u5219\u4E0E\u88AB\u8BF7\u6C42\u8D44\u6E90\u7684\u6700\u540E\u4FEE\u6539\u65F6\u95F4\u8FDB\u884C\u5BF9\u6BD4\uFF0C\u5982\u679C\u4E00\u81F4\u5219\u8FD4\u56DE304\u548C\u54CD\u5E94\u62A5\u6587\u5934\uFF0C\u6D4F\u89C8\u5668\u53EA\u9700\u8981\u4ECE\u7F13\u5B58\u4E2D\u83B7\u53D6\u4FE1\u606F\u5373\u53EF</li><li>\u5982\u679C\u771F\u7684\u88AB\u4FEE\u6539\uFF1A\u90A3\u4E48\u5F00\u59CB\u4F20\u8F93\u54CD\u5E94\u4E00\u4E2A\u6574\u4F53\uFF0C\u670D\u52A1\u5668\u8FD4\u56DE\uFF1A<code>200 OK</code></li><li>\u5982\u679C\u6CA1\u6709\u88AB\u4FEE\u6539\uFF1A\u90A3\u4E48\u53EA\u9700\u4F20\u8F93\u54CD\u5E94<code>header</code>\uFF0C\u670D\u52A1\u5668\u8FD4\u56DE\uFF1A<code>304 Not Modified</code></li><li><code>Etag</code>\uFF1A\u670D\u52A1\u5668\u54CD\u5E94\u8BF7\u6C42\u65F6\uFF0C\u901A\u8FC7\u6B64\u5B57\u6BB5\u544A\u8BC9\u6D4F\u89C8\u5668\u5F53\u524D\u8D44\u6E90\u5728\u670D\u52A1\u5668\u751F\u6210\u7684\u552F\u4E00\u6807\u8BC6\uFF08\u751F\u6210\u89C4\u5219\u7531\u670D\u52A1\u5668\u51B3\u5B9A\uFF09</li><li><code>If-Match</code>\uFF1A\u6761\u4EF6\u8BF7\u6C42\uFF0C\u643A\u5E26\u4E0A\u4E00\u6B21\u8BF7\u6C42\u4E2D\u8D44\u6E90\u7684<code>ETag</code>\uFF0C\u670D\u52A1\u5668\u6839\u636E\u8FD9\u4E2A\u5B57\u6BB5\u5224\u65AD\u6587\u4EF6\u662F\u5426\u6709\u65B0\u7684\u4FEE\u6539</li><li><code>If-None-Match</code>\uFF1A \u518D\u6B21\u8BF7\u6C42\u670D\u52A1\u5668\u65F6\uFF0C\u6D4F\u89C8\u5668\u7684\u8BF7\u6C42\u62A5\u6587\u5934\u90E8\u4F1A\u5305\u542B\u6B64\u5B57\u6BB5\uFF0C\u540E\u9762\u7684\u503C\u4E3A\u5728\u7F13\u5B58\u4E2D\u83B7\u53D6\u7684\u6807\u8BC6\u3002\u670D\u52A1\u5668\u63A5\u6536\u5230\u6B21\u62A5\u6587\u540E\u53D1\u73B0<code>If-None-Match</code>\u5219\u4E0E\u88AB\u8BF7\u6C42\u8D44\u6E90\u7684\u552F\u4E00\u6807\u8BC6\u8FDB\u884C\u5BF9\u6BD4\u3002</li></ul><blockquote><p>\u4F46\u662F\u5B9E\u9645\u5E94\u7528\u4E2D\u7531\u4E8E<code>Etag</code>\u7684\u8BA1\u7B97\u662F\u4F7F\u7528\u7B97\u6CD5\u6765\u5F97\u51FA\u7684\uFF0C\u800C\u7B97\u6CD5\u4F1A\u5360\u7528\u670D\u52A1\u7AEF\u8BA1\u7B97\u7684\u8D44\u6E90\uFF0C\u6240\u6709\u670D\u52A1\u7AEF\u7684\u8D44\u6E90\u90FD\u662F\u5B9D\u8D35\u7684\uFF0C\u6240\u4EE5\u5C31\u5F88\u5C11\u4F7F\u7528<code>Etag</code>\u4E86</p></blockquote><ul><li>\u6D4F\u89C8\u5668\u5730\u5740\u680F\u4E2D\u5199\u5165<code>URL</code>\uFF0C\u56DE\u8F66\u6D4F\u89C8\u5668\u53D1\u73B0\u7F13\u5B58\u4E2D\u6709\u8FD9\u4E2A\u6587\u4EF6\u4E86\uFF0C\u4E0D\u7528\u7EE7\u7EED\u8BF7\u6C42\u4E86\uFF0C\u76F4\u63A5\u53BB\u7F13\u5B58\u62FF\uFF08\u6700\u5FEB\uFF09</li><li><code>F5</code>\u5C31\u662F\u544A\u8BC9\u6D4F\u89C8\u5668\uFF0C\u522B\u5077\u61D2\uFF0C\u597D\u6B79\u53BB\u670D\u52A1\u5668\u770B\u770B\u8FD9\u4E2A\u6587\u4EF6\u662F\u5426\u6709\u8FC7\u671F\u4E86\u3002\u4E8E\u662F\u6D4F\u89C8\u5668\u5C31\u80C6\u80C6\u895F\u895F\u7684\u53D1\u9001\u4E00\u4E2A\u8BF7\u6C42\u5E26\u4E0A<code>If-Modify-since</code></li><li><code>Ctrl+F5</code>\u544A\u8BC9\u6D4F\u89C8\u5668\uFF0C\u4F60\u5148\u628A\u4F60\u7F13\u5B58\u4E2D\u7684\u8FD9\u4E2A\u6587\u4EF6\u7ED9\u6211\u5220\u4E86\uFF0C\u7136\u540E\u518D\u53BB\u670D\u52A1\u5668\u8BF7\u6C42\u4E2A\u5B8C\u6574\u7684\u8D44\u6E90\u6587\u4EF6\u4E0B\u6765\u3002\u4E8E\u662F\u5BA2\u6237\u7AEF\u5C31\u5B8C\u6210\u4E86\u5F3A\u884C\u66F4\u65B0\u7684\u64CD\u4F5C</li></ul>",4),M6={id:"_6-3-\u7F13\u5B58\u573A\u666F",tabindex:"-1"},O6=n("a",{class:"header-anchor",href:"#_6-3-\u7F13\u5B58\u573A\u666F","aria-hidden":"true"},"#",-1),I6=s(),R6={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_6-3-%E7%BC%93%E5%AD%98%E5%9C%BA%E6%99%AF",target:"_blank",rel:"noopener noreferrer"},V6=s("#"),H6=s("6.3 \u7F13\u5B58\u573A\u666F"),L6=t("<blockquote><p>\u5BF9\u4E8E\u5927\u90E8\u5206\u7684\u573A\u666F\u90FD\u53EF\u4EE5\u4F7F\u7528\u5F3A\u7F13\u5B58\u914D\u5408\u534F\u5546\u7F13\u5B58\u89E3\u51B3\uFF0C\u4F46\u662F\u5728\u4E00\u4E9B\u7279\u6B8A\u7684\u5730\u65B9\u53EF\u80FD\u9700\u8981\u9009\u62E9\u7279\u6B8A\u7684\u7F13\u5B58\u7B56</p></blockquote><ul><li>\u5BF9\u4E8E\u67D0\u4E9B\u4E0D\u9700\u8981\u7F13\u5B58\u7684\u8D44\u6E90\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>Cache-control: no-store</code> \uFF0C\u8868\u793A\u8BE5\u8D44\u6E90\u4E0D\u9700\u8981\u7F13\u5B58</li><li>\u5BF9\u4E8E\u9891\u7E41\u53D8\u52A8\u7684\u8D44\u6E90\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>Cache-Control: no-cache</code> \u5E76\u914D\u5408 <code>ETag</code> \u4F7F\u7528\uFF0C\u8868\u793A\u8BE5\u8D44\u6E90\u5DF2\u88AB\u7F13\u5B58\uFF0C\u4F46\u662F\u6BCF\u6B21\u90FD\u4F1A\u53D1\u9001\u8BF7\u6C42\u8BE2\u95EE\u8D44\u6E90\u662F\u5426\u66F4\u65B0</li><li>\u5BF9\u4E8E\u4EE3\u7801\u6587\u4EF6\u6765\u8BF4\uFF0C\u901A\u5E38\u4F7F\u7528 <code>Cache-Control: max-age=31536000</code> \u5E76\u914D\u5408\u7B56\u7565\u7F13\u5B58\u4F7F\u7528\uFF0C\u7136\u540E\u5BF9\u6587\u4EF6\u8FDB\u884C\u6307\u7EB9\u5904\u7406\uFF0C\u4E00\u65E6\u6587\u4EF6\u540D\u53D8\u52A8\u5C31\u4F1A\u7ACB\u523B\u4E0B\u8F7D\u65B0\u7684\u6587\u4EF6</li></ul>",2),U6={id:"_6-4-\u8BB2\u8BB2304",tabindex:"-1"},J6=n("a",{class:"header-anchor",href:"#_6-4-\u8BB2\u8BB2304","aria-hidden":"true"},"#",-1),W6=s(),z6={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_6-4-%E8%AE%B2%E8%AE%B2304",target:"_blank",rel:"noopener noreferrer"},G6=s("#"),$6=s("6.4 \u8BB2\u8BB2304"),X6=n("blockquote",null,[n("p",null,"\u5982\u679C\u5BA2\u6237\u7AEF\u53D1\u9001\u4E86\u4E00\u4E2A\u5E26\u6761\u4EF6\u7684 GET \u8BF7\u6C42\u4E14\u8BE5\u8BF7\u6C42\u5DF2\u88AB\u5141\u8BB8\uFF0C\u800C\u6587\u6863\u7684\u5185\u5BB9(\u81EA \u4E0A\u6B21\u8BBF\u95EE\u4EE5\u6765\u6216\u8005\u6839\u636E\u8BF7\u6C42\u7684\u6761\u4EF6)\u5E76\u6CA1\u6709\u6539\u53D8\uFF0C\u5219\u670D\u52A1\u5668\u5E94\u5F53\u8FD4\u56DE\u8FD9\u4E2A 304 \u72B6\u6001\u7801")],-1),K6={id:"_6-5-\u5F3A\u7F13\u5B58\u3001\u534F\u5546\u7F13\u5B58\u4EC0\u4E48\u65F6\u5019\u7528\u54EA\u4E2A",tabindex:"-1"},Q6=n("a",{class:"header-anchor",href:"#_6-5-\u5F3A\u7F13\u5B58\u3001\u534F\u5546\u7F13\u5B58\u4EC0\u4E48\u65F6\u5019\u7528\u54EA\u4E2A","aria-hidden":"true"},"#",-1),Y6=s(),Z6={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_6-5-%E5%BC%BA%E7%BC%93%E5%AD%98%E3%80%81%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E7%94%A8%E5%93%AA%E4%B8%AA",target:"_blank",rel:"noopener noreferrer"},n4=s("#"),s4=s("6.5 \u5F3A\u7F13\u5B58\u3001\u534F\u5546\u7F13\u5B58\u4EC0\u4E48\u65F6\u5019\u7528\u54EA\u4E2A"),a4=n("blockquote",null,[n("p",null,"\u56E0\u4E3A\u670D\u52A1\u5668\u4E0A\u7684\u8D44\u6E90\u4E0D\u662F\u4E00\u76F4\u56FA\u5B9A\u4E0D\u53D8\u7684\uFF0C\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u5B83\u4F1A\u66F4\u65B0\uFF0C\u8FD9\u4E2A\u65F6\u5019\u5982\u679C\u6211\u4EEC \u8FD8\u8BBF\u95EE\u672C\u5730\u7F13\u5B58\uFF0C\u90A3\u4E48\u5BF9\u7528\u6237\u6765\u8BF4\uFF0C\u90A3\u5C31\u76F8\u5F53\u4E8E\u8D44\u6E90\u6CA1\u6709\u66F4\u65B0\uFF0C\u7528\u6237\u770B\u5230\u7684\u8FD8\u662F\u65E7\u7684\u8D44 \u6E90;\u6240\u4EE5\u6211\u4EEC\u5E0C\u671B\u670D\u52A1\u5668\u4E0A\u7684\u8D44\u6E90\u66F4\u65B0\u4E86\u6D4F\u89C8\u5668\u5C31\u8BF7\u6C42\u65B0\u7684\u8D44\u6E90\uFF0C\u6CA1\u6709\u66F4\u65B0\u5C31\u4F7F\u7528\u672C\u5730 \u7684\u7F13\u5B58\uFF0C\u4EE5\u6700\u5927\u7A0B\u5EA6\u7684\u51CF\u5C11\u56E0\u7F51\u7EDC\u8BF7\u6C42\u800C\u4EA7\u751F\u7684\u8D44\u6E90\u6D6A\u8D39\u3002")],-1),e4={id:"_6-6-\u7F13\u5B58\u603B\u7ED3",tabindex:"-1"},t4=n("a",{class:"header-anchor",href:"#_6-6-\u7F13\u5B58\u603B\u7ED3","aria-hidden":"true"},"#",-1),p4=s(),o4={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_6-6-%E7%BC%93%E5%AD%98%E6%80%BB%E7%BB%93",target:"_blank",rel:"noopener noreferrer"},c4=s("#"),l4=s("6.6 \u7F13\u5B58\u603B\u7ED3"),r4=t("<blockquote><p>\u7F13\u5B58\u5206\u4E3A\u4E24\u79CD:\u5F3A\u7F13\u5B58\u548C\u534F\u5546\u7F13\u5B58\uFF0C\u6839\u636E\u54CD\u5E94\u7684 header \u5185\u5BB9\u6765\u51B3\u5B9A\u3002</p></blockquote><table><thead><tr><th></th><th>\u83B7\u53D6\u8D44\u6E90\u5F62\u5F0F</th><th>\u72B6\u6001\u7801</th><th>\u53D1\u9001\u8BF7\u6C42\u5230\u670D\u52A1\u5668</th></tr></thead><tbody><tr><td>\u5F3A\u7F13\u5B58</td><td>\u4ECE\u7F13\u5B58\u53D6</td><td>200(from cache)</td><td>\u5426\uFF0C\u76F4\u63A5\u4ECE\u7F13\u5B58\u53D6</td></tr><tr><td>\u534F\u5546\u7F13\u5B58</td><td>\u4ECE\u7F13\u5B58\u53D6</td><td>304(not modified)</td><td>\u662F\uFF0C\u901A\u8FC7\u670D\u52A1\u5668\u6765\u544A\u77E5\u7F13\u5B58\u662F\u5426\u53EF \u7528</td></tr></tbody></table><ul><li>\u5F3A\u7F13\u5B58\u76F8\u5173\u5B57\u6BB5\u6709 <code>expires</code>\uFF0C<code>cache-control</code>\u3002\u5982\u679C <code>cache-control</code> \u4E0E <code>expires</code> \u540C\u65F6\u5B58\u5728\u7684\u8BDD\uFF0C <code>cache-control</code> \u7684\u4F18\u5148\u7EA7\u9AD8\u4E8E <code>expires</code>\u3002</li><li>\u534F\u5546\u7F13\u5B58\u76F8\u5173\u5B57\u6BB5\u6709 <code>Last-Modified/If-Modified-Since</code>\uFF0C<code>Etag/If-None-Match</code></li></ul>",3),i4={id:"_6-7-cookie\u548Clocalsrorage\u3001session\u3001indexdb-\u7684\u533A\u522B",tabindex:"-1"},u4=n("a",{class:"header-anchor",href:"#_6-7-cookie\u548Clocalsrorage\u3001session\u3001indexdb-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),k4=s(),d4={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_6-7-cookie%E5%92%8Clocalsrorage%E3%80%81session%E3%80%81indexdb-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},b4=s("#"),m4=s("6.7 cookie\u548ClocalSrorage\u3001session\u3001indexDB \u7684\u533A\u522B"),h4=t("<table><thead><tr><th>\u7279\u6027</th><th>cookie</th><th>localStorage</th><th>sessionStorage</th><th>indexDB</th></tr></thead><tbody><tr><td>\u6570\u636E\u751F\u547D\u5468\u671F</td><td>\u4E00\u822C\u7531\u670D\u52A1\u5668\u751F\u6210\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\u8FC7\u671F\u65F6\u95F4</td><td>\u9664\u975E\u88AB\u6E05\u7406\uFF0C\u5426\u5219\u4E00\u76F4\u5B58\u5728</td><td>\u9875\u9762\u5173\u95ED\u5C31\u6E05\u7406</td><td>\u9664\u975E\u88AB\u6E05\u7406\uFF0C\u5426\u5219\u4E00\u76F4\u5B58\u5728</td></tr><tr><td>\u6570\u636E\u5B58\u50A8\u5927\u5C0F</td><td><code>4K</code></td><td><code>5M</code></td><td><code>5M</code></td><td>\u65E0\u9650</td></tr><tr><td>\u4E0E\u670D\u52A1\u7AEF\u901A\u4FE1</td><td>\u6BCF\u6B21\u90FD\u4F1A\u643A\u5E26\u5728 header \u4E2D\uFF0C\u5BF9\u4E8E\u8BF7\u6C42\u6027\u80FD\u5F71\u54CD</td><td>\u4E0D\u53C2\u4E0E</td><td>\u4E0D\u53C2\u4E0E</td><td>\u4E0D\u53C2\u4E0E</td></tr></tbody></table><blockquote><p>\u4ECE\u4E0A\u8868\u53EF\u4EE5\u770B\u5230\uFF0C<code>cookie</code> \u5DF2\u7ECF\u4E0D\u5EFA\u8BAE\u7528\u4E8E\u5B58\u50A8\u3002\u5982\u679C\u6CA1\u6709\u5927\u91CF\u6570\u636E\u5B58\u50A8\u9700\u6C42\u7684\u8BDD\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>localStorage</code>\u548C <code>sessionStorage</code> \u3002\u5BF9\u4E8E\u4E0D\u600E\u4E48\u6539\u53D8\u7684\u6570\u636E\u5C3D\u91CF\u4F7F\u7528 <code>localStorage</code> \u5B58\u50A8\uFF0C\u5426\u5219\u53EF\u4EE5\u7528 <code>sessionStorage</code> \u5B58\u50A8\u3002</p></blockquote><p><strong>\u5BF9\u4E8E <code>cookie</code>\uFF0C\u6211\u4EEC\u8FD8\u9700\u8981\u6CE8\u610F\u5B89\u5168\u6027</strong></p><table><thead><tr><th>\u5C5E\u6027</th><th>\u4F5C\u7528</th></tr></thead><tbody><tr><td><code>value</code></td><td>\u5982\u679C\u7528\u4E8E\u4FDD\u5B58\u7528\u6237\u767B\u5F55\u6001\uFF0C\u5E94\u8BE5\u5C06\u8BE5\u503C\u52A0\u5BC6\uFF0C\u4E0D\u80FD\u4F7F\u7528\u660E\u6587\u7684\u7528\u6237\u6807\u8BC6</td></tr><tr><td><code>http-only</code></td><td>\u4E0D\u80FD\u901A\u8FC7 <code>JS</code>\u8BBF\u95EE <code>Cookie</code>\uFF0C\u51CF\u5C11 <code>XSS</code>\u653B\u51FB</td></tr><tr><td><code>secure</code></td><td>\u53EA\u80FD\u5728\u534F\u8BAE\u4E3A <code>HTTPS</code> \u7684\u8BF7\u6C42\u4E2D\u643A\u5E26</td></tr><tr><td><code>same-site</code></td><td>\u89C4\u5B9A\u6D4F\u89C8\u5668\u4E0D\u80FD\u5728\u8DE8\u57DF\u8BF7\u6C42\u4E2D\u643A\u5E26 <code>Cookie</code>\uFF0C\u51CF\u5C11 <code>CSRF</code> \u653B\u51FB</td></tr></tbody></table>",4),_4={id:"_6-\u5185\u5B58\u6CC4\u9732",tabindex:"-1"},g4=n("a",{class:"header-anchor",href:"#_6-\u5185\u5B58\u6CC4\u9732","aria-hidden":"true"},"#",-1),E4=s(),f4={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_6-%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2",target:"_blank",rel:"noopener noreferrer"},v4=s("#"),w4=s("6 \u5185\u5B58\u6CC4\u9732"),y4=t("<ul><li>\u610F\u5916\u7684\u5168\u5C40\u53D8\u91CF: \u65E0\u6CD5\u88AB\u56DE\u6536</li><li>\u5B9A\u65F6\u5668: \u672A\u88AB\u6B63\u786E\u5173\u95ED\uFF0C\u5BFC\u81F4\u6240\u5F15\u7528\u7684\u5916\u90E8\u53D8\u91CF\u65E0\u6CD5\u88AB\u91CA\u653E</li><li>\u4E8B\u4EF6\u76D1\u542C: \u6CA1\u6709\u6B63\u786E\u9500\u6BC1 (\u4F4E\u7248\u672C\u6D4F\u89C8\u5668\u53EF\u80FD\u51FA\u73B0)</li><li>\u95ED\u5305: \u4F1A\u5BFC\u81F4\u7236\u7EA7\u4E2D\u7684\u53D8\u91CF\u65E0\u6CD5\u88AB\u91CA\u653E</li><li><code>dom</code> \u5F15\u7528: <code>dom</code> \u5143\u7D20\u88AB\u5220\u9664\u65F6\uFF0C\u5185\u5B58\u4E2D\u7684\u5F15\u7528\u672A\u88AB\u6B63\u786E\u6E05\u7A7A</li></ul><blockquote><p>\u53EF\u7528 <code>chrome</code> \u4E2D\u7684 <code>timeline</code> \u8FDB\u884C\u5185\u5B58\u6807\u8BB0\uFF0C\u53EF\u89C6\u5316\u67E5\u770B\u5185\u5B58\u7684\u53D8\u5316\u60C5\u51B5\uFF0C\u627E\u51FA\u5F02\u5E38\u70B9\u3002</p></blockquote>",2),x4={id:"_7-\u6D4F\u89C8\u5668api",tabindex:"-1"},A4=n("a",{class:"header-anchor",href:"#_7-\u6D4F\u89C8\u5668api","aria-hidden":"true"},"#",-1),B4=s(),q4={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_7-%E6%B5%8F%E8%A7%88%E5%99%A8api",target:"_blank",rel:"noopener noreferrer"},j4=s("#"),S4=s("7 \u6D4F\u89C8\u5668API"),C4={id:"_7-1-web-worker",tabindex:"-1"},D4=n("a",{class:"header-anchor",href:"#_7-1-web-worker","aria-hidden":"true"},"#",-1),F4=s(),P4={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_7-1-web-worker",target:"_blank",rel:"noopener noreferrer"},T4=s("#"),N4=s("7.1 Web Worker"),M4=t(`<blockquote><p>\u73B0\u4EE3\u6D4F\u89C8\u5668\u4E3A<code>JavaScript</code>\u521B\u9020\u7684 \u591A\u7EBF\u7A0B\u73AF\u5883\u3002\u53EF\u4EE5\u65B0\u5EFA\u5E76\u5C06\u90E8\u5206\u4EFB\u52A1\u5206\u914D\u5230<code>worker</code>\u7EBF\u7A0B\u5E76\u884C\u8FD0\u884C\uFF0C\u4E24\u4E2A\u7EBF\u7A0B\u53EF \u72EC\u7ACB\u8FD0\u884C\uFF0C\u4E92\u4E0D\u5E72\u6270\uFF0C\u53EF\u901A\u8FC7\u81EA\u5E26\u7684 \u6D88\u606F\u673A\u5236 \u76F8\u4E92\u901A\u4FE1\u3002</p></blockquote><p><strong>\u57FA\u672C\u7528\u6CD5:</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u521B\u5EFA worker</span>
<span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">&#39;work.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5411\u4E3B\u8FDB\u7A0B\u63A8\u9001\u6D88\u606F</span>
worker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&#39;Hello World&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u76D1\u542C\u4E3B\u8FDB\u7A0B\u6765\u7684\u6D88\u606F</span>
worker<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Received message &#39;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>\u9650\u5236:</strong></p><ul><li>\u540C\u6E90\u9650\u5236</li><li>\u65E0\u6CD5\u4F7F\u7528 <code>document / window / alert / confirm</code></li><li>\u65E0\u6CD5\u52A0\u8F7D\u672C\u5730\u8D44\u6E90</li></ul>`,5),O4={id:"_7-2-service-worker",tabindex:"-1"},I4=n("a",{class:"header-anchor",href:"#_7-2-service-worker","aria-hidden":"true"},"#",-1),R4=s(),V4={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_7-2-service-worker",target:"_blank",rel:"noopener noreferrer"},H4=s("#"),L4=s("7.2 Service Worker"),U4=t(`<p>service worker</p><p><code>Service workers</code> \u672C\u8D28\u4E0A\u5145\u5F53Web\u5E94\u7528\u7A0B\u5E8F\u4E0E\u6D4F\u89C8\u5668\u4E4B\u95F4\u7684\u4EE3\u7406\u670D\u52A1\u5668\uFF0C\u4E5F\u53EF\u4EE5\u5728\u7F51\u7EDC\u53EF\u7528\u65F6\u4F5C\u4E3A\u6D4F\u89C8\u5668\u548C\u7F51\u7EDC\u95F4\u7684\u4EE3\u7406\u3002\u5B83\u4EEC\u65E8\u5728\uFF08\u9664\u5176\u4ED6\u4E4B\u5916\uFF09\u4F7F\u5F97\u80FD\u591F\u521B\u5EFA\u6709\u6548\u7684\u79BB\u7EBF\u4F53\u9A8C\uFF0C\u62E6\u622A\u7F51\u7EDC\u8BF7\u6C42\u5E76\u57FA\u4E8E\u7F51\u7EDC\u662F\u5426\u53EF\u7528\u4EE5\u53CA\u66F4\u65B0\u7684\u8D44\u6E90\u662F\u5426\u9A7B\u7559\u5728\u670D\u52A1\u5668\u4E0A\u6765\u91C7\u53D6\u9002\u5F53\u7684\u52A8\u4F5C\u3002\u4ED6\u4EEC\u8FD8\u5141\u8BB8\u8BBF\u95EE\u63A8\u9001\u901A\u77E5\u548C\u540E\u53F0\u540C\u6B65API</p><p><strong>\u76EE\u524D\u8BE5\u6280\u672F\u901A\u5E38\u7528\u6765\u505A\u7F13\u5B58\u6587\u4EF6\uFF0C\u63D0\u9AD8\u9996\u5C4F\u901F\u5EA6</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  navigator<span class="token punctuation">.</span>serviceWorker
    <span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&quot;sw.js&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;service worker \u6CE8\u518C\u6210\u529F&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;servcie worker \u6CE8\u518C\u5931\u8D25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// sw.js</span>
<span class="token comment">// \u76D1\u542C \`install\` \u4E8B\u4EF6\uFF0C\u56DE\u8C03\u4E2D\u7F13\u5B58\u6240\u9700\u6587\u4EF6</span>
self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;install&quot;</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
    caches<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;my-cache&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cache</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;./index.html&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./index.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u62E6\u622A\u6240\u6709\u8BF7\u6C42\u4E8B\u4EF6</span>
<span class="token comment">// \u5982\u679C\u7F13\u5B58\u4E2D\u5DF2\u7ECF\u6709\u8BF7\u6C42\u7684\u6570\u636E\u5C31\u76F4\u63A5\u7528\u7F13\u5B58\uFF0C\u5426\u5219\u53BB\u8BF7\u6C42\u6570\u636E</span>
self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;fetch&quot;</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span>
    caches<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> response<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;fetch source&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><blockquote><p>\u6253\u5F00\u9875\u9762\uFF0C\u53EF\u4EE5\u5728\u5F00\u53D1\u8005\u5DE5\u5177\u4E2D\u7684 <code>Application</code> \u770B\u5230 <code>Service Worker</code> \u5DF2\u7ECF\u542F\u52A8\u4E86</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/09/96.png" alt="img"></p><blockquote><p>\u5728 Cache \u4E2D\u4E5F\u53EF\u4EE5\u53D1\u73B0\u6211\u4EEC\u6240\u9700\u7684\u6587\u4EF6\u5DF2\u88AB\u7F13\u5B58</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/09/97.png" alt="img"></p><blockquote><p>\u5F53\u6211\u4EEC\u91CD\u65B0\u5237\u65B0\u9875\u9762\u53EF\u4EE5\u53D1\u73B0\u6211\u4EEC\u7F13\u5B58\u7684\u6570\u636E\u662F\u4ECE <code>Service</code> <code>Worker</code> \u4E2D\u8BFB\u53D6\u7684</p></blockquote>`,9),J4={id:"_7-3-requestanimationframe\u7528\u6CD5",tabindex:"-1"},W4=n("a",{class:"header-anchor",href:"#_7-3-requestanimationframe\u7528\u6CD5","aria-hidden":"true"},"#",-1),z4=s(),G4={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_7-3-requestanimationframe%E7%94%A8%E6%B3%95",target:"_blank",rel:"noopener noreferrer"},$4=s("#"),X4=s("7.3 requestAnimationFrame\u7528\u6CD5"),K4=t("<blockquote><p>\u5728Web\u5E94\u7528\u4E2D\uFF0C\u5B9E\u73B0\u52A8\u753B\u6548\u679C\u7684\u65B9\u6CD5\u6BD4\u8F83\u591A\uFF0C<code>Javascript</code> \u4E2D\u53EF\u4EE5\u901A\u8FC7\u5B9A\u65F6\u5668 <code>setTimeout</code> \u6765\u5B9E\u73B0\uFF0C<code>css3</code> \u53EF\u4EE5\u4F7F\u7528 <code>transition</code> \u548C <code>animation</code> \u6765\u5B9E\u73B0\uFF0C<code>html5</code> \u4E2D\u7684 <code>canvas</code> \u4E5F\u53EF\u4EE5\u5B9E\u73B0\u3002\u9664\u6B64\u4E4B\u5916\uFF0Chtml5 \u8FD8\u63D0\u4F9B\u4E00\u4E2A\u4E13\u95E8\u7528\u4E8E\u8BF7\u6C42\u52A8\u753B\u7684<code>API</code>\uFF0C\u90A3\u5C31\u662F <code>requestAnimationFrame</code>\uFF0C\u987E\u540D\u601D\u4E49\u5C31\u662F\u8BF7\u6C42\u52A8\u753B\u5E27</p></blockquote>",1),Q4={id:"_1-\u9875\u9762\u53EF\u89C1",tabindex:"-1"},Y4=n("a",{class:"header-anchor",href:"#_1-\u9875\u9762\u53EF\u89C1","aria-hidden":"true"},"#",-1),Z4=s(),nw={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_1-%E9%A1%B5%E9%9D%A2%E5%8F%AF%E8%A7%81",target:"_blank",rel:"noopener noreferrer"},sw=s("#"),aw=s("1.\u9875\u9762\u53EF\u89C1"),ew=n("blockquote",null,[n("p",null,[s("\u5F53\u9875\u9762\u88AB\u6700\u5C0F\u5316\u6216\u8005\u88AB\u5207\u6362\u6210\u540E\u53F0\u6807\u7B7E\u9875\u65F6\uFF0C\u9875\u9762\u4E3A\u4E0D\u53EF\u89C1\uFF0C\u6D4F\u89C8\u5668\u4F1A\u89E6\u53D1\u4E00\u4E2A "),n("code",null,"visibilitychange"),s("\u4E8B\u4EF6,\u5E76\u8BBE\u7F6E"),n("code",null,"document.hidden"),s("\u5C5E\u6027\u4E3Atrue\uFF1B\u5207\u6362\u5230\u663E\u793A\u72B6\u6001\u65F6\uFF0C\u9875\u9762\u4E3A\u53EF\u89C1\uFF0C\u4E5F\u540C\u6837\u89E6\u53D1\u4E00\u4E2A "),n("code",null,"visibilitychange"),s(" \u4E8B\u4EF6\uFF0C\u8BBE\u7F6E"),n("code",null,"document.hidden"),s("\u5C5E\u6027\u4E3A"),n("code",null,"false")])],-1),tw={id:"_2-\u52A8\u753B\u5E27\u8BF7\u6C42\u56DE\u8C03\u51FD\u6570\u5217\u8868",tabindex:"-1"},pw=n("a",{class:"header-anchor",href:"#_2-\u52A8\u753B\u5E27\u8BF7\u6C42\u56DE\u8C03\u51FD\u6570\u5217\u8868","aria-hidden":"true"},"#",-1),ow=s(),cw={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_2-%E5%8A%A8%E7%94%BB%E5%B8%A7%E8%AF%B7%E6%B1%82%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E5%88%97%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"},lw=s("#"),rw=s("2.\u52A8\u753B\u5E27\u8BF7\u6C42\u56DE\u8C03\u51FD\u6570\u5217\u8868"),iw=n("blockquote",null,[n("p",null,[s("\u6BCF\u4E2A"),n("code",null,"Document"),s("\u90FD\u6709\u4E00\u4E2A\u52A8\u753B\u5E27\u8BF7\u6C42\u56DE\u8C03\u51FD\u6570\u5217\u8868\uFF0C\u8BE5\u5217\u8868\u53EF\u4EE5\u770B\u6210\u662F\u7531"),n("code",null,"<handlerId, callback>"),s("\u5143\u7EC4\u7EC4\u6210\u7684\u96C6\u5408\u3002\u5176\u4E2D"),n("code",null,"handlerId"),s("\u662F\u4E00\u4E2A\u6574\u6570\uFF0C\u552F\u4E00\u5730\u6807\u8BC6\u4E86\u5143\u7EC4\u5728\u5217\u8868\u4E2D\u7684\u4F4D\u7F6E\uFF1B"),n("code",null,"callback"),s("\u662F\u56DE\u8C03\u51FD\u6570")])],-1),uw={id:"_3-\u5C4F\u5E55\u5237\u65B0\u9891\u7387",tabindex:"-1"},kw=n("a",{class:"header-anchor",href:"#_3-\u5C4F\u5E55\u5237\u65B0\u9891\u7387","aria-hidden":"true"},"#",-1),dw=s(),bw={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_3-%E5%B1%8F%E5%B9%95%E5%88%B7%E6%96%B0%E9%A2%91%E7%8E%87",target:"_blank",rel:"noopener noreferrer"},mw=s("#"),hw=s("3.\u5C4F\u5E55\u5237\u65B0\u9891\u7387"),_w=n("blockquote",null,[n("p",null,[s("\u5373\u56FE\u50CF\u5728\u5C4F\u5E55\u4E0A\u66F4\u65B0\u7684\u901F\u5EA6\uFF0C\u4E5F\u5373\u5C4F\u5E55\u4E0A\u7684\u56FE\u50CF\u6BCF\u79D2\u949F\u51FA\u73B0\u7684\u6B21\u6570\uFF0C\u5B83\u7684\u5355\u4F4D\u662F\u8D6B\u5179(Hz)\u3002 \u5BF9\u4E8E\u4E00\u822C\u7B14\u8BB0\u672C\u7535\u8111\uFF0C\u8FD9\u4E2A\u9891\u7387\u5927\u6982\u662F"),n("code",null,"60Hz"),s("\uFF0C \u8FD9\u4E2A\u503C\u7684\u8BBE\u5B9A\u53D7\u5C4F\u5E55\u5206\u8FA8\u7387\u3001\u5C4F\u5E55\u5C3A\u5BF8\u548C\u663E\u5361\u7684\u5F71\u54CD")])],-1),gw={id:"_4-\u52A8\u753B\u539F\u7406",tabindex:"-1"},Ew=n("a",{class:"header-anchor",href:"#_4-\u52A8\u753B\u539F\u7406","aria-hidden":"true"},"#",-1),fw=s(),vw={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_4-%E5%8A%A8%E7%94%BB%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},ww=s("#"),yw=s("4.\u52A8\u753B\u539F\u7406"),xw=n("blockquote",null,[n("p",null,"\u6839\u636E\u4E0A\u9762\u7684\u539F\u7406\u6211\u4EEC\u77E5\u9053\uFF0C\u4F60\u773C\u524D\u6240\u770B\u5230\u56FE\u50CF\u6B63\u5728\u4EE5\u6BCF\u79D260\u6B21\u7684\u9891\u7387\u5237\u65B0\uFF0C\u7531\u4E8E\u5237\u65B0\u9891\u7387\u5F88\u9AD8\uFF0C\u56E0\u6B64\u4F60\u611F\u89C9\u4E0D\u5230\u5B83\u5728\u5237\u65B0\u3002\u800C\u52A8\u753B\u672C\u8D28\u5C31\u662F\u8981\u8BA9\u4EBA\u773C\u770B\u5230\u56FE\u50CF\u88AB\u5237\u65B0\u800C\u5F15\u8D77\u53D8\u5316\u7684\u89C6\u89C9\u6548\u679C\uFF0C\u8FD9\u4E2A\u53D8\u5316\u8981\u4EE5\u8FDE\u8D2F\u7684\u3001\u5E73\u6ED1\u7684\u65B9\u5F0F\u8FDB\u884C\u8FC7\u6E21\u3002 \u90A3\u600E\u4E48\u6837\u624D\u80FD\u505A\u5230\u8FD9\u79CD\u6548\u679C\u5462")],-1),Aw=n("p",null,[s("\u5237\u65B0\u9891\u7387\u4E3A"),n("code",null,"60Hz"),s("\u7684\u5C4F\u5E55\u6BCF"),n("code",null,"16.7ms"),s("\u5237\u65B0\u4E00\u6B21\uFF0C\u6211\u4EEC\u5728\u5C4F\u5E55\u6BCF\u6B21\u5237\u65B0\u524D\uFF0C\u5C06\u56FE\u50CF\u7684\u4F4D\u7F6E\u5411\u5DE6\u79FB\u52A8\u4E00\u4E2A\u50CF\u7D20\uFF0C\u5373"),n("code",null,"1px"),s("\u3002\u8FD9\u6837\u4E00\u6765\uFF0C\u5C4F\u5E55\u6BCF\u6B21\u5237\u51FA\u6765\u7684\u56FE\u50CF\u4F4D\u7F6E\u90FD\u6BD4\u524D\u4E00\u4E2A\u8981\u5DEE"),n("code",null,"1px"),s("\uFF0C\u56E0\u6B64\u4F60\u4F1A\u770B\u5230\u56FE\u50CF\u5728\u79FB\u52A8\uFF1B\u7531\u4E8E\u6211\u4EEC\u4EBA\u773C\u7684\u89C6\u89C9\u505C\u7559\u6548\u5E94\uFF0C\u5F53\u524D\u4F4D\u7F6E\u7684\u56FE\u50CF\u505C\u7559\u5728\u5927\u8111\u7684\u5370\u8C61\u8FD8\u6CA1\u6D88\u5931\uFF0C\u7D27\u63A5\u7740\u56FE\u50CF\u53C8\u88AB\u79FB\u5230\u4E86\u4E0B\u4E00\u4E2A\u4F4D\u7F6E\uFF0C\u56E0\u6B64\u4F60\u624D\u4F1A\u770B\u5230\u56FE\u50CF\u5728\u6D41\u7545\u7684\u79FB\u52A8\uFF0C\u8FD9\u5C31\u662F\u89C6\u89C9\u6548\u679C\u4E0A\u5F62\u6210\u7684\u52A8\u753B")],-1),Bw={id:"_5-requestanimationframe\u7528\u6CD5",tabindex:"-1"},qw=n("a",{class:"header-anchor",href:"#_5-requestanimationframe\u7528\u6CD5","aria-hidden":"true"},"#",-1),jw=s(),Sw={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_5-requestanimationframe%E7%94%A8%E6%B3%95",target:"_blank",rel:"noopener noreferrer"},Cw=s("#"),Dw=s("5.requestAnimationFrame\u7528\u6CD5"),Fw=t(`<p>\u5F02\u6B65\uFF0C\u4F20\u5165\u7684\u51FD\u6570\u5728\u91CD\u7ED8\u4E4B\u524D\u8C03\u7528</p><p><strong>1. \u5199\u6CD5\uFF1AhandlerId = requestAnimationFrame(callback)</strong></p><ul><li>\u4F20\u5165\u4E00\u4E2A<code>callback</code>\u51FD\u6570\uFF0C\u5373\u52A8\u753B\u51FD\u6570</li><li>\u8FD4\u56DE\u503C<code>handlerId</code>\u4E3A\u6D4F\u89C8\u5668\u5B9A\u4E49\u7684\u3001\u5927\u4E8E<code>0</code>\u7684\u6574\u6570\uFF0C\u552F\u4E00\u6807\u8BC6\u4E86\u8BE5\u56DE\u8C03\u51FD\u6570\u5728\u5217\u8868\u4E2D\u4F4D\u7F6E</li></ul><p><strong>2. \u6D4F\u89C8\u5668\u6267\u884C\u8FC7\u7A0B</strong></p><ul><li>\u9996\u5148\u8981\u5224\u65AD<code>document.hidden</code>\u5C5E\u6027\u662F\u5426\u4E3A<code>true</code>,\u5373\u9875\u9762\u5904\u4E8E\u53EF\u89C1\u72B6\u6001\u4E0B\u624D\u4F1A\u6267\u884C</li><li>\u6D4F\u89C8\u5668\u6E05\u7A7A\u4E0A\u4E00\u8F6E\u7684\u52A8\u753B\u51FD\u6570</li><li>\u8FD9\u4E2A\u65B9\u6CD5\u8FD4\u56DE\u7684handlerId \u503C\u4F1A\u548C\u52A8\u753B\u51FD\u6570callback\uFF0C\u4EE5<code>&lt;handlerId , callback&gt;</code> \u8FDB\u5165\u5230\u52A8\u753B\u5E27\u8BF7\u6C42\u56DE\u8C03\u51FD\u6570\u5217</li><li>\u6D4F\u89C8\u5668\u4F1A\u904D\u5386\u52A8\u753B\u5E27\u8BF7\u6C42\u56DE\u8C03\u51FD\u6570\u5217\u8868\uFF0C\u6839\u636EhandlerId \u7684\u503C\u5927\u5C0F\uFF0C\u4F9D\u6B21\u53BB\u6267\u884C\u76F8\u5E94\u7684\u52A8\u753B\u51FD\u6570</li></ul><p><strong>3. \u53D6\u6D88\u52A8\u753B\u51FD\u6570\u7684\u65B9\u6CD5</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cancelAnimationFrame(handlerId)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,7),Pw={id:"_6-\u4E0Esettimeout\u5BF9\u6BD4",tabindex:"-1"},Tw=n("a",{class:"header-anchor",href:"#_6-\u4E0Esettimeout\u5BF9\u6BD4","aria-hidden":"true"},"#",-1),Nw=s(),Mw={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_6-%E4%B8%8Esettimeout%E5%AF%B9%E6%AF%94",target:"_blank",rel:"noopener noreferrer"},Ow=s("#"),Iw=s("6.\u4E0EsetTimeout\u5BF9\u6BD4"),Rw=t(`<blockquote><p>\u7406\u89E3\u4E86\u4E0A\u9762\u7684\u6982\u5FF5\u4EE5\u540E\uFF0C\u6211\u4EEC\u4E0D\u96BE\u53D1\u73B0\uFF0CsetTimeout \u5176\u5B9E\u5C31\u662F\u901A\u8FC7\u8BBE\u7F6E\u4E00\u4E2A\u95F4\u9694\u65F6\u95F4\u6765\u4E0D\u65AD\u7684\u6539\u53D8\u56FE\u50CF\u7684\u4F4D\u7F6E\uFF0C\u4ECE\u800C\u8FBE\u5230\u52A8\u753B\u6548\u679C\u7684\u3002\u4F46\u5229\u7528seTimeout\u5B9E\u73B0\u7684\u52A8\u753B\u5728\u67D0\u4E9B\u4F4E\u7AEF\u673A\u4E0A\u4F1A\u51FA\u73B0\u5361\u987F\u3001\u6296\u52A8\u7684\u73B0\u8C61\u3002 \u8FD9\u79CD\u73B0\u8C61\u7684\u4EA7\u751F\u6709\u4E24\u4E2A\u539F\u56E0</p></blockquote><ul><li><code>setTimeout</code>\u7684\u6267\u884C\u65F6\u95F4\u5E76\u4E0D\u662F\u786E\u5B9A\u7684\u3002\u5728Javascript\u4E2D\uFF0C setTimeout \u4EFB\u52A1\u88AB\u653E\u8FDB\u4E86\u5F02\u6B65\u961F\u5217\u4E2D\uFF0C\u53EA\u6709\u5F53\u4E3B\u7EBF\u7A0B\u4E0A\u7684\u4EFB\u52A1\u6267\u884C\u5B8C\u4EE5\u540E\uFF0C\u624D\u4F1A\u53BB\u68C0\u67E5\u8BE5\u961F\u5217\u91CC\u7684\u4EFB\u52A1\u662F\u5426\u9700\u8981\u5F00\u59CB\u6267\u884C\uFF0C\u56E0\u6B64 <code>setTimeout</code> \u7684\u5B9E\u9645\u6267\u884C\u65F6\u95F4\u4E00\u822C\u8981\u6BD4\u5176\u8BBE\u5B9A\u7684\u65F6\u95F4\u665A\u4E00\u4E9B</li><li>\u5237\u65B0\u9891\u7387\u53D7\u5C4F\u5E55\u5206\u8FA8\u7387\u548C\u5C4F\u5E55\u5C3A\u5BF8\u7684\u5F71\u54CD\uFF0C\u56E0\u6B64\u4E0D\u540C\u8BBE\u5907\u7684\u5C4F\u5E55\u5237\u65B0\u9891\u7387\u53EF\u80FD\u4F1A\u4E0D\u540C\uFF0C\u800C setTimeout\u53EA\u80FD\u8BBE\u7F6E\u4E00\u4E2A\u56FA\u5B9A\u7684\u65F6\u95F4\u95F4\u9694\uFF0C\u8FD9\u4E2A\u65F6\u95F4\u4E0D\u4E00\u5B9A\u548C\u5C4F\u5E55\u7684\u5237\u65B0\u65F6\u95F4\u76F8\u540C\u3002</li></ul><blockquote><p>\u4EE5\u4E0A\u4E24\u79CD\u60C5\u51B5\u90FD\u4F1A\u5BFC\u81F4<code>setTimeout</code>\u7684\u6267\u884C\u6B65\u8C03\u548C\u5C4F\u5E55\u7684\u5237\u65B0\u6B65\u8C03\u4E0D\u4E00\u81F4\uFF0C\u4ECE\u800C\u5F15\u8D77\u4E22\u5E27\u73B0\u8C61\u3002 \u90A3\u4E3A\u4EC0\u4E48\u6B65\u8C03\u4E0D\u4E00\u81F4\u5C31\u4F1A\u5F15\u8D77\u4E22\u5E27\u5462</p></blockquote><blockquote><p>\u9996\u5148\u8981\u660E\u767D\uFF0C<code>setTimeout</code>\u7684\u6267\u884C\u53EA\u662F\u5728\u5185\u5B58\u4E2D\u5BF9\u56FE\u50CF\u5C5E\u6027\u8FDB\u884C\u6539\u53D8\uFF0C\u8FD9\u4E2A\u53D8\u5316\u5FC5\u987B\u8981\u7B49\u5230\u5C4F\u5E55\u4E0B\u6B21\u5237\u65B0\u65F6\u624D\u4F1A\u88AB\u66F4\u65B0\u5230\u5C4F\u5E55\u4E0A\u3002\u5982\u679C\u4E24\u8005\u7684\u6B65\u8C03\u4E0D\u4E00\u81F4\uFF0C\u5C31\u53EF\u80FD\u4F1A\u5BFC\u81F4\u4E2D\u95F4\u67D0\u4E00\u5E27\u7684\u64CD\u4F5C\u88AB\u8DE8\u8D8A\u8FC7\u53BB\uFF0C\u800C\u76F4\u63A5\u66F4\u65B0\u4E0B\u4E00\u5E27\u7684\u56FE\u50CF\u3002\u5047\u8BBE\u5C4F\u5E55\u6BCF\u9694<code>16.7ms</code>\u5237\u65B0\u4E00\u6B21\uFF0C\u800C<code>setTimeout</code>\u6BCF\u9694<code>10ms</code>\u8BBE\u7F6E\u56FE\u50CF\u5411\u5DE6\u79FB\u52A8<code>1px</code>\uFF0C \u5C31\u4F1A\u51FA\u73B0\u5982\u4E0B\u7ED8\u5236\u8FC7\u7A0B\uFF1A</p></blockquote><ul><li>\u7B2C0ms: \u5C4F\u5E55\u672A\u5237\u65B0\uFF0C\u7B49\u5F85\u4E2D\uFF0CsetTimeout\u4E5F\u672A\u6267\u884C\uFF0C\u7B49\u5F85\u4E2D\uFF1B</li><li>\u7B2C10ms: \u5C4F\u5E55\u672A\u5237\u65B0\uFF0C\u7B49\u5F85\u4E2D\uFF0CsetTimeout\u5F00\u59CB\u6267\u884C\u5E76\u8BBE\u7F6E\u56FE\u50CF\u5C5E\u6027left=1px\uFF1B</li><li>\u7B2C16.7ms: \u5C4F\u5E55\u5F00\u59CB\u5237\u65B0\uFF0C\u5C4F\u5E55\u4E0A\u7684\u56FE\u50CF\u5411\u5DE6\u79FB\u52A8\u4E861px\uFF0C setTimeout \u672A\u6267\u884C\uFF0C\u7EE7\u7EED\u7B49\u5F85\u4E2D\uFF1B</li><li>\u7B2C20ms: \u5C4F\u5E55\u672A\u5237\u65B0\uFF0C\u7B49\u5F85\u4E2D\uFF0CsetTimeout\u5F00\u59CB\u6267\u884C\u5E76\u8BBE\u7F6Eleft=2px;</li><li>\u7B2C30ms: \u5C4F\u5E55\u672A\u5237\u65B0\uFF0C\u7B49\u5F85\u4E2D\uFF0CsetTimeout\u5F00\u59CB\u6267\u884C\u5E76\u8BBE\u7F6Eleft=3px;</li><li>\u7B2C33.4ms: \u5C4F\u5E55\u5F00\u59CB\u5237\u65B0\uFF0C\u5C4F\u5E55\u4E0A\u7684\u56FE\u50CF\u5411\u5DE6\u79FB\u52A8\u4E863px\uFF0C setTimeout\u672A\u6267\u884C\uFF0C\u7EE7\u7EED\u7B49\u5F85\u4E2D\uFF1B \u2026</li></ul><blockquote><p>\u4ECE\u4E0A\u9762\u7684\u7ED8\u5236\u8FC7\u7A0B\u4E2D\u53EF\u4EE5\u770B\u51FA\uFF0C\u5C4F\u5E55\u6CA1\u6709\u66F4\u65B0<code>left=2px</code>\u7684\u90A3\u4E00\u5E27\u753B\u9762\uFF0C\u56FE\u50CF\u76F4\u63A5\u4ECE1px\u7684\u4F4D\u7F6E\u8DF3\u5230\u4E863px\u7684\u7684\u4F4D\u7F6E\uFF0C\u8FD9\u5C31\u662F\u4E22\u5E27\u73B0\u8C61\uFF0C\u8FD9\u79CD\u73B0\u8C61\u5C31\u4F1A\u5F15\u8D77\u52A8\u753B\u5361\u987F</p></blockquote><blockquote><p>\u4E0E<code>setTimeout</code>\u76F8\u6BD4\uFF0C<code>requestAnimationFrame</code>\u6700\u5927\u7684\u4F18\u52BF\u662F\u7531\u7CFB\u7EDF\u6765\u51B3\u5B9A\u56DE\u8C03\u51FD\u6570\u7684\u6267\u884C\u65F6\u673A\u3002\u5177\u4F53\u4E00\u70B9\u8BB2\uFF0C\u5982\u679C\u5C4F\u5E55\u5237\u65B0\u7387\u662F<code>60Hz</code>,\u90A3\u4E48\u56DE\u8C03\u51FD\u6570\u5C31\u6BCF16.7ms\u88AB\u6267\u884C\u4E00\u6B21\uFF0C\u5982\u679C\u5237\u65B0\u7387\u662F<code>75Hz</code>\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u65F6\u95F4\u95F4\u9694\u5C31\u53D8\u6210\u4E86<code>1000/75=13.3ms</code>\uFF0C\u6362\u53E5\u8BDD\u8BF4\u5C31\u662F\uFF0C<code>requestAnimationFrame</code>\u7684\u6B65\u4F10\u8DDF\u7740\u7CFB\u7EDF\u7684\u5237\u65B0\u6B65\u4F10\u8D70\u3002\u5B83\u80FD\u4FDD\u8BC1\u56DE\u8C03\u51FD\u6570\u5728\u5C4F\u5E55\u6BCF\u4E00\u6B21\u7684\u5237\u65B0\u95F4\u9694\u4E2D\u53EA\u88AB\u6267\u884C\u4E00\u6B21\uFF0C\u8FD9\u6837\u5C31\u4E0D\u4F1A\u5F15\u8D77\u4E22\u5E27\u73B0\u8C61\uFF0C\u4E5F\u4E0D\u4F1A\u5BFC\u81F4\u52A8\u753B\u51FA\u73B0\u5361\u987F\u7684\u95EE\u9898\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> progress <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token comment">//\u56DE\u8C03\u51FD\u6570</span>
<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  progress <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//\u4FEE\u6539\u56FE\u50CF\u7684\u4F4D\u7F6E  </span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>progress <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//\u5728\u52A8\u753B\u6CA1\u6709\u7ED3\u675F\u524D\uFF0C\u9012\u5F52\u6E32\u67D3    </span>
    window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//\u7B2C\u4E00\u5E27\u6E32\u67D3</span>
window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>\u9664\u6B64\u4E4B\u5916\uFF0CrequestAnimationFrame\u8FD8\u6709\u4EE5\u4E0B\u4E24\u4E2A\u4F18\u52BF</strong></p><ul><li>CPU\u8282\u80FD\uFF1A\u4F7F\u7528<code>setTimeout</code>\u5B9E\u73B0\u7684\u52A8\u753B\uFF0C\u5F53\u9875\u9762\u88AB\u9690\u85CF\u6216\u6700\u5C0F\u5316\u65F6\uFF0C<code>setTimeout</code> \u4ECD\u7136\u5728\u540E\u53F0\u6267\u884C\u52A8\u753B\u4EFB\u52A1\uFF0C\u7531\u4E8E\u6B64\u65F6\u9875\u9762\u5904\u4E8E\u4E0D\u53EF\u89C1\u6216\u4E0D\u53EF\u7528\u72B6\u6001\uFF0C\u5237\u65B0\u52A8\u753B\u662F\u6CA1\u6709\u610F\u4E49\u7684\uFF0C\u5B8C\u5168\u662F\u6D6A\u8D39CPU\u8D44\u6E90\u3002\u800C<code>requestAnimationFrame</code>\u5219\u5B8C\u5168\u4E0D\u540C\uFF0C\u5F53\u9875\u9762\u5904\u7406\u672A\u6FC0\u6D3B\u7684\u72B6\u6001\u4E0B\uFF0C\u8BE5\u9875\u9762\u7684\u5C4F\u5E55\u5237\u65B0\u4EFB\u52A1\u4E5F\u4F1A\u88AB\u7CFB\u7EDF\u6682\u505C\uFF0C\u56E0\u6B64\u8DDF\u7740\u7CFB\u7EDF\u6B65\u4F10\u8D70\u7684<code>requestAnimationFrame</code>\u4E5F\u4F1A\u505C\u6B62\u6E32\u67D3\uFF0C\u5F53\u9875\u9762\u88AB\u6FC0\u6D3B\u65F6\uFF0C\u52A8\u753B\u5C31\u4ECE\u4E0A\u6B21\u505C\u7559\u7684\u5730\u65B9\u7EE7\u7EED\u6267\u884C\uFF0C\u6709\u6548\u8282\u7701\u4E86<code>CPU</code>\u5F00\u9500</li><li>\u51FD\u6570\u8282\u6D41\uFF1A\u5728\u9AD8\u9891\u7387\u4E8B\u4EF6(<code>resize</code>,<code>scroll</code>\u7B49)\u4E2D\uFF0C\u4E3A\u4E86\u9632\u6B62\u5728\u4E00\u4E2A\u5237\u65B0\u95F4\u9694\u5185\u53D1\u751F\u591A\u6B21\u51FD\u6570\u6267\u884C\uFF0C\u4F7F\u7528<code>requestAnimationFrame</code>\u53EF\u4FDD\u8BC1\u6BCF\u4E2A\u5237\u65B0\u95F4\u9694\u5185\uFF0C\u51FD\u6570\u53EA\u88AB\u6267\u884C\u4E00\u6B21\uFF0C\u8FD9\u6837\u65E2\u80FD\u4FDD\u8BC1\u6D41\u7545\u6027\uFF0C\u4E5F\u80FD\u66F4\u597D\u7684\u8282\u7701\u51FD\u6570\u6267\u884C\u7684\u5F00\u9500\u3002\u4E00\u4E2A\u5237\u65B0\u95F4\u9694\u5185\u51FD\u6570\u6267\u884C\u591A\u6B21\u65F6\u6CA1\u6709\u610F\u4E49\u7684\uFF0C\u56E0\u4E3A\u663E\u793A\u5668\u6BCF<code>16.7ms</code>\u5237\u65B0\u4E00\u6B21\uFF0C\u591A\u6B21\u7ED8\u5236\u5E76\u4E0D\u4F1A\u5728\u5C4F\u5E55\u4E0A\u4F53\u73B0\u51FA\u6765</li></ul>`,10),Vw={id:"_7-\u4F18\u96C5\u964D\u7EA7",tabindex:"-1"},Hw=n("a",{class:"header-anchor",href:"#_7-\u4F18\u96C5\u964D\u7EA7","aria-hidden":"true"},"#",-1),Lw=s(),Uw={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_7-%E4%BC%98%E9%9B%85%E9%99%8D%E7%BA%A7",target:"_blank",rel:"noopener noreferrer"},Jw=s("#"),Ww=s("7.\u4F18\u96C5\u964D\u7EA7"),zw=s("\u7531\u4E8E"),Gw=n("code",null,"requestAnimationFrame",-1),$w=s("\u76EE\u524D\u8FD8\u5B58\u5728\u517C\u5BB9\u6027\u95EE\u9898\uFF0C\u800C\u4E14\u4E0D\u540C\u7684\u6D4F\u89C8\u5668\u8FD8\u9700\u8981\u5E26\u4E0D\u540C\u7684\u524D\u7F00\u3002\u56E0\u6B64\u9700\u8981\u901A\u8FC7\u4F18\u96C5\u964D\u7EA7\u7684\u65B9\u5F0F\u5BF9"),Xw=n("code",null,"requestAnimationFrame",-1),Kw=s("\u8FDB\u884C\u5C01\u88C5\uFF0C\u4F18\u5148\u4F7F\u7528\u9AD8\u7EA7\u7279\u6027\uFF0C\u7136\u540E\u518D\u6839\u636E\u4E0D\u540C\u6D4F\u89C8\u5668\u7684\u60C5\u51B5\u8FDB\u884C\u56DE\u9000\uFF0C\u76F4\u81F3\u53EA\u80FD\u4F7F\u7528"),Qw=n("code",null,"setTimeout",-1),Yw=s("\u7684\u60C5\u51B5\u3002\u4E0B\u9762\u7684\u4EE3\u7801\u5C31\u662F\u6709\u4EBA\u5728github\u4E0A\u63D0\u4F9B\u7684polyfill\uFF0C\u8BE6\u7EC6\u4ECB\u7ECD\u8BF7\u53C2\u8003github\u4EE3\u7801 "),Zw={href:"https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2Fdarius%2FrequestAnimationFrame",target:"_blank",rel:"noopener noreferrer"},ny=s("requestAnimationFrame(opens new window)"),sy=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Date<span class="token punctuation">.</span>now<span class="token punctuation">)</span>
    Date<span class="token punctuation">.</span><span class="token function-variable function">now</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;use strict&#39;</span><span class="token punctuation">;</span>
     
    <span class="token keyword">var</span> vendors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;webkit&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;moz&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vendors<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>window<span class="token punctuation">.</span>requestAnimationFrame<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> vp <span class="token operator">=</span> vendors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">=</span> window<span class="token punctuation">[</span>vp<span class="token operator">+</span><span class="token string">&#39;RequestAnimationFrame&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span>cancelAnimationFrame <span class="token operator">=</span> <span class="token punctuation">(</span>window<span class="token punctuation">[</span>vp<span class="token operator">+</span><span class="token string">&#39;CancelAnimationFrame&#39;</span><span class="token punctuation">]</span>
                                   <span class="token operator">||</span> window<span class="token punctuation">[</span>vp<span class="token operator">+</span><span class="token string">&#39;CancelRequestAnimationFrame&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">iP(ad|hone|od).*OS 6</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">)</span> <span class="token comment">// iOS6 is buggy</span>
        <span class="token operator">||</span> <span class="token operator">!</span>window<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">||</span> <span class="token operator">!</span>window<span class="token punctuation">.</span>cancelAnimationFrame<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> lastTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function-variable function">requestAnimationFrame</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> now <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> nextTime <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>lastTime <span class="token operator">+</span> <span class="token number">16</span><span class="token punctuation">,</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">callback</span><span class="token punctuation">(</span>lastTime <span class="token operator">=</span> nextTime<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                              nextTime <span class="token operator">-</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span>cancelAnimationFrame <span class="token operator">=</span> clearTimeout<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div>`,1),ay={id:"_8-\u9875\u9762\u52A0\u8F7D\u6267\u884C",tabindex:"-1"},ey=n("a",{class:"header-anchor",href:"#_8-\u9875\u9762\u52A0\u8F7D\u6267\u884C","aria-hidden":"true"},"#",-1),ty=s(),py={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_8-%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E6%89%A7%E8%A1%8C",target:"_blank",rel:"noopener noreferrer"},oy=s("#"),cy=s("8 \u9875\u9762\u52A0\u8F7D\u6267\u884C"),ly={id:"_8-1-\u6D4F\u89C8\u5668\u4E8B\u4EF6\u5FAA\u73AF",tabindex:"-1"},ry=n("a",{class:"header-anchor",href:"#_8-1-\u6D4F\u89C8\u5668\u4E8B\u4EF6\u5FAA\u73AF","aria-hidden":"true"},"#",-1),iy=s(),uy={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_8-1-%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF",target:"_blank",rel:"noopener noreferrer"},ky=s("#"),dy=s("8.1 \u6D4F\u89C8\u5668\u4E8B\u4EF6\u5FAA\u73AF"),by=n("blockquote",null,[n("p",null,"\u4E8B\u4EF6\u5FAA\u73AF\u662F\u6307: \u6267\u884C\u4E00\u4E2A\u5B8F\u4EFB\u52A1\uFF0C\u7136\u540E\u6267\u884C\u6E05\u7A7A\u5FAE\u4EFB\u52A1\u5217\u8868\uFF0C\u5FAA\u73AF\u518D\u6267\u884C\u5B8F\u4EFB\u52A1\uFF0C\u518D\u6E05\u5FAE\u4EFB\u52A1\u5217\u8868")],-1),my=n("ul",null,[n("li",null,[s("\u5FAE\u4EFB\u52A1 "),n("code",null,"microtask(jobs): promise / process.nextTick / MutationObserver")]),n("li",null,[s("\u5B8F\u4EFB\u52A1 "),n("code",null,"macrotask(task): setTimout / setInterval / setImmediate / script / IO / UI Rendering")])],-1),hy=n("blockquote",null,[n("p",null,[s("\u5B8F\u4EFB\u52A1\u4E2D\u5305\u62EC\u4E86 "),n("code",null,"script"),s(" \uFF0C\u6D4F\u89C8\u5668\u4F1A\u5148\u6267\u884C\u4E00\u4E2A\u5B8F\u4EFB\u52A1\uFF0C\u63A5\u4E0B\u6765\u6709\u5F02\u6B65\u4EE3\u7801\u7684\u8BDD\u5C31\u5148\u6267\u884C\u5FAE\u4EFB\u52A1")])],-1),_y={id:"_8-2-\u600E\u4E48\u5224\u65AD\u9875\u9762\u662F\u5426\u52A0\u8F7D\u5B8C\u6210",tabindex:"-1"},gy=n("a",{class:"header-anchor",href:"#_8-2-\u600E\u4E48\u5224\u65AD\u9875\u9762\u662F\u5426\u52A0\u8F7D\u5B8C\u6210","aria-hidden":"true"},"#",-1),Ey=s(),fy={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_8-2-%E6%80%8E%E4%B9%88%E5%88%A4%E6%96%AD%E9%A1%B5%E9%9D%A2%E6%98%AF%E5%90%A6%E5%8A%A0%E8%BD%BD%E5%AE%8C%E6%88%90",target:"_blank",rel:"noopener noreferrer"},vy=s("#"),wy=s("8.2 \u600E\u4E48\u5224\u65AD\u9875\u9762\u662F\u5426\u52A0\u8F7D\u5B8C\u6210"),yy=t("<ul><li><code>Load</code> \u4E8B\u4EF6\u89E6\u53D1\u4EE3\u8868\u9875\u9762\u4E2D\u7684 <code>DOM</code>\uFF0C<code>CSS</code>\uFF0C<code>JS</code>\uFF0C\u56FE\u7247\u5DF2\u7ECF\u5168\u90E8\u52A0\u8F7D\u5B8C\u6BD5\u3002</li><li><code>DOMContentLoaded</code> \u4E8B\u4EF6\u89E6\u53D1\u4EE3\u8868\u521D\u59CB\u7684 <code>HTML</code> \u88AB\u5B8C\u5168\u52A0\u8F7D\u548C\u89E3\u6790\uFF0C\u4E0D\u9700\u8981\u7B49\u5F85 <code>CSS</code>\uFF0C<code>JS</code>\uFF0C\u56FE\u7247\u52A0\u8F7D</li></ul>",1),xy={id:"_8-3-css-\u52A0\u8F7D\u4F1A\u9020\u6210\u963B\u585E\u5417",tabindex:"-1"},Ay=n("a",{class:"header-anchor",href:"#_8-3-css-\u52A0\u8F7D\u4F1A\u9020\u6210\u963B\u585E\u5417","aria-hidden":"true"},"#",-1),By=s(),qy={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_8-3-css-%E5%8A%A0%E8%BD%BD%E4%BC%9A%E9%80%A0%E6%88%90%E9%98%BB%E5%A1%9E%E5%90%97",target:"_blank",rel:"noopener noreferrer"},jy=s("#"),Sy=s("8.3 css \u52A0\u8F7D\u4F1A\u9020\u6210\u963B\u585E\u5417 \uFF1F"),Cy=t("<ul><li><code>DOM</code> \u548C <code>CSSOM</code> \u901A\u5E38\u662F\u5E76\u884C\u6784\u5EFA\u7684,\u6240\u4EE5 CSS \u52A0\u8F7D\u4E0D\u4F1A\u963B\u585E DOM \u7684\u89E3\u6790\u3002</li><li>\u7136\u800C,\u7531\u4E8E <code>Render Tree</code> \u662F\u4F9D\u8D56\u4E8E DOM Tree \u548C <code>CSSOM Tree</code> \u7684,</li><li>\u6240\u4EE5\u4ED6\u5FC5\u987B\u7B49\u5F85\u5230 <code>CSSOM Tree</code> \u6784\u5EFA\u5B8C\u6210,\u4E5F\u5C31\u662F CSS \u8D44\u6E90\u52A0\u8F7D\u5B8C\u6210(\u6216\u8005 CSS \u8D44\u6E90\u52A0\u8F7D\u5931\u8D25)\u540E,\u624D\u80FD\u5F00\u59CB\u6E32\u67D3\u3002</li><li>\u56E0\u6B64,CSS \u52A0\u8F7D\u4F1A\u963B\u585E Dom \u7684\u6E32\u67D3\u3002</li><li>\u7531\u4E8E JavaScript \u662F\u53EF\u64CD\u7EB5 DOM \u548C css \u6837\u5F0F\u7684,\u5982\u679C\u5728\u4FEE\u6539\u8FD9\u4E9B\u5143\u7D20\u5C5E\u6027\u540C\u65F6\u6E32\u67D3\u754C\u9762\uFF08\u5373 JavaScript \u7EBF\u7A0B\u548C UI\u7EBF\u7A0B\u540C\u65F6\u8FD0\u884C\uFF09,\u90A3\u4E48\u6E32\u67D3\u7EBF\u7A0B\u524D\u540E\u83B7\u5F97\u7684\u5143\u7D20\u6570\u636E\u5C31\u53EF\u80FD\u4E0D\u4E00\u81F4\u4E86\u3002</li><li>\u56E0\u6B64\u4E3A\u4E86\u9632\u6B62\u6E32\u67D3\u51FA\u73B0\u4E0D\u53EF\u9884\u671F\u7684\u7ED3\u679C,\u6D4F\u89C8\u5668\u8BBE\u7F6E GUI \u6E32\u67D3\u7EBF\u7A0B\u4E0E JavaScript \u5F15\u64CE\u4E3A\u4E92\u65A5\u7684\u5173\u7CFB\u3002\u56E0\u6B64,\u6837\u5F0F\u8868\u4F1A\u5728\u540E\u9762\u7684 js \u6267\u884C\u524D\u5148\u52A0\u8F7D\u6267\u884C\u5B8C\u6BD5,\u6240\u4EE5css \u4F1A\u963B\u585E\u540E\u9762 js \u7684\u6267\u884C</li></ul>",1),Dy={id:"_8-4-\u4E3A\u4EC0\u4E48-js-\u963B\u585E\u9875\u9762\u52A0\u8F7D",tabindex:"-1"},Fy=n("a",{class:"header-anchor",href:"#_8-4-\u4E3A\u4EC0\u4E48-js-\u963B\u585E\u9875\u9762\u52A0\u8F7D","aria-hidden":"true"},"#",-1),Py=s(),Ty={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_8-4-%E4%B8%BA%E4%BB%80%E4%B9%88-js-%E9%98%BB%E5%A1%9E%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD",target:"_blank",rel:"noopener noreferrer"},Ny=s("#"),My=s("8.4 \u4E3A\u4EC0\u4E48 JS \u963B\u585E\u9875\u9762\u52A0\u8F7D ?"),Oy=n("ul",null,[n("li",null,"\u7531\u4E8E JavaScript \u662F\u53EF\u64CD\u7EB5 DOM \u7684,\u5982\u679C\u5728\u4FEE\u6539\u8FD9\u4E9B\u5143\u7D20\u5C5E\u6027\u540C\u65F6\u6E32\u67D3\u754C\u9762\uFF08\u5373 JavaScript \u7EBF\u7A0B\u548C UI \u7EBF\u7A0B\u540C\u65F6\u8FD0\u884C\uFF09,\u90A3\u4E48\u6E32\u67D3\u7EBF\u7A0B\u524D\u540E\u83B7\u5F97\u7684\u5143\u7D20\u6570\u636E\u5C31\u53EF\u80FD\u4E0D\u4E00\u81F4\u4E86"),n("li",null,"\u56E0\u6B64\u4E3A\u4E86\u9632\u6B62\u6E32\u67D3\u51FA\u73B0\u4E0D\u53EF\u9884\u671F\u7684\u7ED3\u679C,\u6D4F\u89C8\u5668\u8BBE\u7F6E GUI \u6E32\u67D3\u7EBF\u7A0B\u4E0E JavaScript \u5F15\u64CE\u4E3A\u4E92\u65A5\u7684\u5173\u7CFB"),n("li",null,"\u5F53 JavaScript \u5F15\u64CE\u6267\u884C\u65F6 GUI \u7EBF\u7A0B\u4F1A\u88AB\u6302\u8D77,GUI \u66F4\u65B0\u4F1A\u88AB\u4FDD\u5B58\u5728\u4E00\u4E2A\u961F\u5217\u4E2D\u7B49\u5230\u5F15\u64CE\u7EBF\u7A0B\u7A7A\u95F2\u65F6\u7ACB\u5373\u88AB\u6267\u884C"),n("li",null,"\u4ECE\u4E0A\u9762\u6211\u4EEC\u53EF\u4EE5\u63A8\u7406\u51FA,\u7531\u4E8E GUI \u6E32\u67D3\u7EBF\u7A0B\u4E0E JavaScript \u6267\u884C\u7EBF\u7A0B\u662F\u4E92\u65A5\u7684\u5173\u7CFB,"),n("li",null,"\u5F53\u6D4F\u89C8\u5668\u5728\u6267\u884C JavaScript \u7A0B\u5E8F\u7684\u65F6\u5019,GUI \u6E32\u67D3\u7EBF\u7A0B\u4F1A\u88AB\u4FDD\u5B58\u5728\u4E00\u4E2A\u961F\u5217\u4E2D,\u76F4\u5230 JS \u7A0B\u5E8F\u6267\u884C\u5B8C\u6210,\u624D\u4F1A\u63A5\u7740\u6267\u884C"),n("li",null,"\u56E0\u6B64\u5982\u679C JS\u6267\u884C\u7684\u65F6\u95F4\u8FC7\u957F,\u8FD9\u6837\u5C31\u4F1A\u9020\u6210\u9875\u9762\u7684\u6E32\u67D3\u4E0D\u8FDE\u8D2F,\u5BFC\u81F4\u9875\u9762\u6E32\u67D3\u52A0\u8F7D\u963B\u585E\u7684\u611F\u89C9")],-1),Iy={id:"_8-5-domcontentloaded-\u4E0E-load-\u7684\u533A\u522B",tabindex:"-1"},Ry=n("a",{class:"header-anchor",href:"#_8-5-domcontentloaded-\u4E0E-load-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),Vy=s(),Hy={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_8-5-domcontentloaded-%E4%B8%8E-load-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},Ly=s("#"),Uy=s("8.5 DOMContentLoaded \u4E0E load \u7684\u533A\u522B ?"),Jy=t("<ul><li>\u5F53 <code>DOMContentLoaded</code> \u4E8B\u4EF6\u89E6\u53D1\u65F6,\u4EC5\u5F53 <code>DOM</code> \u89E3\u6790\u5B8C\u6210\u540E,\u4E0D\u5305\u62EC\u6837\u5F0F\u8868,\u56FE\u7247\u3002\u6211\u4EEC\u524D\u9762\u63D0\u5230 CSS \u52A0\u8F7D\u4F1A\u963B\u585E Dom \u7684\u6E32\u67D3\u548C\u540E\u9762 js \u7684\u6267\u884C,js \u4F1A\u963B\u585E Dom \u89E3\u6790,\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u5F97\u5230\u7ED3\u8BBA:</li><li>\u5F53\u6587\u6863\u4E2D\u6CA1\u6709\u811A\u672C\u65F6,\u6D4F\u89C8\u5668\u89E3\u6790\u5B8C\u6587\u6863\u4FBF\u80FD\u89E6\u53D1 <code>DOMContentLoaded</code> \u4E8B\u4EF6\u3002\u5982\u679C\u6587\u6863\u4E2D\u5305\u542B\u811A\u672C,\u5219\u811A\u672C\u4F1A\u963B\u585E\u6587\u6863\u7684\u89E3\u6790,\u800C\u811A\u672C\u9700\u8981\u7B49 CSSOM \u6784\u5EFA\u5B8C\u6210\u624D\u80FD\u6267\u884C\u3002\u5728\u4EFB\u4F55\u60C5\u51B5\u4E0B,<code>DOMContentLoaded</code> \u7684\u89E6\u53D1\u4E0D\u9700\u8981\u7B49\u5F85\u56FE\u7247\u7B49\u5176\u4ED6\u8D44\u6E90\u52A0\u8F7D\u5B8C\u6210</li><li>\u5F53 <code>onload</code> \u4E8B\u4EF6\u89E6\u53D1\u65F6,\u9875\u9762\u4E0A\u6240\u6709\u7684 <code>DOM</code>,\u6837\u5F0F\u8868,\u811A\u672C,\u56FE\u7247\u7B49\u8D44\u6E90\u5DF2\u7ECF\u52A0\u8F7D\u5B8C\u6BD5</li><li><code>DOMContentLoaded</code> -&gt; <code>load</code></li></ul>",1),Wy={id:"_8-6-\u4EC0\u4E48\u662F-crp-\u5373\u5173\u952E\u6E32\u67D3\u8DEF\u5F84-\u5982\u4F55\u4F18\u5316",tabindex:"-1"},zy=n("a",{class:"header-anchor",href:"#_8-6-\u4EC0\u4E48\u662F-crp-\u5373\u5173\u952E\u6E32\u67D3\u8DEF\u5F84-\u5982\u4F55\u4F18\u5316","aria-hidden":"true"},"#",-1),Gy=s(),$y={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_8-6-%E4%BB%80%E4%B9%88%E6%98%AF-crp-%E5%8D%B3%E5%85%B3%E9%94%AE%E6%B8%B2%E6%9F%93%E8%B7%AF%E5%BE%84-%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},Xy=s("#"),Ky=s("8.6 \u4EC0\u4E48\u662F CRP,\u5373\u5173\u952E\u6E32\u67D3\u8DEF\u5F84? \u5982\u4F55\u4F18\u5316"),Qy=t("<blockquote><p>\u5173\u952E\u6E32\u67D3\u8DEF\u5F84\u662F\u6D4F\u89C8\u5668\u5C06 HTML CSS JavaScript \u8F6C\u6362\u4E3A\u5728\u5C4F\u5E55\u4E0A\u5448\u73B0\u7684\u50CF\u7D20\u5185\u5BB9\u6240\u7ECF\u5386\u7684\u4E00\u7CFB\u5217\u6B65\u9AA4\u3002\u4E5F\u5C31\u662F\u6211\u4EEC\u4E0A\u9762\u8BF4\u7684\u6D4F\u89C8\u5668\u6E32\u67D3\u6D41\u7A0B\u3002</p></blockquote><p>\u4E3A\u5C3D\u5FEB\u5B8C\u6210\u9996\u6B21\u6E32\u67D3,\u6211\u4EEC\u9700\u8981\u6700\u5927\u9650\u5EA6\u51CF\u5C0F\u4EE5\u4E0B\u4E09\u79CD\u53EF\u53D8\u56E0\u7D20:</p><ul><li>\u5173\u952E\u8D44\u6E90\u7684\u6570\u91CF: \u53EF\u80FD\u963B\u6B62\u7F51\u9875\u9996\u6B21\u6E32\u67D3\u7684\u8D44\u6E90\u3002</li><li>\u5173\u952E\u8DEF\u5F84\u957F\u5EA6: \u83B7\u53D6\u6240\u6709\u5173\u952E\u8D44\u6E90\u6240\u9700\u7684\u5F80\u8FD4\u6B21\u6570\u6216\u603B\u65F6\u95F4\u3002</li><li>\u5173\u952E\u5B57\u8282: \u5B9E\u73B0\u7F51\u9875\u9996\u6B21\u6E32\u67D3\u6240\u9700\u7684\u603B\u5B57\u8282\u6570,\u7B49\u540C\u4E8E\u6240\u6709\u5173\u952E\u8D44\u6E90\u4F20\u9001\u6587\u4EF6\u5927\u5C0F\u7684\u603B\u548C</li></ul><p><strong>1. \u4F18\u5316 DOM</strong></p><ul><li>\u5220\u9664\u4E0D\u5FC5\u8981\u7684\u4EE3\u7801\u548C\u6CE8\u91CA\u5305\u62EC\u7A7A\u683C,\u5C3D\u91CF\u505A\u5230\u6700\u5C0F\u5316\u6587\u4EF6\u3002</li><li>\u53EF\u4EE5\u5229\u7528 GZIP \u538B\u7F29\u6587\u4EF6\u3002</li><li>\u7ED3\u5408 HTTP \u7F13\u5B58\u6587\u4EF6</li></ul><p><strong>2. \u4F18\u5316 CSSOM</strong></p><blockquote><p>\u7F29\u5C0F\u3001\u538B\u7F29\u4EE5\u53CA\u7F13\u5B58\u540C\u6837\u91CD\u8981,\u5BF9\u4E8E CSSOM \u6211\u4EEC\u524D\u9762\u91CD\u70B9\u63D0\u8FC7\u4E86\u5B83\u4F1A\u963B\u6B62\u9875\u9762\u5448\u73B0,\u56E0\u6B64\u6211\u4EEC\u53EF\u4EE5\u4ECE\u8FD9\u65B9\u9762\u8003\u8651\u53BB\u4F18\u5316\u3002</p></blockquote><ul><li>\u51CF\u5C11\u5173\u952E CSS \u5143\u7D20\u6570\u91CF</li><li>\u5F53\u6211\u4EEC\u58F0\u660E\u6837\u5F0F\u8868\u65F6,\u8BF7\u5BC6\u5207\u5173\u6CE8\u5A92\u4F53\u67E5\u8BE2\u7684\u7C7B\u578B,\u5B83\u4EEC\u6781\u5927\u5730\u5F71\u54CD\u4E86 CRP \u7684\u6027\u80FD</li></ul><p><strong>3. \u4F18\u5316 JavaScript</strong></p><blockquote><p>\u5F53\u6D4F\u89C8\u5668\u9047\u5230 script\u6807\u8BB0\u65F6,\u4F1A\u963B\u6B62\u89E3\u6790\u5668\u7EE7\u7EED\u64CD\u4F5C,\u76F4\u5230 CSSOM \u6784\u5EFA\u5B8C\u6BD5,JavaScript \u624D\u4F1A\u8FD0\u884C\u5E76\u7EE7\u7EED\u5B8C\u6210 DOM \u6784\u5EFA\u8FC7\u7A0B\u3002</p></blockquote><ul><li><code>async</code>: \u5F53\u6211\u4EEC\u5728 <code>script</code> \u6807\u8BB0\u6DFB\u52A0 <code>async</code> \u5C5E\u6027\u4EE5\u540E,\u6D4F\u89C8\u5668\u9047\u5230\u8FD9\u4E2A <code>script</code> \u6807\u8BB0\u65F6\u4F1A\u7EE7\u7EED\u89E3\u6790 DOM,\u540C\u65F6\u811A\u672C\u4E5F\u4E0D\u4F1A\u88AB <code>CSSOM</code> \u963B\u6B62,\u5373\u4E0D\u4F1A\u963B\u6B62 <code>CRP</code>\u3002</li><li><code>defer</code>: \u4E0E <code>async</code> \u7684\u533A\u522B\u5728\u4E8E,\u811A\u672C\u9700\u8981\u7B49\u5230\u6587\u6863\u89E3\u6790\u540E\uFF08 <code>DOMContentLoaded</code> \u4E8B\u4EF6\u524D\uFF09\u6267\u884C,\u800C <code>async</code> \u5141\u8BB8\u811A\u672C\u5728\u6587\u6863\u89E3\u6790\u65F6\u4F4D\u4E8E\u540E\u53F0\u8FD0\u884C\uFF08\u4E24\u8005\u4E0B\u8F7D\u7684\u8FC7\u7A0B\u4E0D\u4F1A\u963B\u585E <code>DOM</code>,\u4F46\u6267\u884C\u4F1A\uFF09</li><li>\u5F53\u6211\u4EEC\u7684\u811A\u672C\u4E0D\u4F1A\u4FEE\u6539 <code>DOM</code> \u6216 <code>CSSOM</code> \u65F6,\u63A8\u8350\u4F7F\u7528 async</li><li>\u9884\u52A0\u8F7D \u2014\u2014 <code>preload &amp; prefetch</code></li><li><code>DNS</code> \u9884\u89E3\u6790 \u2014\u2014 <code>dns-prefetch</code></li></ul><p><strong>\u603B\u7ED3</strong></p><ul><li>\u5206\u6790\u5E76\u7528 \u5173\u952E\u8D44\u6E90\u6570 \u5173\u952E\u5B57\u8282\u6570 \u5173\u952E\u8DEF\u5F84\u957F\u5EA6 \u6765\u63CF\u8FF0\u6211\u4EEC\u7684 <code>CRP</code></li><li>\u6700\u5C0F\u5316\u5173\u952E\u8D44\u6E90\u6570:\u6D88\u9664\u5B83\u4EEC\uFF08\u5185\u8054\uFF09\u3001\u63A8\u8FDF\u5B83\u4EEC\u7684\u4E0B\u8F7D\uFF08<code>defer</code>\uFF09\u6216\u8005\u4F7F\u5B83\u4EEC\u5F02\u6B65\u89E3\u6790\uFF08<code>async</code>\uFF09\u7B49</li><li>\u4F18\u5316\u5173\u952E\u5B57\u8282\u6570\uFF08\u7F29\u5C0F\u3001\u538B\u7F29\uFF09\u6765\u51CF\u5C11\u4E0B\u8F7D\u65F6\u95F4 \u4F18\u5316\u52A0\u8F7D\u5269\u4F59\u5173\u952E\u8D44\u6E90\u7684\u987A\u5E8F:</li><li>\u8BA9\u5173\u952E\u8D44\u6E90\uFF08<code>CSS</code>\uFF09\u5C3D\u65E9\u4E0B\u8F7D\u4EE5\u51CF\u5C11 <code>CRP</code> \u957F\u5EA6</li></ul>",13),Yy={id:"_9-history\u8DEF\u7531\u548Chash\u8DEF\u7531",tabindex:"-1"},Zy=n("a",{class:"header-anchor",href:"#_9-history\u8DEF\u7531\u548Chash\u8DEF\u7531","aria-hidden":"true"},"#",-1),n7=s(),s7={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_9-history%E8%B7%AF%E7%94%B1%E5%92%8Chash%E8%B7%AF%E7%94%B1",target:"_blank",rel:"noopener noreferrer"},a7=s("#"),e7=s("9 history\u8DEF\u7531\u548Chash\u8DEF\u7531"),t7=t(`<p><strong>hash \u8DEF\u7531</strong></p><blockquote><p>hash \u8DEF\u7531\uFF0C\u5728 html5 \u524D\uFF0C\u4E3A\u4E86\u89E3\u51B3\u5355\u9875\u8DEF\u7531\u8DF3\u8F6C\u95EE\u9898\u91C7\u7528\u7684\u65B9\u6848\uFF0C hash \u7684\u53D8\u5316\u4E0D\u4F1A\u89E6\u53D1\u9875\u9762\u6E32\u67D3\uFF0C\u670D\u52A1\u7AEF\u4E5F\u65E0\u6CD5\u83B7\u53D6\u5230 hash \u503C\uFF0C\u524D\u7AEF\u53EF\u901A\u8FC7\u76D1\u542C hashchange \u4E8B\u4EF6\u6765\u5904\u7406hash\u503C\u7684\u53D8\u5316</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>window.addEventListener(&#39;hashchange&#39;, function(){ 
    // \u76D1\u542Chash\u53D8\u5316\uFF0C\u70B9\u51FB\u6D4F\u89C8\u5668\u7684\u524D\u8FDB\u540E\u9000\u4F1A\u89E6\u53D1
})
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>history \u8DEF\u7531</strong></p><blockquote><p>history \u8DEF\u7531\uFF0C\u662F html5 \u7684\u89C4\u8303\uFF0C\u63D0\u4F9B\u4E86\u5BF9<code>history</code>\u6808\u4E2D\u5185\u5BB9\u7684\u64CD\u4F5C\uFF0C\u5E38\u7528api\u6709\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> title<span class="token punctuation">,</span> url<span class="token punctuation">)</span> 
<span class="token comment">// let currentState = history.state; \u83B7\u53D6\u5F53\u524Dstate</span>
<span class="token comment">// state\uFF1A\u9700\u8981\u4FDD\u5B58\u7684\u6570\u636E\uFF0C\u8FD9\u4E2A\u6570\u636E\u5728\u89E6\u53D1popstate\u4E8B\u4EF6\u65F6\uFF0C\u53EF\u4EE5\u5728event.state\u91CC\u83B7\u53D6</span>
<span class="token comment">// title\uFF1A\u6807\u9898\uFF0C\u57FA\u672C\u6CA1\u7528\uFF0C\u4E00\u822C\u4F20 null</span>
<span class="token comment">// url\uFF1A\u8BBE\u5B9A\u65B0\u7684\u5386\u53F2\u8BB0\u5F55\u7684 url\u3002\u65B0\u7684 url \u4E0E\u5F53\u524D url \u7684 origin \u5FC5\u987B\u662F\u4E00\u6A23\u7684\uFF0C\u5426\u5219\u4F1A\u629B\u51FA\u9519\u8BEF\u3002url\u53EF\u4EE5\u662F\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u4E5F\u53EF\u4EE5\u662F\u76F8\u5BF9\u8DEF\u5F84\u3002</span>
<span class="token comment">//\u5982 \u5F53\u524Durl\u662F https://www.baidu.com/a/,\u6267\u884Chistory.pushState(null, null, &#39;./qq/&#39;)\uFF0C\u5219\u53D8\u6210 https://www.baidu.com/a/qq/\uFF0C</span>
<span class="token comment">//\u6267\u884Chistory.pushState(null, null, &#39;/qq/&#39;)\uFF0C\u5219\u53D8\u6210 https://www.baidu.com/qq/</span>

window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> title<span class="token punctuation">,</span> url<span class="token punctuation">)</span>
<span class="token comment">// \u4E0E pushState \u57FA\u672C\u76F8\u540C\uFF0C\u4F46\u5979\u662F\u4FEE\u6539\u5F53\u524D\u5386\u53F2\u8BB0\u5F55\uFF0C\u800C pushState \u662F\u521B\u5EFA\u65B0\u7684\u5386\u53F2\u8BB0\u5F55</span>

window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;popstate&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u76D1\u542C\u6D4F\u89C8\u5668\u524D\u8FDB\u540E\u9000\u4E8B\u4EF6\uFF0CpushState \u4E0E replaceState \u65B9\u6CD5\u4E0D\u4F1A\u89E6\u53D1              </span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div>`,6),p7={id:"_10-performance\u76F8\u5173",tabindex:"-1"},o7=n("a",{class:"header-anchor",href:"#_10-performance\u76F8\u5173","aria-hidden":"true"},"#",-1),c7=s(),l7={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#_10-performance%E7%9B%B8%E5%85%B3",target:"_blank",rel:"noopener noreferrer"},r7=s("#"),i7=s("10 performance\u76F8\u5173"),u7={id:"window-performance-getentries",tabindex:"-1"},k7=n("a",{class:"header-anchor",href:"#window-performance-getentries","aria-hidden":"true"},"#",-1),d7=s(),b7={href:"http://interview.poetries.top/excellent-docs/5-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9D%97.html#window-performance-getentries",target:"_blank",rel:"noopener noreferrer"},m7=s("#"),h7=s("window.performance.getEntries()"),_7=t(`<blockquote><p>\u6D4F\u89C8\u5668\u83B7\u53D6\u7F51\u9875\u65F6\uFF0C\u4F1A\u5BF9\u7F51\u9875\u4E2D\u6BCF\u4E00\u4E2A\u5BF9\u8C61\uFF08\u811A\u672C\u6587\u4EF6\u3001\u6837\u5F0F\u8868\u3001\u56FE\u7247\u6587\u4EF6\u7B49\u7B49\uFF09\u53D1\u51FA\u4E00\u4E2AHTTP\u8BF7\u6C42\u3002\u800C\u901A\u8FC7<code>window.performance.getEntries</code>\u65B9\u6CD5\uFF0C\u5219\u53EF\u4EE5\u4EE5\u6570\u7EC4\u5F62\u5F0F\uFF0C\u8FD4\u56DE\u8FD9\u4E9B\u8BF7\u6C42\u7684\u65F6\u95F4\u7EDF\u8BA1\u4FE1\u606F\uFF0C\u6BCF\u4E2A\u6570\u7EC4\u6210\u5458\u5747\u662F\u4E00\u4E2A<code>PerformanceResourceTiming</code>\u5BF9\u8C61\uFF01</p></blockquote><p>\u7528\u5B83\u5C0F\u73A9\u513F\u4E00\u4E0B\uFF0C\u7EDF\u8BA1\u9875\u9762\u4E0A\u7684\u9759\u6001\u8D44\u6E90\u52A0\u8F7D\u8017\u65F6\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u6D4F\u89C8\u5668\u4E0D\u652F\u6301\uFF0C\u5C31\u7B97\u4E86\uFF01</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>performance <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>window<span class="token punctuation">.</span>performance<span class="token punctuation">.</span>getEntries<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// \u83B7\u53D6\u5F53\u524D\u9875\u9762\u6240\u6709\u8BF7\u6C42\u5BF9\u5E94\u7684PerformanceResourceTiming\u5BF9\u8C61\u8FDB\u884C\u5206\u6790</span>
    window<span class="token punctuation">.</span>performance<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">perf</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token string-property property">&#39;url&#39;</span><span class="token operator">:</span> perf<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
            <span class="token string-property property">&#39;entryType&#39;</span><span class="token operator">:</span> perf<span class="token punctuation">.</span>entryType<span class="token punctuation">,</span>
            <span class="token string-property property">&#39;type&#39;</span><span class="token operator">:</span> perf<span class="token punctuation">.</span>initiatorType<span class="token punctuation">,</span>
            <span class="token string-property property">&#39;duration(ms)&#39;</span><span class="token operator">:</span> perf<span class="token punctuation">.</span>duration
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u63A7\u5236\u53F0\u8F93\u51FA\u7EDF\u8BA1\u7ED3\u679C</span>
    console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><img src="http://img-repo.poetries.top/images/20210329140157.png" alt="img"></p><h1 id="_6-react\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#_6-react\u6A21\u5757" aria-hidden="true">#</a> 6 React\u6A21\u5757</h1><h2 id="_1\u3001react-\u4E2D-keys-\u7684\u4F5C\u7528\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#_1\u3001react-\u4E2D-keys-\u7684\u4F5C\u7528\u662F\u4EC0\u4E48" aria-hidden="true">#</a> 1\u3001React \u4E2D keys \u7684\u4F5C\u7528\u662F\u4EC0\u4E48\uFF1F</h2><blockquote><p><code>Keys</code>\u662F <code>React</code> \u7528\u4E8E\u8FFD\u8E2A\u54EA\u4E9B\u5217\u8868\u4E2D\u5143\u7D20\u88AB\u4FEE\u6539\u3001\u88AB\u6DFB\u52A0\u6216\u8005\u88AB\u79FB\u9664\u7684\u8F85\u52A9\u6807\u8BC6</p></blockquote><ul><li>\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\uFF0C\u6211\u4EEC\u9700\u8981\u4FDD\u8BC1\u67D0\u4E2A\u5143\u7D20\u7684 <code>key</code> \u5728\u5176\u540C\u7EA7\u5143\u7D20\u4E2D\u5177\u6709\u552F\u4E00\u6027\u3002\u5728 <code>React Diff</code> \u7B97\u6CD5\u4E2D<code>React</code> \u4F1A\u501F\u52A9\u5143\u7D20\u7684 <code>Key</code> \u503C\u6765\u5224\u65AD\u8BE5\u5143\u7D20\u662F\u65B0\u8FD1\u521B\u5EFA\u7684\u8FD8\u662F\u88AB\u79FB\u52A8\u800C\u6765\u7684\u5143\u7D20\uFF0C\u4ECE\u800C\u51CF\u5C11\u4E0D\u5FC5\u8981\u7684\u5143\u7D20\u91CD\u6E32\u67D3\u3002\u6B64\u5916\uFF0CReact \u8FD8\u9700\u8981\u501F\u52A9 <code>Key</code> \u503C\u6765\u5224\u65AD\u5143\u7D20\u4E0E\u672C\u5730\u72B6\u6001\u7684\u5173\u8054\u5173\u7CFB\uFF0C\u56E0\u6B64\u6211\u4EEC\u7EDD\u4E0D\u53EF\u5FFD\u89C6\u8F6C\u6362\u51FD\u6570\u4E2D <code>Key</code> \u7684\u91CD\u8981\u6027</li></ul>`,8),g7={id:"_2\u3001\u4F20\u5165-setstate-\u51FD\u6570\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u7684\u4F5C\u7528\u662F\u4EC0\u4E48",tabindex:"-1"},E7=n("a",{class:"header-anchor",href:"#_2\u3001\u4F20\u5165-setstate-\u51FD\u6570\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u7684\u4F5C\u7528\u662F\u4EC0\u4E48","aria-hidden":"true"},"#",-1),f7=s(),v7={href:"http://interview.poetries.top/excellent-docs/6-React.html#_2%E3%80%81%E4%BC%A0%E5%85%A5-setstate-%E5%87%BD%E6%95%B0%E7%9A%84%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%8F%82%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},w7=s("#"),y7=s("2\u3001\u4F20\u5165 setState \u51FD\u6570\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u7684\u4F5C\u7528\u662F\u4EC0\u4E48\uFF1F"),x7=t(`<blockquote><p>\u8BE5\u51FD\u6570\u4F1A\u5728 <code>setState</code> \u51FD\u6570\u8C03\u7528\u5B8C\u6210\u5E76\u4E14\u7EC4\u4EF6\u5F00\u59CB\u91CD\u6E32\u67D3\u7684\u65F6\u5019\u88AB\u8C03\u7528\uFF0C\u6211\u4EEC\u53EF\u4EE5\u7528\u8BE5\u51FD\u6570\u6765\u76D1\u542C\u6E32\u67D3\u662F\u5426\u5B8C\u6210\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&#39;tylermcginnis33&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;setState has finished and the component has re-rendered.&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">streak</span><span class="token operator">:</span> prevState<span class="token punctuation">.</span>streak <span class="token operator">+</span> props<span class="token punctuation">.</span>count
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div>`,2),A7={id:"_3\u3001react-\u4E2D-refs-\u7684\u4F5C\u7528\u662F\u4EC0\u4E48",tabindex:"-1"},B7=n("a",{class:"header-anchor",href:"#_3\u3001react-\u4E2D-refs-\u7684\u4F5C\u7528\u662F\u4EC0\u4E48","aria-hidden":"true"},"#",-1),q7=s(),j7={href:"http://interview.poetries.top/excellent-docs/6-React.html#_3%E3%80%81react-%E4%B8%AD-refs-%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},S7=s("#"),C7=s("3\u3001React \u4E2D refs \u7684\u4F5C\u7528\u662F\u4EC0\u4E48"),D7=n("ul",null,[n("li",null,[n("code",null,"Refs"),s(" \u662F "),n("code",null,"React"),s(" \u63D0\u4F9B\u7ED9\u6211\u4EEC\u7684\u5B89\u5168\u8BBF\u95EE "),n("code",null,"DOM"),s("\u5143\u7D20\u6216\u8005\u67D0\u4E2A\u7EC4\u4EF6\u5B9E\u4F8B\u7684\u53E5\u67C4")]),n("li",null,[s("\u53EF\u4EE5\u4E3A\u5143\u7D20\u6DFB\u52A0"),n("code",null,"ref"),s("\u5C5E\u6027\u7136\u540E\u5728\u56DE\u8C03\u51FD\u6570\u4E2D\u63A5\u53D7\u8BE5\u5143\u7D20\u5728 "),n("code",null,"DOM"),s(" \u6811\u4E2D\u7684\u53E5\u67C4\uFF0C\u8BE5\u503C\u4F1A\u4F5C\u4E3A\u56DE\u8C03\u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u8FD4\u56DE")])],-1),F7={id:"_4\u3001\u5728\u751F\u547D\u5468\u671F\u4E2D\u7684\u54EA\u4E00\u6B65\u4F60\u5E94\u8BE5\u53D1\u8D77-ajax-\u8BF7\u6C42",tabindex:"-1"},P7=n("a",{class:"header-anchor",href:"#_4\u3001\u5728\u751F\u547D\u5468\u671F\u4E2D\u7684\u54EA\u4E00\u6B65\u4F60\u5E94\u8BE5\u53D1\u8D77-ajax-\u8BF7\u6C42","aria-hidden":"true"},"#",-1),T7=s(),N7={href:"http://interview.poetries.top/excellent-docs/6-React.html#_4%E3%80%81%E5%9C%A8%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%B8%AD%E7%9A%84%E5%93%AA%E4%B8%80%E6%AD%A5%E4%BD%A0%E5%BA%94%E8%AF%A5%E5%8F%91%E8%B5%B7-ajax-%E8%AF%B7%E6%B1%82",target:"_blank",rel:"noopener noreferrer"},M7=s("#"),O7=s("4\u3001\u5728\u751F\u547D\u5468\u671F\u4E2D\u7684\u54EA\u4E00\u6B65\u4F60\u5E94\u8BE5\u53D1\u8D77 AJAX \u8BF7\u6C42"),I7=t("<blockquote><p>\u6211\u4EEC\u5E94\u5F53\u5C06AJAX \u8BF7\u6C42\u653E\u5230 <code>componentDidMount</code> \u51FD\u6570\u4E2D\u6267\u884C\uFF0C\u4E3B\u8981\u539F\u56E0\u6709\u4E0B</p></blockquote><ul><li><code>React</code> \u4E0B\u4E00\u4EE3\u8C03\u548C\u7B97\u6CD5 <code>Fiber</code> \u4F1A\u901A\u8FC7\u5F00\u59CB\u6216\u505C\u6B62\u6E32\u67D3\u7684\u65B9\u5F0F\u4F18\u5316\u5E94\u7528\u6027\u80FD\uFF0C\u5176\u4F1A\u5F71\u54CD\u5230 <code>componentWillMount</code> \u7684\u89E6\u53D1\u6B21\u6570\u3002\u5BF9\u4E8E <code>componentWillMount</code> \u8FD9\u4E2A\u751F\u547D\u5468\u671F\u51FD\u6570\u7684\u8C03\u7528\u6B21\u6570\u4F1A\u53D8\u5F97\u4E0D\u786E\u5B9A\uFF0C<code>React</code> \u53EF\u80FD\u4F1A\u591A\u6B21\u9891\u7E41\u8C03\u7528 <code>componentWillMount</code>\u3002\u5982\u679C\u6211\u4EEC\u5C06 <code>AJAX</code> \u8BF7\u6C42\u653E\u5230 <code>componentWillMount</code> \u51FD\u6570\u4E2D\uFF0C\u90A3\u4E48\u663E\u800C\u6613\u89C1\u5176\u4F1A\u88AB\u89E6\u53D1\u591A\u6B21\uFF0C\u81EA\u7136\u4E5F\u5C31\u4E0D\u662F\u597D\u7684\u9009\u62E9\u3002</li><li>\u5982\u679C\u6211\u4EEC\u5C06<code>AJAX</code> \u8BF7\u6C42\u653E\u7F6E\u5728\u751F\u547D\u5468\u671F\u7684\u5176\u4ED6\u51FD\u6570\u4E2D\uFF0C\u6211\u4EEC\u5E76\u4E0D\u80FD\u4FDD\u8BC1\u8BF7\u6C42\u4EC5\u5728\u7EC4\u4EF6\u6302\u8F7D\u5B8C\u6BD5\u540E\u624D\u4F1A\u8981\u6C42\u54CD\u5E94\u3002\u5982\u679C\u6211\u4EEC\u7684\u6570\u636E\u8BF7\u6C42\u5728\u7EC4\u4EF6\u6302\u8F7D\u4E4B\u524D\u5C31\u5B8C\u6210\uFF0C\u5E76\u4E14\u8C03\u7528\u4E86<code>setState</code>\u51FD\u6570\u5C06\u6570\u636E\u6DFB\u52A0\u5230\u7EC4\u4EF6\u72B6\u6001\u4E2D\uFF0C\u5BF9\u4E8E\u672A\u6302\u8F7D\u7684\u7EC4\u4EF6\u5219\u4F1A\u62A5\u9519\u3002\u800C\u5728 <code>componentDidMount</code> \u51FD\u6570\u4E2D\u8FDB\u884C <code>AJAX</code> \u8BF7\u6C42\u5219\u80FD\u6709\u6548\u907F\u514D\u8FD9\u4E2A\u95EE\u9898</li></ul>",2),R7={id:"_5\u3001shouldcomponentupdate-\u7684\u4F5C\u7528",tabindex:"-1"},V7=n("a",{class:"header-anchor",href:"#_5\u3001shouldcomponentupdate-\u7684\u4F5C\u7528","aria-hidden":"true"},"#",-1),H7=s(),L7={href:"http://interview.poetries.top/excellent-docs/6-React.html#_5%E3%80%81shouldcomponentupdate-%E7%9A%84%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},U7=s("#"),J7=s("5\u3001shouldComponentUpdate \u7684\u4F5C\u7528"),W7=n("blockquote",null,[n("p",null,[n("code",null,"shouldComponentUpdate"),s(" \u5141\u8BB8\u6211\u4EEC\u624B\u52A8\u5730\u5224\u65AD\u662F\u5426\u8981\u8FDB\u884C\u7EC4\u4EF6\u66F4\u65B0\uFF0C\u6839\u636E\u7EC4\u4EF6\u7684\u5E94\u7528\u573A\u666F\u8BBE\u7F6E\u51FD\u6570\u7684\u5408\u7406\u8FD4\u56DE\u503C\u80FD\u591F\u5E2E\u6211\u4EEC\u907F\u514D\u4E0D\u5FC5\u8981\u7684\u66F4\u65B0")])],-1),z7={id:"_6\u3001\u5982\u4F55\u544A\u8BC9-react-\u5B83\u5E94\u8BE5\u7F16\u8BD1\u751F\u4EA7\u73AF\u5883\u7248",tabindex:"-1"},G7=n("a",{class:"header-anchor",href:"#_6\u3001\u5982\u4F55\u544A\u8BC9-react-\u5B83\u5E94\u8BE5\u7F16\u8BD1\u751F\u4EA7\u73AF\u5883\u7248","aria-hidden":"true"},"#",-1),$7=s(),X7={href:"http://interview.poetries.top/excellent-docs/6-React.html#_6%E3%80%81%E5%A6%82%E4%BD%95%E5%91%8A%E8%AF%89-react-%E5%AE%83%E5%BA%94%E8%AF%A5%E7%BC%96%E8%AF%91%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E7%89%88",target:"_blank",rel:"noopener noreferrer"},K7=s("#"),Q7=s("6\u3001\u5982\u4F55\u544A\u8BC9 React \u5B83\u5E94\u8BE5\u7F16\u8BD1\u751F\u4EA7\u73AF\u5883\u7248"),Y7=t("<blockquote><p>\u901A\u5E38\u60C5\u51B5\u4E0B\u6211\u4EEC\u4F1A\u4F7F\u7528 <code>Webpack</code> \u7684 <code>DefinePlugin</code> \u65B9\u6CD5\u6765\u5C06 <code>NODE_ENV</code> \u53D8\u91CF\u503C\u8BBE\u7F6E\u4E3A <code>production</code>\u3002\u7F16\u8BD1\u7248\u672C\u4E2D <code>React</code>\u4F1A\u5FFD\u7565 <code>propType</code> \u9A8C\u8BC1\u4EE5\u53CA\u5176\u4ED6\u7684\u544A\u8B66\u4FE1\u606F\uFF0C\u540C\u65F6\u8FD8\u4F1A\u964D\u4F4E\u4EE3\u7801\u5E93\u7684\u5927\u5C0F\uFF0C<code>React</code> \u4F7F\u7528\u4E86 <code>Uglify</code> \u63D2\u4EF6\u6765\u79FB\u9664\u751F\u4EA7\u73AF\u5883\u4E0B\u4E0D\u5FC5\u8981\u7684\u6CE8\u91CA\u7B49\u4FE1\u606F</p></blockquote>",1),Z7={id:"_7\u3001\u6982\u8FF0\u4E0B-react-\u4E2D\u7684\u4E8B\u4EF6\u5904\u7406\u903B\u8F91",tabindex:"-1"},nx=n("a",{class:"header-anchor",href:"#_7\u3001\u6982\u8FF0\u4E0B-react-\u4E2D\u7684\u4E8B\u4EF6\u5904\u7406\u903B\u8F91","aria-hidden":"true"},"#",-1),sx=s(),ax={href:"http://interview.poetries.top/excellent-docs/6-React.html#_7%E3%80%81%E6%A6%82%E8%BF%B0%E4%B8%8B-react-%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E9%80%BB%E8%BE%91",target:"_blank",rel:"noopener noreferrer"},ex=s("#"),tx=s("7\u3001\u6982\u8FF0\u4E0B React \u4E2D\u7684\u4E8B\u4EF6\u5904\u7406\u903B\u8F91"),px=t("<blockquote><p>\u4E3A\u4E86\u89E3\u51B3\u8DE8\u6D4F\u89C8\u5668\u517C\u5BB9\u6027\u95EE\u9898\uFF0C<code>React</code> \u4F1A\u5C06\u6D4F\u89C8\u5668\u539F\u751F\u4E8B\u4EF6\uFF08<code>Browser Native Event</code>\uFF09\u5C01\u88C5\u4E3A\u5408\u6210\u4E8B\u4EF6\uFF08<code>SyntheticEvent</code>\uFF09\u4F20\u5165\u8BBE\u7F6E\u7684\u4E8B\u4EF6\u5904\u7406\u5668\u4E2D\u3002\u8FD9\u91CC\u7684\u5408\u6210\u4E8B\u4EF6\u63D0\u4F9B\u4E86\u4E0E\u539F\u751F\u4E8B\u4EF6\u76F8\u540C\u7684\u63A5\u53E3\uFF0C\u4E0D\u8FC7\u5B83\u4EEC\u5C4F\u853D\u4E86\u5E95\u5C42\u6D4F\u89C8\u5668\u7684\u7EC6\u8282\u5DEE\u5F02\uFF0C\u4FDD\u8BC1\u4E86\u884C\u4E3A\u7684\u4E00\u81F4\u6027\u3002\u53E6\u5916\u6709\u610F\u601D\u7684\u662F\uFF0C<code>React</code> \u5E76\u6CA1\u6709\u76F4\u63A5\u5C06\u4E8B\u4EF6\u9644\u7740\u5230\u5B50\u5143\u7D20\u4E0A\uFF0C\u800C\u662F\u4EE5\u5355\u4E00\u4E8B\u4EF6\u76D1\u542C\u5668\u7684\u65B9\u5F0F\u5C06\u6240\u6709\u7684\u4E8B\u4EF6\u53D1\u9001\u5230\u9876\u5C42\u8FDB\u884C\u5904\u7406\u3002\u8FD9\u6837 <code>React</code> \u5728\u66F4\u65B0 <code>DOM</code> \u7684\u65F6\u5019\u5C31\u4E0D\u9700\u8981\u8003\u8651\u5982\u4F55\u53BB\u5904\u7406\u9644\u7740\u5728 <code>DOM</code> \u4E0A\u7684\u4E8B\u4EF6\u76D1\u542C\u5668\uFF0C\u6700\u7EC8\u8FBE\u5230\u4F18\u5316\u6027\u80FD\u7684\u76EE\u7684</p></blockquote>",1),ox={id:"_8\u3001createelement-\u4E0E-cloneelement-\u7684\u533A\u522B\u662F\u4EC0\u4E48",tabindex:"-1"},cx=n("a",{class:"header-anchor",href:"#_8\u3001createelement-\u4E0E-cloneelement-\u7684\u533A\u522B\u662F\u4EC0\u4E48","aria-hidden":"true"},"#",-1),lx=s(),rx={href:"http://interview.poetries.top/excellent-docs/6-React.html#_8%E3%80%81createelement-%E4%B8%8E-cloneelement-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},ix=s("#"),ux=s("8\u3001createElement \u4E0E cloneElement \u7684\u533A\u522B\u662F\u4EC0\u4E48"),kx=n("blockquote",null,[n("div",{class:"language-text ext-text line-numbers-mode"},[n("pre",{class:"language-text"},[n("code",null,"createElement` \u51FD\u6570\u662F JSX \u7F16\u8BD1\u4E4B\u540E\u4F7F\u7528\u7684\u521B\u5EFA `React Element` \u7684\u51FD\u6570\uFF0C\u800C `cloneElement` \u5219\u662F\u7528\u4E8E\u590D\u5236\u67D0\u4E2A\u5143\u7D20\u5E76\u4F20\u5165\u65B0\u7684 `Props\n")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br")])])],-1),dx={id:"_9\u3001redux\u4E2D\u95F4\u4EF6",tabindex:"-1"},bx=n("a",{class:"header-anchor",href:"#_9\u3001redux\u4E2D\u95F4\u4EF6","aria-hidden":"true"},"#",-1),mx=s(),hx={href:"http://interview.poetries.top/excellent-docs/6-React.html#_9%E3%80%81redux%E4%B8%AD%E9%97%B4%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},_x=s("#"),gx=s("9\u3001redux\u4E2D\u95F4\u4EF6"),Ex=t("<blockquote><p>\u4E2D\u95F4\u4EF6\u63D0\u4F9B\u7B2C\u4E09\u65B9\u63D2\u4EF6\u7684\u6A21\u5F0F\uFF0C\u81EA\u5B9A\u4E49\u62E6\u622A <code>action</code> -&gt; <code>reducer</code> \u7684\u8FC7\u7A0B\u3002\u53D8\u4E3A <code>action</code> -&gt; <code>middlewares</code> -&gt; <code>reducer</code>\u3002\u8FD9\u79CD\u673A\u5236\u53EF\u4EE5\u8BA9\u6211\u4EEC\u6539\u53D8\u6570\u636E\u6D41\uFF0C\u5B9E\u73B0\u5982\u5F02\u6B65<code>action</code> \uFF0C<code>action</code> \u8FC7\u6EE4\uFF0C\u65E5\u5FD7\u8F93\u51FA\uFF0C\u5F02\u5E38\u62A5\u544A\u7B49\u529F\u80FD</p></blockquote><ul><li><code>redux-logger</code>\uFF1A\u63D0\u4F9B\u65E5\u5FD7\u8F93\u51FA</li><li><code>redux-thunk</code>\uFF1A\u5904\u7406\u5F02\u6B65\u64CD\u4F5C</li><li><code>redux-promise</code>\uFF1A\u5904\u7406\u5F02\u6B65\u64CD\u4F5C\uFF0C<code>actionCreator</code>\u7684\u8FD4\u56DE\u503C\u662F<code>promise</code></li></ul>",2),fx={id:"_10\u3001redux\u6709\u4EC0\u4E48\u7F3A\u70B9",tabindex:"-1"},vx=n("a",{class:"header-anchor",href:"#_10\u3001redux\u6709\u4EC0\u4E48\u7F3A\u70B9","aria-hidden":"true"},"#",-1),wx=s(),yx={href:"http://interview.poetries.top/excellent-docs/6-React.html#_10%E3%80%81redux%E6%9C%89%E4%BB%80%E4%B9%88%E7%BC%BA%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},xx=s("#"),Ax=s("10\u3001redux\u6709\u4EC0\u4E48\u7F3A\u70B9"),Bx=n("ul",null,[n("li",null,[s("\u4E00\u4E2A\u7EC4\u4EF6\u6240\u9700\u8981\u7684\u6570\u636E\uFF0C\u5FC5\u987B\u7531\u7236\u7EC4\u4EF6\u4F20\u8FC7\u6765\uFF0C\u800C\u4E0D\u80FD\u50CF"),n("code",null,"flux"),s("\u4E2D\u76F4\u63A5\u4ECE"),n("code",null,"store"),s("\u53D6\u3002")]),n("li",null,[s("\u5F53\u4E00\u4E2A\u7EC4\u4EF6\u76F8\u5173\u6570\u636E\u66F4\u65B0\u65F6\uFF0C\u5373\u4F7F\u7236\u7EC4\u4EF6\u4E0D\u9700\u8981\u7528\u5230\u8FD9\u4E2A\u7EC4\u4EF6\uFF0C\u7236\u7EC4\u4EF6\u8FD8\u662F\u4F1A\u91CD\u65B0"),n("code",null,"render"),s("\uFF0C\u53EF\u80FD\u4F1A\u6709\u6548\u7387\u5F71\u54CD\uFF0C\u6216\u8005\u9700\u8981\u5199\u590D\u6742\u7684"),n("code",null,"shouldComponentUpdate"),s("\u8FDB\u884C\u5224\u65AD\u3002")])],-1),qx={id:"_11\u3001react\u7EC4\u4EF6\u7684\u5212\u5206\u4E1A\u52A1\u7EC4\u4EF6\u6280\u672F\u7EC4\u4EF6",tabindex:"-1"},jx=n("a",{class:"header-anchor",href:"#_11\u3001react\u7EC4\u4EF6\u7684\u5212\u5206\u4E1A\u52A1\u7EC4\u4EF6\u6280\u672F\u7EC4\u4EF6","aria-hidden":"true"},"#",-1),Sx=s(),Cx={href:"http://interview.poetries.top/excellent-docs/6-React.html#_11%E3%80%81react%E7%BB%84%E4%BB%B6%E7%9A%84%E5%88%92%E5%88%86%E4%B8%9A%E5%8A%A1%E7%BB%84%E4%BB%B6%E6%8A%80%E6%9C%AF%E7%BB%84%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},Dx=s("#"),Fx=s("11\u3001react\u7EC4\u4EF6\u7684\u5212\u5206\u4E1A\u52A1\u7EC4\u4EF6\u6280\u672F\u7EC4\u4EF6\uFF1F"),Px=n("ul",null,[n("li",null,"\u6839\u636E\u7EC4\u4EF6\u7684\u804C\u8D23\u901A\u5E38\u628A\u7EC4\u4EF6\u5206\u4E3AUI\u7EC4\u4EF6\u548C\u5BB9\u5668\u7EC4\u4EF6\u3002"),n("li",null,"UI \u7EC4\u4EF6\u8D1F\u8D23 UI \u7684\u5448\u73B0\uFF0C\u5BB9\u5668\u7EC4\u4EF6\u8D1F\u8D23\u7BA1\u7406\u6570\u636E\u548C\u903B\u8F91\u3002"),n("li",null,[s("\u4E24\u8005\u901A\u8FC7"),n("code",null,"React-Redux"),s(" \u63D0\u4F9B"),n("code",null,"connect"),s("\u65B9\u6CD5\u8054\u7CFB\u8D77\u6765")])],-1),Tx={id:"_12\u3001react\u65E7\u7248\u751F\u547D\u5468\u671F\u51FD\u6570",tabindex:"-1"},Nx=n("a",{class:"header-anchor",href:"#_12\u3001react\u65E7\u7248\u751F\u547D\u5468\u671F\u51FD\u6570","aria-hidden":"true"},"#",-1),Mx=s(),Ox={href:"http://interview.poetries.top/excellent-docs/6-React.html#_12%E3%80%81react%E6%97%A7%E7%89%88%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},Ix=s("#"),Rx=s("12\u3001react\u65E7\u7248\u751F\u547D\u5468\u671F\u51FD\u6570"),Vx=t("<p><strong>\u521D\u59CB\u5316\u9636\u6BB5</strong></p><ul><li><code>getDefaultProps</code>:\u83B7\u53D6\u5B9E\u4F8B\u7684\u9ED8\u8BA4\u5C5E\u6027</li><li><code>getInitialState</code>:\u83B7\u53D6\u6BCF\u4E2A\u5B9E\u4F8B\u7684\u521D\u59CB\u5316\u72B6\u6001</li><li><code>componentWillMount</code>\uFF1A\u7EC4\u4EF6\u5373\u5C06\u88AB\u88C5\u8F7D\u3001\u6E32\u67D3\u5230\u9875\u9762\u4E0A</li><li><code>render</code>:\u7EC4\u4EF6\u5728\u8FD9\u91CC\u751F\u6210\u865A\u62DF\u7684<code>DOM</code>\u8282\u70B9</li><li><code>componentDidMount</code>:\u7EC4\u4EF6\u771F\u6B63\u5728\u88AB\u88C5\u8F7D\u4E4B\u540E</li></ul><p><strong>\u8FD0\u884C\u4E2D\u72B6\u6001</strong></p><ul><li><code>componentWillReceiveProps</code>:\u7EC4\u4EF6\u5C06\u8981\u63A5\u6536\u5230\u5C5E\u6027\u7684\u65F6\u5019\u8C03\u7528</li><li><code>shouldComponentUpdate</code>:\u7EC4\u4EF6\u63A5\u53D7\u5230\u65B0\u5C5E\u6027\u6216\u8005\u65B0\u72B6\u6001\u7684\u65F6\u5019\uFF08\u53EF\u4EE5\u8FD4\u56DEfalse\uFF0C\u63A5\u6536\u6570\u636E\u540E\u4E0D\u66F4\u65B0\uFF0C\u963B\u6B62<code>render</code>\u8C03\u7528\uFF0C\u540E\u9762\u7684\u51FD\u6570\u4E0D\u4F1A\u88AB\u7EE7\u7EED\u6267\u884C\u4E86\uFF09</li><li><code>componentWillUpdate</code>:\u7EC4\u4EF6\u5373\u5C06\u66F4\u65B0\u4E0D\u80FD\u4FEE\u6539\u5C5E\u6027\u548C\u72B6\u6001</li><li><code>render</code>:\u7EC4\u4EF6\u91CD\u65B0\u63CF\u7ED8</li><li><code>componentDidUpdate</code>:\u7EC4\u4EF6\u5DF2\u7ECF\u66F4\u65B0</li></ul><p><strong>\u9500\u6BC1\u9636\u6BB5</strong></p><ul><li><code>componentWillUnmount</code>:\u7EC4\u4EF6\u5373\u5C06\u9500\u6BC1</li></ul>",6),Hx={id:"\u65B0\u7248\u751F\u547D\u5468\u671F",tabindex:"-1"},Lx=n("a",{class:"header-anchor",href:"#\u65B0\u7248\u751F\u547D\u5468\u671F","aria-hidden":"true"},"#",-1),Ux=s(),Jx={href:"http://interview.poetries.top/excellent-docs/6-React.html#%E6%96%B0%E7%89%88%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F",target:"_blank",rel:"noopener noreferrer"},Wx=s("#"),zx=s("\u65B0\u7248\u751F\u547D\u5468\u671F"),Gx=t(`<blockquote><p>\u5728\u65B0\u7248\u672C\u4E2D\uFF0CReact \u5B98\u65B9\u5BF9\u751F\u547D\u5468\u671F\u6709\u4E86\u65B0\u7684 \u53D8\u52A8\u5EFA\u8BAE:</p></blockquote><ul><li>\u4F7F\u7528<code>getDerivedStateFromProps</code>\u66FF\u6362<code>componentWillMount\uFF1B</code></li><li>\u4F7F\u7528<code>getSnapshotBeforeUpdate</code>\u66FF\u6362<code>componentWillUpdate\uFF1B</code></li><li>\u907F\u514D\u4F7F\u7528<code>componentWillReceiveProps</code>\uFF1B</li></ul><blockquote><p>\u5176\u5B9E\u8BE5\u53D8\u52A8\u7684\u539F\u56E0\uFF0C\u6B63\u662F\u7531\u4E8E\u4E0A\u8FF0\u63D0\u5230\u7684 <code>Fiber</code>\u3002\u9996\u5148\uFF0C\u4ECE\u4E0A\u9762\u6211\u4EEC\u77E5\u9053 React \u53EF\u4EE5\u5206\u6210 <code>reconciliation</code> \u4E0E <code>commit</code>\u4E24\u4E2A\u9636\u6BB5\uFF0C\u5BF9\u5E94\u7684\u751F\u547D\u5468\u671F\u5982\u4E0B:</p></blockquote><p><strong>reconciliation</strong></p><ul><li><code>componentWillMount</code></li><li><code>componentWillReceiveProps</code></li><li><code>shouldComponentUpdate</code></li><li><code>componentWillUpdate</code></li></ul><p><strong>commit</strong></p><ul><li><code>componentDidMount</code></li><li><code>componentDidUpdate</code></li><li><code>componentWillUnmount</code></li></ul><blockquote><p>\u5728 <code>Fiber</code> \u4E2D\uFF0C<code>reconciliation</code> \u9636\u6BB5\u8FDB\u884C\u4E86\u4EFB\u52A1\u5206\u5272\uFF0C\u6D89\u53CA\u5230 \u6682\u505C \u548C \u91CD\u542F\uFF0C\u56E0\u6B64\u53EF\u80FD\u4F1A\u5BFC\u81F4 <code>reconciliation</code> \u4E2D\u7684\u751F\u547D\u5468\u671F\u51FD\u6570\u5728\u4E00\u6B21\u66F4\u65B0\u6E32\u67D3\u5FAA\u73AF\u4E2D\u88AB \u591A\u6B21\u8C03\u7528 \u7684\u60C5\u51B5\uFF0C\u4EA7\u751F\u4E00\u4E9B\u610F\u5916\u9519\u8BEF</p></blockquote><p>\u65B0\u7248\u7684\u5EFA\u8BAE\u751F\u547D\u5468\u671F\u5982\u4E0B:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Component</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u66FF\u6362 \`componentWillReceiveProps\` \uFF0C</span>
  <span class="token comment">// \u521D\u59CB\u5316\u548C update \u65F6\u88AB\u8C03\u7528</span>
  <span class="token comment">// \u9759\u6001\u51FD\u6570\uFF0C\u65E0\u6CD5\u4F7F\u7528 this</span>
  <span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> prevState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  
  <span class="token comment">// \u5224\u65AD\u662F\u5426\u9700\u8981\u66F4\u65B0\u7EC4\u4EF6</span>
  <span class="token comment">// \u53EF\u4EE5\u7528\u4E8E\u7EC4\u4EF6\u6027\u80FD\u4F18\u5316</span>
  <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> nextState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  
  <span class="token comment">// \u7EC4\u4EF6\u88AB\u6302\u8F7D\u540E\u89E6\u53D1</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  
  <span class="token comment">// \u66FF\u6362 componentWillUpdate</span>
  <span class="token comment">// \u53EF\u4EE5\u5728\u66F4\u65B0\u4E4B\u524D\u83B7\u53D6\u6700\u65B0 dom \u6570\u636E</span>
  <span class="token function">getSnapshotBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  
  <span class="token comment">// \u7EC4\u4EF6\u66F4\u65B0\u540E\u8C03\u7528</span>
  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  
  <span class="token comment">// \u7EC4\u4EF6\u5373\u5C06\u9500\u6BC1</span>
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  
  <span class="token comment">// \u7EC4\u4EF6\u5DF2\u9500\u6BC1</span>
  <span class="token function">componentDidUnMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>\u4F7F\u7528\u5EFA\u8BAE:</strong></p><ul><li><p>\u5728<code>constructor</code>\u521D\u59CB\u5316 <code>state</code>\uFF1B</p></li><li><p>\u5728<code>componentDidMount</code>\u4E2D\u8FDB\u884C\u4E8B\u4EF6\u76D1\u542C\uFF0C\u5E76\u5728<code>componentWillUnmount</code>\u4E2D\u89E3\u7ED1\u4E8B\u4EF6\uFF1B</p></li><li><p>\u5728<code>componentDidMount</code>\u4E2D\u8FDB\u884C\u6570\u636E\u7684\u8BF7\u6C42\uFF0C\u800C\u4E0D\u662F\u5728<code>componentWillMount</code>\uFF1B</p></li><li><p>\u9700\u8981\u6839\u636E</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>props
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u66F4\u65B0</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>state
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u65F6\uFF0C\u4F7F\u7528</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>getDerivedStateFromProps(nextProps, prevState)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\uFF1B</p><ul><li>\u65E7 props \u9700\u8981\u81EA\u5DF1\u5B58\u50A8\uFF0C\u4EE5\u4FBF\u6BD4\u8F83\uFF1B</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> prevState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// \u5F53\u65B0 props \u4E2D\u7684 data \u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u540C\u6B65\u66F4\u65B0\u5230 state \u4E0A</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>nextProps<span class="token punctuation">.</span>data <span class="token operator">!==</span> prevState<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">data</span><span class="token operator">:</span> nextProps<span class="token punctuation">.</span>data
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> null1
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>\u53EF\u4EE5\u5728componentDidUpdate\u76D1\u542C props \u6216\u8005 state \u7684\u53D8\u5316\uFF0C\u4F8B\u5982:</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// \u5F53 id \u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u91CD\u65B0\u83B7\u53D6\u6570\u636E</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>id <span class="token operator">!==</span> prevProps<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>\u5728componentDidUpdate\u4F7F\u7528setState\u65F6\uFF0C\u5FC5\u987B\u52A0\u6761\u4EF6\uFF0C\u5426\u5219\u5C06\u8FDB\u5165\u6B7B\u5FAA\u73AF\uFF1B</li><li>getSnapshotBeforeUpdate(prevProps, prevState)\u53EF\u4EE5\u5728\u66F4\u65B0\u4E4B\u524D\u83B7\u53D6\u6700\u65B0\u7684\u6E32\u67D3\u6570\u636E\uFF0C\u5B83\u7684\u8C03\u7528\u662F\u5728 render \u4E4B\u540E\uFF0C update \u4E4B\u524D\uFF1B</li><li>shouldComponentUpdate: \u9ED8\u8BA4\u6BCF\u6B21\u8C03\u7528setState\uFF0C\u4E00\u5B9A\u4F1A\u6700\u7EC8\u8D70\u5230 diff \u9636\u6BB5\uFF0C\u4F46\u53EF\u4EE5\u901A\u8FC7shouldComponentUpdate\u7684\u751F\u547D\u94A9\u5B50\u8FD4\u56DEfalse\u6765\u76F4\u63A5\u963B\u6B62\u540E\u9762\u7684\u903B\u8F91\u6267\u884C\uFF0C\u901A\u5E38\u662F\u7528\u4E8E\u505A\u6761\u4EF6\u6E32\u67D3\uFF0C\u4F18\u5316\u6E32\u67D3\u7684\u6027\u80FD\u3002</li></ul>`,16),$x={id:"_13\u3001react\u6027\u80FD\u4F18\u5316\u662F\u54EA\u4E2A\u5468\u671F\u51FD\u6570",tabindex:"-1"},Xx=n("a",{class:"header-anchor",href:"#_13\u3001react\u6027\u80FD\u4F18\u5316\u662F\u54EA\u4E2A\u5468\u671F\u51FD\u6570","aria-hidden":"true"},"#",-1),Kx=s(),Qx={href:"http://interview.poetries.top/excellent-docs/6-React.html#_13%E3%80%81react%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%98%AF%E5%93%AA%E4%B8%AA%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},Yx=s("#"),Zx=s("13\u3001react\u6027\u80FD\u4F18\u5316\u662F\u54EA\u4E2A\u5468\u671F\u51FD\u6570"),n0=n("blockquote",null,[n("p",null,[n("code",null,"shouldComponentUpdate"),s(" \u8FD9\u4E2A\u65B9\u6CD5\u7528\u6765\u5224\u65AD\u662F\u5426\u9700\u8981\u8C03\u7528render\u65B9\u6CD5\u91CD\u65B0\u63CF\u7ED8dom\u3002\u56E0\u4E3Adom\u7684\u63CF\u7ED8\u975E\u5E38\u6D88\u8017\u6027\u80FD\uFF0C\u5982\u679C\u6211\u4EEC\u80FD\u5728"),n("code",null,"shouldComponentUpdate\u65B9"),s("\u6CD5\u4E2D\u80FD\u591F\u5199\u51FA\u66F4\u4F18\u5316\u7684"),n("code",null,"dom diff"),s("\u7B97\u6CD5\uFF0C\u53EF\u4EE5\u6781\u5927\u7684\u63D0\u9AD8\u6027\u80FD")])],-1),s0={id:"_14\u3001\u4E3A\u4EC0\u4E48\u865A\u62DFdom\u4F1A\u63D0\u9AD8\u6027\u80FD",tabindex:"-1"},a0=n("a",{class:"header-anchor",href:"#_14\u3001\u4E3A\u4EC0\u4E48\u865A\u62DFdom\u4F1A\u63D0\u9AD8\u6027\u80FD","aria-hidden":"true"},"#",-1),e0=s(),t0={href:"http://interview.poetries.top/excellent-docs/6-React.html#_14%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E8%99%9A%E6%8B%9Fdom%E4%BC%9A%E6%8F%90%E9%AB%98%E6%80%A7%E8%83%BD",target:"_blank",rel:"noopener noreferrer"},p0=s("#"),o0=s("14\u3001\u4E3A\u4EC0\u4E48\u865A\u62DFdom\u4F1A\u63D0\u9AD8\u6027\u80FD"),c0=t("<blockquote><p>\u865A\u62DF<code>dom</code>\u76F8\u5F53\u4E8E\u5728<code>js</code>\u548C\u771F\u5B9E<code>dom</code>\u4E2D\u95F4\u52A0\u4E86\u4E00\u4E2A\u7F13\u5B58\uFF0C\u5229\u7528<code>dom diff</code>\u7B97\u6CD5\u907F\u514D\u4E86\u6CA1\u6709\u5FC5\u8981\u7684<code>dom</code>\u64CD\u4F5C\uFF0C\u4ECE\u800C\u63D0\u9AD8\u6027\u80FD</p></blockquote><p><strong>\u5177\u4F53\u5B9E\u73B0\u6B65\u9AA4\u5982\u4E0B</strong></p><ul><li>\u7528 <code>JavaScript</code> \u5BF9\u8C61\u7ED3\u6784\u8868\u793A DOM \u6811\u7684\u7ED3\u6784\uFF1B\u7136\u540E\u7528\u8FD9\u4E2A\u6811\u6784\u5EFA\u4E00\u4E2A\u771F\u6B63\u7684 <code>DOM</code> \u6811\uFF0C\u63D2\u5230\u6587\u6863\u5F53\u4E2D</li><li>\u5F53\u72B6\u6001\u53D8\u66F4\u7684\u65F6\u5019\uFF0C\u91CD\u65B0\u6784\u9020\u4E00\u68F5\u65B0\u7684\u5BF9\u8C61\u6811\u3002\u7136\u540E\u7528\u65B0\u7684\u6811\u548C\u65E7\u7684\u6811\u8FDB\u884C\u6BD4\u8F83\uFF0C\u8BB0\u5F55\u4E24\u68F5\u6811\u5DEE\u5F02</li><li>\u628A2\u6240\u8BB0\u5F55\u7684\u5DEE\u5F02\u5E94\u7528\u5230\u6B65\u9AA41\u6240\u6784\u5EFA\u7684\u771F\u6B63\u7684<code>DOM</code>\u6811\u4E0A\uFF0C\u89C6\u56FE\u5C31\u66F4\u65B0</li></ul>",3),l0={id:"_15\u3001diff\u7B97\u6CD5",tabindex:"-1"},r0=n("a",{class:"header-anchor",href:"#_15\u3001diff\u7B97\u6CD5","aria-hidden":"true"},"#",-1),i0=s(),u0={href:"http://interview.poetries.top/excellent-docs/6-React.html#_15%E3%80%81diff%E7%AE%97%E6%B3%95",target:"_blank",rel:"noopener noreferrer"},k0=s("#"),d0=s("15\u3001diff\u7B97\u6CD5?"),b0=t("<ul><li>\u628A\u6811\u5F62\u7ED3\u6784\u6309\u7167\u5C42\u7EA7\u5206\u89E3\uFF0C\u53EA\u6BD4\u8F83\u540C\u7EA7\u5143\u7D20\u3002</li><li>\u7ED9\u5217\u8868\u7ED3\u6784\u7684\u6BCF\u4E2A\u5355\u5143\u6DFB\u52A0\u552F\u4E00\u7684<code>key</code>\u5C5E\u6027\uFF0C\u65B9\u4FBF\u6BD4\u8F83\u3002</li><li><code>React</code> \u53EA\u4F1A\u5339\u914D\u76F8\u540C <code>class</code> \u7684 <code>component</code>\uFF08\u8FD9\u91CC\u9762\u7684<code>class</code>\u6307\u7684\u662F\u7EC4\u4EF6\u7684\u540D\u5B57\uFF09</li><li>\u5408\u5E76\u64CD\u4F5C\uFF0C\u8C03\u7528 <code>component</code> \u7684 <code>setState</code> \u65B9\u6CD5\u7684\u65F6\u5019, <code>React</code> \u5C06\u5176\u6807\u8BB0\u4E3A - <code>dirty</code>.\u5230\u6BCF\u4E00\u4E2A\u4E8B\u4EF6\u5FAA\u73AF\u7ED3\u675F, <code>React</code> \u68C0\u67E5\u6240\u6709\u6807\u8BB0 <code>dirty</code>\u7684 <code>component</code>\u91CD\u65B0\u7ED8\u5236.</li><li>\u9009\u62E9\u6027\u5B50\u6811\u6E32\u67D3\u3002\u5F00\u53D1\u4EBA\u5458\u53EF\u4EE5\u91CD\u5199<code>shouldComponentUpdate</code>\u63D0\u9AD8<code>diff</code>\u7684\u6027\u80FD</li></ul>",1),m0={id:"_16\u3001react\u6027\u80FD\u4F18\u5316\u65B9\u6848",tabindex:"-1"},h0=n("a",{class:"header-anchor",href:"#_16\u3001react\u6027\u80FD\u4F18\u5316\u65B9\u6848","aria-hidden":"true"},"#",-1),_0=s(),g0={href:"http://interview.poetries.top/excellent-docs/6-React.html#_16%E3%80%81react%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88",target:"_blank",rel:"noopener noreferrer"},E0=s("#"),f0=s("16\u3001react\u6027\u80FD\u4F18\u5316\u65B9\u6848"),v0=t("<ul><li>\u91CD\u5199<code>shouldComponentUpdate</code>\u6765\u907F\u514D\u4E0D\u5FC5\u8981\u7684dom\u64CD\u4F5C</li><li>\u4F7F\u7528 <code>production</code> \u7248\u672C\u7684<code>react.js</code></li><li>\u4F7F\u7528<code>key</code>\u6765\u5E2E\u52A9<code>React</code>\u8BC6\u522B\u5217\u8868\u4E2D\u6240\u6709\u5B50\u7EC4\u4EF6\u7684\u6700\u5C0F\u53D8\u5316</li></ul>",1),w0={id:"_16\u3001\u7B80\u8FF0flux-\u601D\u60F3",tabindex:"-1"},y0=n("a",{class:"header-anchor",href:"#_16\u3001\u7B80\u8FF0flux-\u601D\u60F3","aria-hidden":"true"},"#",-1),x0=s(),A0={href:"http://interview.poetries.top/excellent-docs/6-React.html#_16%E3%80%81%E7%AE%80%E8%BF%B0flux-%E6%80%9D%E6%83%B3",target:"_blank",rel:"noopener noreferrer"},B0=s("#"),q0=s("16\u3001\u7B80\u8FF0flux \u601D\u60F3"),j0=t("<blockquote><p><code>Flux</code> \u7684\u6700\u5927\u7279\u70B9\uFF0C\u5C31\u662F\u6570\u636E\u7684&quot;\u5355\u5411\u6D41\u52A8&quot;\u3002</p></blockquote><ul><li>\u7528\u6237\u8BBF\u95EE <code>View</code></li><li><code>View</code>\u53D1\u51FA\u7528\u6237\u7684 <code>Action</code></li><li><code>Dispatcher</code> \u6536\u5230<code>Action</code>\uFF0C\u8981\u6C42 <code>Store</code> \u8FDB\u884C\u76F8\u5E94\u7684\u66F4\u65B0</li><li><code>Store</code> \u66F4\u65B0\u540E\uFF0C\u53D1\u51FA\u4E00\u4E2A<code>&quot;change&quot;</code>\u4E8B\u4EF6</li><li><code>View</code> \u6536\u5230<code>&quot;change&quot;</code>\u4E8B\u4EF6\u540E\uFF0C\u66F4\u65B0\u9875\u9762</li></ul>",2),S0={id:"_17\u3001\u8BF4\u8BF4\u4F60\u7528react\u6709\u4EC0\u4E48\u5751\u70B9",tabindex:"-1"},C0=n("a",{class:"header-anchor",href:"#_17\u3001\u8BF4\u8BF4\u4F60\u7528react\u6709\u4EC0\u4E48\u5751\u70B9","aria-hidden":"true"},"#",-1),D0=s(),F0={href:"http://interview.poetries.top/excellent-docs/6-React.html#_17%E3%80%81%E8%AF%B4%E8%AF%B4%E4%BD%A0%E7%94%A8react%E6%9C%89%E4%BB%80%E4%B9%88%E5%9D%91%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},P0=s("#"),T0=s("17\u3001\u8BF4\u8BF4\u4F60\u7528react\u6709\u4EC0\u4E48\u5751\u70B9\uFF1F"),N0=t(`<p><strong>1. JSX\u505A\u8868\u8FBE\u5F0F\u5224\u65AD\u65F6\u5019\uFF0C\u9700\u8981\u5F3A\u8F6C\u4E3Aboolean\u7C7B\u578B</strong></p><blockquote><p>\u5982\u679C\u4E0D\u4F7F\u7528 <code>!!b</code> \u8FDB\u884C\u5F3A\u8F6C\u6570\u636E\u7C7B\u578B\uFF0C\u4F1A\u5728\u9875\u9762\u91CC\u9762\u8F93\u51FA <code>0</code>\u3002</p></blockquote><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span>
      <span class="token operator">!</span><span class="token operator">!</span>b <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u8FD9\u662F\u4E00\u6BB5\u6587\u672C</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">}</span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>2. \u5C3D\u91CF\u4E0D\u8981\u5728 <code>componentWillReviceProps</code> \u91CC\u4F7F\u7528 setState\uFF0C\u5982\u679C\u4E00\u5B9A\u8981\u4F7F\u7528\uFF0C\u90A3\u4E48\u9700\u8981\u5224\u65AD\u7ED3\u675F\u6761\u4EF6\uFF0C\u4E0D\u7136\u4F1A\u51FA\u73B0\u65E0\u9650\u91CD\u6E32\u67D3\uFF0C\u5BFC\u81F4\u9875\u9762\u5D29\u6E83</strong></p><p><strong>3. \u7ED9\u7EC4\u4EF6\u6DFB\u52A0ref\u65F6\u5019\uFF0C\u5C3D\u91CF\u4E0D\u8981\u4F7F\u7528\u533F\u540D\u51FD\u6570\uFF0C\u56E0\u4E3A\u5F53\u7EC4\u4EF6\u66F4\u65B0\u7684\u65F6\u5019\uFF0C\u533F\u540D\u51FD\u6570\u4F1A\u88AB\u5F53\u505A\u65B0\u7684prop\u5904\u7406\uFF0C\u8BA9ref\u5C5E\u6027\u63A5\u53D7\u5230\u65B0\u51FD\u6570\u7684\u65F6\u5019\uFF0Creact\u5185\u90E8\u4F1A\u5148\u6E05\u7A7Aref\uFF0C\u4E5F\u5C31\u662F\u4F1A\u4EE5null\u4E3A\u56DE\u8C03\u53C2\u6570\u5148\u6267\u884C\u4E00\u6B21ref\u8FD9\u4E2Aprops\uFF0C\u7136\u540E\u5728\u4EE5\u8BE5\u7EC4\u4EF6\u7684\u5B9E\u4F8B\u6267\u884C\u4E00\u6B21ref\uFF0C\u6240\u4EE5\u7528\u533F\u540D\u51FD\u6570\u505Aref\u7684\u65F6\u5019\uFF0C\u6709\u7684\u65F6\u5019\u53BBref\u8D4B\u503C\u540E\u7684\u5C5E\u6027\u4F1A\u53D6\u5230null</strong></p><p><strong>4. \u904D\u5386\u5B50\u8282\u70B9\u7684\u65F6\u5019\uFF0C\u4E0D\u8981\u7528 index \u4F5C\u4E3A\u7EC4\u4EF6\u7684 key \u8FDB\u884C\u4F20\u5165</strong></p>`,6),M0={id:"_18\u3001\u6211\u73B0\u5728\u6709\u4E00\u4E2Abutton-\u8981\u7528react\u5728\u4E0A\u9762\u7ED1\u5B9A\u70B9\u51FB\u4E8B\u4EF6-\u8981\u600E\u4E48\u505A",tabindex:"-1"},O0=n("a",{class:"header-anchor",href:"#_18\u3001\u6211\u73B0\u5728\u6709\u4E00\u4E2Abutton-\u8981\u7528react\u5728\u4E0A\u9762\u7ED1\u5B9A\u70B9\u51FB\u4E8B\u4EF6-\u8981\u600E\u4E48\u505A","aria-hidden":"true"},"#",-1),I0=s(),R0={href:"http://interview.poetries.top/excellent-docs/6-React.html#_18%E3%80%81%E6%88%91%E7%8E%B0%E5%9C%A8%E6%9C%89%E4%B8%80%E4%B8%AAbutton-%E8%A6%81%E7%94%A8react%E5%9C%A8%E4%B8%8A%E9%9D%A2%E7%BB%91%E5%AE%9A%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6-%E8%A6%81%E6%80%8E%E4%B9%88%E5%81%9A",target:"_blank",rel:"noopener noreferrer"},V0=s("#"),H0=s("18\u3001\u6211\u73B0\u5728\u6709\u4E00\u4E2Abutton\uFF0C\u8981\u7528react\u5728\u4E0A\u9762\u7ED1\u5B9A\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u8981\u600E\u4E48\u505A\uFF1F"),L0=t(`<div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u70B9\u51FB\u4E86\u6309\u94AE&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      \u6309\u94AE
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>\u4F60\u89C9\u5F97\u4F60\u8FD9\u6837\u8BBE\u7F6E\u70B9\u51FB\u4E8B\u4EF6\u4F1A\u6709\u4EC0\u4E48\u95EE\u9898\u5417\uFF1F</strong></p><blockquote><p>\u7531\u4E8E<code>onClick</code>\u4F7F\u7528\u7684\u662F\u533F\u540D\u51FD\u6570\uFF0C\u6240\u6709\u6BCF\u6B21\u91CD\u6E32\u67D3\u7684\u65F6\u5019\uFF0C\u4F1A\u628A\u8BE5<code>onClick</code>\u5F53\u505A\u4E00\u4E2A\u65B0\u7684<code>prop</code>\u6765\u5904\u7406\uFF0C\u4F1A\u5C06\u5185\u90E8\u7F13\u5B58\u7684<code>onClick</code>\u4E8B\u4EF6\u8FDB\u884C\u91CD\u65B0\u8D4B\u503C\uFF0C\u6240\u4EE5\u76F8\u5BF9\u76F4\u63A5\u4F7F\u7528\u51FD\u6570\u6765\u8BF4\uFF0C\u53EF\u80FD\u6709\u4E00\u70B9\u7684\u6027\u80FD\u4E0B\u964D</p></blockquote><p>\u4FEE\u6539</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>

  <span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u70B9\u51FB\u4E86\u6309\u94AE&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      \u6309\u94AE
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,5),U0={id:"_19\u3001react-\u7684\u865A\u62DFdom\u662F\u600E\u4E48\u5B9E\u73B0\u7684",tabindex:"-1"},J0=n("a",{class:"header-anchor",href:"#_19\u3001react-\u7684\u865A\u62DFdom\u662F\u600E\u4E48\u5B9E\u73B0\u7684","aria-hidden":"true"},"#",-1),W0=s(),z0={href:"http://interview.poetries.top/excellent-docs/6-React.html#_19%E3%80%81react-%E7%9A%84%E8%99%9A%E6%8B%9Fdom%E6%98%AF%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},G0=s("#"),$0=s("19\u3001react \u7684\u865A\u62DFdom\u662F\u600E\u4E48\u5B9E\u73B0\u7684"),X0=t("<blockquote><p>\u9996\u5148\u8BF4\u8BF4\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528<code>Virturl DOM</code>\uFF0C\u56E0\u4E3A\u64CD\u4F5C\u771F\u5B9E<code>DOM</code>\u7684\u8017\u8D39\u7684\u6027\u80FD\u4EE3\u4EF7\u592A\u9AD8\uFF0C\u6240\u4EE5<code>react</code>\u5185\u90E8\u4F7F\u7528<code>js</code>\u5B9E\u73B0\u4E86\u4E00\u5957dom\u7ED3\u6784\uFF0C\u5728\u6BCF\u6B21\u64CD\u4F5C\u5728\u548C\u771F\u5B9Edom\u4E4B\u524D\uFF0C\u4F7F\u7528\u5B9E\u73B0\u597D\u7684diff\u7B97\u6CD5\uFF0C\u5BF9\u865A\u62DFdom\u8FDB\u884C\u6BD4\u8F83\uFF0C\u9012\u5F52\u627E\u51FA\u6709\u53D8\u5316\u7684dom\u8282\u70B9\uFF0C\u7136\u540E\u5BF9\u5176\u8FDB\u884C\u66F4\u65B0\u64CD\u4F5C\u3002\u4E3A\u4E86\u5B9E\u73B0\u865A\u62DF<code>DOM</code>\uFF0C\u6211\u4EEC\u9700\u8981\u628A\u6BCF\u4E00\u79CD\u8282\u70B9\u7C7B\u578B\u62BD\u8C61\u6210\u5BF9\u8C61\uFF0C\u6BCF\u4E00\u79CD\u8282\u70B9\u7C7B\u578B\u6709\u81EA\u5DF1\u7684\u5C5E\u6027\uFF0C\u4E5F\u5C31\u662Fprop\uFF0C\u6BCF\u6B21\u8FDB\u884C<code>diff</code>\u7684\u65F6\u5019\uFF0C<code>react</code>\u4F1A\u5148\u6BD4\u8F83\u8BE5\u8282\u70B9\u7C7B\u578B\uFF0C\u5047\u5982\u8282\u70B9\u7C7B\u578B\u4E0D\u4E00\u6837\uFF0C\u90A3\u4E48<code>react</code>\u4F1A\u76F4\u63A5\u5220\u9664\u8BE5\u8282\u70B9\uFF0C\u7136\u540E\u76F4\u63A5\u521B\u5EFA\u65B0\u7684\u8282\u70B9\u63D2\u5165\u5230\u5176\u4E2D\uFF0C\u5047\u5982\u8282\u70B9\u7C7B\u578B\u4E00\u6837\uFF0C\u90A3\u4E48\u4F1A\u6BD4\u8F83<code>prop</code>\u662F\u5426\u6709\u66F4\u65B0\uFF0C\u5047\u5982\u6709<code>prop</code>\u4E0D\u4E00\u6837\uFF0C\u90A3\u4E48<code>react</code>\u4F1A\u5224\u5B9A\u8BE5\u8282\u70B9\u6709\u66F4\u65B0\uFF0C\u90A3\u4E48\u91CD\u6E32\u67D3\u8BE5\u8282\u70B9\uFF0C\u7136\u540E\u5728\u5BF9\u5176\u5B50\u8282\u70B9\u8FDB\u884C\u6BD4\u8F83\uFF0C\u4E00\u5C42\u4E00\u5C42\u5F80\u4E0B\uFF0C\u76F4\u5230\u6CA1\u6709\u5B50\u8282\u70B9</p></blockquote>",1),K0={id:"_20\u3001react-\u7684\u6E32\u67D3\u8FC7\u7A0B\u4E2D-\u5144\u5F1F\u8282\u70B9\u4E4B\u95F4\u662F\u600E\u4E48\u5904\u7406\u7684-\u4E5F\u5C31\u662Fkey\u503C\u4E0D\u4E00\u6837\u7684\u65F6\u5019",tabindex:"-1"},Q0=n("a",{class:"header-anchor",href:"#_20\u3001react-\u7684\u6E32\u67D3\u8FC7\u7A0B\u4E2D-\u5144\u5F1F\u8282\u70B9\u4E4B\u95F4\u662F\u600E\u4E48\u5904\u7406\u7684-\u4E5F\u5C31\u662Fkey\u503C\u4E0D\u4E00\u6837\u7684\u65F6\u5019","aria-hidden":"true"},"#",-1),Y0=s(),Z0={href:"http://interview.poetries.top/excellent-docs/6-React.html#_20%E3%80%81react-%E7%9A%84%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B%E4%B8%AD-%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9%E4%B9%8B%E9%97%B4%E6%98%AF%E6%80%8E%E4%B9%88%E5%A4%84%E7%90%86%E7%9A%84-%E4%B9%9F%E5%B0%B1%E6%98%AFkey%E5%80%BC%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E6%97%B6%E5%80%99",target:"_blank",rel:"noopener noreferrer"},nA=s("#"),sA=s("20\u3001react \u7684\u6E32\u67D3\u8FC7\u7A0B\u4E2D\uFF0C\u5144\u5F1F\u8282\u70B9\u4E4B\u95F4\u662F\u600E\u4E48\u5904\u7406\u7684\uFF1F\u4E5F\u5C31\u662Fkey\u503C\u4E0D\u4E00\u6837\u7684\u65F6\u5019"),aA=t("<blockquote><p>\u901A\u5E38\u6211\u4EEC\u8F93\u51FA\u8282\u70B9\u7684\u65F6\u5019\u90FD\u662Fmap\u4E00\u4E2A\u6570\u7EC4\u7136\u540E\u8FD4\u56DE\u4E00\u4E2A<code>ReactNode</code>\uFF0C\u4E3A\u4E86\u65B9\u4FBF<code>react</code>\u5185\u90E8\u8FDB\u884C\u4F18\u5316\uFF0C\u6211\u4EEC\u5FC5\u987B\u7ED9\u6BCF\u4E00\u4E2A<code>reactNode</code>\u6DFB\u52A0<code>key</code>\uFF0C\u8FD9\u4E2A<code>key prop</code>\u5728\u8BBE\u8BA1\u503C\u5904\u4E0D\u662F\u7ED9\u5F00\u53D1\u8005\u7528\u7684\uFF0C\u800C\u662F\u7ED9react\u7528\u7684\uFF0C\u5927\u6982\u7684\u4F5C\u7528\u5C31\u662F\u7ED9\u6BCF\u4E00\u4E2A<code>reactNode</code>\u6DFB\u52A0\u4E00\u4E2A\u8EAB\u4EFD\u6807\u8BC6\uFF0C\u65B9\u4FBFreact\u8FDB\u884C\u8BC6\u522B\uFF0C\u5728\u91CD\u6E32\u67D3\u8FC7\u7A0B\u4E2D\uFF0C\u5982\u679Ckey\u4E00\u6837\uFF0C\u82E5\u7EC4\u4EF6\u5C5E\u6027\u6709\u6240\u53D8\u5316\uFF0C\u5219<code>react</code>\u53EA\u66F4\u65B0\u7EC4\u4EF6\u5BF9\u5E94\u7684\u5C5E\u6027\uFF1B\u6CA1\u6709\u53D8\u5316\u5219\u4E0D\u66F4\u65B0\uFF0C\u5982\u679Ckey\u4E0D\u4E00\u6837\uFF0C\u5219react\u5148\u9500\u6BC1\u8BE5\u7EC4\u4EF6\uFF0C\u7136\u540E\u91CD\u65B0\u521B\u5EFA\u8BE5\u7EC4\u4EF6</p></blockquote>",1),eA={id:"_21\u3001\u4ECB\u7ECD\u4E00\u4E0Breact",tabindex:"-1"},tA=n("a",{class:"header-anchor",href:"#_21\u3001\u4ECB\u7ECD\u4E00\u4E0Breact","aria-hidden":"true"},"#",-1),pA=s(),oA={href:"http://interview.poetries.top/excellent-docs/6-React.html#_21%E3%80%81%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8Breact",target:"_blank",rel:"noopener noreferrer"},cA=s("#"),lA=s("21\u3001\u4ECB\u7ECD\u4E00\u4E0Breact"),rA=n("ol",null,[n("li",null,"\u4EE5\u524D\u6211\u4EEC\u6CA1\u6709jquery\u7684\u65F6\u5019\uFF0C\u6211\u4EEC\u5927\u6982\u7684\u6D41\u7A0B\u662F\u4ECE\u540E\u7AEF\u901A\u8FC7ajax\u83B7\u53D6\u5230\u6570\u636E\u7136\u540E\u4F7F\u7528jquery\u751F\u6210dom\u7ED3\u679C\u7136\u540E\u66F4\u65B0\u5230\u9875\u9762\u5F53\u4E2D\uFF0C\u4F46\u662F\u968F\u7740\u4E1A\u52A1\u53D1\u5C55\uFF0C\u6211\u4EEC\u7684\u9879\u76EE\u53EF\u80FD\u4F1A\u8D8A\u6765\u8D8A\u590D\u6742\uFF0C\u6211\u4EEC\u6BCF\u6B21\u8BF7\u6C42\u5230\u6570\u636E\uFF0C\u6216\u5219\u6570\u636E\u6709\u66F4\u6539\u7684\u65F6\u5019\uFF0C\u6211\u4EEC\u53C8\u9700\u8981\u91CD\u65B0\u7EC4\u88C5\u4E00\u6B21dom\u7ED3\u6784\uFF0C\u7136\u540E\u66F4\u65B0\u9875\u9762\uFF0C\u8FD9\u6837\u6211\u4EEC\u624B\u52A8\u540C\u6B65dom\u548C\u6570\u636E\u7684\u6210\u672C\u5C31\u8D8A\u6765\u8D8A\u9AD8\uFF0C\u800C\u4E14\u9891\u7E41\u7684\u64CD\u4F5Cdom\uFF0C\u4E5F\u4F7F\u6211\u6211\u4EEC\u9875\u9762\u7684\u6027\u80FD\u6162\u6162\u7684\u964D\u4F4E\u3002"),n("li",null,"\u8FD9\u4E2A\u65F6\u5019mvvm\u51FA\u73B0\u4E86\uFF0Cmvvm\u7684\u53CC\u5411\u6570\u636E\u7ED1\u5B9A\u53EF\u4EE5\u8BA9\u6211\u4EEC\u5728\u6570\u636E\u4FEE\u6539\u7684\u540C\u65F6\u540C\u6B65dom\u7684\u66F4\u65B0\uFF0Cdom\u7684\u66F4\u65B0\u4E5F\u53EF\u4EE5\u76F4\u63A5\u540C\u6B65\u6211\u4EEC\u6570\u636E\u7684\u66F4\u6539\uFF0C\u8FD9\u4E2A\u7279\u5B9A\u53EF\u4EE5\u5927\u5927\u964D\u4F4E\u6211\u4EEC\u624B\u52A8\u53BB\u7EF4\u62A4dom\u66F4\u65B0\u7684\u6210\u672C\uFF0Cmvvm\u4E3Areact\u7684\u7279\u6027\u4E4B\u4E00\uFF0C\u867D\u7136react\u5C5E\u4E8E\u5355\u9879\u6570\u636E\u6D41\uFF0C\u9700\u8981\u6211\u4EEC\u624B\u52A8\u5B9E\u73B0\u53CC\u5411\u6570\u636E\u7ED1\u5B9A\u3002"),n("li",null,"\u6709\u4E86mvvm\u8FD8\u4E0D\u591F\uFF0C\u56E0\u4E3A\u5982\u679C\u6BCF\u6B21\u6709\u6570\u636E\u505A\u4E86\u66F4\u6539\uFF0C\u7136\u540E\u6211\u4EEC\u90FD\u5168\u91CF\u66F4\u65B0dom\u7ED3\u6784\u7684\u8BDD\uFF0C\u4E5F\u6CA1\u529E\u6CD5\u89E3\u51B3\u6211\u4EEC\u9891\u7E41\u64CD\u4F5Cdom\u7ED3\u6784(\u964D\u4F4E\u4E86\u9875\u9762\u6027\u80FD)\u7684\u95EE\u9898\uFF0C\u4E3A\u4E86\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0Creact\u5185\u90E8\u5B9E\u73B0\u4E86\u4E00\u5957\u865A\u62DFdom\u7ED3\u6784\uFF0C\u4E5F\u5C31\u662F\u7528js\u5B9E\u73B0\u7684\u4E00\u5957dom\u7ED3\u6784\uFF0C\u4ED6\u7684\u4F5C\u7528\u662F\u8BB2\u771F\u5B9Edom\u5728js\u4E2D\u505A\u4E00\u5957\u7F13\u5B58\uFF0C\u6BCF\u6B21\u6709\u6570\u636E\u66F4\u6539\u7684\u65F6\u5019\uFF0Creact\u5185\u90E8\u5148\u4F7F\u7528\u7B97\u6CD5\uFF0C\u4E5F\u5C31\u662F\u9F0E\u9F0E\u6709\u540D\u7684diff\u7B97\u6CD5\u5BF9dom\u7ED3\u6784\u8FDB\u884C\u5BF9\u6BD4\uFF0C\u627E\u5230\u90A3\u4E9B\u6211\u4EEC\u9700\u8981\u65B0\u589E\u3001\u66F4\u65B0\u3001\u5220\u9664\u7684dom\u8282\u70B9\uFF0C\u7136\u540E\u4E00\u6B21\u6027\u5BF9\u771F\u5B9EDOM\u8FDB\u884C\u66F4\u65B0\uFF0C\u8FD9\u6837\u5C31\u5927\u5927\u964D\u4F4E\u4E86\u64CD\u4F5Cdom\u7684\u6B21\u6570\u3002 \u90A3\u4E48diff\u7B97\u6CD5\u662F\u600E\u4E48\u8FD0\u4F5C\u7684\u5462\uFF0C\u9996\u5148\uFF0Cdiff\u9488\u5BF9\u7C7B\u578B\u4E0D\u540C\u7684\u8282\u70B9\uFF0C\u4F1A\u76F4\u63A5\u5224\u5B9A\u539F\u6765\u8282\u70B9\u9700\u8981\u5378\u8F7D\u5E76\u4E14\u7528\u65B0\u7684\u8282\u70B9\u6765\u88C5\u8F7D\u5378\u8F7D\u7684\u8282\u70B9\u7684\u4F4D\u7F6E\uFF1B\u9488\u5BF9\u4E8E\u8282\u70B9\u7C7B\u578B\u76F8\u540C\u7684\u8282\u70B9\uFF0C\u4F1A\u5BF9\u6BD4\u8FD9\u4E2A\u8282\u70B9\u7684\u6240\u6709\u5C5E\u6027\uFF0C\u5982\u679C\u8282\u70B9\u7684\u6240\u6709\u5C5E\u6027\u76F8\u540C\uFF0C\u90A3\u4E48\u5224\u5B9A\u8FD9\u4E2A\u8282\u70B9\u4E0D\u9700\u8981\u66F4\u65B0\uFF0C\u5982\u679C\u8282\u70B9\u5C5E\u6027\u4E0D\u76F8\u540C\uFF0C\u90A3\u4E48\u4F1A\u5224\u5B9A\u8FD9\u4E2A\u8282\u70B9\u9700\u8981\u66F4\u65B0\uFF0Creact\u4F1A\u66F4\u65B0\u5E76\u91CD\u6E32\u67D3\u8FD9\u4E2A\u8282\u70B9\u3002"),n("li",null,"react\u8BBE\u8BA1\u4E4B\u521D\u662F\u4E3B\u8981\u8D1F\u8D23UI\u5C42\u7684\u6E32\u67D3\uFF0C\u867D\u7136\u6BCF\u4E2A\u7EC4\u4EF6\u6709\u81EA\u5DF1\u7684state\uFF0Cstate\u8868\u793A\u7EC4\u4EF6\u7684\u72B6\u6001\uFF0C\u5F53\u72B6\u6001\u9700\u8981\u53D8\u5316\u7684\u65F6\u5019\uFF0C\u9700\u8981\u4F7F\u7528setState\u66F4\u65B0\u6211\u4EEC\u7684\u7EC4\u4EF6\uFF0C\u4F46\u662F\uFF0C\u6211\u4EEC\u60F3\u901A\u8FC7\u4E00\u4E2A\u7EC4\u4EF6\u91CD\u6E32\u67D3\u5B83\u7684\u5144\u5F1F\u7EC4\u4EF6\uFF0C\u6211\u4EEC\u5C31\u9700\u8981\u5C06\u7EC4\u4EF6\u7684\u72B6\u6001\u63D0\u5347\u5230\u7236\u7EC4\u4EF6\u5F53\u4E2D\uFF0C\u8BA9\u7236\u7EC4\u4EF6\u7684\u72B6\u6001\u6765\u63A7\u5236\u8FD9\u4E24\u4E2A\u7EC4\u4EF6\u7684\u91CD\u6E32\u67D3\uFF0C\u5F53\u6211\u4EEC\u7EC4\u4EF6\u7684\u5C42\u6B21\u8D8A\u6765\u8D8A\u6DF1\u7684\u65F6\u5019\uFF0C\u72B6\u6001\u9700\u8981\u4E00\u76F4\u5F80\u4E0B\u4F20\uFF0C\u65E0\u7591\u52A0\u5927\u4E86\u6211\u4EEC\u4EE3\u7801\u7684\u590D\u6742\u5EA6\uFF0C\u6211\u4EEC\u9700\u8981\u4E00\u4E2A\u72B6\u6001\u7BA1\u7406\u4E2D\u5FC3\uFF0C\u6765\u5E2E\u6211\u4EEC\u7BA1\u7406\u6211\u4EEC\u72B6\u6001state\u3002"),n("li",null,"\u8FD9\u4E2A\u65F6\u5019\uFF0Credux\u51FA\u73B0\u4E86\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C06\u6240\u6709\u7684state\u4EA4\u7ED9redux\u53BB\u7BA1\u7406\uFF0C\u5F53\u6211\u4EEC\u7684\u67D0\u4E00\u4E2Astate\u6709\u53D8\u5316\u7684\u65F6\u5019\uFF0C\u4F9D\u8D56\u5230\u8FD9\u4E2Astate\u7684\u7EC4\u4EF6\u5C31\u4F1A\u8FDB\u884C\u4E00\u6B21\u91CD\u6E32\u67D3\uFF0C\u8FD9\u6837\u5C31\u89E3\u51B3\u4E86\u6211\u4EEC\u7684\u6211\u4EEC\u9700\u8981\u4E00\u76F4\u628Astate\u5F80\u4E0B\u4F20\u7684\u95EE\u9898\u3002redux\u6709action\u3001reducer\u7684\u6982\u5FF5\uFF0Caction\u4E3A\u552F\u4E00\u4FEE\u6539state\u7684\u6765\u6E90\uFF0Creducer\u4E3A\u552F\u4E00\u786E\u5B9Astate\u5982\u4F55\u53D8\u5316\u7684\u5165\u53E3\uFF0C\u8FD9\u4F7F\u5F97redux\u7684\u6570\u636E\u6D41\u975E\u5E38\u89C4\u8303\uFF0C\u540C\u65F6\u4E5F\u66B4\u9732\u51FA\u4E86redux\u4EE3\u7801\u7684\u590D\u6742\uFF0C\u672C\u6765\u90A3\u4E48\u7B80\u5355\u7684\u529F\u80FD\uFF0C\u5374\u9700\u8981\u5B8C\u6210\u90A3\u4E48\u591A\u7684\u4EE3\u7801\u3002"),n("li",null,"\u540E\u6765\uFF0C\u793E\u533A\u5C31\u51FA\u73B0\u4E86\u53E6\u5916\u4E00\u5957\u89E3\u51B3\u65B9\u6848\uFF0C\u4E5F\u5C31\u662Fmobx\uFF0C\u5B83\u63A8\u5D07\u4EE3\u7801\u7B80\u7EA6\u6613\u61C2\uFF0C\u53EA\u9700\u8981\u5B9A\u4E49\u4E00\u4E2A\u53EF\u89C2\u6D4B\u7684\u5BF9\u8C61\uFF0C\u7136\u540E\u54EA\u4E2A\u7EC4\u4EF7\u4F7F\u7528\u5230\u8FD9\u4E2A\u53EF\u89C2\u6D4B\u7684\u5BF9\u8C61\uFF0C\u5E76\u4E14\u8FD9\u4E2A\u5BF9\u8C61\u7684\u6570\u636E\u6709\u66F4\u6539\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u7EC4\u4EF6\u5C31\u4F1A\u91CD\u6E32\u67D3\uFF0C\u800C\u4E14mobx\u5185\u90E8\u4E5F\u505A\u597D\u4E86\u662F\u5426\u91CD\u6E32\u67D3\u7EC4\u4EF6\u7684\u751F\u547D\u5468\u671FshouldUpdateComponent\uFF0C\u4E0D\u5EFA\u8BAE\u5F00\u53D1\u8005\u8FDB\u884C\u66F4\u6539\uFF0C\u8FD9\u4F7F\u5F97\u6211\u4EEC\u4F7F\u7528mobx\u5F00\u53D1\u9879\u76EE\u7684\u65F6\u5019\u53EF\u4EE5\u7B80\u5355\u5FEB\u901F\u7684\u5B8C\u6210\u5F88\u591A\u529F\u80FD\uFF0C\u8FDEredux\u7684\u4F5C\u8005\u4E5F\u63A8\u8350\u4F7F\u7528mobx\u8FDB\u884C\u9879\u76EE\u5F00\u53D1\u3002\u4F46\u662F\uFF0C\u968F\u7740\u9879\u76EE\u7684\u4E0D\u65AD\u53D8\u5927\uFF0Cmobx\u4E5F\u4E0D\u65AD\u66B4\u9732\u51FA\u4E86\u5B83\u7684\u7F3A\u70B9\uFF0C\u5C31\u662F\u6570\u636E\u6D41\u592A\u968F\u610F\uFF0C\u51FA\u4E86bug\u4E4B\u540E\u4E0D\u597D\u8FFD\u6EAF\u6570\u636E\u7684\u6D41\u5411\uFF0C\u8FD9\u4E2A\u7F3A\u70B9\u6B63\u597D\u4F53\u73B0\u51FA\u4E86redux\u7684\u4F18\u70B9\u6240\u5728\uFF0C\u6240\u4EE5\u9488\u5BF9\u4E8E\u5C0F\u9879\u76EE\u6765\u8BF4\uFF0C\u793E\u533A\u63A8\u8350\u4F7F\u7528mobx\uFF0C\u5BF9\u5927\u9879\u76EE\u63A8\u8350\u4F7F\u7528redux")],-1),iA={id:"_22\u3001react\u600E\u4E48\u505A\u6570\u636E\u7684\u68C0\u67E5\u548C\u53D8\u5316",tabindex:"-1"},uA=n("a",{class:"header-anchor",href:"#_22\u3001react\u600E\u4E48\u505A\u6570\u636E\u7684\u68C0\u67E5\u548C\u53D8\u5316","aria-hidden":"true"},"#",-1),kA=s(),dA={href:"http://interview.poetries.top/excellent-docs/6-React.html#_22%E3%80%81react%E6%80%8E%E4%B9%88%E5%81%9A%E6%95%B0%E6%8D%AE%E7%9A%84%E6%A3%80%E6%9F%A5%E5%92%8C%E5%8F%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},bA=s("#"),mA=s("22\u3001React\u600E\u4E48\u505A\u6570\u636E\u7684\u68C0\u67E5\u548C\u53D8\u5316"),hA=n("blockquote",null,[n("div",{class:"language-text ext-text line-numbers-mode"},[n("pre",{class:"language-text"},[n("code",null,"Model`\u6539\u53D8\u4E4B\u540E\uFF08\u53EF\u80FD\u662F\u8C03\u7528\u4E86`setState`\uFF09\uFF0C\u89E6\u53D1\u4E86`virtual dom`\u7684\u66F4\u65B0\uFF0C\u518D\u7528`diff`\u7B97\u6CD5\u6765`\u628Avirtual DOM`\u6BD4\u8F83`real DOM`\uFF0C\u770B\u770B\u662F\u54EA\u4E2A`dom`\u8282\u70B9\u66F4\u65B0\u4E86\uFF0C\u518D\u6E32\u67D3`real dom\n")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br")])])],-1),_A={id:"_23\u3001react-router\u91CC\u7684-link-\u6807\u7B7E\u548C-a-\u6807\u7B7E\u6709\u4EC0\u4E48\u533A\u522B",tabindex:"-1"},gA=n("a",{class:"header-anchor",href:"#_23\u3001react-router\u91CC\u7684-link-\u6807\u7B7E\u548C-a-\u6807\u7B7E\u6709\u4EC0\u4E48\u533A\u522B","aria-hidden":"true"},"#",-1),EA=s(),fA={href:"http://interview.poetries.top/excellent-docs/6-React.html#_23%E3%80%81react-router%E9%87%8C%E7%9A%84-link-%E6%A0%87%E7%AD%BE%E5%92%8C-a-%E6%A0%87%E7%AD%BE%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},vA=s("#"),wA=s("23\u3001react-router\u91CC\u7684"),yA=n("code",null,"<Link>",-1),xA=s("\u6807\u7B7E\u548C"),AA=n("code",null,"<a>",-1),BA=s("\u6807\u7B7E\u6709\u4EC0\u4E48\u533A\u522B"),qA=n("blockquote",null,[n("p",null,[s("\u5BF9\u6BD4"),n("code",null,"<a>"),s(","),n("code",null,"Link"),s("\u7EC4\u4EF6\u907F\u514D\u4E86\u4E0D\u5FC5\u8981\u7684\u91CD\u6E32\u67D3")])],-1),jA={id:"_24\u3001connect\u539F\u7406",tabindex:"-1"},SA=n("a",{class:"header-anchor",href:"#_24\u3001connect\u539F\u7406","aria-hidden":"true"},"#",-1),CA=s(),DA={href:"http://interview.poetries.top/excellent-docs/6-React.html#_24%E3%80%81connect%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},FA=s("#"),PA=s("24\u3001connect\u539F\u7406"),TA=t(`<ul><li>\u9996\u5148<code>connect</code>\u4E4B\u6240\u4EE5\u4F1A\u6210\u529F\uFF0C\u662F\u56E0\u4E3A<code>Provider</code>\u7EC4\u4EF6\uFF1A</li><li>\u5728\u539F\u5E94\u7528\u7EC4\u4EF6\u4E0A\u5305\u88F9\u4E00\u5C42\uFF0C\u4F7F\u539F\u6765\u6574\u4E2A\u5E94\u7528\u6210\u4E3A<code>Provider</code>\u7684\u5B50\u7EC4\u4EF6 \u63A5\u6536<code>Redux</code>\u7684<code>store</code>\u4F5C\u4E3A<code>props</code>\uFF0C\u901A\u8FC7<code>context</code>\u5BF9\u8C61\u4F20\u9012\u7ED9\u5B50\u5B59\u7EC4\u4EF6\u4E0A\u7684<code>connect</code></li></ul><blockquote><p><code>connect</code>\u505A\u4E86\u4E9B\u4EC0\u4E48\u3002\u5B83\u771F\u6B63\u8FDE\u63A5 <code>Redux</code> \u548C <code>React</code>\uFF0C\u5B83\u5305\u5728\u6211\u4EEC\u7684\u5BB9\u5668\u7EC4\u4EF6\u7684\u5916\u4E00\u5C42\uFF0C\u5B83\u63A5\u6536\u4E0A\u9762 <code>Provider</code> \u63D0\u4F9B\u7684 <code>store</code> \u91CC\u9762\u7684<code>state</code> \u548C <code>dispatch</code>\uFF0C\u4F20\u7ED9\u4E00\u4E2A\u6784\u9020\u51FD\u6570\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u4EE5\u5C5E\u6027\u5F62\u5F0F\u4F20\u7ED9\u6211\u4EEC\u7684\u5BB9\u5668\u7EC4\u4EF6</p></blockquote><ul><li><code>connect</code>\u662F\u4E00\u4E2A\u9AD8\u9636\u51FD\u6570\uFF0C\u9996\u5148\u4F20\u5165<code>mapStateToProps</code>\u3001<code>mapDispatchToProps</code>\uFF0C\u7136\u540E\u8FD4\u56DE\u4E00\u4E2A\u751F\u4EA7<code>Component</code>\u7684\u51FD\u6570(<code>wrapWithConnect</code>)\uFF0C\u7136\u540E\u518D\u5C06\u771F\u6B63\u7684<code>Component</code>\u4F5C\u4E3A\u53C2\u6570\u4F20\u5165<code>wrapWithConnect</code>\uFF0C\u8FD9\u6837\u5C31\u751F\u4EA7\u51FA\u4E00\u4E2A\u7ECF\u8FC7\u5305\u88F9\u7684<code>Connect</code>\u7EC4\u4EF6\uFF0C</li></ul><p><strong>\u8BE5\u7EC4\u4EF6\u5177\u6709\u5982\u4E0B\u7279\u70B9</strong></p><ul><li>\u901A\u8FC7<code>props.store</code>\u83B7\u53D6\u7956\u5148<code>Component</code>\u7684<code>store props</code>\u5305\u62EC<code>stateProps</code>\u3001<code>dispatchProps</code>\u3001<code>parentProps</code>,\u5408\u5E76\u5728\u4E00\u8D77\u5F97\u5230<code>nextState</code>\uFF0C\u4F5C\u4E3A<code>props</code>\u4F20\u7ED9\u771F\u6B63\u7684<code>Component componentDidMount</code>\u65F6\uFF0C\u6DFB\u52A0\u4E8B\u4EF6<code>this.store.subscribe(this.handleChange)</code>\uFF0C\u5B9E\u73B0\u9875\u9762\u4EA4\u4E92</li><li><code>shouldComponentUpdate</code>\u65F6\u5224\u65AD\u662F\u5426\u6709\u907F\u514D\u8FDB\u884C\u6E32\u67D3\uFF0C\u63D0\u5347\u9875\u9762\u6027\u80FD\uFF0C\u5E76\u5F97\u5230<code>nextState</code> <code>componentWillUnmount</code>\u65F6\u79FB\u9664\u6CE8\u518C\u7684\u4E8B\u4EF6<code>this.handleChange</code></li></ul><blockquote><p>\u7531\u4E8E<code>connect</code>\u7684\u6E90\u7801\u8FC7\u957F\uFF0C\u6211\u4EEC\u53EA\u770B\u4E3B\u8981\u903B\u8F91</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token parameter">mapStateToProps<span class="token punctuation">,</span> mapDispatchToProps<span class="token punctuation">,</span> mergeProps<span class="token punctuation">,</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">wrapWithConnect</span><span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token class-name">Connect</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
      <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u4ECE\u7956\u5148Component\u5904\u83B7\u5F97store</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>store <span class="token operator">=</span> props<span class="token punctuation">.</span>store <span class="token operator">||</span> context<span class="token punctuation">.</span>store
        <span class="token keyword">this</span><span class="token punctuation">.</span>stateProps <span class="token operator">=</span> <span class="token function">computeStateProps</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">,</span> props<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dispatchProps <span class="token operator">=</span> <span class="token function">computeDispatchProps</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">,</span> props<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">storeState</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span>
        <span class="token comment">// \u5BF9stateProps\u3001dispatchProps\u3001parentProps\u8FDB\u884C\u5408\u5E76</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> nextState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u8FDB\u884C\u5224\u65AD\uFF0C\u5F53\u6570\u636E\u53D1\u751F\u6539\u53D8\u65F6\uFF0CComponent\u91CD\u65B0\u6E32\u67D3</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>propsChanged <span class="token operator">||</span> mapStateProducedChange <span class="token operator">||</span> dispatchPropsChanged<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateState</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// \u6539\u53D8Component\u7684state</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token literal-property property">storeState</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// \u751F\u6210\u5305\u88F9\u7EC4\u4EF6Connect</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>WrappedComponent <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>nextState<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
          <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      Connect<span class="token punctuation">.</span>contextTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">store</span><span class="token operator">:</span> storeShape
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> Connect<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div>`,7),NA={id:"_25\u3001redux\u5B9E\u73B0\u539F\u7406\u89E3\u6790",tabindex:"-1"},MA=n("a",{class:"header-anchor",href:"#_25\u3001redux\u5B9E\u73B0\u539F\u7406\u89E3\u6790","aria-hidden":"true"},"#",-1),OA=s(),IA={href:"http://interview.poetries.top/excellent-docs/6-React.html#_25%E3%80%81redux%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90",target:"_blank",rel:"noopener noreferrer"},RA=s("#"),VA=s("25\u3001Redux\u5B9E\u73B0\u539F\u7406\u89E3\u6790"),HA=t(`<p><strong>\u4E3A\u4EC0\u4E48\u8981\u7528redux</strong></p><blockquote><p>\u5728<code>React</code>\u4E2D\uFF0C\u6570\u636E\u5728\u7EC4\u4EF6\u4E2D\u662F\u5355\u5411\u6D41\u52A8\u7684\uFF0C\u6570\u636E\u4ECE\u4E00\u4E2A\u65B9\u5411\u7236\u7EC4\u4EF6\u6D41\u5411\u5B50\u7EC4\u4EF6\uFF08\u901A\u8FC7<code>props</code>\uFF09,\u6240\u4EE5\uFF0C\u4E24\u4E2A\u975E\u7236\u5B50\u7EC4\u4EF6\u4E4B\u95F4\u901A\u4FE1\u5C31\u76F8\u5BF9\u9EBB\u70E6\uFF0C<code>redux</code>\u7684\u51FA\u73B0\u5C31\u662F\u4E3A\u4E86\u89E3\u51B3<code>state</code>\u91CC\u9762\u7684\u6570\u636E\u95EE\u9898</p></blockquote><p><strong>Redux\u8BBE\u8BA1\u7406\u5FF5</strong></p><blockquote><p><code>Redux</code>\u662F\u5C06\u6574\u4E2A\u5E94\u7528\u72B6\u6001\u5B58\u50A8\u5230\u4E00\u4E2A\u5730\u65B9\u4E0A\u79F0\u4E3A<code>store</code>,\u91CC\u9762\u4FDD\u5B58\u7740\u4E00\u4E2A\u72B6\u6001\u6811<code>store tree</code>,\u7EC4\u4EF6\u53EF\u4EE5\u6D3E\u53D1(<code>dispatch</code>)\u884C\u4E3A(<code>action</code>)\u7ED9<code>store</code>,\u800C\u4E0D\u662F\u76F4\u63A5\u901A\u77E5\u5176\u4ED6\u7EC4\u4EF6\uFF0C\u7EC4\u4EF6\u5185\u90E8\u901A\u8FC7\u8BA2\u9605<code>store</code>\u4E2D\u7684\u72B6\u6001<code>state</code>\u6765\u5237\u65B0\u81EA\u5DF1\u7684\u89C6\u56FE</p></blockquote><p><img src="http://poetries1.gitee.io/img-repo/2020/07/68.png" alt="img"></p><p><strong>Redux\u4E09\u5927\u539F\u5219</strong></p><ul><li>\u552F\u4E00\u6570\u636E\u6E90</li></ul><blockquote><p>\u6574\u4E2A\u5E94\u7528\u7684state\u90FD\u88AB\u5B58\u50A8\u5230\u4E00\u4E2A\u72B6\u6001\u6811\u91CC\u9762\uFF0C\u5E76\u4E14\u8FD9\u4E2A\u72B6\u6001\u6811\uFF0C\u53EA\u5B58\u5728\u4E8E\u552F\u4E00\u7684store\u4E2D</p></blockquote><ul><li>\u4FDD\u6301\u53EA\u8BFB\u72B6\u6001</li></ul><blockquote><p><code>state</code>\u662F\u53EA\u8BFB\u7684\uFF0C\u552F\u4E00\u6539\u53D8<code>state</code>\u7684\u65B9\u6CD5\u5C31\u662F\u89E6\u53D1<code>action</code>\uFF0C<code>action</code>\u662F\u4E00\u4E2A\u7528\u4E8E\u63CF\u8FF0\u4EE5\u53D1\u751F\u65F6\u95F4\u7684\u666E\u901A\u5BF9\u8C61</p></blockquote><ul><li>\u6570\u636E\u6539\u53D8\u53EA\u80FD\u901A\u8FC7\u7EAF\u51FD\u6570\u6765\u6267\u884C</li></ul><blockquote><p>\u4F7F\u7528\u7EAF\u51FD\u6570\u6765\u6267\u884C\u4FEE\u6539\uFF0C\u4E3A\u4E86\u63CF\u8FF0<code>action</code>\u5982\u4F55\u6539\u53D8<code>state</code>\u7684\uFF0C\u4F60\u9700\u8981\u7F16\u5199<code>reducers</code></p></blockquote><p><strong>Redux\u6E90\u7801</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">createStore</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">reducer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> state<span class="token punctuation">;</span>
    <span class="token comment">//\u83B7\u53D6\u72B6\u6001\u5BF9\u8C61</span>
    <span class="token comment">//\u5B58\u653E\u6240\u6709\u7684\u76D1\u542C\u51FD\u6570</span>
    <span class="token keyword">let</span> listeners <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> <span class="token function-variable function">getState</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">;</span>
    <span class="token comment">//\u63D0\u4F9B\u4E00\u4E2A\u65B9\u6CD5\u4F9B\u5916\u90E8\u8C03\u7528\u6D3E\u53D1action</span>
    <span class="token keyword">let</span> <span class="token function-variable function">dispath</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u8C03\u7528\u7BA1\u7406\u5458reducer\u5F97\u5230\u65B0\u7684state</span>
        state <span class="token operator">=</span> <span class="token function">reducer</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u6267\u884C\u6240\u6709\u7684\u76D1\u542C\u51FD\u6570</span>
        listeners<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">l</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">l</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//\u8BA2\u9605\u72B6\u6001\u53D8\u5316\u4E8B\u4EF6\uFF0C\u5F53\u72B6\u6001\u6539\u53D8\u53D1\u751F\u4E4B\u540E\u6267\u884C\u76D1\u542C\u51FD\u6570</span>
    <span class="token keyword">let</span> <span class="token function-variable function">subscribe</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">listener</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        listeners<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">dispath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        getState<span class="token punctuation">,</span>
        dispath<span class="token punctuation">,</span>
        subscribe
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">combineReducers</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">renducers</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">//\u4F20\u5165\u4E00\u4E2Arenducers\u7BA1\u7406\u7EC4\uFF0C\u8FD4\u56DE\u7684\u662F\u4E00\u4E2Arenducer</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>action<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> newState<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> attr <span class="token keyword">in</span> renducers<span class="token punctuation">)</span><span class="token punctuation">{</span>
            newState<span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token operator">=</span>renducers<span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token punctuation">(</span>state<span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token punctuation">,</span>action<span class="token punctuation">)</span>

        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> newState<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">,</span>combineReducers<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div>`,14),LA={id:"_26\u3001purecomponent\u548Cfunctioncomponent\u533A\u522B",tabindex:"-1"},UA=n("a",{class:"header-anchor",href:"#_26\u3001purecomponent\u548Cfunctioncomponent\u533A\u522B","aria-hidden":"true"},"#",-1),JA=s(),WA={href:"http://interview.poetries.top/excellent-docs/6-React.html#_26%E3%80%81purecomponent%E5%92%8Cfunctioncomponent%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},zA=s("#"),GA=s("26\u3001pureComponent\u548CFunctionComponent\u533A\u522B"),$A=t("<blockquote><p><code>PureComponent</code>\u548C<code>Component</code>\u5B8C\u5168\u76F8\u540C\uFF0C\u4F46\u662F\u5728<code>shouldComponentUpdate</code>\u5B9E\u73B0\u4E2D\uFF0C<code>PureComponent</code>\u4F7F\u7528\u4E86<code>props</code>\u548C<code>state</code>\u7684\u6D45\u6BD4\u8F83\u3002\u4E3B\u8981\u4F5C\u7528\u662F\u7528\u6765\u63D0\u9AD8\u67D0\u4E9B\u7279\u5B9A\u573A\u666F\u7684\u6027\u80FD</p></blockquote>",1),XA={id:"_27-react-hooks-\u5B83\u5E26\u6765\u4E86\u90A3\u4E9B\u4FBF\u5229",tabindex:"-1"},KA=n("a",{class:"header-anchor",href:"#_27-react-hooks-\u5B83\u5E26\u6765\u4E86\u90A3\u4E9B\u4FBF\u5229","aria-hidden":"true"},"#",-1),QA=s(),YA={href:"http://interview.poetries.top/excellent-docs/6-React.html#_27-react-hooks-%E5%AE%83%E5%B8%A6%E6%9D%A5%E4%BA%86%E9%82%A3%E4%BA%9B%E4%BE%BF%E5%88%A9",target:"_blank",rel:"noopener noreferrer"},ZA=s("#"),nB=s("27 react hooks\uFF0C\u5B83\u5E26\u6765\u4E86\u90A3\u4E9B\u4FBF\u5229"),sB=t(`<ul><li>\u4EE3\u7801\u903B\u8F91\u805A\u5408\uFF0C\u903B\u8F91\u590D\u7528</li><li>HOC\u5D4C\u5957\u5730\u72F1</li><li>\u4EE3\u66FFclass</li></ul><blockquote><p>React \u4E2D\u901A\u5E38\u4F7F\u7528 \u7C7B\u5B9A\u4E49 \u6216\u8005 \u51FD\u6570\u5B9A\u4E49 \u521B\u5EFA\u7EC4\u4EF6:</p></blockquote><p>\u5728\u7C7B\u5B9A\u4E49\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u5230\u8BB8\u591A React \u7279\u6027\uFF0C\u4F8B\u5982 state\u3001 \u5404\u79CD\u7EC4\u4EF6\u751F\u547D\u5468\u671F\u94A9\u5B50\u7B49\uFF0C\u4F46\u662F\u5728\u51FD\u6570\u5B9A\u4E49\u4E2D\uFF0C\u6211\u4EEC\u5374\u65E0\u80FD\u4E3A\u529B\uFF0C\u56E0\u6B64 React 16.8 \u7248\u672C\u63A8\u51FA\u4E86\u4E00\u4E2A\u65B0\u529F\u80FD (React Hooks)\uFF0C\u901A\u8FC7\u5B83\uFF0C\u53EF\u4EE5\u66F4\u597D\u7684\u5728\u51FD\u6570\u5B9A\u4E49\u7EC4\u4EF6\u4E2D\u4F7F\u7528 React \u7279\u6027\u3002</p><p><strong>\u597D\u5904:</strong></p><ol><li>\u8DE8\u7EC4\u4EF6\u590D\u7528: \u5176\u5B9E render props / HOC \u4E5F\u662F\u4E3A\u4E86\u590D\u7528\uFF0C\u76F8\u6BD4\u4E8E\u5B83\u4EEC\uFF0CHooks \u4F5C\u4E3A\u5B98\u65B9\u7684\u5E95\u5C42 API\uFF0C\u6700\u4E3A\u8F7B\u91CF\uFF0C\u800C\u4E14\u6539\u9020\u6210\u672C\u5C0F\uFF0C\u4E0D\u4F1A\u5F71\u54CD\u539F\u6765\u7684\u7EC4\u4EF6\u5C42\u6B21\u7ED3\u6784\u548C\u4F20\u8BF4\u4E2D\u7684\u5D4C\u5957\u5730\u72F1\uFF1B</li><li>\u7C7B\u5B9A\u4E49\u66F4\u4E3A\u590D\u6742</li></ol><ul><li>\u4E0D\u540C\u7684\u751F\u547D\u5468\u671F\u4F1A\u4F7F\u903B\u8F91\u53D8\u5F97\u5206\u6563\u4E14\u6DF7\u4E71\uFF0C\u4E0D\u6613\u7EF4\u62A4\u548C\u7BA1\u7406\uFF1B</li><li>\u65F6\u523B\u9700\u8981\u5173\u6CE8this\u7684\u6307\u5411\u95EE\u9898\uFF1B</li><li>\u4EE3\u7801\u590D\u7528\u4EE3\u4EF7\u9AD8\uFF0C\u9AD8\u9636\u7EC4\u4EF6\u7684\u4F7F\u7528\u7ECF\u5E38\u4F1A\u4F7F\u6574\u4E2A\u7EC4\u4EF6\u6811\u53D8\u5F97\u81C3\u80BF\uFF1B</li></ul><ol><li>\u72B6\u6001\u4E0EUI\u9694\u79BB: \u6B63\u662F\u7531\u4E8E Hooks \u7684\u7279\u6027\uFF0C\u72B6\u6001\u903B\u8F91\u4F1A\u53D8\u6210\u66F4\u5C0F\u7684\u7C92\u5EA6\uFF0C\u5E76\u4E14\u6781\u5BB9\u6613\u88AB\u62BD\u8C61\u6210\u4E00\u4E2A\u81EA\u5B9A\u4E49 Hooks\uFF0C\u7EC4\u4EF6\u4E2D\u7684\u72B6\u6001\u548C UI \u53D8\u5F97\u66F4\u4E3A\u6E05\u6670\u548C\u9694\u79BB\u3002</li></ol><p><strong>\u6CE8\u610F:</strong></p><ul><li>\u907F\u514D\u5728 \u5FAA\u73AF/\u6761\u4EF6\u5224\u65AD/\u5D4C\u5957\u51FD\u6570 \u4E2D\u8C03\u7528 hooks\uFF0C\u4FDD\u8BC1\u8C03\u7528\u987A\u5E8F\u7684\u7A33\u5B9A\uFF1B</li><li>\u53EA\u6709 \u51FD\u6570\u5B9A\u4E49\u7EC4\u4EF6 \u548C hooks \u53EF\u4EE5\u8C03\u7528 hooks\uFF0C\u907F\u514D\u5728 \u7C7B\u7EC4\u4EF6 \u6216\u8005 \u666E\u901A\u51FD\u6570 \u4E2D\u8C03\u7528\uFF1B</li><li>\u4E0D\u80FD\u5728useEffect\u4E2D\u4F7F\u7528useState\uFF0CReact \u4F1A\u62A5\u9519\u63D0\u793A\uFF1B</li><li>\u7C7B\u7EC4\u4EF6\u4E0D\u4F1A\u88AB\u66FF\u6362\u6216\u5E9F\u5F03\uFF0C\u4E0D\u9700\u8981\u5F3A\u5236\u6539\u9020\u7C7B\u7EC4\u4EF6\uFF0C\u4E24\u79CD\u65B9\u5F0F\u80FD\u5E76\u5B58\uFF1B</li></ul><p><strong>\u91CD\u8981\u94A9\u5B50</strong></p><ol><li>\u72B6\u6001\u94A9\u5B50 (useState): \u7528\u4E8E\u5B9A\u4E49\u7EC4\u4EF6\u7684 State\uFF0C\u5176\u5230\u7C7B\u5B9A\u4E49\u4E2Dthis.state\u7684\u529F\u80FD\uFF1B</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// useState \u53EA\u63A5\u53D7\u4E00\u4E2A\u53C2\u6570: \u521D\u59CB\u72B6\u6001</span>
<span class="token comment">// \u8FD4\u56DE\u7684\u662F\u7EC4\u4EF6\u540D\u548C\u66F4\u6539\u8BE5\u7EC4\u4EF6\u5BF9\u5E94\u7684\u51FD\u6570</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>flag<span class="token punctuation">,</span> setFlag<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// \u4FEE\u6539\u72B6\u6001</span>
<span class="token function">setFlag</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
	
<span class="token comment">// \u4E0A\u9762\u7684\u4EE3\u7801\u6620\u5C04\u5230\u7C7B\u5B9A\u4E49\u4E2D:</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">true</span>	
<span class="token punctuation">}</span>
<span class="token keyword">const</span> flag <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>flag
<span class="token keyword">const</span> <span class="token function-variable function">setFlag</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">bool</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">flag</span><span class="token operator">:</span> bool<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ol><li>\u751F\u547D\u5468\u671F\u94A9\u5B50 (useEffect):</li></ol><blockquote><p>\u7C7B\u5B9A\u4E49\u4E2D\u6709\u8BB8\u591A\u751F\u547D\u5468\u671F\u51FD\u6570\uFF0C\u800C\u5728 React Hooks \u4E2D\u4E5F\u63D0\u4F9B\u4E86\u4E00\u4E2A\u76F8\u5E94\u7684\u51FD\u6570 (useEffect)\uFF0C\u8FD9\u91CC\u53EF\u4EE5\u770B\u505AcomponentDidMount\u3001componentDidUpdate\u548CcomponentWillUnmount\u7684\u7ED3\u5408\u3002</p></blockquote><p><strong>useEffect(callback, [source])\u63A5\u53D7\u4E24\u4E2A\u53C2\u6570</strong></p><ul><li>callback: \u94A9\u5B50\u56DE\u8C03\u51FD\u6570\uFF1B</li><li>source: \u8BBE\u7F6E\u89E6\u53D1\u6761\u4EF6\uFF0C\u4EC5\u5F53 source \u53D1\u751F\u6539\u53D8\u65F6\u624D\u4F1A\u89E6\u53D1\uFF1B</li><li>useEffect\u94A9\u5B50\u5728\u6CA1\u6709\u4F20\u5165[source]\u53C2\u6570\u65F6\uFF0C\u9ED8\u8BA4\u5728\u6BCF\u6B21 render \u65F6\u90FD\u4F1A\u4F18\u5148\u8C03\u7528\u4E0A\u6B21\u4FDD\u5B58\u7684\u56DE\u8C03\u4E2D\u8FD4\u56DE\u7684\u51FD\u6570\uFF0C\u540E\u518D\u91CD\u65B0\u8C03\u7528\u56DE\u8C03\uFF1B</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// \u7EC4\u4EF6\u6302\u8F7D\u540E\u6267\u884C\u4E8B\u4EF6\u7ED1\u5B9A</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;on&#39;</span><span class="token punctuation">)</span>
	<span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	
	<span class="token comment">// \u7EC4\u4EF6 update \u65F6\u4F1A\u6267\u884C\u4E8B\u4EF6\u89E3\u7ED1</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;off&#39;</span><span class="token punctuation">)</span>
		<span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>source<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// \u6BCF\u6B21 source \u53D1\u751F\u6539\u53D8\u65F6\uFF0C\u6267\u884C\u7ED3\u679C(\u4EE5\u7C7B\u5B9A\u4E49\u7684\u751F\u547D\u5468\u671F\uFF0C\u4FBF\u4E8E\u5927\u5BB6\u7406\u89E3):</span>
<span class="token comment">// --- DidMount ---</span>
<span class="token comment">// &#39;on&#39;</span>
<span class="token comment">// --- DidUpdate ---</span>
<span class="token comment">// &#39;off&#39;</span>
<span class="token comment">// &#39;on&#39;</span>
<span class="token comment">// --- DidUpdate ---</span>
<span class="token comment">// &#39;off&#39;</span>
<span class="token comment">// &#39;on&#39;</span>
<span class="token comment">// --- WillUnmount --- </span>
<span class="token comment">// &#39;off&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><strong>\u901A\u8FC7\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF0C\u6211\u4EEC\u4FBF\u53EF\u6A21\u62DF\u51FA\u51E0\u4E2A\u5E38\u7528\u7684\u751F\u547D\u5468\u671F:</strong></p><ul><li>componentDidMount: \u4F20\u5165[]\u65F6\uFF0C\u5C31\u53EA\u4F1A\u5728\u521D\u59CB\u5316\u65F6\u8C03\u7528\u4E00\u6B21</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const useMount = (fn) =&gt; useEffect(fn, [])
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>componentWillUnmount: \u4F20\u5165[]\uFF0C\u56DE\u8C03\u4E2D\u7684\u8FD4\u56DE\u7684\u51FD\u6570\u4E5F\u53EA\u4F1A\u88AB\u6700\u7EC8\u6267\u884C\u4E00\u6B21</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">useUnmount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> fn<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>mounted: \u53EF\u4EE5\u4F7F\u7528 useState \u5C01\u88C5\u6210\u4E00\u4E2A\u9AD8\u5EA6\u53EF\u590D\u7528\u7684 mounted \u72B6\u6001\uFF1B</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">useMounted</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>mounted<span class="token punctuation">,</span> setMounted<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token operator">!</span>mounted <span class="token operator">&amp;&amp;</span> <span class="token function">setMounted</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setMounted</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> mounted<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>componentDidUpdate: useEffect\u6BCF\u6B21\u5747\u4F1A\u6267\u884C\uFF0C\u5176\u5B9E\u5C31\u662F\u6392\u9664\u4E86 DidMount \u540E\u5373\u53EF\uFF1B</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> mounted <span class="token operator">=</span> <span class="token function">useMounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    mounted <span class="token operator">&amp;&amp;</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol><li>\u5176\u5B83\u5185\u7F6E\u94A9\u5B50:</li></ol><ul><li><p><code>useContext</code>: \u83B7\u53D6 context \u5BF9\u8C61</p></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>useReducer
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>: \u7C7B\u4F3C\u4E8E Redux \u601D\u60F3\u7684\u5B9E\u73B0\uFF0C\u4F46\u5176\u5E76\u4E0D\u8DB3\u4EE5\u66FF\u4EE3 Redux\uFF0C\u53EF\u4EE5\u7406\u89E3\u6210\u4E00\u4E2A\u7EC4\u4EF6\u5185\u90E8\u7684 redux:</p><ul><li>\u5E76\u4E0D\u662F\u6301\u4E45\u5316\u5B58\u50A8\uFF0C\u4F1A\u968F\u7740\u7EC4\u4EF6\u88AB\u9500\u6BC1\u800C\u9500\u6BC1\uFF1B</li><li>\u5C5E\u4E8E\u7EC4\u4EF6\u5185\u90E8\uFF0C\u5404\u4E2A\u7EC4\u4EF6\u662F\u76F8\u4E92\u9694\u79BB\u7684\uFF0C\u5355\u7EAF\u7528\u5B83\u5E76\u65E0\u6CD5\u5171\u4EAB\u6570\u636E\uFF1B</li><li>\u914D\u5408useContext\`\u7684\u5168\u5C40\u6027\uFF0C\u53EF\u4EE5\u5B8C\u6210\u4E00\u4E2A\u8F7B\u91CF\u7EA7\u7684 Redux\uFF1B(easy-peasy)</li></ul></li><li><p><code>useCallback</code>: \u7F13\u5B58\u56DE\u8C03\u51FD\u6570\uFF0C\u907F\u514D\u4F20\u5165\u7684\u56DE\u8C03\u6BCF\u6B21\u90FD\u662F\u65B0\u7684\u51FD\u6570\u5B9E\u4F8B\u800C\u5BFC\u81F4\u4F9D\u8D56\u7EC4\u4EF6\u91CD\u65B0\u6E32\u67D3\uFF0C\u5177\u6709\u6027\u80FD\u4F18\u5316\u7684\u6548\u679C\uFF1B</p></li><li><p><code>useMemo</code>: \u7528\u4E8E\u7F13\u5B58\u4F20\u5165\u7684 props\uFF0C\u907F\u514D\u4F9D\u8D56\u7684\u7EC4\u4EF6\u6BCF\u6B21\u90FD\u91CD\u65B0\u6E32\u67D3\uFF1B</p></li><li><p><code>useRef</code>: \u83B7\u53D6\u7EC4\u4EF6\u7684\u771F\u5B9E\u8282\u70B9\uFF1B</p></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>useLayoutEffect
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>DOM\u66F4\u65B0\u540C\u6B65\u94A9\u5B50\u3002\u7528\u6CD5\u4E0EuseEffect\u7C7B\u4F3C\uFF0C\u53EA\u662F\u533A\u522B\u4E8E\u6267\u884C\u65F6\u95F4\u70B9\u7684\u4E0D\u540C</li><li>useEffect\u5C5E\u4E8E\u5F02\u6B65\u6267\u884C\uFF0C\u5E76\u4E0D\u4F1A\u7B49\u5F85 DOM \u771F\u6B63\u6E32\u67D3\u540E\u6267\u884C\uFF0C\u800CuseLayoutEffect\u5219\u4F1A\u771F\u6B63\u6E32\u67D3\u540E\u624D\u89E6\u53D1\uFF1B</li><li>\u53EF\u4EE5\u83B7\u53D6\u66F4\u65B0\u540E\u7684 state\uFF1B</li></ul></li></ul><ol><li>\u81EA\u5B9A\u4E49\u94A9\u5B50(useXxxxx): \u57FA\u4E8E Hooks \u53EF\u4EE5\u5F15\u7528\u5176\u5B83 Hooks \u8FD9\u4E2A\u7279\u6027\uFF0C\u6211\u4EEC\u53EF\u4EE5\u7F16\u5199\u81EA\u5B9A\u4E49\u94A9\u5B50\uFF0C\u5982\u4E0A\u9762\u7684useMounted\u3002\u53C8\u4F8B\u5982\uFF0C\u6211\u4EEC\u9700\u8981\u6BCF\u4E2A\u9875\u9762\u81EA\u5B9A\u4E49\u6807\u9898:</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">useTitle</span><span class="token punctuation">(</span><span class="token parameter">title</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u4F7F\u7528:</span>
<span class="token keyword">function</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token string">&#39;\u6211\u662F\u9996\u9875&#39;</span>
	<span class="token function">useTitle</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span>
	
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div>`,30),aB={id:"_28\u3001react-portal-\u6709\u54EA\u4E9B\u4F7F\u7528\u573A\u666F",tabindex:"-1"},eB=n("a",{class:"header-anchor",href:"#_28\u3001react-portal-\u6709\u54EA\u4E9B\u4F7F\u7528\u573A\u666F","aria-hidden":"true"},"#",-1),tB=s(),pB={href:"http://interview.poetries.top/excellent-docs/6-React.html#_28%E3%80%81react-portal-%E6%9C%89%E5%93%AA%E4%BA%9B%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF",target:"_blank",rel:"noopener noreferrer"},oB=s("#"),cB=s("28\u3001React Portal \u6709\u54EA\u4E9B\u4F7F\u7528\u573A\u666F"),lB=t(`<ul><li>\u5728\u4EE5\u524D\uFF0C react \u4E2D\u6240\u6709\u7684\u7EC4\u4EF6\u90FD\u4F1A\u4F4D\u4E8E #app \u4E0B\uFF0C\u800C\u4F7F\u7528 Portals \u63D0\u4F9B\u4E86\u4E00\u79CD\u8131\u79BB #app \u7684\u7EC4\u4EF6</li><li>\u56E0\u6B64 Portals \u9002\u5408\u8131\u79BB\u6587\u6863\u6D41(out of flow) \u7684\u7EC4\u4EF6\uFF0C\u7279\u522B\u662F position: absolute \u4E0E position: fixed\u7684\u7EC4\u4EF6\u3002\u6BD4\u5982\u6A21\u6001\u6846\uFF0C\u901A\u77E5\uFF0C\u8B66\u544A\uFF0CgoTop \u7B49\u3002</li></ul><p>\u4EE5\u4E0B\u662F\u5B98\u65B9\u4E00\u4E2A\u6A21\u6001\u6846\u7684\u793A\u4F8B\uFF0C\u53EF\u4EE5\u5728\u4EE5\u4E0B\u5730\u5740\u4E2D\u6D4B\u8BD5\u6548\u679C</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modal<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gotop<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>alert<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
const modalRoot = document.getElementById(&#39;modal&#39;);

class Modal extends React.Component {
  constructor(props) {
    super(props);
    this.el = document.createElement(&#39;div&#39;);
  }

  componentDidMount() {
    modalRoot.appendChild(this.el);
  }

  componentWillUnmount() {
    modalRoot.removeChild(this.el);
  }

  render() {
    return ReactDOM.createPortal(
      this.props.children,
      this.el,
    );
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p><strong>React Hooks\u5F53\u4E2D\u7684useEffect\u662F\u5982\u4F55\u533A\u5206\u751F\u547D\u5468\u671F\u94A9\u5B50\u7684</strong></p><blockquote><p>useEffect\u53EF\u4EE5\u770B\u6210\u662F<code>componentDidMount</code>\uFF0C<code>componentDidUpdate</code>\u548C<code>componentWillUnmount</code>\u4E09\u8005\u7684\u7ED3\u5408\u3002useEffect(callback, [source])\u63A5\u6536\u4E24\u4E2A\u53C2\u6570\uFF0C\u8C03\u7528\u65B9\u5F0F\u5982\u4E0B</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;mounted&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;willUnmount&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>source<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>\u751F\u547D\u5468\u671F\u51FD\u6570\u7684\u8C03\u7528\u4E3B\u8981\u662F\u901A\u8FC7\u7B2C\u4E8C\u4E2A\u53C2\u6570[source]\u6765\u8FDB\u884C\u63A7\u5236\uFF0C\u6709\u5982\u4E0B\u51E0\u79CD\u60C5\u51B5\uFF1A</p></blockquote><ul><li><code>[source]</code>\u53C2\u6570\u4E0D\u4F20\u65F6\uFF0C\u5219\u6BCF\u6B21\u90FD\u4F1A\u4F18\u5148\u8C03\u7528\u4E0A\u6B21\u4FDD\u5B58\u7684\u51FD\u6570\u4E2D\u8FD4\u56DE\u7684\u90A3\u4E2A\u51FD\u6570\uFF0C\u7136\u540E\u518D\u8C03\u7528\u5916\u90E8\u90A3\u4E2A\u51FD\u6570\uFF1B</li><li><code>[source]</code>\u53C2\u6570\u4F20[]\u65F6\uFF0C\u5219\u5916\u90E8\u7684\u51FD\u6570\u53EA\u4F1A\u5728\u521D\u59CB\u5316\u65F6\u8C03\u7528\u4E00\u6B21\uFF0C\u8FD4\u56DE\u7684\u90A3\u4E2A\u51FD\u6570\u4E5F\u53EA\u4F1A\u6700\u7EC8\u5728\u7EC4\u4EF6\u5378\u8F7D\u65F6\u8C03\u7528\u4E00\u6B21\uFF1B</li><li><code>[source]</code>\u53C2\u6570\u6709\u503C\u65F6\uFF0C\u5219\u53EA\u4F1A\u76D1\u542C\u5230\u6570\u7EC4\u4E2D\u7684\u503C\u53D1\u751F\u53D8\u5316\u540E\u624D\u4F18\u5148\u8C03\u7528\u8FD4\u56DE\u7684\u90A3\u4E2A\u51FD\u6570\uFF0C\u518D\u8C03\u7528\u5916\u90E8\u7684\u51FD\u6570\u3002</li></ul>`,8),rB={id:"_29\u3001react\u548Cvue\u7684\u533A\u522B",tabindex:"-1"},iB=n("a",{class:"header-anchor",href:"#_29\u3001react\u548Cvue\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),uB=s(),kB={href:"http://interview.poetries.top/excellent-docs/6-React.html#_29%E3%80%81react%E5%92%8Cvue%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},dB=s("#"),bB=s("29\u3001react\u548Cvue\u7684\u533A\u522B"),mB=t("<p><strong>\u76F8\u540C\u70B9\uFF1A</strong></p><ol><li>\u6570\u636E\u9A71\u52A8\u9875\u9762\uFF0C\u63D0\u4F9B\u54CD\u5E94\u5F0F\u7684\u8BD5\u56FE\u7EC4\u4EF6</li><li>\u90FD\u6709virtual DOM,\u7EC4\u4EF6\u5316\u7684\u5F00\u53D1\uFF0C\u901A\u8FC7props\u53C2\u6570\u8FDB\u884C\u7236\u5B50\u4E4B\u95F4\u7EC4\u4EF6\u4F20\u9012\u6570\u636E\uFF0C\u90FD\u5B9E\u73B0\u4E86webComponents\u89C4\u8303</li><li>\u6570\u636E\u6D41\u52A8\u5355\u5411\uFF0C\u90FD\u652F\u6301\u670D\u52A1\u5668\u7684\u6E32\u67D3SSR</li><li>\u90FD\u6709\u652F\u6301native\u7684\u65B9\u6CD5\uFF0Creact\u6709React native\uFF0C vue\u6709wexx</li></ol><p><strong>\u4E0D\u540C\u70B9\uFF1A</strong></p><ol><li>\u6570\u636E\u7ED1\u5B9A\uFF1AVue\u5B9E\u73B0\u4E86\u53CC\u5411\u7684\u6570\u636E\u7ED1\u5B9A\uFF0Creact\u6570\u636E\u6D41\u52A8\u662F\u5355\u5411\u7684</li><li>\u6570\u636E\u6E32\u67D3\uFF1A\u5927\u89C4\u6A21\u7684\u6570\u636E\u6E32\u67D3\uFF0Creact\u66F4\u5FEB</li><li>\u4F7F\u7528\u573A\u666F\uFF1AReact\u914D\u5408Redux\u67B6\u6784\u9002\u5408\u5927\u89C4\u6A21\u591A\u4EBA\u534F\u4F5C\u590D\u6742\u9879\u76EE\uFF0CVue\u9002\u5408\u5C0F\u5FEB\u7684\u9879\u76EE</li><li>\u5F00\u53D1\u98CE\u683C\uFF1Areact\u63A8\u8350\u505A\u6CD5jsx + inline style\u628Ahtml\u548Ccss\u90FD\u5199\u5728js\u4E86</li></ol><blockquote><p>vue\u662F\u91C7\u7528webpack +vue-loader\u5355\u6587\u4EF6\u7EC4\u4EF6\u683C\u5F0F\uFF0Chtml, js, css\u540C\u4E00\u4E2A\u6587\u4EF6</p></blockquote>",5),hB={id:"_30\u3001\u4EC0\u4E48\u662F\u9AD8\u9636\u7EC4\u4EF6-hoc",tabindex:"-1"},_B=n("a",{class:"header-anchor",href:"#_30\u3001\u4EC0\u4E48\u662F\u9AD8\u9636\u7EC4\u4EF6-hoc","aria-hidden":"true"},"#",-1),gB=s(),EB={href:"http://interview.poetries.top/excellent-docs/6-React.html#_30%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6-hoc",target:"_blank",rel:"noopener noreferrer"},fB=s("#"),vB=s("30\u3001\u4EC0\u4E48\u662F\u9AD8\u9636\u7EC4\u4EF6(HOC)"),wB=t(`<ul><li>\u9AD8\u9636\u7EC4\u4EF6(Higher Order Componennt)\u672C\u8EAB\u5176\u5B9E\u4E0D\u662F\u7EC4\u4EF6\uFF0C\u800C\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u8FD9\u4E2A\u51FD\u6570\u63A5\u6536\u4E00\u4E2A\u5143\u7EC4\u4EF6\u4F5C\u4E3A\u53C2\u6570\uFF0C\u7136\u540E\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u589E\u5F3A\u7EC4\u4EF6\uFF0C\u9AD8\u9636\u7EC4\u4EF6\u7684\u51FA\u73B0\u672C\u8EAB\u4E5F\u662F\u4E3A\u4E86\u903B\u8F91\u590D\u7528\uFF0C\u4E3E\u4E2A\u4F8B\u5B50</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">withLoginAuth</span><span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> React<span class="token punctuation">.</span>Component <span class="token punctuation">{</span>
      
      <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">isLogin</span><span class="token operator">:</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      
      <span class="token keyword">async</span> <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> isLogin <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getLoginStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> isLogin <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      
      <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isLogin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token operator">&lt;</span>WrappedComponent <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>\u60A8\u8FD8\u672A\u767B\u5F55<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div>`,2),yB={id:"_31\u3001react\u5B9E\u73B0\u7684\u79FB\u52A8\u5E94\u7528\u4E2D-\u5982\u679C\u51FA\u73B0\u5361\u987F-\u6709\u54EA\u4E9B\u53EF\u4EE5\u8003\u8651\u7684\u4F18\u5316\u65B9\u6848",tabindex:"-1"},xB=n("a",{class:"header-anchor",href:"#_31\u3001react\u5B9E\u73B0\u7684\u79FB\u52A8\u5E94\u7528\u4E2D-\u5982\u679C\u51FA\u73B0\u5361\u987F-\u6709\u54EA\u4E9B\u53EF\u4EE5\u8003\u8651\u7684\u4F18\u5316\u65B9\u6848","aria-hidden":"true"},"#",-1),AB=s(),BB={href:"http://interview.poetries.top/excellent-docs/6-React.html#_31%E3%80%81react%E5%AE%9E%E7%8E%B0%E7%9A%84%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8%E4%B8%AD-%E5%A6%82%E6%9E%9C%E5%87%BA%E7%8E%B0%E5%8D%A1%E9%A1%BF-%E6%9C%89%E5%93%AA%E4%BA%9B%E5%8F%AF%E4%BB%A5%E8%80%83%E8%99%91%E7%9A%84%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88",target:"_blank",rel:"noopener noreferrer"},qB=s("#"),jB=s("31\u3001React\u5B9E\u73B0\u7684\u79FB\u52A8\u5E94\u7528\u4E2D\uFF0C\u5982\u679C\u51FA\u73B0\u5361\u987F\uFF0C\u6709\u54EA\u4E9B\u53EF\u4EE5\u8003\u8651\u7684\u4F18\u5316\u65B9\u6848"),SB=t("<ul><li>\u589E\u52A0<code>shouldComponentUpdate</code>\u94A9\u5B50\u5BF9\u65B0\u65E7<code>props</code>\u8FDB\u884C\u6BD4\u8F83\uFF0C\u5982\u679C\u503C\u76F8\u540C\u5219\u963B\u6B62\u66F4\u65B0\uFF0C\u907F\u514D\u4E0D\u5FC5\u8981\u7684\u6E32\u67D3\uFF0C\u6216\u8005\u4F7F\u7528<code>PureReactComponent</code>\u66FF\u4EE3<code>Component</code>\uFF0C\u5176\u5185\u90E8\u5DF2\u7ECF\u5C01\u88C5\u4E86<code>shouldComponentUpdate</code>\u7684\u6D45\u6BD4\u8F83\u903B\u8F91</li><li>\u5BF9\u4E8E\u5217\u8868\u6216\u5176\u4ED6\u7ED3\u6784\u76F8\u540C\u7684\u8282\u70B9\uFF0C\u4E3A\u5176\u4E2D\u7684\u6BCF\u4E00\u9879\u589E\u52A0\u552F\u4E00<code>key</code>\u5C5E\u6027\uFF0C\u4EE5\u65B9\u4FBF<code>React</code>\u7684<code>diff</code>\u7B97\u6CD5\u4E2D\u5BF9\u8BE5\u8282\u70B9\u7684\u590D\u7528\uFF0C\u51CF\u5C11\u8282\u70B9\u7684\u521B\u5EFA\u548C\u5220\u9664\u64CD\u4F5C</li><li><code>render</code>\u51FD\u6570\u4E2D\u51CF\u5C11\u7C7B\u4F3C<code>onClick={() =&gt; {doSomething()}}</code>\u7684\u5199\u6CD5\uFF0C\u6BCF\u6B21\u8C03\u7528render\u51FD\u6570\u65F6\u5747\u4F1A\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u51FD\u6570\uFF0C\u5373\u4F7F\u5185\u5BB9\u6CA1\u6709\u53D1\u751F\u4EFB\u4F55\u53D8\u5316\uFF0C\u4E5F\u4F1A\u5BFC\u81F4\u8282\u70B9\u6CA1\u5FC5\u8981\u7684\u91CD\u6E32\u67D3\uFF0C\u5EFA\u8BAE\u5C06\u51FD\u6570\u4FDD\u5B58\u5728\u7EC4\u4EF6\u7684\u6210\u5458\u5BF9\u8C61\u4E2D\uFF0C\u8FD9\u6837\u53EA\u4F1A\u521B\u5EFA\u4E00\u6B21</li><li>\u7EC4\u4EF6\u7684<code>props</code>\u5982\u679C\u9700\u8981\u7ECF\u8FC7\u4E00\u7CFB\u5217\u8FD0\u7B97\u540E\u624D\u80FD\u62FF\u5230\u6700\u7EC8\u7ED3\u679C\uFF0C\u5219\u53EF\u4EE5\u8003\u8651\u4F7F\u7528<code>reselect</code>\u5E93\u5BF9\u7ED3\u679C\u8FDB\u884C\u7F13\u5B58\uFF0C\u5982\u679Cprops\u503C\u672A\u53D1\u751F\u53D8\u5316\uFF0C\u5219\u7ED3\u679C\u76F4\u63A5\u4ECE\u7F13\u5B58\u4E2D\u62FF\uFF0C\u907F\u514D\u9AD8\u6602\u7684\u8FD0\u7B97\u4EE3\u4EF7</li><li><code>webpack-bundle-analyzer</code>\u5206\u6790\u5F53\u524D\u9875\u9762\u7684\u4F9D\u8D56\u5305\uFF0C\u662F\u5426\u5B58\u5728\u4E0D\u5408\u7406\u6027\uFF0C\u5982\u679C\u5B58\u5728\uFF0C\u627E\u5230\u4F18\u5316\u70B9\u5E76\u8FDB\u884C\u4F18\u5316</li></ul>",1),CB={id:"_32\u3001fiber",tabindex:"-1"},DB=n("a",{class:"header-anchor",href:"#_32\u3001fiber","aria-hidden":"true"},"#",-1),FB=s(),PB={href:"http://interview.poetries.top/excellent-docs/6-React.html#_32%E3%80%81fiber",target:"_blank",rel:"noopener noreferrer"},TB=s("#"),NB=s("32\u3001Fiber"),MB=t(`<p><strong>React \u7684\u6838\u5FC3\u6D41\u7A0B\u53EF\u4EE5\u5206\u4E3A\u4E24\u4E2A\u90E8\u5206:</strong></p><ul><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>reconciliation
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>(\u8C03\u5EA6\u7B97\u6CD5\uFF0C\u4E5F\u53EF\u79F0\u4E3A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>render
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>)</p><ul><li><p>\u66F4\u65B0 <code>state</code> \u4E0E <code>props</code>\uFF1B</p></li><li><p>\u8C03\u7528\u751F\u547D\u5468\u671F\u94A9\u5B50\uFF1B</p></li><li><p>\u751F\u6210</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>virtual dom
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u8FD9\u91CC\u5E94\u8BE5\u79F0\u4E3A <code>Fiber Tree</code> \u66F4\u4E3A\u7B26\u5408\uFF1B</li></ul></li><li><p>\u901A\u8FC7\u65B0\u65E7 vdom \u8FDB\u884C diff \u7B97\u6CD5\uFF0C\u83B7\u53D6 vdom change</p></li><li><p>\u786E\u5B9A\u662F\u5426\u9700\u8981\u91CD\u65B0\u6E32\u67D3</p></li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>commit
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u5982\u9700\u8981\uFF0C\u5219\u64CD\u4F5C <code>dom</code> \u8282\u70B9\u66F4\u65B0</li></ul></li></ul><blockquote><p>\u8981\u4E86\u89E3 Fiber\uFF0C\u6211\u4EEC\u9996\u5148\u6765\u770B\u4E3A\u4EC0\u4E48\u9700\u8981\u5B83</p></blockquote><ul><li><strong>\u95EE\u9898</strong>: \u968F\u7740\u5E94\u7528\u53D8\u5F97\u8D8A\u6765\u8D8A\u5E9E\u5927\uFF0C\u6574\u4E2A\u66F4\u65B0\u6E32\u67D3\u7684\u8FC7\u7A0B\u5F00\u59CB\u53D8\u5F97\u5403\u529B\uFF0C\u5927\u91CF\u7684\u7EC4\u4EF6\u6E32\u67D3\u4F1A\u5BFC\u81F4\u4E3B\u8FDB\u7A0B\u957F\u65F6\u95F4\u88AB\u5360\u7528\uFF0C\u5BFC\u81F4\u4E00\u4E9B\u52A8\u753B\u6216\u9AD8\u9891\u64CD\u4F5C\u51FA\u73B0\u5361\u987F\u548C\u6389\u5E27\u7684\u60C5\u51B5\u3002\u800C\u5173\u952E\u70B9\uFF0C\u4FBF\u662F \u540C\u6B65\u963B\u585E\u3002\u5728\u4E4B\u524D\u7684\u8C03\u5EA6\u7B97\u6CD5\u4E2D\uFF0CReact \u9700\u8981\u5B9E\u4F8B\u5316\u6BCF\u4E2A\u7C7B\u7EC4\u4EF6\uFF0C\u751F\u6210\u4E00\u9897\u7EC4\u4EF6\u6811\uFF0C\u4F7F\u7528 \u540C\u6B65\u9012\u5F52 \u7684\u65B9\u5F0F\u8FDB\u884C\u904D\u5386\u6E32\u67D3\uFF0C\u800C\u8FD9\u4E2A\u8FC7\u7A0B\u6700\u5927\u7684\u95EE\u9898\u5C31\u662F\u65E0\u6CD5 \u6682\u505C\u548C\u6062\u590D\u3002</li><li><strong>\u89E3\u51B3\u65B9</strong>\u6848: \u89E3\u51B3\u540C\u6B65\u963B\u585E\u7684\u65B9\u6CD5\uFF0C\u901A\u5E38\u6709\u4E24\u79CD: \u5F02\u6B65 \u4E0E \u4EFB\u52A1\u5206\u5272\u3002\u800C React Fiber \u4FBF\u662F\u4E3A\u4E86\u5B9E\u73B0\u4EFB\u52A1\u5206\u5272\u800C\u8BDE\u751F\u7684</li><li>\u7B80\u8FF0 <ul><li>\u5728 <code>React V16</code> \u5C06\u8C03\u5EA6\u7B97\u6CD5\u8FDB\u884C\u4E86\u91CD\u6784\uFF0C \u5C06\u4E4B\u524D\u7684 <code>stack reconciler</code> \u91CD\u6784\u6210\u65B0\u7248\u7684 fiber <code>reconciler</code>\uFF0C\u53D8\u6210\u4E86\u5177\u6709\u94FE\u8868\u548C\u6307\u9488\u7684 \u5355\u94FE\u8868\u6811\u904D\u5386\u7B97\u6CD5\u3002\u901A\u8FC7\u6307\u9488\u6620\u5C04\uFF0C\u6BCF\u4E2A\u5355\u5143\u90FD\u8BB0\u5F55\u7740\u904D\u5386\u5F53\u4E0B\u7684\u4E0A\u4E00\u6B65\u4E0E\u4E0B\u4E00\u6B65\uFF0C\u4ECE\u800C\u4F7F\u904D\u5386\u53D8\u5F97\u53EF\u4EE5\u88AB\u6682\u505C\u548C\u91CD\u542F</li><li>\u8FD9\u91CC\u6211\u7406\u89E3\u4E3A\u662F\u4E00\u79CD \u4EFB\u52A1\u5206\u5272\u8C03\u5EA6\u7B97\u6CD5\uFF0C\u4E3B\u8981\u662F \u5C06\u539F\u5148\u540C\u6B65\u66F4\u65B0\u6E32\u67D3\u7684\u4EFB\u52A1\u5206\u5272\u6210\u4E00\u4E2A\u4E2A\u72EC\u7ACB\u7684 \u5C0F\u4EFB\u52A1\u5355\u4F4D\uFF0C\u6839\u636E\u4E0D\u540C\u7684\u4F18\u5148\u7EA7\uFF0C\u5C06\u5C0F\u4EFB\u52A1\u5206\u6563\u5230\u6D4F\u89C8\u5668\u7684\u7A7A\u95F2\u65F6\u95F4\u6267\u884C\uFF0C\u5145\u5206\u5229\u7528\u4E3B\u8FDB\u7A0B\u7684\u4E8B\u4EF6\u5FAA\u73AF\u673A\u5236</li></ul></li><li>\u6838\u5FC3 <ul><li><code>Fiber</code> \u8FD9\u91CC\u53EF\u4EE5\u5177\u8C61\u4E3A\u4E00\u4E2A \u6570\u636E\u7ED3\u6784</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Fiber</span> <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">instance</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>instance <span class="token operator">=</span> instance
		<span class="token comment">// \u6307\u5411\u7B2C\u4E00\u4E2A child \u8282\u70B9</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>child <span class="token operator">=</span> child
		<span class="token comment">// \u6307\u5411\u7236\u8282\u70B9</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>return <span class="token operator">=</span> parent
		<span class="token comment">// \u6307\u5411\u7B2C\u4E00\u4E2A\u5144\u5F1F\u8282\u70B9</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>sibling <span class="token operator">=</span> previous
	<span class="token punctuation">}</span>	
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li><p>\u94FE\u8868\u6811\u904D\u5386\u7B97\u6CD5</p><p>: \u901A\u8FC7 \u8282\u70B9\u4FDD\u5B58\u4E0E\u6620\u5C04\uFF0C\u4FBF\u80FD\u591F\u968F\u65F6\u5730\u8FDB\u884C \u505C\u6B62\u548C\u91CD\u542F\uFF0C\u8FD9\u6837\u4FBF\u80FD\u8FBE\u5230\u5B9E\u73B0\u4EFB\u52A1\u5206\u5272\u7684\u57FA\u672C\u524D\u63D0</p><ul><li>\u9996\u5148\u901A\u8FC7\u4E0D\u65AD\u904D\u5386\u5B50\u8282\u70B9\uFF0C\u5230\u6811\u672B\u5C3E\uFF1B</li><li>\u5F00\u59CB\u901A\u8FC7 <code>sibling</code> \u904D\u5386\u5144\u5F1F\u8282\u70B9\uFF1B</li><li>return \u8FD4\u56DE\u7236\u8282\u70B9\uFF0C\u7EE7\u7EED\u6267\u884C2\uFF1B</li><li>\u76F4\u5230 root \u8282\u70B9\u540E\uFF0C\u8DF3\u51FA\u904D\u5386\uFF1B</li></ul></li><li><p>\u4EFB\u52A1\u5206\u5272</p><p>\uFF0CReact \u4E2D\u7684\u6E32\u67D3\u66F4\u65B0\u53EF\u4EE5\u5206\u6210\u4E24\u4E2A\u9636\u6BB5</p><ul><li><strong>reconciliation \u9636\u6BB5</strong>: vdom \u7684\u6570\u636E\u5BF9\u6BD4\uFF0C\u662F\u4E2A\u9002\u5408\u62C6\u5206\u7684\u9636\u6BB5\uFF0C\u6BD4\u5982\u5BF9\u6BD4\u4E00\u90E8\u5206\u6811\u540E\uFF0C\u5148\u6682\u505C\u6267\u884C\u4E2A\u52A8\u753B\u8C03\u7528\uFF0C\u5F85\u5B8C\u6210\u540E\u518D\u56DE\u6765\u7EE7\u7EED\u6BD4\u5BF9</li><li><strong>Commit \u9636\u6BB5</strong>: \u5C06 change list \u66F4\u65B0\u5230 dom \u4E0A\uFF0C\u5E76\u4E0D\u9002\u5408\u62C6\u5206\uFF0C\u624D\u80FD\u4FDD\u6301\u6570\u636E\u4E0E UI \u7684\u540C\u6B65\u3002\u5426\u5219\u53EF\u80FD\u7531\u4E8E\u963B\u585E UI \u66F4\u65B0\uFF0C\u800C\u5BFC\u81F4\u6570\u636E\u66F4\u65B0\u548C UI \u4E0D\u4E00\u81F4\u7684\u60C5\u51B5</li></ul></li><li><p>\u5206\u6563\u6267\u884C:</p><p>\u4EFB\u52A1\u5206\u5272\u540E\uFF0C\u5C31\u53EF\u4EE5\u628A\u5C0F\u4EFB\u52A1\u5355\u5143\u5206\u6563\u5230\u6D4F\u89C8\u5668\u7684\u7A7A\u95F2\u671F\u95F4\u53BB\u6392\u961F\u6267\u884C\uFF0C\u800C\u5B9E\u73B0\u7684\u5173\u952E\u662F\u4E24\u4E2A\u65B0API:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>requestIdleCallback
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u4E0E</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>requestAnimationFrame
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u4F4E\u4F18\u5148\u7EA7\u7684\u4EFB\u52A1\u4EA4\u7ED9<code>requestIdleCallback</code>\u5904\u7406\uFF0C\u8FD9\u662F\u4E2A\u6D4F\u89C8\u5668\u63D0\u4F9B\u7684\u4E8B\u4EF6\u5FAA\u73AF\u7A7A\u95F2\u671F\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u9700\u8981 <code>pollyfill</code>\uFF0C\u800C\u4E14\u62E5\u6709 <code>deadline</code> \u53C2\u6570\uFF0C\u9650\u5236\u6267\u884C\u4E8B\u4EF6\uFF0C\u4EE5\u7EE7\u7EED\u5207\u5206\u4EFB\u52A1\uFF1B</li><li>\u9AD8\u4F18\u5148\u7EA7\u7684\u4EFB\u52A1\u4EA4\u7ED9<code>requestAnimationFrame</code>\u5904\u7406\uFF1B</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7C7B\u4F3C\u4E8E\u8FD9\u6837\u7684\u65B9\u5F0F</span>
<span class="token function">requestIdleCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">deadline</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5F53\u6709\u7A7A\u95F2\u65F6\u95F4\u65F6\uFF0C\u6211\u4EEC\u6267\u884C\u4E00\u4E2A\u7EC4\u4EF6\u6E32\u67D3\uFF1B</span>
    <span class="token comment">// \u628A\u4EFB\u52A1\u585E\u5230\u4E00\u4E2A\u4E2A\u788E\u7247\u65F6\u95F4\u4E2D\u53BB\uFF1B</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>deadline<span class="token punctuation">.</span><span class="token function">timeRemaining</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">||</span> deadline<span class="token punctuation">.</span>didTimeout<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> nextComponent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        nextComponent <span class="token operator">=</span> <span class="token function">performWork</span><span class="token punctuation">(</span>nextComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><strong>\u4F18\u5148\u7EA7\u7B56\u7565:</strong> \u6587\u672C\u6846\u8F93\u5165 &gt; \u672C\u6B21\u8C03\u5EA6\u7ED3\u675F\u9700\u5B8C\u6210\u7684\u4EFB\u52A1 &gt; \u52A8\u753B\u8FC7\u6E21 &gt; \u4EA4\u4E92\u53CD\u9988 &gt; \u6570\u636E\u66F4\u65B0 &gt; \u4E0D\u4F1A\u663E\u793A\u4F46\u4EE5\u9632\u5C06\u6765\u4F1A\u663E\u793A\u7684\u4EFB\u52A1</li></ul><blockquote><ul><li>Fiber \u5176\u5B9E\u53EF\u4EE5\u7B97\u662F\u4E00\u79CD\u7F16\u7A0B\u601D\u60F3\uFF0C\u5728\u5176\u5B83\u8BED\u8A00\u4E2D\u4E5F\u6709\u8BB8\u591A\u5E94\u7528(Ruby Fiber)\u3002</li><li>\u6838\u5FC3\u601D\u60F3\u662F \u4EFB\u52A1\u62C6\u5206\u548C\u534F\u540C\uFF0C\u4E3B\u52A8\u628A\u6267\u884C\u6743\u4EA4\u7ED9\u4E3B\u7EBF\u7A0B\uFF0C\u4F7F\u4E3B\u7EBF\u7A0B\u6709\u65F6\u95F4\u7A7A\u6321\u5904\u7406\u5176\u4ED6\u9AD8\u4F18\u5148\u7EA7\u4EFB\u52A1\u3002</li><li>\u5F53\u9047\u5230\u8FDB\u7A0B\u963B\u585E\u7684\u95EE\u9898\u65F6\uFF0C\u4EFB\u52A1\u5206\u5272\u3001\u5F02\u6B65\u8C03\u7528 \u548C \u7F13\u5B58\u7B56\u7565 \u662F\u4E09\u4E2A\u663E\u8457\u7684\u89E3\u51B3\u601D\u8DEF\u3002</li></ul></blockquote>`,9),OB={id:"_33\u3001setstate",tabindex:"-1"},IB=n("a",{class:"header-anchor",href:"#_33\u3001setstate","aria-hidden":"true"},"#",-1),RB=s(),VB={href:"http://interview.poetries.top/excellent-docs/6-React.html#_33%E3%80%81setstate",target:"_blank",rel:"noopener noreferrer"},HB=s("#"),LB=s("33\u3001setState"),UB=t("<blockquote><p>\u5728\u4E86\u89E3setState\u4E4B\u524D\uFF0C\u6211\u4EEC\u5148\u6765\u7B80\u5355\u4E86\u89E3\u4E0B React \u4E00\u4E2A\u5305\u88C5\u7ED3\u6784: Transaction:</p></blockquote><p><strong>\u4E8B\u52A1 (Transaction)</strong></p><blockquote><p>\u662F React \u4E2D\u7684\u4E00\u4E2A\u8C03\u7528\u7ED3\u6784\uFF0C\u7528\u4E8E\u5305\u88C5\u4E00\u4E2A\u65B9\u6CD5\uFF0C\u7ED3\u6784\u4E3A: initialize - perform(method) - close\u3002\u901A\u8FC7\u4E8B\u52A1\uFF0C\u53EF\u4EE5\u7EDF\u4E00\u7BA1\u7406\u4E00\u4E2A\u65B9\u6CD5\u7684\u5F00\u59CB\u4E0E\u7ED3\u675F\uFF1B\u5904\u4E8E\u4E8B\u52A1\u6D41\u4E2D\uFF0C\u8868\u793A\u8FDB\u7A0B\u6B63\u5728\u6267\u884C\u4E00\u4E9B\u64CD\u4F5C</p></blockquote><ul><li>setState: React \u4E2D\u7528\u4E8E\u4FEE\u6539\u72B6\u6001\uFF0C\u66F4\u65B0\u89C6\u56FE\u3002\u5B83\u5177\u6709\u4EE5\u4E0B\u7279\u70B9:</li></ul><p><strong>\u5F02\u6B65\u4E0E\u540C\u6B65:</strong> setState\u5E76\u4E0D\u662F\u5355\u7EAF\u7684\u5F02\u6B65\u6216\u540C\u6B65\uFF0C\u8FD9\u5176\u5B9E\u4E0E\u8C03\u7528\u65F6\u7684\u73AF\u5883\u76F8\u5173:</p><ul><li><p>\u5728</p><p>\u5408\u6210\u4E8B\u4EF6</p><p>\u548C</p><p>\u751F\u547D\u5468\u671F\u94A9\u5B50</p><p>(\u9664 componentDidUpdate) \u4E2D\uFF0CsetState\u662F&quot;\u5F02\u6B65&quot;\u7684\uFF1B</p><ul><li>\u539F\u56E0: \u56E0\u4E3A\u5728setState\u7684\u5B9E\u73B0\u4E2D\uFF0C\u6709\u4E00\u4E2A\u5224\u65AD: \u5F53\u66F4\u65B0\u7B56\u7565\u6B63\u5728\u4E8B\u52A1\u6D41\u7684\u6267\u884C\u4E2D\u65F6\uFF0C\u8BE5\u7EC4\u4EF6\u66F4\u65B0\u4F1A\u88AB\u63A8\u5165dirtyComponents\u961F\u5217\u4E2D\u7B49\u5F85\u6267\u884C\uFF1B\u5426\u5219\uFF0C\u5F00\u59CB\u6267\u884CbatchedUpdates\u961F\u5217\u66F4\u65B0\uFF1B <ul><li>\u5728\u751F\u547D\u5468\u671F\u94A9\u5B50\u8C03\u7528\u4E2D\uFF0C\u66F4\u65B0\u7B56\u7565\u90FD\u5904\u4E8E\u66F4\u65B0\u4E4B\u524D\uFF0C\u7EC4\u4EF6\u4ECD\u5904\u4E8E\u4E8B\u52A1\u6D41\u4E2D\uFF0C\u800CcomponentDidUpdate\u662F\u5728\u66F4\u65B0\u4E4B\u540E\uFF0C\u6B64\u65F6\u7EC4\u4EF6\u5DF2\u7ECF\u4E0D\u5728\u4E8B\u52A1\u6D41\u4E2D\u4E86\uFF0C\u56E0\u6B64\u5219\u4F1A\u540C\u6B65\u6267\u884C\uFF1B</li><li>\u5728\u5408\u6210\u4E8B\u4EF6\u4E2D\uFF0CReact \u662F\u57FA\u4E8E \u4E8B\u52A1\u6D41\u5B8C\u6210\u7684\u4E8B\u4EF6\u59D4\u6258\u673A\u5236 \u5B9E\u73B0\uFF0C\u4E5F\u662F\u5904\u4E8E\u4E8B\u52A1\u6D41\u4E2D\uFF1B</li></ul></li><li>\u95EE\u9898: \u65E0\u6CD5\u5728setState\u540E\u9A6C\u4E0A\u4ECEthis.state\u4E0A\u83B7\u53D6\u66F4\u65B0\u540E\u7684\u503C\u3002</li><li>\u89E3\u51B3: \u5982\u679C\u9700\u8981\u9A6C\u4E0A\u540C\u6B65\u53BB\u83B7\u53D6\u65B0\u503C\uFF0CsetState\u5176\u5B9E\u662F\u53EF\u4EE5\u4F20\u5165\u7B2C\u4E8C\u4E2A\u53C2\u6570\u7684\u3002setState(updater, callback)\uFF0C\u5728\u56DE\u8C03\u4E2D\u5373\u53EF\u83B7\u53D6\u6700\u65B0\u503C\uFF1B</li></ul></li><li><p>\u5728</p><p>\u539F\u751F\u4E8B\u4EF6</p><p>\u548C setTimeout \u4E2D\uFF0CsetState\u662F\u540C\u6B65\u7684\uFF0C\u53EF\u4EE5\u9A6C\u4E0A\u83B7\u53D6\u66F4\u65B0\u540E\u7684\u503C\uFF1B</p><ul><li>\u539F\u56E0: \u539F\u751F\u4E8B\u4EF6\u662F\u6D4F\u89C8\u5668\u672C\u8EAB\u7684\u5B9E\u73B0\uFF0C\u4E0E\u4E8B\u52A1\u6D41\u65E0\u5173\uFF0C\u81EA\u7136\u662F\u540C\u6B65\uFF1B\u800CsetTimeout\u662F\u653E\u7F6E\u4E8E\u5B9A\u65F6\u5668\u7EBF\u7A0B\u4E2D\u5EF6\u540E\u6267\u884C\uFF0C\u6B64\u65F6\u4E8B\u52A1\u6D41\u5DF2\u7ED3\u675F\uFF0C\u56E0\u6B64\u4E5F\u662F\u540C\u6B65\uFF1B</li></ul></li><li><p><strong>\u6279\u91CF\u66F4\u65B0</strong>: \u5728 \u5408\u6210\u4E8B\u4EF6 \u548C \u751F\u547D\u5468\u671F\u94A9\u5B50 \u4E2D\uFF0CsetState\u66F4\u65B0\u961F\u5217\u65F6\uFF0C\u5B58\u50A8\u7684\u662F \u5408\u5E76\u72B6\u6001(Object.assign)\u3002\u56E0\u6B64\u524D\u9762\u8BBE\u7F6E\u7684 key \u503C\u4F1A\u88AB\u540E\u9762\u6240\u8986\u76D6\uFF0C\u6700\u7EC8\u53EA\u4F1A\u6267\u884C\u4E00\u6B21\u66F4\u65B0\uFF1B</p></li><li><p>\u51FD\u6570\u5F0F</p><p>: \u7531\u4E8E Fiber \u53CA \u5408\u5E76 \u7684\u95EE\u9898\uFF0C\u5B98\u65B9\u63A8\u8350\u53EF\u4EE5\u4F20\u5165 \u51FD\u6570 \u7684\u5F62\u5F0F\u3002setState(fn)\uFF0C\u5728fn\u4E2D\u8FD4\u56DE\u65B0\u7684state\u5BF9\u8C61\u5373\u53EF\uFF0C\u4F8B\u5982this.setState((state, props) =&gt; newState)\uFF1B</p><ul><li>\u4F7F\u7528\u51FD\u6570\u5F0F\uFF0C\u53EF\u4EE5\u7528\u4E8E\u907F\u514DsetState\u7684\u6279\u91CF\u66F4\u65B0\u7684\u903B\u8F91\uFF0C\u4F20\u5165\u7684\u51FD\u6570\u5C06\u4F1A\u88AB \u987A\u5E8F\u8C03\u7528\uFF1B</li></ul></li></ul><p><strong>\u6CE8\u610F\u4E8B\u9879:</strong></p><ul><li>setState \u5408\u5E76\uFF0C\u5728 \u5408\u6210\u4E8B\u4EF6 \u548C \u751F\u547D\u5468\u671F\u94A9\u5B50 \u4E2D\u591A\u6B21\u8FDE\u7EED\u8C03\u7528\u4F1A\u88AB\u4F18\u5316\u4E3A\u4E00\u6B21\uFF1B</li><li>\u5F53\u7EC4\u4EF6\u5DF2\u88AB\u9500\u6BC1\uFF0C\u5982\u679C\u518D\u6B21\u8C03\u7528setState\uFF0CReact \u4F1A\u62A5\u9519\u8B66\u544A\uFF0C\u901A\u5E38\u6709\u4E24\u79CD\u89E3\u51B3\u529E\u6CD5 <ul><li>\u5C06\u6570\u636E\u6302\u8F7D\u5230\u5916\u90E8\uFF0C\u901A\u8FC7 props \u4F20\u5165\uFF0C\u5982\u653E\u5230 Redux \u6216 \u7236\u7EA7\u4E2D\uFF1B</li><li>\u5728\u7EC4\u4EF6\u5185\u90E8\u7EF4\u62A4\u4E00\u4E2A\u72B6\u6001\u91CF (isUnmounted)\uFF0CcomponentWillUnmount\u4E2D\u6807\u8BB0\u4E3A true\uFF0C\u5728setState\u524D\u8FDB\u884C\u5224\u65AD\uFF1B</li></ul></li></ul>",8),JB={id:"_34\u3001hoc-\u9AD8\u9636\u7EC4\u4EF6",tabindex:"-1"},WB=n("a",{class:"header-anchor",href:"#_34\u3001hoc-\u9AD8\u9636\u7EC4\u4EF6","aria-hidden":"true"},"#",-1),zB=s(),GB={href:"http://interview.poetries.top/excellent-docs/6-React.html#_34%E3%80%81hoc-%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},$B=s("#"),XB=s("34\u3001HOC(\u9AD8\u9636\u7EC4\u4EF6)"),KB=t(`<blockquote><p>HOC(Higher Order Componennt) \u662F\u5728 React \u673A\u5236\u4E0B\u793E\u533A\u5F62\u6210\u7684\u4E00\u79CD\u7EC4\u4EF6\u6A21\u5F0F\uFF0C\u5728\u5F88\u591A\u7B2C\u4E09\u65B9\u5F00\u6E90\u5E93\u4E2D\u8868\u73B0\u5F3A\u5927\u3002</p></blockquote><p><strong>\u7B80\u8FF0:</strong></p><ul><li>\u9AD8\u9636\u7EC4\u4EF6\u4E0D\u662F\u7EC4\u4EF6\uFF0C\u662F \u589E\u5F3A\u51FD\u6570\uFF0C\u53EF\u4EE5\u8F93\u5165\u4E00\u4E2A\u5143\u7EC4\u4EF6\uFF0C\u8FD4\u56DE\u51FA\u4E00\u4E2A\u65B0\u7684\u589E\u5F3A\u7EC4\u4EF6\uFF1B</li><li>\u9AD8\u9636\u7EC4\u4EF6\u7684\u4E3B\u8981\u4F5C\u7528\u662F \u4EE3\u7801\u590D\u7528\uFF0C\u64CD\u4F5C \u72B6\u6001\u548C\u53C2\u6570\uFF1B</li></ul><p><strong>\u7528\u6CD5:</strong></p><ul><li>\u5C5E\u6027\u4EE3\u7406 (Props Proxy): \u8FD4\u56DE\u51FA\u4E00\u4E2A\u7EC4\u4EF6\uFF0C\u5B83\u57FA\u4E8E\u88AB\u5305\u88F9\u7EC4\u4EF6\u8FDB\u884C \u529F\u80FD\u589E\u5F3A\uFF1B</li></ul><ol><li>\u9ED8\u8BA4\u53C2\u6570: \u53EF\u4EE5\u4E3A\u7EC4\u4EF6\u5305\u88F9\u4E00\u5C42\u9ED8\u8BA4\u53C2\u6570\uFF1B</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">proxyHoc</span><span class="token punctuation">(</span><span class="token parameter">Comp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> React<span class="token punctuation">.</span>Component <span class="token punctuation">{</span>
		<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> newProps <span class="token operator">=</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;tayde&#39;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token operator">&lt;</span>Comp <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token operator">...</span>newProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol><li>\u63D0\u53D6\u72B6\u6001: \u53EF\u4EE5\u901A\u8FC7 props \u5C06\u88AB\u5305\u88F9\u7EC4\u4EF6\u4E2D\u7684 state \u4F9D\u8D56\u5916\u5C42\uFF0C\u4F8B\u5982\u7528\u4E8E\u8F6C\u6362\u53D7\u63A7\u7EC4\u4EF6:</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">withOnChange</span><span class="token punctuation">(</span><span class="token parameter">Comp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> React<span class="token punctuation">.</span>Component <span class="token punctuation">{</span>
		<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token function-variable function">onChangeName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;dongdong&#39;</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> newProps <span class="token operator">=</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
				<span class="token literal-property property">onChange</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onChangeName<span class="token punctuation">,</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token operator">&lt;</span>Comp <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token operator">...</span>newProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>\u4F7F\u7528\u59FF\u52BF\u5982\u4E0B\uFF0C\u8FD9\u6837\u5C31\u80FD\u975E\u5E38\u5FEB\u901F\u7684\u5C06\u4E00\u4E2A Input \u7EC4\u4EF6\u8F6C\u5316\u6210\u53D7\u63A7\u7EC4\u4EF6\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">NameInput</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>input name<span class="token operator">=</span><span class="token string">&quot;name&quot;</span> <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withOnChange</span><span class="token punctuation">(</span>NameInput<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>\u5305\u88F9\u7EC4\u4EF6: \u53EF\u4EE5\u4E3A\u88AB\u5305\u88F9\u5143\u7D20\u8FDB\u884C\u4E00\u5C42\u5305\u88C5\uFF0C</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">withMask</span><span class="token punctuation">(</span><span class="token parameter">Comp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> React<span class="token punctuation">.</span>Component <span class="token punctuation">{</span>
      <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		  <span class="token keyword">return</span> <span class="token punctuation">(</span>
		      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
				  <span class="token operator">&lt;</span>Comp <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
					<span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
					  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">&#39;100%&#39;</span><span class="token punctuation">,</span>
					  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">&#39;100%&#39;</span><span class="token punctuation">,</span>
					  <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">&#39;rgba(0, 0, 0, .6)&#39;</span><span class="token punctuation">,</span>
				  <span class="token punctuation">}</span><span class="token punctuation">}</span> 
			  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
		  <span class="token punctuation">)</span>
	  <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p><strong>\u53CD\u5411\u7EE7\u627F</strong> (Inheritance Inversion): \u8FD4\u56DE\u51FA\u4E00\u4E2A\u7EC4\u4EF6\uFF0C\u7EE7\u627F\u4E8E\u88AB\u5305\u88F9\u7EC4\u4EF6\uFF0C\u5E38\u7528\u4E8E\u4EE5\u4E0B\u64CD\u4F5C</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">IIHoc</span><span class="token punctuation">(</span><span class="token parameter">Comp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Comp <span class="token punctuation">{</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>\u6E32\u67D3\u52AB\u6301 (Render Highjacking)</strong></p><p>\u6761\u4EF6\u6E32\u67D3: \u6839\u636E\u6761\u4EF6\uFF0C\u6E32\u67D3\u4E0D\u540C\u7684\u7EC4\u4EF6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">withLoading</span><span class="token punctuation">(</span><span class="token parameter">Comp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Comp <span class="token punctuation">{</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>isLoading<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token operator">&lt;</span>Loading <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u88AB\u5305\u88F9\u7EC4\u4EF6\u6E32\u67D3\u51FA\u7684 React \u5143\u7D20\u6811</p><p><strong>\u64CD\u4F5C\u72B6\u6001 (Operate State)</strong>: \u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7 this.state \u83B7\u53D6\u5230\u88AB\u5305\u88F9\u7EC4\u4EF6\u7684\u72B6\u6001\uFF0C\u5E76\u8FDB\u884C\u64CD\u4F5C\u3002\u4F46\u8FD9\u6837\u7684\u64CD\u4F5C\u5BB9\u6613\u4F7F state \u53D8\u5F97\u96BE\u4EE5\u8FFD\u8E2A\uFF0C\u4E0D\u6613\u7EF4\u62A4\uFF0C\u8C28\u614E\u4F7F\u7528\u3002</p><p><strong>\u5E94\u7528\u573A\u666F:</strong></p><blockquote><p>\u6743\u9650\u63A7\u5236\uFF0C\u901A\u8FC7\u62BD\u8C61\u903B\u8F91\uFF0C\u7EDF\u4E00\u5BF9\u9875\u9762\u8FDB\u884C\u6743\u9650\u5224\u65AD\uFF0C\u6309\u4E0D\u540C\u7684\u6761\u4EF6\u8FDB\u884C\u9875\u9762\u6E32\u67D3:</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">withAdminAuth</span><span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> React<span class="token punctuation">.</span>Component <span class="token punctuation">{</span>
		<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
		    	<span class="token literal-property property">isAdmin</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> 
		<span class="token keyword">async</span> <span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		    <span class="token keyword">const</span> currentRole <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getCurrentUserRole</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		        <span class="token literal-property property">isAdmin</span><span class="token operator">:</span> currentRole <span class="token operator">===</span> <span class="token string">&#39;Admin&#39;</span><span class="token punctuation">,</span>
		    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isAdmin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		        <span class="token keyword">return</span> <span class="token operator">&lt;</span>Comp <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
		    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>\u60A8\u6CA1\u6709\u6743\u9650\u67E5\u770B\u8BE5\u9875\u9762\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\uFF01<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		    <span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>\u6027\u80FD\u76D1\u63A7</strong>\uFF0C\u5305\u88F9\u7EC4\u4EF6\u7684\u751F\u547D\u5468\u671F\uFF0C\u8FDB\u884C\u7EDF\u4E00\u57CB\u70B9:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">withTiming</span><span class="token punctuation">(</span><span class="token parameter">Comp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Comp <span class="token punctuation">{</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>start <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>end <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">.</span>componentDidMount <span class="token operator">&amp;&amp;</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>end <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>WrappedComponent<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> \u7EC4\u4EF6\u6E32\u67D3\u65F6\u95F4\u4E3A </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>end <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>start<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> ms</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>\u4EE3\u7801\u590D\u7528\uFF0C\u53EF\u4EE5\u5C06\u91CD\u590D\u7684\u903B\u8F91\u8FDB\u884C\u62BD\u8C61\u3002</p><p><strong>\u4F7F\u7528\u6CE8\u610F:</strong></p><ul><li><p>\u7EAF\u51FD\u6570: \u589E\u5F3A\u51FD\u6570\u5E94\u4E3A\u7EAF\u51FD\u6570\uFF0C\u907F\u514D\u4FB5\u5165\u4FEE\u6539\u5143\u7EC4\u4EF6\uFF1B</p></li><li><p>\u907F\u514D\u7528\u6CD5\u6C61\u67D3: \u7406\u60F3\u72B6\u6001\u4E0B\uFF0C\u5E94\u900F\u4F20\u5143\u7EC4\u4EF6\u7684\u65E0\u5173\u53C2\u6570\u4E0E\u4E8B\u4EF6\uFF0C\u5C3D\u91CF\u4FDD\u8BC1\u7528\u6CD5\u4E0D\u53D8\uFF1B</p></li><li><p>\u547D\u540D\u7A7A\u95F4: \u4E3A HOC \u589E\u52A0\u7279\u5F02\u6027\u7684\u7EC4\u4EF6\u540D\u79F0\uFF0C\u8FD9\u6837\u80FD\u4FBF\u4E8E\u5F00\u53D1\u8C03\u8BD5\u548C\u67E5\u627E\u95EE\u9898\uFF1B</p></li><li><p><strong>\u5F15\u7528\u4F20\u9012</strong>: \u5982\u679C\u9700\u8981\u4F20\u9012\u5143\u7EC4\u4EF6\u7684 refs \u5F15\u7528\uFF0C\u53EF\u4EE5\u4F7F\u7528React.forwardRef\uFF1B</p></li><li><p>\u9759\u6001\u65B9\u6CD5</p><p>: \u5143\u7EC4\u4EF6\u4E0A\u7684\u9759\u6001\u65B9\u6CD5\u5E76\u65E0\u6CD5\u88AB\u81EA\u52A8\u4F20\u51FA\uFF0C\u4F1A\u5BFC\u81F4\u4E1A\u52A1\u5C42\u65E0\u6CD5\u8C03\u7528\uFF1B\u89E3\u51B3:</p><ul><li>\u51FD\u6570\u5BFC\u51FA</li><li>\u9759\u6001\u65B9\u6CD5\u8D4B\u503C</li></ul></li><li><p><strong>\u91CD\u65B0\u6E32</strong>\u67D3: \u7531\u4E8E\u589E\u5F3A\u51FD\u6570\u6BCF\u6B21\u8C03\u7528\u662F\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7EC4\u4EF6\uFF0C\u56E0\u6B64\u5982\u679C\u5728 Render\u4E2D\u4F7F\u7528\u589E\u5F3A\u51FD\u6570\uFF0C\u5C31\u4F1A\u5BFC\u81F4\u6BCF\u6B21\u90FD\u91CD\u65B0\u6E32\u67D3\u6574\u4E2AHOC\uFF0C\u800C\u4E14\u4E4B\u524D\u7684\u72B6\u6001\u4F1A\u4E22\u5931\uFF1B</p></li></ul>`,28),QB={id:"_35\u3001react\u5982\u4F55\u8FDB\u884C\u7EC4\u4EF6-\u903B\u8F91\u590D\u7528",tabindex:"-1"},YB=n("a",{class:"header-anchor",href:"#_35\u3001react\u5982\u4F55\u8FDB\u884C\u7EC4\u4EF6-\u903B\u8F91\u590D\u7528","aria-hidden":"true"},"#",-1),ZB=s(),nq={href:"http://interview.poetries.top/excellent-docs/6-React.html#_35%E3%80%81react%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E7%BB%84%E4%BB%B6-%E9%80%BB%E8%BE%91%E5%A4%8D%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},sq=s("#"),aq=s("35\u3001React\u5982\u4F55\u8FDB\u884C\u7EC4\u4EF6/\u903B\u8F91\u590D\u7528?"),eq=n("blockquote",null,[n("p",null,"\u629B\u5F00\u5DF2\u7ECF\u88AB\u5B98\u65B9\u5F03\u7528\u7684Mixin,\u7EC4\u4EF6\u62BD\u8C61\u7684\u6280\u672F\u76EE\u524D\u6709\u4E09\u79CD\u6BD4\u8F83\u4E3B\u6D41:")],-1),tq=n("ul",null,[n("li",null,[s("\u9AD8\u9636\u7EC4\u4EF6: "),n("ul",null,[n("li",null,"\u5C5E\u6027\u4EE3\u7406"),n("li",null,"\u53CD\u5411\u7EE7\u627F")])]),n("li",null,"\u6E32\u67D3\u5C5E\u6027"),n("li",null,"react-hooks")],-1),pq={id:"_36\u3001\u4F60\u5BF9-time-slice\u7684\u7406\u89E3",tabindex:"-1"},oq=n("a",{class:"header-anchor",href:"#_36\u3001\u4F60\u5BF9-time-slice\u7684\u7406\u89E3","aria-hidden":"true"},"#",-1),cq=s(),lq={href:"http://interview.poetries.top/excellent-docs/6-React.html#_36%E3%80%81%E4%BD%A0%E5%AF%B9-time-slice%E7%9A%84%E7%90%86%E8%A7%A3",target:"_blank",rel:"noopener noreferrer"},rq=s("#"),iq=s("36\u3001\u4F60\u5BF9 Time Slice\u7684\u7406\u89E3?"),uq=n("p",null,[n("strong",null,"\u65F6\u95F4\u5206\u7247")],-1),kq=n("ul",null,[n("li",null,"React \u5728\u6E32\u67D3\uFF08render\uFF09\u7684\u65F6\u5019\uFF0C\u4E0D\u4F1A\u963B\u585E\u73B0\u5728\u7684\u7EBF\u7A0B"),n("li",null,"\u5982\u679C\u4F60\u7684\u8BBE\u5907\u8DB3\u591F\u5FEB\uFF0C\u4F60\u4F1A\u611F\u89C9\u6E32\u67D3\u662F\u540C\u6B65\u7684"),n("li",null,"\u5982\u679C\u4F60\u8BBE\u5907\u975E\u5E38\u6162\uFF0C\u4F60\u4F1A\u611F\u89C9\u8FD8\u7B97\u662F\u7075\u654F\u7684"),n("li",null,"\u867D\u7136\u662F\u5F02\u6B65\u6E32\u67D3\uFF0C\u4F46\u662F\u4F60\u5C06\u4F1A\u770B\u5230\u5B8C\u6574\u7684\u6E32\u67D3\uFF0C\u800C\u4E0D\u662F\u4E00\u4E2A\u7EC4\u4EF6\u4E00\u884C\u884C\u7684\u6E32\u67D3\u51FA\u6765"),n("li",null,"\u540C\u6837\u4E66\u5199\u7EC4\u4EF6\u7684\u65B9\u5F0F")],-1),dq=n("blockquote",null,[n("p",null,"\u4E5F\u5C31\u662F\u8BF4\uFF0C\u8FD9\u662FReact\u80CC\u540E\u5728\u505A\u7684\u4E8B\u60C5\uFF0C\u5BF9\u4E8E\u6211\u4EEC\u5F00\u53D1\u8005\u6765\u8BF4\uFF0C\u662F\u900F\u660E\u7684\uFF0C\u5177\u4F53\u662F\u4EC0\u4E48\u6837\u7684\u6548\u679C\u5462\uFF1F")],-1),bq={id:"_37\u3001setstate\u5230\u5E95\u662F\u5F02\u6B65\u8FD8\u662F\u540C\u6B65",tabindex:"-1"},mq=n("a",{class:"header-anchor",href:"#_37\u3001setstate\u5230\u5E95\u662F\u5F02\u6B65\u8FD8\u662F\u540C\u6B65","aria-hidden":"true"},"#",-1),hq=s(),_q={href:"http://interview.poetries.top/excellent-docs/6-React.html#_37%E3%80%81setstate%E5%88%B0%E5%BA%95%E6%98%AF%E5%BC%82%E6%AD%A5%E8%BF%98%E6%98%AF%E5%90%8C%E6%AD%A5",target:"_blank",rel:"noopener noreferrer"},gq=s("#"),Eq=s("37\u3001setState\u5230\u5E95\u662F\u5F02\u6B65\u8FD8\u662F\u540C\u6B65?"),fq=t("<blockquote><p>\u5148\u7ED9\u51FA\u7B54\u6848: \u6709\u65F6\u8868\u73B0\u51FA\u5F02\u6B65,\u6709\u65F6\u8868\u73B0\u51FA\u540C\u6B65</p></blockquote><ul><li><code>setState</code>\u53EA\u5728\u5408\u6210\u4E8B\u4EF6\u548C\u94A9\u5B50\u51FD\u6570\u4E2D\u662F\u201C\u5F02\u6B65\u201D\u7684\uFF0C\u5728\u539F\u751F\u4E8B\u4EF6\u548C<code>setTimeout</code> \u4E2D\u90FD\u662F\u540C\u6B65\u7684</li><li><code>setState</code> \u7684\u201C\u5F02\u6B65\u201D\u5E76\u4E0D\u662F\u8BF4\u5185\u90E8\u7531\u5F02\u6B65\u4EE3\u7801\u5B9E\u73B0\uFF0C\u5176\u5B9E\u672C\u8EAB\u6267\u884C\u7684\u8FC7\u7A0B\u548C\u4EE3\u7801\u90FD\u662F\u540C\u6B65\u7684\uFF0C\u53EA\u662F\u5408\u6210\u4E8B\u4EF6\u548C\u94A9\u5B50\u51FD\u6570\u7684\u8C03\u7528\u987A\u5E8F\u5728\u66F4\u65B0\u4E4B\u524D\uFF0C\u5BFC\u81F4\u5728\u5408\u6210\u4E8B\u4EF6\u548C\u94A9\u5B50\u51FD\u6570\u4E2D\u6CA1\u6CD5\u7ACB\u9A6C\u62FF\u5230\u66F4\u65B0\u540E\u7684\u503C\uFF0C\u5F62\u6210\u4E86\u6240\u8C13\u7684\u201C\u5F02\u6B65\u201D\uFF0C\u5F53\u7136\u53EF\u4EE5\u901A\u8FC7\u7B2C\u4E8C\u4E2A\u53C2\u6570<code>setState(partialState, callback)</code>\u4E2D\u7684<code>callback</code>\u62FF\u5230\u66F4\u65B0\u540E\u7684\u7ED3\u679C</li><li><code>setState</code> \u7684\u6279\u91CF\u66F4\u65B0\u4F18\u5316\u4E5F\u662F\u5EFA\u7ACB\u5728\u201C\u5F02\u6B65\u201D\uFF08\u5408\u6210\u4E8B\u4EF6\u3001\u94A9\u5B50\u51FD\u6570\uFF09\u4E4B\u4E0A\u7684\uFF0C\u5728\u539F\u751F\u4E8B\u4EF6\u548C<code>setTimeout</code> \u4E2D\u4E0D\u4F1A\u6279\u91CF\u66F4\u65B0\uFF0C\u5728\u201C\u5F02\u6B65\u201D\u4E2D\u5982\u679C\u5BF9\u540C\u4E00\u4E2A\u503C\u8FDB\u884C\u591A\u6B21<code>setState</code>\uFF0C<code>setState</code>\u7684\u6279\u91CF\u66F4\u65B0\u7B56\u7565\u4F1A\u5BF9\u5176\u8FDB\u884C\u8986\u76D6\uFF0C\u53D6\u6700\u540E\u4E00\u6B21\u7684\u6267\u884C\uFF0C\u5982\u679C\u662F\u540C\u65F6<code>setState</code>\u591A\u4E2A\u4E0D\u540C\u7684\u503C\uFF0C\u5728\u66F4\u65B0\u65F6\u4F1A\u5BF9\u5176\u8FDB\u884C\u5408\u5E76\u6279\u91CF\u66F4\u65B0</li></ul>",2),vq={id:"_38-react-diff-\u7B97\u6CD5",tabindex:"-1"},wq=n("a",{class:"header-anchor",href:"#_38-react-diff-\u7B97\u6CD5","aria-hidden":"true"},"#",-1),yq=s(),xq={href:"http://interview.poetries.top/excellent-docs/6-React.html#_38-react-diff-%E7%AE%97%E6%B3%95",target:"_blank",rel:"noopener noreferrer"},Aq=s("#"),Bq=s("38 react diff \u7B97\u6CD5"),qq=t('<p><img src="http://img-repo.poetries.top/images/20210307225249.png" alt="img"></p><p><strong>diff\u7B97\u6CD5\u7684\u4F5C\u7528</strong></p><p>\u8BA1\u7B97\u51FAVirtual DOM\u4E2D\u771F\u6B63\u53D8\u5316\u7684\u90E8\u5206\uFF0C\u5E76\u53EA\u9488\u5BF9\u8BE5\u90E8\u5206\u8FDB\u884C\u539F\u751FDOM\u64CD\u4F5C\uFF0C\u800C\u975E\u91CD\u65B0\u6E32\u67D3\u6574\u4E2A\u9875\u9762\u3002</p><p><strong>\u4F20\u7EDFdiff\u7B97\u6CD5</strong></p><blockquote><p>\u901A\u8FC7\u5FAA\u73AF\u9012\u5F52\u5BF9\u8282\u70B9\u8FDB\u884C\u4F9D\u6B21\u5BF9\u6BD4\uFF0C\u7B97\u6CD5\u590D\u6742\u5EA6\u8FBE\u5230 <code>O(n^3)</code> \uFF0Cn\u662F\u6811\u7684\u8282\u70B9\u6570\uFF0C\u8FD9\u4E2A\u6709\u591A\u53EF\u6015\u5462\uFF1F\u2014\u2014\u5982\u679C\u8981\u5C55\u793A1000\u4E2A\u8282\u70B9\uFF0C\u5F97\u6267\u884C\u4E0A\u4EBF\u6B21\u6BD4\u8F83\u3002\u3002\u5373\u4FBF\u662FCPU\u5FEB\u80FD\u6267\u884C30\u4EBF\u6761\u547D\u4EE4\uFF0C\u4E5F\u5F88\u96BE\u5728\u4E00\u79D2\u5185\u8BA1\u7B97\u51FA\u5DEE\u5F02\u3002</p></blockquote><p><strong>React\u7684diff\u7B97\u6CD5</strong></p><ol><li>\u4EC0\u4E48\u662F\u8C03\u548C\uFF1F</li></ol><blockquote><p>\u5C06Virtual DOM\u6811\u8F6C\u6362\u6210actual DOM\u6811\u7684\u6700\u5C11\u64CD\u4F5C\u7684\u8FC7\u7A0B \u79F0\u4E3A \u8C03\u548C \u3002</p></blockquote><ol><li>\u4EC0\u4E48\u662FReact diff\u7B97\u6CD5\uFF1F</li></ol><blockquote><p><code>diff</code>\u7B97\u6CD5\u662F\u8C03\u548C\u7684\u5177\u4F53\u5B9E\u73B0\u3002</p></blockquote><p><strong>diff\u7B56\u7565</strong></p><blockquote><p>React\u7528 \u4E09\u5927\u7B56\u7565 \u5C06O(n^3)\u590D\u6742\u5EA6 \u8F6C\u5316\u4E3A O(n)\u590D\u6742\u5EA6</p></blockquote><p><strong>\u7B56\u7565\u4E00\uFF08tree diff\uFF09\uFF1A</strong></p><ul><li>Web UI\u4E2DDOM\u8282\u70B9\u8DE8\u5C42\u7EA7\u7684\u79FB\u52A8\u64CD\u4F5C\u7279\u522B\u5C11\uFF0C\u53EF\u4EE5\u5FFD\u7565\u4E0D\u8BA1\u3002</li></ul><p><strong>\u7B56\u7565\u4E8C\uFF08component diff\uFF09\uFF1A</strong></p><ul><li>\u62E5\u6709\u76F8\u540C\u7C7B\u7684\u4E24\u4E2A\u7EC4\u4EF6 \u751F\u6210\u76F8\u4F3C\u7684\u6811\u5F62\u7ED3\u6784\uFF0C</li><li>\u62E5\u6709\u4E0D\u540C\u7C7B\u7684\u4E24\u4E2A\u7EC4\u4EF6 \u751F\u6210\u4E0D\u540C\u7684\u6811\u5F62\u7ED3\u6784\u3002</li></ul><p><strong>\u7B56\u7565\u4E09\uFF08element diff\uFF09\uFF1A</strong></p><p>\u5BF9\u4E8E\u540C\u4E00\u5C42\u7EA7\u7684\u4E00\u7EC4\u5B50\u8282\u70B9\uFF0C\u901A\u8FC7\u552F\u4E00id\u533A\u5206\u3002</p><p><strong>tree diff</strong></p><ul><li>React\u901A\u8FC7updateDepth\u5BF9Virtual DOM\u6811\u8FDB\u884C\u5C42\u7EA7\u63A7\u5236\u3002</li><li>\u5BF9\u6811\u5206\u5C42\u6BD4\u8F83\uFF0C\u4E24\u68F5\u6811 \u53EA\u5BF9\u540C\u4E00\u5C42\u6B21\u8282\u70B9 \u8FDB\u884C\u6BD4\u8F83\u3002\u5982\u679C\u8BE5\u8282\u70B9\u4E0D\u5B58\u5728\u65F6\uFF0C\u5219\u8BE5\u8282\u70B9\u53CA\u5176\u5B50\u8282\u70B9\u4F1A\u88AB\u5B8C\u5168\u5220\u9664\uFF0C\u4E0D\u4F1A\u518D\u8FDB\u4E00\u6B65\u6BD4\u8F83\u3002</li><li>\u53EA\u9700\u904D\u5386\u4E00\u6B21\uFF0C\u5C31\u80FD\u5B8C\u6210\u6574\u68F5DOM\u6811\u7684\u6BD4\u8F83\u3002</li></ul><p><img src="http://img-repo.poetries.top/images/image-20210307224725566.png" alt="image-20210307224725566"></p><p>\u90A3\u4E48\u95EE\u9898\u6765\u4E86\uFF0C\u5982\u679CDOM\u8282\u70B9\u51FA\u73B0\u4E86\u8DE8\u5C42\u7EA7\u64CD\u4F5C,diff\u4F1A\u548B\u529E\u5462\uFF1F</p><blockquote><p>\u7B54\uFF1Adiff\u53EA\u7B80\u5355\u8003\u8651\u540C\u5C42\u7EA7\u7684\u8282\u70B9\u4F4D\u7F6E\u53D8\u6362\uFF0C\u5982\u679C\u662F\u8DE8\u5C42\u7EA7\u7684\u8BDD\uFF0C\u53EA\u6709\u521B\u5EFA\u8282\u70B9\u548C\u5220\u9664\u8282\u70B9\u7684\u64CD\u4F5C\u3002</p></blockquote><p><img src="http://img-repo.poetries.top/images/image-20210307224829092.png" alt="image-20210307224829092"></p><blockquote><p>\u5982\u4E0A\u56FE\u6240\u793A\uFF0C\u4EE5A\u4E3A\u6839\u8282\u70B9\u7684\u6574\u68F5\u6811\u4F1A\u88AB\u91CD\u65B0\u521B\u5EFA\uFF0C\u800C\u4E0D\u662F\u79FB\u52A8\uFF0C\u56E0\u6B64 \u5B98\u65B9\u5EFA\u8BAE\u4E0D\u8981\u8FDB\u884CDOM\u8282\u70B9\u8DE8\u5C42\u7EA7\u64CD\u4F5C\uFF0C\u53EF\u4EE5\u901A\u8FC7CSS\u9690\u85CF\u3001\u663E\u793A\u8282\u70B9\uFF0C\u800C\u4E0D\u662F\u771F\u6B63\u5730\u79FB\u9664\u3001\u6DFB\u52A0DOM\u8282\u70B9</p></blockquote>',25),jq={id:"component-diff",tabindex:"-1"},Sq=n("a",{class:"header-anchor",href:"#component-diff","aria-hidden":"true"},"#",-1),Cq=s(),Dq={href:"http://interview.poetries.top/excellent-docs/6-React.html#component-diff",target:"_blank",rel:"noopener noreferrer"},Fq=s("#"),Pq=s("component diff"),Tq=n("blockquote",null,[n("p",null,"React\u5BF9\u4E0D\u540C\u7684\u7EC4\u4EF6\u95F4\u7684\u6BD4\u8F83\uFF0C\u6709\u4E09\u79CD\u7B56\u7565")],-1),Nq=n("ol",null,[n("li",null,"\u540C\u4E00\u7C7B\u578B\u7684\u4E24\u4E2A\u7EC4\u4EF6\uFF0C\u6309\u539F\u7B56\u7565\uFF08\u5C42\u7EA7\u6BD4\u8F83\uFF09\u7EE7\u7EED\u6BD4\u8F83Virtual DOM\u6811\u5373\u53EF\u3002"),n("li",null,[s("\u540C\u4E00\u7C7B\u578B\u7684\u4E24\u4E2A\u7EC4\u4EF6\uFF0C\u7EC4\u4EF6A\u53D8\u5316\u4E3A\u7EC4\u4EF6B\u65F6\uFF0C\u53EF\u80FDVirtual DOM\u6CA1\u6709\u4EFB\u4F55\u53D8\u5316\uFF0C\u5982\u679C\u77E5\u9053\u8FD9\u70B9\uFF08\u53D8\u6362\u7684\u8FC7\u7A0B\u4E2D\uFF0CVirtual DOM\u6CA1\u6709\u6539\u53D8\uFF09\uFF0C\u53EF\u8282\u7701\u5927\u91CF\u8BA1\u7B97\u65F6\u95F4\uFF0C\u6240\u4EE5 \u7528\u6237 \u53EF\u4EE5\u901A\u8FC7 "),n("code",null,"shouldComponentUpdate()"),s(" \u6765\u5224\u65AD\u662F\u5426\u9700\u8981 \u5224\u65AD\u8BA1\u7B97\u3002")]),n("li",null,[s("\u4E0D\u540C\u7C7B\u578B\u7684\u7EC4\u4EF6\uFF0C\u5C06\u4E00\u4E2A\uFF08\u5C06\u88AB\u6539\u53D8\u7684\uFF09\u7EC4\u4EF6\u5224\u65AD\u4E3A"),n("code",null,"dirty component"),s("\uFF08\u810F\u7EC4\u4EF6\uFF09\uFF0C\u4ECE\u800C\u66FF\u6362 \u6574\u4E2A\u7EC4\u4EF6\u7684\u6240\u6709\u8282\u70B9\u3002")])],-1),Mq=n("blockquote",null,[n("p",null,"\u6CE8\u610F\uFF1A\u5982\u679C\u7EC4\u4EF6D\u548C\u7EC4\u4EF6G\u7684\u7ED3\u6784\u76F8\u4F3C\uFF0C\u4F46\u662F React\u5224\u65AD\u662F \u4E0D\u540C\u7C7B\u578B\u7684\u7EC4\u4EF6\uFF0C\u5219\u4E0D\u4F1A\u6BD4\u8F83\u5176\u7ED3\u6784\uFF0C\u800C\u662F\u5220\u9664 \u7EC4\u4EF6D\u53CA\u5176\u5B50\u8282\u70B9\uFF0C\u521B\u5EFA\u7EC4\u4EF6G\u53CA\u5176\u5B50\u8282\u70B9\u3002")],-1),Oq={id:"element-diff",tabindex:"-1"},Iq=n("a",{class:"header-anchor",href:"#element-diff","aria-hidden":"true"},"#",-1),Rq=s(),Vq={href:"http://interview.poetries.top/excellent-docs/6-React.html#element-diff",target:"_blank",rel:"noopener noreferrer"},Hq=s("#"),Lq=s("element diff"),Uq=n("blockquote",null,[n("p",null,"\u5F53\u8282\u70B9\u5904\u4E8E\u540C\u4E00\u5C42\u7EA7\u65F6\uFF0Cdiff\u63D0\u4F9B\u4E09\u79CD\u8282\u70B9\u64CD\u4F5C\uFF1A\u5220\u9664\u3001\u63D2\u5165\u3001\u79FB\u52A8\u3002")],-1),Jq=n("ul",null,[n("li",null,"\u63D2\u5165\uFF1A\u7EC4\u4EF6 C \u4E0D\u5728\u96C6\u5408\uFF08A,B\uFF09\u4E2D\uFF0C\u9700\u8981\u63D2\u5165"),n("li",null,[s("\u5220\u9664\uFF1A "),n("ul",null,[n("li",null,"\u7EC4\u4EF6 D \u5728\u96C6\u5408\uFF08A,B,D\uFF09\u4E2D\uFF0C\u4F46 D\u7684\u8282\u70B9\u5DF2\u7ECF\u66F4\u6539\uFF0C\u4E0D\u80FD\u590D\u7528\u548C\u66F4\u65B0\uFF0C\u6240\u4EE5\u9700\u8981\u5220\u9664 \u65E7\u7684 D \uFF0C\u518D\u521B\u5EFA\u65B0\u7684\u3002"),n("li",null,"\u7EC4\u4EF6 D \u4E4B\u524D\u5728 \u96C6\u5408\uFF08A,B,D\uFF09\u4E2D\uFF0C\u4F46\u96C6\u5408\u53D8\u6210\u65B0\u7684\u96C6\u5408\uFF08A,B\uFF09\u4E86\uFF0CD \u5C31\u9700\u8981\u88AB\u5220\u9664\u3002")])]),n("li",null,"\u79FB\u52A8\uFF1A\u7EC4\u4EF6D\u5DF2\u7ECF\u5728\u96C6\u5408\uFF08A,B,C,D\uFF09\u91CC\u4E86\uFF0C\u4E14\u96C6\u5408\u66F4\u65B0\u65F6\uFF0CD\u6CA1\u6709\u53D1\u751F\u66F4\u65B0\uFF0C\u53EA\u662F\u4F4D\u7F6E\u6539\u53D8\uFF0C\u5982\u65B0\u96C6\u5408\uFF08A,D,B,C\uFF09\uFF0CD\u5728\u7B2C\u4E8C\u4E2A\uFF0C\u65E0\u987B\u50CF\u4F20\u7EDFdiff\uFF0C\u8BA9\u65E7\u96C6\u5408\u7684\u7B2C\u4E8C\u4E2AB\u548C\u65B0\u96C6\u5408\u7684\u7B2C\u4E8C\u4E2AD \u6BD4\u8F83\uFF0C\u5E76\u4E14\u5220\u9664\u7B2C\u4E8C\u4E2A\u4F4D\u7F6E\u7684B\uFF0C\u518D\u5728\u7B2C\u4E8C\u4E2A\u4F4D\u7F6E\u63D2\u5165D\uFF0C\u800C\u662F \uFF08\u5BF9\u540C\u4E00\u5C42\u7EA7\u7684\u540C\u7EC4\u5B50\u8282\u70B9\uFF09 \u6DFB\u52A0\u552F\u4E00key\u8FDB\u884C\u533A\u5206\uFF0C\u79FB\u52A8\u5373\u53EF\u3002")],-1),Wq={id:"diff\u7684\u4E0D\u8DB3\u4E0E\u5F85\u4F18\u5316\u7684\u5730\u65B9",tabindex:"-1"},zq=n("a",{class:"header-anchor",href:"#diff\u7684\u4E0D\u8DB3\u4E0E\u5F85\u4F18\u5316\u7684\u5730\u65B9","aria-hidden":"true"},"#",-1),Gq=s(),$q={href:"http://interview.poetries.top/excellent-docs/6-React.html#diff%E7%9A%84%E4%B8%8D%E8%B6%B3%E4%B8%8E%E5%BE%85%E4%BC%98%E5%8C%96%E7%9A%84%E5%9C%B0%E6%96%B9",target:"_blank",rel:"noopener noreferrer"},Xq=s("#"),Kq=s("diff\u7684\u4E0D\u8DB3\u4E0E\u5F85\u4F18\u5316\u7684\u5730\u65B9"),Qq=n("blockquote",null,[n("p",null,"\u5C3D\u91CF\u51CF\u5C11\u7C7B\u4F3C\u5C06\u6700\u540E\u4E00\u4E2A\u8282\u70B9\u79FB\u52A8\u5230\u5217\u8868\u9996\u90E8\u7684\u64CD\u4F5C\uFF0C\u5F53\u8282\u70B9\u6570\u91CF\u8FC7\u5927\u6216\u66F4\u65B0\u64CD\u4F5C\u8FC7\u4E8E\u9891\u7E41\u65F6\uFF0C\u4F1A\u5F71\u54CDReact\u7684\u6E32\u67D3\u6027\u80FD")],-1),Yq={id:"_39-redux-\u4E2D\u95F4\u4EF6",tabindex:"-1"},Zq=n("a",{class:"header-anchor",href:"#_39-redux-\u4E2D\u95F4\u4EF6","aria-hidden":"true"},"#",-1),nj=s(),sj={href:"http://interview.poetries.top/excellent-docs/6-React.html#_39-redux-%E4%B8%AD%E9%97%B4%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},aj=s("#"),ej=s("39 redux \u4E2D\u95F4\u4EF6"),tj=n("blockquote",null,[n("p",null,"\u4E2D\u95F4\u4EF6\u63D0\u4F9B\u7B2C\u4E09\u65B9\u63D2\u4EF6\u7684\u6A21\u5F0F\uFF0C\u81EA\u5B9A\u4E49\u62E6\u622A action -> reducer \u7684\u8FC7\u7A0B\u3002\u53D8\u4E3A action -> middlewares -> reducer \u3002\u8FD9\u79CD\u673A\u5236\u53EF\u4EE5\u8BA9\u6211\u4EEC\u6539\u53D8\u6570\u636E\u6D41\uFF0C\u5B9E\u73B0\u5982\u5F02\u6B65 action \uFF0Caction \u8FC7 \u6EE4\uFF0C\u65E5\u5FD7\u8F93\u51FA\uFF0C\u5F02\u5E38\u62A5\u544A\u7B49\u529F\u80FD")],-1),pj=n("p",null,"\u5E38\u89C1\u7684\u4E2D\u95F4\u4EF6:",-1),oj=n("ul",null,[n("li",null,"redux-logger:\u63D0\u4F9B\u65E5\u5FD7\u8F93\u51FA;"),n("li",null,"redux-thunk:\u5904\u7406\u5F02\u6B65\u64CD\u4F5C;"),n("li",null,"redux-promise: \u5904\u7406\u5F02\u6B65\u64CD\u4F5C;"),n("li",null,"actionCreator \u7684\u8FD4\u56DE\u503C\u662F promise")],-1),cj={id:"_40-redux-\u6709\u4EC0\u4E48\u7F3A\u70B9",tabindex:"-1"},lj=n("a",{class:"header-anchor",href:"#_40-redux-\u6709\u4EC0\u4E48\u7F3A\u70B9","aria-hidden":"true"},"#",-1),rj=s(),ij={href:"http://interview.poetries.top/excellent-docs/6-React.html#_40-redux-%E6%9C%89%E4%BB%80%E4%B9%88%E7%BC%BA%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},uj=s("#"),kj=s("40 redux \u6709\u4EC0\u4E48\u7F3A\u70B9"),dj=n("ul",null,[n("li",null,"\u4E00\u4E2A\u7EC4\u4EF6\u6240\u9700\u8981\u7684\u6570\u636E\uFF0C\u5FC5\u987B\u7531\u7236\u7EC4\u4EF6\u4F20\u8FC7\u6765\uFF0C\u800C\u4E0D\u80FD\u50CF flux \u4E2D\u76F4\u63A5\u4ECE store \u53D6"),n("li",null,[s("\u5F53\u4E00\u4E2A\u7EC4\u4EF6\u76F8\u5173\u6570\u636E\u66F4\u65B0\u65F6\uFF0C\u5373\u4F7F\u7236\u7EC4\u4EF6\u4E0D\u9700\u8981\u7528\u5230\u8FD9\u4E2A\u7EC4\u4EF6\uFF0C\u7236\u7EC4\u4EF6\u8FD8\u662F\u4F1A\u91CD\u65B0 render\uFF0C\u53EF\u80FD\u4F1A\u6709\u6548\u7387\u5F71\u54CD\uFF0C\u6216\u8005\u9700\u8981\u5199\u590D\u6742\u7684 "),n("code",null,"shouldComponentUpdate"),s(" \u8FDB\u884C\u5224\u65AD")])],-1),bj={id:"_41-\u4E3A\u4EC0\u4E48\u865A\u62DF-dom-\u4F1A\u63D0\u9AD8\u6027\u80FD",tabindex:"-1"},mj=n("a",{class:"header-anchor",href:"#_41-\u4E3A\u4EC0\u4E48\u865A\u62DF-dom-\u4F1A\u63D0\u9AD8\u6027\u80FD","aria-hidden":"true"},"#",-1),hj=s(),_j={href:"http://interview.poetries.top/excellent-docs/6-React.html#_41-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%99%9A%E6%8B%9F-dom-%E4%BC%9A%E6%8F%90%E9%AB%98%E6%80%A7%E8%83%BD",target:"_blank",rel:"noopener noreferrer"},gj=s("#"),Ej=s("41 \u4E3A\u4EC0\u4E48\u865A\u62DF dom \u4F1A\u63D0\u9AD8\u6027\u80FD"),fj=n("blockquote",null,[n("p",null,"\u865A\u62DF dom \u76F8\u5F53\u4E8E\u5728 js \u548C\u771F\u5B9E dom \u4E2D\u95F4\u52A0\u4E86\u4E00\u4E2A\u7F13\u5B58\uFF0C\u5229\u7528 dom diff \u7B97\u6CD5\u907F\u514D\u4E86\u6CA1\u6709\u5FC5\u8981 \u7684 dom \u64CD\u4F5C\uFF0C\u4ECE\u800C\u63D0\u9AD8\u6027\u80FD")],-1),vj=n("p",null,[n("strong",null,"\u5177\u4F53\u5B9E\u73B0\u6B65\u9AA4\u5982\u4E0B:")],-1),wj=n("ol",null,[n("li",null,"\u7528 JavaScript \u5BF9\u8C61\u7ED3\u6784\u8868\u793A DOM \u6811\u7684\u7ED3\u6784;\u7136\u540E\u7528\u8FD9\u4E2A\u6811\u6784\u5EFA\u4E00\u4E2A\u771F\u6B63\u7684 DOM \u6811\uFF0C \u63D2\u5230\u6587\u6863\u5F53\u4E2D;"),n("li",null,"\u5F53\u72B6\u6001\u53D8\u66F4\u7684\u65F6\u5019\uFF0C\u91CD\u65B0\u6784\u9020\u4E00\u68F5\u65B0\u7684\u5BF9\u8C61\u6811\u3002\u7136\u540E\u7528\u65B0\u7684\u6811\u548C\u65E7\u7684\u6811\u8FDB\u884C\u6BD4\u8F83\uFF0C\u8BB0 \u5F55\u4E24\u68F5\u6811\u5DEE\u5F02;"),n("li",null,"\u628A 2 \u6240\u8BB0\u5F55\u7684\u5DEE\u5F02\u5E94\u7528\u5230\u6B65\u9AA4 1 \u6240\u6784\u5EFA\u7684\u771F\u6B63\u7684 DOM \u6811\u4E0A\uFF0C\u89C6\u56FE\u5C31\u66F4\u65B0\u4E86\u3002")],-1),yj={id:"_42-diff-\u7B97\u6CD5",tabindex:"-1"},xj=n("a",{class:"header-anchor",href:"#_42-diff-\u7B97\u6CD5","aria-hidden":"true"},"#",-1),Aj=s(),Bj={href:"http://interview.poetries.top/excellent-docs/6-React.html#_42-diff-%E7%AE%97%E6%B3%95",target:"_blank",rel:"noopener noreferrer"},qj=s("#"),jj=s("42 diff \u7B97\u6CD5?"),Sj=n("ul",null,[n("li",null,"\u628A\u6811\u5F62\u7ED3\u6784\u6309\u7167\u5C42\u7EA7\u5206\u89E3\uFF0C\u53EA\u6BD4\u8F83\u540C\u7EA7\u5143\u7D20"),n("li",null,"\u7ED9\u5217\u8868\u7ED3\u6784\u7684\u6BCF\u4E2A\u5355\u5143\u6DFB\u52A0\u552F\u4E00\u7684 key \u5C5E\u6027\uFF0C\u65B9\u4FBF\u6BD4\u8F83"),n("li",null,"React \u53EA\u4F1A\u5339\u914D\u76F8\u540C class \u7684 component(\u8FD9\u91CC\u9762\u7684 class \u6307\u7684\u662F\u7EC4\u4EF6\u7684\u540D\u5B57)"),n("li",null,"\u5408\u5E76\u64CD\u4F5C\uFF0C\u8C03\u7528 component \u7684 setState \u65B9\u6CD5\u7684\u65F6\u5019, React \u5C06\u5176\u6807\u8BB0\u4E3A dirty.\u5230\u6BCF\u4E00\u4E2A \u4E8B\u4EF6\u5FAA\u73AF\u7ED3\u675F, React \u68C0\u67E5\u6240\u6709\u6807\u8BB0 dirty \u7684 component \u91CD\u65B0\u7ED8\u5236."),n("li",null,"\u9009\u62E9\u6027\u5B50\u6811\u6E32\u67D3\u3002\u5F00\u53D1\u4EBA\u5458\u53EF\u4EE5\u91CD\u5199 shouldComponentUpdate \u63D0\u9AD8 diff \u7684\u6027\u80FD\u3002")],-1),Cj={id:"_43-react-\u751F\u547D\u5468\u671F\u51FD\u6570",tabindex:"-1"},Dj=n("a",{class:"header-anchor",href:"#_43-react-\u751F\u547D\u5468\u671F\u51FD\u6570","aria-hidden":"true"},"#",-1),Fj=s(),Pj={href:"http://interview.poetries.top/excellent-docs/6-React.html#_43-react-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},Tj=s("#"),Nj=s("43 React \u751F\u547D\u5468\u671F\u51FD\u6570"),Mj=t("<p><strong>\u6302\u8F7D\u9636\u6BB5</strong></p><p>\u6302\u8F7D\u9636\u6BB5\u4E5F\u53EF\u4EE5\u7406\u89E3\u4E3A\u521D\u59CB\u5316\u9636\u6BB5\uFF0C\u4E5F\u5C31\u662F\u628A\u6211\u4EEC\u7684\u7EC4\u4EF6\u63D2\u5165\u5230 DOM \u4E2D\u3002</p><ul><li><code>constructor</code></li><li><code>getDerivedStateFromProps</code></li><li><code>~~UNSAFE_componentWillMount~~</code></li><li><code>render</code></li><li><code>(React Updates DOM and refs)</code></li><li><code>componentDidMount</code></li></ul><ol><li>constructor</li></ol><p>\u7EC4\u4EF6\u7684\u6784\u9020\u51FD\u6570\uFF0C\u7B2C\u4E00\u4E2A\u88AB\u6267\u884C\u3002\u663E\u5F0F\u5B9A\u4E49\u6784\u9020\u51FD\u6570\u65F6\uFF0C\u9700\u8981\u5728\u7B2C\u4E00\u884C\u6267\u884C <code>super(props)</code>\uFF0C\u5426\u5219\u4E0D\u80FD\u518D\u6784\u9020\u51FD\u6570\u4E2D\u62FF\u5230 <code>this</code>\u3002</p><p>\u5728\u6784\u9020\u51FD\u6570\u4E2D\uFF0C\u6211\u4EEC\u4E00\u822C\u4F1A\u505A\u4E24\u4EF6\u4E8B\uFF1A</p><ul><li>\u521D\u59CB\u5316 state</li><li>\u5BF9\u81EA\u5B9A\u4E49\u65B9\u6CD5\u8FDB\u884C this \u7ED1\u5B9A</li></ul><ol><li>getDerivedStateFromProps</li></ol><p>\u662F\u4E00\u4E2A\u9759\u6001\u51FD\u6570\uFF0C\u6240\u4EE5\u4E0D\u80FD\u5728\u8FD9\u91CC\u4F7F\u7528 this\uFF0C\u4E5F\u8868\u660E\u4E86 React \u5B98\u65B9\u4E0D\u5E0C\u671B\u8C03\u7528\u65B9\u6EE5\u7528\u8FD9\u4E2A\u751F\u547D\u5468\u671F\u51FD\u6570\u3002\u6BCF\u5F53\u7236\u7EC4\u4EF6\u5F15\u53D1\u5F53\u524D\u7EC4\u4EF6\u7684\u6E32\u67D3\u8FC7\u7A0B\u65F6\uFF0CgetDerivedStateFromProps \u90FD\u4F1A\u88AB\u8C03\u7528\uFF0C\u8FD9\u6837\u6211\u4EEC\u6709\u673A\u4F1A\u6839\u636E\u65B0\u7684 props \u548C\u5F53\u524D\u7684 state \u6765\u8C03\u6574\u4E00\u4E2A\u65B0\u7684 state\u3002</p><p>\u8FD9\u4E2A\u51FD\u6570\u4F1A\u5728\u6536\u5230\u65B0\u7684 props\uFF0C\u8C03\u7528\u4E86 setState \u6216 forceUpdate \u65F6\u88AB\u8C03\u7528\u3002</p><ol><li>render</li></ol><p>React \u6700\u6838\u5FC3\u7684\u65B9\u6CD5\uFF0Cclass \u7EC4\u4EF6\u4E2D\u5FC5\u987B\u5B9E\u73B0\u7684\u65B9\u6CD5\u3002</p><p>\u5F53 render \u88AB\u8C03\u7528\u65F6\uFF0C\u5B83\u4F1A\u68C0\u67E5 <code>this.props</code> \u548C <code>this.state</code> \u7684\u53D8\u5316\u5E76\u8FD4\u56DE\u4E00\u4E0B\u7C7B\u578B\u4E4B\u4E00\uFF1A</p><ul><li>\u539F\u751F\u7684 DOM\uFF0C\u5982 div</li><li>React \u7EC4\u4EF6</li><li>\u6570\u7EC4\u6216 Fragment</li><li>Portals\uFF08\u4F20\u9001\u95E8\uFF09</li><li>\u5B57\u7B26\u4E32\u6216\u6570\u5B57\uFF0C\u88AB\u6E32\u67D3\u6210\u6587\u672C\u8282\u70B9</li><li>\u5E03\u5C14\u503C\u6216 null\uFF0C\u4E0D\u4F1A\u6E32\u67D3\u4EFB\u4F55\u4E1C\u897F</li></ul><ol><li>componentDidMount</li></ol><p>\u5728\u7EC4\u4EF6\u6302\u8F7D\u4E4B\u540E\u7ACB\u5373\u8C03\u7528\u3002\u4F9D\u8D56\u4E8E DOM \u8282\u70B9\u7684\u521D\u59CB\u5316\u5E94\u8BE5\u653E\u5728\u8FD9\u91CC\u3002\u5982\u9700\u901A\u8FC7\u7F51\u7EDC\u8BF7\u6C42\u83B7\u53D6\u6570\u636E\uFF0C\u6B64\u5904\u662F\u5B9E\u4F8B\u5316\u8BF7\u6C42\u7684\u597D\u5730\u65B9\u3002\u8FD9\u4E2A\u65B9\u6CD5\u6BD4\u8F83\u9002\u5408\u6DFB\u52A0\u8BA2\u9605\u7684\u5730\u65B9\uFF0C\u5982\u679C\u6DFB\u52A0\u4E86\u8BA2\u9605\uFF0C\u8BF7\u8BB0\u5F97\u5728\u5378\u8F7D\u7684\u65F6\u5019\u53D6\u6D88\u8BA2\u9605\u3002</p><p>\u4F60\u53EF\u4EE5\u5728 componentDidMount \u91CC\u9762\u76F4\u63A5\u8C03\u7528 setState\uFF0C\u5B83\u5C06\u89E6\u53D1\u989D\u5916\u6E32\u67D3\uFF0C\u4F46\u6B64\u6E32\u67D3\u4F1A\u53D1\u751F\u5728\u6D4F\u89C8\u5668\u66F4\u65B0\u5C4F\u5E55\u4E4B\u524D\uFF0C\u5982\u6B64\u4FDD\u8BC1\u4E86\u5373\u4F7F render \u4E86\u4E24\u6B21\uFF0C\u7528\u6237\u4E5F\u4E0D\u4F1A\u770B\u5230\u4E2D\u95F4\u72B6\u6001\u3002</p><p><strong>\u66F4\u65B0\u9636\u6BB5</strong></p><blockquote><p>\u66F4\u65B0\u9636\u6BB5\u662F\u6307\u5F53\u7EC4\u4EF6\u7684 props \u53D1\u751F\u4E86\u6539\u53D8\uFF0C\u6216\u8005\u7EC4\u4EF6\u5185\u90E8\u8C03\u7528\u4E86 setState \u6216\u8005\u53D1\u751F\u4E86 forceUpdate\uFF0C\u8FD9\u4E2A\u9636\u6BB5\u7684\u8FC7\u7A0B\u5305\u62EC\uFF1A</p></blockquote><ul><li><code>UNSAFE_componentWillReceiveProps</code></li><li><code>getDerivedStateFromProps</code></li><li><code>sholdComponentUpdate</code></li><li><code>UNSAFE_componentWIllUpdate</code></li><li><code>render</code></li><li><code>getSnapshotBeforeUpdate</code></li><li><code>(React Updates DOM and refs)</code></li><li><code>componentDidUpdate</code></li></ul><ol><li>shouldComponentUpdate</li></ol><p>\u5B83\u6709\u4E24\u4E2A\u53C2\u6570\uFF0C\u6839\u636E\u6B64\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u6765\u5224\u65AD\u662F\u5426\u91CD\u65B0\u8FDB\u884C\u6E32\u67D3\uFF0C\u9996\u6B21\u6E32\u67D3\u6216\u8005\u662F\u5F53\u6211\u4EEC\u8C03\u7528\u4E86 forceUpdate \u65F6\u5E76\u4E0D\u4F1A\u89E6\u53D1\u6B64\u65B9\u6CD5\uFF0C\u6B64\u65B9\u6CD5\u4EC5\u7528\u4E8E\u6027\u80FD\u4F18\u5316\u3002</p><p>\u4F46\u662F\u5B98\u65B9\u63D0\u5021\u6211\u4EEC\u4F7F\u7528\u5185\u7F6E\u7684 PureComponent \u800C\u4E0D\u662F\u81EA\u5DF1\u7F16\u5199 shouldComponentUpdate\u3002</p><ol><li>getSnapshotBeforeUpdate</li></ol><p>\u8FD9\u4E2A\u751F\u547D\u5468\u671F\u51FD\u6570\u53D1\u751F\u5728 render \u4E4B\u540E\uFF0C\u5728\u66F4\u65B0\u4E4B\u524D\uFF0C\u7ED9\u4E86\u4E00\u4E2A\u673A\u4F1A\u53BB\u83B7\u53D6 DOM \u4FE1\u606F\uFF0C\u8BA1\u7B97\u5F97\u5230\u5E76\u8FD4\u56DE\u4E00\u4E2A snapshot\uFF0C\u8FD9\u4E2A snapshot \u4F1A\u4F5C\u4E3A componentDidUpdate \u7B2C\u4E09\u4E2A\u53C2\u6570\u4F20\u5165\u3002</p><ol><li>componentDidUpdate</li></ol><p>\u8FD9\u4E2A\u51FD\u6570\u4F1A\u5728\u66F4\u65B0\u540E\u88AB\u7ACB\u5373\u8C03\u7528\uFF0C\u9996\u6B21\u6E32\u67D3\u4E0D\u4F1A\u6267\u884C\u6B64\u65B9\u6CD5\u3002\u5728\u8FD9\u4E2A\u51FD\u6570\u4E2D\u6211\u4EEC\u53EF\u4EE5\u64CD\u4F5C DOM\uFF0C\u53EF\u4EE5\u53D1\u8D77\u8BF7\u6C42\uFF0C\u8FD8\u53EF\u4EE5 setState\uFF0C\u4F46\u6CE8\u610F\u4E00\u5B9A\u8981\u7528\u6761\u4EF6\u8BED\u53E5\uFF0C\u5426\u5219\u4F1A\u5BFC\u81F4\u65E0\u9650\u5FAA\u73AF\u3002</p><p><strong>\u5378\u8F7D\u9636\u6BB5</strong></p><ol><li>componentWillUnmount</li></ol><p>\u8FD9\u4E2A\u751F\u547D\u5468\u671F\u51FD\u6570\u4F1A\u5728\u7EC4\u4EF6\u5378\u8F7D\u9500\u6BC1\u4E4B\u524D\u88AB\u8C03\u7528\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728\u8FD9\u91CC\u6267\u884C\u4E00\u4E9B\u6E05\u9664\u64CD\u4F5C\u3002\u4E0D\u8981\u5728\u8FD9\u91CC\u8C03\u7528 setState\uFF0C\u56E0\u4E3A\u7EC4\u4EF6\u4E0D\u4F1A\u91CD\u65B0\u6E32\u67D3\u3002</p>",30),Oj={id:"_44-react\u7684\u865A\u62DFdom\u548Cdiff\u7B97\u6CD5\u7684\u5185\u90E8\u5B9E\u73B0",tabindex:"-1"},Ij=n("a",{class:"header-anchor",href:"#_44-react\u7684\u865A\u62DFdom\u548Cdiff\u7B97\u6CD5\u7684\u5185\u90E8\u5B9E\u73B0","aria-hidden":"true"},"#",-1),Rj=s(),Vj={href:"http://interview.poetries.top/excellent-docs/6-React.html#_44-react%E7%9A%84%E8%99%9A%E6%8B%9Fdom%E5%92%8Cdiff%E7%AE%97%E6%B3%95%E7%9A%84%E5%86%85%E9%83%A8%E5%AE%9E%E7%8E%B0",target:"_blank",rel:"noopener noreferrer"},Hj=s("#"),Lj=s("44 React\u7684\u865A\u62DFDOM\u548CDiff\u7B97\u6CD5\u7684\u5185\u90E8\u5B9E\u73B0"),Uj=t('<blockquote><p>\u4F20\u7EDF diff \u7B97\u6CD5\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u662F O(n^3)\uFF0C\u8FD9\u5728\u524D\u7AEF render \u4E2D\u662F\u4E0D\u53EF\u63A5\u53D7\u7684\u3002\u4E3A\u4E86\u964D\u4F4E\u65F6\u95F4\u590D\u6742\u5EA6\uFF0Creact \u7684 diff \u7B97\u6CD5\u505A\u4E86\u4E00\u4E9B\u59A5\u534F\uFF0C\u653E\u5F03\u4E86\u6700\u4F18\u89E3\uFF0C\u6700\u7EC8\u5C06\u65F6\u95F4\u590D\u6742\u5EA6\u964D\u4F4E\u5230\u4E86 O(n)\u3002</p></blockquote><p>\u90A3\u4E48 react diff \u7B97\u6CD5\u505A\u4E86\u54EA\u4E9B\u59A5\u534F\u5462\uFF1F\uFF0C\u53C2\u8003\u5982\u4E0B\uFF1A</p><ol><li>tree diff\uFF1A\u53EA\u5BF9\u6BD4\u540C\u4E00\u5C42\u7684 dom \u8282\u70B9\uFF0C\u5FFD\u7565 dom \u8282\u70B9\u7684\u8DE8\u5C42\u7EA7\u79FB\u52A8</li></ol><p>\u5982\u4E0B\u56FE\uFF0Creact \u53EA\u4F1A\u5BF9\u76F8\u540C\u989C\u8272\u65B9\u6846\u5185\u7684 DOM \u8282\u70B9\u8FDB\u884C\u6BD4\u8F83\uFF0C\u5373\u540C\u4E00\u4E2A\u7236\u8282\u70B9\u4E0B\u7684\u6240\u6709\u5B50\u8282\u70B9\u3002\u5F53\u53D1\u73B0\u8282\u70B9\u4E0D\u5B58\u5728\u65F6\uFF0C\u5219\u8BE5\u8282\u70B9\u53CA\u5176\u5B50\u8282\u70B9\u4F1A\u88AB\u5B8C\u5168\u5220\u9664\u6389\uFF0C\u4E0D\u4F1A\u7528\u4E8E\u8FDB\u4E00\u6B65\u7684\u6BD4\u8F83\u3002</p><p>\u8FD9\u6837\u53EA\u9700\u8981\u5BF9\u6811\u8FDB\u884C\u4E00\u6B21\u904D\u5386\uFF0C\u4FBF\u80FD\u5B8C\u6210\u6574\u4E2A DOM \u6811\u7684\u6BD4\u8F83\u3002</p><p><img src="http://img-repo.poetries.top/images/image-20210302195610674.png" alt="image-20210302195610674"></p><p>\u8FD9\u5C31\u610F\u5473\u7740\uFF0C\u5982\u679C dom \u8282\u70B9\u53D1\u751F\u4E86\u8DE8\u5C42\u7EA7\u79FB\u52A8\uFF0Creact \u4F1A\u5220\u9664\u65E7\u7684\u8282\u70B9\uFF0C\u751F\u6210\u65B0\u7684\u8282\u70B9\uFF0C\u800C\u4E0D\u4F1A\u590D\u7528\u3002</p><ol><li>component diff\uFF1A\u5982\u679C\u4E0D\u662F\u540C\u4E00\u7C7B\u578B\u7684\u7EC4\u4EF6\uFF0C\u4F1A\u5220\u9664\u65E7\u7684\u7EC4\u4EF6\uFF0C\u521B\u5EFA\u65B0\u7684\u7EC4\u4EF6</li></ol><p><img src="http://img-repo.poetries.top/images/image-20210302195654736.png" alt="image-20210302195654736"></p><ol><li>element diff\uFF1A\u5BF9\u4E8E\u540C\u4E00\u5C42\u7EA7\u7684\u4E00\u7EC4\u5B50\u8282\u70B9\uFF0C\u9700\u8981\u901A\u8FC7\u552F\u4E00 id \u8FDB\u884C\u6765\u533A\u5206</li></ol><ul><li>\u5982\u679C\u6CA1\u6709 id \u6765\u8FDB\u884C\u533A\u5206\uFF0C\u4E00\u65E6\u6709\u63D2\u5165\u52A8\u4F5C\uFF0C\u4F1A\u5BFC\u81F4\u63D2\u5165\u4F4D\u7F6E\u4E4B\u540E\u7684\u5217\u8868\u5168\u90E8\u91CD\u65B0\u6E32\u67D3</li><li>\u8FD9\u4E5F\u662F\u4E3A\u4EC0\u4E48\u6E32\u67D3\u5217\u8868\u65F6\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u552F\u4E00\u7684 key\u3002</li></ul>',11),Jj={id:"_45-react\u7684fiber\u5DE5\u4F5C\u539F\u7406-\u89E3\u51B3\u4E86\u4EC0\u4E48\u95EE\u9898",tabindex:"-1"},Wj=n("a",{class:"header-anchor",href:"#_45-react\u7684fiber\u5DE5\u4F5C\u539F\u7406-\u89E3\u51B3\u4E86\u4EC0\u4E48\u95EE\u9898","aria-hidden":"true"},"#",-1),zj=s(),Gj={href:"http://interview.poetries.top/excellent-docs/6-React.html#_45-react%E7%9A%84fiber%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-%E8%A7%A3%E5%86%B3%E4%BA%86%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},$j=s("#"),Xj=s("45 React\u7684Fiber\u5DE5\u4F5C\u539F\u7406\uFF0C\u89E3\u51B3\u4E86\u4EC0\u4E48\u95EE\u9898"),Kj=n("ul",null,[n("li",null,"React Fiber \u662F\u4E00\u79CD\u57FA\u4E8E\u6D4F\u89C8\u5668\u7684\u5355\u7EBF\u7A0B\u8C03\u5EA6\u7B97\u6CD5\u3002")],-1),Qj=n("blockquote",null,[n("p",null,"React Fiber \u7528\u7C7B\u4F3C requestIdleCallback \u7684\u673A\u5236\u6765\u505A\u5F02\u6B65 diff\u3002\u4F46\u662F\u4E4B\u524D\u6570\u636E\u7ED3\u6784\u4E0D\u652F\u6301\u8FD9\u6837\u7684\u5B9E\u73B0\u5F02\u6B65 diff\uFF0C\u4E8E\u662F React \u5B9E\u73B0\u4E86\u4E00\u4E2A\u7C7B\u4F3C\u94FE\u8868\u7684\u6570\u636E\u7ED3\u6784\uFF0C\u5C06\u539F\u6765\u7684 \u9012\u5F52diff \u53D8\u6210\u4E86\u73B0\u5728\u7684 \u904D\u5386diff\uFF0C\u8FD9\u6837\u5C31\u80FD\u505A\u5230\u5F02\u6B65\u53EF\u66F4\u65B0\u4E86")],-1),Yj={id:"_46-setstate-\u662F\u540C\u6B65\u7684\u8FD8\u662F\u5F02\u6B65\u7684",tabindex:"-1"},Zj=n("a",{class:"header-anchor",href:"#_46-setstate-\u662F\u540C\u6B65\u7684\u8FD8\u662F\u5F02\u6B65\u7684","aria-hidden":"true"},"#",-1),nS=s(),sS={href:"http://interview.poetries.top/excellent-docs/6-React.html#_46-setstate-%E6%98%AF%E5%90%8C%E6%AD%A5%E7%9A%84%E8%BF%98%E6%98%AF%E5%BC%82%E6%AD%A5%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},aS=s("#"),eS=s("46 setState \u662F\u540C\u6B65\u7684\u8FD8\u662F\u5F02\u6B65\u7684"),tS=n("p",null,"\u6709\u65F6\u8868\u73B0\u51FA\u540C\u6B65\uFF0C\u6709\u65F6\u8868\u73B0\u51FA\u5F02\u6B65",-1),pS=n("ol",null,[n("li",null,"setState \u53EA\u6709\u5728 React \u81EA\u8EAB\u7684\u5408\u6210\u4E8B\u4EF6\u548C\u94A9\u5B50\u51FD\u6570\u4E2D\u662F\u5F02\u6B65\u7684\uFF0C\u5728\u539F\u751F\u4E8B\u4EF6\u548C setTimeout \u4E2D\u90FD\u662F\u540C\u6B65\u7684"),n("li",null,"setState \u7684\u5F02\u6B65\u5E76\u4E0D\u662F\u8BF4\u5185\u90E8\u7531\u5F02\u6B65\u4EE3\u7801\u5B9E\u73B0\uFF0C\u5176\u5B9E\u672C\u8EAB\u6267\u884C\u7684\u8FC7\u7A0B\u548C\u4EE3\u7801\u90FD\u662F\u540C\u6B65\u7684\uFF0C\u53EA\u662F\u5408\u6210\u4E8B\u4EF6\u548C\u94A9\u5B50\u51FD\u6570\u4E2D\u6CA1\u6CD5\u7ACB\u9A6C\u62FF\u5230\u66F4\u65B0\u540E\u7684\u503C\uFF0C\u5F62\u6210\u4E86\u6240\u8C13\u7684\u5F02\u6B65\u3002\u5F53\u7136\u53EF\u4EE5\u901A\u8FC7 setState \u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E2D\u7684 callback \u62FF\u5230\u66F4\u65B0\u540E\u7684\u7ED3\u679C"),n("li",null,"setState \u7684\u6279\u91CF\u66F4\u65B0\u4F18\u5316\u4E5F\u662F\u5EFA\u7ACB\u5728\u5F02\u6B65\uFF08\u5408\u6210\u4E8B\u4EF6\u3001\u94A9\u5B50\u51FD\u6570\uFF09\u4E4B\u4E0A\u7684\uFF0C\u5728\u539F\u751F\u4E8B\u4EF6\u548C setTimeout \u4E2D\u4E0D\u4F1A\u6279\u91CF\u66F4\u65B0\uFF0C\u5728\u5F02\u6B65\u4E2D\u5982\u679C\u5BF9\u540C\u4E00\u4E2A\u503C\u8FDB\u884C\u591A\u6B21 setState\uFF0CsetState \u7684\u6279\u91CF\u66F4\u65B0\u7B56\u7565\u4F1A\u5BF9\u5176\u8FDB\u884C\u8986\u76D6\uFF0C\u53BB\u6700\u540E\u4E00\u6B21\u7684\u6267\u884C\uFF0C\u5982\u679C\u662F\u540C\u65F6 setState \u591A\u4E2A\u4E0D\u540C\u7684\u503C\uFF0C\u5728\u66F4\u65B0\u65F6\u4F1A\u5BF9\u5176\u8FDB\u884C\u5408\u5E76\u6279\u91CF\u66F4\u65B0")],-1),oS=n("ul",null,[n("li",null,"\u5408\u6210\u4E8B\u4EF6\u4E2D\u662F\u5F02\u6B65"),n("li",null,"\u94A9\u5B50\u51FD\u6570\u4E2D\u7684\u662F\u5F02\u6B65"),n("li",null,"\u539F\u751F\u4E8B\u4EF6\u4E2D\u662F\u540C\u6B65"),n("li",null,"setTimeout\u4E2D\u662F\u540C\u6B65")],-1),cS={id:"_47-\u8C03\u7528-setstate-\u4E4B\u540E\u53D1\u751F\u4E86\u4EC0\u4E48",tabindex:"-1"},lS=n("a",{class:"header-anchor",href:"#_47-\u8C03\u7528-setstate-\u4E4B\u540E\u53D1\u751F\u4E86\u4EC0\u4E48","aria-hidden":"true"},"#",-1),rS=s(),iS={href:"http://interview.poetries.top/excellent-docs/6-React.html#_47-%E8%B0%83%E7%94%A8-setstate-%E4%B9%8B%E5%90%8E%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},uS=s("#"),kS=s("47 \u8C03\u7528 setState \u4E4B\u540E\u53D1\u751F\u4E86\u4EC0\u4E48"),dS=n("blockquote",null,[n("p",null,"\u5728\u4EE3\u7801\u4E2D\u8C03\u7528 setState \u51FD\u6570\u4E4B\u540E\uFF0CReact \u4F1A\u5C06\u4F20\u5165\u7684\u53C2\u6570\u4E0E\u4E4B\u524D\u7684\u72B6\u6001\u8FDB\u884C\u5408\u5E76\uFF0C\u7136\u540E\u89E6\u53D1\u6240\u8C13\u7684\u8C03\u548C\u8FC7\u7A0B\uFF08Reconciliation\uFF09\u3002\u7ECF\u8FC7\u8C03\u548C\u8FC7\u7A0B\uFF0CReact \u4F1A\u4EE5\u76F8\u5BF9\u9AD8\u6548\u7684\u65B9\u5F0F\u6839\u636E\u65B0\u7684\u72B6\u6001\u6784\u5EFA React \u5143\u7D20\u6811\u5E76\u4E14\u7740\u624B\u91CD\u65B0\u6E32\u67D3\u6574\u4E2A UI \u754C\u9762\u3002\u5728 React \u5F97\u5230\u5143\u7D20\u6811\u4E4B\u540E\uFF0CReact \u4F1A\u8BA1\u7B97\u51FA\u65B0\u7684\u6811\u548C\u8001\u7684\u6811\u4E4B\u95F4\u7684\u5DEE\u5F02\uFF0C\u7136\u540E\u6839\u636E\u5DEE\u5F02\u5BF9\u754C\u9762\u8FDB\u884C\u6700\u5C0F\u5316\u91CD\u65B0\u6E32\u67D3\u3002\u901A\u8FC7 diff \u7B97\u6CD5\uFF0CReact \u80FD\u591F\u7CBE\u786E\u5236\u5BFC\u54EA\u4E9B\u4F4D\u7F6E\u53D1\u751F\u4E86\u6539\u53D8\u4EE5\u53CA\u5E94\u8BE5\u5982\u4F55\u6539\u53D8\uFF0C\u8FD9\u5C31\u4FDD\u8BC1\u4E86\u6309\u9700\u66F4\u65B0\uFF0C\u800C\u4E0D\u662F\u5168\u90E8\u91CD\u65B0\u6E32\u67D3\u3002")],-1),bS=n("ul",null,[n("li",null,"\u5728 setState \u7684\u65F6\u5019\uFF0CReact \u4F1A\u4E3A\u5F53\u524D\u8282\u70B9\u521B\u5EFA\u4E00\u4E2A updateQueue \u7684\u66F4\u65B0\u5217\u961F\u3002"),n("li",null,"\u7136\u540E\u4F1A\u89E6\u53D1 reconciliation \u8FC7\u7A0B\uFF0C\u5728\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\uFF0C\u4F1A\u4F7F\u7528\u540D\u4E3A Fiber \u7684\u8C03\u5EA6\u7B97\u6CD5\uFF0C\u5F00\u59CB\u751F\u6210\u65B0\u7684 Fiber \u6811\uFF0C Fiber \u7B97\u6CD5\u7684\u6700\u5927\u7279\u70B9\u662F\u53EF\u4EE5\u505A\u5230\u5F02\u6B65\u53EF\u4E2D\u65AD\u7684\u6267\u884C\u3002"),n("li",null,"\u7136\u540E React Scheduler \u4F1A\u6839\u636E\u4F18\u5148\u7EA7\u9AD8\u4F4E\uFF0C\u5148\u6267\u884C\u4F18\u5148\u7EA7\u9AD8\u7684\u8282\u70B9\uFF0C\u5177\u4F53\u662F\u6267\u884C doWork \u65B9\u6CD5\u3002"),n("li",null,"\u5728 doWork \u65B9\u6CD5\u4E2D\uFF0CReact \u4F1A\u6267\u884C\u4E00\u904D updateQueue \u4E2D\u7684\u65B9\u6CD5\uFF0C\u4EE5\u83B7\u5F97\u65B0\u7684\u8282\u70B9\u3002\u7136\u540E\u5BF9\u6BD4\u65B0\u65E7\u8282\u70B9\uFF0C\u4E3A\u8001\u8282\u70B9\u6253\u4E0A \u66F4\u65B0\u3001\u63D2\u5165\u3001\u66FF\u6362 \u7B49 Tag\u3002"),n("li",null,"\u5F53\u524D\u8282\u70B9 doWork \u5B8C\u6210\u540E\uFF0C\u4F1A\u6267\u884C performUnitOfWork \u65B9\u6CD5\u83B7\u5F97\u65B0\u8282\u70B9\uFF0C\u7136\u540E\u518D\u91CD\u590D\u4E0A\u9762\u7684\u8FC7\u7A0B\u3002"),n("li",null,"\u5F53\u6240\u6709\u8282\u70B9\u90FD doWork \u5B8C\u6210\u540E\uFF0C\u4F1A\u89E6\u53D1 commitRoot \u65B9\u6CD5\uFF0CReact \u8FDB\u5165 commit \u9636\u6BB5\u3002"),n("li",null,"\u5728 commit \u9636\u6BB5\u4E2D\uFF0CReact \u4F1A\u6839\u636E\u524D\u9762\u4E3A\u5404\u4E2A\u8282\u70B9\u6253\u7684 Tag\uFF0C\u4E00\u6B21\u6027\u66F4\u65B0\u6574\u4E2A dom \u5143\u7D20")],-1),mS={id:"_48-key\u7684\u4F5C\u7528",tabindex:"-1"},hS=n("a",{class:"header-anchor",href:"#_48-key\u7684\u4F5C\u7528","aria-hidden":"true"},"#",-1),_S=s(),gS={href:"http://interview.poetries.top/excellent-docs/6-React.html#_48-key%E7%9A%84%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},ES=s("#"),fS=s("48 key\u7684\u4F5C\u7528"),vS=t(`<blockquote><p>\u662F\u7ED9\u6BCF\u4E00\u4E2A vnode \u7684\u552F\u4E00 id,\u53EF\u4EE5\u4F9D\u9760 key,\u66F4\u51C6\u786E,\u66F4\u5FEB\u7684\u62FF\u5230 oldVnode \u4E2D\u5BF9\u5E94\u7684 vnode \u8282\u70B9</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- \u66F4\u65B0\u524D --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ka<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ka<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>song<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>song<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>he</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u66F4\u65B0\u540E --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>song<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>song<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ka<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ka<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>\u5982\u679C\u6CA1\u6709 key\uFF0CReact \u4F1A\u8BA4\u4E3A div \u7684\u7B2C\u4E00\u4E2A\u5B50\u8282\u70B9\u7531 p \u53D8\u6210 h3\uFF0C\u7B2C\u4E8C\u4E2A\u5B50\u8282\u70B9\u7531 h3 \u53D8\u6210 p\uFF0C\u5219\u4F1A\u9500\u6BC1\u8FD9\u4E24\u4E2A\u8282\u70B9\u5E76\u91CD\u65B0\u6784\u9020\u3002</p><p>\u4F46\u662F\u5F53\u6211\u4EEC\u7528 key \u6307\u660E\u4E86\u8282\u70B9\u524D\u540E\u5BF9\u5E94\u5173\u7CFB\u540E\uFF0CReact \u77E5\u9053 <code>key === &quot;ka&quot;</code> \u7684 p \u66F4\u65B0\u540E\u8FD8\u5728\uFF0C\u6240\u4EE5\u53EF\u4EE5\u590D\u7528\u8BE5\u8282\u70B9\uFF0C\u53EA\u9700\u8981\u4EA4\u6362\u987A\u5E8F\u3002</p><p>key \u662F React \u7528\u6765\u8FFD\u8E2A\u54EA\u4E9B\u5217\u8868\u5143\u7D20\u88AB\u4FEE\u6539\u3001\u88AB\u6DFB\u52A0\u6216\u8005\u88AB\u79FB\u9664\u7684\u8F85\u52A9\u6807\u5FD7\u3002</p><p>\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\uFF0C\u6211\u4EEC\u9700\u8981\u4FDD\u8BC1\u67D0\u4E2A\u5143\u7D20\u7684 key \u5728\u5176\u540C\u7EA7\u5143\u7D20\u4E2D\u5177\u6709\u552F\u4E00\u6027\u3002\u5728 React diff \u7B97\u6CD5\u4E2D\uFF0CReact \u4F1A\u501F\u52A9\u5143\u7D20\u7684 Key \u503C\u6765\u5224\u65AD\u8BE5\u5143\u7D20\u662F\u65B0\u8FD1\u521B\u5EFA\u7684\u8FD8\u662F\u88AB\u79FB\u52A8\u800C\u6765\u7684\u5143\u7D20\uFF0C\u4ECE\u800C\u51CF\u5C11\u4E0D\u5FC5\u8981\u7684\u5143\u7D20\u91CD\u65B0\u6E32\u67D3\u3002\u540C\u65F6\uFF0CReact \u8FD8\u9700\u8981\u501F\u52A9 key \u6765\u5224\u65AD\u5143\u7D20\u4E0E\u672C\u5730\u72B6\u6001\u7684\u5173\u8054\u5173\u7CFB\u3002</p>`,6),wS={id:"_49-diff-\u7684\u74F6\u9888\u4EE5\u53CA-react-\u7684\u5E94\u5BF9",tabindex:"-1"},yS=n("a",{class:"header-anchor",href:"#_49-diff-\u7684\u74F6\u9888\u4EE5\u53CA-react-\u7684\u5E94\u5BF9","aria-hidden":"true"},"#",-1),xS=s(),AS={href:"http://interview.poetries.top/excellent-docs/6-React.html#_49-diff-%E7%9A%84%E7%93%B6%E9%A2%88%E4%BB%A5%E5%8F%8A-react-%E7%9A%84%E5%BA%94%E5%AF%B9",target:"_blank",rel:"noopener noreferrer"},BS=s("#"),qS=s("49 Diff \u7684\u74F6\u9888\u4EE5\u53CA React \u7684\u5E94\u5BF9"),jS=n("p",null,[s("\u7531\u4E8E diff \u64CD\u4F5C\u672C\u8EAB\u4F1A\u5E26\u6765\u6027\u80FD\u4E0A\u7684\u635F\u8017\uFF0C\u5728 React \u6587\u6863\u4E2D\u63D0\u5230\u8FC7\uFF0C\u5373\u4F7F\u6700\u5148\u8FDB\u7684\u7B97\u6CD5\u4E2D\uFF0C\u5C06\u524D\u540E\u4E24\u68F5\u6811\u5B8C\u5168\u6BD4\u5BF9\u7684\u7B97\u6CD5\u590D\u6742\u5EA6\u4E3A"),n("code",null,"O(n3)"),s("\uFF0C\u5176\u4E2D n \u4E3A\u6811\u4E2D\u5143\u7D20\u7684\u6570\u91CF\u3002")],-1),SS=n("p",null,"\u5982\u679C React \u4F7F\u7528\u4E86\u8BE5\u7B97\u6CD5\uFF0C\u90A3\u4E48\u4EC5\u4EC5\u4E00\u5343\u4E2A\u5143\u7D20\u7684\u9875\u9762\u6240\u9700\u8981\u6267\u884C\u7684\u8BA1\u7B97\u91CF\u5C31\u662F\u5341\u4EBF\u7684\u91CF\u7EA7\uFF0C\u8FD9\u65E0\u7591\u662F\u65E0\u6CD5\u63A5\u53D7\u7684\u3002",-1),CS=n("p",null,"\u4E3A\u4E86\u964D\u4F4E\u7B97\u6CD5\u7684\u590D\u6742\u5EA6\uFF0CReact \u7684 diff \u4F1A\u9884\u8BBE\u4E09\u4E2A\u9650\u5236\uFF1A",-1),DS=n("ol",null,[n("li",null,"\u53EA\u5BF9\u540C\u7EA7\u5143\u7D20\u8FDB\u884C diff \u6BD4\u5BF9\u3002\u5982\u679C\u4E00\u4E2A\u5143\u7D20\u8282\u70B9\u5728\u524D\u540E\u4E24\u6B21\u66F4\u65B0\u4E2D\u8DE8\u8D8A\u4E86\u5C42\u7EA7\uFF0C\u90A3\u4E48 React \u4E0D\u4F1A\u5C1D\u8BD5\u590D\u7528\u5B83"),n("li",null,"\u4E24\u4E2A\u4E0D\u540C\u7C7B\u578B\u7684\u5143\u7D20\u4F1A\u4EA7\u751F\u51FA\u4E0D\u540C\u7684\u6811\u3002\u5982\u679C\u5143\u7D20\u7531 div \u53D8\u6210 p\uFF0CReact \u4F1A\u9500\u6BC1 div \u53CA\u5176\u5B50\u5B59\u8282\u70B9\uFF0C\u5E76\u65B0\u5EFA p \u53CA\u5176\u5B50\u5B59\u8282\u70B9"),n("li",null,"\u5F00\u53D1\u8005\u53EF\u4EE5\u901A\u8FC7 key \u6765\u6697\u793A\u54EA\u4E9B\u5B50\u5143\u7D20\u5728\u4E0D\u540C\u7684\u6E32\u67D3\u4E0B\u80FD\u4FDD\u6301\u7A33\u5B9A")],-1),FS={id:"_50-react-setstate-\u7B14\u8BD5\u9898-\u4E0B\u9762\u7684\u4EE3\u7801\u8F93\u51FA\u4EC0\u4E48",tabindex:"-1"},PS=n("a",{class:"header-anchor",href:"#_50-react-setstate-\u7B14\u8BD5\u9898-\u4E0B\u9762\u7684\u4EE3\u7801\u8F93\u51FA\u4EC0\u4E48","aria-hidden":"true"},"#",-1),TS=s(),NS={href:"http://interview.poetries.top/excellent-docs/6-React.html#_50-react-setstate-%E7%AC%94%E8%AF%95%E9%A2%98-%E4%B8%8B%E9%9D%A2%E7%9A%84%E4%BB%A3%E7%A0%81%E8%BE%93%E5%87%BA%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},MS=s("#"),OS=s("50 React setState \u7B14\u8BD5\u9898\uFF0C\u4E0B\u9762\u7684\u4EE3\u7801\u8F93\u51FA\u4EC0\u4E48"),IS=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
  <span class="token comment">// \u7B2C 1 \u6B21 log</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
  <span class="token comment">// \u7B2C 2 \u6B21 log</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
    <span class="token comment">// \u7B2C 3 \u6B21 log</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val<span class="token punctuation">)</span>
    <span class="token comment">// \u7B2C 4 \u6B21 log</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u7B54\uFF1A0, 0, 1, 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div>`,1),RS={id:"_51-redux-\u4E2D\u95F4\u4EF6\u539F\u7406",tabindex:"-1"},VS=n("a",{class:"header-anchor",href:"#_51-redux-\u4E2D\u95F4\u4EF6\u539F\u7406","aria-hidden":"true"},"#",-1),HS=s(),LS={href:"http://interview.poetries.top/excellent-docs/6-React.html#_51-redux-%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},US=s("#"),JS=s("51 Redux \u4E2D\u95F4\u4EF6\u539F\u7406"),WS=n("ul",null,[n("li",null,"\u6307\u7684\u662Faction\u548Cstore\u4E4B\u95F4\uFF0C\u6C9F\u901A\u7684\u6865\u6881\u5C31\u662Fdispatch\uFF0Caction\u5C31\u662F\u4E2A\u5BF9\u8C61\u3002\u6BD4\u5982\u4F60\u7528\u4E86redux-thunk\uFF0Caction\u4E5F\u53EF\u4EE5\u662F\u4E2A\u51FD\u6570\uFF0C\u600E\u4E48\u5B9E\u73B0\u8FD9\u4E2A\u8FC7\u7A0B\uFF0C\u5C31\u662F\u901A\u8FC7\u4E2D\u95F4\u4EF6\u8FD9\u4E2A\u6865\u6881\u5E2E\u4F60\u5B9E\u73B0\u7684\u3002action\u5230\u8FBEstore\u4E4B\u524D\u4F1A\u8D70\u4E2D\u95F4\u4EF6\uFF0C\u8FD9\u4E2A\u4E2D\u95F4\u4EF6\u4F1A\u628A\u51FD\u6570\u5F0F\u7684action\u8F6C\u5316\u4E3A\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5728\u4F20\u9012\u7ED9store")],-1),zS={id:"_52-componentwillreceiveprops\u8C03\u7528\u65F6\u673A",tabindex:"-1"},GS=n("a",{class:"header-anchor",href:"#_52-componentwillreceiveprops\u8C03\u7528\u65F6\u673A","aria-hidden":"true"},"#",-1),$S=s(),XS={href:"http://interview.poetries.top/excellent-docs/6-React.html#_52-componentwillreceiveprops%E8%B0%83%E7%94%A8%E6%97%B6%E6%9C%BA",target:"_blank",rel:"noopener noreferrer"},KS=s("#"),QS=s("52 componentWillReceiveProps\u8C03\u7528\u65F6\u673A"),YS=n("ul",null,[n("li",null,"\u5DF2\u7ECF\u88AB\u5E9F\u5F03\u6389"),n("li",null,"\u5F53props\u6539\u53D8\u7684\u65F6\u5019\u624D\u8C03\u7528\uFF0C\u5B50\u7EC4\u4EF6\u7B2C\u4E8C\u6B21\u63A5\u6536\u5230props\u7684\u65F6\u5019")],-1),ZS={id:"_53-react-\u6027\u80FD\u4F18\u5316",tabindex:"-1"},nC=n("a",{class:"header-anchor",href:"#_53-react-\u6027\u80FD\u4F18\u5316","aria-hidden":"true"},"#",-1),sC=s(),aC={href:"http://interview.poetries.top/excellent-docs/6-React.html#_53-react-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},eC=s("#"),tC=s("53 React \u6027\u80FD\u4F18\u5316"),pC=n("ul",null,[n("li",null,"shouldCompoentUpdate"),n("li",null,"pureComponent \u81EA\u5E26shouldCompoentUpdate\u7684\u6D45\u6BD4\u8F83\u4F18\u5316"),n("li",null,"\u7ED3\u5408Immutable.js\u8FBE\u5230\u6700\u4F18")],-1),oC={id:"_54-refs\u7684\u4F5C\u7528\u662F\u4EC0\u4E48-\u4F60\u5728\u4EC0\u4E48\u6837\u7684\u4E1A\u52A1\u573A\u666F\u4E0B\u4F7F\u7528refs",tabindex:"-1"},cC=n("a",{class:"header-anchor",href:"#_54-refs\u7684\u4F5C\u7528\u662F\u4EC0\u4E48-\u4F60\u5728\u4EC0\u4E48\u6837\u7684\u4E1A\u52A1\u573A\u666F\u4E0B\u4F7F\u7528refs","aria-hidden":"true"},"#",-1),lC=s(),rC={href:"http://interview.poetries.top/excellent-docs/6-React.html#_54-refs%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88-%E4%BD%A0%E5%9C%A8%E4%BB%80%E4%B9%88%E6%A0%B7%E7%9A%84%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF%E4%B8%8B%E4%BD%BF%E7%94%A8refs",target:"_blank",rel:"noopener noreferrer"},iC=s("#"),uC=s("54 refs\u7684\u4F5C\u7528\u662F\u4EC0\u4E48\uFF0C\u4F60\u5728\u4EC0\u4E48\u6837\u7684\u4E1A\u52A1\u573A\u666F\u4E0B\u4F7F\u7528refs"),kC=n("ul",null,[n("li",null,"\u64CD\u4F5CDOM\uFF0C\u4E3A\u4EC0\u4E48\u64CD\u4F5CDOM?"),n("li",null,[s("\u573A\u666F "),n("ul",null,[n("li",null,"\u56FE\u7247\u6E32\u67D3\u597D\u540E\uFF0C\u64CD\u4F5C\u56FE\u7247\u5BBD\u9AD8\u3002\u6BD4\u5982\u505A\u4E2A\u653E\u5927\u955C\u529F\u80FD")])])],-1),dC={id:"_55-ref\u662F\u4E00\u4E2A\u51FD\u6570\u53C8\u6709\u4EC0\u4E48\u597D\u5904",tabindex:"-1"},bC=n("a",{class:"header-anchor",href:"#_55-ref\u662F\u4E00\u4E2A\u51FD\u6570\u53C8\u6709\u4EC0\u4E48\u597D\u5904","aria-hidden":"true"},"#",-1),mC=s(),hC={href:"http://interview.poetries.top/excellent-docs/6-React.html#_55-ref%E6%98%AF%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E5%8F%88%E6%9C%89%E4%BB%80%E4%B9%88%E5%A5%BD%E5%A4%84",target:"_blank",rel:"noopener noreferrer"},_C=s("#"),gC=s("55 ref\u662F\u4E00\u4E2A\u51FD\u6570\u53C8\u6709\u4EC0\u4E48\u597D\u5904\uFF1F"),EC=n("ul",null,[n("li",null,"\u65B9\u4FBFreact\u9500\u6BC1\u7EC4\u4EF6\u3001\u91CD\u65B0\u6E32\u67D3\u7684\u65F6\u5019\u53BB\u6E05\u7A7Arefs\u7684\u4E1C\u897F\uFF0C\u9632\u6B62\u5185\u5B58\u6CC4\u9732")],-1),fC={id:"_56-\u53D7\u63A7\u7EC4\u4EF6\u3001\u975E\u53D7\u63A7\u7EC4\u4EF6",tabindex:"-1"},vC=n("a",{class:"header-anchor",href:"#_56-\u53D7\u63A7\u7EC4\u4EF6\u3001\u975E\u53D7\u63A7\u7EC4\u4EF6","aria-hidden":"true"},"#",-1),wC=s(),yC={href:"http://interview.poetries.top/excellent-docs/6-React.html#_56-%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6%E3%80%81%E9%9D%9E%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},xC=s("#"),AC=s("56 \u53D7\u63A7\u7EC4\u4EF6\u3001\u975E\u53D7\u63A7\u7EC4\u4EF6"),BC=n("ul",null,[n("li",null,"\u53D7\u63A7\u7EC4\u4EF6\u5C31\u662F\u6539\u53D8\u53D7\u63A7\u4E8E\u6570\u636E\u7684\u53D8\u5316\uFF0C\u6570\u636E\u53D8\u4E86\u9875\u9762\u4E5F\u53D8\u4E86\u3002\u53D7\u63A7\u7EC4\u4EF6\u66F4\u5408\u9002\uFF0C\u6570\u636E\u9A71\u52A8\u662Freact\u6838\u5FC3"),n("li",null,"\u975E\u53D7\u63A7\u7EC4\u4EF6\u4E0D\u662F\u901A\u8FC7\u6570\u636E\u63A7\u5236\u9875\u9762\u5185\u5BB9")],-1),qC={id:"_57-\u54EA\u4E2A\u751F\u547D\u5468\u671F\u53D1\u9001ajax",tabindex:"-1"},jC=n("a",{class:"header-anchor",href:"#_57-\u54EA\u4E2A\u751F\u547D\u5468\u671F\u53D1\u9001ajax","aria-hidden":"true"},"#",-1),SC=s(),CC={href:"http://interview.poetries.top/excellent-docs/6-React.html#_57-%E5%93%AA%E4%B8%AA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%8F%91%E9%80%81ajax",target:"_blank",rel:"noopener noreferrer"},DC=s("#"),FC=s("57 \u54EA\u4E2A\u751F\u547D\u5468\u671F\u53D1\u9001ajax"),PC=n("ul",null,[n("li",null,"componentWillMount\u5728\u65B0\u7248\u672Creact\u4E2D\u5DF2\u7ECF\u88AB\u5E9F\u5F03\u4E86"),n("li",null,"\u5728\u505Assr\u9879\u76EE\u65F6\u5019\uFF0CcomponentWillMount\u8981\u505A\u670D\u52A1\u7AEF\u6570\u636E\u7684\u83B7\u53D6\uFF0C\u4E0D\u80FD\u88AB\u5360\u7528"),n("li",null,"\u6240\u4EE5\u5728componentDidMount\u4E2D\u8BF7\u6C42")],-1),TC={id:"_58-ssr\u539F\u7406\u662F\u4EC0\u4E48",tabindex:"-1"},NC=n("a",{class:"header-anchor",href:"#_58-ssr\u539F\u7406\u662F\u4EC0\u4E48","aria-hidden":"true"},"#",-1),MC=s(),OC={href:"http://interview.poetries.top/excellent-docs/6-React.html#_58-ssr%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},IC=s("#"),RC=s("58 ssr\u539F\u7406\u662F\u4EC0\u4E48\uFF1F"),VC=n("blockquote",null,[n("p",null,"\u6838\u5FC3\u539F\u7406\u5176\u5B9E\u5C31\u662F\u501F\u52A9\u865A\u62DFDOM\u6765\u5B9E\u73B0react\u4EE3\u7801\u80FD\u591F\u5728\u670D\u52A1\u5668\u8FD0\u884C\u7684\uFF0Cnode\u91CC\u9762\u53EF\u4EE5\u6267\u884Creact\u4EE3\u7801")],-1),HC={id:"_59-\u7EC4\u4EF6\u662F\u4EC0\u4E48-\u7C7B\u662F\u4EC0\u4E48-\u7C7B\u53D8\u7F16\u8BD1\u6210\u4EC0\u4E48",tabindex:"-1"},LC=n("a",{class:"header-anchor",href:"#_59-\u7EC4\u4EF6\u662F\u4EC0\u4E48-\u7C7B\u662F\u4EC0\u4E48-\u7C7B\u53D8\u7F16\u8BD1\u6210\u4EC0\u4E48","aria-hidden":"true"},"#",-1),UC=s(),JC={href:"http://interview.poetries.top/excellent-docs/6-React.html#_59-%E7%BB%84%E4%BB%B6%E6%98%AF%E4%BB%80%E4%B9%88-%E7%B1%BB%E6%98%AF%E4%BB%80%E4%B9%88-%E7%B1%BB%E5%8F%98%E7%BC%96%E8%AF%91%E6%88%90%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},WC=s("#"),zC=s("59 \u7EC4\u4EF6\u662F\u4EC0\u4E48\uFF1F\u7C7B\u662F\u4EC0\u4E48\uFF1F\u7C7B\u53D8\u7F16\u8BD1\u6210\u4EC0\u4E48"),GC=n("ul",null,[n("li",null,"\u7EC4\u4EF6\u6307\u7684\u662F\u9875\u9762\u7684\u4E00\u90E8\u5206\uFF0C\u672C\u8D28\u5C31\u662F\u4E00\u4E2A\u7C7B\uFF0C\u6700\u672C\u8D28\u5C31\u662F\u4E00\u4E2A\u6784\u9020\u51FD\u6570"),n("li",null,"\u7C7B\u7F16\u8BD1\u6210\u6784\u9020\u51FD\u6570")],-1),$C={id:"_60-\u5982\u4F55\u907F\u514D\u91CD\u590D\u53D1\u8D77ajax\u83B7\u53D6\u6570\u636E",tabindex:"-1"},XC=n("a",{class:"header-anchor",href:"#_60-\u5982\u4F55\u907F\u514D\u91CD\u590D\u53D1\u8D77ajax\u83B7\u53D6\u6570\u636E","aria-hidden":"true"},"#",-1),KC=s(),QC={href:"http://interview.poetries.top/excellent-docs/6-React.html#_60-%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E9%87%8D%E5%A4%8D%E5%8F%91%E8%B5%B7ajax%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE",target:"_blank",rel:"noopener noreferrer"},YC=s("#"),ZC=s("60 \u5982\u4F55\u907F\u514D\u91CD\u590D\u53D1\u8D77ajax\u83B7\u53D6\u6570\u636E\uFF1F"),nD=n("ul",null,[n("li",null,"\u6570\u636E\u653E\u5728redux\u91CC\u9762")],-1),sD={id:"_61-react-router4\u7684\u6838\u5FC3",tabindex:"-1"},aD=n("a",{class:"header-anchor",href:"#_61-react-router4\u7684\u6838\u5FC3","aria-hidden":"true"},"#",-1),eD=s(),tD={href:"http://interview.poetries.top/excellent-docs/6-React.html#_61-react-router4%E7%9A%84%E6%A0%B8%E5%BF%83",target:"_blank",rel:"noopener noreferrer"},pD=s("#"),oD=s("61 react-router4\u7684\u6838\u5FC3"),cD=n("ul",null,[n("li",null,"\u8DEF\u7531\u53D8\u6210\u4E86\u7EC4\u4EF6"),n("li",null,[s("\u5206\u6563\u5230\u5404\u4E2A\u9875\u9762\uFF0C\u4E0D\u9700\u8981\u914D\u7F6E \u6BD4\u5982"),n("code",null,"<link> <route></route>")])],-1),lD={id:"_62-\u4EC0\u4E48\u60C5\u51B5\u4E0B\u4F7F\u7528\u5F02\u6B65\u7EC4\u4EF6",tabindex:"-1"},rD=n("a",{class:"header-anchor",href:"#_62-\u4EC0\u4E48\u60C5\u51B5\u4E0B\u4F7F\u7528\u5F02\u6B65\u7EC4\u4EF6","aria-hidden":"true"},"#",-1),iD=s(),uD={href:"http://interview.poetries.top/excellent-docs/6-React.html#_62-%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E4%BD%BF%E7%94%A8%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},kD=s("#"),dD=s("62 \u4EC0\u4E48\u60C5\u51B5\u4E0B\u4F7F\u7528\u5F02\u6B65\u7EC4\u4EF6"),bD=n("ul",null,[n("li",null,[s("\u63D0\u9AD8\u9875\u9762\u52A0\u8F7D\u901F\u5EA6\uFF0C\u4F7F\u7528"),n("code",null,"reloadable"),s("\u628A\u5404\u4E2A\u9875\u9762\u5206\u522B\u5355\u72EC\u6253\u5305\uFF0C\u6309\u9700\u52A0\u8F7D")])],-1),mD={id:"useeffect-fn-\u548C-componentdidmount-\u6709\u4EC0\u4E48\u5DEE\u5F02",tabindex:"-1"},hD=n("a",{class:"header-anchor",href:"#useeffect-fn-\u548C-componentdidmount-\u6709\u4EC0\u4E48\u5DEE\u5F02","aria-hidden":"true"},"#",-1),_D=s(),gD={href:"http://interview.poetries.top/excellent-docs/6-React.html#useeffect-fn-%E5%92%8C-componentdidmount-%E6%9C%89%E4%BB%80%E4%B9%88%E5%B7%AE%E5%BC%82",target:"_blank",rel:"noopener noreferrer"},ED=s("#"),fD=s("useEffect(fn, []) \u548C componentDidMount \u6709\u4EC0\u4E48\u5DEE\u5F02"),vD=n("blockquote",null,[n("p",null,[n("code",null,"useEffect"),s(" \u4F1A\u6355\u83B7 "),n("code",null,"props"),s(" \u548C state\u3002\u6240\u4EE5\u5373\u4FBF\u5728\u56DE\u8C03\u51FD\u6570\u91CC\uFF0C\u4F60\u62FF\u5230\u7684\u8FD8\u662F\u521D\u59CB\u7684 props \u548C state\u3002\u5982\u679C\u60F3\u5F97\u5230\u201C\u6700\u65B0\u201D\u7684\u503C\uFF0C\u53EF\u4EE5\u4F7F\u7528 ref\u3002")])],-1),wD={id:"hooks-\u4E3A\u4EC0\u4E48\u4E0D\u80FD\u653E\u5728\u6761\u4EF6\u5224\u65AD\u91CC",tabindex:"-1"},yD=n("a",{class:"header-anchor",href:"#hooks-\u4E3A\u4EC0\u4E48\u4E0D\u80FD\u653E\u5728\u6761\u4EF6\u5224\u65AD\u91CC","aria-hidden":"true"},"#",-1),xD=s(),AD={href:"http://interview.poetries.top/excellent-docs/6-React.html#hooks-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E8%83%BD%E6%94%BE%E5%9C%A8%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E9%87%8C",target:"_blank",rel:"noopener noreferrer"},BD=s("#"),qD=s("hooks \u4E3A\u4EC0\u4E48\u4E0D\u80FD\u653E\u5728\u6761\u4EF6\u5224\u65AD\u91CC"),jD=n("p",null,"\u4EE5 setState \u4E3A\u4F8B\uFF0C\u5728 react \u5185\u90E8\uFF0C\u6BCF\u4E2A\u7EC4\u4EF6(Fiber)\u7684 hooks \u90FD\u662F\u4EE5\u94FE\u8868\u7684\u5F62\u5F0F\u5B58\u5728 memoizeState \u5C5E\u6027\u4E2D",-1),SD=n("p",null,[n("img",{src:"http://img-repo.poetries.top/images/image-20210302195353472.png",alt:"image-20210302195353472"})],-1),CD=n("blockquote",null,[n("p",null,"update \u9636\u6BB5\uFF0C\u6BCF\u6B21\u8C03\u7528 setState\uFF0C\u94FE\u8868\u5C31\u4F1A\u6267\u884C next \u5411\u540E\u79FB\u52A8\u4E00\u6B65\u3002\u5982\u679C\u5C06 setState \u5199\u5728\u6761\u4EF6\u5224\u65AD\u4E2D\uFF0C\u5047\u8BBE\u6761\u4EF6\u5224\u65AD\u4E0D\u6210\u7ACB\uFF0C\u6CA1\u6709\u6267\u884C\u91CC\u9762\u7684 setState \u65B9\u6CD5\uFF0C\u4F1A\u5BFC\u81F4\u63A5\u4E0B\u6765\u6240\u6709\u7684 setState \u7684\u53D6\u503C\u51FA\u73B0\u504F\u79FB\uFF0C\u4ECE\u800C\u5BFC\u81F4\u5F02\u5E38\u53D1\u751F\u3002")],-1),DD={id:"react-\u7236\u7EC4\u4EF6\u5982\u4F55\u8C03\u7528\u5B50\u7EC4\u4EF6\u4E2D\u7684\u65B9\u6CD5",tabindex:"-1"},FD=n("a",{class:"header-anchor",href:"#react-\u7236\u7EC4\u4EF6\u5982\u4F55\u8C03\u7528\u5B50\u7EC4\u4EF6\u4E2D\u7684\u65B9\u6CD5","aria-hidden":"true"},"#",-1),PD=s(),TD={href:"http://interview.poetries.top/excellent-docs/6-React.html#react-%E7%88%B6%E7%BB%84%E4%BB%B6%E5%A6%82%E4%BD%95%E8%B0%83%E7%94%A8%E5%AD%90%E7%BB%84%E4%BB%B6%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95",target:"_blank",rel:"noopener noreferrer"},ND=s("#"),MD=s("React \u7236\u7EC4\u4EF6\u5982\u4F55\u8C03\u7528\u5B50\u7EC4\u4EF6\u4E2D\u7684\u65B9\u6CD5\uFF1F"),OD=t(`<ol><li>\u5982\u679C\u662F\u5728\u65B9\u6CD5\u7EC4\u4EF6\u4E2D\u8C03\u7528\u5B50\u7EC4\u4EF6\uFF08&gt;= react@16.8\uFF09\uFF0C\u53EF\u4EE5\u4F7F\u7528 useRef \u548C <code>useImperativeHandle</code>:</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> forwardRef<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useImperativeHandle <span class="token punctuation">}</span> <span class="token operator">=</span> React<span class="token punctuation">;</span>

<span class="token keyword">const</span> Child <span class="token operator">=</span> <span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">useImperativeHandle</span><span class="token punctuation">(</span>ref<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">getAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;getAlert from Child&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hi<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Parent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> childRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Child ref<span class="token operator">=</span><span class="token punctuation">{</span>childRef<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> childRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">getAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>Click<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ol><li>\u5982\u679C\u662F\u5728\u7C7B\u7EC4\u4EF6\u4E2D\u8C03\u7528\u5B50\u7EC4\u4EF6\uFF08<code>&gt;= react@16.4</code>\uFF09\uFF0C\u53EF\u4EE5\u4F7F\u7528 createRef:</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const { Component } = React;

class Parent extends Component {
  constructor(props) {
    super(props);
    this.child = React.createRef();
  }

  onClick = () =&gt; {
    this.child.current.getAlert();
  };

  render() {
    return (
      &lt;div&gt;
        &lt;Child ref={this.child} /&gt;
        &lt;button onClick={this.onClick}&gt;Click&lt;/button&gt;
      &lt;/div&gt;
    );
  }
}

class Child extends Component {
  getAlert() {
    alert(&#39;getAlert from Child&#39;);
  }

  render() {
    return &lt;h1&gt;Hello&lt;/h1&gt;;
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div>`,4),ID={id:"_63-react\u6709\u54EA\u4E9B\u4F18\u5316\u6027\u80FD\u7684\u624B\u6BB5",tabindex:"-1"},RD=n("a",{class:"header-anchor",href:"#_63-react\u6709\u54EA\u4E9B\u4F18\u5316\u6027\u80FD\u7684\u624B\u6BB5","aria-hidden":"true"},"#",-1),VD=s(),HD={href:"http://interview.poetries.top/excellent-docs/6-React.html#_63-react%E6%9C%89%E5%93%AA%E4%BA%9B%E4%BC%98%E5%8C%96%E6%80%A7%E8%83%BD%E7%9A%84%E6%89%8B%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"},LD=s("#"),UD=s("63 React\u6709\u54EA\u4E9B\u4F18\u5316\u6027\u80FD\u7684\u624B\u6BB5"),JD=t(`<p><strong>\u7C7B\u7EC4\u4EF6\u4E2D\u7684\u4F18\u5316\u624B\u6BB5</strong></p><ul><li>\u4F7F\u7528\u7EAF\u7EC4\u4EF6 <code>PureComponent</code> \u4F5C\u4E3A\u57FA\u7C7B\u3002</li><li>\u4F7F\u7528 <code>React.memo</code> \u9AD8\u9636\u51FD\u6570\u5305\u88C5\u7EC4\u4EF6\u3002</li><li>\u4F7F\u7528 <code>shouldComponentUpdate</code> \u751F\u547D\u5468\u671F\u51FD\u6570\u6765\u81EA\u5B9A\u4E49\u6E32\u67D3\u903B\u8F91\u3002</li></ul><p><strong>\u65B9\u6CD5\u7EC4\u4EF6\u4E2D\u7684\u4F18\u5316\u624B\u6BB5</strong></p><ul><li>\u4F7F\u7528 <code>useMemo</code>\u3002</li><li>\u4F7F\u7528 <code>useCallBack</code>\u3002</li></ul><p><strong>\u5176\u4ED6\u65B9\u5F0F</strong></p><ul><li>\u5728\u5217\u8868\u9700\u8981\u9891\u7E41\u53D8\u52A8\u65F6\uFF0C\u4F7F\u7528\u552F\u4E00 id \u4F5C\u4E3A key\uFF0C\u800C\u4E0D\u662F\u6570\u7EC4\u4E0B\u6807\u3002</li><li>\u5FC5\u8981\u65F6\u901A\u8FC7\u6539\u53D8 CSS \u6837\u5F0F\u9690\u85CF\u663E\u793A\u7EC4\u4EF6\uFF0C\u800C\u4E0D\u662F\u901A\u8FC7\u6761\u4EF6\u5224\u65AD\u663E\u793A\u9690\u85CF\u7EC4\u4EF6\u3002</li><li>\u4F7F\u7528 <code>Suspense</code> \u548C lazy \u8FDB\u884C\u61D2\u52A0\u8F7D\uFF0C\u4F8B\u5982\uFF1A</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> lazy<span class="token punctuation">,</span> Suspense <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">CallingLazyComponents</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ComponentToLazyLoad <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&quot;Mayank&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ComponentToLazyLoad <span class="token operator">=</span> <span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;./mayankComponent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&quot;Anshul&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ComponentToLazyLoad <span class="token operator">=</span> <span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;./anshulComponent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>This is the Base User<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Suspense fallback<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Loading<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>ComponentToLazyLoad <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Suspense<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div>`,7),WD={id:"_64-\u4E3A\u4EC0\u4E48-react-\u5143\u7D20\u6709\u4E00\u4E2A-typeof-\u5C5E\u6027",tabindex:"-1"},zD=n("a",{class:"header-anchor",href:"#_64-\u4E3A\u4EC0\u4E48-react-\u5143\u7D20\u6709\u4E00\u4E2A-typeof-\u5C5E\u6027","aria-hidden":"true"},"#",-1),GD=s(),$D={href:"http://interview.poetries.top/excellent-docs/6-React.html#_64-%E4%B8%BA%E4%BB%80%E4%B9%88-react-%E5%85%83%E7%B4%A0%E6%9C%89%E4%B8%80%E4%B8%AA-typeof-%E5%B1%9E%E6%80%A7",target:"_blank",rel:"noopener noreferrer"},XD=s("#"),KD=s("64 \u4E3A\u4EC0\u4E48 React \u5143\u7D20\u6709\u4E00\u4E2A $$typeof \u5C5E\u6027"),QD=t(`<p><img src="http://img-repo.poetries.top/images/image-20210302200213923.png" alt="image-20210302200213923"></p><blockquote><p>\u76EE\u7684\u662F\u4E3A\u4E86\u9632\u6B62 XSS \u653B\u51FB\u3002\u56E0\u4E3A Synbol \u65E0\u6CD5\u88AB\u5E8F\u5217\u5316\uFF0C\u6240\u4EE5 React \u53EF\u4EE5\u901A\u8FC7\u6709\u6CA1\u6709 $$typeof \u5C5E\u6027\u6765\u65AD\u51FA\u5F53\u524D\u7684 element \u5BF9\u8C61\u662F\u4ECE\u6570\u636E\u5E93\u6765\u7684\u8FD8\u662F\u81EA\u5DF1\u751F\u6210\u7684\u3002</p></blockquote><ul><li>\u5982\u679C\u6CA1\u6709 $$typeof \u8FD9\u4E2A\u5C5E\u6027\uFF0Creact \u4F1A\u62D2\u7EDD\u5904\u7406\u8BE5\u5143\u7D20\u3002</li><li>\u5728 React \u7684\u53E4\u8001\u7248\u672C\u4E2D\uFF0C\u4E0B\u9762\u7684\u5199\u6CD5\u4F1A\u51FA\u73B0 XSS \u653B\u51FB\uFF1A</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u670D\u52A1\u7AEF\u5141\u8BB8\u7528\u6237\u5B58\u50A8 JSON
let expectedTextButGotJSON = {
  type: &#39;div&#39;,
  props: {
    dangerouslySetInnerHTML: {
      __html: &#39;/* \u628A\u4F60\u60F3\u7684\u6401\u7740 */&#39;
    },
  },
  // ...
};
let message = { text: expectedTextButGotJSON };

// React 0.13 \u4E2D\u6709\u98CE\u9669
&lt;p&gt;
  {message.text}
&lt;/p&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div>`,4),YD={id:"_65-react-\u5982\u4F55\u533A\u5206-class\u7EC4\u4EF6-\u548C-function\u7EC4\u4EF6",tabindex:"-1"},ZD=n("a",{class:"header-anchor",href:"#_65-react-\u5982\u4F55\u533A\u5206-class\u7EC4\u4EF6-\u548C-function\u7EC4\u4EF6","aria-hidden":"true"},"#",-1),nF=s(),sF={href:"http://interview.poetries.top/excellent-docs/6-React.html#_65-react-%E5%A6%82%E4%BD%95%E5%8C%BA%E5%88%86-class%E7%BB%84%E4%BB%B6-%E5%92%8C-function%E7%BB%84%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},aF=s("#"),eF=s("65 React \u5982\u4F55\u533A\u5206 Class\u7EC4\u4EF6 \u548C Function\u7EC4\u4EF6"),tF=t(`<p>\u4E00\u822C\u7684\u65B9\u5F0F\u662F\u501F\u52A9 typeof \u548C Function.prototype.toString \u6765\u5224\u65AD\u5F53\u524D\u662F\u4E0D\u662F class\uFF0C\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isClass</span><span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> func <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span>
    <span class="token operator">&amp;&amp;</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^class\\s</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u4F46\u662F\u8FD9\u4E2A\u65B9\u5F0F\u6709\u5B83\u7684\u5C40\u9650\u6027\uFF0C\u56E0\u4E3A\u5982\u679C\u7528\u4E86 babel \u7B49\u8F6C\u6362\u5DE5\u5177\uFF0C\u5C06 class \u5199\u6CD5\u5168\u90E8\u8F6C\u4E3A function \u5199\u6CD5\uFF0C\u4E0A\u9762\u7684\u5224\u65AD\u5C31\u4F1A\u5931\u6548\u3002</p><blockquote><p>React \u533A\u5206 Class\u7EC4\u4EF6 \u548C Function\u7EC4\u4EF6\u7684\u65B9\u5F0F\u5F88\u5DE7\u5999\uFF0C\u7531\u4E8E\u6240\u6709\u7684\u7C7B\u7EC4\u4EF6\u90FD\u8981\u7EE7\u627F React.Component\uFF0C\u6240\u4EE5\u53EA\u8981\u5224\u65AD\u539F\u578B\u94FE\u4E0A\u662F\u5426\u6709 React.Component \u5C31\u53EF\u4EE5\u4E86\uFF1A</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>AComponent.prototype instanceof React.Component
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,5),pF={id:"_66-\u4E3A\u4EC0\u4E48-jsx-\u4E2D\u7684\u7EC4\u4EF6\u540D\u8981\u4EE5\u5927\u5199\u5B57\u6BCD\u5F00\u5934",tabindex:"-1"},oF=n("a",{class:"header-anchor",href:"#_66-\u4E3A\u4EC0\u4E48-jsx-\u4E2D\u7684\u7EC4\u4EF6\u540D\u8981\u4EE5\u5927\u5199\u5B57\u6BCD\u5F00\u5934","aria-hidden":"true"},"#",-1),cF=s(),lF={href:"http://interview.poetries.top/excellent-docs/6-React.html#_66-%E4%B8%BA%E4%BB%80%E4%B9%88-jsx-%E4%B8%AD%E7%9A%84%E7%BB%84%E4%BB%B6%E5%90%8D%E8%A6%81%E4%BB%A5%E5%A4%A7%E5%86%99%E5%AD%97%E6%AF%8D%E5%BC%80%E5%A4%B4",target:"_blank",rel:"noopener noreferrer"},rF=s("#"),iF=s("66 \u4E3A\u4EC0\u4E48 JSX \u4E2D\u7684\u7EC4\u4EF6\u540D\u8981\u4EE5\u5927\u5199\u5B57\u6BCD\u5F00\u5934"),uF=n("p",null,"\u56E0\u4E3A React \u8981\u77E5\u9053\u5F53\u524D\u6E32\u67D3\u7684\u662F\u7EC4\u4EF6\u8FD8\u662F HTML \u5143\u7D20",-1),kF={id:"_67-react-redux-\u7684\u5B9E\u73B0\u539F\u7406",tabindex:"-1"},dF=n("a",{class:"header-anchor",href:"#_67-react-redux-\u7684\u5B9E\u73B0\u539F\u7406","aria-hidden":"true"},"#",-1),bF=s(),mF={href:"http://interview.poetries.top/excellent-docs/6-React.html#_67-react-redux-%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},hF=s("#"),_F=s("67 react-redux \u7684\u5B9E\u73B0\u539F\u7406\uFF1F"),gF=n("blockquote",null,[n("p",null,"\u901A\u8FC7 redux \u548C react context \u914D\u5408\u4F7F\u7528\uFF0C\u5E76\u501F\u52A9\u9AD8\u9636\u51FD\u6570\uFF0C\u5B9E\u73B0\u4E86 react-redux")],-1),EF={id:"_68-diff\u7B97\u6CD5\u662F\u600E\u4E48\u8FD0\u4F5C",tabindex:"-1"},fF=n("a",{class:"header-anchor",href:"#_68-diff\u7B97\u6CD5\u662F\u600E\u4E48\u8FD0\u4F5C","aria-hidden":"true"},"#",-1),vF=s(),wF={href:"http://interview.poetries.top/excellent-docs/6-React.html#_68-diff%E7%AE%97%E6%B3%95%E6%98%AF%E6%80%8E%E4%B9%88%E8%BF%90%E4%BD%9C",target:"_blank",rel:"noopener noreferrer"},yF=s("#"),xF=s("68 diff\u7B97\u6CD5\u662F\u600E\u4E48\u8FD0\u4F5C"),AF=n("p",null,"\u6BCF\u4E00\u79CD\u8282\u70B9\u7C7B\u578B\u6709\u81EA\u5DF1\u7684\u5C5E\u6027\uFF0C\u4E5F\u5C31\u662Fprop\uFF0C\u6BCF\u6B21\u8FDB\u884Cdiff\u7684\u65F6\u5019\uFF0Creact\u4F1A\u5148\u6BD4\u8F83\u8BE5\u8282\u70B9\u7C7B\u578B\uFF0C\u5047\u5982\u8282\u70B9\u7C7B\u578B\u4E0D\u4E00\u6837\uFF0C\u90A3\u4E48react\u4F1A\u76F4\u63A5\u5220\u9664\u8BE5\u8282\u70B9\uFF0C\u7136\u540E\u76F4\u63A5\u521B\u5EFA\u65B0\u7684\u8282\u70B9\u63D2\u5165\u5230\u5176\u4E2D\uFF0C\u5047\u5982\u8282\u70B9\u7C7B\u578B\u4E00\u6837\uFF0C\u90A3\u4E48\u4F1A\u6BD4\u8F83prop\u662F\u5426\u6709\u66F4\u65B0\uFF0C\u5047\u5982\u6709prop\u4E0D\u4E00\u6837\uFF0C\u90A3\u4E48react\u4F1A\u5224\u5B9A\u8BE5\u8282\u70B9\u6709\u66F4\u65B0\uFF0C\u90A3\u4E48\u91CD\u6E32\u67D3\u8BE5\u8282\u70B9\uFF0C\u7136\u540E\u5728\u5BF9\u5176\u5B50\u8282\u70B9\u8FDB\u884C\u6BD4\u8F83\uFF0C\u4E00\u5C42\u4E00\u5C42\u5F80\u4E0B\uFF0C\u76F4\u5230\u6CA1\u6709\u5B50\u8282\u70B9",-1),BF={id:"_69-react\u4E2D\u8FD9\u4E24\u4E2A\u751F\u547D\u5468\u671F\u4F1A\u89E6\u53D1\u6B7B\u5FAA\u73AF",tabindex:"-1"},qF=n("a",{class:"header-anchor",href:"#_69-react\u4E2D\u8FD9\u4E24\u4E2A\u751F\u547D\u5468\u671F\u4F1A\u89E6\u53D1\u6B7B\u5FAA\u73AF","aria-hidden":"true"},"#",-1),jF=s(),SF={href:"http://interview.poetries.top/excellent-docs/6-React.html#_69-react%E4%B8%AD%E8%BF%99%E4%B8%A4%E4%B8%AA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%BC%9A%E8%A7%A6%E5%8F%91%E6%AD%BB%E5%BE%AA%E7%8E%AF",target:"_blank",rel:"noopener noreferrer"},CF=s("#"),DF=s("69 react\u4E2D\u8FD9\u4E24\u4E2A\u751F\u547D\u5468\u671F\u4F1A\u89E6\u53D1\u6B7B\u5FAA\u73AF"),FF=n("blockquote",null,[n("p",null,[n("code",null,"componentWillUpdate"),s("\u751F\u547D\u5468\u671F\u5728"),n("code",null,"shouldComponentUpdate"),s("\u8FD4\u56DEtrue\u540E\u88AB\u89E6\u53D1\u3002\u5728\u8FD9\u4E24\u4E2A\u751F\u547D\u5468\u671F\u53EA\u8981\u89C6\u56FE\u66F4\u65B0\u5C31\u4F1A\u89E6\u53D1\uFF0C\u56E0\u6B64\u4E0D\u80FD\u518D\u8FD9\u4E24\u4E2A\u751F\u547D\u5468\u671F\u4E2D\u4F7F\u7528setState\u3002\u5426\u5219\u4F1A\u5BFC\u81F4\u6B7B\u5FAA\u73AF")])],-1),PF={id:"_70-dva\u5DE5\u4F5C\u539F\u7406",tabindex:"-1"},TF=n("a",{class:"header-anchor",href:"#_70-dva\u5DE5\u4F5C\u539F\u7406","aria-hidden":"true"},"#",-1),NF=s(),MF={href:"http://interview.poetries.top/excellent-docs/6-React.html#_70-dva%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},OF=s("#"),IF=s("70 Dva\u5DE5\u4F5C\u539F\u7406"),RF=t("<blockquote><p>\u96C6\u6210<code>redux+redux-saga</code></p></blockquote><p><strong>\u5DE5\u4F5C\u539F\u7406</strong></p><blockquote><p>\u6539\u53D8\u53D1\u751F\u901A\u5E38\u662F\u901A\u8FC7\u7528\u6237\u4EA4\u4E92\u884C\u4E3A\u6216\u8005\u6D4F\u89C8\u5668\u884C\u4E3A\uFF08\u5982\u8DEF\u7531\u8DF3\u8F6C\u7B49\uFF09\u89E6\u53D1\u7684\uFF0C\u5F53\u6B64\u7C7B\u884C\u4E3A\u4F1A\u6539\u53D8\u6570\u636E\u7684\u65F6\u5019\u53EF\u4EE5\u901A\u8FC7 <code>dispatch</code> \u53D1\u8D77\u4E00\u4E2A <code>action</code>\uFF0C\u5982\u679C\u662F\u540C\u6B65\u884C\u4E3A\u4F1A\u76F4\u63A5\u901A\u8FC7 <code>Reducers</code> \u6539\u53D8 <code>State</code> \uFF0C\u5982\u679C\u662F\u5F02\u6B65\u884C\u4E3A\uFF08\u526F\u4F5C\u7528\uFF09\u4F1A\u5148\u89E6\u53D1 <code>Effects</code> \u7136\u540E\u6D41\u5411 <code>Reducers</code> \u6700\u7EC8\u6539\u53D8 <code>State</code></p></blockquote>",3),VF={id:"_71-redux\u5185\u90E8\u539F\u7406-\u5185\u90E8\u600E\u4E48\u5B9E\u73B0dispstch\u4E00\u4E2A\u51FD\u6570\u7684",tabindex:"-1"},HF=n("a",{class:"header-anchor",href:"#_71-redux\u5185\u90E8\u539F\u7406-\u5185\u90E8\u600E\u4E48\u5B9E\u73B0dispstch\u4E00\u4E2A\u51FD\u6570\u7684","aria-hidden":"true"},"#",-1),LF=s(),UF={href:"http://interview.poetries.top/excellent-docs/6-React.html#_71-redux%E5%86%85%E9%83%A8%E5%8E%9F%E7%90%86-%E5%86%85%E9%83%A8%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0dispstch%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},JF=s("#"),WF=s("71 Redux\u5185\u90E8\u539F\u7406 \u5185\u90E8\u600E\u4E48\u5B9E\u73B0dispstch\u4E00\u4E2A\u51FD\u6570\u7684"),zF=t(`<blockquote><p>\u4EE5<code>redux-thunk</code>\u4E2D\u95F4\u4EF6\u4F5C\u4E3A\u4F8B\u5B50\uFF0C\u4E0B\u9762\u5C31\u662F<code>thunkMiddleware</code>\u51FD\u6570\u7684\u4EE3\u7801</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u90E8\u5206\u8F6C\u4E3AES5\u4EE3\u7801\uFF0C\u8FD0\u884Cmiddleware\u51FD\u6570\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u51FD\u6570\uFF0C\u5982\u4E0B\uFF1A</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> dispatch<span class="token punctuation">,</span> getState <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// next\u5B9E\u9645\u5C31\u662F\u4F20\u5165\u7684dispatch</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// redux-thunk\u6838\u5FC3</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> action <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token keyword">return</span> <span class="token function">action</span><span class="token punctuation">(</span>dispatch<span class="token punctuation">,</span> getState<span class="token punctuation">,</span> extraArgument<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p><code>redux-thunk</code>\u5E93\u5185\u90E8\u6E90\u7801\u975E\u5E38\u7684\u7B80\u5355\uFF0C\u5141\u8BB8<code>action</code>\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u540C\u65F6\u652F\u6301\u53C2\u6570\u4F20\u9012\uFF0C\u5426\u5219\u8C03\u7528\u65B9\u6CD5\u4E0D\u53D8</p></blockquote><ul><li><code>redux</code>\u521B\u5EFA<code>Store</code>\uFF1A\u901A\u8FC7<code>combineReducers</code>\u51FD\u6570\u5408\u5E76<code>reducer</code>\u51FD\u6570\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u51FD\u6570<code>combination</code>\uFF08\u8FD9\u4E2A\u51FD\u6570\u8D1F\u8D23\u5FAA\u73AF\u904D\u5386\u8FD0\u884C<code>reducer</code>\u51FD\u6570\uFF0C\u8FD4\u56DE\u5168\u90E8<code>state</code>\uFF09\u3002\u5C06\u8FD9\u4E2A\u65B0\u51FD\u6570\u4F5C\u4E3A\u53C2\u6570\u4F20\u5165<code>createStore</code>\u51FD\u6570\uFF0C\u51FD\u6570\u5185\u90E8\u901A\u8FC7dispatch\uFF0C\u521D\u59CB\u5316\u8FD0\u884C\u4F20\u5165\u7684<code>combination</code>\uFF0Cstate\u751F\u6210\uFF0C\u8FD4\u56DEstore\u5BF9\u8C61</li><li><code>redux</code>\u4E2D\u95F4\u4EF6\uFF1A<code>applyMiddleware</code>\u51FD\u6570\u4E2D\u95F4\u4EF6\u7684\u4E3B\u8981\u76EE\u7684\u5C31\u662F\u4FEE\u6539<code>dispatch</code>\u51FD\u6570\uFF0C\u8FD4\u56DE\u7ECF\u8FC7\u4E2D\u95F4\u4EF6\u5904\u7406\u7684\u65B0\u7684<code>dispatch</code>\u51FD\u6570</li><li><code>redux</code>\u4F7F\u7528\uFF1A\u5B9E\u9645\u5C31\u662F\u518D\u6B21\u8C03\u7528\u5FAA\u73AF\u904D\u5386\u8C03\u7528<code>reducer</code>\u51FD\u6570\uFF0C\u66F4\u65B0<code>state</code></li></ul>`,4),GF={id:"_72-\u8C03\u548C\u9636\u6BB5-setstate\u5185\u90E8\u5E72\u4E86\u4EC0\u4E48",tabindex:"-1"},$F=n("a",{class:"header-anchor",href:"#_72-\u8C03\u548C\u9636\u6BB5-setstate\u5185\u90E8\u5E72\u4E86\u4EC0\u4E48","aria-hidden":"true"},"#",-1),XF=s(),KF={href:"http://interview.poetries.top/excellent-docs/6-React.html#_72-%E8%B0%83%E5%92%8C%E9%98%B6%E6%AE%B5-setstate%E5%86%85%E9%83%A8%E5%B9%B2%E4%BA%86%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},QF=s("#"),YF=s("72 \u8C03\u548C\u9636\u6BB5 setState\u5185\u90E8\u5E72\u4E86\u4EC0\u4E48"),ZF=t("<ul><li>\u5F53\u8C03\u7528 setState \u65F6\uFF0CReact\u4F1A\u505A\u7684\u7B2C\u4E00\u4EF6\u4E8B\u60C5\u662F\u5C06\u4F20\u9012\u7ED9 setState \u7684\u5BF9\u8C61\u5408\u5E76\u5230\u7EC4\u4EF6\u7684\u5F53\u524D\u72B6\u6001</li><li>\u8FD9\u5C06\u542F\u52A8\u4E00\u4E2A\u79F0\u4E3A\u548C\u89E3\uFF08<code>reconciliation</code>\uFF09\u7684\u8FC7\u7A0B\u3002\u548C\u89E3\uFF08<code>reconciliation</code>\uFF09\u7684\u6700\u7EC8\u76EE\u6807\u662F\u4EE5\u6700\u6709\u6548\u7684\u65B9\u5F0F\uFF0C\u6839\u636E\u8FD9\u4E2A\u65B0\u7684\u72B6\u6001\u6765\u66F4\u65B0<code>UI</code>\u3002 \u4E3A\u6B64\uFF0C<code>React</code>\u5C06\u6784\u5EFA\u4E00\u4E2A\u65B0\u7684 <code>React</code> \u5143\u7D20\u6811\uFF08\u60A8\u53EF\u4EE5\u5C06\u5176\u89C6\u4E3A <code>UI</code> \u7684\u5BF9\u8C61\u8868\u793A\uFF09</li><li>\u4E00\u65E6\u6709\u4E86\u8FD9\u4E2A\u6811\uFF0C\u4E3A\u4E86\u5F04\u6E05 UI \u5982\u4F55\u54CD\u5E94\u65B0\u7684\u72B6\u6001\u800C\u6539\u53D8\uFF0CReact \u4F1A\u5C06\u8FD9\u4E2A\u65B0\u6811\u4E0E\u4E0A\u4E00\u4E2A\u5143\u7D20\u6811\u76F8\u6BD4\u8F83\uFF08 diff \uFF09</li></ul><blockquote><p>\u901A\u8FC7\u8FD9\u6837\u505A\uFF0C React \u5C06\u4F1A\u77E5\u9053\u53D1\u751F\u7684\u786E\u5207\u53D8\u5316\uFF0C\u5E76\u4E14\u901A\u8FC7\u4E86\u89E3\u53D1\u751F\u4EC0\u4E48\u53D8\u5316\uFF0C\u53EA\u9700\u5728\u7EDD\u5BF9\u5FC5\u8981\u7684\u60C5\u51B5\u4E0B\u8FDB\u884C\u66F4\u65B0\u5373\u53EF\u6700\u5C0F\u5316 UI \u7684\u5360\u7528\u7A7A\u95F4</p></blockquote>",2),nP={id:"_73-createelement\u8FC7\u7A0B",tabindex:"-1"},sP=n("a",{class:"header-anchor",href:"#_73-createelement\u8FC7\u7A0B","aria-hidden":"true"},"#",-1),aP=s(),eP={href:"http://interview.poetries.top/excellent-docs/6-React.html#_73-createelement%E8%BF%87%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},tP=s("#"),pP=s("73 createElement\u8FC7\u7A0B"),oP=t(`<blockquote><p>React.createElement()\uFF1A \u6839\u636E\u6307\u5B9A\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u521B\u5EFA\u4E00\u4E2AReact\u5143\u7D20</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>React.createElement(
  type,
  [props],
  [...children]
)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u5FC5\u586B\uFF0C\u4F20\u5165\u7684\u662F\u4F3CHTML\u6807\u7B7E\u540D\u79F0\uFF0Ceg: ul, li</li><li>\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u9009\u586B\uFF0C\u8868\u793A\u7684\u662F\u5C5E\u6027\uFF0Ceg: className</li><li>\u7B2C\u4E09\u4E2A\u53C2\u6570\u662F\u9009\u586B, \u5B50\u8282\u70B9\uFF0Ceg: \u8981\u663E\u793A\u7684\u6587\u672C\u5185\u5BB9</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//\u5199\u6CD5\u4E00\uFF1A</span>

<span class="token keyword">var</span> child1 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;li&#39;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&#39;one&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> child2 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;li&#39;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&#39;two&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> content <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;ul&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token string">&#39;teststyle&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> child1<span class="token punctuation">,</span> child2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u7B2C\u4E09\u4E2A\u53C2\u6570\u53EF\u4EE5\u5206\u5F00\u4E5F\u53EF\u4EE5\u5199\u6210\u4E00\u4E2A\u6570\u7EC4</span>
      ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
          content<span class="token punctuation">,</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;example&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//\u5199\u6CD5\u4E8C\uFF1A</span>

<span class="token keyword">var</span> child1 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;li&#39;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&#39;one&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> child2 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;li&#39;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&#39;two&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> content <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;ul&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token string">&#39;teststyle&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>child1<span class="token punctuation">,</span> child2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
          content<span class="token punctuation">,</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;example&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div>`,4),cP={id:"_74-\u4E3A\u4EC0\u4E48\u6709\u4E9Breact\u751F\u547D\u5468\u671F\u94A9\u5B50\u88AB\u6807\u8BB0\u4E3Aunsafe",tabindex:"-1"},lP=n("a",{class:"header-anchor",href:"#_74-\u4E3A\u4EC0\u4E48\u6709\u4E9Breact\u751F\u547D\u5468\u671F\u94A9\u5B50\u88AB\u6807\u8BB0\u4E3Aunsafe","aria-hidden":"true"},"#",-1),rP=s(),iP={href:"http://interview.poetries.top/excellent-docs/6-React.html#_74-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9C%89%E4%BA%9Breact%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90%E8%A2%AB%E6%A0%87%E8%AE%B0%E4%B8%BAunsafe",target:"_blank",rel:"noopener noreferrer"},uP=s("#"),kP=s("74 \u4E3A\u4EC0\u4E48\u6709\u4E9Breact\u751F\u547D\u5468\u671F\u94A9\u5B50\u88AB\u6807\u8BB0\u4E3AUNSAFE"),dP={id:"componentwillmount",tabindex:"-1"},bP=n("a",{class:"header-anchor",href:"#componentwillmount","aria-hidden":"true"},"#",-1),mP=s(),hP={href:"http://interview.poetries.top/excellent-docs/6-React.html#componentwillmount",target:"_blank",rel:"noopener noreferrer"},_P=s("#"),gP=s("componentWillMount"),EP=t(`<blockquote><p>componentWillMount\u751F\u547D\u5468\u671F\u53D1\u751F\u5728\u9996\u6B21\u6E32\u67D3\u524D\uFF0C\u4E00\u822C\u4F7F\u7528\u7684\u5C0F\u4F19\u4F34\u5927\u591A\u5728\u8FD9\u91CC\u521D\u59CB\u5316\u6570\u636E\u6216\u5F02\u6B65\u83B7\u53D6\u5916\u90E8\u6570\u636E\u8D4B\u503C\u3002\u521D\u59CB\u5316\u6570\u636E\uFF0Creact\u5B98\u65B9\u5EFA\u8BAE\u653E\u5728constructor\u91CC\u9762\u3002\u800C\u5F02\u6B65\u83B7\u53D6\u5916\u90E8\u6570\u636E\uFF0C\u6E32\u67D3\u5E76\u4E0D\u4F1A\u7B49\u5F85\u6570\u636E\u8FD4\u56DE\u540E\u518D\u53BB\u6E32\u67D3</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>   
    state <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>       
            <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
        <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>   
    <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange <span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>   
    <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token parameter">source</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">value</span><span class="token operator">:</span> source<span class="token punctuation">.</span>value
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ul><li>\u8BD5\u60F3\u4E00\u4E0B\uFF0C\u5047\u5982\u7EC4\u4EF6\u5728\u7B2C\u4E00\u6B21\u6E32\u67D3\u7684\u65F6\u5019\u88AB\u4E2D\u65AD\uFF0C\u7531\u4E8E\u7EC4\u4EF6\u6CA1\u6709\u5B8C\u6210\u6E32\u67D3\uFF0C\u6240\u4EE5\u5E76\u4E0D\u4F1A\u6267\u884CcomponentWillUnmount\u751F\u547D\u5468\u671F\uFF08\u6CE8\uFF1A\u5F88\u591A\u4EBA\u7ECF\u5E38\u8BA4\u4E3AcomponentWillMount\u548CcomponentWillUnmount\u603B\u662F\u914D\u5BF9\uFF0C\u4F46\u8FD9\u5E76\u4E0D\u662F\u4E00\u5B9A\u7684\u3002\u53EA\u6709\u8C03\u7528componentDidMount\u540E\uFF0CReact\u624D\u80FD\u4FDD\u8BC1\u7A0D\u540E\u8C03\u7528componentWillUnmount\u8FDB\u884C\u6E05\u7406\uFF09\u3002\u56E0\u6B64handleSubscriptionChange\u8FD8\u662F\u4F1A\u5728\u6570\u636E\u8FD4\u56DE\u6210\u529F\u540E\u88AB\u6267\u884C\uFF0C\u8FD9\u65F6\u5019setState\u7531\u4E8E\u7EC4\u4EF6\u5DF2\u7ECF\u88AB\u79FB\u9664\uFF0C\u5C31\u4F1A\u5BFC\u81F4\u5185\u5B58\u6CC4\u6F0F\u3002\u6240\u4EE5\u5EFA\u8BAE\u628A\u5F02\u6B65\u83B7\u53D6\u5916\u90E8\u6570\u636E\u5199\u5728componentDidMount\u751F\u547D\u5468\u671F\u91CC\uFF0C\u8FD9\u6837\u5C31\u80FD\u4FDD\u8BC1componentWillUnmount\u751F\u547D\u5468\u671F\u4F1A\u5728\u7EC4\u4EF6\u79FB\u9664\u7684\u65F6\u5019\u88AB\u6267\u884C\uFF0C\u907F\u514D\u5185\u5B58\u6CC4\u6F0F\u7684\u98CE\u9669\u3002</li><li>\u73B0\u5728\uFF0C\u5C0F\u4F19\u4F34\u6E05\u695A\u4E3A\u4EC0\u4E48\u4E86\u8981\u7528<code>UNSAFE_componentWillMount</code>\u66FF\u6362<code>componentWillMount</code>\u4E86\u5427</li></ul>`,3),fP={id:"componentwillreceiveprops",tabindex:"-1"},vP=n("a",{class:"header-anchor",href:"#componentwillreceiveprops","aria-hidden":"true"},"#",-1),wP=s(),yP={href:"http://interview.poetries.top/excellent-docs/6-React.html#componentwillreceiveprops",target:"_blank",rel:"noopener noreferrer"},xP=s("#"),AP=s("componentWillReceiveProps"),BP=t(`<blockquote><p>componentWillReceiveProps\u751F\u547D\u5468\u671F\u662F\u5728props\u66F4\u65B0\u65F6\u89E6\u53D1\u3002\u4E00\u822C\u7528\u4E8Eprops\u53C2\u6570\u66F4\u65B0\u65F6\u540C\u6B65\u66F4\u65B0state\u53C2\u6570\u3002\u4F46\u5982\u679C\u5728componentWillReceiveProps\u751F\u547D\u5468\u671F\u76F4\u63A5\u8C03\u7528\u7236\u7EC4\u4EF6\u7684\u67D0\u4E9B\u6709\u8C03\u7528setState\u7684\u51FD\u6570\uFF0C\u4F1A\u5BFC\u81F4\u7A0B\u5E8F\u6B7B\u5FAA\u73AF</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5982\u4E0B\u662F\u5B50\u7EC4\u4EF6componentWillReceiveProps\u91CC\u8C03\u7528\u7236\u7EC4\u4EF6\u6539\u53D8state\u7684\u51FD\u6570\u793A\u4F8B</span>

<span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token punctuation">{</span>
            <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">selectedData</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token function-variable function">changeSelectData</span> <span class="token operator">=</span> <span class="token parameter">selectedData</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            selectedData
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Clild list<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">}</span> changeSelectData<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>changeSelectData<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token operator">...</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token punctuation">{</span>
            <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span><span class="token parameter">nextProps</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">list</span><span class="token operator">:</span> nextProps<span class="token punctuation">.</span>list
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        nextProps<span class="token punctuation">.</span><span class="token function">changeSelectData</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">.</span>list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u9ED8\u8BA4\u9009\u62E9\u7B2C\u4E00\u4E2A</span>
    <span class="token punctuation">}</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><ul><li>\u5982\u4E0A\u4EE3\u7801\uFF0C\u5728Child\u7EC4\u4EF6\u7684componentWillReceiveProps\u91CC\u76F4\u63A5\u8C03\u7528Parent\u7EC4\u4EF6\u7684changeSelectData\u53BB\u66F4\u65B0Parent\u7EC4\u4EF6state\u7684selectedData\u503C\u3002\u4F1A\u89E6\u53D1Parent\u7EC4\u4EF6\u91CD\u65B0\u6E32\u67D3\uFF0C\u800CParent\u7EC4\u4EF6\u91CD\u65B0\u6E32\u67D3\u4F1A\u89E6\u53D1Child\u7EC4\u4EF6\u7684componentWillReceiveProps\u751F\u547D\u5468\u671F\u51FD\u6570\u6267\u884C\u3002\u5982\u6B64\u5C31\u4F1A\u9677\u5165\u6B7B\u5FAA\u73AF\u3002\u5BFC\u81F4\u7A0B\u5E8F\u5D29\u6E83\u3002</li><li>\u6240\u4EE5\uFF0CReact\u5B98\u65B9\u628AcomponentWillReceiveProps\u66FF\u6362\u4E3AUNSAFE_componentWillReceiveProps\uFF0C\u8BA9\u5C0F\u4F19\u4F34\u5728\u4F7F\u7528\u8FD9\u4E2A\u751F\u547D\u5468\u671F\u7684\u65F6\u5019\u6CE8\u610F\u5B83\u4F1A\u6709\u7F3A\u9677\uFF0C\u8981\u6CE8\u610F\u907F\u514D\uFF0C\u6BD4\u5982\u4E0A\u9762\u4F8B\u5B50\uFF0CChild\u5728componentWillReceiveProps\u8C03\u7528changeSelectData\u65F6\u5148\u5224\u65ADlist\u662F\u5426\u6709\u66F4\u65B0\u518D\u786E\u5B9A\u662F\u5426\u8981\u8C03\u7528\uFF0C\u5C31\u53EF\u4EE5\u907F\u514D\u6B7B\u5FAA\u73AF\u3002</li></ul>`,3),qP={id:"componentwillupdate",tabindex:"-1"},jP=n("a",{class:"header-anchor",href:"#componentwillupdate","aria-hidden":"true"},"#",-1),SP=s(),CP={href:"http://interview.poetries.top/excellent-docs/6-React.html#componentwillupdate",target:"_blank",rel:"noopener noreferrer"},DP=s("#"),FP=s("componentWillUpdate"),PP=t(`<p>componentWillUpdate\u751F\u547D\u5468\u671F\u5728\u89C6\u56FE\u66F4\u65B0\u524D\u89E6\u53D1\u3002\u4E00\u822C\u7528\u4E8E\u89C6\u56FE\u66F4\u65B0\u524D\u4FDD\u5B58\u4E00\u4E9B\u6570\u636E\u65B9\u4FBF\u89C6\u56FE\u66F4\u65B0\u5B8C\u6210\u540E\u8D4B\u503C\u3002 \u6848\u4F8B\u4E09\uFF1A\u5982\u4E0B\u662F\u5217\u8868\u52A0\u8F7D\u66F4\u65B0\u540E\u56DE\u5230\u5F53\u524D\u6EDA\u52A8\u6761\u4F4D\u7F6E\u7684\u6848\u4F8B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">ScrollingList</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>   
    listRef <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>   
    previousScrollOffset <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>   
    <span class="token function">componentWillUpdate</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> nextState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>list<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> nextProps<span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>      
            <span class="token keyword">this</span><span class="token punctuation">.</span>previousScrollOffset <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>listRef<span class="token punctuation">.</span>scrollHeight <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>listRef<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>    
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span>   
    <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> prevState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>previousScrollOffset <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      
            <span class="token keyword">this</span><span class="token punctuation">.</span>listRef<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>listRef<span class="token punctuation">.</span>scrollHeight <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>previousScrollOffset<span class="token punctuation">;</span>  
            <span class="token keyword">this</span><span class="token punctuation">.</span>previousScrollOffset <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span>   
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token keyword">return</span> <span class="token punctuation">(</span>       
            <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;div&gt;</span><span class="token template-punctuation string">\`</span></span> <span class="token punctuation">{</span><span class="token comment">/* ...contents... */</span><span class="token punctuation">}</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;/div&gt;</span><span class="token template-punctuation string">\`</span></span>     
        <span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
    <span class="token function-variable function">setListRef</span> <span class="token operator">=</span> <span class="token parameter">ref</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>listRef <span class="token operator">=</span> ref<span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ul><li>\u7531\u4E8EcomponentWillUpdate\u548CcomponentDidUpdate\u8FD9\u4E24\u4E2A\u751F\u547D\u5468\u671F\u51FD\u6570\u6709\u4E00\u5B9A\u7684\u65F6\u95F4\u5DEE\uFF08componentWillUpdate\u540E\u7ECF\u8FC7\u6E32\u67D3\u3001\u8BA1\u7B97\u3001\u518D\u66F4\u65B0DOM\u5143\u7D20\uFF0C\u6700\u540E\u624D\u8C03\u7528componentDidUpdate\uFF09\uFF0C\u5982\u679C\u8FD9\u4E2A\u65F6\u95F4\u6BB5\u5185\u7528\u6237\u521A\u597D\u62C9\u4F38\u4E86\u6D4F\u89C8\u5668\u9AD8\u5EA6\uFF0C\u90A3componentWillUpdate\u8BA1\u7B97\u7684previousScrollOffset\u5C31\u4E0D\u51C6\u786E\u4E86\u3002\u5982\u679C\u5728componentWillUpdate\u8FDB\u884CsetState\u64CD\u4F5C\uFF0C\u4F1A\u51FA\u73B0\u591A\u6B21\u8C03\u7528\u53EA\u66F4\u65B0\u4E00\u6B21\u7684\u95EE\u9898\uFF0C\u628AsetState\u653E\u5728componentDidUpdate\uFF0C\u80FD\u4FDD\u8BC1\u6BCF\u6B21\u66F4\u65B0\u53EA\u8C03\u7528\u4E00\u6B21\u3002</li><li>\u6240\u4EE5\uFF0Creact\u5B98\u65B9\u5EFA\u8BAE\u628AcomponentWillUpdate\u66FF\u6362\u4E3AUNSAFE_componentWillUpdate\u3002\u5982\u679C\u771F\u7684\u6709\u4EE5\u4E0A\u6848\u4F8B\u7684\u9700\u6C42\uFF0C\u53EF\u4EE5\u4F7F\u752816.3\u65B0\u52A0\u5165\u7684\u4E00\u4E2A\u5468\u671F\u51FD\u6570getSnapshotBeforeUpdat</li></ul>`,3),TP={id:"\u7ED3\u8BBA",tabindex:"-1"},NP=n("a",{class:"header-anchor",href:"#\u7ED3\u8BBA","aria-hidden":"true"},"#",-1),MP=s(),OP={href:"http://interview.poetries.top/excellent-docs/6-React.html#%E7%BB%93%E8%AE%BA",target:"_blank",rel:"noopener noreferrer"},IP=s("#"),RP=s("\u7ED3\u8BBA"),VP=t('<ul><li>React\u610F\u8BC6\u5230componentWillMount\u3001componentWillReceiveProps\u548CcomponentWillUpdate\u8FD9\u4E09\u4E2A\u751F\u547D\u5468\u671F\u51FD\u6570\u6709\u7F3A\u9677\uFF0C\u6BD4\u8F83\u5BB9\u6613\u5BFC\u81F4\u5D29\u6E83\u3002\u4F46\u662F\u7531\u4E8E\u65E7\u7684\u9879\u76EE\u5DF2\u7ECF\u5728\u7528\u4EE5\u53CA\u6709\u4E9B\u8001\u5F00\u53D1\u8005\u4E60\u60EF\u7528\u8FD9\u4E9B\u751F\u547D\u5468\u671F\u51FD\u6570\uFF0C\u4E8E\u662F\u901A\u8FC7\u7ED9\u5B83\u52A0UNSAFE_\u6765\u63D0\u9192\u7528\u5B83\u7684\u4EBA\u8981\u6CE8\u610F\u5B83\u4EEC\u7684\u7F3A\u9677</li><li>React\u52A0\u5165\u4E86\u4E24\u4E2A\u65B0\u7684\u751F\u547D\u5468\u671F\u51FD\u6570getSnapshotBeforeUpdate\u548CgetDerivedStateFromProps\uFF0C\u76EE\u7684\u4E3A\u4E86\u5373\u4F7F\u4E0D\u4F7F\u7528\u8FD9\u4E09\u4E2A\u751F\u547D\u5468\u671F\u51FD\u6570\uFF0C\u4E5F\u80FD\u5B9E\u73B0\u53EA\u6709\u8FD9\u4E09\u4E2A\u751F\u547D\u5468\u671F\u80FD\u5B9E\u73B0\u7684\u529F\u80FD</li></ul><h1 id="_7-vue\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#_7-vue\u6A21\u5757" aria-hidden="true">#</a> 7 Vue\u6A21\u5757</h1><h2 id="_1-\u5BF9\u4E8Emvvm\u7684\u7406\u89E3" tabindex="-1"><a class="header-anchor" href="#_1-\u5BF9\u4E8Emvvm\u7684\u7406\u89E3" aria-hidden="true">#</a> 1 \u5BF9\u4E8EMVVM\u7684\u7406\u89E3</h2><blockquote><p><code>MVVM</code>\u662F<code>Model-View-ViewModel</code>\u7F29\u5199\uFF0C\u4E5F\u5C31\u662F\u628AMVC\u4E2D\u7684Controller\u6F14\u53D8\u6210<code>ViewModel</code>\u3002Model\u5C42\u4EE3\u8868\u6570\u636E\u6A21\u578B\uFF0C<code>View</code>\u4EE3\u8868UI\u7EC4\u4EF6\uFF0C<code>ViewModel</code>\u662F<code>View</code>\u548C<code>Model</code>\u5C42\u7684\u6865\u6881\uFF0C\u6570\u636E\u4F1A\u7ED1\u5B9A\u5230viewModel\u5C42\u5E76\u81EA\u52A8\u5C06\u6570\u636E\u6E32\u67D3\u5230\u9875\u9762\u4E2D\uFF0C\u89C6\u56FE\u53D8\u5316\u7684\u65F6\u5019\u4F1A\u901A\u77E5viewModel\u5C42\u66F4\u65B0\u6570\u636E\u3002</p></blockquote><ul><li><code>MVVM</code> \u662F <code>Model-View-ViewModel</code> \u7684\u7F29\u5199</li><li><code>Model</code>: \u4EE3\u8868\u6570\u636E\u6A21\u578B\uFF0C\u4E5F\u53EF\u4EE5\u5728Model\u4E2D\u5B9A\u4E49\u6570\u636E\u4FEE\u6539\u548C\u64CD\u4F5C\u7684\u4E1A\u52A1\u903B\u8F91\u3002\u6211\u4EEC\u53EF\u4EE5\u628AModel\u79F0\u4E3A\u6570\u636E\u5C42\uFF0C\u56E0\u4E3A\u5B83\u4EC5\u4EC5\u5173\u6CE8\u6570\u636E\u672C\u8EAB\uFF0C\u4E0D\u5173\u5FC3\u4EFB\u4F55\u884C\u4E3A</li><li><code>View</code>: \u7528\u6237\u64CD\u4F5C\u754C\u9762\u3002\u5F53ViewModel\u5BF9Model\u8FDB\u884C\u66F4\u65B0\u7684\u65F6\u5019\uFF0C\u4F1A\u901A\u8FC7\u6570\u636E\u7ED1\u5B9A\u66F4\u65B0\u5230View</li><li><code>ViewModel</code>\uFF1A \u4E1A\u52A1\u903B\u8F91\u5C42\uFF0CView\u9700\u8981\u4EC0\u4E48\u6570\u636E\uFF0CViewModel\u8981\u63D0\u4F9B\u8FD9\u4E2A\u6570\u636E\uFF1BView\u6709\u67D0\u4E9B\u64CD\u4F5C\uFF0CViewModel\u5C31\u8981\u54CD\u5E94\u8FD9\u4E9B\u64CD\u4F5C\uFF0C\u6240\u4EE5\u53EF\u4EE5\u8BF4\u5B83\u662FModel for View.</li><li><strong>\u603B\u7ED3</strong>\uFF1A <code>MVVM</code>\u6A21\u5F0F\u7B80\u5316\u4E86\u754C\u9762\u4E0E\u4E1A\u52A1\u7684\u4F9D\u8D56\uFF0C\u89E3\u51B3\u4E86\u6570\u636E\u9891\u7E41\u66F4\u65B0\u3002MVVM \u5728\u4F7F\u7528\u5F53\u4E2D\uFF0C\u5229\u7528\u53CC\u5411\u7ED1\u5B9A\u6280\u672F\uFF0C\u4F7F\u5F97 Model \u53D8\u5316\u65F6\uFF0C<code>ViewModel</code> \u4F1A\u81EA\u52A8\u66F4\u65B0\uFF0C\u800C <code>ViewModel</code> \u53D8\u5316\u65F6\uFF0CView \u4E5F\u4F1A\u81EA\u52A8\u53D8\u5316\u3002</li></ul>',5),HP={id:"_2-\u8BF7\u8BE6\u7EC6\u8BF4\u4E0B\u4F60\u5BF9vue\u751F\u547D\u5468\u671F\u7684\u7406\u89E3",tabindex:"-1"},LP=n("a",{class:"header-anchor",href:"#_2-\u8BF7\u8BE6\u7EC6\u8BF4\u4E0B\u4F60\u5BF9vue\u751F\u547D\u5468\u671F\u7684\u7406\u89E3","aria-hidden":"true"},"#",-1),UP=s(),JP={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_2-%E8%AF%B7%E8%AF%A6%E7%BB%86%E8%AF%B4%E4%B8%8B%E4%BD%A0%E5%AF%B9vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9A%84%E7%90%86%E8%A7%A3",target:"_blank",rel:"noopener noreferrer"},WP=s("#"),zP=s("2 \u8BF7\u8BE6\u7EC6\u8BF4\u4E0B\u4F60\u5BF9vue\u751F\u547D\u5468\u671F\u7684\u7406\u89E3"),GP=t(`<blockquote><p>\u7B54\uFF1A\u603B\u5171\u5206\u4E3A8\u4E2A\u9636\u6BB5\u521B\u5EFA\u524D/\u540E\uFF0C\u8F7D\u5165\u524D/\u540E\uFF0C\u66F4\u65B0\u524D/\u540E\uFF0C\u9500\u6BC1\u524D/\u540E</p></blockquote><p><strong>\u751F\u547D\u5468\u671F\u662F\u4EC0\u4E48</strong></p><blockquote><p>Vue \u5B9E\u4F8B\u6709\u4E00\u4E2A\u5B8C\u6574\u7684\u751F\u547D\u5468\u671F\uFF0C\u4E5F\u5C31\u662F\u4ECE\u5F00\u59CB\u521B\u5EFA\u3001\u521D\u59CB\u5316\u6570\u636E\u3001\u7F16\u8BD1\u6A21\u7248\u3001\u6302\u8F7DDom -&gt; \u6E32\u67D3\u3001\u66F4\u65B0 -&gt; \u6E32\u67D3\u3001\u5378\u8F7D\u7B49\u4E00\u7CFB\u5217\u8FC7\u7A0B\uFF0C\u6211\u4EEC\u79F0\u8FD9\u662FVue\u7684\u751F\u547D\u5468\u671F</p></blockquote><p><strong>\u5404\u4E2A\u751F\u547D\u5468\u671F\u7684\u4F5C\u7528</strong></p><table><thead><tr><th>\u751F\u547D\u5468\u671F</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>beforeCreate</td><td>\u7EC4\u4EF6\u5B9E\u4F8B\u88AB\u521B\u5EFA\u4E4B\u521D\uFF0C\u7EC4\u4EF6\u7684\u5C5E\u6027\u751F\u6548\u4E4B\u524D</td></tr><tr><td>created</td><td>\u7EC4\u4EF6\u5B9E\u4F8B\u5DF2\u7ECF\u5B8C\u5168\u521B\u5EFA\uFF0C\u5C5E\u6027\u4E5F\u7ED1\u5B9A\uFF0C\u4F46\u771F\u5B9Edom\u8FD8\u6CA1\u6709\u751F\u6210\uFF0C$el\u8FD8\u4E0D\u53EF\u7528</td></tr><tr><td>beforeMount</td><td>\u5728\u6302\u8F7D\u5F00\u59CB\u4E4B\u524D\u88AB\u8C03\u7528\uFF1A\u76F8\u5173\u7684 render \u51FD\u6570\u9996\u6B21\u88AB\u8C03\u7528</td></tr><tr><td>mounted</td><td>el \u88AB\u65B0\u521B\u5EFA\u7684 vm.$el \u66FF\u6362\uFF0C\u5E76\u6302\u8F7D\u5230\u5B9E\u4F8B\u4E0A\u53BB\u4E4B\u540E\u8C03\u7528\u8BE5\u94A9\u5B50</td></tr><tr><td>beforeUpdate</td><td>\u7EC4\u4EF6\u6570\u636E\u66F4\u65B0\u4E4B\u524D\u8C03\u7528\uFF0C\u53D1\u751F\u5728\u865A\u62DF DOM \u6253\u8865\u4E01\u4E4B\u524D</td></tr><tr><td>update</td><td>\u7EC4\u4EF6\u6570\u636E\u66F4\u65B0\u4E4B\u540E</td></tr><tr><td>activited</td><td>keep-alive\u4E13\u5C5E\uFF0C\u7EC4\u4EF6\u88AB\u6FC0\u6D3B\u65F6\u8C03\u7528</td></tr><tr><td>deadctivated</td><td>keep-alive\u4E13\u5C5E\uFF0C\u7EC4\u4EF6\u88AB\u9500\u6BC1\u65F6\u8C03\u7528</td></tr><tr><td>beforeDestory</td><td>\u7EC4\u4EF6\u9500\u6BC1\u524D\u8C03\u7528</td></tr><tr><td>destoryed</td><td>\u7EC4\u4EF6\u9500\u6BC1\u540E\u8C03\u7528</td></tr></tbody></table><p><img src="http://poetries1.gitee.io/img-repo/2020/07/61.png" alt="img"></p><blockquote><p>\u7531\u4E8EVue\u4F1A\u5728\u521D\u59CB\u5316\u5B9E\u4F8B\u65F6\u5BF9\u5C5E\u6027\u6267\u884C<code>getter/setter</code>\u8F6C\u5316\uFF0C\u6240\u4EE5\u5C5E\u6027\u5FC5\u987B\u5728<code>data</code>\u5BF9\u8C61\u4E0A\u5B58\u5728\u624D\u80FD\u8BA9<code>Vue</code>\u5C06\u5B83\u8F6C\u6362\u4E3A\u54CD\u5E94\u5F0F\u7684\u3002Vue\u63D0\u4F9B\u4E86<code>$set</code>\u65B9\u6CD5\u7528\u6765\u89E6\u53D1\u89C6\u56FE\u66F4\u65B0</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;fei&#39;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">,</span> <span class="token string">&#39;sex&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;man&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>\u4EC0\u4E48\u662Fvue\u751F\u547D\u5468\u671F\uFF1F</strong></p><ul><li>\u7B54\uFF1A Vue \u5B9E\u4F8B\u4ECE\u521B\u5EFA\u5230\u9500\u6BC1\u7684\u8FC7\u7A0B\uFF0C\u5C31\u662F\u751F\u547D\u5468\u671F\u3002\u4ECE\u5F00\u59CB\u521B\u5EFA\u3001\u521D\u59CB\u5316\u6570\u636E\u3001\u7F16\u8BD1\u6A21\u677F\u3001\u6302\u8F7DDom\u2192\u6E32\u67D3\u3001\u66F4\u65B0\u2192\u6E32\u67D3\u3001\u9500\u6BC1\u7B49\u4E00\u7CFB\u5217\u8FC7\u7A0B\uFF0C\u79F0\u4E4B\u4E3A Vue \u7684\u751F\u547D\u5468\u671F\u3002</li></ul><p><strong>vue\u751F\u547D\u5468\u671F\u7684\u4F5C\u7528\u662F\u4EC0\u4E48\uFF1F</strong></p><ul><li>\u7B54\uFF1A\u5B83\u7684\u751F\u547D\u5468\u671F\u4E2D\u6709\u591A\u4E2A\u4E8B\u4EF6\u94A9\u5B50\uFF0C\u8BA9\u6211\u4EEC\u5728\u63A7\u5236\u6574\u4E2AVue\u5B9E\u4F8B\u7684\u8FC7\u7A0B\u65F6\u66F4\u5BB9\u6613\u5F62\u6210\u597D\u7684\u903B\u8F91\u3002</li></ul><p><strong>vue\u751F\u547D\u5468\u671F\u603B\u5171\u6709\u51E0\u4E2A\u9636\u6BB5\uFF1F</strong></p><ul><li>\u7B54\uFF1A\u5B83\u53EF\u4EE5\u603B\u5171\u5206\u4E3A<code>8</code>\u4E2A\u9636\u6BB5\uFF1A\u521B\u5EFA\u524D/\u540E\u3001\u8F7D\u5165\u524D/\u540E\u3001\u66F4\u65B0\u524D/\u540E\u3001\u9500\u6BC1\u524D/\u9500\u6BC1\u540E\u3002</li></ul><p><strong>\u7B2C\u4E00\u6B21\u9875\u9762\u52A0\u8F7D\u4F1A\u89E6\u53D1\u54EA\u51E0\u4E2A\u94A9\u5B50\uFF1F</strong></p><ul><li>\u7B54\uFF1A\u4F1A\u89E6\u53D1\u4E0B\u9762\u8FD9\u51E0\u4E2A<code>beforeCreate</code>\u3001<code>created</code>\u3001<code>beforeMount</code>\u3001<code>mounted</code> \u3002</li></ul><p><strong>DOM \u6E32\u67D3\u5728\u54EA\u4E2A\u5468\u671F\u4E2D\u5C31\u5DF2\u7ECF\u5B8C\u6210\uFF1F</strong></p><ul><li>\u7B54\uFF1A<code>DOM</code> \u6E32\u67D3\u5728 <code>mounted</code> \u4E2D\u5C31\u5DF2\u7ECF\u5B8C\u6210\u4E86</li></ul>`,18),$P={id:"_3-vue\u5B9E\u73B0\u6570\u636E\u53CC\u5411\u7ED1\u5B9A\u7684\u539F\u7406-object-defineproperty",tabindex:"-1"},XP=n("a",{class:"header-anchor",href:"#_3-vue\u5B9E\u73B0\u6570\u636E\u53CC\u5411\u7ED1\u5B9A\u7684\u539F\u7406-object-defineproperty","aria-hidden":"true"},"#",-1),KP=s(),QP={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_3-vue%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A%E7%9A%84%E5%8E%9F%E7%90%86-object-defineproperty",target:"_blank",rel:"noopener noreferrer"},YP=s("#"),ZP=s("3 Vue\u5B9E\u73B0\u6570\u636E\u53CC\u5411\u7ED1\u5B9A\u7684\u539F\u7406\uFF1AObject.defineProperty()"),nT=t("<li><code>vue</code>\u5B9E\u73B0\u6570\u636E\u53CC\u5411\u7ED1\u5B9A\u4E3B\u8981\u662F\uFF1A\u91C7\u7528\u6570\u636E\u52AB\u6301\u7ED3\u5408\u53D1\u5E03\u8005-\u8BA2\u9605\u8005\u6A21\u5F0F\u7684\u65B9\u5F0F\uFF0C\u901A\u8FC7 <code>Object.defineProperty()</code> \u6765\u52AB\u6301\u5404\u4E2A\u5C5E\u6027\u7684<code>setter</code>\uFF0C<code>getter</code>\uFF0C\u5728\u6570\u636E\u53D8\u52A8\u65F6\u53D1\u5E03\u6D88\u606F\u7ED9\u8BA2\u9605\u8005\uFF0C\u89E6\u53D1\u76F8\u5E94\u76D1\u542C\u56DE\u8C03\u3002\u5F53\u628A\u4E00\u4E2A\u666E\u901A <code>Javascript</code> \u5BF9\u8C61\u4F20\u7ED9 Vue \u5B9E\u4F8B\u6765\u4F5C\u4E3A\u5B83\u7684 <code>data</code> \u9009\u9879\u65F6\uFF0CVue \u5C06\u904D\u5386\u5B83\u7684\u5C5E\u6027\uFF0C\u7528 <code>Object.defineProperty()</code> \u5C06\u5B83\u4EEC\u8F6C\u4E3A <code>getter/setter</code>\u3002\u7528\u6237\u770B\u4E0D\u5230 <code>getter/setter</code>\uFF0C\u4F46\u662F\u5728\u5185\u90E8\u5B83\u4EEC\u8BA9 <code>Vue</code>\u8FFD\u8E2A\u4F9D\u8D56\uFF0C\u5728\u5C5E\u6027\u88AB\u8BBF\u95EE\u548C\u4FEE\u6539\u65F6\u901A\u77E5\u53D8\u5316\u3002</li>",1),sT=t("vue\u7684\u6570\u636E\u53CC\u5411\u7ED1\u5B9A \u5C06<code>MVVM</code>\u4F5C\u4E3A\u6570\u636E\u7ED1\u5B9A\u7684\u5165\u53E3\uFF0C\u6574\u5408<code>Observer</code>\uFF0C<code>Compile</code>\u548C<code>Watcher</code>\u4E09\u8005\uFF0C\u901A\u8FC7<code>Observer</code>\u6765\u76D1\u542C\u81EA\u5DF1\u7684<code>model</code>\u7684\u6570\u636E\u53D8\u5316\uFF0C\u901A\u8FC7<code>Compile</code>\u6765\u89E3\u6790\u7F16\u8BD1\u6A21\u677F\u6307\u4EE4\uFF08<code>vue</code>\u4E2D\u662F\u7528\u6765\u89E3\u6790 ",17),aT=s("\uFF09\uFF0C\u6700\u7EC8\u5229\u7528"),eT=n("code",null,"watcher",-1),tT=s("\u642D\u8D77"),pT=n("code",null,"observer",-1),oT=s("\u548C"),cT=n("code",null,"Compile",-1),lT=s("\u4E4B\u95F4\u7684\u901A\u4FE1\u6865\u6881\uFF0C\u8FBE\u5230\u6570\u636E\u53D8\u5316 \u2014>\u89C6\u56FE\u66F4\u65B0\uFF1B\u89C6\u56FE\u4EA4\u4E92\u53D8\u5316\uFF08"),rT=n("code",null,"input",-1),iT=s("\uFF09\u2014>\u6570\u636E"),uT=n("code",null,"model",-1),kT=s("\u53D8\u66F4\u53CC\u5411\u7ED1\u5B9A\u6548\u679C\u3002"),dT={id:"_4-vue\u7EC4\u4EF6\u95F4\u7684\u53C2\u6570\u4F20\u9012",tabindex:"-1"},bT=n("a",{class:"header-anchor",href:"#_4-vue\u7EC4\u4EF6\u95F4\u7684\u53C2\u6570\u4F20\u9012","aria-hidden":"true"},"#",-1),mT=s(),hT={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_4-vue%E7%BB%84%E4%BB%B6%E9%97%B4%E7%9A%84%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92",target:"_blank",rel:"noopener noreferrer"},_T=s("#"),gT=s("4 Vue\u7EC4\u4EF6\u95F4\u7684\u53C2\u6570\u4F20\u9012"),ET=t("<p><strong>\u7236\u7EC4\u4EF6\u4E0E\u5B50\u7EC4\u4EF6\u4F20\u503C</strong></p><blockquote><p>\u7236\u7EC4\u4EF6\u4F20\u7ED9\u5B50\u7EC4\u4EF6\uFF1A\u5B50\u7EC4\u4EF6\u901A\u8FC7<code>props</code>\u65B9\u6CD5\u63A5\u53D7\u6570\u636E\uFF1B</p></blockquote><ul><li>\u5B50\u7EC4\u4EF6\u4F20\u7ED9\u7236\u7EC4\u4EF6\uFF1A <code>$emit</code> \u65B9\u6CD5\u4F20\u9012\u53C2\u6570</li></ul><p><strong>\u975E\u7236\u5B50\u7EC4\u4EF6\u95F4\u7684\u6570\u636E\u4F20\u9012\uFF0C\u5144\u5F1F\u7EC4\u4EF6\u4F20\u503C</strong></p><blockquote><p><code>eventBus</code>\uFF0C\u5C31\u662F\u521B\u5EFA\u4E00\u4E2A\u4E8B\u4EF6\u4E2D\u5FC3\uFF0C\u76F8\u5F53\u4E8E\u4E2D\u8F6C\u7AD9\uFF0C\u53EF\u4EE5\u7528\u5B83\u6765\u4F20\u9012\u4E8B\u4EF6\u548C\u63A5\u6536\u4E8B\u4EF6\u3002\u9879\u76EE\u6BD4\u8F83\u5C0F\u65F6\uFF0C\u7528\u8FD9\u4E2A\u6BD4\u8F83\u5408\u9002\uFF08\u867D\u7136\u4E5F\u6709\u4E0D\u5C11\u4EBA\u63A8\u8350\u76F4\u63A5\u7528<code>VUEX</code>\uFF0C\u5177\u4F53\u6765\u8BF4\u770B\u9700\u6C42\uFF09</p></blockquote>",5),fT={id:"_5-vue\u7684\u8DEF\u7531\u5B9E\u73B0-hash\u6A21\u5F0F-\u548C-history\u6A21\u5F0F",tabindex:"-1"},vT=n("a",{class:"header-anchor",href:"#_5-vue\u7684\u8DEF\u7531\u5B9E\u73B0-hash\u6A21\u5F0F-\u548C-history\u6A21\u5F0F","aria-hidden":"true"},"#",-1),wT=s(),yT={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_5-vue%E7%9A%84%E8%B7%AF%E7%94%B1%E5%AE%9E%E7%8E%B0-hash%E6%A8%A1%E5%BC%8F-%E5%92%8C-history%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},xT=s("#"),AT=s("5 Vue\u7684\u8DEF\u7531\u5B9E\u73B0\uFF1Ahash\u6A21\u5F0F \u548C history\u6A21\u5F0F"),BT=t("<ul><li><code>hash</code>\u6A21\u5F0F\uFF1A\u5728\u6D4F\u89C8\u5668\u4E2D\u7B26\u53F7<code>\u201C#\u201D</code>\uFF0C#\u4EE5\u53CA#\u540E\u9762\u7684\u5B57\u7B26\u79F0\u4E4B\u4E3A<code>hash</code>\uFF0C\u7528 <code>window.location.hash</code> \u8BFB\u53D6\u3002\u7279\u70B9\uFF1A<code>hash</code>\u867D\u7136\u5728<code>URL</code>\u4E2D\uFF0C\u4F46\u4E0D\u88AB\u5305\u62EC\u5728<code>HTTP</code>\u8BF7\u6C42\u4E2D\uFF1B\u7528\u6765\u6307\u5BFC\u6D4F\u89C8\u5668\u52A8\u4F5C\uFF0C\u5BF9\u670D\u52A1\u7AEF\u5B89\u5168\u65E0\u7528\uFF0C<code>hash</code>\u4E0D\u4F1A\u91CD\u52A0\u8F7D\u9875\u9762\u3002</li><li><code>history</code>\u6A21\u5F0F\uFF1Ah<code>istory</code>\u91C7\u7528<code>HTML5</code>\u7684\u65B0\u7279\u6027\uFF1B\u4E14\u63D0\u4F9B\u4E86\u4E24\u4E2A\u65B0\u65B9\u6CD5\uFF1A <code>pushState()</code>\uFF0C <code>replaceState()</code>\u53EF\u4EE5\u5BF9\u6D4F\u89C8\u5668\u5386\u53F2\u8BB0\u5F55\u6808\u8FDB\u884C\u4FEE\u6539\uFF0C\u4EE5\u53CA<code>popState</code>\u4E8B\u4EF6\u7684\u76D1\u542C\u5230\u72B6\u6001\u53D8\u66F4</li></ul>",1),qT={id:"_5-vue\u8DEF\u7531\u7684\u94A9\u5B50\u51FD\u6570",tabindex:"-1"},jT=n("a",{class:"header-anchor",href:"#_5-vue\u8DEF\u7531\u7684\u94A9\u5B50\u51FD\u6570","aria-hidden":"true"},"#",-1),ST=s(),CT={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_5-vue%E8%B7%AF%E7%94%B1%E7%9A%84%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},DT=s("#"),FT=s("5 vue\u8DEF\u7531\u7684\u94A9\u5B50\u51FD\u6570"),PT=t("<blockquote><p>\u9996\u9875\u53EF\u4EE5\u63A7\u5236\u5BFC\u822A\u8DF3\u8F6C\uFF0C<code>beforeEach</code>\uFF0C<code>afterEach</code>\u7B49\uFF0C\u4E00\u822C\u7528\u4E8E\u9875\u9762<code>title</code>\u7684\u4FEE\u6539\u3002\u4E00\u4E9B\u9700\u8981\u767B\u5F55\u624D\u80FD\u8C03\u6574\u9875\u9762\u7684\u91CD\u5B9A\u5411\u529F\u80FD\u3002</p></blockquote><ul><li><code>beforeEach</code>\u4E3B\u8981\u67093\u4E2A\u53C2\u6570<code>to</code>\uFF0C<code>from</code>\uFF0C<code>next</code>\u3002</li><li><code>to</code>\uFF1A<code>route</code>\u5373\u5C06\u8FDB\u5165\u7684\u76EE\u6807\u8DEF\u7531\u5BF9\u8C61\u3002</li><li><code>from</code>\uFF1A<code>route</code>\u5F53\u524D\u5BFC\u822A\u6B63\u8981\u79BB\u5F00\u7684\u8DEF\u7531\u3002</li><li><code>next</code>\uFF1A<code>function</code>\u4E00\u5B9A\u8981\u8C03\u7528\u8BE5\u65B9\u6CD5<code>resolve</code>\u8FD9\u4E2A\u94A9\u5B50\u3002\u6267\u884C\u6548\u679C\u4F9D\u8D56n<code>ext</code>\u65B9\u6CD5\u7684\u8C03\u7528\u53C2\u6570\u3002\u53EF\u4EE5\u63A7\u5236\u7F51\u9875\u7684\u8DF3\u8F6C</li></ul>",2),TT={id:"_6-vuex\u662F\u4EC0\u4E48-\u600E\u4E48\u4F7F\u7528-\u54EA\u79CD\u529F\u80FD\u573A\u666F\u4F7F\u7528\u5B83",tabindex:"-1"},NT=n("a",{class:"header-anchor",href:"#_6-vuex\u662F\u4EC0\u4E48-\u600E\u4E48\u4F7F\u7528-\u54EA\u79CD\u529F\u80FD\u573A\u666F\u4F7F\u7528\u5B83","aria-hidden":"true"},"#",-1),MT=s(),OT={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_6-vuex%E6%98%AF%E4%BB%80%E4%B9%88-%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8-%E5%93%AA%E7%A7%8D%E5%8A%9F%E8%83%BD%E5%9C%BA%E6%99%AF%E4%BD%BF%E7%94%A8%E5%AE%83",target:"_blank",rel:"noopener noreferrer"},IT=s("#"),RT=s("6 vuex\u662F\u4EC0\u4E48\uFF1F\u600E\u4E48\u4F7F\u7528\uFF1F\u54EA\u79CD\u529F\u80FD\u573A\u666F\u4F7F\u7528\u5B83\uFF1F"),VT=t('<ul><li>\u53EA\u7528\u6765\u8BFB\u53D6\u7684\u72B6\u6001\u96C6\u4E2D\u653E\u5728<code>store</code>\u4E2D\uFF1B \u6539\u53D8\u72B6\u6001\u7684\u65B9\u5F0F\u662F\u63D0\u4EA4<code>mutations</code>\uFF0C\u8FD9\u662F\u4E2A\u540C\u6B65\u7684\u4E8B\u7269\uFF1B \u5F02\u6B65\u903B\u8F91\u5E94\u8BE5\u5C01\u88C5\u5728<code>action</code>\u4E2D\u3002</li><li>\u5728<code>main.js</code>\u5F15\u5165<code>store</code>\uFF0C\u6CE8\u5165\u3002\u65B0\u5EFA\u4E86\u4E00\u4E2A\u76EE\u5F55<code>store</code>\uFF0C<code>\u2026 export</code></li><li><strong>\u573A\u666F\u6709</strong>\uFF1A\u5355\u9875\u5E94\u7528\u4E2D\uFF0C\u7EC4\u4EF6\u4E4B\u95F4\u7684\u72B6\u6001\u3001\u97F3\u4E50\u64AD\u653E\u3001\u767B\u5F55\u72B6\u6001\u3001\u52A0\u5165\u8D2D\u7269\u8F66</li></ul><p><img src="http://poetries1.gitee.io/img-repo/2020/07/62.png" alt="img"></p><ul><li><code>state</code>\uFF1A<code>Vuex</code> \u4F7F\u7528\u5355\u4E00\u72B6\u6001\u6811,\u5373\u6BCF\u4E2A\u5E94\u7528\u5C06\u4EC5\u4EC5\u5305\u542B\u4E00\u4E2A<code>store</code> \u5B9E\u4F8B\uFF0C\u4F46\u5355\u4E00\u72B6\u6001\u6811\u548C\u6A21\u5757\u5316\u5E76\u4E0D\u51B2\u7A81\u3002\u5B58\u653E\u7684\u6570\u636E\u72B6\u6001\uFF0C\u4E0D\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u91CC\u9762\u7684\u6570\u636E\u3002</li><li><code>mutations</code>\uFF1A<code>mutations</code>\u5B9A\u4E49\u7684\u65B9\u6CD5\u52A8\u6001\u4FEE\u6539<code>Vuex</code> \u7684 <code>store</code> \u4E2D\u7684\u72B6\u6001\u6216\u6570\u636E</li><li><code>getters</code>\uFF1A\u7C7B\u4F3C<code>vue</code>\u7684\u8BA1\u7B97\u5C5E\u6027\uFF0C\u4E3B\u8981\u7528\u6765\u8FC7\u6EE4\u4E00\u4E9B\u6570\u636E\u3002</li><li><code>action</code>\uFF1A<code>actions</code>\u53EF\u4EE5\u7406\u89E3\u4E3A\u901A\u8FC7\u5C06<code>mutations</code>\u91CC\u9762\u5904\u91CC\u6570\u636E\u7684\u65B9\u6CD5\u53D8\u6210\u53EF\u5F02\u6B65\u7684\u5904\u7406\u6570\u636E\u7684\u65B9\u6CD5\uFF0C\u7B80\u5355\u7684\u8BF4\u5C31\u662F\u5F02\u6B65\u64CD\u4F5C\u6570\u636E\u3002<code>view</code> \u5C42\u901A\u8FC7 <code>store.dispath</code> \u6765\u5206\u53D1 <code>action</code></li></ul><p><img src="http://poetries1.gitee.io/img-repo/2020/07/63.png" alt="img"></p><blockquote><p><code>modules</code>\uFF1A\u9879\u76EE\u7279\u522B\u590D\u6742\u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u8BA9\u6BCF\u4E00\u4E2A\u6A21\u5757\u62E5\u6709\u81EA\u5DF1\u7684<code>state</code>\u3001<code>mutation</code>\u3001<code>action</code>\u3001<code>getters</code>\uFF0C\u4F7F\u5F97\u7ED3\u6784\u975E\u5E38\u6E05\u6670\uFF0C\u65B9\u4FBF\u7BA1\u7406</p></blockquote><p><img src="http://poetries1.gitee.io/img-repo/2020/07/64.png" alt="img"></p>',6),HT={id:"_7-v-if-\u548C-v-show-\u533A\u522B",tabindex:"-1"},LT=n("a",{class:"header-anchor",href:"#_7-v-if-\u548C-v-show-\u533A\u522B","aria-hidden":"true"},"#",-1),UT=s(),JT={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_7-v-if-%E5%92%8C-v-show-%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},WT=s("#"),zT=s("7 v-if \u548C v-show \u533A\u522B"),GT=n("ul",null,[n("li",null,[s("\u7B54\uFF1A"),n("code",null,"v-if"),s("\u6309\u7167\u6761\u4EF6\u662F\u5426\u6E32\u67D3\uFF0C"),n("code",null,"v-show"),s("\u662F"),n("code",null,"display"),s("\u7684"),n("code",null,"block"),s("\u6216"),n("code",null,"none"),s("\uFF1B")])],-1),$T={id:"_8-route\u548C-router\u7684\u533A\u522B",tabindex:"-1"},XT=n("a",{class:"header-anchor",href:"#_8-route\u548C-router\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),KT=s(),QT={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_8-route%E5%92%8C-router%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},YT=s("#"),ZT=s("8 "),nN=n("code",null,"$route",-1),sN=s("\u548C"),aN=n("code",null,"$router",-1),eN=s("\u7684\u533A\u522B"),tN=t("<ul><li><code>$route</code>\u662F\u201C\u8DEF\u7531\u4FE1\u606F\u5BF9\u8C61\u201D\uFF0C\u5305\u62EC<code>path</code>\uFF0C<code>params</code>\uFF0C<code>hash</code>\uFF0C<code>query</code>\uFF0C<code>fullPath</code>\uFF0C<code>matched</code>\uFF0C<code>name</code>\u7B49\u8DEF\u7531\u4FE1\u606F\u53C2\u6570\u3002</li><li>\u800C<code>$router</code>\u662F\u201C\u8DEF\u7531\u5B9E\u4F8B\u201D\u5BF9\u8C61\u5305\u62EC\u4E86\u8DEF\u7531\u7684\u8DF3\u8F6C\u65B9\u6CD5\uFF0C\u94A9\u5B50\u51FD\u6570\u7B49</li></ul>",1),pN={id:"_9-\u5982\u4F55\u8BA9css\u53EA\u5728\u5F53\u524D\u7EC4\u4EF6\u4E2D\u8D77\u4F5C\u7528",tabindex:"-1"},oN=n("a",{class:"header-anchor",href:"#_9-\u5982\u4F55\u8BA9css\u53EA\u5728\u5F53\u524D\u7EC4\u4EF6\u4E2D\u8D77\u4F5C\u7528","aria-hidden":"true"},"#",-1),cN=s(),lN={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_9-%E5%A6%82%E4%BD%95%E8%AE%A9css%E5%8F%AA%E5%9C%A8%E5%BD%93%E5%89%8D%E7%BB%84%E4%BB%B6%E4%B8%AD%E8%B5%B7%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},rN=s("#"),iN=s("9 \u5982\u4F55\u8BA9CSS\u53EA\u5728\u5F53\u524D\u7EC4\u4EF6\u4E2D\u8D77\u4F5C\u7528?"),uN=n("blockquote",null,[n("p",null,[s("\u5C06\u5F53\u524D\u7EC4\u4EF6\u7684"),n("code",null,"<style>"),s("\u4FEE\u6539\u4E3A"),n("code",null,"<style scoped>")])],-1),kN={id:"_10-keep-alive-keep-alive-\u7684\u4F5C\u7528\u662F\u4EC0\u4E48",tabindex:"-1"},dN=n("a",{class:"header-anchor",href:"#_10-keep-alive-keep-alive-\u7684\u4F5C\u7528\u662F\u4EC0\u4E48","aria-hidden":"true"},"#",-1),bN=s(),mN={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_10-keep-alive-keep-alive-%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},hN=s("#"),_N=s("10 "),gN=n("code",null,"<keep-alive></keep-alive>",-1),EN=s("\u7684\u4F5C\u7528\u662F\u4EC0\u4E48?"),fN=t("<blockquote><p>keep-alive\u53EF\u4EE5\u5B9E\u73B0\u7EC4\u4EF6\u7F13\u5B58\uFF0C\u5F53\u7EC4\u4EF6\u5207\u6362\u65F6\u4E0D\u4F1A\u5BF9\u5F53\u524D\u7EC4\u4EF6\u8FDB\u884C\u5378\u8F7D</p></blockquote><ul><li><code>&lt;keep-alive&gt;&lt;/keep-alive&gt;</code> \u5305\u88F9\u52A8\u6001\u7EC4\u4EF6\u65F6\uFF0C\u4F1A\u7F13\u5B58\u4E0D\u6D3B\u52A8\u7684\u7EC4\u4EF6\u5B9E\u4F8B,\u4E3B\u8981\u7528\u4E8E\u4FDD\u7559\u7EC4\u4EF6\u72B6\u6001\u6216\u907F\u514D\u91CD\u65B0\u6E32\u67D3</li></ul><blockquote><p>\u6BD4\u5982\u6709\u4E00\u4E2A\u5217\u8868\u548C\u4E00\u4E2A\u8BE6\u60C5\uFF0C\u90A3\u4E48\u7528\u6237\u5C31\u4F1A\u7ECF\u5E38\u6267\u884C\u6253\u5F00\u8BE6\u60C5=&gt;\u8FD4\u56DE\u5217\u8868=&gt;\u6253\u5F00\u8BE6\u60C5\u2026\u8FD9\u6837\u7684\u8BDD\u5217\u8868\u548C\u8BE6\u60C5\u90FD\u662F\u4E00\u4E2A\u9891\u7387\u5F88\u9AD8\u7684\u9875\u9762\uFF0C\u90A3\u4E48\u5C31\u53EF\u4EE5\u5BF9\u5217\u8868\u7EC4\u4EF6\u4F7F\u7528<code>&lt;keep-alive&gt;&lt;/keep-alive&gt;</code>\u8FDB\u884C\u7F13\u5B58\uFF0C\u8FD9\u6837\u7528\u6237\u6BCF\u6B21\u8FD4\u56DE\u5217\u8868\u7684\u65F6\u5019\uFF0C\u90FD\u80FD\u4ECE\u7F13\u5B58\u4E2D\u5FEB\u901F\u6E32\u67D3\uFF0C\u800C\u4E0D\u662F\u91CD\u65B0\u6E32\u67D3</p></blockquote><ul><li>\u5E38\u7528\u7684\u4E24\u4E2A\u5C5E\u6027<code>include/exclude</code>\uFF0C\u5141\u8BB8\u7EC4\u4EF6\u6709\u6761\u4EF6\u7684\u8FDB\u884C\u7F13\u5B58</li><li>\u4E24\u4E2A\u751F\u547D\u5468\u671F<code>activated/deactivated</code>\uFF0C\u7528\u6765\u5F97\u77E5\u5F53\u524D\u7EC4\u4EF6\u662F\u5426\u5904\u4E8E\u6D3B\u8DC3\u72B6\u6001</li></ul>",4),vN={id:"_11-\u6307\u4EE4v-el\u7684\u4F5C\u7528\u662F\u4EC0\u4E48",tabindex:"-1"},wN=n("a",{class:"header-anchor",href:"#_11-\u6307\u4EE4v-el\u7684\u4F5C\u7528\u662F\u4EC0\u4E48","aria-hidden":"true"},"#",-1),yN=s(),xN={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_11-%E6%8C%87%E4%BB%A4v-el%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},AN=s("#"),BN=s("11 \u6307\u4EE4v-el\u7684\u4F5C\u7528\u662F\u4EC0\u4E48?"),qN=n("blockquote",null,[n("p",null,[s("\u63D0\u4F9B\u4E00\u4E2A\u5728\u9875\u9762\u4E0A\u5DF2\u5B58\u5728\u7684 "),n("code",null,"DOM"),s("\u5143\u7D20\u4F5C\u4E3A "),n("code",null,"Vue"),s("\u5B9E\u4F8B\u7684\u6302\u8F7D\u76EE\u6807.\u53EF\u4EE5\u662F CSS \u9009\u62E9\u5668\uFF0C\u4E5F\u53EF\u4EE5\u662F\u4E00\u4E2A "),n("code",null,"HTMLElement"),s(" \u5B9E\u4F8B,")])],-1),jN={id:"_12-\u5728vue\u4E2D\u4F7F\u7528\u63D2\u4EF6\u7684\u6B65\u9AA4",tabindex:"-1"},SN=n("a",{class:"header-anchor",href:"#_12-\u5728vue\u4E2D\u4F7F\u7528\u63D2\u4EF6\u7684\u6B65\u9AA4","aria-hidden":"true"},"#",-1),CN=s(),DN={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_12-%E5%9C%A8vue%E4%B8%AD%E4%BD%BF%E7%94%A8%E6%8F%92%E4%BB%B6%E7%9A%84%E6%AD%A5%E9%AA%A4",target:"_blank",rel:"noopener noreferrer"},FN=s("#"),PN=s("12 \u5728Vue\u4E2D\u4F7F\u7528\u63D2\u4EF6\u7684\u6B65\u9AA4"),TN=t("<ul><li>\u91C7\u7528<code>ES6</code>\u7684<code>import ... from ...</code>\u8BED\u6CD5\u6216<code>CommonJS</code>\u7684<code>require()</code>\u65B9\u6CD5\u5F15\u5165\u63D2\u4EF6</li><li>\u4F7F\u7528\u5168\u5C40\u65B9\u6CD5<code>Vue.use( plugin )</code>\u4F7F\u7528\u63D2\u4EF6,\u53EF\u4EE5\u4F20\u5165\u4E00\u4E2A\u9009\u9879\u5BF9\u8C61<code>Vue.use(MyPlugin, { someOption: true })</code></li></ul>",1),NN={id:"_13-\u8BF7\u5217\u4E3E\u51FA3\u4E2Avue\u4E2D\u5E38\u7528\u7684\u751F\u547D\u5468\u671F\u94A9\u5B50\u51FD\u6570",tabindex:"-1"},MN=n("a",{class:"header-anchor",href:"#_13-\u8BF7\u5217\u4E3E\u51FA3\u4E2Avue\u4E2D\u5E38\u7528\u7684\u751F\u547D\u5468\u671F\u94A9\u5B50\u51FD\u6570","aria-hidden":"true"},"#",-1),ON=s(),IN={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_13-%E8%AF%B7%E5%88%97%E4%B8%BE%E5%87%BA3%E4%B8%AAvue%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},RN=s("#"),VN=s("13 \u8BF7\u5217\u4E3E\u51FA3\u4E2AVue\u4E2D\u5E38\u7528\u7684\u751F\u547D\u5468\u671F\u94A9\u5B50\u51FD\u6570?"),HN=t("<ul><li><code>created</code>: \u5B9E\u4F8B\u5DF2\u7ECF\u521B\u5EFA\u5B8C\u6210\u4E4B\u540E\u8C03\u7528,\u5728\u8FD9\u4E00\u6B65,\u5B9E\u4F8B\u5DF2\u7ECF\u5B8C\u6210\u6570\u636E\u89C2\u6D4B, \u5C5E\u6027\u548C\u65B9\u6CD5\u7684\u8FD0\u7B97, <code>watch/event</code>\u4E8B\u4EF6\u56DE\u8C03. \u7136\u800C, \u6302\u8F7D\u9636\u6BB5\u8FD8\u6CA1\u6709\u5F00\u59CB, <code>$el</code>\u5C5E\u6027\u76EE\u524D\u8FD8\u4E0D\u53EF\u89C1</li><li><code>mounted</code>: <code>el</code>\u88AB\u65B0\u521B\u5EFA\u7684 <code>vm.$el</code> \u66FF\u6362\uFF0C\u5E76\u6302\u8F7D\u5230\u5B9E\u4F8B\u4E0A\u53BB\u4E4B\u540E\u8C03\u7528\u8BE5\u94A9\u5B50\u3002\u5982\u679C <code>root</code> \u5B9E\u4F8B\u6302\u8F7D\u4E86\u4E00\u4E2A\u6587\u6863\u5185\u5143\u7D20\uFF0C\u5F53 <code>mounted</code>\u88AB\u8C03\u7528\u65F6 <code>vm.$el</code> \u4E5F\u5728\u6587\u6863\u5185\u3002</li><li><code>activated</code>: <code>keep-alive</code>\u7EC4\u4EF6\u6FC0\u6D3B\u65F6\u8C03\u7528</li></ul>",1),LN={id:"_14-vue-cli-\u5DE5\u7A0B\u6280\u672F\u96C6\u5408\u4ECB\u7ECD",tabindex:"-1"},UN=n("a",{class:"header-anchor",href:"#_14-vue-cli-\u5DE5\u7A0B\u6280\u672F\u96C6\u5408\u4ECB\u7ECD","aria-hidden":"true"},"#",-1),JN=s(),WN={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_14-vue-cli-%E5%B7%A5%E7%A8%8B%E6%8A%80%E6%9C%AF%E9%9B%86%E5%90%88%E4%BB%8B%E7%BB%8D",target:"_blank",rel:"noopener noreferrer"},zN=s("#"),GN=s("14 \bvue-cli \u5DE5\u7A0B\u6280\u672F\u96C6\u5408\u4ECB\u7ECD"),$N=t(`<p><strong>\u95EE\u9898\u4E00\uFF1A\u6784\u5EFA\u7684 vue-cli \u5DE5\u7A0B\u90FD\u5230\u4E86\u54EA\u4E9B\u6280\u672F\uFF0C\u5B83\u4EEC\u7684\u4F5C\u7528\u5206\u522B\u662F\u4EC0\u4E48\uFF1F</strong></p><ul><li><code>vue.js</code>\uFF1A<code>vue-cli</code>\u5DE5\u7A0B\u7684\u6838\u5FC3\uFF0C\u4E3B\u8981\u7279\u70B9\u662F \u53CC\u5411\u6570\u636E\u7ED1\u5B9A \u548C \u7EC4\u4EF6\u7CFB\u7EDF\u3002</li><li><code>vue-router</code>\uFF1A<code>vue</code>\u5B98\u65B9\u63A8\u8350\u4F7F\u7528\u7684\u8DEF\u7531\u6846\u67B6\u3002</li><li><code>vuex</code>\uFF1A\u4E13\u4E3A <code>Vue.js</code> \u5E94\u7528\u9879\u76EE\u5F00\u53D1\u7684\u72B6\u6001\u7BA1\u7406\u5668\uFF0C\u4E3B\u8981\u7528\u4E8E\u7EF4\u62A4<code>vue</code>\u7EC4\u4EF6\u95F4\u5171\u7528\u7684\u4E00\u4E9B \u53D8\u91CF \u548C \u65B9\u6CD5\u3002</li><li><code>axios</code>\uFF08 \u6216\u8005 <code>fetch</code> \u3001<code>ajax</code> \uFF09\uFF1A\u7528\u4E8E\u53D1\u8D77 <code>GET</code> \u3001\u6216 <code>POST</code> \u7B49 <code>http</code>\u8BF7\u6C42\uFF0C\u57FA\u4E8E <code>Promise</code> \u8BBE\u8BA1\u3002</li><li><code>vuex</code>\u7B49\uFF1A\u4E00\u4E2A\u4E13\u4E3A<code>vue</code>\u8BBE\u8BA1\u7684\u79FB\u52A8\u7AEFUI\u7EC4\u4EF6\u5E93\u3002</li><li>\u521B\u5EFA\u4E00\u4E2A<code>emit.js</code>\u6587\u4EF6\uFF0C\u7528\u4E8E<code>vue</code>\u4E8B\u4EF6\u673A\u5236\u7684\u7BA1\u7406\u3002</li><li><code>webpack</code>\uFF1A\u6A21\u5757\u52A0\u8F7D\u548C<code>vue-cli</code>\u5DE5\u7A0B\u6253\u5305\u5668\u3002</li></ul><p><strong>\u95EE\u9898\u4E8C\uFF1Avue-cli \u5DE5\u7A0B\u5E38\u7528\u7684 npm \u547D\u4EE4\u6709\u54EA\u4E9B\uFF1F</strong></p><ul><li>\u4E0B\u8F7D <code>node_modules</code> \u8D44\u6E90\u5305\u7684\u547D\u4EE4\uFF1A</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u542F\u52A8 <code>vue-cli</code> \u5F00\u53D1\u73AF\u5883\u7684 npm\u547D\u4EE4\uFF1A</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm run dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>vue-cli</code> \u751F\u6210 \u751F\u4EA7\u73AF\u5883\u90E8\u7F72\u8D44\u6E90 \u7684 <code>npm</code>\u547D\u4EE4\uFF1A</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm run build
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u7528\u4E8E\u67E5\u770B <code>vue-cli</code> \u751F\u4EA7\u73AF\u5883\u90E8\u7F72\u8D44\u6E90\u6587\u4EF6\u5927\u5C0F\u7684 <code>npm</code>\u547D\u4EE4\uFF1A</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm run build --report
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u5728\u6D4F\u89C8\u5668\u4E0A\u81EA\u52A8\u5F39\u51FA\u4E00\u4E2A \u5C55\u793A <code>vue-cli</code> \u5DE5\u7A0B\u6253\u5305\u540E <code>app.js</code>\u3001<code>manifest.js</code>\u3001<code>vendor.js</code> \u6587\u4EF6\u91CC\u9762\u6240\u5305\u542B\u4EE3\u7801\u7684\u9875\u9762\u3002\u53EF\u4EE5\u5177\u6B64\u4F18\u5316 <code>vue-cli</code> \u751F\u4EA7\u73AF\u5883\u90E8\u7F72\u7684\u9759\u6001\u8D44\u6E90\uFF0C\u63D0\u5347 \u9875\u9762 \u7684\u52A0\u8F7D\u901F\u5EA6</p></blockquote>`,12),XN={id:"_15-nexttick",tabindex:"-1"},KN=n("a",{class:"header-anchor",href:"#_15-nexttick","aria-hidden":"true"},"#",-1),QN=s(),YN={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_15-nexttick",target:"_blank",rel:"noopener noreferrer"},ZN=s("#"),nM=s("15 NextTick"),sM=t(`<blockquote><p>\u5728\u4E0B\u6B21<code>dom</code>\u66F4\u65B0\u5FAA\u73AF\u7ED3\u675F\u4E4B\u540E\u6267\u884C\u5EF6\u8FDF\u56DE\u8C03\uFF0C\u53EF\u7528\u4E8E\u83B7\u53D6\u66F4\u65B0\u540E\u7684<code>dom</code>\u72B6\u6001</p></blockquote><ul><li><p>\u65B0\u7248\u672C\u4E2D\u9ED8\u8BA4\u662F<code>mincrotasks</code>, <code>v-on</code>\u4E2D\u4F1A\u4F7F\u7528<code>macrotasks</code></p></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>macrotasks
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u4EFB\u52A1\u7684\u5B9E\u73B0:</p><ul><li><code>setImmediate / MessageChannel / setTimeout</code></li></ul></li></ul>`,2),aM={id:"_16-vue\u7684\u4F18\u70B9\u662F\u4EC0\u4E48",tabindex:"-1"},eM=n("a",{class:"header-anchor",href:"#_16-vue\u7684\u4F18\u70B9\u662F\u4EC0\u4E48","aria-hidden":"true"},"#",-1),tM=s(),pM={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_16-vue%E7%9A%84%E4%BC%98%E7%82%B9%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},oM=s("#"),cM=s("16 vue\u7684\u4F18\u70B9\u662F\u4EC0\u4E48\uFF1F"),lM=t("<ul><li>\u4F4E\u8026\u5408\u3002\u89C6\u56FE\uFF08<code>View</code>\uFF09\u53EF\u4EE5\u72EC\u7ACB\u4E8E<code>Model</code>\u53D8\u5316\u548C\u4FEE\u6539\uFF0C\u4E00\u4E2A<code>ViewModel</code>\u53EF\u4EE5\u7ED1\u5B9A\u5230\u4E0D\u540C\u7684<code>&quot;View&quot;</code>\u4E0A\uFF0C\u5F53View\u53D8\u5316\u7684\u65F6\u5019Model\u53EF\u4EE5\u4E0D\u53D8\uFF0C\u5F53<code>Model</code>\u53D8\u5316\u7684\u65F6\u5019<code>View</code>\u4E5F\u53EF\u4EE5\u4E0D\u53D8</li><li>\u53EF\u91CD\u7528\u6027\u3002\u4F60\u53EF\u4EE5\u628A\u4E00\u4E9B\u89C6\u56FE\u903B\u8F91\u653E\u5728\u4E00\u4E2A<code>ViewModel</code>\u91CC\u9762\uFF0C\u8BA9\u5F88\u591A<code>view</code>\u91CD\u7528\u8FD9\u6BB5\u89C6\u56FE\u903B\u8F91</li><li>\u53EF\u6D4B\u8BD5\u3002\u754C\u9762\u7D20\u6765\u662F\u6BD4\u8F83\u96BE\u4E8E\u6D4B\u8BD5\u7684\uFF0C\u800C\u73B0\u5728\u6D4B\u8BD5\u53EF\u4EE5\u9488\u5BF9<code>ViewModel</code>\u6765\u5199</li></ul>",1),rM={id:"_17-\u8DEF\u7531\u4E4B\u95F4\u8DF3\u8F6C",tabindex:"-1"},iM=n("a",{class:"header-anchor",href:"#_17-\u8DEF\u7531\u4E4B\u95F4\u8DF3\u8F6C","aria-hidden":"true"},"#",-1),uM=s(),kM={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_17-%E8%B7%AF%E7%94%B1%E4%B9%8B%E9%97%B4%E8%B7%B3%E8%BD%AC",target:"_blank",rel:"noopener noreferrer"},dM=s("#"),bM=s("17 \u8DEF\u7531\u4E4B\u95F4\u8DF3\u8F6C\uFF1F"),mM=t(`<p><strong>\u58F0\u660E\u5F0F\uFF08\u6807\u7B7E\u8DF3\u8F6C\uFF09</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;router-link :to=&quot;index&quot;&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>\u7F16\u7A0B\u5F0F\uFF08 js\u8DF3\u8F6C\uFF09</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>router.push(&#39;index&#39;)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,4),hM={id:"_18-\u5B9E\u73B0-vue-ssr",tabindex:"-1"},_M=n("a",{class:"header-anchor",href:"#_18-\u5B9E\u73B0-vue-ssr","aria-hidden":"true"},"#",-1),gM=s(),EM={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_18-%E5%AE%9E%E7%8E%B0-vue-ssr",target:"_blank",rel:"noopener noreferrer"},fM=s("#"),vM=s("18 \u5B9E\u73B0 Vue SSR"),wM=t("<p><strong>\u5176\u57FA\u672C\u5B9E\u73B0\u539F\u7406</strong></p><ul><li><code>app.js</code> \u4F5C\u4E3A\u5BA2\u6237\u7AEF\u4E0E\u670D\u52A1\u7AEF\u7684\u516C\u7528\u5165\u53E3\uFF0C\u5BFC\u51FA <code>Vue</code> \u6839\u5B9E\u4F8B\uFF0C\u4F9B\u5BA2\u6237\u7AEF <code>entry</code> \u4E0E\u670D\u52A1\u7AEF <code>entry</code> \u4F7F\u7528\u3002\u5BA2\u6237\u7AEF <code>entry</code> \u4E3B\u8981\u4F5C\u7528\u6302\u8F7D\u5230 <code>DOM</code> \u4E0A\uFF0C\u670D\u52A1\u7AEF <code>entry</code> \u9664\u4E86\u521B\u5EFA\u548C\u8FD4\u56DE\u5B9E\u4F8B\uFF0C\u8FD8\u8FDB\u884C\u8DEF\u7531\u5339\u914D\u4E0E\u6570\u636E\u9884\u83B7\u53D6\u3002</li><li><code>webpack</code> \u4E3A\u5BA2\u670D\u7AEF\u6253\u5305\u4E00\u4E2A <code>Client Bundle</code> \uFF0C\u4E3A\u670D\u52A1\u7AEF\u6253\u5305\u4E00\u4E2A <code>Server Bundle</code> \u3002</li><li>\u670D\u52A1\u5668\u63A5\u6536\u8BF7\u6C42\u65F6\uFF0C\u4F1A\u6839\u636E <code>url</code>\uFF0C\u52A0\u8F7D\u76F8\u5E94\u7EC4\u4EF6\uFF0C\u83B7\u53D6\u548C\u89E3\u6790\u5F02\u6B65\u6570\u636E\uFF0C\u521B\u5EFA\u4E00\u4E2A\u8BFB\u53D6 <code>Server Bundle</code> \u7684 <code>BundleRenderer</code>\uFF0C\u7136\u540E\u751F\u6210 <code>html</code> \u53D1\u9001\u7ED9\u5BA2\u6237\u7AEF\u3002</li><li>\u5BA2\u6237\u7AEF\u6DF7\u5408\uFF0C\u5BA2\u6237\u7AEF\u6536\u5230\u4ECE\u670D\u52A1\u7AEF\u4F20\u6765\u7684 <code>DOM</code> \u4E0E\u81EA\u5DF1\u7684\u751F\u6210\u7684 DOM \u8FDB\u884C\u5BF9\u6BD4\uFF0C\u628A\u4E0D\u76F8\u540C\u7684 <code>DOM</code> \u6FC0\u6D3B\uFF0C\u4F7F\u5176\u53EF\u4EE5\u80FD\u591F\u54CD\u5E94\u540E\u7EED\u53D8\u5316\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u79F0\u4E3A\u5BA2\u6237\u7AEF\u6FC0\u6D3B \u3002\u4E3A\u786E\u4FDD\u6DF7\u5408\u6210\u529F\uFF0C\u5BA2\u6237\u7AEF\u4E0E\u670D\u52A1\u5668\u7AEF\u9700\u8981\u5171\u4EAB\u540C\u4E00\u5957\u6570\u636E\u3002\u5728\u670D\u52A1\u7AEF\uFF0C\u53EF\u4EE5\u5728\u6E32\u67D3\u4E4B\u524D\u83B7\u53D6\u6570\u636E\uFF0C\u586B\u5145\u5230 <code>stroe</code> \u91CC\uFF0C\u8FD9\u6837\uFF0C\u5728\u5BA2\u6237\u7AEF\u6302\u8F7D\u5230 <code>DOM</code> \u4E4B\u524D\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4ECE <code>store</code>\u91CC\u53D6\u6570\u636E\u3002\u9996\u5C4F\u7684\u52A8\u6001\u6570\u636E\u901A\u8FC7 <code>window.__INITIAL_STATE__</code>\u53D1\u9001\u5230\u5BA2\u6237\u7AEF</li></ul><blockquote><p><code>Vue SSR</code> \u7684\u5B9E\u73B0\uFF0C\u4E3B\u8981\u5C31\u662F\u628A <code>Vue</code> \u7684\u7EC4\u4EF6\u8F93\u51FA\u6210\u4E00\u4E2A\u5B8C\u6574 <code>HTML</code>, <code>vue-server-renderer</code> \u5C31\u662F\u5E72\u8FD9\u4E8B\u7684</p></blockquote><ul><li><code>Vue SSR</code>\u9700\u8981\u505A\u7684\u4E8B\u591A\u70B9\uFF08\u8F93\u51FA\u5B8C\u6574 HTML\uFF09\uFF0C\u9664\u4E86<code>complier -&gt; vnode</code>\uFF0C\u8FD8\u9700\u5982\u6570\u636E\u83B7\u53D6\u586B\u5145\u81F3 <code>HTML</code>\u3001\u5BA2\u6237\u7AEF\u6DF7\u5408\uFF08<code>hydration</code>\uFF09\u3001\u7F13\u5B58\u7B49\u7B49\u3002 \u76F8\u6BD4\u4E8E\u5176\u4ED6\u6A21\u677F\u5F15\u64CE\uFF08<code>ejs</code>, <code>jade</code> \u7B49\uFF09\uFF0C\u6700\u7EC8\u8981\u5B9E\u73B0\u7684\u76EE\u7684\u662F\u4E00\u6837\u7684\uFF0C\u6027\u80FD\u4E0A\u53EF\u80FD\u8981\u5DEE\u70B9</li></ul>",4),yM={id:"_19-vue-\u7EC4\u4EF6-data-\u4E3A\u4EC0\u4E48\u5FC5\u987B\u662F\u51FD\u6570",tabindex:"-1"},xM=n("a",{class:"header-anchor",href:"#_19-vue-\u7EC4\u4EF6-data-\u4E3A\u4EC0\u4E48\u5FC5\u987B\u662F\u51FD\u6570","aria-hidden":"true"},"#",-1),AM=s(),BM={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_19-vue-%E7%BB%84%E4%BB%B6-data-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%BF%85%E9%A1%BB%E6%98%AF%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},qM=s("#"),jM=s("19 Vue \u7EC4\u4EF6 data \u4E3A\u4EC0\u4E48\u5FC5\u987B\u662F\u51FD\u6570"),SM=n("ul",null,[n("li",null,[s("\u6BCF\u4E2A\u7EC4\u4EF6\u90FD\u662F "),n("code",null,"Vue"),s(" \u7684\u5B9E\u4F8B\u3002")]),n("li",null,[s("\u7EC4\u4EF6\u5171\u4EAB "),n("code",null,"data"),s(" \u5C5E\u6027\uFF0C\u5F53 "),n("code",null,"data"),s(" \u7684\u503C\u662F\u540C\u4E00\u4E2A\u5F15\u7528\u7C7B\u578B\u7684\u503C\u65F6\uFF0C\u6539\u53D8\u5176\u4E2D\u4E00\u4E2A\u4F1A\u5F71\u54CD\u5176\u4ED6")])],-1),CM={id:"_20-vue-computed-\u5B9E\u73B0",tabindex:"-1"},DM=n("a",{class:"header-anchor",href:"#_20-vue-computed-\u5B9E\u73B0","aria-hidden":"true"},"#",-1),FM=s(),PM={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_20-vue-computed-%E5%AE%9E%E7%8E%B0",target:"_blank",rel:"noopener noreferrer"},TM=s("#"),NM=s("20 Vue computed \u5B9E\u73B0"),MM=t("<ul><li>\u5EFA\u7ACB\u4E0E\u5176\u4ED6\u5C5E\u6027\uFF08\u5982\uFF1A<code>data</code>\u3001 <code>Store</code>\uFF09\u7684\u8054\u7CFB\uFF1B</li><li>\u5C5E\u6027\u6539\u53D8\u540E\uFF0C\u901A\u77E5\u8BA1\u7B97\u5C5E\u6027\u91CD\u65B0\u8BA1\u7B97</li></ul><blockquote><p>\u5B9E\u73B0\u65F6\uFF0C\u4E3B\u8981\u5982\u4E0B</p></blockquote><ul><li>\u521D\u59CB\u5316 <code>data</code>\uFF0C \u4F7F\u7528 <code>Object.defineProperty</code> \u628A\u8FD9\u4E9B\u5C5E\u6027\u5168\u90E8\u8F6C\u4E3A <code>getter/setter</code>\u3002</li><li>\u521D\u59CB\u5316 <code>computed</code>, \u904D\u5386 <code>computed</code> \u91CC\u7684\u6BCF\u4E2A\u5C5E\u6027\uFF0C\u6BCF\u4E2A <code>computed</code> \u5C5E\u6027\u90FD\u662F\u4E00\u4E2A <code>watch</code> \u5B9E\u4F8B\u3002\u6BCF\u4E2A\u5C5E\u6027\u63D0\u4F9B\u7684\u51FD\u6570\u4F5C\u4E3A\u5C5E\u6027\u7684 <code>getter</code>\uFF0C\u4F7F\u7528 <code>Object.defineProperty</code> \u8F6C\u5316\u3002</li><li><code>Object.defineProperty getter</code> \u4F9D\u8D56\u6536\u96C6\u3002\u7528\u4E8E\u4F9D\u8D56\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u89E6\u53D1\u5C5E\u6027\u91CD\u65B0\u8BA1\u7B97\u3002</li><li>\u82E5\u51FA\u73B0\u5F53\u524D <code>computed</code> \u8BA1\u7B97\u5C5E\u6027\u5D4C\u5957\u5176\u4ED6 <code>computed</code> \u8BA1\u7B97\u5C5E\u6027\u65F6\uFF0C\u5148\u8FDB\u884C\u5176\u4ED6\u7684\u4F9D\u8D56\u6536\u96C6</li></ul>",3),OM={id:"_21-vue-complier-\u5B9E\u73B0",tabindex:"-1"},IM=n("a",{class:"header-anchor",href:"#_21-vue-complier-\u5B9E\u73B0","aria-hidden":"true"},"#",-1),RM=s(),VM={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_21-vue-complier-%E5%AE%9E%E7%8E%B0",target:"_blank",rel:"noopener noreferrer"},HM=s("#"),LM=s("21 Vue complier \u5B9E\u73B0"),UM=t("<ul><li>\u6A21\u677F\u89E3\u6790\u8FD9\u79CD\u4E8B\uFF0C\u672C\u8D28\u662F\u5C06\u6570\u636E\u8F6C\u5316\u4E3A\u4E00\u6BB5 <code>html</code> \uFF0C\u6700\u5F00\u59CB\u51FA\u73B0\u5728\u540E\u7AEF\uFF0C\u7ECF\u8FC7\u5404\u79CD\u5904\u7406\u5410\u7ED9\u524D\u7AEF\u3002\u968F\u7740\u5404\u79CD <code>mv*</code> \u7684\u5174\u8D77\uFF0C\u6A21\u677F\u89E3\u6790\u4EA4\u7531\u524D\u7AEF\u5904\u7406\u3002</li><li>\u603B\u7684\u6765\u8BF4\uFF0C<code>Vue complier</code> \u662F\u5C06 <code>template</code> \u8F6C\u5316\u6210\u4E00\u4E2A <code>render</code> \u5B57\u7B26\u4E32\u3002</li></ul><blockquote><p>\u53EF\u4EE5\u7B80\u5355\u7406\u89E3\u6210\u4EE5\u4E0B\u6B65\u9AA4\uFF1A</p></blockquote><ul><li><code>parse</code> \u8FC7\u7A0B\uFF0C\u5C06 <code>template</code> \u5229\u7528\u6B63\u5219\u8F6C\u5316\u6210<code>AST</code> \u62BD\u8C61\u8BED\u6CD5\u6811\u3002</li><li><code>optimize</code> \u8FC7\u7A0B\uFF0C\u6807\u8BB0\u9759\u6001\u8282\u70B9\uFF0C\u540E <code>diff</code> \u8FC7\u7A0B\u8DF3\u8FC7\u9759\u6001\u8282\u70B9\uFF0C\u63D0\u5347\u6027\u80FD\u3002</li><li><code>generate</code> \u8FC7\u7A0B\uFF0C\u751F\u6210 <code>render</code> \u5B57\u7B26\u4E32</li></ul>",3),JM={id:"_22-\u600E\u4E48\u5FEB\u901F\u5B9A\u4F4D\u54EA\u4E2A\u7EC4\u4EF6\u51FA\u73B0\u6027\u80FD\u95EE\u9898",tabindex:"-1"},WM=n("a",{class:"header-anchor",href:"#_22-\u600E\u4E48\u5FEB\u901F\u5B9A\u4F4D\u54EA\u4E2A\u7EC4\u4EF6\u51FA\u73B0\u6027\u80FD\u95EE\u9898","aria-hidden":"true"},"#",-1),zM=s(),GM={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_22-%E6%80%8E%E4%B9%88%E5%BF%AB%E9%80%9F%E5%AE%9A%E4%BD%8D%E5%93%AA%E4%B8%AA%E7%BB%84%E4%BB%B6%E5%87%BA%E7%8E%B0%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},$M=s("#"),XM=s("22 \u600E\u4E48\u5FEB\u901F\u5B9A\u4F4D\u54EA\u4E2A\u7EC4\u4EF6\u51FA\u73B0\u6027\u80FD\u95EE\u9898"),KM=n("blockquote",null,[n("p",null,[s("\u7528 "),n("code",null,"timeline"),s(" \u5DE5\u5177\u3002 \u5927\u610F\u662F\u901A\u8FC7 "),n("code",null,"timeline"),s(" \u6765\u67E5\u770B\u6BCF\u4E2A\u51FD\u6570\u7684\u8C03\u7528\u65F6\u5E38\uFF0C\u5B9A\u4F4D\u51FA\u54EA\u4E2A\u51FD\u6570\u7684\u95EE\u9898\uFF0C\u4ECE\u800C\u80FD\u5224\u65AD\u54EA\u4E2A\u7EC4\u4EF6\u51FA\u4E86\u95EE\u9898")])],-1),QM={id:"_23-\u5F00\u53D1\u4E2D\u5E38\u7528\u7684\u6307\u4EE4\u6709\u54EA\u4E9B",tabindex:"-1"},YM=n("a",{class:"header-anchor",href:"#_23-\u5F00\u53D1\u4E2D\u5E38\u7528\u7684\u6307\u4EE4\u6709\u54EA\u4E9B","aria-hidden":"true"},"#",-1),ZM=s(),nO={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_23-%E5%BC%80%E5%8F%91%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E6%8C%87%E4%BB%A4%E6%9C%89%E5%93%AA%E4%BA%9B",target:"_blank",rel:"noopener noreferrer"},sO=s("#"),aO=s("23 \u5F00\u53D1\u4E2D\u5E38\u7528\u7684\u6307\u4EE4\u6709\u54EA\u4E9B"),eO=t("<ul><li><code>v-model</code> :\u4E00\u822C\u7528\u5728\u8868\u8FBE\u8F93\u5165\uFF0C\u5F88\u8F7B\u677E\u7684\u5B9E\u73B0\u8868\u5355\u63A7\u4EF6\u548C\u6570\u636E\u7684\u53CC\u5411\u7ED1\u5B9A</li><li><code>v-html</code>: \u66F4\u65B0\u5143\u7D20\u7684 <code>innerHTML</code></li><li><code>v-show</code> \u4E0E <code>v-if</code>: \u6761\u4EF6\u6E32\u67D3, \u6CE8\u610F\u4E8C\u8005\u533A\u522B</li></ul><blockquote><p>\u4F7F\u7528\u4E86v-if\u7684\u65F6\u5019\uFF0C\u5982\u679C\u503C\u4E3Afalse\uFF0C\u90A3\u4E48\u9875\u9762\u5C06\u4E0D\u4F1A\u6709\u8FD9\u4E2Ahtml\u6807\u7B7E\u751F\u6210\u3002 v-show\u5219\u662F\u4E0D\u7BA1\u503C\u4E3Atrue\u8FD8\u662Ffalse\uFF0Chtml\u5143\u7D20\u90FD\u4F1A\u5B58\u5728\uFF0C\u53EA\u662FCSS\u4E2D\u7684display\u663E\u793A\u6216\u9690\u85CF</p></blockquote><ul><li><code>v-on</code> : <code>click</code>: \u53EF\u4EE5\u7B80\u5199\u4E3A<code>@click</code>,<code>@</code>\u7ED1\u5B9A\u4E00\u4E2A\u4E8B\u4EF6\u3002\u5982\u679C\u4E8B\u4EF6\u89E6\u53D1\u4E86\uFF0C\u5C31\u53EF\u4EE5\u6307\u5B9A\u4E8B\u4EF6\u7684\u5904\u7406\u51FD\u6570</li><li><code>v-for</code>:\u57FA\u4E8E\u6E90\u6570\u636E\u591A\u6B21\u6E32\u67D3\u5143\u7D20\u6216\u6A21\u677F\u5757</li><li><code>v-bind</code>: \u5F53\u8868\u8FBE\u5F0F\u7684\u503C\u6539\u53D8\u65F6\uFF0C\u5C06\u5176\u4EA7\u751F\u7684\u8FDE\u5E26\u5F71\u54CD\uFF0C\u54CD\u5E94\u5F0F\u5730\u4F5C\u7528\u4E8E <code>DOM</code></li></ul><blockquote><p>\u8BED\u6CD5\uFF1A<code>v-bind:title=&quot;msg&quot;</code>\u7B80\u5199\uFF1A<code>:title=&quot;msg&quot;</code></p></blockquote>",4),tO={id:"_24-proxy-\u76F8\u6BD4\u4E8E-defineproperty-\u7684\u4F18\u52BF",tabindex:"-1"},pO=n("a",{class:"header-anchor",href:"#_24-proxy-\u76F8\u6BD4\u4E8E-defineproperty-\u7684\u4F18\u52BF","aria-hidden":"true"},"#",-1),oO=s(),cO={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_24-proxy-%E7%9B%B8%E6%AF%94%E4%BA%8E-defineproperty-%E7%9A%84%E4%BC%98%E5%8A%BF",target:"_blank",rel:"noopener noreferrer"},lO=s("#"),rO=s("24 Proxy \u76F8\u6BD4\u4E8E defineProperty \u7684\u4F18\u52BF"),iO=t("<blockquote><p>Object.defineProperty() \u7684\u95EE\u9898\u4E3B\u8981\u6709\u4E09\u4E2A\uFF1A</p></blockquote><ul><li>\u4E0D\u80FD\u76D1\u542C\u6570\u7EC4\u7684\u53D8\u5316</li><li>\u5FC5\u987B\u904D\u5386\u5BF9\u8C61\u7684\u6BCF\u4E2A\u5C5E\u6027</li><li>\u5FC5\u987B\u6DF1\u5C42\u904D\u5386\u5D4C\u5957\u7684\u5BF9\u8C61</li></ul><blockquote><p>Proxy \u5728 ES2015 \u89C4\u8303\u4E2D\u88AB\u6B63\u5F0F\u52A0\u5165\uFF0C\u5B83\u6709\u4EE5\u4E0B\u51E0\u4E2A\u7279\u70B9</p></blockquote><ul><li>\u9488\u5BF9\u5BF9\u8C61\uFF1A\u9488\u5BF9\u6574\u4E2A\u5BF9\u8C61\uFF0C\u800C\u4E0D\u662F\u5BF9\u8C61\u7684\u67D0\u4E2A\u5C5E\u6027\uFF0C\u6240\u4EE5\u4E5F\u5C31\u4E0D\u9700\u8981\u5BF9 keys \u8FDB\u884C\u904D\u5386\u3002\u8FD9\u89E3\u51B3\u4E86\u4E0A\u8FF0 Object.defineProperty() \u7B2C\u4E8C\u4E2A\u95EE\u9898</li><li>\u652F\u6301\u6570\u7EC4\uFF1AProxy \u4E0D\u9700\u8981\u5BF9\u6570\u7EC4\u7684\u65B9\u6CD5\u8FDB\u884C\u91CD\u8F7D\uFF0C\u7701\u53BB\u4E86\u4F17\u591A hack\uFF0C\u51CF\u5C11\u4EE3\u7801\u91CF\u7B49\u4E8E\u51CF\u5C11\u4E86\u7EF4\u62A4\u6210\u672C\uFF0C\u800C\u4E14\u6807\u51C6\u7684\u5C31\u662F\u6700\u597D\u7684\u3002</li></ul><blockquote><p>\u9664\u4E86\u4E0A\u8FF0\u4E24\u70B9\u4E4B\u5916\uFF0CProxy \u8FD8\u62E5\u6709\u4EE5\u4E0B\u4F18\u52BF\uFF1A</p></blockquote><ul><li>Proxy \u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u53EF\u4EE5\u6709 13 \u79CD\u62E6\u622A\u65B9\u6CD5\uFF0C\u8FD9\u6BD4\u8D77 Object.defineProperty() \u8981\u66F4\u52A0\u4E30\u5BCC</li><li>Proxy \u4F5C\u4E3A\u65B0\u6807\u51C6\u53D7\u5230\u6D4F\u89C8\u5668\u5382\u5546\u7684\u91CD\u70B9\u5173\u6CE8\u548C\u6027\u80FD\u4F18\u5316\uFF0C\u76F8\u6BD4\u4E4B\u4E0B Object.defineProperty() \u662F\u4E00\u4E2A\u5DF2\u6709\u7684\u8001\u65B9\u6CD5\u3002</li></ul>",6),uO={id:"_25-vue-router-\u6709\u54EA\u51E0\u79CD\u5BFC\u822A\u5B88\u536B",tabindex:"-1"},kO=n("a",{class:"header-anchor",href:"#_25-vue-router-\u6709\u54EA\u51E0\u79CD\u5BFC\u822A\u5B88\u536B","aria-hidden":"true"},"#",-1),dO=s(),bO={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_25-vue-router-%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB",target:"_blank",rel:"noopener noreferrer"},mO=s("#"),hO=s("25 vue-router \u6709\u54EA\u51E0\u79CD\u5BFC\u822A\u5B88\u536B?"),_O=t(`<ul><li>\u5168\u5C40\u5B88\u536B</li><li>\u8DEF\u7531\u72EC\u4EAB\u5B88\u536B</li><li>\u8DEF\u7531\u7EC4\u4EF6\u5185\u7684\u5B88\u536B</li></ul><p><strong>\u5168\u5C40\u5B88\u536B</strong></p><blockquote><p>vue-router\u5168\u5C40\u6709\u4E09\u4E2A\u5B88\u536B</p></blockquote><ul><li><code>router.beforeEach</code> \u5168\u5C40\u524D\u7F6E\u5B88\u536B \u8FDB\u5165\u8DEF\u7531\u4E4B\u524D</li><li><code>router.beforeResolve</code> \u5168\u5C40\u89E3\u6790\u5B88\u536B(2.5.0+) \u5728<code>beforeRouteEnter</code>\u8C03\u7528\u4E4B\u540E\u8C03\u7528</li><li><code>router.afterEach</code> \u5168\u5C40\u540E\u7F6E\u94A9\u5B50 \u8FDB\u5165\u8DEF\u7531\u4E4B\u540E</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// main.js \u5165\u53E3\u6587\u4EF6</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&#39;./router&#39;</span><span class="token punctuation">;</span> <span class="token comment">// \u5F15\u5165\u8DEF\u7531</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token function">beforeResolve</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;afterEach \u5168\u5C40\u540E\u7F6E\u94A9\u5B50&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>\u8DEF\u7531\u72EC\u4EAB\u5B88\u536B</strong></p><blockquote><p>\u5982\u679C\u4F60\u4E0D\u60F3\u5168\u5C40\u914D\u7F6E\u5B88\u536B\u7684\u8BDD\uFF0C\u4F60\u53EF\u4EE5\u4E3A\u67D0\u4E9B\u8DEF\u7531\u5355\u72EC\u914D\u7F6E\u5B88\u536B</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/foo&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">component</span><span class="token operator">:</span> Foo<span class="token punctuation">,</span>
      <span class="token function-variable function">beforeEnter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
        <span class="token comment">// \u53C2\u6570\u7528\u6CD5\u4EC0\u4E48\u7684\u90FD\u4E00\u6837,\u8C03\u7528\u987A\u5E8F\u5728\u5168\u5C40\u524D\u7F6E\u5B88\u536B\u540E\u9762\uFF0C\u6240\u4EE5\u4E0D\u4F1A\u88AB\u5168\u5C40\u5B88\u536B\u8986\u76D6</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>\u8DEF\u7531\u7EC4\u4EF6\u5185\u7684\u5B88\u536B</strong></p><ul><li>beforeRouteEnter \u8FDB\u5165\u8DEF\u7531\u524D, \u5728\u8DEF\u7531\u72EC\u4EAB\u5B88\u536B\u540E\u8C03\u7528 \u4E0D\u80FD \u83B7\u53D6\u7EC4\u4EF6\u5B9E\u4F8B this\uFF0C\u7EC4\u4EF6\u5B9E\u4F8B\u8FD8\u6CA1\u88AB\u521B\u5EFA</li><li>beforeRouteUpdate (2.2) \u8DEF\u7531\u590D\u7528\u540C\u4E00\u4E2A\u7EC4\u4EF6\u65F6, \u5728\u5F53\u524D\u8DEF\u7531\u6539\u53D8\uFF0C\u4F46\u662F\u8BE5\u7EC4\u4EF6\u88AB\u590D\u7528\u65F6\u8C03\u7528 \u53EF\u4EE5\u8BBF\u95EE\u7EC4\u4EF6\u5B9E\u4F8B this</li><li>beforeRouteLeave \u79BB\u5F00\u5F53\u524D\u8DEF\u7531\u65F6, \u5BFC\u822A\u79BB\u5F00\u8BE5\u7EC4\u4EF6\u7684\u5BF9\u5E94\u8DEF\u7531\u65F6\u8C03\u7528\uFF0C\u53EF\u4EE5\u8BBF\u95EE\u7EC4\u4EF6\u5B9E\u4F8B this</li></ul>`,10),gO={id:"_26-\u7EC4\u4EF6\u4E4B\u95F4\u7684\u4F20\u503C\u901A\u4FE1",tabindex:"-1"},EO=n("a",{class:"header-anchor",href:"#_26-\u7EC4\u4EF6\u4E4B\u95F4\u7684\u4F20\u503C\u901A\u4FE1","aria-hidden":"true"},"#",-1),fO=s(),vO={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_26-%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BC%A0%E5%80%BC%E9%80%9A%E4%BF%A1",target:"_blank",rel:"noopener noreferrer"},wO=s("#"),yO=s("26 \u7EC4\u4EF6\u4E4B\u95F4\u7684\u4F20\u503C\u901A\u4FE1"),xO=t(`<blockquote><p>\u7EC4\u4EF6\u4E4B\u95F4\u901A\u8BAF\u5206\u4E3A\u4E09\u79CD: \u7236\u4F20\u5B50\u3001\u5B50\u4F20\u7236\u3001\u5144\u5F1F\u7EC4\u4EF6\u4E4B\u95F4\u7684\u901A\u8BAF</p></blockquote><p><strong>1. \u7236\u7EC4\u4EF6\u7ED9\u5B50\u7EC4\u4EF6\u4F20\u503C</strong></p><ul><li>\u4F7F\u7528<code>props</code>\uFF0C\u7236\u7EC4\u4EF6\u53EF\u4EE5\u4F7F\u7528<code>props</code>\u5411\u5B50\u7EC4\u4EF6\u4F20\u9012\u6570\u636E\u3002</li><li>\u7236\u7EC4\u4EF6<code>vue</code>\u6A21\u677F<code>father.vue</code>:</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">:msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>message<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> child <span class="token keyword">from</span> <span class="token string">&#39;./child.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        child
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;father message&#39;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>\u5B50\u7EC4\u4EF6vue\u6A21\u677Fchild.vue:</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
            <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>2. \u5B50\u7EC4\u4EF6\u5411\u7236\u7EC4\u4EF6\u901A\u4FE1</strong></p><blockquote><p>\u7236\u7EC4\u4EF6\u5411\u5B50\u7EC4\u4EF6\u4F20\u9012\u4E8B\u4EF6\u65B9\u6CD5\uFF0C\u5B50\u7EC4\u4EF6\u901A\u8FC7<code>$emit</code>\u89E6\u53D1\u4E8B\u4EF6\uFF0C\u56DE\u8C03\u7ED9\u7236\u7EC4\u4EF6</p></blockquote><p>\u7236\u7EC4\u4EF6vue\u6A21\u677Ffather.vue:</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">@msgFunc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>func<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> child <span class="token keyword">from</span> <span class="token string">&#39;./child.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        child
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">func</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>\u5B50\u7EC4\u4EF6vue\u6A21\u677Fchild.vue:</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u70B9\u6211<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
            <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">methods</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">handleClick</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//........</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;msgFunc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>3. \u975E\u7236\u5B50, \u5144\u5F1F\u7EC4\u4EF6\u4E4B\u95F4\u901A\u4FE1</strong></p><blockquote><p>vue2\u4E2D\u5E9F\u5F03\u4E86broadcast\u5E7F\u64AD\u548C\u5206\u53D1\u4E8B\u4EF6\u7684\u65B9\u6CD5\u3002\u7236\u5B50\u7EC4\u4EF6\u4E2D\u53EF\u4EE5\u7528props\u548C$emit()\u3002\u5982\u4F55\u5B9E\u73B0\u975E\u7236\u5B50\u7EC4\u4EF6\u95F4\u7684\u901A\u4FE1\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5B9E\u4F8B\u4E00\u4E2Avue\u5B9E\u4F8BBus\u4F5C\u4E3A\u5A92\u4ECB\uFF0C\u8981\u76F8\u4E92\u901A\u4FE1\u7684\u5144\u5F1F\u7EC4\u4EF6\u4E4B\u4E2D\uFF0C\u90FD\u5F15\u5165Bus\uFF0C\u7136\u540E\u901A\u8FC7\u5206\u522B\u8C03\u7528Bus\u4E8B\u4EF6\u89E6\u53D1\u548C\u76D1\u542C\u6765\u5B9E\u73B0\u901A\u4FE1\u548C\u53C2\u6570\u4F20\u9012\u3002Bus.js\u53EF\u4EE5\u662F\u8FD9\u6837:</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>\u5728\u9700\u8981\u901A\u4FE1\u7684\u7EC4\u4EF6\u90FD\u5F15\u5165Bus.js:</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toBus<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5B50\u7EC4\u4EF6\u4F20\u7ED9\u5144\u5F1F\u7EC4\u4EF6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Bus <span class="token keyword">from</span> <span class="token string">&#39;../common/js/bus.js&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
	<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	    <span class="token function">toBus</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	        Bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;on&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u6765\u81EA\u5144\u5F1F\u7EC4\u4EF6&#39;</span><span class="token punctuation">)</span>
	    <span class="token punctuation">}</span>
	  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>\u53E6\u4E00\u4E2A\u7EC4\u4EF6\u4E5Fimport Bus.js \u5728\u94A9\u5B50\u51FD\u6570\u4E2D\u76D1\u542Con\u4E8B\u4EF6</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Bus <span class="token keyword">from</span> <span class="token string">&#39;../common/js/bus.js&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       Bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">&#39;on&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> msg
       <span class="token punctuation">}</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div>`,19),AO={id:"_27-vue\u4E0Eangular\u4EE5\u53CAreact\u7684\u533A\u522B",tabindex:"-1"},BO=n("a",{class:"header-anchor",href:"#_27-vue\u4E0Eangular\u4EE5\u53CAreact\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),qO=s(),jO={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_27-vue%E4%B8%8Eangular%E4%BB%A5%E5%8F%8Areact%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},SO=s("#"),CO=s("27 Vue\u4E0EAngular\u4EE5\u53CAReact\u7684\u533A\u522B\uFF1F"),DO=t("<p><strong>Vue\u4E0EAngularJS\u7684\u533A\u522B</strong></p><ul><li>Angular\u91C7\u7528TypeScript\u5F00\u53D1, \u800CVue\u53EF\u4EE5\u4F7F\u7528javascript\u4E5F\u53EF\u4EE5\u4F7F\u7528TypeScript</li><li>AngularJS\u4F9D\u8D56\u5BF9\u6570\u636E\u505A\u810F\u68C0\u67E5\uFF0C\u6240\u4EE5Watcher\u8D8A\u591A\u8D8A\u6162\uFF1BVue.js\u4F7F\u7528\u57FA\u4E8E\u4F9D\u8D56\u8FFD\u8E2A\u7684\u89C2\u5BDF\u5E76\u4E14\u4F7F\u7528\u5F02\u6B65\u961F\u5217\u66F4\u65B0\uFF0C\u6240\u6709\u7684\u6570\u636E\u90FD\u662F\u72EC\u7ACB\u89E6\u53D1\u7684\u3002</li><li>AngularJS\u793E\u533A\u5B8C\u5584, Vue\u7684\u5B66\u4E60\u6210\u672C\u8F83\u5C0F</li></ul><p><strong>Vue\u4E0EReact\u7684\u533A\u522B</strong></p><ul><li>vue\u7EC4\u4EF6\u5206\u4E3A\u5168\u5C40\u6CE8\u518C\u548C\u5C40\u90E8\u6CE8\u518C\uFF0C\u5728react\u4E2D\u90FD\u662F\u901A\u8FC7import\u76F8\u5E94\u7EC4\u4EF6\uFF0C\u7136\u540E\u6A21\u7248\u4E2D\u5F15\u7528\uFF1B</li><li>props\u662F\u53EF\u4EE5\u52A8\u6001\u53D8\u5316\u7684\uFF0C\u5B50\u7EC4\u4EF6\u4E5F\u5B9E\u65F6\u66F4\u65B0\uFF0C\u5728react\u4E2D\u5B98\u65B9\u5EFA\u8BAEprops\u8981\u50CF\u7EAF\u51FD\u6570\u90A3\u6837\uFF0C\u8F93\u5165\u8F93\u51FA\u4E00\u81F4\u5BF9\u5E94\uFF0C\u800C\u4E14\u4E0D\u592A\u5EFA\u8BAE\u901A\u8FC7props\u6765\u66F4\u6539\u89C6\u56FE\uFF1B</li><li>\u5B50\u7EC4\u4EF6\u4E00\u822C\u8981\u663E\u793A\u5730\u8C03\u7528props\u9009\u9879\u6765\u58F0\u660E\u5B83\u671F\u5F85\u83B7\u5F97\u7684\u6570\u636E\u3002\u800C\u5728react\u4E2D\u4E0D\u5FC5\u9700\uFF0C\u53E6\u4E24\u8005\u90FD\u6709props\u6821\u9A8C\u673A\u5236\uFF1B</li><li>\u6BCF\u4E2AVue\u5B9E\u4F8B\u90FD\u5B9E\u73B0\u4E86\u4E8B\u4EF6\u63A5\u53E3\uFF0C\u65B9\u4FBF\u7236\u5B50\u7EC4\u4EF6\u901A\u4FE1\uFF0C\u5C0F\u578B\u9879\u76EE\u4E2D\u4E0D\u9700\u8981\u5F15\u5165\u72B6\u6001\u7BA1\u7406\u673A\u5236\uFF0C\u800Creact\u5FC5\u9700\u81EA\u5DF1\u5B9E\u73B0\uFF1B</li><li>\u4F7F\u7528\u63D2\u69FD\u5206\u53D1\u5185\u5BB9\uFF0C\u4F7F\u5F97\u53EF\u4EE5\u6DF7\u5408\u7236\u7EC4\u4EF6\u7684\u5185\u5BB9\u4E0E\u5B50\u7EC4\u4EF6\u81EA\u5DF1\u7684\u6A21\u677F\uFF1B</li><li>\u591A\u4E86\u6307\u4EE4\u7CFB\u7EDF\uFF0C\u8BA9\u6A21\u7248\u53EF\u4EE5\u5B9E\u73B0\u66F4\u4E30\u5BCC\u7684\u529F\u80FD\uFF0C\u800CReact\u53EA\u80FD\u4F7F\u7528JSX\u8BED\u6CD5\uFF1B</li><li>Vue\u589E\u52A0\u7684\u8BED\u6CD5\u7CD6computed\u548Cwatch\uFF0C\u800C\u5728React\u4E2D\u9700\u8981\u81EA\u5DF1\u5199\u4E00\u5957\u903B\u8F91\u6765\u5B9E\u73B0\uFF1B</li><li>react\u7684\u601D\u8DEF\u662Fall in js\uFF0C\u901A\u8FC7js\u6765\u751F\u6210html\uFF0C\u6240\u4EE5\u8BBE\u8BA1\u4E86jsx\uFF0C\u8FD8\u6709\u901A\u8FC7js\u6765\u64CD\u4F5Ccss\uFF0C\u793E\u533A\u7684styled-component\u3001jss\u7B49\uFF1B\u800C vue\u662F\u628Ahtml\uFF0Ccss\uFF0Cjs\u7EC4\u5408\u5230\u4E00\u8D77\uFF0C\u7528\u5404\u81EA\u7684\u5904\u7406\u65B9\u5F0F\uFF0Cvue\u6709\u5355\u6587\u4EF6\u7EC4\u4EF6\uFF0C\u53EF\u4EE5\u628Ahtml\u3001css\u3001js\u5199\u5230\u4E00\u4E2A\u6587\u4EF6\u4E2D\uFF0Chtml\u63D0\u4F9B\u4E86\u6A21\u677F\u5F15\u64CE\u6765\u5904\u7406\u3002</li><li>react\u505A\u7684\u4E8B\u60C5\u5F88\u5C11\uFF0C\u5F88\u591A\u90FD\u4EA4\u7ED9\u793E\u533A\u53BB\u505A\uFF0Cvue\u5F88\u591A\u4E1C\u897F\u90FD\u662F\u5185\u7F6E\u7684\uFF0C\u5199\u8D77\u6765\u786E\u5B9E\u65B9\u4FBF\u4E00\u4E9B\uFF0C \u6BD4\u5982 redux\u7684combineReducer\u5C31\u5BF9\u5E94vuex\u7684modules\uFF0C \u6BD4\u5982reselect\u5C31\u5BF9\u5E94vuex\u7684getter\u548Cvue\u7EC4\u4EF6\u7684computed\uFF0C vuex\u7684mutation\u662F\u76F4\u63A5\u6539\u53D8\u7684\u539F\u59CB\u6570\u636E\uFF0C\u800Credux\u7684reducer\u662F\u8FD4\u56DE\u4E00\u4E2A\u5168\u65B0\u7684state\uFF0C\u6240\u4EE5redux\u7ED3\u5408immutable\u6765\u4F18\u5316\u6027\u80FD\uFF0Cvue\u4E0D\u9700\u8981\u3002</li><li>react\u662F\u6574\u4F53\u7684\u601D\u8DEF\u7684\u5C31\u662F\u51FD\u6570\u5F0F\uFF0C\u6240\u4EE5\u63A8\u5D07\u7EAF\u7EC4\u4EF6\uFF0C\u6570\u636E\u4E0D\u53EF\u53D8\uFF0C\u5355\u5411\u6570\u636E\u6D41\uFF0C\u5F53\u7136\u9700\u8981\u53CC\u5411\u7684\u5730\u65B9\u4E5F\u53EF\u4EE5\u505A\u5230\uFF0C\u6BD4\u5982\u7ED3\u5408redux-form\uFF0C\u7EC4\u4EF6\u7684\u6A2A\u5411\u62C6\u5206\u4E00\u822C\u662F\u901A\u8FC7\u9AD8\u9636\u7EC4\u4EF6\u3002\u800Cvue\u662F\u6570\u636E\u53EF\u53D8\u7684\uFF0C\u53CC\u5411\u7ED1\u5B9A\uFF0C\u58F0\u660E\u5F0F\u7684\u5199\u6CD5\uFF0Cvue\u7EC4\u4EF6\u7684\u6A2A\u5411\u62C6\u5206\u5F88\u591A\u60C5\u51B5\u4E0B\u7528mixin</li></ul>",4),FO={id:"_28-vuex\u662F\u4EC0\u4E48-\u600E\u4E48\u4F7F\u7528-\u54EA\u79CD\u529F\u80FD\u573A\u666F\u4F7F\u7528\u5B83",tabindex:"-1"},PO=n("a",{class:"header-anchor",href:"#_28-vuex\u662F\u4EC0\u4E48-\u600E\u4E48\u4F7F\u7528-\u54EA\u79CD\u529F\u80FD\u573A\u666F\u4F7F\u7528\u5B83","aria-hidden":"true"},"#",-1),TO=s(),NO={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_28-vuex%E6%98%AF%E4%BB%80%E4%B9%88-%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8-%E5%93%AA%E7%A7%8D%E5%8A%9F%E8%83%BD%E5%9C%BA%E6%99%AF%E4%BD%BF%E7%94%A8%E5%AE%83",target:"_blank",rel:"noopener noreferrer"},MO=s("#"),OO=s("28 vuex\u662F\u4EC0\u4E48\uFF1F\u600E\u4E48\u4F7F\u7528\uFF1F\u54EA\u79CD\u529F\u80FD\u573A\u666F\u4F7F\u7528\u5B83\uFF1F"),IO=t('<ul><li>vuex \u5C31\u662F\u4E00\u4E2A\u4ED3\u5E93\uFF0C\u4ED3\u5E93\u91CC\u653E\u4E86\u5F88\u591A\u5BF9\u8C61\u3002\u5176\u4E2D state \u5C31\u662F\u6570\u636E\u6E90\u5B58\u653E\u5730\uFF0C\u5BF9\u5E94\u4E8E\u4E00\u822C vue \u5BF9\u8C61\u91CC\u9762\u7684 data</li><li>state \u91CC\u9762\u5B58\u653E\u7684\u6570\u636E\u662F\u54CD\u5E94\u5F0F\u7684\uFF0Cvue \u7EC4\u4EF6\u4ECE store \u8BFB\u53D6\u6570\u636E\uFF0C\u82E5\u662F store \u4E2D\u7684\u6570\u636E\u53D1\u751F\u6539\u53D8\uFF0C\u4F9D\u8D56\u8FD9\u76F8\u6570\u636E\u7684\u7EC4\u4EF6\u4E5F\u4F1A\u53D1\u751F\u66F4\u65B0</li><li>\u5B83\u901A\u8FC7 mapState \u628A\u5168\u5C40\u7684 state \u548C getters \u6620\u5C04\u5230\u5F53\u524D\u7EC4\u4EF6\u7684 computed \u8BA1\u7B97\u5C5E\u6027</li></ul><blockquote><p>vuex\u7684\u4F7F\u7528\u501F\u52A9\u5B98\u65B9\u63D0\u4F9B\u7684\u4E00\u5F20\u56FE\u6765\u8BF4\u660E:</p></blockquote><p><img src="http://poetries1.gitee.io/img-repo/2020/07/65.png" alt="img"></p><blockquote><p>Vuex\u67095\u79CD\u5C5E\u6027: \u5206\u522B\u662F state\u3001getter\u3001mutation\u3001action\u3001module;</p></blockquote><p><strong>state</strong></p><blockquote><p><code>Vuex</code> \u4F7F\u7528\u5355\u4E00\u72B6\u6001\u6811,\u5373\u6BCF\u4E2A\u5E94\u7528\u5C06\u4EC5\u4EC5\u5305\u542B\u4E00\u4E2Astore \u5B9E\u4F8B\uFF0C\u4F46\u5355\u4E00\u72B6\u6001\u6811\u548C\u6A21\u5757\u5316\u5E76\u4E0D\u51B2\u7A81\u3002\u5B58\u653E\u7684\u6570\u636E\u72B6\u6001\uFF0C\u4E0D\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u91CC\u9762\u7684\u6570\u636E</p></blockquote><p><strong>mutations</strong></p><blockquote><p><code>mutations</code>\u5B9A\u4E49\u7684\u65B9\u6CD5\u52A8\u6001\u4FEE\u6539Vuex \u7684 store \u4E2D\u7684\u72B6\u6001\u6216\u6570\u636E\u3002</p></blockquote><p><strong>getters</strong></p><blockquote><p>\u7C7B\u4F3Cvue\u7684\u8BA1\u7B97\u5C5E\u6027\uFF0C\u4E3B\u8981\u7528\u6765\u8FC7\u6EE4\u4E00\u4E9B\u6570\u636E</p></blockquote><p><strong>action</strong></p><ul><li>actions\u53EF\u4EE5\u7406\u89E3\u4E3A\u901A\u8FC7\u5C06mutations\u91CC\u9762\u5904\u91CC\u6570\u636E\u7684\u65B9\u6CD5\u53D8\u6210\u53EF\u5F02\u6B65\u7684\u5904\u7406\u6570\u636E\u7684\u65B9\u6CD5\uFF0C\u7B80\u5355\u7684\u8BF4\u5C31\u662F\u5F02\u6B65\u64CD\u4F5C\u6570\u636E\u3002view \u5C42\u901A\u8FC7 store.dispath \u6765\u5206\u53D1 action\u3002</li><li>vuex \u4E00\u822C\u7528\u4E8E\u4E2D\u5927\u578B web \u5355\u9875\u5E94\u7528\u4E2D\u5BF9\u5E94\u7528\u7684\u72B6\u6001\u8FDB\u884C\u7BA1\u7406\uFF0C\u5BF9\u4E8E\u4E00\u4E9B\u7EC4\u4EF6\u95F4\u5173\u7CFB\u8F83\u4E3A\u7B80\u5355\u7684\u5C0F\u578B\u5E94\u7528\uFF0C\u4F7F\u7528 vuex \u7684\u5FC5\u8981\u6027\u4E0D\u662F\u5F88\u5927\uFF0C\u56E0\u4E3A\u5B8C\u5168\u53EF\u4EE5\u7528\u7EC4\u4EF6 prop \u5C5E\u6027\u6216\u8005\u4E8B\u4EF6\u6765\u5B8C\u6210\u7236\u5B50\u7EC4\u4EF6\u4E4B\u95F4\u7684\u901A\u4FE1\uFF0Cvuex \u66F4\u591A\u5730\u7528\u4E8E\u89E3\u51B3\u8DE8\u7EC4\u4EF6\u901A\u4FE1\u4EE5\u53CA\u4F5C\u4E3A\u6570\u636E\u4E2D\u5FC3\u96C6\u4E2D\u5F0F\u5B58\u50A8\u6570\u636E\u3002</li><li>\u4F7F\u7528Vuex\u89E3\u51B3\u975E\u7236\u5B50\u7EC4\u4EF6\u4E4B\u95F4\u901A\u4FE1\u95EE\u9898 vuex \u662F\u901A\u8FC7\u5C06 state \u4F5C\u4E3A\u6570\u636E\u4E2D\u5FC3\u3001\u5404\u4E2A\u7EC4\u4EF6\u5171\u4EAB state \u5B9E\u73B0\u8DE8\u7EC4\u4EF6\u901A\u4FE1\u7684\uFF0C\u6B64\u65F6\u7684\u6570\u636E\u5B8C\u5168\u72EC\u7ACB\u4E8E\u7EC4\u4EF6\uFF0C\u56E0\u6B64\u5C06\u7EC4\u4EF6\u95F4\u5171\u4EAB\u7684\u6570\u636E\u7F6E\u4E8E State \u4E2D\u80FD\u6709\u6548\u89E3\u51B3\u591A\u5C42\u7EA7\u7EC4\u4EF6\u5D4C\u5957\u7684\u8DE8\u7EC4\u4EF6\u901A\u4FE1\u95EE\u9898</li><li>vuex \u4F5C\u4E3A\u6570\u636E\u5B58\u50A8\u4E2D\u5FC3 vuex \u7684 State \u5728\u5355\u9875\u5E94\u7528\u7684\u5F00\u53D1\u4E2D\u672C\u8EAB\u5177\u6709\u4E00\u4E2A\u201C\u6570\u636E\u5E93\u201D\u7684\u4F5C\u7528\uFF0C\u53EF\u4EE5\u5C06\u7EC4\u4EF6\u4E2D\u7528\u5230\u7684\u6570\u636E\u5B58\u50A8\u5728 State \u4E2D\uFF0C\u5E76\u5728 Action \u4E2D\u5C01\u88C5\u6570\u636E\u8BFB\u5199\u7684\u903B\u8F91\u3002\u8FD9\u65F6\u5019\u5B58\u5728\u4E00\u4E2A\u95EE\u9898\uFF0C\u4E00\u822C\u4EC0\u4E48\u6837\u7684\u6570\u636E\u4F1A\u653E\u5728 State \u4E2D\u5462\uFF1F \u76EE\u524D\u4E3B\u8981\u6709\u4E24\u79CD\u6570\u636E\u4F1A\u4F7F\u7528 vuex \u8FDB\u884C\u7BA1\u7406\uFF1A 1\u3001\u7EC4\u4EF6\u4E4B\u95F4\u5168\u5C40\u5171\u4EAB\u7684\u6570\u636E 2\u3001\u901A\u8FC7\u540E\u7AEF\u5F02\u6B65\u8BF7\u6C42\u7684\u6570\u636E \u6BD4\u5982\u505A\u52A0\u5165\u8D2D\u7269\u8F66\u3001\u767B\u5F55\u72B6\u6001\u7B49\u90FD\u53EF\u4EE5\u4F7F\u7528Vuex\u6765\u7BA1\u7406\u6570\u636E\u72B6\u6001</li></ul><blockquote><p>\u4E00\u822C\u9762\u8BD5\u5B98\u95EE\u5230\u8FD9\u91CCvue\u57FA\u672C\u77E5\u8BC6\u5C31\u5DEE\u4E0D\u591A\u4E86\uFF0C \u5982\u679C\u66F4\u6DF1\u5165\u7684\u7814\u7A76\u5C31\u662F\u548C\u4F60\u63A2\u8BA8\u5173\u4E8Evue\u7684\u5E95\u5C42\u6E90\u7801\uFF1B\u6216\u8005\u662F\u5177\u4F53\u5728\u9879\u76EE\u4E2D\u9047\u5230\u7684\u95EE\u9898\uFF0C\u4E0B\u9762\u5217\u4E3E\u51E0\u4E2A\u9879\u76EE\u4E2D\u53EF\u80FD\u9047\u5230\u7684\u95EE\u9898\uFF1A</p></blockquote><ul><li>\u5F00\u53D1\u65F6\uFF0C\u6539\u53D8\u6570\u7EC4\u6216\u8005\u5BF9\u8C61\u7684\u6570\u636E\uFF0C\u4F46\u662F\u9875\u9762\u6CA1\u6709\u66F4\u65B0\u5982\u4F55\u89E3\u51B3\uFF1F</li><li>vue\u5F39\u7A97\u540E\u5982\u4F55\u7981\u6B62\u6EDA\u52A8\u6761\u6EDA\u52A8\uFF1F</li><li>\u5982\u4F55\u5728 vue \u9879\u76EE\u91CC\u6B63\u786E\u5730\u5F15\u7528 jquery \u548C jquery-ui\u7684\u63D2\u4EF6</li></ul>',14),RO={id:"_28-watch\u4E0Ecomputed\u7684\u533A\u522B",tabindex:"-1"},VO=n("a",{class:"header-anchor",href:"#_28-watch\u4E0Ecomputed\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),HO=s(),LO={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_28-watch%E4%B8%8Ecomputed%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},UO=s("#"),JO=s("28 watch\u4E0Ecomputed\u7684\u533A\u522B"),WO=t("<p><strong>computed:</strong></p><ul><li>computed\u662F\u8BA1\u7B97\u5C5E\u6027,\u4E5F\u5C31\u662F\u8BA1\u7B97\u503C,\u5B83\u66F4\u591A\u7528\u4E8E\u8BA1\u7B97\u503C\u7684\u573A\u666F</li><li>computed\u5177\u6709\u7F13\u5B58\u6027,computed\u7684\u503C\u5728getter\u6267\u884C\u540E\u662F\u4F1A\u7F13\u5B58\u7684\uFF0C\u53EA\u6709\u5728\u5B83\u4F9D\u8D56\u7684\u5C5E\u6027\u503C\u6539\u53D8\u4E4B\u540E\uFF0C\u4E0B\u4E00\u6B21\u83B7\u53D6computed\u7684\u503C\u65F6\u624D\u4F1A\u91CD\u65B0\u8C03\u7528\u5BF9\u5E94\u7684getter\u6765\u8BA1\u7B97 computed\u9002\u7528\u4E8E\u8BA1\u7B97\u6BD4\u8F83\u6D88\u8017\u6027\u80FD\u7684\u8BA1\u7B97\u573A\u666F</li></ul><p><strong>watch:</strong></p><ul><li>\u66F4\u591A\u7684\u662F\u300C\u89C2\u5BDF\u300D\u7684\u4F5C\u7528,\u7C7B\u4F3C\u4E8E\u67D0\u4E9B\u6570\u636E\u7684\u76D1\u542C\u56DE\u8C03,\u7528\u4E8E\u89C2\u5BDFprops $emit\u6216\u8005\u672C\u7EC4\u4EF6\u7684\u503C,\u5F53\u6570\u636E\u53D8\u5316\u65F6\u6765\u6267\u884C\u56DE\u8C03\u8FDB\u884C\u540E\u7EED\u64CD\u4F5C</li><li>\u65E0\u7F13\u5B58\u6027\uFF0C\u9875\u9762\u91CD\u65B0\u6E32\u67D3\u65F6\u503C\u4E0D\u53D8\u5316\u4E5F\u4F1A\u6267\u884C</li></ul><p><strong>\u5C0F\u7ED3:</strong></p><ul><li>\u5F53\u6211\u4EEC\u8981\u8FDB\u884C\u6570\u503C\u8BA1\u7B97,\u800C\u4E14\u4F9D\u8D56\u4E8E\u5176\u4ED6\u6570\u636E\uFF0C\u90A3\u4E48\u628A\u8FD9\u4E2A\u6570\u636E\u8BBE\u8BA1\u4E3Acomputed</li><li>\u5982\u679C\u4F60\u9700\u8981\u5728\u67D0\u4E2A\u6570\u636E\u53D8\u5316\u65F6\u505A\u4E00\u4E9B\u4E8B\u60C5\uFF0C\u4F7F\u7528watch\u6765\u89C2\u5BDF\u8FD9\u4E2A\u6570\u636E\u53D8\u5316</li></ul>",6),zO={id:"_29\u3001vue\u662F\u5982\u4F55\u5B9E\u73B0\u53CC\u5411\u7ED1\u5B9A\u7684",tabindex:"-1"},GO=n("a",{class:"header-anchor",href:"#_29\u3001vue\u662F\u5982\u4F55\u5B9E\u73B0\u53CC\u5411\u7ED1\u5B9A\u7684","aria-hidden":"true"},"#",-1),$O=s(),XO={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_29%E3%80%81vue%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},KO=s("#"),QO=s("29\u3001Vue\u662F\u5982\u4F55\u5B9E\u73B0\u53CC\u5411\u7ED1\u5B9A\u7684?"),YO=t(`<blockquote><p>\u5229\u7528Object.defineProperty\u52AB\u6301\u5BF9\u8C61\u7684\u8BBF\u95EE\u5668,\u5728\u5C5E\u6027\u503C\u53D1\u751F\u53D8\u5316\u65F6\u6211\u4EEC\u53EF\u4EE5\u83B7\u53D6\u53D8\u5316,\u7136\u540E\u6839\u636E\u53D8\u5316\u8FDB\u884C\u540E\u7EED\u54CD\u5E94,\u5728vue3.0\u4E2D\u901A\u8FC7Proxy\u4EE3\u7406\u5BF9\u8C61\u8FDB\u884C\u7C7B\u4F3C\u7684\u64CD\u4F5C\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8FD9\u662F\u5C06\u8981\u88AB\u52AB\u6301\u7684\u5BF9\u8C61</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">===</span> <span class="token string">&#39;\u53E4\u5929\u4E50&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u7ED9\u5927\u5BB6\u63A8\u8350\u4E00\u6B3E\u8D85\u597D\u73A9\u7684\u6E38\u620F&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">===</span> <span class="token string">&#39;\u6E23\u6E23\u8F89&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u620F\u6211\u6F14\u8FC7\u5F88\u591A,\u53EF\u6E38\u620F\u6211\u53EA\u73A9\u8D2A\u73A9\u61D2\u6708&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6765\u505A\u6211\u7684\u5144\u5F1F&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u904D\u5386\u5BF9\u8C61,\u5BF9\u5176\u5C5E\u6027\u503C\u8FDB\u884C\u52AB\u6301</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;get&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5F53\u5C5E\u6027\u503C\u53D1\u751F\u53D8\u5316\u65F6\u6211\u4EEC\u53EF\u4EE5\u8FDB\u884C\u989D\u5916\u64CD\u4F5C</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u5927\u5BB6\u597D,\u6211\u7CFB</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>newVal<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">say</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

data<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;\u6E23\u6E23\u8F89&#39;</span><span class="token punctuation">;</span>
<span class="token comment">//\u5927\u5BB6\u597D,\u6211\u7CFB\u6E23\u6E23\u8F89</span>
<span class="token comment">//\u620F\u6211\u6F14\u8FC7\u5F88\u591A,\u53EF\u6E38\u620F\u6211\u53EA\u73A9\u8D2A\u73A9\u61D2\u6708</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div>`,2),ZO={id:"_29-vue2-x-\u54CD\u5E94\u5F0F\u539F\u7406",tabindex:"-1"},nI=n("a",{class:"header-anchor",href:"#_29-vue2-x-\u54CD\u5E94\u5F0F\u539F\u7406","aria-hidden":"true"},"#",-1),sI=s(),aI={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_29-vue2-x-%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},eI=s("#"),tI=s("29 Vue2.x \u54CD\u5E94\u5F0F\u539F\u7406"),pI=t('<blockquote><p>Vue \u91C7\u7528\u6570\u636E\u52AB\u6301\u7ED3\u5408\u53D1\u5E03\u2014\u8BA2\u9605\u6A21\u5F0F\u7684\u65B9\u6CD5\uFF0C\u901A\u8FC7 Object.defineProperty() \u6765\u52AB\u6301\u5404\u4E2A\u5C5E\u6027\u7684 setter\uFF0Cgetter\uFF0C\u5728\u6570\u636E\u53D8\u52A8\u65F6\u53D1\u5E03\u6D88\u606F\u7ED9\u8BA2\u9605\u8005\uFF0C\u89E6\u53D1\u76F8\u5E94\u7684\u76D1\u542C\u56DE\u8C03\u3002</p></blockquote><p><img src="http://poetries1.gitee.io/img-repo/20190922/vue.jpeg" alt="img"></p><ul><li><code>Observer</code> \u904D\u5386\u6570\u636E\u5BF9\u8C61\uFF0C\u7ED9\u6240\u6709\u5C5E\u6027\u52A0\u4E0A <code>setter</code> \u548C <code>getter</code>\uFF0C\u76D1\u542C\u6570\u636E\u7684\u53D8\u5316</li><li><code>compile</code> \u89E3\u6790\u6A21\u677F\u6307\u4EE4\uFF0C\u5C06\u6A21\u677F\u4E2D\u7684\u53D8\u91CF\u66FF\u6362\u6210\u6570\u636E\uFF0C\u7136\u540E\u521D\u59CB\u5316\u6E32\u67D3\u9875\u9762\u89C6\u56FE\uFF0C\u5E76\u5C06\u6BCF\u4E2A\u6307\u4EE4\u5BF9\u5E94\u7684\u8282\u70B9\u7ED1\u5B9A\u66F4\u65B0\u51FD\u6570\uFF0C\u6DFB\u52A0\u76D1\u542C\u6570\u636E\u7684\u8BA2\u9605\u8005\uFF0C\u4E00\u65E6\u6570\u636E\u6709\u53D8\u52A8\uFF0C\u6536\u5230\u901A\u77E5\uFF0C\u66F4\u65B0\u89C6\u56FE</li></ul><blockquote><p><code>Watcher</code> \u8BA2\u9605\u8005\u662F <code>Observer</code> \u548C <code>Compile</code> \u4E4B\u95F4\u901A\u4FE1\u7684\u6865\u6881\uFF0C\u4E3B\u8981\u505A\u7684\u4E8B\u60C5</p></blockquote><ul><li>\u5728\u81EA\u8EAB\u5B9E\u4F8B\u5316\u65F6\u5F80\u5C5E\u6027\u8BA2\u9605\u5668 (<code>dep</code>) \u91CC\u9762\u6DFB\u52A0\u81EA\u5DF1</li><li>\u5F85\u5C5E\u6027\u53D8\u52A8 <code>dep.notice()</code> \u901A\u77E5\u65F6\uFF0C\u8C03\u7528\u81EA\u8EAB\u7684 <code>update()</code> \u65B9\u6CD5\uFF0C\u5E76\u89E6\u53D1 <code>Compile</code> \u4E2D\u7ED1\u5B9A\u7684\u56DE\u8C03</li></ul><p><strong>Vue3.x\u54CD\u5E94\u5F0F\u6570\u636E\u539F\u7406</strong></p><blockquote><p><code>Vue3.x</code>\u6539\u7528<code>Proxy</code>\u66FF\u4EE3<code>Object.defineProperty</code>\u3002\u56E0\u4E3A<code>Proxy</code>\u53EF\u4EE5\u76F4\u63A5\u76D1\u542C\u5BF9\u8C61\u548C\u6570\u7EC4\u7684\u53D8\u5316\uFF0C\u5E76\u4E14\u6709\u591A\u8FBE13\u79CD\u62E6\u622A\u65B9\u6CD5\u3002\u5E76\u4E14\u4F5C\u4E3A\u65B0\u6807\u51C6\u5C06\u53D7\u5230\u6D4F\u89C8\u5668\u5382\u5546\u91CD\u70B9\u6301\u7EED\u7684\u6027\u80FD\u4F18\u5316\u3002</p></blockquote><p><code>Proxy</code>\u53EA\u4F1A\u4EE3\u7406\u5BF9\u8C61\u7684\u7B2C\u4E00\u5C42\uFF0C\u90A3\u4E48<code>Vue3</code>\u53C8\u662F\u600E\u6837\u5904\u7406\u8FD9\u4E2A\u95EE\u9898\u7684\u5462\uFF1F</p><blockquote><p>\u5224\u65AD\u5F53\u524D<code>Reflect.get\u7684</code>\u8FD4\u56DE\u503C\u662F\u5426\u4E3A<code>Object</code>\uFF0C\u5982\u679C\u662F\u5219\u518D\u901A\u8FC7<code>reactive</code>\u65B9\u6CD5\u505A\u4EE3\u7406\uFF0C \u8FD9\u6837\u5C31\u5B9E\u73B0\u4E86\u6DF1\u5EA6\u89C2\u6D4B\u3002</p></blockquote><p><strong>\u76D1\u6D4B\u6570\u7EC4\u7684\u65F6\u5019\u53EF\u80FD\u89E6\u53D1\u591A\u6B21get/set\uFF0C\u90A3\u4E48\u5982\u4F55\u9632\u6B62\u89E6\u53D1\u591A\u6B21\u5462\uFF1F</strong></p><blockquote><p>\u6211\u4EEC\u53EF\u4EE5\u5224\u65AD<code>key</code>\u662F\u5426\u4E3A\u5F53\u524D\u88AB\u4EE3\u7406\u5BF9\u8C61<code>target</code>\u81EA\u8EAB\u5C5E\u6027\uFF0C\u4E5F\u53EF\u4EE5\u5224\u65AD\u65E7\u503C\u4E0E\u65B0\u503C\u662F\u5426\u76F8\u7B49\uFF0C\u53EA\u6709\u6EE1\u8DB3\u4EE5\u4E0A\u4E24\u4E2A\u6761\u4EF6\u4E4B\u4E00\u65F6\uFF0C\u624D\u6709\u53EF\u80FD\u6267\u884C<code>trigger</code></p></blockquote>',11),oI={id:"_30-v-model\u53CC\u5411\u7ED1\u5B9A\u539F\u7406",tabindex:"-1"},cI=n("a",{class:"header-anchor",href:"#_30-v-model\u53CC\u5411\u7ED1\u5B9A\u539F\u7406","aria-hidden":"true"},"#",-1),lI=s(),rI={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_30-v-model%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},iI=s("#"),uI=s("30 v-model\u53CC\u5411\u7ED1\u5B9A\u539F\u7406"),kI=t(`<blockquote><p><code>v-model</code>\u672C\u8D28\u4E0A\u662F\u8BED\u6CD5\u7CD6\uFF0C<code>v-model</code>\u5728\u5185\u90E8\u4E3A\u4E0D\u540C\u7684\u8F93\u5165\u5143\u7D20\u4F7F\u7528\u4E0D\u540C\u7684\u5C5E\u6027\u5E76\u629B\u51FA\u4E0D\u540C\u7684\u4E8B\u4EF6</p></blockquote><ul><li><code>text</code> \u548C <code>textarea</code> \u5143\u7D20\u4F7F\u7528 value \u5C5E\u6027\u548C input \u4E8B\u4EF6</li><li><code>checkbox</code> \u548C <code>radio</code> \u4F7F\u7528 checked \u5C5E\u6027\u548C change \u4E8B\u4EF6</li><li><code>select</code> \u5B57\u6BB5\u5C06 value \u4F5C\u4E3A prop \u5E76\u5C06 change \u4F5C\u4E3A\u4E8B\u4EF6</li></ul><p><strong>\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5v-model\u8FDB\u884C\u5982\u4E0B\u6539\u5199\uFF1A</strong></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sth<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
//  \u7B49\u540C\u4E8E
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sth<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sth = $event.target.value<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>\u8FD9\u4E2A\u8BED\u6CD5\u7CD6\u5FC5\u987B\u662F\u56FA\u5B9A\u7684\uFF0C\u4E5F\u5C31\u662F\u8BF4\u5C5E\u6027\u5FC5\u987B\u4E3A<code>value</code>\uFF0C\u65B9\u6CD5\u540D\u5FC5\u987B\u4E3A\uFF1A<code>input</code>\u3002</li><li>\u77E5\u9053\u4E86<code>v-model</code>\u7684\u539F\u7406\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u4E0A\u5B9E\u73B0<code>v-model</code></li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//Parent
&lt;template&gt;
    {{num}}
    &lt;Child v-model=&quot;num&quot;&gt;
&lt;/template&gt;
export default {
    data(){
        return {
            num: 0
        }
    }
}

//Child
&lt;template&gt;
    &lt;div @click=&quot;add&quot;&gt;Add&lt;/div&gt;
&lt;/template&gt;
export default {
    props: [&#39;value&#39;],
    methods:{
        add(){
            this.$emit(&#39;input&#39;, this.value + 1)
        }
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div>`,6),dI={id:"_31-scoped\u6837\u5F0F\u7A7F\u900F",tabindex:"-1"},bI=n("a",{class:"header-anchor",href:"#_31-scoped\u6837\u5F0F\u7A7F\u900F","aria-hidden":"true"},"#",-1),mI=s(),hI={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_31-scoped%E6%A0%B7%E5%BC%8F%E7%A9%BF%E9%80%8F",target:"_blank",rel:"noopener noreferrer"},_I=s("#"),gI=s("31 scoped\u6837\u5F0F\u7A7F\u900F"),EI=t(`<blockquote><p><code>scoped</code>\u867D\u7136\u907F\u514D\u4E86\u7EC4\u4EF6\u95F4\u6837\u5F0F\u6C61\u67D3\uFF0C\u4F46\u662F\u5F88\u591A\u65F6\u5019\u6211\u4EEC\u9700\u8981\u4FEE\u6539\u7EC4\u4EF6\u4E2D\u7684\u67D0\u4E2A\u6837\u5F0F\uFF0C\u4F46\u662F\u53C8\u4E0D\u60F3\u53BB\u9664<code>scoped</code>\u5C5E\u6027</p></blockquote><ol><li>\u4F7F\u7528<code>/deep/</code></li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//Parent
&lt;template&gt;
&lt;div class=&quot;wrap&quot;&gt;
    &lt;Child /&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style lang=&quot;scss&quot; scoped&gt;
.wrap /deep/ .box{
    background: red;
}
&lt;/style&gt;

//Child
&lt;template&gt;
    &lt;div class=&quot;box&quot;&gt;&lt;/div&gt;
&lt;/template&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ol><li>\u4F7F\u7528\u4E24\u4E2Astyle\u6807\u7B7E</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//Parent
&lt;template&gt;
&lt;div class=&quot;wrap&quot;&gt;
    &lt;Child /&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;style lang=&quot;scss&quot; scoped&gt;
//\u5176\u4ED6\u6837\u5F0F
&lt;/style&gt;
&lt;style lang=&quot;scss&quot;&gt;
.wrap .box{
    background: red;
}
&lt;/style&gt;

//Child
&lt;template&gt;
    &lt;div class=&quot;box&quot;&gt;&lt;/div&gt;
&lt;/template&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div>`,5),fI={id:"_32-ref\u7684\u4F5C\u7528",tabindex:"-1"},vI=n("a",{class:"header-anchor",href:"#_32-ref\u7684\u4F5C\u7528","aria-hidden":"true"},"#",-1),wI=s(),yI={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_32-ref%E7%9A%84%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},xI=s("#"),AI=s("32 ref\u7684\u4F5C\u7528"),BI=n("ul",null,[n("li",null,[s("\u83B7\u53D6"),n("code",null,"dom"),s("\u5143\u7D20"),n("code",null,"this.$refs.box")]),n("li",null,[s("\u83B7\u53D6\u5B50\u7EC4\u4EF6\u4E2D\u7684"),n("code",null,"datathis.$refs.box.msg")]),n("li",null,[s("\u8C03\u7528\u5B50\u7EC4\u4EF6\u4E2D\u7684\u65B9\u6CD5"),n("code",null,"this.$refs.box.open()")])],-1),qI={id:"_33-computed\u548Cwatch\u533A\u522B",tabindex:"-1"},jI=n("a",{class:"header-anchor",href:"#_33-computed\u548Cwatch\u533A\u522B","aria-hidden":"true"},"#",-1),SI=s(),CI={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_33-computed%E5%92%8Cwatch%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},DI=s("#"),FI=s("33 computed\u548Cwatch\u533A\u522B"),PI=t(`<ol><li>\u5F53\u9875\u9762\u4E2D\u6709\u67D0\u4E9B\u6570\u636E\u4F9D\u8D56\u5176\u4ED6\u6570\u636E\u8FDB\u884C\u53D8\u52A8\u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u4F7F\u7528\u8BA1\u7B97\u5C5E\u6027computed</li></ol><blockquote><p><code>Computed</code>\u672C\u8D28\u662F\u4E00\u4E2A\u5177\u5907\u7F13\u5B58\u7684<code>watcher</code>\uFF0C\u4F9D\u8D56\u7684\u5C5E\u6027\u53D1\u751F\u53D8\u5316\u5C31\u4F1A\u66F4\u65B0\u89C6\u56FE\u3002 \u9002\u7528\u4E8E\u8BA1\u7B97\u6BD4\u8F83\u6D88\u8017\u6027\u80FD\u7684\u8BA1\u7B97\u573A\u666F\u3002\u5F53\u8868\u8FBE\u5F0F\u8FC7\u4E8E\u590D\u6742\u65F6\uFF0C\u5728\u6A21\u677F\u4E2D\u653E\u5165\u8FC7\u591A\u903B\u8F91\u4F1A\u8BA9\u6A21\u677F\u96BE\u4EE5\u7EF4\u62A4\uFF0C\u53EF\u4EE5\u5C06\u590D\u6742\u7684\u903B\u8F91\u653E\u5165\u8BA1\u7B97\u5C5E\u6027\u4E2D\u5904\u7406</p></blockquote><p><img src="http://poetries1.gitee.io/img-repo/2020/01/25.png" alt="img"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>fullName<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&#39;xie&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">&#39;yu fei&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function-variable function">fullName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">&#39; &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ol><li><code>watch</code>\u7528\u4E8E\u89C2\u5BDF\u548C\u76D1\u542C\u9875\u9762\u4E0A\u7684vue\u5B9E\u4F8B\uFF0C\u5982\u679C\u8981\u5728\u6570\u636E\u53D8\u5316\u7684\u540C\u65F6\u8FDB\u884C\u5F02\u6B65\u64CD\u4F5C\u6216\u8005\u662F\u6BD4\u8F83\u5927\u7684\u5F00\u9500\uFF0C\u90A3\u4E48<code>watch</code>\u4E3A\u6700\u4F73\u9009\u62E9</li></ol><blockquote><p><code>Watch</code>\u6CA1\u6709\u7F13\u5B58\u6027\uFF0C\u66F4\u591A\u7684\u662F\u89C2\u5BDF\u7684\u4F5C\u7528\uFF0C\u53EF\u4EE5\u76D1\u542C\u67D0\u4E9B\u6570\u636E\u6267\u884C\u56DE\u8C03\u3002\u5F53\u6211\u4EEC\u9700\u8981\u6DF1\u5EA6\u76D1\u542C\u5BF9\u8C61\u4E2D\u7684\u5C5E\u6027\u65F6\uFF0C\u53EF\u4EE5\u6253\u5F00<code>deep\uFF1Atrue</code>\u9009\u9879\uFF0C\u8FD9\u6837\u4FBF\u4F1A\u5BF9\u5BF9\u8C61\u4E2D\u7684\u6BCF\u4E00\u9879\u8FDB\u884C\u76D1\u542C\u3002\u8FD9\u6837\u4F1A\u5E26\u6765\u6027\u80FD\u95EE\u9898\uFF0C\u4F18\u5316\u7684\u8BDD\u53EF\u4EE5\u4F7F\u7528\u5B57\u7B26\u4E32\u5F62\u5F0F\u76D1\u542C\uFF0C\u5982\u679C\u6CA1\u6709\u5199\u5230\u7EC4\u4EF6\u4E2D\uFF0C\u4E0D\u8981\u5FD8\u8BB0\u4F7F\u7528<code>unWatch</code>\u624B\u52A8\u6CE8\u9500</p></blockquote><p><img src="http://poetries1.gitee.io/img-repo/2020/01/26.png" alt="img"></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;template&gt;{{fullName}}&lt;/template&gt;
export default {
    data(){
        return {
            firstName: &#39;xie&#39;,
            lastName: &#39;xiao fei&#39;,
            fullName: &#39;xie xiao fei&#39;
        }
    },
    watch:{
        firstName(val) {
            this.fullName = val + &#39; &#39; + this.lastName
        },
        lastName(val) {
            this.fullName = this.firstName + &#39; &#39; + val
        }
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div>`,8),TI={id:"_34-vue-router\u5B88\u536B",tabindex:"-1"},NI=n("a",{class:"header-anchor",href:"#_34-vue-router\u5B88\u536B","aria-hidden":"true"},"#",-1),MI=s(),OI={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_34-vue-router%E5%AE%88%E5%8D%AB",target:"_blank",rel:"noopener noreferrer"},II=s("#"),RI=s("34 vue-router\u5B88\u536B"),VI=t(`<blockquote><p>\u5BFC\u822A\u5B88\u536B <code>router.beforeEach</code> \u5168\u5C40\u524D\u7F6E\u5B88\u536B</p></blockquote><ul><li><code>to: Route</code>: \u5373\u5C06\u8981\u8FDB\u5165\u7684\u76EE\u6807\uFF08\u8DEF\u7531\u5BF9\u8C61\uFF09</li><li><code>from: Route</code>: \u5F53\u524D\u5BFC\u822A\u6B63\u8981\u79BB\u5F00\u7684\u8DEF\u7531</li><li><code>next: Function</code>: \u4E00\u5B9A\u8981\u8C03\u7528\u8BE5\u65B9\u6CD5\u6765 <code>resolve</code> \u8FD9\u4E2A\u94A9\u5B50\u3002\uFF08\u4E00\u5B9A\u8981\u7528\u8FD9\u4E2A\u51FD\u6570\u624D\u80FD\u53BB\u5230\u4E0B\u4E00\u4E2A\u8DEF\u7531\uFF0C\u5982\u679C\u4E0D\u7528\u5C31\u62E6\u622A\uFF09</li><li>\u6267\u884C\u6548\u679C\u4F9D\u8D56 next \u65B9\u6CD5\u7684\u8C03\u7528\u53C2\u6570\u3002</li><li><code>next()</code>: \u8FDB\u884C\u7BA1\u9053\u4E2D\u7684\u4E0B\u4E00\u4E2A\u94A9\u5B50\u3002\u5982\u679C\u5168\u90E8\u94A9\u5B50\u6267\u884C\u5B8C\u4E86\uFF0C\u5219\u5BFC\u822A\u7684\u72B6\u6001\u5C31\u662F confirmed (\u786E\u8BA4\u7684)\u3002</li><li><code>next(false)</code>:\u53D6\u6D88\u8FDB\u5165\u8DEF\u7531\uFF0Curl\u5730\u5740\u91CD\u7F6E\u4E3Afrom\u8DEF\u7531\u5730\u5740(\u4E5F\u5C31\u662F\u5C06\u8981\u79BB\u5F00\u7684\u8DEF\u7531\u5730\u5740)</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// main.js \u5165\u53E3\u6587\u4EF6</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">&#39;./router&#39;</span><span class="token punctuation">;</span> <span class="token comment">// \u5F15\u5165\u8DEF\u7531</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token function">beforeResolve</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;afterEach \u5168\u5C40\u540E\u7F6E\u94A9\u5B50&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>\u8DEF\u7531\u72EC\u4EAB\u7684\u5B88\u536B \u4F60\u53EF\u4EE5\u5728\u8DEF\u7531\u914D\u7F6E\u4E0A\u76F4\u63A5\u5B9A\u4E49 <code>beforeEnter</code> \u5B88\u536B</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/foo&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">component</span><span class="token operator">:</span> Foo<span class="token punctuation">,</span>
      <span class="token function-variable function">beforeEnter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>\u7EC4\u4EF6\u5185\u7684\u5B88\u536B\u4F60\u53EF\u4EE5\u5728\u8DEF\u7531\u7EC4\u4EF6\u5185\u76F4\u63A5\u5B9A\u4E49\u4EE5\u4E0B\u8DEF\u7531\u5BFC\u822A\u5B88\u536B</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">...</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
  <span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5728\u6E32\u67D3\u8BE5\u7EC4\u4EF6\u7684\u5BF9\u5E94\u8DEF\u7531\u88AB confirm \u524D\u8C03\u7528</span>
    <span class="token comment">// \u4E0D\uFF01\u80FD\uFF01\u83B7\u53D6\u7EC4\u4EF6\u5B9E\u4F8B \`this\`</span>
    <span class="token comment">// \u56E0\u4E3A\u5F53\u5B88\u536B\u6267\u884C\u524D\uFF0C\u7EC4\u4EF6\u5B9E\u4F8B\u8FD8\u6CA1\u88AB\u521B\u5EFA</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeRouteUpdate</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5728\u5F53\u524D\u8DEF\u7531\u6539\u53D8\uFF0C\u4F46\u662F\u8BE5\u7EC4\u4EF6\u88AB\u590D\u7528\u65F6\u8C03\u7528</span>
    <span class="token comment">// \u4E3E\u4F8B\u6765\u8BF4\uFF0C\u5BF9\u4E8E\u4E00\u4E2A\u5E26\u6709\u52A8\u6001\u53C2\u6570\u7684\u8DEF\u5F84 /foo/:id\uFF0C\u5728 /foo/1 \u548C /foo/2 \u4E4B\u95F4\u8DF3\u8F6C\u7684\u65F6\u5019\uFF0C</span>
    <span class="token comment">// \u7531\u4E8E\u4F1A\u6E32\u67D3\u540C\u6837\u7684 Foo \u7EC4\u4EF6\uFF0C\u56E0\u6B64\u7EC4\u4EF6\u5B9E\u4F8B\u4F1A\u88AB\u590D\u7528\u3002\u800C\u8FD9\u4E2A\u94A9\u5B50\u5C31\u4F1A\u5728\u8FD9\u4E2A\u60C5\u51B5\u4E0B\u88AB\u8C03\u7528\u3002</span>
    <span class="token comment">// \u53EF\u4EE5\u8BBF\u95EE\u7EC4\u4EF6\u5B9E\u4F8B \`this\`</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5BFC\u822A\u79BB\u5F00\u8BE5\u7EC4\u4EF6\u7684\u5BF9\u5E94\u8DEF\u7531\u65F6\u8C03\u7528\uFF0C\u6211\u4EEC\u7528\u5B83\u6765\u7981\u6B62\u7528\u6237\u79BB\u5F00</span>
    <span class="token comment">// \u53EF\u4EE5\u8BBF\u95EE\u7EC4\u4EF6\u5B9E\u4F8B \`this\`</span>
    <span class="token comment">// \u6BD4\u5982\u8FD8\u672A\u4FDD\u5B58\u8349\u7A3F\uFF0C\u6216\u8005\u5728\u7528\u6237\u79BB\u5F00\u524D\uFF0C</span>
    \u5C06setInterval\u9500\u6BC1\uFF0C\u9632\u6B62\u79BB\u5F00\u4E4B\u540E\uFF0C\u5B9A\u65F6\u5668\u8FD8\u5728\u8C03\u7528\u3002
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div>`,7),HI={id:"_35-vue\u4FEE\u9970\u7B26",tabindex:"-1"},LI=n("a",{class:"header-anchor",href:"#_35-vue\u4FEE\u9970\u7B26","aria-hidden":"true"},"#",-1),UI=s(),JI={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_35-vue%E4%BF%AE%E9%A5%B0%E7%AC%A6",target:"_blank",rel:"noopener noreferrer"},WI=s("#"),zI=s("35 vue\u4FEE\u9970\u7B26"),GI=n("ul",null,[n("li",null,[n("code",null,"stop"),s("\uFF1A\u963B\u6B62\u4E8B\u4EF6\u7684\u5192\u6CE1")]),n("li",null,[n("code",null,"prevent"),s("\uFF1A\u963B\u6B62\u4E8B\u4EF6\u7684\u9ED8\u8BA4\u884C\u4E3A")]),n("li",null,[n("code",null,"once"),s("\uFF1A\u53EA\u89E6\u53D1\u4E00\u6B21")]),n("li",null,[n("code",null,"self"),s("\uFF1A\u53EA\u89E6\u53D1\u81EA\u5DF1\u7684\u4E8B\u4EF6\u884C\u4E3A\u65F6\uFF0C\u624D\u4F1A\u6267\u884C")])],-1),$I={id:"_36-vue\u9879\u76EE\u4E2D\u7684\u6027\u80FD\u4F18\u5316",tabindex:"-1"},XI=n("a",{class:"header-anchor",href:"#_36-vue\u9879\u76EE\u4E2D\u7684\u6027\u80FD\u4F18\u5316","aria-hidden":"true"},"#",-1),KI=s(),QI={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_36-vue%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},YI=s("#"),ZI=s("36 vue\u9879\u76EE\u4E2D\u7684\u6027\u80FD\u4F18\u5316"),nR=n("ul",null,[n("li",null,"\u4E0D\u8981\u5728\u6A21\u677F\u91CC\u9762\u5199\u8FC7\u591A\u8868\u8FBE\u5F0F"),n("li",null,"\u5FAA\u73AF\u8C03\u7528\u5B50\u7EC4\u4EF6\u65F6\u6DFB\u52A0key"),n("li",null,"\u9891\u7E41\u5207\u6362\u7684\u4F7F\u7528v-show\uFF0C\u4E0D\u9891\u7E41\u5207\u6362\u7684\u4F7F\u7528v-if"),n("li",null,"\u5C3D\u91CF\u5C11\u7528float\uFF0C\u53EF\u4EE5\u7528flex"),n("li",null,"\u6309\u9700\u52A0\u8F7D\uFF0C\u53EF\u4EE5\u7528require\u6216\u8005import()\u6309\u9700\u52A0\u8F7D\u9700\u8981\u7684\u7EC4\u4EF6"),n("li",null,"\u8DEF\u7531\u61D2\u52A0\u8F7D")],-1),sR={id:"_37-vue-extend\u548Cvue-component",tabindex:"-1"},aR=n("a",{class:"header-anchor",href:"#_37-vue-extend\u548Cvue-component","aria-hidden":"true"},"#",-1),eR=s(),tR={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_37-vue-extend%E5%92%8Cvue-component",target:"_blank",rel:"noopener noreferrer"},pR=s("#"),oR=s("37 vue.extend\u548Cvue.component"),cR=n("ul",null,[n("li",null,[n("code",null,"extend"),s("\u662F\u6784\u9020\u4E00\u4E2A\u7EC4\u4EF6\u7684\u8BED\u6CD5\u5668\u3002 \u7136\u540E\u8FD9\u4E2A\u7EC4\u4EF6\u4F60\u53EF\u4EE5\u4F5C\u7528\u5230Vue.component\u8FD9\u4E2A\u5168\u5C40\u6CE8\u518C\u65B9\u6CD5\u91CC\u8FD8\u53EF\u4EE5\u5728\u4EFB\u610Fvue\u6A21\u677F\u91CC\u4F7F\u7528\u7EC4\u4EF6\u3002 \u4E5F\u53EF\u4EE5\u4F5C\u7528\u5230vue\u5B9E\u4F8B\u6216\u8005\u67D0\u4E2A\u7EC4\u4EF6\u4E2D\u7684components\u5C5E\u6027\u4E2D\u5E76\u5728\u5185\u90E8\u4F7F\u7528apple\u7EC4\u4EF6\u3002")]),n("li",null,[n("code",null,"Vue.component"),s("\u4F60\u53EF\u4EE5\u521B\u5EFA \uFF0C\u4E5F\u53EF\u4EE5\u53D6\u7EC4\u4EF6\u3002")])],-1),lR={id:"_38-vue\u7684spa-\u5982\u4F55\u4F18\u5316\u52A0\u8F7D\u901F\u5EA6",tabindex:"-1"},rR=n("a",{class:"header-anchor",href:"#_38-vue\u7684spa-\u5982\u4F55\u4F18\u5316\u52A0\u8F7D\u901F\u5EA6","aria-hidden":"true"},"#",-1),iR=s(),uR={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_38-vue%E7%9A%84spa-%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96%E5%8A%A0%E8%BD%BD%E9%80%9F%E5%BA%A6",target:"_blank",rel:"noopener noreferrer"},kR=s("#"),dR=s("38 Vue\u7684SPA \u5982\u4F55\u4F18\u5316\u52A0\u8F7D\u901F\u5EA6"),bR=n("ul",null,[n("li",null,"\u51CF\u5C11\u5165\u53E3\u6587\u4EF6\u4F53\u79EF"),n("li",null,"\u9759\u6001\u8D44\u6E90\u672C\u5730\u7F13\u5B58"),n("li",null,"\u5F00\u542FGzip\u538B\u7F29"),n("li",null,"\u4F7F\u7528SSR,nuxt.js")],-1),mR={id:"_39-\u79FB\u52A8\u7AEF\u5982\u4F55\u8BBE\u8BA1\u4E00\u4E2A\u6BD4\u8F83\u53CB\u597D\u7684header\u7EC4\u4EF6",tabindex:"-1"},hR=n("a",{class:"header-anchor",href:"#_39-\u79FB\u52A8\u7AEF\u5982\u4F55\u8BBE\u8BA1\u4E00\u4E2A\u6BD4\u8F83\u53CB\u597D\u7684header\u7EC4\u4EF6","aria-hidden":"true"},"#",-1),_R=s(),gR={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_39-%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E6%AF%94%E8%BE%83%E5%8F%8B%E5%A5%BD%E7%9A%84header%E7%BB%84%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},ER=s("#"),fR=s("39 \u79FB\u52A8\u7AEF\u5982\u4F55\u8BBE\u8BA1\u4E00\u4E2A\u6BD4\u8F83\u53CB\u597D\u7684Header\u7EC4\u4EF6\uFF1F"),vR=n("blockquote",null,[n("p",null,"\u5F53\u65F6\u7684\u601D\u8DEF\u662F\u5934\u90E8(Header)\u4E00\u822C\u5206\u4E3A\u5DE6\u3001\u4E2D\u3001\u53F3\u4E09\u4E2A\u90E8\u5206\uFF0C\u5206\u4E3A\u4E09\u4E2A\u533A\u57DF\u6765\u8BBE\u8BA1\uFF0C\u4E2D\u95F4\u4E3A\u4E3B\u6807\u9898\uFF0C\u6BCF\u4E2A\u9875\u9762\u7684\u6807\u9898\u80AF\u5B9A\u4E0D\u540C\uFF0C\u6240\u4EE5\u53EF\u4EE5\u901A\u8FC7vue props\u7684\u65B9\u5F0F\u505A\u6210\u53EF\u914D\u7F6E\u5BF9\u5916\u8FDB\u884C\u66B4\u9732\uFF0C\u5DE6\u4FA7\u5927\u90E8\u5206\u9875\u9762\u53EF\u80FD\u90FD\u662F\u56DE\u9000\u6309\u94AE\uFF0C\u4F46\u662F\u6837\u5F0F\u548C\u5185\u5BB9\u4E0D\u5C3D\u76F8\u540C\uFF0C\u53F3\u4FA7\u4E00\u822C\u90FD\u662F\u5177\u6709\u529F\u80FD\u6027\u7684\u64CD\u4F5C\u6309\u94AE\uFF0C\u6240\u4EE5\u5DE6\u53F3\u4E24\u4FA7\u53EF\u4EE5\u901A\u8FC7vue slot\u63D2\u69FD\u7684\u65B9\u5F0F\u5BF9\u5916\u66B4\u9732\u4EE5\u5B9E\u73B0\u591A\u6837\u5316\uFF0C\u540C\u65F6\u4E5F\u53EF\u4EE5\u63D0\u4F9Bdefault slot\u9ED8\u8BA4\u63D2\u69FD\u6765\u7EDF\u4E00\u9875\u9762\u98CE\u683C")],-1),wR={id:"_40-proxy\u4E0Eobject-defineproperty\u7684\u4F18\u52A3\u5BF9\u6BD4",tabindex:"-1"},yR=n("a",{class:"header-anchor",href:"#_40-proxy\u4E0Eobject-defineproperty\u7684\u4F18\u52A3\u5BF9\u6BD4","aria-hidden":"true"},"#",-1),xR=s(),AR={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_40-proxy%E4%B8%8Eobject-defineproperty%E7%9A%84%E4%BC%98%E5%8A%A3%E5%AF%B9%E6%AF%94",target:"_blank",rel:"noopener noreferrer"},BR=s("#"),qR=s("40 Proxy\u4E0EObject.defineProperty\u7684\u4F18\u52A3\u5BF9\u6BD4?"),jR=n("p",null,[n("strong",null,"Proxy\u7684\u4F18\u52BF\u5982\u4E0B:")],-1),SR=n("ul",null,[n("li",null,"Proxy\u53EF\u4EE5\u76F4\u63A5\u76D1\u542C\u5BF9\u8C61\u800C\u975E\u5C5E\u6027"),n("li",null,"Proxy\u53EF\u4EE5\u76F4\u63A5\u76D1\u542C\u6570\u7EC4\u7684\u53D8\u5316"),n("li",null,"Proxy\u6709\u591A\u8FBE13\u79CD\u62E6\u622A\u65B9\u6CD5,\u4E0D\u9650\u4E8Eapply\u3001ownKeys\u3001deleteProperty\u3001has\u7B49\u7B49\u662FObject.defineProperty\u4E0D\u5177\u5907\u7684"),n("li",null,"Proxy\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\u65B0\u5BF9\u8C61,\u6211\u4EEC\u53EF\u4EE5\u53EA\u64CD\u4F5C\u65B0\u7684\u5BF9\u8C61\u8FBE\u5230\u76EE\u7684,\u800CObject.defineProperty\u53EA\u80FD\u904D\u5386\u5BF9\u8C61\u5C5E\u6027\u76F4\u63A5\u4FEE\u6539"),n("li",null,"Proxy\u4F5C\u4E3A\u65B0\u6807\u51C6\u5C06\u53D7\u5230\u6D4F\u89C8\u5668\u5382\u5546\u91CD\u70B9\u6301\u7EED\u7684\u6027\u80FD\u4F18\u5316\uFF0C\u4E5F\u5C31\u662F\u4F20\u8BF4\u4E2D\u7684\u65B0\u6807\u51C6\u7684\u6027\u80FD\u7EA2\u5229")],-1),CR=n("p",null,[n("strong",null,"Object.defineProperty\u7684\u4F18\u52BF\u5982\u4E0B:")],-1),DR=n("p",null,"\u517C\u5BB9\u6027\u597D,\u652F\u6301IE9",-1),FR={id:"_41-\u4F60\u662F\u5982\u4F55\u7406\u89E3vue\u7684\u54CD\u5E94\u5F0F\u7CFB\u7EDF\u7684",tabindex:"-1"},PR=n("a",{class:"header-anchor",href:"#_41-\u4F60\u662F\u5982\u4F55\u7406\u89E3vue\u7684\u54CD\u5E94\u5F0F\u7CFB\u7EDF\u7684","aria-hidden":"true"},"#",-1),TR=s(),NR={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_41-%E4%BD%A0%E6%98%AF%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3vue%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},MR=s("#"),OR=s("41 \u4F60\u662F\u5982\u4F55\u7406\u89E3Vue\u7684\u54CD\u5E94\u5F0F\u7CFB\u7EDF\u7684?"),IR=n("p",null,[n("img",{src:"http://poetries1.gitee.io/img-repo/2020/07/66.png",alt:"img"})],-1),RR=n("p",null,[n("strong",null,"\u54CD\u5E94\u5F0F\u7CFB\u7EDF\u7B80\u8FF0:")],-1),VR=n("ul",null,[n("li",null,"\u4EFB\u4F55\u4E00\u4E2A Vue Component \u90FD\u6709\u4E00\u4E2A\u4E0E\u4E4B\u5BF9\u5E94\u7684 Watcher \u5B9E\u4F8B\u3002"),n("li",null,"Vue \u7684 data \u4E0A\u7684\u5C5E\u6027\u4F1A\u88AB\u6DFB\u52A0 getter \u548C setter \u5C5E\u6027\u3002"),n("li",null,"\u5F53 Vue Component render \u51FD\u6570\u88AB\u6267\u884C\u7684\u65F6\u5019, data \u4E0A\u4F1A\u88AB \u89E6\u78B0(touch), \u5373\u88AB\u8BFB, getter \u65B9\u6CD5\u4F1A\u88AB\u8C03\u7528, \u6B64\u65F6 Vue \u4F1A\u53BB\u8BB0\u5F55\u6B64 Vue component \u6240\u4F9D\u8D56\u7684\u6240\u6709 data\u3002(\u8FD9\u4E00\u8FC7\u7A0B\u88AB\u79F0\u4E3A\u4F9D\u8D56\u6536\u96C6)"),n("li",null,"data \u88AB\u6539\u52A8\u65F6\uFF08\u4E3B\u8981\u662F\u7528\u6237\u64CD\u4F5C\uFF09, \u5373\u88AB\u5199, setter \u65B9\u6CD5\u4F1A\u88AB\u8C03\u7528, \u6B64\u65F6 Vue \u4F1A\u53BB\u901A\u77E5\u6240\u6709\u4F9D\u8D56\u4E8E\u6B64 data \u7684\u7EC4\u4EF6\u53BB\u8C03\u7528\u4ED6\u4EEC\u7684 render \u51FD\u6570\u8FDB\u884C\u66F4\u65B0\u3002")],-1),HR={id:"_42-\u65E2\u7136vue\u901A\u8FC7\u6570\u636E\u52AB\u6301\u53EF\u4EE5\u7CBE\u51C6\u63A2\u6D4B\u6570\u636E\u53D8\u5316-\u4E3A\u4EC0\u4E48\u8FD8\u9700\u8981\u865A\u62DFdom\u8FDB\u884Cdiff\u68C0\u6D4B\u5DEE\u5F02",tabindex:"-1"},LR=n("a",{class:"header-anchor",href:"#_42-\u65E2\u7136vue\u901A\u8FC7\u6570\u636E\u52AB\u6301\u53EF\u4EE5\u7CBE\u51C6\u63A2\u6D4B\u6570\u636E\u53D8\u5316-\u4E3A\u4EC0\u4E48\u8FD8\u9700\u8981\u865A\u62DFdom\u8FDB\u884Cdiff\u68C0\u6D4B\u5DEE\u5F02","aria-hidden":"true"},"#",-1),UR=s(),JR={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_42-%E6%97%A2%E7%84%B6vue%E9%80%9A%E8%BF%87%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81%E5%8F%AF%E4%BB%A5%E7%B2%BE%E5%87%86%E6%8E%A2%E6%B5%8B%E6%95%B0%E6%8D%AE%E5%8F%98%E5%8C%96-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E9%9C%80%E8%A6%81%E8%99%9A%E6%8B%9Fdom%E8%BF%9B%E8%A1%8Cdiff%E6%A3%80%E6%B5%8B%E5%B7%AE%E5%BC%82",target:"_blank",rel:"noopener noreferrer"},WR=s("#"),zR=s("42 \u65E2\u7136Vue\u901A\u8FC7\u6570\u636E\u52AB\u6301\u53EF\u4EE5\u7CBE\u51C6\u63A2\u6D4B\u6570\u636E\u53D8\u5316,\u4E3A\u4EC0\u4E48\u8FD8\u9700\u8981\u865A\u62DFDOM\u8FDB\u884Cdiff\u68C0\u6D4B\u5DEE\u5F02?"),GR=n("blockquote",null,[n("p",null,"\u73B0\u4EE3\u524D\u7AEF\u6846\u67B6\u6709\u4E24\u79CD\u65B9\u5F0F\u4FA6\u6D4B\u53D8\u5316,\u4E00\u79CD\u662Fpull\u4E00\u79CD\u662Fpush")],-1),$R=n("ul",null,[n("li",null,"pull: \u5176\u4EE3\u8868\u4E3AReact,\u6211\u4EEC\u53EF\u4EE5\u56DE\u5FC6\u4E00\u4E0BReact\u662F\u5982\u4F55\u4FA6\u6D4B\u5230\u53D8\u5316\u7684,\u6211\u4EEC\u901A\u5E38\u4F1A\u7528setStateAPI\u663E\u5F0F\u66F4\u65B0,\u7136\u540EReact\u4F1A\u8FDB\u884C\u4E00\u5C42\u5C42\u7684Virtual Dom Diff\u64CD\u4F5C\u627E\u51FA\u5DEE\u5F02,\u7136\u540EPatch\u5230DOM\u4E0A,React\u4ECE\u4E00\u5F00\u59CB\u5C31\u4E0D\u77E5\u9053\u5230\u5E95\u662F\u54EA\u53D1\u751F\u4E86\u53D8\u5316,\u53EA\u662F\u77E5\u9053\u300C\u6709\u53D8\u5316\u4E86\u300D,\u7136\u540E\u518D\u8FDB\u884C\u6BD4\u8F83\u66B4\u529B\u7684Diff\u64CD\u4F5C\u67E5\u627E\u300C\u54EA\u53D1\u751F\u53D8\u5316\u4E86\u300D\uFF0C\u53E6\u5916\u4E00\u4E2A\u4EE3\u8868\u5C31\u662FAngular\u7684\u810F\u68C0\u67E5\u64CD\u4F5C\u3002"),n("li",null,"push: Vue\u7684\u54CD\u5E94\u5F0F\u7CFB\u7EDF\u5219\u662Fpush\u7684\u4EE3\u8868,\u5F53Vue\u7A0B\u5E8F\u521D\u59CB\u5316\u7684\u65F6\u5019\u5C31\u4F1A\u5BF9\u6570\u636Edata\u8FDB\u884C\u4F9D\u8D56\u7684\u6536\u96C6,\u4E00\u4F46\u6570\u636E\u53D1\u751F\u53D8\u5316,\u54CD\u5E94\u5F0F\u7CFB\u7EDF\u5C31\u4F1A\u7ACB\u523B\u5F97\u77E5,\u56E0\u6B64Vue\u662F\u4E00\u5F00\u59CB\u5C31\u77E5\u9053\u662F\u300C\u5728\u54EA\u53D1\u751F\u53D8\u5316\u4E86\u300D,\u4F46\u662F\u8FD9\u53C8\u4F1A\u4EA7\u751F\u4E00\u4E2A\u95EE\u9898,\u5982\u679C\u4F60\u719F\u6089Vue\u7684\u54CD\u5E94\u5F0F\u7CFB\u7EDF\u5C31\u77E5\u9053,\u901A\u5E38\u4E00\u4E2A\u7ED1\u5B9A\u4E00\u4E2A\u6570\u636E\u5C31\u9700\u8981\u4E00\u4E2AWatcher,\u4E00\u4F46\u6211\u4EEC\u7684\u7ED1\u5B9A\u7EC6\u7C92\u5EA6\u8FC7\u9AD8\u5C31\u4F1A\u4EA7\u751F\u5927\u91CF\u7684Watcher,\u8FD9\u4F1A\u5E26\u6765\u5185\u5B58\u4EE5\u53CA\u4F9D\u8D56\u8FFD\u8E2A\u7684\u5F00\u9500,\u800C\u7EC6\u7C92\u5EA6\u8FC7\u4F4E\u4F1A\u65E0\u6CD5\u7CBE\u51C6\u4FA6\u6D4B\u53D8\u5316,\u56E0\u6B64Vue\u7684\u8BBE\u8BA1\u662F\u9009\u62E9\u4E2D\u7B49\u7EC6\u7C92\u5EA6\u7684\u65B9\u6848,\u5728\u7EC4\u4EF6\u7EA7\u522B\u8FDB\u884Cpush\u4FA6\u6D4B\u7684\u65B9\u5F0F,\u4E5F\u5C31\u662F\u90A3\u5957\u54CD\u5E94\u5F0F\u7CFB\u7EDF,\u901A\u5E38\u6211\u4EEC\u4F1A\u7B2C\u4E00\u65F6\u95F4\u4FA6\u6D4B\u5230\u53D1\u751F\u53D8\u5316\u7684\u7EC4\u4EF6,\u7136\u540E\u5728\u7EC4\u4EF6\u5185\u90E8\u8FDB\u884CVirtual Dom Diff\u83B7\u53D6\u66F4\u52A0\u5177\u4F53\u7684\u5DEE\u5F02,\u800CVirtual Dom Diff\u5219\u662Fpull\u64CD\u4F5C,Vue\u662Fpush+pull\u7ED3\u5408\u7684\u65B9\u5F0F\u8FDB\u884C\u53D8\u5316\u4FA6\u6D4B\u7684")],-1),XR={id:"_43-vue\u4E3A\u4EC0\u4E48\u6CA1\u6709\u7C7B\u4F3C\u4E8Ereact\u4E2Dshouldcomponentupdate\u7684\u751F\u547D\u5468\u671F",tabindex:"-1"},KR=n("a",{class:"header-anchor",href:"#_43-vue\u4E3A\u4EC0\u4E48\u6CA1\u6709\u7C7B\u4F3C\u4E8Ereact\u4E2Dshouldcomponentupdate\u7684\u751F\u547D\u5468\u671F","aria-hidden":"true"},"#",-1),QR=s(),YR={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_43-vue%E4%B8%BA%E4%BB%80%E4%B9%88%E6%B2%A1%E6%9C%89%E7%B1%BB%E4%BC%BC%E4%BA%8Ereact%E4%B8%ADshouldcomponentupdate%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F",target:"_blank",rel:"noopener noreferrer"},ZR=s("#"),nV=s("43 Vue\u4E3A\u4EC0\u4E48\u6CA1\u6709\u7C7B\u4F3C\u4E8EReact\u4E2DshouldComponentUpdate\u7684\u751F\u547D\u5468\u671F\uFF1F"),sV=n("p",null,"\u8003\u70B9: Vue\u7684\u53D8\u5316\u4FA6\u6D4B\u539F\u7406",-1),aV=n("p",null,"\u524D\u7F6E\u77E5\u8BC6: \u4F9D\u8D56\u6536\u96C6\u3001\u865A\u62DFDOM\u3001\u54CD\u5E94\u5F0F\u7CFB\u7EDF",-1),eV=n("blockquote",null,[n("p",null,"\u6839\u672C\u539F\u56E0\u662FVue\u4E0EReact\u7684\u53D8\u5316\u4FA6\u6D4B\u65B9\u5F0F\u6709\u6240\u4E0D\u540C")],-1),tV=n("ul",null,[n("li",null,"React\u662Fpull\u7684\u65B9\u5F0F\u4FA6\u6D4B\u53D8\u5316,\u5F53React\u77E5\u9053\u53D1\u751F\u53D8\u5316\u540E,\u4F1A\u4F7F\u7528Virtual Dom Diff\u8FDB\u884C\u5DEE\u5F02\u68C0\u6D4B,\u4F46\u662F\u5F88\u591A\u7EC4\u4EF6\u5B9E\u9645\u4E0A\u662F\u80AF\u5B9A\u4E0D\u4F1A\u53D1\u751F\u53D8\u5316\u7684,\u8FD9\u4E2A\u65F6\u5019\u9700\u8981\u7528shouldComponentUpdate\u8FDB\u884C\u624B\u52A8\u64CD\u4F5C\u6765\u51CF\u5C11diff,\u4ECE\u800C\u63D0\u9AD8\u7A0B\u5E8F\u6574\u4F53\u7684\u6027\u80FD."),n("li",null,"Vue\u662Fpull+push\u7684\u65B9\u5F0F\u4FA6\u6D4B\u53D8\u5316\u7684,\u5728\u4E00\u5F00\u59CB\u5C31\u77E5\u9053\u90A3\u4E2A\u7EC4\u4EF6\u53D1\u751F\u4E86\u53D8\u5316,\u56E0\u6B64\u5728push\u7684\u9636\u6BB5\u5E76\u4E0D\u9700\u8981\u624B\u52A8\u63A7\u5236diff,\u800C\u7EC4\u4EF6\u5185\u90E8\u91C7\u7528\u7684diff\u65B9\u5F0F\u5B9E\u9645\u4E0A\u662F\u53EF\u4EE5\u5F15\u5165\u7C7B\u4F3C\u4E8EshouldComponentUpdate\u76F8\u5173\u751F\u547D\u5468\u671F\u7684,\u4F46\u662F\u901A\u5E38\u5408\u7406\u5927\u5C0F\u7684\u7EC4\u4EF6\u4E0D\u4F1A\u6709\u8FC7\u91CF\u7684diff,\u624B\u52A8\u4F18\u5316\u7684\u4EF7\u503C\u6709\u9650,\u56E0\u6B64\u76EE\u524DVue\u5E76\u6CA1\u6709\u8003\u8651\u5F15\u5165shouldComponentUpdate\u8FD9\u79CD\u624B\u52A8\u4F18\u5316\u7684\u751F\u547D\u5468\u671F.")],-1),pV={id:"_44-vue\u4E2D\u7684key\u5230\u5E95\u6709\u4EC0\u4E48\u7528",tabindex:"-1"},oV=n("a",{class:"header-anchor",href:"#_44-vue\u4E2D\u7684key\u5230\u5E95\u6709\u4EC0\u4E48\u7528","aria-hidden":"true"},"#",-1),cV=s(),lV={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_44-vue%E4%B8%AD%E7%9A%84key%E5%88%B0%E5%BA%95%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},rV=s("#"),iV=s("44 Vue\u4E2D\u7684key\u5230\u5E95\u6709\u4EC0\u4E48\u7528\uFF1F"),uV=t('<ul><li>key\u662F\u4E3AVue\u4E2D\u7684vnode\u6807\u8BB0\u7684\u552F\u4E00id,\u901A\u8FC7\u8FD9\u4E2Akey,\u6211\u4EEC\u7684diff\u64CD\u4F5C\u53EF\u4EE5\u66F4\u51C6\u786E\u3001\u66F4\u5FEB\u901F</li><li>diff\u7B97\u6CD5\u7684\u8FC7\u7A0B\u4E2D,\u5148\u4F1A\u8FDB\u884C\u65B0\u65E7\u8282\u70B9\u7684\u9996\u5C3E\u4EA4\u53C9\u5BF9\u6BD4,\u5F53\u65E0\u6CD5\u5339\u914D\u7684\u65F6\u5019\u4F1A\u7528\u65B0\u8282\u70B9\u7684key\u4E0E\u65E7\u8282\u70B9\u8FDB\u884C\u6BD4\u5BF9,\u7136\u540E\u8D85\u51FA\u5DEE\u5F02.</li></ul><blockquote><p>diff\u7A0B\u53EF\u4EE5\u6982\u62EC\u4E3A\uFF1AoldCh\u548CnewCh\u5404\u6709\u4E24\u4E2A\u5934\u5C3E\u7684\u53D8\u91CFStartIdx\u548CEndIdx\uFF0C\u5B83\u4EEC\u76842\u4E2A\u53D8\u91CF\u76F8\u4E92\u6BD4\u8F83\uFF0C\u4E00\u5171\u67094\u79CD\u6BD4\u8F83\u65B9\u5F0F\u3002\u5982\u679C4\u79CD\u6BD4\u8F83\u90FD\u6CA1\u5339\u914D\uFF0C\u5982\u679C\u8BBE\u7F6E\u4E86key\uFF0C\u5C31\u4F1A\u7528key\u8FDB\u884C\u6BD4\u8F83\uFF0C\u5728\u6BD4\u8F83\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u53D8\u91CF\u4F1A\u5F80\u4E2D\u95F4\u9760\uFF0C\u4E00\u65E6StartIdx&gt;EndIdx\u8868\u660EoldCh\u548CnewCh\u81F3\u5C11\u6709\u4E00\u4E2A\u5DF2\u7ECF\u904D\u5386\u5B8C\u4E86\uFF0C\u5C31\u4F1A\u7ED3\u675F\u6BD4\u8F83,\u8FD9\u56DB\u79CD\u6BD4\u8F83\u65B9\u5F0F\u5C31\u662F\u9996\u3001\u5C3E\u3001\u65E7\u5C3E\u65B0\u5934\u3001\u65E7\u5934\u65B0\u5C3E.</p></blockquote><blockquote><p>\u51C6\u786E: \u5982\u679C\u4E0D\u52A0key,\u90A3\u4E48vue\u4F1A\u9009\u62E9\u590D\u7528\u8282\u70B9(Vue\u7684\u5C31\u5730\u66F4\u65B0\u7B56\u7565),\u5BFC\u81F4\u4E4B\u524D\u8282\u70B9\u7684\u72B6\u6001\u88AB\u4FDD\u7559\u4E0B\u6765,\u4F1A\u4EA7\u751F\u4E00\u7CFB\u5217\u7684bug. \u5FEB\u901F: key\u7684\u552F\u4E00\u6027\u53EF\u4EE5\u88ABMap\u6570\u636E\u7ED3\u6784\u5145\u5206\u5229\u7528,\u76F8\u6BD4\u4E8E\u904D\u5386\u67E5\u627E\u7684\u65F6\u95F4\u590D\u6742\u5EA6<code>O(n)</code>,<code>Map</code>\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u4EC5\u4EC5\u4E3A<code>O(1)</code>.</p></blockquote><p><img src="http://poetries1.gitee.io/img-repo/2020/07/67.png" alt="img"></p>',4),kV={id:"_45-vue-\u9879\u76EE\u6027\u80FD\u4F18\u5316",tabindex:"-1"},dV=n("a",{class:"header-anchor",href:"#_45-vue-\u9879\u76EE\u6027\u80FD\u4F18\u5316","aria-hidden":"true"},"#",-1),bV=s(),mV={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_45-vue-%E9%A1%B9%E7%9B%AE%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},hV=s("#"),_V=s("45 vue \u9879\u76EE\u6027\u80FD\u4F18\u5316"),gV=t("<p><strong>\u4EE3\u7801\u5C42\u9762\uFF1A</strong></p><ul><li>\u5408\u7406\u4F7F\u7528 <code>v-if</code> \u548C <code>v-show</code></li><li>\u533A\u5206 <code>computed</code> \u548C <code>watch</code> \u7684\u4F7F\u7528</li><li><code>v-for</code> \u904D\u5386\u4E3A <code>item</code> \u6DFB\u52A0 <code>key</code></li><li><code>v-for</code> \u904D\u5386\u907F\u514D\u540C\u65F6\u4F7F\u7528 <code>v-if</code></li><li>\u901A\u8FC7 <code>addEventListener</code>\u6DFB\u52A0\u7684\u4E8B\u4EF6\u5728\u7EC4\u4EF6\u9500\u6BC1\u65F6\u8981\u7528 <code>removeEventListener</code> \u624B\u52A8\u79FB\u9664\u8FD9\u4E9B\u4E8B\u4EF6\u7684\u76D1\u542C</li><li>\u56FE\u7247\u61D2\u52A0\u8F7D</li><li>\u8DEF\u7531\u61D2\u52A0\u8F7D</li><li>\u7B2C\u4E09\u65B9\u63D2\u4EF6\u6309\u9700\u5F15\u5165</li><li><code>SSR</code>\u670D\u52A1\u7AEF\u6E32\u67D3\uFF0C\u9996\u5C4F\u52A0\u8F7D\u901F\u5EA6\u5FEB\uFF0C<code>SEO</code>\u6548\u679C\u597D</li></ul><p><strong>Webpack \u5C42\u9762\u4F18\u5316\uFF1A</strong></p><ul><li>\u5BF9\u56FE\u7247\u8FDB\u884C\u538B\u7F29</li><li>\u4F7F\u7528 <code>CommonsChunkPlugin</code> \u63D2\u4EF6\u63D0\u53D6\u516C\u5171\u4EE3\u7801</li><li>\u63D0\u53D6\u7EC4\u4EF6\u7684 CSS</li><li>\u4F18\u5316 <code>SourceMap</code></li><li>\u6784\u5EFA\u7ED3\u679C\u8F93\u51FA\u5206\u6790\uFF0C\u5229\u7528 <code>webpack-bundle-analyzer</code> \u53EF\u89C6\u5316\u5206\u6790\u5DE5\u5177</li></ul>",4),EV={id:"_46-nexttick",tabindex:"-1"},fV=n("a",{class:"header-anchor",href:"#_46-nexttick","aria-hidden":"true"},"#",-1),vV=s(),wV={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_46-nexttick",target:"_blank",rel:"noopener noreferrer"},yV=s("#"),xV=s("46 nextTick"),AV=t('<blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>nextTick` \u53EF\u4EE5\u8BA9\u6211\u4EEC\u5728\u4E0B\u6B21 `DOM` \u66F4\u65B0\u5FAA\u73AF\u7ED3\u675F\u4E4B\u540E\u6267\u884C\u5EF6\u8FDF\u56DE\u8C03\uFF0C\u7528\u4E8E\u83B7\u5F97\u66F4\u65B0\u540E\u7684 `DOM\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><p><code>nextTick</code>\u4E3B\u8981\u4F7F\u7528\u4E86\u5B8F\u4EFB\u52A1\u548C\u5FAE\u4EFB\u52A1\u3002\u6839\u636E\u6267\u884C\u73AF\u5883\u5206\u522B\u5C1D\u8BD5\u91C7\u7528</p><ul><li><code>Promise</code></li><li><code>MutationObserver</code></li><li><code>setImmediate</code></li><li>\u5982\u679C\u4EE5\u4E0A\u90FD\u4E0D\u884C\u5219\u91C7\u7528<code>setTimeout</code></li></ul><blockquote><p>\u5B9A\u4E49\u4E86\u4E00\u4E2A\u5F02\u6B65\u65B9\u6CD5\uFF0C\u591A\u6B21\u8C03\u7528<code>nextTick</code>\u4F1A\u5C06\u65B9\u6CD5\u5B58\u5165\u961F\u5217\u4E2D\uFF0C\u901A\u8FC7\u8FD9\u4E2A\u5F02\u6B65\u65B9\u6CD5\u6E05\u7A7A\u5F53\u524D\u961F\u5217</p></blockquote>',4),BV={id:"_47-\u8BF4\u4E00\u4E0Bvue2-x\u4E2D\u5982\u4F55\u76D1\u6D4B\u6570\u7EC4\u53D8\u5316",tabindex:"-1"},qV=n("a",{class:"header-anchor",href:"#_47-\u8BF4\u4E00\u4E0Bvue2-x\u4E2D\u5982\u4F55\u76D1\u6D4B\u6570\u7EC4\u53D8\u5316","aria-hidden":"true"},"#",-1),jV=s(),SV={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_47-%E8%AF%B4%E4%B8%80%E4%B8%8Bvue2-x%E4%B8%AD%E5%A6%82%E4%BD%95%E7%9B%91%E6%B5%8B%E6%95%B0%E7%BB%84%E5%8F%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},CV=s("#"),DV=s("47 \u8BF4\u4E00\u4E0Bvue2.x\u4E2D\u5982\u4F55\u76D1\u6D4B\u6570\u7EC4\u53D8\u5316"),FV=n("blockquote",null,[n("p",null,[s("\u4F7F\u7528\u4E86\u51FD\u6570\u52AB\u6301\u7684\u65B9\u5F0F\uFF0C\u91CD\u5199\u4E86\u6570\u7EC4\u7684\u65B9\u6CD5\uFF0C"),n("code",null,"Vue"),s("\u5C06"),n("code",null,"data"),s("\u4E2D\u7684\u6570\u7EC4\u8FDB\u884C\u4E86\u539F\u578B\u94FE\u91CD\u5199\uFF0C\u6307\u5411\u4E86\u81EA\u5DF1\u5B9A\u4E49\u7684\u6570\u7EC4\u539F\u578B\u65B9\u6CD5\u3002\u8FD9\u6837\u5F53\u8C03\u7528\u6570\u7EC4api\u65F6\uFF0C\u53EF\u4EE5\u901A\u77E5\u4F9D\u8D56\u66F4\u65B0\u3002\u5982\u679C\u6570\u7EC4\u4E2D\u5305\u542B\u7740\u5F15\u7528\u7C7B\u578B\uFF0C\u4F1A\u5BF9\u6570\u7EC4\u4E2D\u7684\u5F15\u7528\u7C7B\u578B\u518D\u6B21\u9012\u5F52\u904D\u5386\u8FDB\u884C\u76D1\u63A7\u3002\u8FD9\u6837\u5C31\u5B9E\u73B0\u4E86\u76D1\u6D4B\u6570\u7EC4\u53D8\u5316\u3002")])],-1),PV={id:"_48-\u4F60\u7684\u63A5\u53E3\u8BF7\u6C42\u4E00\u822C\u653E\u5728\u54EA\u4E2A\u751F\u547D\u5468\u671F\u4E2D",tabindex:"-1"},TV=n("a",{class:"header-anchor",href:"#_48-\u4F60\u7684\u63A5\u53E3\u8BF7\u6C42\u4E00\u822C\u653E\u5728\u54EA\u4E2A\u751F\u547D\u5468\u671F\u4E2D","aria-hidden":"true"},"#",-1),NV=s(),MV={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_48-%E4%BD%A0%E7%9A%84%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82%E4%B8%80%E8%88%AC%E6%94%BE%E5%9C%A8%E5%93%AA%E4%B8%AA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%B8%AD",target:"_blank",rel:"noopener noreferrer"},OV=s("#"),IV=s("48 \u4F60\u7684\u63A5\u53E3\u8BF7\u6C42\u4E00\u822C\u653E\u5728\u54EA\u4E2A\u751F\u547D\u5468\u671F\u4E2D"),RV=n("blockquote",null,[n("p",null,[s("\u63A5\u53E3\u8BF7\u6C42\u4E00\u822C\u653E\u5728"),n("code",null,"mounted"),s("\u4E2D\uFF0C\u4F46\u9700\u8981\u6CE8\u610F\u7684\u662F\u670D\u52A1\u7AEF\u6E32\u67D3\u65F6\u4E0D\u652F\u6301"),n("code",null,"mounted"),s("\uFF0C\u9700\u8981\u653E\u5230"),n("code",null,"created"),s("\u4E2D")])],-1),VV={id:"_49-\u7EC4\u4EF6\u4E2D\u7684data\u4E3A\u4EC0\u4E48\u662F\u4E00\u4E2A\u51FD\u6570",tabindex:"-1"},HV=n("a",{class:"header-anchor",href:"#_49-\u7EC4\u4EF6\u4E2D\u7684data\u4E3A\u4EC0\u4E48\u662F\u4E00\u4E2A\u51FD\u6570","aria-hidden":"true"},"#",-1),LV=s(),UV={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_49-%E7%BB%84%E4%BB%B6%E4%B8%AD%E7%9A%84data%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},JV=s("#"),WV=s("49 \u7EC4\u4EF6\u4E2D\u7684data\u4E3A\u4EC0\u4E48\u662F\u4E00\u4E2A\u51FD\u6570"),zV=n("blockquote",null,[n("p",null,[s("\u4E00\u4E2A\u7EC4\u4EF6\u88AB\u590D\u7528\u591A\u6B21\u7684\u8BDD\uFF0C\u4E5F\u5C31\u4F1A\u521B\u5EFA\u591A\u4E2A\u5B9E\u4F8B\u3002\u672C\u8D28\u4E0A\uFF0C\u8FD9\u4E9B\u5B9E\u4F8B\u7528\u7684\u90FD\u662F\u540C\u4E00\u4E2A\u6784\u9020\u51FD\u6570\u3002\u5982\u679C"),n("code",null,"data"),s("\u662F\u5BF9\u8C61\u7684\u8BDD\uFF0C\u5BF9\u8C61\u5C5E\u4E8E\u5F15\u7528\u7C7B\u578B\uFF0C\u4F1A\u5F71\u54CD\u5230\u6240\u6709\u7684\u5B9E\u4F8B\u3002\u6240\u4EE5\u4E3A\u4E86\u4FDD\u8BC1\u7EC4\u4EF6\u4E0D\u540C\u7684\u5B9E\u4F8B\u4E4B\u95F4d"),n("code",null,"ata"),s("\u4E0D\u51B2\u7A81\uFF0Cdata\u5FC5\u987B\u662F\u4E00\u4E2A\u51FD\u6570")])],-1),GV={id:"_50-\u8BF4\u4E00\u4E0Bv-model\u7684\u539F\u7406",tabindex:"-1"},$V=n("a",{class:"header-anchor",href:"#_50-\u8BF4\u4E00\u4E0Bv-model\u7684\u539F\u7406","aria-hidden":"true"},"#",-1),XV=s(),KV={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_50-%E8%AF%B4%E4%B8%80%E4%B8%8Bv-model%E7%9A%84%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},QV=s("#"),YV=s("50 \u8BF4\u4E00\u4E0Bv-model\u7684\u539F\u7406"),ZV=t(`<blockquote><p><code>v-model</code>\u672C\u8D28\u5C31\u662F\u4E00\u4E2A\u8BED\u6CD5\u7CD6\uFF0C\u53EF\u4EE5\u770B\u6210\u662F<code>value + input</code>\u65B9\u6CD5\u7684\u8BED\u6CD5\u7CD6\u3002 \u53EF\u4EE5\u901A\u8FC7<code>model</code>\u5C5E\u6027\u7684<code>prop</code>\u548C<code>event</code>\u5C5E\u6027\u6765\u8FDB\u884C\u81EA\u5B9A\u4E49\u3002\u539F\u751F\u7684<code>v-model</code>\uFF0C\u4F1A\u6839\u636E\u6807\u7B7E\u7684\u4E0D\u540C\u751F\u6210\u4E0D\u540C\u7684\u4E8B\u4EF6\u548C\u5C5E\u6027</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>searchData<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7B49\u4EF7\u4E8E</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> 
	<span class="token attr-name"><span class="token namespace">v-bind:</span>value</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&#39;</span>searchData<span class="token punctuation">&#39;</span></span>
	<span class="token attr-name"><span class="token namespace">v-on:</span>input</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&#39;</span>searchData = $event.target.value<span class="token punctuation">&#39;</span></span>
<span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u5F53\u5728input\u5143\u7D20\u4E2D\u4F7F\u7528<code>v-model</code>\u5B9E\u73B0\u53CC\u6570\u636E\u7ED1\u5B9A\uFF0C\u5176\u5B9E\u5C31\u662F\u5728\u8F93\u5165\u7684\u65F6\u5019\u89E6\u53D1\u5143\u7D20\u7684input\u4E8B\u4EF6\uFF0C\u901A\u8FC7\u8FD9\u4E2A\u8BED\u6CD5\u7CD6\uFF0C\u5B9E\u73B0\u4E86\u6570\u636E\u7684\u53CC\u5411\u7ED1\u5B9A\u3002</p>`,5),nH={id:"_51-vue\u4E8B\u4EF6\u7ED1\u5B9A\u539F\u7406\u8BF4\u4E00\u4E0B",tabindex:"-1"},sH=n("a",{class:"header-anchor",href:"#_51-vue\u4E8B\u4EF6\u7ED1\u5B9A\u539F\u7406\u8BF4\u4E00\u4E0B","aria-hidden":"true"},"#",-1),aH=s(),eH={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_51-vue%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A%E5%8E%9F%E7%90%86%E8%AF%B4%E4%B8%80%E4%B8%8B",target:"_blank",rel:"noopener noreferrer"},tH=s("#"),pH=s("51 Vue\u4E8B\u4EF6\u7ED1\u5B9A\u539F\u7406\u8BF4\u4E00\u4E0B"),oH=n("blockquote",null,[n("p",null,[s("\u539F\u751F\u4E8B\u4EF6\u7ED1\u5B9A\u662F\u901A\u8FC7"),n("code",null,"addEventListener"),s("\u7ED1\u5B9A\u7ED9\u771F\u5B9E\u5143\u7D20\u7684\uFF0C\u7EC4\u4EF6\u4E8B\u4EF6\u7ED1\u5B9A\u662F\u901A\u8FC7"),n("code",null,"Vue"),s("\u81EA\u5B9A\u4E49\u7684"),n("code",null,"$on"),s("\u5B9E\u73B0\u7684")])],-1),cH={id:"_52-vue\u6A21\u7248\u7F16\u8BD1\u539F\u7406\u77E5\u9053\u5417-\u80FD\u7B80\u5355\u8BF4\u4E00\u4E0B\u5417",tabindex:"-1"},lH=n("a",{class:"header-anchor",href:"#_52-vue\u6A21\u7248\u7F16\u8BD1\u539F\u7406\u77E5\u9053\u5417-\u80FD\u7B80\u5355\u8BF4\u4E00\u4E0B\u5417","aria-hidden":"true"},"#",-1),rH=s(),iH={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_52-vue%E6%A8%A1%E7%89%88%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E7%9F%A5%E9%81%93%E5%90%97-%E8%83%BD%E7%AE%80%E5%8D%95%E8%AF%B4%E4%B8%80%E4%B8%8B%E5%90%97",target:"_blank",rel:"noopener noreferrer"},uH=s("#"),kH=s("52 Vue\u6A21\u7248\u7F16\u8BD1\u539F\u7406\u77E5\u9053\u5417\uFF0C\u80FD\u7B80\u5355\u8BF4\u4E00\u4E0B\u5417\uFF1F"),dH=t("<blockquote><p>\u7B80\u5355\u8BF4\uFF0C<code>Vue</code>\u7684\u7F16\u8BD1\u8FC7\u7A0B\u5C31\u662F\u5C06<code>template</code>\u8F6C\u5316\u4E3A<code>render</code>\u51FD\u6570\u7684\u8FC7\u7A0B\u3002\u4F1A\u7ECF\u5386\u4EE5\u4E0B\u9636\u6BB5\uFF1A</p></blockquote><ul><li>\u751F\u6210<code>AST</code>\u6811</li><li>\u4F18\u5316</li><li><code>codegen</code></li><li>\u9996\u5148\u89E3\u6790\u6A21\u7248\uFF0C\u751F\u6210<code>AST</code>\u8BED\u6CD5\u6811(\u4E00\u79CD\u7528J<code>avaScript</code>\u5BF9\u8C61\u7684\u5F62\u5F0F\u6765\u63CF\u8FF0\u6574\u4E2A\u6A21\u677F)\u3002 \u4F7F\u7528\u5927\u91CF\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u5BF9\u6A21\u677F\u8FDB\u884C\u89E3\u6790\uFF0C\u9047\u5230\u6807\u7B7E\u3001\u6587\u672C\u7684\u65F6\u5019\u90FD\u4F1A\u6267\u884C\u5BF9\u5E94\u7684\u94A9\u5B50\u8FDB\u884C\u76F8\u5173\u5904\u7406\u3002</li><li><code>Vue</code>\u7684\u6570\u636E\u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u4F46\u5176\u5B9E\u6A21\u677F\u4E2D\u5E76\u4E0D\u662F\u6240\u6709\u7684\u6570\u636E\u90FD\u662F\u54CD\u5E94\u5F0F\u7684\u3002\u6709\u4E00\u4E9B\u6570\u636E\u9996\u6B21\u6E32\u67D3\u540E\u5C31\u4E0D\u4F1A\u518D\u53D8\u5316\uFF0C\u5BF9\u5E94\u7684DOM\u4E5F\u4E0D\u4F1A\u53D8\u5316\u3002\u90A3\u4E48\u4F18\u5316\u8FC7\u7A0B\u5C31\u662F\u6DF1\u5EA6\u904D\u5386AST\u6811\uFF0C\u6309\u7167\u76F8\u5173\u6761\u4EF6\u5BF9\u6811\u8282\u70B9\u8FDB\u884C\u6807\u8BB0\u3002\u8FD9\u4E9B\u88AB\u6807\u8BB0\u7684\u8282\u70B9(\u9759\u6001\u8282\u70B9)\u6211\u4EEC\u5C31\u53EF\u4EE5\u8DF3\u8FC7\u5BF9\u5B83\u4EEC\u7684\u6BD4\u5BF9\uFF0C\u5BF9\u8FD0\u884C\u65F6\u7684\u6A21\u677F\u8D77\u5230\u5F88\u5927\u7684\u4F18\u5316\u4F5C\u7528\u3002</li><li>\u7F16\u8BD1\u7684\u6700\u540E\u4E00\u6B65\u662F\u5C06\u4F18\u5316\u540E\u7684<code>AST</code>\u6811\u8F6C\u6362\u4E3A\u53EF\u6267\u884C\u7684\u4EE3\u7801</li></ul>",2),bH={id:"_53-vue2-x\u548Cvue3-x\u6E32\u67D3\u5668\u7684diff\u7B97\u6CD5\u5206\u522B\u8BF4\u4E00\u4E0B",tabindex:"-1"},mH=n("a",{class:"header-anchor",href:"#_53-vue2-x\u548Cvue3-x\u6E32\u67D3\u5668\u7684diff\u7B97\u6CD5\u5206\u522B\u8BF4\u4E00\u4E0B","aria-hidden":"true"},"#",-1),hH=s(),_H={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_53-vue2-x%E5%92%8Cvue3-x%E6%B8%B2%E6%9F%93%E5%99%A8%E7%9A%84diff%E7%AE%97%E6%B3%95%E5%88%86%E5%88%AB%E8%AF%B4%E4%B8%80%E4%B8%8B",target:"_blank",rel:"noopener noreferrer"},gH=s("#"),EH=s("53 Vue2.x\u548CVue3.x\u6E32\u67D3\u5668\u7684diff\u7B97\u6CD5\u5206\u522B\u8BF4\u4E00\u4E0B"),fH=t("<blockquote><p>\u7B80\u5355\u6765\u8BF4\uFF0C<code>diff</code>\u7B97\u6CD5\u6709\u4EE5\u4E0B\u8FC7\u7A0B</p></blockquote><ul><li>\u540C\u7EA7\u6BD4\u8F83\uFF0C\u518D\u6BD4\u8F83\u5B50\u8282\u70B9</li><li>\u5148\u5224\u65AD\u4E00\u65B9\u6709\u5B50\u8282\u70B9\u4E00\u65B9\u6CA1\u6709\u5B50\u8282\u70B9\u7684\u60C5\u51B5(\u5982\u679C\u65B0\u7684<code>children</code>\u6CA1\u6709\u5B50\u8282\u70B9\uFF0C\u5C06\u65E7\u7684\u5B50\u8282\u70B9\u79FB\u9664)</li><li>\u6BD4\u8F83\u90FD\u6709\u5B50\u8282\u70B9\u7684\u60C5\u51B5(\u6838\u5FC3<code>diff</code>)</li><li>\u9012\u5F52\u6BD4\u8F83\u5B50\u8282\u70B9</li><li>\u6B63\u5E38<code>Diff</code>\u4E24\u4E2A\u6811\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u662F<code>O(n^3)</code>\uFF0C\u4F46\u5B9E\u9645\u60C5\u51B5\u4E0B\u6211\u4EEC\u5F88\u5C11\u4F1A\u8FDB\u884C\u8DE8\u5C42\u7EA7\u7684\u79FB\u52A8<code>DOM</code>\uFF0C\u6240\u4EE5<code>Vue</code>\u5C06<code>Diff</code>\u8FDB\u884C\u4E86\u4F18\u5316\uFF0C\u4ECE<code>O(n^3) -&gt; O(n)</code>\uFF0C\u53EA\u6709\u5F53\u65B0\u65E7<code>children</code>\u90FD\u4E3A\u591A\u4E2A\u5B50\u8282\u70B9\u65F6\u624D\u9700\u8981\u7528\u6838\u5FC3\u7684<code>Diff</code>\u7B97\u6CD5\u8FDB\u884C\u540C\u5C42\u7EA7\u6BD4\u8F83\u3002</li><li><code>Vue2</code>\u7684\u6838\u5FC3<code>Diff</code>\u7B97\u6CD5\u91C7\u7528\u4E86\u53CC\u7AEF\u6BD4\u8F83\u7684\u7B97\u6CD5\uFF0C\u540C\u65F6\u4ECE\u65B0\u65E7<code>children</code>\u7684\u4E24\u7AEF\u5F00\u59CB\u8FDB\u884C\u6BD4\u8F83\uFF0C\u501F\u52A9<code>key</code>\u503C\u627E\u5230\u53EF\u590D\u7528\u7684\u8282\u70B9\uFF0C\u518D\u8FDB\u884C\u76F8\u5173\u64CD\u4F5C\u3002\u76F8\u6BD4<code>React</code>\u7684<code>Diff</code>\u7B97\u6CD5\uFF0C\u540C\u6837\u60C5\u51B5\u4E0B\u53EF\u4EE5\u51CF\u5C11\u79FB\u52A8\u8282\u70B9\u6B21\u6570\uFF0C\u51CF\u5C11\u4E0D\u5FC5\u8981\u7684\u6027\u80FD\u635F\u8017\uFF0C\u66F4\u52A0\u7684\u4F18\u96C5</li><li>\u5728\u521B\u5EFA<code>VNode</code>\u65F6\u5C31\u786E\u5B9A\u5176\u7C7B\u578B\uFF0C\u4EE5\u53CA\u5728<code>mount/patch</code>\u7684\u8FC7\u7A0B\u4E2D\u91C7\u7528\u4F4D\u8FD0\u7B97\u6765\u5224\u65AD\u4E00\u4E2A<code>VNode</code>\u7684\u7C7B\u578B\uFF0C\u5728\u8FD9\u4E2A\u57FA\u7840\u4E4B\u4E0A\u518D\u914D\u5408\u6838\u5FC3\u7684<code>Diff</code>\u7B97\u6CD5\uFF0C\u4F7F\u5F97\u6027\u80FD\u4E0A\u8F83<code>Vue2.x</code>\u6709\u4E86\u63D0\u5347</li></ul>",2),vH={id:"_54-\u518D\u8BF4\u4E00\u4E0B\u865A\u62DFdom\u4EE5\u53CAkey\u5C5E\u6027\u7684\u4F5C\u7528",tabindex:"-1"},wH=n("a",{class:"header-anchor",href:"#_54-\u518D\u8BF4\u4E00\u4E0B\u865A\u62DFdom\u4EE5\u53CAkey\u5C5E\u6027\u7684\u4F5C\u7528","aria-hidden":"true"},"#",-1),yH=s(),xH={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_54-%E5%86%8D%E8%AF%B4%E4%B8%80%E4%B8%8B%E8%99%9A%E6%8B%9Fdom%E4%BB%A5%E5%8F%8Akey%E5%B1%9E%E6%80%A7%E7%9A%84%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},AH=s("#"),BH=s("54 \u518D\u8BF4\u4E00\u4E0B\u865A\u62DFDom\u4EE5\u53CAkey\u5C5E\u6027\u7684\u4F5C\u7528"),qH=t("<ul><li>\u7531\u4E8E\u5728\u6D4F\u89C8\u5668\u4E2D\u64CD\u4F5C<code>DOM</code>\u662F\u5F88\u6602\u8D35\u7684\u3002\u9891\u7E41\u7684\u64CD\u4F5C<code>DOM</code>\uFF0C\u4F1A\u4EA7\u751F\u4E00\u5B9A\u7684\u6027\u80FD\u95EE\u9898\u3002\u8FD9\u5C31\u662F\u865A\u62DFDom\u7684\u4EA7\u751F\u539F\u56E0</li><li><code>Virtual DOM</code>\u672C\u8D28\u5C31\u662F\u7528\u4E00\u4E2A\u539F\u751F\u7684JS\u5BF9\u8C61\u53BB\u63CF\u8FF0\u4E00\u4E2A<code>DOM</code>\u8282\u70B9\u3002\u662F\u5BF9\u771F\u5B9EDOM\u7684\u4E00\u5C42\u62BD\u8C61</li><li><code>VirtualDOM</code>\u6620\u5C04\u5230\u771F\u5B9EDOM\u8981\u7ECF\u5386<code>VNode</code>\u7684<code>create</code>\u3001<code>diff</code>\u3001<code>patch</code>\u7B49\u9636\u6BB5</li></ul><p><strong>key\u7684\u4F5C\u7528\u662F\u5C3D\u53EF\u80FD\u7684\u590D\u7528 DOM \u5143\u7D20</strong></p><ul><li>\u65B0\u65E7 <code>children</code> \u4E2D\u7684\u8282\u70B9\u53EA\u6709\u987A\u5E8F\u662F\u4E0D\u540C\u7684\u65F6\u5019\uFF0C\u6700\u4F73\u7684\u64CD\u4F5C\u5E94\u8BE5\u662F\u901A\u8FC7\u79FB\u52A8\u5143\u7D20\u7684\u4F4D\u7F6E\u6765\u8FBE\u5230\u66F4\u65B0\u7684\u76EE\u7684</li><li>\u9700\u8981\u5728\u65B0\u65E7 <code>children</code> \u7684\u8282\u70B9\u4E2D\u4FDD\u5B58\u6620\u5C04\u5173\u7CFB\uFF0C\u4EE5\u4FBF\u80FD\u591F\u5728\u65E7 <code>children</code> \u7684\u8282\u70B9\u4E2D\u627E\u5230\u53EF\u590D\u7528\u7684\u8282\u70B9\u3002<code>key</code>\u4E5F\u5C31\u662F<code>children</code>\u4E2D\u8282\u70B9\u7684\u552F\u4E00\u6807\u8BC6</li></ul>",3),jH={id:"_55-vue\u4E2D\u7EC4\u4EF6\u751F\u547D\u5468\u671F\u8C03\u7528\u987A\u5E8F\u8BF4\u4E00\u4E0B",tabindex:"-1"},SH=n("a",{class:"header-anchor",href:"#_55-vue\u4E2D\u7EC4\u4EF6\u751F\u547D\u5468\u671F\u8C03\u7528\u987A\u5E8F\u8BF4\u4E00\u4E0B","aria-hidden":"true"},"#",-1),CH=s(),DH={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_55-vue%E4%B8%AD%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E8%B0%83%E7%94%A8%E9%A1%BA%E5%BA%8F%E8%AF%B4%E4%B8%80%E4%B8%8B",target:"_blank",rel:"noopener noreferrer"},FH=s("#"),PH=s("55 Vue\u4E2D\u7EC4\u4EF6\u751F\u547D\u5468\u671F\u8C03\u7528\u987A\u5E8F\u8BF4\u4E00\u4E0B"),TH=t('<ul><li>\u6E32\u67D3\u987A\u5E8F\uFF1A\u5148\u7236\u540E\u5B50\uFF0C\u5B8C\u6210\u987A\u5E8F\uFF1A\u5148\u5B50\u540E\u7236</li><li>\u66F4\u65B0\u987A\u5E8F\uFF1A\u7236\u66F4\u65B0\u5BFC\u81F4\u5B50\u66F4\u65B0\uFF0C\u5B50\u66F4\u65B0\u5B8C\u6210\u540E\u7236</li><li>\u9500\u6BC1\u987A\u5E8F\uFF1A\u5148\u7236\u540E\u5B50\uFF0C\u5B8C\u6210\u987A\u5E8F\uFF1A\u5148\u5B50\u540E\u7236</li></ul><p><strong>\u52A0\u8F7D\u6E32\u67D3\u8FC7\u7A0B</strong></p><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u7236beforeCreate`-&gt;`\u7236created`-&gt;`\u7236beforeMount`-&gt;`\u5B50beforeCreate`-&gt;`\u5B50created`-&gt;`\u5B50beforeMount`- &gt;`\u5B50mounted`-&gt;`\u7236mounted\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><p><strong>\u5B50\u7EC4\u4EF6\u66F4\u65B0\u8FC7\u7A0B</strong></p><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u7236beforeUpdate`-&gt;`\u5B50beforeUpdate`-&gt;`\u5B50updated`-&gt;`\u7236updated\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><p><strong>\u7236\u7EC4\u4EF6\u66F4\u65B0\u8FC7\u7A0B</strong></p><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u7236 beforeUpdate` -&gt; `\u7236 updated\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><p><strong>\u9500\u6BC1\u8FC7\u7A0B</strong></p><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u7236beforeDestroy`-&gt;`\u5B50beforeDestroy`-&gt;`\u5B50destroyed`-&gt;`\u7236destroyed\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote>',9),NH={id:"_56-ssr\u4E86\u89E3\u5417",tabindex:"-1"},MH=n("a",{class:"header-anchor",href:"#_56-ssr\u4E86\u89E3\u5417","aria-hidden":"true"},"#",-1),OH=s(),IH={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_56-ssr%E4%BA%86%E8%A7%A3%E5%90%97",target:"_blank",rel:"noopener noreferrer"},RH=s("#"),VH=s("56 SSR\u4E86\u89E3\u5417"),HH=t("<blockquote><p><code>SSR</code>\u4E5F\u5C31\u662F\u670D\u52A1\u7AEF\u6E32\u67D3\uFF0C\u4E5F\u5C31\u662F\u5C06<code>Vue</code>\u5728\u5BA2\u6237\u7AEF\u628A\u6807\u7B7E\u6E32\u67D3\u6210HTML\u7684\u5DE5\u4F5C\u653E\u5728\u670D\u52A1\u7AEF\u5B8C\u6210\uFF0C\u7136\u540E\u518D\u628Ahtml\u76F4\u63A5\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF</p></blockquote><p><code>SSR</code>\u6709\u7740\u66F4\u597D\u7684<code>SEO</code>\u3001\u5E76\u4E14\u9996\u5C4F\u52A0\u8F7D\u901F\u5EA6\u66F4\u5FEB\u7B49\u4F18\u70B9\u3002\u4E0D\u8FC7\u5B83\u4E5F\u6709\u4E00\u4E9B\u7F3A\u70B9\uFF0C\u6BD4\u5982\u6211\u4EEC\u7684\u5F00\u53D1\u6761\u4EF6\u4F1A\u53D7\u5230\u9650\u5236\uFF0C\u670D\u52A1\u5668\u7AEF\u6E32\u67D3\u53EA\u652F\u6301<code>beforeCreate</code>\u548C<code>created</code>\u4E24\u4E2A\u94A9\u5B50\uFF0C\u5F53\u6211\u4EEC\u9700\u8981\u4E00\u4E9B\u5916\u90E8\u6269\u5C55\u5E93\u65F6\u9700\u8981\u7279\u6B8A\u5904\u7406\uFF0C\u670D\u52A1\u7AEF\u6E32\u67D3\u5E94\u7528\u7A0B\u5E8F\u4E5F\u9700\u8981\u5904\u4E8E<code>Node.js</code>\u7684\u8FD0\u884C\u73AF\u5883\u3002\u8FD8\u6709\u5C31\u662F\u670D\u52A1\u5668\u4F1A\u6709\u66F4\u5927\u7684\u8D1F\u8F7D\u9700\u6C42</p>",2),LH={id:"_57-\u4F60\u90FD\u505A\u8FC7\u54EA\u4E9Bvue\u7684\u6027\u80FD\u4F18\u5316",tabindex:"-1"},UH=n("a",{class:"header-anchor",href:"#_57-\u4F60\u90FD\u505A\u8FC7\u54EA\u4E9Bvue\u7684\u6027\u80FD\u4F18\u5316","aria-hidden":"true"},"#",-1),JH=s(),WH={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_57-%E4%BD%A0%E9%83%BD%E5%81%9A%E8%BF%87%E5%93%AA%E4%BA%9Bvue%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},zH=s("#"),GH=s("57 \u4F60\u90FD\u505A\u8FC7\u54EA\u4E9BVue\u7684\u6027\u80FD\u4F18\u5316"),$H=t("<p><strong>\u7F16\u7801\u9636\u6BB5</strong></p><ul><li>\u5C3D\u91CF\u51CF\u5C11<code>data</code>\u4E2D\u7684\u6570\u636E\uFF0C<code>data</code>\u4E2D\u7684\u6570\u636E\u90FD\u4F1A\u589E\u52A0<code>getter</code>\u548C<code>setter</code>\uFF0C\u4F1A\u6536\u96C6\u5BF9\u5E94\u7684<code>watcher</code></li><li><code>v-if</code>\u548C<code>v-for</code>\u4E0D\u80FD\u8FDE\u7528</li><li>\u5982\u679C\u9700\u8981\u4F7F\u7528<code>v-for</code>\u7ED9\u6BCF\u9879\u5143\u7D20\u7ED1\u5B9A\u4E8B\u4EF6\u65F6\u4F7F\u7528\u4E8B\u4EF6\u4EE3\u7406</li><li><code>SPA</code> \u9875\u9762\u91C7\u7528<code>keep-alive</code>\u7F13\u5B58\u7EC4\u4EF6</li><li>\u5728\u66F4\u591A\u7684\u60C5\u51B5\u4E0B\uFF0C\u4F7F\u7528<code>v-if</code>\u66FF\u4EE3<code>v-show</code></li><li><code>key</code>\u4FDD\u8BC1\u552F\u4E00</li><li>\u4F7F\u7528\u8DEF\u7531\u61D2\u52A0\u8F7D\u3001\u5F02\u6B65\u7EC4\u4EF6</li><li>\u9632\u6296\u3001\u8282\u6D41</li><li>\u7B2C\u4E09\u65B9\u6A21\u5757\u6309\u9700\u5BFC\u5165</li><li>\u957F\u5217\u8868\u6EDA\u52A8\u5230\u53EF\u89C6\u533A\u57DF\u52A8\u6001\u52A0\u8F7D</li><li>\u56FE\u7247\u61D2\u52A0\u8F7D</li></ul><p><strong>SEO\u4F18\u5316</strong></p><ul><li>\u9884\u6E32\u67D3</li><li>\u670D\u52A1\u7AEF\u6E32\u67D3<code>SSR</code></li></ul><p><strong>\u6253\u5305\u4F18\u5316</strong></p><ul><li>\u538B\u7F29\u4EE3\u7801</li><li><code>Tree Shaking/Scope Hoisting</code></li><li>\u4F7F\u7528<code>cdn</code>\u52A0\u8F7D\u7B2C\u4E09\u65B9\u6A21\u5757</li><li>\u591A\u7EBF\u7A0B\u6253\u5305<code>happypack</code></li><li><code>splitChunks</code>\u62BD\u79BB\u516C\u5171\u6587\u4EF6</li><li><code>sourceMap</code>\u4F18\u5316</li></ul><p><strong>\u7528\u6237\u4F53\u9A8C</strong></p><ul><li>\u9AA8\u67B6\u5C4F</li><li><code>PWA</code></li></ul><blockquote><p>\u8FD8\u53EF\u4EE5\u4F7F\u7528\u7F13\u5B58(\u5BA2\u6237\u7AEF\u7F13\u5B58\u3001\u670D\u52A1\u7AEF\u7F13\u5B58)\u4F18\u5316\u3001\u670D\u52A1\u7AEF\u5F00\u542F<code>gzip</code>\u538B\u7F29\u7B49\u3002</p></blockquote>",9),XH={id:"_58-vue-js\u7279\u70B9",tabindex:"-1"},KH=n("a",{class:"header-anchor",href:"#_58-vue-js\u7279\u70B9","aria-hidden":"true"},"#",-1),QH=s(),YH={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_58-vue-js%E7%89%B9%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},ZH=s("#"),nL=s("58 Vue.js\u7279\u70B9"),sL=n("ul",null,[n("li",null,[s("\u7B80\u6D01\uFF1A\u9875\u9762\u7531"),n("code",null,"HTML"),s("\u6A21\u677F+Json\u6570\u636E+"),n("code",null,"Vue"),s("\u5B9E\u4F8B\u7EC4\u6210")]),n("li",null,"\u6570\u636E\u9A71\u52A8\uFF1A\u81EA\u52A8\u8BA1\u7B97\u5C5E\u6027\u548C\u8FFD\u8E2A\u4F9D\u8D56\u7684\u6A21\u677F\u8868\u8FBE\u5F0F"),n("li",null,"\u7EC4\u4EF6\u5316\uFF1A\u7528\u53EF\u590D\u7528\u3001\u89E3\u8026\u7684\u7EC4\u4EF6\u6765\u6784\u9020\u9875\u9762"),n("li",null,"\u8F7B\u91CF\uFF1A\u4EE3\u7801\u91CF\u5C0F\uFF0C\u4E0D\u4F9D\u8D56\u5176\u4ED6\u5E93"),n("li",null,"\u5FEB\u901F\uFF1A\u7CBE\u786E\u6709\u6548\u6279\u91CFDOM\u66F4\u65B0"),n("li",null,"\u6A21\u677F\u53CB\u597D\uFF1A\u53EF\u901A\u8FC7npm\uFF0Cbower\u7B49\u591A\u79CD\u65B9\u5F0F\u5B89\u88C5\uFF0C\u5F88\u5BB9\u6613\u878D\u5165")],-1),aL={id:"_59-\u8BF7\u8BF4\u51FAvue-cli\u9879\u76EE\u4E2Dsrc\u76EE\u5F55\u6BCF\u4E2A\u6587\u4EF6\u5939\u548C\u6587\u4EF6\u7684\u7528\u6CD5",tabindex:"-1"},eL=n("a",{class:"header-anchor",href:"#_59-\u8BF7\u8BF4\u51FAvue-cli\u9879\u76EE\u4E2Dsrc\u76EE\u5F55\u6BCF\u4E2A\u6587\u4EF6\u5939\u548C\u6587\u4EF6\u7684\u7528\u6CD5","aria-hidden":"true"},"#",-1),tL=s(),pL={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_59-%E8%AF%B7%E8%AF%B4%E5%87%BAvue-cli%E9%A1%B9%E7%9B%AE%E4%B8%ADsrc%E7%9B%AE%E5%BD%95%E6%AF%8F%E4%B8%AA%E6%96%87%E4%BB%B6%E5%A4%B9%E5%92%8C%E6%96%87%E4%BB%B6%E7%9A%84%E7%94%A8%E6%B3%95",target:"_blank",rel:"noopener noreferrer"},oL=s("#"),cL=s("59 \u8BF7\u8BF4\u51FAvue.cli\u9879\u76EE\u4E2Dsrc\u76EE\u5F55\u6BCF\u4E2A\u6587\u4EF6\u5939\u548C\u6587\u4EF6\u7684\u7528\u6CD5"),lL=t("<ul><li><code>assets</code>\u6587\u4EF6\u5939\u662F\u653E\u9759\u6001\u8D44\u6E90\uFF1B</li><li><code>components</code>\u662F\u653E\u7EC4\u4EF6\uFF1B</li><li><code>router</code>\u662F\u5B9A\u4E49\u8DEF\u7531\u76F8\u5173\u7684\u914D\u7F6E;</li><li><code>view</code>\u89C6\u56FE\uFF1B</li><li><code>app.vue</code>\u662F\u4E00\u4E2A\u5E94\u7528\u4E3B\u7EC4\u4EF6\uFF1B</li><li><code>main.js</code>\u662F\u5165\u53E3\u6587\u4EF6</li></ul>",1),rL={id:"_60-vue\u8DEF\u7531\u4F20\u53C2\u6570",tabindex:"-1"},iL=n("a",{class:"header-anchor",href:"#_60-vue\u8DEF\u7531\u4F20\u53C2\u6570","aria-hidden":"true"},"#",-1),uL=s(),kL={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_60-vue%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%8F%82%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},dL=s("#"),bL=s("60 vue\u8DEF\u7531\u4F20\u53C2\u6570"),mL=n("ul",null,[n("li",null,[s("\u4F7F\u7528"),n("code",null,"query"),s("\u65B9\u6CD5\u4F20\u5165\u7684\u53C2\u6570\u4F7F\u7528"),n("code",null,"this.$route.query"),s("\u63A5\u53D7")]),n("li",null,[s("\u4F7F\u7528"),n("code",null,"params"),s("\u65B9\u5F0F\u4F20\u5165\u7684\u53C2\u6570\u4F7F\u7528"),n("code",null,"this.$route.params"),s("\u63A5\u53D7")])],-1),hL={id:"_61-vuex-\u662F\u4EC0\u4E48-\u6709\u54EA\u51E0\u79CD\u5C5E\u6027",tabindex:"-1"},_L=n("a",{class:"header-anchor",href:"#_61-vuex-\u662F\u4EC0\u4E48-\u6709\u54EA\u51E0\u79CD\u5C5E\u6027","aria-hidden":"true"},"#",-1),gL=s(),EL={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_61-vuex-%E6%98%AF%E4%BB%80%E4%B9%88-%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E5%B1%9E%E6%80%A7",target:"_blank",rel:"noopener noreferrer"},fL=s("#"),vL=s("61 vuex \u662F\u4EC0\u4E48\uFF1F \u6709\u54EA\u51E0\u79CD\u5C5E\u6027\uFF1F"),wL=t("<blockquote><ul><li><code>Vuex</code> \u662F\u4E00\u4E2A\u4E13\u4E3A <code>Vue.js</code> \u5E94\u7528\u7A0B\u5E8F\u5F00\u53D1\u7684\u72B6\u6001\u7BA1\u7406\u6A21\u5F0F\u3002</li><li>\u6709 5 \u79CD\uFF0C\u5206\u522B\u662F <code>state</code>\u3001<code>getter</code>\u3001<code>mutation</code>\u3001<code>action</code>\u3001<code>module</code></li></ul></blockquote><ul><li><code>Vuex</code> \u662F\u4E00\u4E2A\u4E13\u4E3A <code>Vue.js</code> \u5E94\u7528\u7A0B\u5E8F\u5F00\u53D1\u7684\u72B6\u6001\u7BA1\u7406\u6A21\u5F0F\u3002</li><li>\u6709 5 \u79CD\uFF0C\u5206\u522B\u662F <code>state</code>\u3001<code>getter</code>\u3001<code>mutation</code>\u3001<code>action</code>\u3001<code>module</code></li><li><code>vuex</code> \u7684 <code>store</code> \u662F\u4EC0\u4E48\uFF1F</li><li><code>vuex</code> \u5C31\u662F\u4E00\u4E2A\u4ED3\u5E93\uFF0C\u4ED3\u5E93\u91CC\u653E\u4E86\u5F88\u591A\u5BF9\u8C61\u3002\u5176\u4E2D <code>state</code> \u5C31\u662F\u6570\u636E\u6E90\u5B58\u653E\u5730\uFF0C\u5BF9\u5E94\u4E8E\u4E00\u822C vue \u5BF9\u8C61\u91CC\u9762\u7684 <code>datastate</code> \u91CC\u9762\u5B58\u653E\u7684\u6570\u636E\u662F\u54CD\u5E94\u5F0F\u7684\uFF0C<code>vue</code> \u7EC4\u4EF6\u4ECE <code>store</code> \u8BFB\u53D6\u6570\u636E\uFF0C\u82E5\u662F <code>store</code> \u4E2D\u7684\u6570\u636E\u53D1\u751F\u6539\u53D8\uFF0C\u4F9D\u8D56\u8FD9\u76F8\u6570\u636E\u7684\u7EC4\u4EF6\u4E5F\u4F1A\u53D1\u751F\u66F4\u65B0\u5B83\u901A\u8FC7 <code>mapState</code> \u628A\u5168\u5C40\u7684 <code>state</code> \u548C <code>getters</code> \u6620\u5C04\u5230\u5F53\u524D\u7EC4\u4EF6\u7684 <code>computed</code> \u8BA1\u7B97\u5C5E\u6027</li></ul><p><strong>vuex \u7684 getter \u662F\u4EC0\u4E48\uFF1F</strong></p><ul><li><code>getter</code> \u53EF\u4EE5\u5BF9 <code>state</code> \u8FDB\u884C\u8BA1\u7B97\u64CD\u4F5C\uFF0C\u5B83\u5C31\u662F <code>store</code> \u7684\u8BA1\u7B97\u5C5E\u6027\u867D\u7136\u5728\u7EC4\u4EF6\u5185\u4E5F\u53EF\u4EE5\u505A\u8BA1\u7B97\u5C5E\u6027\uFF0C\u4F46\u662F <code>getters</code> \u53EF\u4EE5\u5728\u591A\u7ED9\u4EF6\u4E4B\u95F4\u590D\u7528\u5982\u679C\u4E00\u4E2A\u72B6\u6001\u53EA\u5728\u4E00\u4E2A\u7EC4\u4EF6\u5185\u4F7F\u7528\uFF0C\u662F\u53EF\u4EE5\u4E0D\u7528 <code>getters</code></li></ul><p><strong>vuex \u7684 mutation \u662F\u4EC0\u4E48\uFF1F</strong></p><ul><li>\u66F4\u6539<code>Vuex</code>\u7684<code>store</code>\u4E2D\u7684\u72B6\u6001\u7684\u552F\u4E00\u65B9\u6CD5\u662F\u63D0\u4EA4<code>mutation</code></li></ul><p><strong>vuex \u7684 action \u662F\u4EC0\u4E48\uFF1F</strong></p><ul><li><code>action</code> \u7C7B\u4F3C\u4E8E <code>muation</code>, \u4E0D\u540C\u5728\u4E8E\uFF1A<code>action</code> \u63D0\u4EA4\u7684\u662F <code>mutation</code>,\u800C\u4E0D\u662F\u76F4\u63A5\u53D8\u66F4\u72B6\u6001<code>action</code> \u53EF\u4EE5\u5305\u542B\u4EFB\u610F\u5F02\u6B65\u64CD\u4F5C</li><li><code>vue</code> \u4E2D <code>ajax</code> \u8BF7\u6C42\u4EE3\u7801\u5E94\u8BE5\u5199\u5728\u7EC4\u4EF6\u7684 <code>methods</code> \u4E2D\u8FD8\u662F <code>vuex</code> \u7684 <code>action</code> \u4E2D</li><li><code>vuex</code> \u7684 <code>module</code> \u662F\u4EC0\u4E48\uFF1F</li></ul><blockquote><p>\u9762\u5BF9\u590D\u6742\u7684\u5E94\u7528\u7A0B\u5E8F\uFF0C\u5F53\u7BA1\u7406\u7684\u72B6\u6001\u6BD4\u8F83\u591A\u65F6\uFF1B\u6211\u4EEC\u9700\u8981\u5C06<code>vuex</code>\u7684<code>store</code>\u5BF9\u8C61\u5206\u5272\u6210\u6A21\u5757(<code>modules</code>)\u3002</p></blockquote><blockquote><p>\u5982\u679C\u8BF7\u6C42\u6765\u7684\u6570\u636E\u4E0D\u662F\u8981\u88AB\u5176\u4ED6\u7EC4\u4EF6\u516C\u7528\uFF0C\u4EC5\u4EC5\u5728\u8BF7\u6C42\u7684\u7EC4\u4EF6\u5185\u4F7F\u7528\uFF0C\u5C31\u4E0D\u9700\u8981\u653E\u5165 <code>vuex</code> \u7684 <code>state</code> \u91CC\u5982\u679C\u88AB\u5176\u4ED6\u5730\u65B9\u590D\u7528\uFF0C\u8BF7\u5C06\u8BF7\u6C42\u653E\u5165 <code>action</code> \u91CC\uFF0C\u65B9\u4FBF\u590D\u7528\uFF0C\u5E76\u5305\u88C5\u6210 <code>promise</code> \u8FD4\u56DE</p></blockquote>",10),yL={id:"_62-\u5982\u4F55\u8BA9css\u53EA\u5728\u5F53\u524D\u7EC4\u4EF6\u4E2D\u8D77\u4F5C\u7528",tabindex:"-1"},xL=n("a",{class:"header-anchor",href:"#_62-\u5982\u4F55\u8BA9css\u53EA\u5728\u5F53\u524D\u7EC4\u4EF6\u4E2D\u8D77\u4F5C\u7528","aria-hidden":"true"},"#",-1),AL=s(),BL={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_62-%E5%A6%82%E4%BD%95%E8%AE%A9css%E5%8F%AA%E5%9C%A8%E5%BD%93%E5%89%8D%E7%BB%84%E4%BB%B6%E4%B8%AD%E8%B5%B7%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},qL=s("#"),jL=s("62 \u5982\u4F55\u8BA9CSS\u53EA\u5728\u5F53\u524D\u7EC4\u4EF6\u4E2D\u8D77\u4F5C\u7528\uFF1F"),SL=n("blockquote",null,[n("p",null,[s("\u5C06\u5F53\u524D\u7EC4\u4EF6\u7684"),n("code",null,"<style>"),s("\u4FEE\u6539\u4E3A"),n("code",null,"<style scoped>")])],-1),CL={id:"_63-delete\u548Cvue-delete\u5220\u9664\u6570\u7EC4\u7684\u533A\u522B",tabindex:"-1"},DL=n("a",{class:"header-anchor",href:"#_63-delete\u548Cvue-delete\u5220\u9664\u6570\u7EC4\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),FL=s(),PL={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_63-delete%E5%92%8Cvue-delete%E5%88%A0%E9%99%A4%E6%95%B0%E7%BB%84%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},TL=s("#"),NL=s("63 delete\u548CVue.delete\u5220\u9664\u6570\u7EC4\u7684\u533A\u522B\uFF1F"),ML=t(`<ul><li><code>delete</code>\u53EA\u662F\u88AB\u5220\u9664\u7684\u5143\u7D20\u53D8\u6210\u4E86 <code>empty/undefined</code> \u5176\u4ED6\u7684\u5143\u7D20\u7684\u952E\u503C\u8FD8\u662F\u4E0D\u53D8\u3002</li><li><code>Vue.delete</code>\u76F4\u63A5\u5220\u9664\u4E86\u6570\u7EC4 \u6539\u53D8\u4E86\u6570\u7EC4\u7684\u952E\u503C\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> b<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">delete</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment">//[empty,2,3,4]</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token keyword">delete</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>  <span class="token comment">//[2,3,4]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,2),OL={id:"_64-v-on\u53EF\u4EE5\u76D1\u542C\u591A\u4E2A\u65B9\u6CD5\u5417",tabindex:"-1"},IL=n("a",{class:"header-anchor",href:"#_64-v-on\u53EF\u4EE5\u76D1\u542C\u591A\u4E2A\u65B9\u6CD5\u5417","aria-hidden":"true"},"#",-1),RL=s(),VL={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_64-v-on%E5%8F%AF%E4%BB%A5%E7%9B%91%E5%90%AC%E5%A4%9A%E4%B8%AA%E6%96%B9%E6%B3%95%E5%90%97",target:"_blank",rel:"noopener noreferrer"},HL=s("#"),LL=s("64 v-on\u53EF\u4EE5\u76D1\u542C\u591A\u4E2A\u65B9\u6CD5\u5417\uFF1F"),UL=t(`<p>\u53EF\u4EE5</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onInput<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@focus</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onFocus<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@blur</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onBlur<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>v-on \u5E38\u7528\u4FEE\u9970\u7B26</strong></p><ul><li><code>.stop</code> \u8BE5\u4FEE\u9970\u7B26\u5C06\u963B\u6B62\u4E8B\u4EF6\u5411\u4E0A\u5192\u6CE1\u3002\u540C\u7406\u4E8E\u8C03\u7528 <code>event.stopPropagation()</code> \u65B9\u6CD5</li><li><code>.prevent</code> \u8BE5\u4FEE\u9970\u7B26\u4F1A\u963B\u6B62\u5F53\u524D\u4E8B\u4EF6\u7684\u9ED8\u8BA4\u884C\u4E3A\u3002\u540C\u7406\u4E8E\u8C03\u7528 <code>event.preventDefault()</code> \u65B9\u6CD5</li><li><code>.self</code> \u8BE5\u6307\u4EE4\u53EA\u5F53\u4E8B\u4EF6\u662F\u4ECE\u4E8B\u4EF6\u7ED1\u5B9A\u7684\u5143\u7D20\u672C\u8EAB\u89E6\u53D1\u65F6\u624D\u89E6\u53D1\u56DE\u8C03</li><li><code>.once</code> \u8BE5\u4FEE\u9970\u7B26\u8868\u793A\u7ED1\u5B9A\u7684\u4E8B\u4EF6\u53EA\u4F1A\u88AB\u89E6\u53D1\u4E00\u6B21</li></ul>`,4),JL={id:"_65-vue\u5B50\u7EC4\u4EF6\u8C03\u7528\u7236\u7EC4\u4EF6\u7684\u65B9\u6CD5",tabindex:"-1"},WL=n("a",{class:"header-anchor",href:"#_65-vue\u5B50\u7EC4\u4EF6\u8C03\u7528\u7236\u7EC4\u4EF6\u7684\u65B9\u6CD5","aria-hidden":"true"},"#",-1),zL=s(),GL={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_65-vue%E5%AD%90%E7%BB%84%E4%BB%B6%E8%B0%83%E7%94%A8%E7%88%B6%E7%BB%84%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95",target:"_blank",rel:"noopener noreferrer"},$L=s("#"),XL=s("65 Vue\u5B50\u7EC4\u4EF6\u8C03\u7528\u7236\u7EC4\u4EF6\u7684\u65B9\u6CD5"),KL=n("ul",null,[n("li",null,[s("\u7B2C\u4E00\u79CD\u65B9\u6CD5\u662F\u76F4\u63A5\u5728\u5B50\u7EC4\u4EF6\u4E2D\u901A\u8FC7"),n("code",null,"this.$parent.event"),s("\u6765\u8C03\u7528\u7236\u7EC4\u4EF6\u7684\u65B9\u6CD5")]),n("li",null,[s("\u7B2C\u4E8C\u79CD\u65B9\u6CD5\u662F\u5728\u5B50\u7EC4\u4EF6\u91CC\u7528"),n("code",null,"$emit"),s("\u5411\u7236\u7EC4\u4EF6\u89E6\u53D1\u4E00\u4E2A\u4E8B\u4EF6\uFF0C\u7236\u7EC4\u4EF6\u76D1\u542C\u8FD9\u4E2A\u4E8B\u4EF6\u5C31\u884C\u4E86\u3002")])],-1),QL={id:"_66-vue\u5982\u4F55\u517C\u5BB9ie\u7684\u95EE\u9898",tabindex:"-1"},YL=n("a",{class:"header-anchor",href:"#_66-vue\u5982\u4F55\u517C\u5BB9ie\u7684\u95EE\u9898","aria-hidden":"true"},"#",-1),ZL=s(),nU={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_66-vue%E5%A6%82%E4%BD%95%E5%85%BC%E5%AE%B9ie%E7%9A%84%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},sU=s("#"),aU=s("66 vue\u5982\u4F55\u517C\u5BB9ie\u7684\u95EE\u9898"),eU=n("blockquote",null,[n("p",null,"babel-polyfill\u63D2\u4EF6")],-1),tU={id:"_67-vue-\u6539\u53D8\u6570\u7EC4\u89E6\u53D1\u89C6\u56FE\u66F4\u65B0",tabindex:"-1"},pU=n("a",{class:"header-anchor",href:"#_67-vue-\u6539\u53D8\u6570\u7EC4\u89E6\u53D1\u89C6\u56FE\u66F4\u65B0","aria-hidden":"true"},"#",-1),oU=s(),cU={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_67-vue-%E6%94%B9%E5%8F%98%E6%95%B0%E7%BB%84%E8%A7%A6%E5%8F%91%E8%A7%86%E5%9B%BE%E6%9B%B4%E6%96%B0",target:"_blank",rel:"noopener noreferrer"},lU=s("#"),rU=s("67 Vue \u6539\u53D8\u6570\u7EC4\u89E6\u53D1\u89C6\u56FE\u66F4\u65B0"),iU=t(`<blockquote><p>\u4EE5\u4E0B\u65B9\u6CD5\u8C03\u7528\u4F1A\u6539\u53D8\u539F\u59CB\u6570\u7EC4\uFF1A<code>push()</code>, <code>pop()</code>, <code>shift()</code>, <code>unshift()</code>, <code>splice()</code>, <code>sort()</code>, <code>reverse()</code>,<code>Vue.set( target, key, value )</code></p></blockquote><ul><li><p>\u8C03\u7528\u65B9\u6CD5\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Vue.set( target, key, value )
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>target</code>\uFF1A\u8981\u66F4\u6539\u7684\u6570\u636E\u6E90(\u53EF\u4EE5\u662F\u5BF9\u8C61\u6216\u8005\u6570\u7EC4)</li><li><code>key</code>\uFF1A\u8981\u66F4\u6539\u7684\u5177\u4F53\u6570\u636E</li><li><code>value</code> \uFF1A\u91CD\u65B0\u8D4B\u7684\u503C</li></ul></li></ul>`,2),uU={id:"_68-dom-\u6E32\u67D3\u5728\u54EA\u4E2A\u5468\u671F\u4E2D\u5C31\u5DF2\u7ECF\u5B8C\u6210",tabindex:"-1"},kU=n("a",{class:"header-anchor",href:"#_68-dom-\u6E32\u67D3\u5728\u54EA\u4E2A\u5468\u671F\u4E2D\u5C31\u5DF2\u7ECF\u5B8C\u6210","aria-hidden":"true"},"#",-1),dU=s(),bU={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_68-dom-%E6%B8%B2%E6%9F%93%E5%9C%A8%E5%93%AA%E4%B8%AA%E5%91%A8%E6%9C%9F%E4%B8%AD%E5%B0%B1%E5%B7%B2%E7%BB%8F%E5%AE%8C%E6%88%90",target:"_blank",rel:"noopener noreferrer"},mU=s("#"),hU=s("68 DOM \u6E32\u67D3\u5728\u54EA\u4E2A\u5468\u671F\u4E2D\u5C31\u5DF2\u7ECF\u5B8C\u6210\uFF1F"),_U=t(`<blockquote><p>\u5728<code>mounted</code></p></blockquote><p>\u6CE8\u610F <code>mounted</code> \u4E0D\u4F1A\u627F\u8BFA\u6240\u6709\u7684\u5B50\u7EC4\u4EF6\u4E5F\u90FD\u4E00\u8D77\u88AB\u6302\u8F7D\u3002\u5982\u679C\u4F60\u5E0C\u671B\u7B49\u5230\u6574\u4E2A\u89C6\u56FE\u90FD\u6E32\u67D3\u5B8C\u6BD5\uFF0C\u53EF\u4EE5\u7528 <code>vm.$nextTick</code> \u66FF\u6362\u6389 <code>mounted</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function-variable function">mounted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Code that will run only after the</span>
    <span class="token comment">// entire view has been rendered</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,3),gU={id:"_69-\u7B80\u8FF0\u6BCF\u4E2A\u5468\u671F\u5177\u4F53\u9002\u5408\u54EA\u4E9B\u573A\u666F",tabindex:"-1"},EU=n("a",{class:"header-anchor",href:"#_69-\u7B80\u8FF0\u6BCF\u4E2A\u5468\u671F\u5177\u4F53\u9002\u5408\u54EA\u4E9B\u573A\u666F","aria-hidden":"true"},"#",-1),fU=s(),vU={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_69-%E7%AE%80%E8%BF%B0%E6%AF%8F%E4%B8%AA%E5%91%A8%E6%9C%9F%E5%85%B7%E4%BD%93%E9%80%82%E5%90%88%E5%93%AA%E4%BA%9B%E5%9C%BA%E6%99%AF",target:"_blank",rel:"noopener noreferrer"},wU=s("#"),yU=s("69 \u7B80\u8FF0\u6BCF\u4E2A\u5468\u671F\u5177\u4F53\u9002\u5408\u54EA\u4E9B\u573A\u666F"),xU=t("<ul><li><code>beforecreate</code> : \u53EF\u4EE5\u5728\u8FD9\u52A0\u4E2A<code>loading</code>\u4E8B\u4EF6\uFF0C\u5728\u52A0\u8F7D\u5B9E\u4F8B\u65F6\u89E6\u53D1</li><li><code>created</code> : \u521D\u59CB\u5316\u5B8C\u6210\u65F6\u7684\u4E8B\u4EF6\u5199\u5728\u8FD9\u91CC\uFF0C\u5982\u5728\u8FD9\u7ED3\u675F<code>loading</code>\u4E8B\u4EF6\uFF0C\u5F02\u6B65\u8BF7\u6C42\u4E5F\u9002\u5B9C\u5728\u8FD9\u91CC\u8C03\u7528</li><li><code>mounted</code> : \u6302\u8F7D\u5143\u7D20\uFF0C\u83B7\u53D6\u5230DOM\u8282\u70B9 <code>updated</code> : \u5982\u679C\u5BF9\u6570\u636E\u7EDF\u4E00\u5904\u7406\uFF0C\u5728\u8FD9\u91CC\u5199\u4E0A\u76F8\u5E94\u51FD\u6570</li><li><code>beforeDestroy</code> : \u53EF\u4EE5\u505A\u4E00\u4E2A\u786E\u8BA4\u505C\u6B62\u4E8B\u4EF6\u7684\u786E\u8BA4\u6846</li></ul><p><strong>\u7B2C\u4E00\u6B21\u52A0\u8F7D\u4F1A\u89E6\u53D1\u54EA\u51E0\u4E2A\u94A9\u5B50</strong></p><blockquote><p>\u4F1A\u89E6\u53D1<code>beforeCreate</code> , <code>created</code> ,<code>beforeMount</code> ,<code>mounted</code></p></blockquote>",3),AU={id:"_70-\u52A8\u6001\u7ED1\u5B9Aclass",tabindex:"-1"},BU=n("a",{class:"header-anchor",href:"#_70-\u52A8\u6001\u7ED1\u5B9Aclass","aria-hidden":"true"},"#",-1),qU=s(),jU={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_70-%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9Aclass",target:"_blank",rel:"noopener noreferrer"},SU=s("#"),CU=s("70 \u52A8\u6001\u7ED1\u5B9Aclass"),DU=t(`<blockquote><p><code>active</code> <code>classname</code>\uFF0C <code>isActive</code> \u53D8\u91CF</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: isActive }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,2),FU={id:"_71-vue3-0-\u662F\u5982\u4F55\u53D8\u5F97\u66F4\u5FEB\u7684",tabindex:"-1"},PU=n("a",{class:"header-anchor",href:"#_71-vue3-0-\u662F\u5982\u4F55\u53D8\u5F97\u66F4\u5FEB\u7684","aria-hidden":"true"},"#",-1),TU=s(),NU={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_71-vue3-0-%E6%98%AF%E5%A6%82%E4%BD%95%E5%8F%98%E5%BE%97%E6%9B%B4%E5%BF%AB%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},MU=s("#"),OU=s("71 Vue3.0 \u662F\u5982\u4F55\u53D8\u5F97\u66F4\u5FEB\u7684"),IU={id:"diff-\u65B9\u6CD5\u4F18\u5316",tabindex:"-1"},RU=n("a",{class:"header-anchor",href:"#diff-\u65B9\u6CD5\u4F18\u5316","aria-hidden":"true"},"#",-1),VU=s(),HU={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#diff-%E6%96%B9%E6%B3%95%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},LU=s("#"),UU=s("diff \u65B9\u6CD5\u4F18\u5316"),JU=n("ul",null,[n("li",null,[n("code",null,"Vue2.x"),s(" \u4E2D\u7684\u865A\u62DF dom \u662F\u8FDB\u884C\u5168\u91CF\u7684\u5BF9\u6BD4\u3002")]),n("li",null,[n("code",null,"Vue3.0"),s(" \u4E2D\u65B0\u589E\u4E86\u9759\u6001\u6807\u8BB0(PatchFlag):\u5728\u4E0E\u4E0A\u6B21\u865A\u62DF\u7ED3\u70B9\u8FDB\u884C\u5BF9\u6BD4\u7684\u65F6\u5019\uFF0C\u503C\u5BF9\u6BD4 \u5E26\u6709 patch flag \u7684\u8282\u70B9\uFF0C\u5E76\u4E14\u53EF\u4EE5\u901A\u8FC7 flag \u7684\u4FE1\u606F\u5F97\u77E5\u5F53\u524D\u8282\u70B9\u8981\u5BF9\u6BD4\u7684\u5177\u4F53\u5185\u5BB9\u5316")])],-1),WU={id:"hoiststatic-\u9759\u6001\u63D0\u5347",tabindex:"-1"},zU=n("a",{class:"header-anchor",href:"#hoiststatic-\u9759\u6001\u63D0\u5347","aria-hidden":"true"},"#",-1),GU=s(),$U={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#hoiststatic-%E9%9D%99%E6%80%81%E6%8F%90%E5%8D%87",target:"_blank",rel:"noopener noreferrer"},XU=s("#"),KU=s("hoistStatic \u9759\u6001\u63D0\u5347"),QU=n("ul",null,[n("li",null,[n("code",null,"Vue2.x"),s(" : \u65E0\u8BBA\u5143\u7D20\u662F\u5426\u53C2\u4E0E\u66F4\u65B0\uFF0C\u6BCF\u6B21\u90FD\u4F1A\u91CD\u65B0\u521B\u5EFA\u3002")]),n("li",null,[n("code",null,"Vue3.0"),s(" : \u5BF9\u4E0D\u53C2\u4E0E\u66F4\u65B0\u7684\u5143\u7D20\uFF0C\u53EA\u4F1A\u88AB\u521B\u5EFA\u4E00\u6B21\uFF0C\u4E4B\u540E\u4F1A\u5728\u6BCF\u6B21\u6E32\u67D3\u65F6\u5019\u88AB\u4E0D\u505C\u7684\u590D\u7528")])],-1),YU={id:"cachehandlers-\u4E8B\u4EF6\u4FA6\u542C\u5668\u7F13\u5B58",tabindex:"-1"},ZU=n("a",{class:"header-anchor",href:"#cachehandlers-\u4E8B\u4EF6\u4FA6\u542C\u5668\u7F13\u5B58","aria-hidden":"true"},"#",-1),nJ=s(),sJ={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#cachehandlers-%E4%BA%8B%E4%BB%B6%E4%BE%A6%E5%90%AC%E5%99%A8%E7%BC%93%E5%AD%98",target:"_blank",rel:"noopener noreferrer"},aJ=s("#"),eJ=s("cacheHandlers \u4E8B\u4EF6\u4FA6\u542C\u5668\u7F13\u5B58"),tJ=n("p",null,"\u9ED8\u8BA4\u60C5\u51B5\u4E0B onClick \u4F1A\u88AB\u89C6\u4E3A\u52A8\u6001\u7ED1\u5B9A\uFF0C\u6240\u4EE5\u6BCF\u6B21\u90FD\u4F1A\u53BB\u8FFD\u8E2A\u5B83\u7684\u53D8\u5316\u4F46\u662F\u56E0\u4E3A\u662F\u540C\u4E00 \u4E2A\u51FD\u6570\uFF0C\u6240\u4EE5\u6CA1\u6709\u8FFD\u8E2A\u53D8\u5316\uFF0C\u76F4\u63A5\u7F13\u5B58\u8D77\u6765\u590D\u7528\u5373\u53EF",-1),pJ={id:"_72-\u8BF4\u8BF4\u4F60\u5BF9-proxy-\u7684\u7406\u89E3",tabindex:"-1"},oJ=n("a",{class:"header-anchor",href:"#_72-\u8BF4\u8BF4\u4F60\u5BF9-proxy-\u7684\u7406\u89E3","aria-hidden":"true"},"#",-1),cJ=s(),lJ={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_72-%E8%AF%B4%E8%AF%B4%E4%BD%A0%E5%AF%B9-proxy-%E7%9A%84%E7%90%86%E8%A7%A3",target:"_blank",rel:"noopener noreferrer"},rJ=s("#"),iJ=s("72 \u8BF4\u8BF4\u4F60\u5BF9 proxy \u7684\u7406\u89E3"),uJ=n("p",null,"vue \u7684\u6570\u636E\u52AB\u6301\u6709\u4E24\u4E2A\u7F3A\u70B9",-1),kJ=n("ul",null,[n("li",null,"\u65E0\u6CD5\u76D1\u542C\u901A\u8FC7\u7D22\u5F15\u4FEE\u6539\u6570\u7EC4\u7684\u503C\u7684\u53D8\u5316"),n("li",null,"\u65E0\u6CD5\u76D1\u542C object \u4E5F\u5C31\u662F\u5BF9\u8C61\u7684\u503C\u7684\u53D8\u5316"),n("li",null,[s("\u6240\u4EE5 vue2.x \u4E2D\u624D\u4F1A\u6709"),n("code",null,"$set"),s(" \u5C5E\u6027\u7684\u5B58\u5728")]),n("li",null,[s("proxy \u662F es6 \u4E2D\u63A8\u51FA\u7684\u65B0 api\uFF0C\u53EF\u4EE5\u5F25\u8865\u4EE5\u4E0A\u4E24\u4E2A\u7F3A\u70B9\uFF0C\u6240\u4EE5 vue3.x \u7248\u672C\u7528 proxy \u66FF\u6362 "),n("code",null,"object.defineproperty"),s("\u3002")])],-1),dJ={id:"_73-\u751F\u547D\u5468\u671F\u8BE6\u89E3",tabindex:"-1"},bJ=n("a",{class:"header-anchor",href:"#_73-\u751F\u547D\u5468\u671F\u8BE6\u89E3","aria-hidden":"true"},"#",-1),mJ=s(),hJ={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_73-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E8%AF%A6%E8%A7%A3",target:"_blank",rel:"noopener noreferrer"},_J=s("#"),gJ=s("73 \u751F\u547D\u5468\u671F\u8BE6\u89E3"),EJ=t(`<p>*<strong>init*</strong></p><ul><li><p><code>initLifecycle/Event</code>\uFF0C\u5F80vm\u4E0A\u6302\u8F7D\u5404\u79CD\u5C5E\u6027</p></li><li><p><code>callHook: beforeCreated</code>: \u5B9E\u4F8B\u521A\u521B\u5EFA</p></li><li><p><code>initInjection/initState</code>: \u521D\u59CB\u5316\u6CE8\u5165\u548C <code>data</code> \u54CD\u5E94\u6027</p></li><li><p><code>created: \u521B\u5EFA\u5B8C\u6210\uFF0C\u5C5E\u6027\u5DF2\u7ECF\u7ED1\u5B9A\uFF0C \u4F46\u8FD8\u672A\u751F\u6210\u771F\u5B9E</code>dom\`</p></li><li><p>\u8FDB\u884C\u5143\u7D20\u7684\u6302\u8F7D\uFF1A <code>$el / vm.$mount()</code></p></li><li><p>\u662F\u5426\u6709</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>template
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>: \u89E3\u6790\u6210</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>render function
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>*.vue</code>\u6587\u4EF6: <code>vue-loader</code>\u4F1A\u5C06<code>&lt;template&gt;</code>\u7F16\u8BD1\u6210<code>render function</code></li></ul></li><li><p><code>beforeMount</code>: \u6A21\u677F\u7F16\u8BD1/\u6302\u8F7D\u4E4B\u524D</p></li><li><p>\u6267\u884C<code>render function</code>\uFF0C\u751F\u6210\u771F\u5B9E\u7684<code>dom</code>\uFF0C\u5E76\u66FF\u6362\u5230<code>dom tree</code>\u4E2D</p></li><li><p><code>mounted</code>: \u7EC4\u4EF6\u5DF2\u6302\u8F7D</p></li></ul><p><strong>update</strong></p><ul><li><p>\u6267\u884C<code>diff</code>\u7B97\u6CD5\uFF0C\u6BD4\u5BF9\u6539\u53D8\u662F\u5426\u9700\u8981\u89E6\u53D1<code>UI</code>\u66F4\u65B0</p></li><li><p><code>flushScheduleQueue</code></p></li><li><p><code>watcher.before</code>: \u89E6\u53D1<code>beforeUpdate</code>\u94A9\u5B50 - <code>watcher.run()</code>: \u6267\u884C<code>watcher</code>\u4E2D\u7684 <code>notify</code>\uFF0C\u901A\u77E5\u6240\u6709\u4F9D\u8D56\u9879\u66F4\u65B0UI</p></li><li><p>\u89E6\u53D1<code>updated</code>\u94A9\u5B50: \u7EC4\u4EF6\u5DF2\u66F4\u65B0</p></li><li><p><code>actived / deactivated(keep-alive)</code>: \u4E0D\u9500\u6BC1\uFF0C\u7F13\u5B58\uFF0C\u7EC4\u4EF6\u6FC0\u6D3B\u4E0E\u5931\u6D3B</p></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>destroy
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>beforeDestroy</code>: \u9500\u6BC1\u5F00\u59CB</li><li>\u9500\u6BC1\u81EA\u8EAB\u4E14\u9012\u5F52\u9500\u6BC1\u5B50\u7EC4\u4EF6\u4EE5\u53CA\u4E8B\u4EF6\u76D1\u542C <ul><li><code>remove()</code>: \u5220\u9664\u8282\u70B9</li><li><code>watcher.teardown()</code>: \u6E05\u7A7A\u4F9D\u8D56</li><li><code>vm.$off()</code>: \u89E3\u7ED1\u76D1\u542C</li></ul></li><li><code>destroyed</code>: \u5B8C\u6210\u540E\u89E6\u53D1\u94A9\u5B50</li></ul></li></ul><blockquote><p>\u4E0A\u9762\u662Fvue\u7684\u58F0\u660E\u5468\u671F\u7684\u7B80\u5355\u68B3\u7406\uFF0C\u63A5\u4E0B\u6765\u6211\u4EEC\u76F4\u63A5\u4EE5\u4EE3\u7801\u7684\u5F62\u5F0F\u6765\u5B8C\u6210vue\u7684\u521D\u59CB\u5316</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u521D\u59CB\u5316Vue\u5B9E\u4F8B</span>
<span class="token keyword">function</span> <span class="token function">_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	 <span class="token comment">// \u6302\u8F7D\u5C5E\u6027</span>
    <span class="token function">initLifeCycle</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span> 
    <span class="token comment">// \u521D\u59CB\u5316\u4E8B\u4EF6\u7CFB\u7EDF\uFF0C\u94A9\u5B50\u51FD\u6570\u7B49</span>
    <span class="token function">initEvent</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span> 
    <span class="token comment">// \u7F16\u8BD1slot\u3001vnode</span>
    <span class="token function">initRender</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span> 
    <span class="token comment">// \u89E6\u53D1\u94A9\u5B50</span>
    <span class="token function">callHook</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> <span class="token string">&#39;beforeCreate&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">// \u6DFB\u52A0inject\u529F\u80FD</span>
    <span class="token function">initInjection</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span>
    <span class="token comment">// \u5B8C\u6210\u6570\u636E\u54CD\u5E94\u6027 props/data/watch/computed/methods</span>
    <span class="token function">initState</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span>
    <span class="token comment">// \u6DFB\u52A0 provide \u529F\u80FD</span>
    <span class="token function">initProvide</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span>
    <span class="token comment">// \u89E6\u53D1\u94A9\u5B50</span>
    <span class="token function">callHook</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> <span class="token string">&#39;created&#39;</span><span class="token punctuation">)</span>
		
	 <span class="token comment">// \u6302\u8F7D\u8282\u70B9</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>el<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        vm<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>$options<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u6302\u8F7D\u8282\u70B9\u5B9E\u73B0</span>
<span class="token keyword">function</span> <span class="token function">mountComponent</span><span class="token punctuation">(</span><span class="token parameter">vm</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	 <span class="token comment">// \u83B7\u53D6 render function</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>render<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// template to render</span>
        <span class="token comment">// Vue.compile = compileToFunctions</span>
        <span class="token keyword">let</span> <span class="token punctuation">{</span> render <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">compileToFunctions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
        <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>render <span class="token operator">=</span> render
    <span class="token punctuation">}</span>
    <span class="token comment">// \u89E6\u53D1\u94A9\u5B50</span>
    <span class="token function">callHook</span><span class="token punctuation">(</span><span class="token string">&#39;beforeMounte&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">// \u521D\u59CB\u5316\u89C2\u5BDF\u8005</span>
    <span class="token comment">// render \u6E32\u67D3 vdom\uFF0C </span>
    vdom <span class="token operator">=</span> vm<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// update: \u6839\u636E diff \u51FA\u7684 patchs \u6302\u8F7D\u6210\u771F\u5B9E\u7684 dom </span>
    vm<span class="token punctuation">.</span><span class="token function">_update</span><span class="token punctuation">(</span>vdom<span class="token punctuation">)</span>
    <span class="token comment">// \u89E6\u53D1\u94A9\u5B50  </span>
    <span class="token function">callHook</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> <span class="token string">&#39;mounted&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u66F4\u65B0\u8282\u70B9\u5B9E\u73B0</span>
funtion <span class="token function">queueWatcher</span><span class="token punctuation">(</span><span class="token parameter">watcher</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">nextTick</span><span class="token punctuation">(</span>flushScheduleQueue<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u6E05\u7A7A\u961F\u5217</span>
<span class="token keyword">function</span> <span class="token function">flushScheduleQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	 <span class="token comment">// \u904D\u5386\u961F\u5217\u4E2D\u6240\u6709\u4FEE\u6539</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	    <span class="token comment">// beforeUpdate</span>
        watcher<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
         
        <span class="token comment">// \u4F9D\u8D56\u5C40\u90E8\u66F4\u65B0\u8282\u70B9</span>
        watcher<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
        <span class="token function">callHook</span><span class="token punctuation">(</span><span class="token string">&#39;updated&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u9500\u6BC1\u5B9E\u4F8B\u5B9E\u73B0</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$destory</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	 <span class="token comment">// \u89E6\u53D1\u94A9\u5B50</span>
    <span class="token function">callHook</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> <span class="token string">&#39;beforeDestory&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">// \u81EA\u8EAB\u53CA\u5B50\u8282\u70B9</span>
    <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token comment">// \u5220\u9664\u4F9D\u8D56</span>
    watcher<span class="token punctuation">.</span><span class="token function">teardown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token comment">// \u5220\u9664\u76D1\u542C</span>
    vm<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token comment">// \u89E6\u53D1\u94A9\u5B50</span>
    <span class="token function">callHook</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> <span class="token string">&#39;destoryed&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br></div></div>`,6),fJ={id:"_74-proxy-\u76F8\u6BD4\u4E8E-defineproperty-\u7684\u4F18\u52BF",tabindex:"-1"},vJ=n("a",{class:"header-anchor",href:"#_74-proxy-\u76F8\u6BD4\u4E8E-defineproperty-\u7684\u4F18\u52BF","aria-hidden":"true"},"#",-1),wJ=s(),yJ={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_74-proxy-%E7%9B%B8%E6%AF%94%E4%BA%8E-defineproperty-%E7%9A%84%E4%BC%98%E5%8A%BF",target:"_blank",rel:"noopener noreferrer"},xJ=s("#"),AJ=s("74 Proxy \u76F8\u6BD4\u4E8E defineProperty \u7684\u4F18\u52BF"),BJ=t(`<ul><li>\u6570\u7EC4\u53D8\u5316\u4E5F\u80FD\u76D1\u542C\u5230</li><li>\u4E0D\u9700\u8981\u6DF1\u5EA6\u904D\u5386\u76D1\u542C</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> reactiveData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token comment">// ...</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,2),qJ={id:"_75-vue-router",tabindex:"-1"},jJ=n("a",{class:"header-anchor",href:"#_75-vue-router","aria-hidden":"true"},"#",-1),SJ=s(),CJ={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_75-vue-router",target:"_blank",rel:"noopener noreferrer"},DJ=s("#"),FJ=s("75 vue-router"),PJ=t(`<p><strong>mode</strong></p><ul><li><code>hash</code></li><li><code>history</code></li></ul><p><strong>\u8DF3\u8F6C</strong></p><ul><li><code>this.$router.push()</code></li><li><code>&lt;router-link to=&quot;&quot;&gt;&lt;/router-link&gt;</code></li></ul><p><strong>\u5360\u4F4D</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;router-view&gt;&lt;/router-view&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,6),TJ={id:"_76-vuex\u603B\u7ED3",tabindex:"-1"},NJ=n("a",{class:"header-anchor",href:"#_76-vuex\u603B\u7ED3","aria-hidden":"true"},"#",-1),MJ=s(),OJ={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_76-vuex%E6%80%BB%E7%BB%93",target:"_blank",rel:"noopener noreferrer"},IJ=s("#"),RJ=s("76 vuex\u603B\u7ED3"),VJ=t("<ul><li><code>state</code>: \u72B6\u6001\u4E2D\u5FC3</li><li><code>mutations</code>: \u66F4\u6539\u72B6\u6001</li><li><code>actions</code>: \u5F02\u6B65\u66F4\u6539\u72B6\u6001</li><li><code>getters</code>: \u83B7\u53D6\u72B6\u6001</li><li><code>modules</code>: \u5C06<code>state</code>\u5206\u6210\u591A\u4E2A<code>modules</code>\uFF0C\u4FBF\u4E8E\u7BA1\u7406</li></ul>",1),HJ={id:"_77-diff-\u7B97\u6CD5",tabindex:"-1"},LJ=n("a",{class:"header-anchor",href:"#_77-diff-\u7B97\u6CD5","aria-hidden":"true"},"#",-1),UJ=s(),JJ={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_77-diff-%E7%AE%97%E6%B3%95",target:"_blank",rel:"noopener noreferrer"},WJ=s("#"),zJ=s("77 diff \u7B97\u6CD5"),GJ=t(`<p><strong>\u65F6\u95F4\u590D\u6742\u5EA6\uFF1A</strong> \u4E2A\u6811\u7684\u5B8C\u5168<code>diff</code> \u7B97\u6CD5\u662F\u4E00\u4E2A\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A<code>O(n*3\uFF09</code> \uFF0Cvue\u8FDB\u884C\u4F18\u5316\u8F6C\u5316\u6210<code>O(n)</code> \u3002</p><p><strong>\u7406\u89E3\uFF1A</strong></p><ul><li><p>\u6700\u5C0F\u91CF\u66F4\u65B0\uFF0C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>key
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5F88\u91CD\u8981\u3002\u8FD9\u4E2A\u53EF\u4EE5\u662F\u8FD9\u4E2A\u8282\u70B9\u7684\u552F\u4E00\u6807\u8BC6\uFF0C\u544A\u8BC9</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>diff
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7B97\u6CD5\uFF0C\u5728\u66F4\u6539\u524D\u540E\u5B83\u4EEC\u662F\u540C\u4E00\u4E2ADOM\u8282\u70B9</p><ul><li>\u6269\u5C55<code>v-for</code> \u4E3A\u4EC0\u4E48\u8981\u6709<code>key</code> \uFF0C\u6CA1\u6709<code>key</code> \u4F1A\u66B4\u529B\u590D\u7528\uFF0C\u4E3E\u4F8B\u5B50\u7684\u8BDD\u968F\u4FBF\u8BF4\u4E00\u4E2A\u6BD4\u5982\u79FB\u52A8\u8282\u70B9\u6216\u8005\u589E\u52A0\u8282\u70B9\uFF08\u4FEE\u6539DOM\uFF09\uFF0C\u52A0<code>key</code> \u53EA\u4F1A\u79FB\u52A8\u51CF\u5C11\u64CD\u4F5CDOM\u3002</li></ul></li><li><p>\u53EA\u6709\u662F\u540C\u4E00\u4E2A\u865A\u62DF\u8282\u70B9\u624D\u4F1A\u8FDB\u884C\u7CBE\u7EC6\u5316\u6BD4\u8F83\uFF0C\u5426\u5219\u5C31\u662F\u66B4\u529B\u5220\u9664\u65E7\u7684\uFF0C\u63D2\u5165\u65B0\u7684\u3002</p></li><li><p>\u53EA\u8FDB\u884C\u540C\u5C42\u6BD4\u8F83\uFF0C\u4E0D\u4F1A\u8FDB\u884C\u8DE8\u5C42\u6BD4\u8F83\u3002</p></li></ul><p><strong>diff\u7B97\u6CD5\u7684\u4F18\u5316\u7B56\u7565</strong>\uFF1A\u56DB\u79CD\u547D\u4E2D\u67E5\u627E\uFF0C\u56DB\u4E2A\u6307\u9488</p><ol><li>\u65E7\u524D\u4E0E\u65B0\u524D\uFF08\u5148\u6BD4\u5F00\u5934\uFF0C\u540E\u63D2\u5165\u548C\u5220\u9664\u8282\u70B9\u7684\u8FD9\u79CD\u60C5\u51B5\uFF09</li><li>\u65E7\u540E\u4E0E\u65B0\u540E\uFF08\u6BD4\u7ED3\u5C3E\uFF0C\u524D\u63D2\u5165\u6216\u5220\u9664\u7684\u60C5\u51B5\uFF09</li><li>\u65E7\u524D\u4E0E\u65B0\u540E\uFF08\u5934\u4E0E\u5C3E\u6BD4\uFF0C\u6B64\u79CD\u53D1\u751F\u4E86\uFF0C\u6D89\u53CA\u79FB\u52A8\u8282\u70B9\uFF0C\u90A3\u4E48\u65B0\u524D\u6307\u5411\u7684\u8282\u70B9\uFF0C\u79FB\u52A8\u5230\u65E7\u540E\u4E4B\u540E\uFF09</li><li>\u65E7\u540E\u4E0E\u65B0\u524D\uFF08\u5C3E\u4E0E\u5934\u6BD4\uFF0C\u6B64\u79CD\u53D1\u751F\u4E86\uFF0C\u6D89\u53CA\u79FB\u52A8\u8282\u70B9\uFF0C\u90A3\u4E48\u65B0\u524D\u6307\u5411\u7684\u8282\u70B9\uFF0C\u79FB\u52A8\u5230\u65E7\u524D\u4E4B\u524D\uFF09</li></ol>`,5),$J={id:"_78-vue-\u7684\u54CD\u5E94\u5F0F\u539F\u7406\u4E2D-object-defineproperty-\u6709\u4EC0\u4E48\u7F3A\u9677",tabindex:"-1"},XJ=n("a",{class:"header-anchor",href:"#_78-vue-\u7684\u54CD\u5E94\u5F0F\u539F\u7406\u4E2D-object-defineproperty-\u6709\u4EC0\u4E48\u7F3A\u9677","aria-hidden":"true"},"#",-1),KJ=s(),QJ={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_78-vue-%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86%E4%B8%AD-object-defineproperty-%E6%9C%89%E4%BB%80%E4%B9%88%E7%BC%BA%E9%99%B7",target:"_blank",rel:"noopener noreferrer"},YJ=s("#"),ZJ=s("78 Vue \u7684\u54CD\u5E94\u5F0F\u539F\u7406\u4E2D Object.defineProperty \u6709\u4EC0\u4E48\u7F3A\u9677"),nW=n("ul",null,[n("li",null,[n("code",null,"Object.defineProperty"),s(" \u65E0\u6CD5\u76D1\u63A7\u5230\u6570\u7EC4\u4E0B\u6807\u7684\u53D8\u5316\uFF0C\u5BFC\u81F4\u901A\u8FC7\u6570\u7EC4\u4E0B\u6807\u6DFB\u52A0\u5143\u7D20\uFF0C\u4E0D\u80FD\u5B9E\u65F6\u54CD\u5E94\uFF1B")]),n("li",null,[n("code",null,"Object.defineProperty"),s(" \u53EA\u80FD\u52AB\u6301\u5BF9\u8C61\u7684\u5C5E\u6027\uFF0C\u4ECE\u800C\u9700\u8981\u5BF9\u6BCF\u4E2A\u5BF9\u8C61\uFF0C\u6BCF\u4E2A\u5C5E\u6027\u8FDB\u884C\u904D\u5386\uFF0C\u5982\u679C\uFF0C\u5C5E\u6027\u503C\u662F\u5BF9\u8C61\uFF0C\u8FD8\u9700\u8981\u6DF1\u5EA6\u904D\u5386\u3002Proxy \u53EF\u4EE5\u52AB\u6301\u6574\u4E2A\u5BF9\u8C61\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u5BF9\u8C61")]),n("li",null,[n("code",null,"Proxy"),s(" \u4E0D\u4EC5\u53EF\u4EE5\u4EE3\u7406\u5BF9\u8C61\uFF0C\u8FD8\u53EF\u4EE5\u4EE3\u7406\u6570\u7EC4\u3002\u8FD8\u53EF\u4EE5\u4EE3\u7406\u52A8\u6001\u589E\u52A0\u7684\u5C5E\u6027")])],-1),sW={id:"_79-composition-api",tabindex:"-1"},aW=n("a",{class:"header-anchor",href:"#_79-composition-api","aria-hidden":"true"},"#",-1),eW=s(),tW={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_79-composition-api",target:"_blank",rel:"noopener noreferrer"},pW=s("#"),oW=s("79 Composition API"),cW=t('<ul><li><code>Composition API</code>\u51FA\u73B0\u5C31\u662F\u4E3A\u4E86\u89E3\u51B3Options API\u5BFC\u81F4\u76F8\u540C\u529F\u80FD\u4EE3\u7801\u5206\u6563\u7684\u73B0\u8C61</li></ul><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e78168afbb094679a7ff6209aa7b734c~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p><strong>compositon api\u63D0\u4F9B\u4E86\u4EE5\u4E0B\u51E0\u4E2A\u51FD\u6570\uFF1A</strong></p><ul><li><code>setup</code></li><li><code>ref</code></li><li><code>reactive</code></li><li><code>watchEffect</code></li><li><code>watch</code></li><li><code>computed</code></li><li><code>toRefs</code></li><li>\u751F\u547D\u5468\u671F\u7684<code>hooks</code></li></ul>',4),lW={id:"_80-vue\u4E2D\u662F\u5982\u4F55\u68C0\u6D4B\u6570\u7EC4\u53D8\u5316\u7684\u5462",tabindex:"-1"},rW=n("a",{class:"header-anchor",href:"#_80-vue\u4E2D\u662F\u5982\u4F55\u68C0\u6D4B\u6570\u7EC4\u53D8\u5316\u7684\u5462","aria-hidden":"true"},"#",-1),iW=s(),uW={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_80-vue%E4%B8%AD%E6%98%AF%E5%A6%82%E4%BD%95%E6%A3%80%E6%B5%8B%E6%95%B0%E7%BB%84%E5%8F%98%E5%8C%96%E7%9A%84%E5%91%A2",target:"_blank",rel:"noopener noreferrer"},kW=s("#"),dW=s("80 vue\u4E2D\u662F\u5982\u4F55\u68C0\u6D4B\u6570\u7EC4\u53D8\u5316\u7684\u5462"),bW=t("<blockquote><p>\u6570\u7EC4\u5C31\u662F\u4F7F\u7528 <code>object.defineProperty</code> \u91CD\u65B0\u5B9A\u4E49\u6570\u7EC4\u7684\u6BCF\u4E00\u9879\uFF0C\u90A3\u80FD\u5F15\u8D77\u6570\u7EC4\u53D8\u5316\u7684\u65B9\u6CD5\u6211\u4EEC\u90FD\u662F\u77E5\u9053\u7684\uFF0C <code>pop</code> \u3001 <code>push</code> \u3001 <code>shift</code> \u3001 <code>unshift</code> \u3001 <code>splice</code> \u3001 <code>sort</code> \u3001 <code>reverse</code> \u8FD9\u4E03\u79CD\uFF0C\u53EA\u8981\u8FD9\u4E9B\u65B9\u6CD5\u6267\u884C\u6539\u4E86\u6570\u7EC4\u5185\u5BB9\uFF0C\u6211\u5C31\u66F4\u65B0\u5185\u5BB9\u5C31\u597D\u4E86\uFF0C\u662F\u4E0D\u662F\u5F88\u597D\u7406\u89E3</p></blockquote><ul><li>\u662F\u7528\u51FD\u6570\u52AB\u6301\u7684\u65B9\u5F0F\uFF0C\u91CD\u5199\u4E86\u6570\u7EC4\u65B9\u6CD5\uFF0C\u5177\u4F53\u5462\u5C31\u662F\u66F4\u6539\u4E86\u6570\u7EC4\u7684\u539F\u578B\uFF0C\u66F4\u6539\u6210\u81EA\u5DF1\u7684\uFF0C\u7528\u6237\u8C03\u6570\u7EC4\u7684\u4E00\u4E9B\u65B9\u6CD5\u7684\u65F6\u5019\uFF0C\u8D70\u7684\u5C31\u662F\u81EA\u5DF1\u7684\u65B9\u6CD5\uFF0C\u7136\u540E\u901A\u77E5\u89C6\u56FE\u53BB\u66F4\u65B0</li><li>\u6570\u7EC4\u91CC\u6BCF\u4E00\u9879\u53EF\u80FD\u662F\u5BF9\u8C61\uFF0C\u90A3\u4E48\u6211\u5C31\u662F\u4F1A\u5BF9\u6570\u7EC4\u7684\u6BCF\u4E00\u9879\u8FDB\u884C\u89C2\u6D4B\uFF0C\uFF08\u4E14\u53EA\u6709\u6570\u7EC4\u91CC\u7684\u5BF9\u8C61\u624D\u80FD\u8FDB\u884C\u89C2\u6D4B\uFF0C\u89C2\u6D4B\u8FC7\u7684\u4E5F\u4E0D\u4F1A\u8FDB\u884C\u89C2\u6D4B\uFF09</li></ul><blockquote><p><code>vue3</code>\uFF1A\u6539\u7528 <code>proxy</code> \uFF0C\u53EF\u76F4\u63A5\u76D1\u542C\u5BF9\u8C61\u6570\u7EC4\u7684\u53D8\u5316</p></blockquote>",3),mW={id:"_81-vue\u7684\u4E8B\u4EF6\u7ED1\u5B9A\u539F\u7406",tabindex:"-1"},hW=n("a",{class:"header-anchor",href:"#_81-vue\u7684\u4E8B\u4EF6\u7ED1\u5B9A\u539F\u7406","aria-hidden":"true"},"#",-1),_W=s(),gW={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_81-vue%E7%9A%84%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},EW=s("#"),fW=s("81 Vue\u7684\u4E8B\u4EF6\u7ED1\u5B9A\u539F\u7406"),vW=t("<ul><li>\u539F\u751F DOM \u7684\u7ED1\u5B9A\uFF1AVue\u5728\u521B\u5EFA\u771F\u5B9EDOM\u65F6\u4F1A\u8C03\u7528 <code>createElm</code> \uFF0C\u9ED8\u8BA4\u4F1A\u8C03\u7528 <code>invokeCreateHooks</code> \u3002\u4F1A\u904D\u5386\u5F53\u524D\u5E73\u53F0\u4E0B\u76F8\u5BF9\u7684\u5C5E\u6027\u5904\u7406\u4EE3\u7801\uFF0C\u5176\u4E2D\u5C31\u6709 <code>updateDOMLListeners</code>\u65B9\u6CD5\uFF0C\u5185\u90E8\u4F1A\u4F20\u5165 <code>add\uFF08\uFF09</code> \u65B9\u6CD5</li><li>\u7EC4\u4EF6\u7ED1\u5B9A\u4E8B\u4EF6\uFF0C\u539F\u751F\u4E8B\u4EF6\uFF0C\u81EA\u5B9A\u4E49\u4E8B\u4EF6\uFF1B\u7EC4\u4EF6\u7ED1\u5B9A\u4E4B\u95F4\u662F\u901A\u8FC7<code>Vue</code>\u4E2D\u81EA\u5B9A\u4E49\u7684 <code>$on</code> \u65B9\u6CD5\u5B9E\u73B0\u7684</li></ul><blockquote><p>\u53EF\u4EE5\u7406\u89E3\u4E3A\uFF1A\u7EC4\u4EF6\u7684 <code>nativeOnOn</code> \u7B49\u4EF7\u4E8E \u666E\u901A\u5143\u7D20on \u7EC4\u4EF6\u7684on\u4F1A\u5355\u72EC\u5904\u7406</p></blockquote>",2),wW={id:"_82-v-model\u4E2D\u7684\u5B9E\u73B0\u539F\u7406\u53CA\u5982\u4F55\u81EA\u5B9A\u4E49v-model",tabindex:"-1"},yW=n("a",{class:"header-anchor",href:"#_82-v-model\u4E2D\u7684\u5B9E\u73B0\u539F\u7406\u53CA\u5982\u4F55\u81EA\u5B9A\u4E49v-model","aria-hidden":"true"},"#",-1),xW=s(),AW={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_82-v-model%E4%B8%AD%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%8F%8A%E5%A6%82%E4%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89v-model",target:"_blank",rel:"noopener noreferrer"},BW=s("#"),qW=s("82 v-model\u4E2D\u7684\u5B9E\u73B0\u539F\u7406\u53CA\u5982\u4F55\u81EA\u5B9A\u4E49v-model"),jW=t("<blockquote><p><code>v-model</code> \u53EF\u4EE5\u770B\u6210\u662F <code>value+input</code> \u65B9\u6CD5\u7684\u8BED\u6CD5\u7CD6\uFF08\u7EC4\u4EF6\uFF09\u3002\u539F\u751F\u7684 <code>v-model</code> \uFF0C\u4F1A\u6839\u636E\u6807\u7B7E\u7684\u4E0D\u540C\u751F\u6210\u4E0D\u540C\u7684\u4E8B\u4EF6\u4E0E\u5C5E\u6027\u3002\u89E3\u6790\u4E00\u4E2A\u6307\u4EE4\u6765</p></blockquote><p>\u81EA\u5B9A\u4E49\uFF1A\u81EA\u5DF1\u5199 <code>model</code> \u5C5E\u6027\uFF0C\u91CC\u9762\u653E\u4E0A <code>prop</code> \u548C <code>event</code></p>",2),SW={id:"_83-\u4E3A\u4EC0\u4E48vue\u91C7\u7528\u5F02\u6B65\u6E32\u67D3\u5462",tabindex:"-1"},CW=n("a",{class:"header-anchor",href:"#_83-\u4E3A\u4EC0\u4E48vue\u91C7\u7528\u5F02\u6B65\u6E32\u67D3\u5462","aria-hidden":"true"},"#",-1),DW=s(),FW={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_83-%E4%B8%BA%E4%BB%80%E4%B9%88vue%E9%87%87%E7%94%A8%E5%BC%82%E6%AD%A5%E6%B8%B2%E6%9F%93%E5%91%A2",target:"_blank",rel:"noopener noreferrer"},PW=s("#"),TW=s("83 \u4E3A\u4EC0\u4E48Vue\u91C7\u7528\u5F02\u6B65\u6E32\u67D3\u5462"),NW=t("<blockquote><p>Vue \u662F\u7EC4\u4EF6\u7EA7\u66F4\u65B0\uFF0C\u5982\u679C\u4E0D\u91C7\u7528\u5F02\u6B65\u66F4\u65B0\uFF0C\u90A3\u4E48\u6BCF\u6B21\u66F4\u65B0\u6570\u636E\u90FD\u4F1A\u5BF9\u5F53\u524D\u7EC4\u4EF6\u8FDB\u884C\u91CD\u65B0\u6E32\u67D3\uFF0C\u6240\u4EE5\u4E3A\u4E86\u6027\u80FD\uFF0C Vue \u4F1A\u5728\u672C\u8F6E\u6570\u636E\u66F4\u65B0\u540E\uFF0C\u5728\u5F02\u6B65\u66F4\u65B0\u89C6\u56FE\u3002\u6838\u5FC3\u601D\u60F3 <code>nextTick</code></p></blockquote><p><code>dep.notify\uFF08\uFF09</code> \u901A\u77E5 <code>watcher</code>\u8FDB\u884C\u66F4\u65B0\uFF0C subs[i].update \u4F9D\u6B21\u8C03\u7528 <code>watcher</code> \u7684 <code>update</code> \uFF0C <code>queueWatcher</code> \u5C06<code>watcher</code> \u53BB\u91CD\u653E\u5165\u961F\u5217\uFF0C nextTick\uFF08 flushSchedulerQueue \uFF09\u5728\u4E0B\u4E00<code>tick</code>\u4E2D\u5237\u65B0<code>watcher</code>\u961F\u5217\uFF08\u5F02\u6B65\uFF09</p>",2),MW={id:"_84-vuex-\u5DE5\u4F5C\u539F\u7406",tabindex:"-1"},OW=n("a",{class:"header-anchor",href:"#_84-vuex-\u5DE5\u4F5C\u539F\u7406","aria-hidden":"true"},"#",-1),IW=s(),RW={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_84-vuex-%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},VW=s("#"),HW=s("84 Vuex \u5DE5\u4F5C\u539F\u7406"),LW=t('<p>Vuex \u662F\u4E00\u4E2A\u4E13\u4E3A Vue.js \u5E94\u7528\u7A0B\u5E8F\u5F00\u53D1\u7684<strong>\u72B6\u6001\u7BA1\u7406\u6A21\u5F0F</strong>\u3002</p><p>\u72B6\u6001\u81EA\u7BA1\u7406\u5E94\u7528\u5305\u542B\u4EE5\u4E0B\u51E0\u4E2A\u90E8\u5206\uFF1A</p><ul><li>state\uFF0C\u9A71\u52A8\u5E94\u7528\u7684\u6570\u636E\u6E90\uFF1B</li><li>view\uFF0C\u4EE5\u58F0\u660E\u65B9\u5F0F\u5C06 state \u6620\u5C04\u5230\u89C6\u56FE\uFF1B</li><li>actions\uFF0C\u54CD\u5E94\u5728 view \u4E0A\u7684\u7528\u6237\u8F93\u5165\u5BFC\u81F4\u7684\u72B6\u6001\u53D8\u5316\u3002\u4E0B\u56FE\u5355\u5411\u6570\u636E\u6D41\u793A\u610F\u56FE\uFF1A</li></ul><p><img src="http://img-repo.poetries.top/images/image-20210220193818922.png" alt="image-20210220193818922"></p><p>vuex\uFF0C\u591A\u7EC4\u4EF6\u5171\u4EAB\u72B6\u6001\uFF0C\u56E0-\u5355\u5411\u6570\u636E\u6D41\u7B80\u6D01\u6027\u5F88\u5BB9\u6613\u88AB\u7834\u574F\uFF1A</p><ul><li>\u591A\u4E2A\u89C6\u56FE\u4F9D\u8D56\u4E8E\u540C\u4E00\u72B6\u6001\u3002</li><li>\u6765\u81EA\u4E0D\u540C\u89C6\u56FE\u7684\u884C\u4E3A\u9700\u8981\u53D8\u66F4\u540C\u4E00\u72B6\u6001</li></ul><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b17eb2230b3f46729cbfbe7144873065~tplv-k3u1fbpfcp-watermark.image?imageslim" alt="img"></p>',7),UW={id:"_85-\u5982\u4F55\u4ECE\u771F\u5B9Edom\u5230\u865A\u62DFdom",tabindex:"-1"},JW=n("a",{class:"header-anchor",href:"#_85-\u5982\u4F55\u4ECE\u771F\u5B9Edom\u5230\u865A\u62DFdom","aria-hidden":"true"},"#",-1),WW=s(),zW={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_85-%E5%A6%82%E4%BD%95%E4%BB%8E%E7%9C%9F%E5%AE%9Edom%E5%88%B0%E8%99%9A%E6%8B%9Fdom",target:"_blank",rel:"noopener noreferrer"},GW=s("#"),$W=s("85 \u5982\u4F55\u4ECE\u771F\u5B9EDOM\u5230\u865A\u62DFDOM"),XW=n("p",null,"\u6D89\u53CA\u5230Vue\u4E2D\u7684\u6A21\u677F\u7F16\u8BD1\u539F\u7406\uFF0C\u4E3B\u8981\u8FC7\u7A0B\uFF1A",-1),KW=n("ol",null,[n("li",null,[s("\u5C06\u6A21\u677F\u8F6C\u6362\u6210"),n("code",null,"ast"),s(" \u6811\uFF0C"),n("code",null,"ast"),s(" \u7528\u5BF9\u8C61\u6765\u63CF\u8FF0\u771F\u5B9E\u7684JS\u8BED\u6CD5\uFF08\u5C06\u771F\u5B9EDOM\u8F6C\u6362\u6210\u865A\u62DFDOM\uFF09")]),n("li",null,"\u4F18\u5316\u6811"),n("li",null,[s("\u5C06"),n("code",null,"ast"),s(" \u6811\u751F\u6210\u4EE3\u7801")])],-1),QW={id:"_86-computed-watch-\u548C-method",tabindex:"-1"},YW=n("a",{class:"header-anchor",href:"#_86-computed-watch-\u548C-method","aria-hidden":"true"},"#",-1),ZW=s(),nz={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_86-computed-watch-%E5%92%8C-method",target:"_blank",rel:"noopener noreferrer"},sz=s("#"),az=s("86 Computed watch \u548C method"),ez=t("<ul><li><strong>computed</strong>\uFF1A\u9ED8\u8BA4<code>computed</code>\u4E5F\u662F\u4E00\u4E2A<code>watcher</code>\u5177\u5907\u7F13\u5B58\uFF0C\u53EA\u6709\u5F53\u4F9D\u8D56\u7684\u6570\u636E\u53D8\u5316\u65F6\u624D\u4F1A\u8BA1\u7B97, \u5F53\u6570\u636E\u6CA1\u6709\u53D8\u5316\u65F6, \u5B83\u4F1A\u8BFB\u53D6\u7F13\u5B58\u6570\u636E\u3002\u5982\u679C\u4E00\u4E2A\u6570\u636E\u4F9D\u8D56\u4E8E\u5176\u4ED6\u6570\u636E\uFF0C\u4F7F\u7528<code>computed</code></li><li><strong>watch</strong>\uFF1A\u6BCF\u6B21\u90FD\u9700\u8981\u6267\u884C\u51FD\u6570\u3002 <code>watch</code> \u66F4\u9002\u7528\u4E8E\u6570\u636E\u53D8\u5316\u65F6\u7684\u5F02\u6B65\u64CD\u4F5C\u3002\u5982\u679C\u9700\u8981\u5728\u67D0\u4E2A\u6570\u636E\u53D8\u5316\u65F6\u505A\u4E00\u4E9B\u4E8B\u60C5\uFF0C\u4F7F\u7528watch\u3002</li><li><strong>method</strong>\uFF1A\u53EA\u8981\u628A\u65B9\u6CD5\u7528\u5230\u6A21\u677F\u4E0A\u4E86,\u6BCF\u6B21\u4E00\u53D8\u5316\u5C31\u4F1A\u91CD\u65B0\u6E32\u67D3\u89C6\u56FE\uFF0C\u6027\u80FD\u5F00\u9500\u5927</li></ul>",1),tz={id:"_87-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u5F02\u6B65\u7EC4\u4EF6",tabindex:"-1"},pz=n("a",{class:"header-anchor",href:"#_87-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u5F02\u6B65\u7EC4\u4EF6","aria-hidden":"true"},"#",-1),oz=s(),cz={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_87-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},lz=s("#"),rz=s("87 \u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u5F02\u6B65\u7EC4\u4EF6\uFF1F"),iz=n("ol",null,[n("li",null,[s("\u8282\u7701\u6253\u5305\u51FA\u7684\u7ED3\u679C\uFF0C\u5F02\u6B65\u7EC4\u4EF6\u5206\u5F00\u6253\u5305\uFF0C\u91C7\u7528"),n("code",null,"jsonp"),s("\u7684\u65B9\u5F0F\u8FDB\u884C\u52A0\u8F7D\uFF0C\u6709\u6548\u89E3\u51B3\u6587\u4EF6\u8FC7\u5927\u7684\u95EE\u9898\u3002")]),n("li",null,[s("\u6838\u5FC3\u5C31\u662F\u5305\u7EC4\u4EF6\u5B9A\u4E49\u53D8\u6210\u4E00\u4E2A\u51FD\u6570\uFF0C\u4F9D\u8D56"),n("code",null,"import\uFF08\uFF09"),s(" \u8BED\u6CD5\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u6587\u4EF6\u7684\u5206\u5272\u52A0\u8F7D\u3002")])],-1),uz={id:"_88-action-\u4E0E-mutation-\u7684\u533A\u522B",tabindex:"-1"},kz=n("a",{class:"header-anchor",href:"#_88-action-\u4E0E-mutation-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),dz=s(),bz={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_88-action-%E4%B8%8E-mutation-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},mz=s("#"),hz=s("88 action \u4E0E mutation \u7684\u533A\u522B"),_z=n("ul",null,[n("li",null,[n("code",null,"mutation"),s(" \u662F\u540C\u6B65\u66F4\u65B0\uFF0C"),n("code",null,"$watch"),s(" \u4E25\u683C\u6A21\u5F0F\u4E0B\u4F1A\u62A5\u9519")]),n("li",null,[n("code",null,"action"),s(" \u662F\u540C\u6B65\u64CD\u4F5C\uFF0C\u53EF\u4EE5\u83B7\u53D6\u6570\u636E\u540E\u8C03\u7528"),n("code",null,"mutation"),s(" \u63D0\u4EA4\u6700\u7EC8\u6570\u636E")])],-1),gz={id:"_89-\u63D2\u69FD\u4E0E\u4F5C\u7528\u57DF\u63D2\u69FD\u7684\u533A\u522B",tabindex:"-1"},Ez=n("a",{class:"header-anchor",href:"#_89-\u63D2\u69FD\u4E0E\u4F5C\u7528\u57DF\u63D2\u69FD\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),fz=s(),vz={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_89-%E6%8F%92%E6%A7%BD%E4%B8%8E%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},wz=s("#"),yz=s("89 \u63D2\u69FD\u4E0E\u4F5C\u7528\u57DF\u63D2\u69FD\u7684\u533A\u522B"),xz=t("<p><strong>\u63D2\u69FD</strong></p><ul><li>\u521B\u5EFA\u7EC4\u4EF6\u865A\u62DF\u8282\u70B9\u65F6\uFF0C\u4F1A\u5C06\u7EC4\u4EF6\u513F\u5B50\u7684\u865A\u62DF\u8282\u70B9\u4FDD\u5B58\u8D77\u6765\u3002\u5F53\u521D\u59CB\u5316\u7EC4\u4EF6\u65F6\uFF0C\u901A\u8FC7\u63D2\u69FD\u5C5E\u6027\u5C06\u513F\u5B50\u8FDB\u884C\u5206\u7C7B<code>{a:[vnode],b[vnode]}</code></li><li>\u6E32\u67D3\u7EC4\u4EF6\u65F6\u4F1A\u62FF\u5BF9\u5E94\u7684<code>slot</code> \u5C5E\u6027\u7684\u8282\u70B9\u8FDB\u884C\u66FF\u6362\u64CD\u4F5C\u3002\uFF08\u63D2\u69FD\u7684\u4F5C\u7528\u57DF\u4E3A\u7236\u7EC4\u4EF6\uFF09</li></ul><p><strong>\u4F5C\u7528\u57DF\u63D2\u69FD</strong></p><ul><li>\u4F5C\u7528\u57DF\u63D2\u69FD\u5728\u89E3\u6790\u7684\u65F6\u5019\u4E0D\u4F1A\u4F5C\u4E3A\u7EC4\u4EF6\u7684\u5B69\u5B50\u8282\u70B9\u3002\u4F1A\u89E3\u6790\u6210\u51FD\u6570\uFF0C\u5F53\u5B50\u7EC4\u4EF6\u6E32\u67D3\u65F6\uFF0C\u4F1A\u8C03\u7528\u6B64\u51FD\u6570\u8FDB\u884C\u6E32\u67D3\u3002</li><li>\u666E\u901A\u63D2\u69FD\u6E32\u67D3\u7684\u4F5C\u7528\u57DF\u662F\u7236\u7EC4\u4EF6\uFF0C\u4F5C\u7528\u57DF\u63D2\u69FD\u7684\u6E32\u67D3\u4F5C\u7528\u57DF\u662F\u5F53\u524D\u5B50\u7EC4\u4EF6\u3002</li></ul>",4),Az={id:"_90-vue\u4E2D\u76F8\u540C\u903B\u8F91\u5982\u4F55\u62BD\u79BB",tabindex:"-1"},Bz=n("a",{class:"header-anchor",href:"#_90-vue\u4E2D\u76F8\u540C\u903B\u8F91\u5982\u4F55\u62BD\u79BB","aria-hidden":"true"},"#",-1),qz=s(),jz={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_90-vue%E4%B8%AD%E7%9B%B8%E5%90%8C%E9%80%BB%E8%BE%91%E5%A6%82%E4%BD%95%E6%8A%BD%E7%A6%BB",target:"_blank",rel:"noopener noreferrer"},Sz=s("#"),Cz=s("90 vue\u4E2D\u76F8\u540C\u903B\u8F91\u5982\u4F55\u62BD\u79BB"),Dz=n("blockquote",null,[n("p",null,[s("\u5176\u5B9E\u5C31\u662F\u8003\u5BDF"),n("code",null,"vue.mixin"),s(" \u7528\u6CD5\uFF0C\u7ED9\u7EC4\u4EF6\u6BCF\u4E2A\u751F\u547D\u5468\u671F\uFF0C\u51FD\u6570\u90FD\u6DF7\u5165\u4E00\u4E9B\u516C\u5171\u903B\u8F91\u3002")])],-1),Fz={id:"_91-\u8C08\u8C08\u5BF9keep-alive\u7684\u4E86\u89E3",tabindex:"-1"},Pz=n("a",{class:"header-anchor",href:"#_91-\u8C08\u8C08\u5BF9keep-alive\u7684\u4E86\u89E3","aria-hidden":"true"},"#",-1),Tz=s(),Nz={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_91-%E8%B0%88%E8%B0%88%E5%AF%B9keep-alive%E7%9A%84%E4%BA%86%E8%A7%A3",target:"_blank",rel:"noopener noreferrer"},Mz=s("#"),Oz=s("91 \u8C08\u8C08\u5BF9keep-alive\u7684\u4E86\u89E3"),Iz=n("blockquote",null,[n("div",{class:"language-text ext-text line-numbers-mode"},[n("pre",{class:"language-text"},[n("code",null,"keep-alive` \u53EF\u4EE5\u5B9E\u73B0\u7EC4\u4EF6\u7684\u7F13\u5B58\uFF0C\u5F53\u7EC4\u4EF6\u5207\u6362\u65F6\u4E0D\u4F1A\u5BF9\u5F53\u524D\u7EC4\u4EF6\u8FDB\u884C\u5378\u8F7D\u3002\u5E38\u7528\u76842\u4E2A\u5C5E\u6027`include/exclude` \uFF0C2\u4E2A\u751F\u547D\u5468\u671F`activated` \uFF0C`deactivated\n")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("span",{class:"line-number"},"1"),n("br")])])],-1),Rz={id:"_92-vue\u6027\u80FD\u4F18\u5316",tabindex:"-1"},Vz=n("a",{class:"header-anchor",href:"#_92-vue\u6027\u80FD\u4F18\u5316","aria-hidden":"true"},"#",-1),Hz=s(),Lz={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_92-vue%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},Uz=s("#"),Jz=s("92 Vue\u6027\u80FD\u4F18\u5316"),Wz=t("<p><strong>\u7F16\u7801\u4F18\u5316</strong>\uFF1A</p><ul><li>\u4E8B\u4EF6\u4EE3\u7406</li><li><code>keep-alive</code></li><li>\u62C6\u5206\u7EC4\u4EF6</li><li><code>key</code> \u4FDD\u8BC1\u552F\u4E00\u6027</li><li>\u8DEF\u7531\u61D2\u52A0\u8F7D\u3001\u5F02\u6B65\u7EC4\u4EF6</li><li>\u9632\u6296\u8282\u6D41</li></ul><p><strong>Vue\u52A0\u8F7D\u6027\u80FD\u4F18\u5316</strong></p><ul><li>\u7B2C\u4E09\u65B9\u6A21\u5757\u6309\u9700\u5BFC\u5165\uFF08<code>babel-plugin-component</code> \uFF09</li><li>\u56FE\u7247\u61D2\u52A0\u8F7D</li></ul><p><strong>\u7528\u6237\u4F53\u9A8C</strong></p><ul><li><code>app-skeleton</code> \u9AA8\u67B6\u5C4F</li><li><code>shellap</code> p\u58F3</li><li><code>pwa</code></li></ul><p><strong>SEO\u4F18\u5316</strong></p><ul><li>\u9884\u6E32\u67D3</li></ul>",8),zz={id:"_93-vue3-0\u76F8\u5BF9\u4E8Evue2-x\u6709\u54EA\u4E9B\u4E0D\u540C",tabindex:"-1"},Gz=n("a",{class:"header-anchor",href:"#_93-vue3-0\u76F8\u5BF9\u4E8Evue2-x\u6709\u54EA\u4E9B\u4E0D\u540C","aria-hidden":"true"},"#",-1),$z=s(),Xz={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_93-vue3-0%E7%9B%B8%E5%AF%B9%E4%BA%8Evue2-x%E6%9C%89%E5%93%AA%E4%BA%9B%E4%B8%8D%E5%90%8C",target:"_blank",rel:"noopener noreferrer"},Kz=s("#"),Qz=s("93 Vue3.0\u76F8\u5BF9\u4E8EVue2.x\u6709\u54EA\u4E9B\u4E0D\u540C\uFF1F"),Yz=t("<p><strong>performance</strong></p><p>\u9996\u5148\u5728\u6027\u80FD(performance)\u4E0A\u6709\u4E86\u66F4\u591A\u7684\u4F18\u5316\uFF0C\u4E00\u65B9\u9762\u8868\u73B0\u5728<code>virtual dom</code>\u7684\u751F\u6210\u4E0A\u66F4\u5FEB\u4E86\uFF0C\u53E6\u5916\u5728\u5E95\u5C42\u8FD8\u505A\u4E86\u4E00\u4E9B\u76D1\u542C\u7684\u7F13\u5B58\uFF0C\u4E5F\u5C31\u662F\u4E8B\u4EF6\u5728\u88AB\u521B\u5EFA\u7684\u65F6\u5019\u4F1A\u88AB\u63A8\u8FDB\u4E00\u4E2A\u7F13\u5B58\u4E2D\uFF0C\u540E\u7EED\u6CA1\u6709\u6539\u53D8\u4F1A\u76F4\u63A5\u53D6\u7F13\u5B58\u3002</p><p><strong>tree-shaking</strong></p><p>tree-shaking\u5B83\u8868\u793A\u7684\u662F\u5728\u6253\u5305\u7684\u65F6\u5019\u4F1A\u53BB\u9664\u4E00\u4E9B\u65E0\u7528\u7684\u4EE3\u7801\u3002\u800C\u5728Vue3\u4E2D\u5BF9\u5B83\u7684\u652F\u6301\u66F4\u52A0\u53CB\u597D\u4E86\uFF0C\u4F8B\u5982\u50CFtransition\u3001v-model\u3001computed\u7B49\u529F\u80FD\u6CA1\u6709\u7528\u5230\u7684\u8BDD\uFF0C\u90A3\u4E48\u6700\u540E\u6253\u5305\u4EA7\u751F\u7684\u4EE3\u7801\u5C31\u4F1A\u5C06\u5B83\u4EEC\u53BB\u9664\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5982\u679C\u4F60\u7684Vue\u9879\u76EE\u53EA\u5199\u4E86\u4E00\u4E2AHello Word\u7684\u8BDD\uFF0C\u90A3\u4E48\u6700\u540E\u6253\u5305\u7684\u4EE3\u7801\u4E2D\u5C31\u53EA\u6709\u4E00\u4E9B\u6838\u5FC3\u7684\u4EE3\u7801\uFF0C\u5982\u66F4\u65B0\u7B97\u6CD5\u3001\u54CD\u5E94\u5F0F\u7B49\uFF0C\u6253\u5305\u751F\u6210\u7684\u6587\u4EF6\u53EF\u80FD\u5C31\u53EA\u670913.5kb\u3002</p><p><strong>Fragments</strong></p><p>\u788E\u7247(Fragments)\uFF0C\u539F\u672C\u5728Vue2.x\u4E2D\u6BCF\u4E2Atemplate\u4E0B\u53EA\u80FD\u5141\u8BB8\u6709\u4E00\u4E2A\u6839\u8282\u70B9\uFF0C\u4F46\u662F\u5728Vue3\u4E2D\u5B83\u53EF\u4EE5\u5141\u8BB8\u4F60\u6709\u591A\u4E2A\uFF0C\u7528\u5C24\u5927\u5927\u7684\u8BDD\u6765\u8BF4\u5C31\u662F\u4F1A\u5C06\u8FD9\u4E9B\u5185\u5BB9\u81EA\u52A8\u53D8\u4E3A\u4E00\u4E2A\u788E\u7247\u3002</p><p><strong>TS</strong></p><p>\u518D\u8005\u5C31\u662F\u5BF9TS\u7684\u652F\u6301\u5EA6\u5F88\u597D\u3002\u867D\u7136Vue3\u672C\u6765\u5C31\u662F\u7528TS\u5199\u7684\uFF0C\u4F46\u662F\u4E0D\u4E00\u5B9A\u8981\u7528TS\u3002\u53E6\u5916\u5B83\u4E5F\u652F\u6301Class Component\uFF0C\u4E0D\u8FC7\u4E0D\u662F\u7B2C\u4E00\u63A8\u8350\u3002</p><p><strong>Component API</strong></p><p>\u8BED\u6CD5\u4E0A\uFF0C\u5BF9\u6A21\u7248\u8BED\u6CD5\u662F\u96F6\u6539\u53D8\u7684\u3002\u53EA\u4E0D\u8FC7\u66F4\u52A0\u63A8\u8350\u7528Component API\u6765\u5199JS\u90E8\u5206\u3002Component API\u5B83\u5E76\u4E0D\u662F\u8BED\u6CD5\uFF0C\u800C\u662F\u65B0\u589E\u7684API\u3002\u5B83\u5E26\u6765\u7684\u597D\u5904\u4E00\u4E2A\u662F\u903B\u8F91\u91CD\u7528\uFF0C\u65B9\u4FBF\u6211\u4EEC\u628A\u4E00\u4E9B\u529F\u80FD\u7684\u90E8\u5206\u62BD\u79BB\u51FA\u6765\u3002\u53E6\u4E00\u4E2A\u5B83\u76F8\u5BF9\u4E8Eoptions\u6765\u8BF4\u66F4\u52A0\u96C6\u4E2D\uFF0C\u7528options\u6765\u5199\u4EE3\u7801\u60F3\u8981\u8FFD\u5BFB\u4E00\u4E2A\u53D8\u91CF\u7684\u53D8\u5316\u6BD4\u8F83\u9EBB\u70E6\u3002</p><p><strong>\u5173\u4E8E\u517C\u5BB9\u6027</strong></p><p>\u76EE\u524D\u7684Vue3.beta\u7248\u672C\u662F\u4E0D\u652F\u6301IE11\u7684\uFF0C\u56E0\u4E3A\u6838\u5FC3\u7684\u54CD\u5E94\u5F0F\u539F\u7406\u7528\u5230\u4E86ES6\u7684Proxy\uFF0C\u4F46\u662F\u4EE5\u540E\u4F1A\u53BB\u517C\u5BB9IE11\u3002\u540E\u9762\u6211\u4EEC\u5728\u521B\u5EFA\u4E00\u4E2AVue\u9879\u76EE\u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u9009\u62E9\u4E0D\u540C\u7684\u7248\u672C\uFF0C\u652F\u6301IE11\u548C\u4E0D\u652F\u6301IE11\u7684\u3002</p><p><strong>\u4EC0\u4E48\u65F6\u5019\u80FD\u4F7F\u7528</strong></p><p>\u73B0\u5728\u7684beta\u7248\u672C\u5176\u5B9E\u5DF2\u7ECF\u53EF\u4EE5\u7528\u4E86\uFF0C\u5BF9\u4E8E\u4E00\u4E9B\u65B0\u7684\u5C0F\u7684\u9879\u76EE\u53EF\u4EE5\u8BD5\u8BD5\u6C34\uFF0C\u8FD9\u4E2A\u53EF\u4EE5\u81EA\u5DF1\u8BC4\u4F30\u3002\u6B63\u5F0F\u80FD\u591F\u6295\u5165\u5230\u751F\u4EA7\u4F7F\u7528\u4E2D\u53EF\u80FD\u8981\u7B49\u5230\u5E74\u4E2D (\u7EC8\uFF1F)\u3002</p>",14),Zz={id:"_94-vue\u4E2Dhash\u6A21\u5F0F\u548Chistory\u6A21\u5F0F\u7684\u533A\u522B",tabindex:"-1"},nG=n("a",{class:"header-anchor",href:"#_94-vue\u4E2Dhash\u6A21\u5F0F\u548Chistory\u6A21\u5F0F\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),sG=s(),aG={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_94-vue%E4%B8%ADhash%E6%A8%A1%E5%BC%8F%E5%92%8Chistory%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},eG=s("#"),tG=s("94 Vue\u4E2Dhash\u6A21\u5F0F\u548Chistory\u6A21\u5F0F\u7684\u533A\u522B"),pG=t(`<ul><li>\u6700\u660E\u663E\u7684\u662F\u5728\u663E\u793A\u4E0A\uFF0C<code>hash</code>\u6A21\u5F0F\u7684<code>URL</code>\u4E2D\u4F1A\u5939\u6742\u7740<code>#</code>\u53F7\uFF0C\u800C<code>history</code>\u6CA1\u6709\u3002</li><li><code>Vue</code>\u5E95\u5C42\u5BF9\u5B83\u4EEC\u7684\u5B9E\u73B0\u65B9\u5F0F\u4E0D\u540C\u3002<code>hash</code>\u6A21\u5F0F\u662F\u4F9D\u9760<code>onhashchange</code>\u4E8B\u4EF6(\u76D1\u542C<code>location.hash</code>\u7684\u6539\u53D8)\uFF0C\u800C<code>history</code>\u6A21\u5F0F\u662F\u4E3B\u8981\u662F\u4F9D\u9760\u7684<code>HTML5 history</code>\u4E2D\u65B0\u589E\u7684\u4E24\u4E2A\u65B9\u6CD5\uFF0C<code>pushState()</code>\u53EF\u4EE5\u6539\u53D8<code>url</code>\u5730\u5740\u4E14\u4E0D\u4F1A\u53D1\u9001\u8BF7\u6C42\uFF0C<code>replaceState()</code>\u53EF\u4EE5\u8BFB\u53D6\u5386\u53F2\u8BB0\u5F55\u6808,\u8FD8\u53EF\u4EE5\u5BF9\u6D4F\u89C8\u5668\u8BB0\u5F55\u8FDB\u884C\u4FEE\u6539\u3002</li><li>\u5F53\u771F\u6B63\u9700\u8981\u901A\u8FC7<code>URL</code>\u5411\u540E\u7AEF\u53D1\u9001<code>HTTP</code>\u8BF7\u6C42\u7684\u65F6\u5019\uFF0C\u6BD4\u5982\u5E38\u89C1\u7684\u7528\u6237\u624B\u52A8\u8F93\u5165<code>URL</code>\u540E\u56DE\u8F66\uFF0C\u6216\u8005\u662F\u5237\u65B0(\u91CD\u542F)\u6D4F\u89C8\u5668\uFF0C\u8FD9\u65F6\u5019<code>history</code>\u6A21\u5F0F\u9700\u8981\u540E\u7AEF\u7684\u652F\u6301\u3002\u56E0\u4E3A<code>history</code>\u6A21\u5F0F\u4E0B\uFF0C\u524D\u7AEF\u7684<code>URL</code>\u5FC5\u987B\u548C\u5B9E\u9645\u5411\u540E\u7AEF\u53D1\u9001\u8BF7\u6C42\u7684<code>URL</code>\u4E00\u81F4\uFF0C\u4F8B\u5982\u6709\u4E00\u4E2A<code>URL</code>\u662F\u5E26\u6709\u8DEF\u5F84<code>path</code>\u7684(\u4F8B\u5982<code>www.lindaidai.wang/blogs/id</code>)\uFF0C\u5982\u679C\u540E\u7AEF\u6CA1\u6709\u5BF9\u8FD9\u4E2A\u8DEF\u5F84\u505A\u5904\u7406\u7684\u8BDD\uFF0C\u5C31\u4F1A\u8FD4\u56DE<code>404</code>\u9519\u8BEF\u3002\u6240\u4EE5\u9700\u8981\u540E\u7AEF\u589E\u52A0\u4E00\u4E2A\u8986\u76D6\u6240\u6709\u60C5\u51B5\u7684\u5019\u9009\u8D44\u6E90\uFF0C\u4E00\u822C\u4F1A\u914D\u5408\u524D\u7AEF\u7ED9\u51FA\u7684\u4E00\u4E2A<code>404</code>\u9875\u9762\u3002</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>hash:
window.onhashchange = function(event){
  // location.hash\u83B7\u53D6\u5230\u7684\u662F\u5305\u62EC#\u53F7\u7684\uFF0C\u5982&quot;#heading-3&quot;
  // \u6240\u4EE5\u53EF\u4EE5\u622A\u53D6\u4E00\u4E0B
	let hash = location.hash.slice(1);
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,2),oG={id:"_95-\u4E86\u89E3history\u6709\u54EA\u4E9B\u65B9\u6CD5\u5417-\u8BF4\u4E0B\u5B83\u4EEC\u7684\u533A\u522B",tabindex:"-1"},cG=n("a",{class:"header-anchor",href:"#_95-\u4E86\u89E3history\u6709\u54EA\u4E9B\u65B9\u6CD5\u5417-\u8BF4\u4E0B\u5B83\u4EEC\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),lG=s(),rG={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_95-%E4%BA%86%E8%A7%A3history%E6%9C%89%E5%93%AA%E4%BA%9B%E6%96%B9%E6%B3%95%E5%90%97-%E8%AF%B4%E4%B8%8B%E5%AE%83%E4%BB%AC%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},iG=s("#"),uG=s("95 \u4E86\u89E3history\u6709\u54EA\u4E9B\u65B9\u6CD5\u5417\uFF1F\u8BF4\u4E0B\u5B83\u4EEC\u7684\u533A\u522B"),kG=t(`<p>history \u8FD9\u4E2A\u5BF9\u8C61\u5728html5\u7684\u65F6\u5019\u65B0\u52A0\u5165\u4E24\u4E2Aapi <strong>history.pushState() \u548C history.repalceState()</strong> \u8FD9\u4E24\u4E2A API\u53EF\u4EE5\u5728\u4E0D\u8FDB\u884C\u5237\u65B0\u7684\u60C5\u51B5\u4E0B\uFF0C\u64CD\u4F5C\u6D4F\u89C8\u5668\u7684\u5386\u53F2\u7EAA\u5F55\u3002\u552F\u4E00\u4E0D\u540C\u7684\u662F\uFF0C\u524D\u8005\u662F\u65B0\u589E\u4E00\u4E2A\u5386\u53F2\u8BB0\u5F55\uFF0C\u540E\u8005\u662F\u76F4\u63A5\u66FF\u6362\u5F53\u524D\u7684\u5386\u53F2\u8BB0\u5F55\u3002</p><p>\u4ECE\u53C2\u6570\u4E0A\u6765\u8BF4\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span>title<span class="token punctuation">,</span>url<span class="token punctuation">)</span>
<span class="token comment">//state\uFF1A\u9700\u8981\u4FDD\u5B58\u7684\u6570\u636E\uFF0C\u8FD9\u4E2A\u6570\u636E\u5728\u89E6\u53D1popstate\u4E8B\u4EF6\u65F6\uFF0C\u53EF\u4EE5\u5728event.state\u91CC\u83B7\u53D6</span>
<span class="token comment">//title\uFF1A\u6807\u9898\uFF0C\u57FA\u672C\u6CA1\u7528\uFF0C\u4E00\u822C\u4F20null</span>
<span class="token comment">//url\uFF1A\u8BBE\u5B9A\u65B0\u7684\u5386\u53F2\u7EAA\u5F55\u7684url\u3002\u65B0\u7684url\u4E0E\u5F53\u524Durl\u7684origin\u5FC5\u987B\u662F\u4E00\u6837\u7684\uFF0C\u5426\u5219\u4F1A\u629B\u51FA\u9519\u8BEF\u3002url\u53EF\u4EE5\u65F6\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u4E5F\u53EF\u4EE5\u662F\u76F8\u5BF9\u8DEF\u5F84\u3002</span>
<span class="token comment">//\u5982 \u5F53\u524Durl\u662F https://www.baidu.com/a/,\u6267\u884Chistory.pushState(null, null, &#39;./qq/&#39;)\uFF0C\u5219\u53D8\u6210 https://www.baidu.com/a/qq/\uFF0C</span>
<span class="token comment">//\u6267\u884Chistory.pushState(null, null, &#39;/qq/&#39;)\uFF0C\u5219\u53D8\u6210 https://www.baidu.com/qq/</span>

window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span>title<span class="token punctuation">,</span>url<span class="token punctuation">)</span>
<span class="token comment">//\u4E0EpushState \u57FA\u672C\u76F8\u540C\uFF0C\u4F46\u5979\u662F\u4FEE\u6539\u5F53\u524D\u5386\u53F2\u7EAA\u5F55\uFF0C\u800C pushState \u662F\u521B\u5EFA\u65B0\u7684\u5386\u53F2\u7EAA\u5F55</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u53E6\u5916\u8FD8\u6709\uFF1A</p><ul><li><code>window.history.back()</code> \u540E\u9000</li><li><code>window.history.forward()</code>\u524D\u8FDB</li><li><code>window.history.go(1)</code> \u524D\u8FDB\u6216\u8005\u540E\u9000\u51E0\u6B65</li></ul><p>\u4ECE\u89E6\u53D1\u4E8B\u4EF6\u7684\u76D1\u542C\u4E0A\u6765\u8BF4\uFF1A</p><ul><li><code>pushState()</code>\u548C<code>replaceState()</code>\u4E0D\u80FD\u88AB<code>popstate</code>\u4E8B\u4EF6\u6240\u76D1\u542C</li><li>\u800C\u540E\u9762\u4E09\u8005\u53EF\u4EE5\uFF0C\u4E14\u7528\u6237\u70B9\u51FB\u6D4F\u89C8\u5668\u524D\u8FDB\u540E\u9000\u952E\u65F6\u4E5F\u53EF\u4EE5</li></ul>`,7),dG={id:"_96-\u5982\u4F55\u76D1\u542C-pushstate-\u548C-replacestate-\u7684\u53D8\u5316\u5462",tabindex:"-1"},bG=n("a",{class:"header-anchor",href:"#_96-\u5982\u4F55\u76D1\u542C-pushstate-\u548C-replacestate-\u7684\u53D8\u5316\u5462","aria-hidden":"true"},"#",-1),mG=s(),hG={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_96-%E5%A6%82%E4%BD%95%E7%9B%91%E5%90%AC-pushstate-%E5%92%8C-replacestate-%E7%9A%84%E5%8F%98%E5%8C%96%E5%91%A2",target:"_blank",rel:"noopener noreferrer"},_G=s("#"),gG=s("96 \u5982\u4F55\u76D1\u542C pushState \u548C replaceState \u7684\u53D8\u5316\u5462\uFF1F"),EG=t(`<p>\u5229\u7528\u81EA\u5B9A\u4E49\u4E8B\u4EF6<code>new Event()</code>\u521B\u5EFA\u8FD9\u4E24\u4E2A\u4E8B\u4EF6\uFF0C\u5E76\u5168\u5C40\u76D1\u542C\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token function">goPage2</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>\u53BBpage2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Page1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">goPage2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> count<span class="token operator">++</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">bb</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span><span class="token string">&#39;page1.html&#39;</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>history<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u8FD9\u4E2A\u4E0D\u80FD\u76D1\u542C\u5230 pushState</span>
    <span class="token comment">// window.addEventListener(&#39;popstate&#39;, function (event) {</span>
    <span class="token comment">//   console.log(event)</span>
    <span class="token comment">// })</span>
    <span class="token keyword">function</span> <span class="token function">createHistoryEvent</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> fn <span class="token operator">=</span> history<span class="token punctuation">[</span>type<span class="token punctuation">]</span>
      <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u8FD9\u91CC\u7684 arguments \u5C31\u662F\u8C03\u7528 pushState \u65F6\u7684\u4E09\u4E2A\u53C2\u6570\u96C6\u5408</span>
        <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
        <span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span>
        e<span class="token punctuation">.</span>arguments <span class="token operator">=</span> arguments
        window<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
        <span class="token keyword">return</span> res
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    history<span class="token punctuation">.</span>pushState <span class="token operator">=</span> <span class="token function">createHistoryEvent</span><span class="token punctuation">(</span><span class="token string">&#39;pushState&#39;</span><span class="token punctuation">)</span>
    history<span class="token punctuation">.</span>replaceState <span class="token operator">=</span> <span class="token function">createHistoryEvent</span><span class="token punctuation">(</span><span class="token string">&#39;replaceState&#39;</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;pushState&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// { type: &#39;pushState&#39;, arguments: [...], target: Window, ... }</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;replaceState&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div>`,2),fG={id:"_97-vue\u7EC4\u4EF6\u5185\u7684\u5BFC\u822A\u5B88\u536B\u6709\u54EA\u51E0\u4E2A",tabindex:"-1"},vG=n("a",{class:"header-anchor",href:"#_97-vue\u7EC4\u4EF6\u5185\u7684\u5BFC\u822A\u5B88\u536B\u6709\u54EA\u51E0\u4E2A","aria-hidden":"true"},"#",-1),wG=s(),yG={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_97-vue%E7%BB%84%E4%BB%B6%E5%86%85%E7%9A%84%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB%E6%9C%89%E5%93%AA%E5%87%A0%E4%B8%AA",target:"_blank",rel:"noopener noreferrer"},xG=s("#"),AG=s("97 Vue\u7EC4\u4EF6\u5185\u7684\u5BFC\u822A\u5B88\u536B\u6709\u54EA\u51E0\u4E2A\uFF1F"),BG=n("ul",null,[n("li",null,[n("code",null,"beforeRouteEnter")]),n("li",null,[n("code",null,"beforeRouteUpdate")]),n("li",null,[n("code",null,"beforeLeave")])],-1),qG={id:"_98-beforerouteenter\u548C\u53E6\u5916\u4E24\u4E2A\u6709\u4EC0\u4E48\u4E0D\u540C\u5417",tabindex:"-1"},jG=n("a",{class:"header-anchor",href:"#_98-beforerouteenter\u548C\u53E6\u5916\u4E24\u4E2A\u6709\u4EC0\u4E48\u4E0D\u540C\u5417","aria-hidden":"true"},"#",-1),SG=s(),CG={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_98-beforerouteenter%E5%92%8C%E5%8F%A6%E5%A4%96%E4%B8%A4%E4%B8%AA%E6%9C%89%E4%BB%80%E4%B9%88%E4%B8%8D%E5%90%8C%E5%90%97",target:"_blank",rel:"noopener noreferrer"},DG=s("#"),FG=s("98 beforeRouteEnter\u548C\u53E6\u5916\u4E24\u4E2A\u6709\u4EC0\u4E48\u4E0D\u540C\u5417\uFF1F"),PG=t(`<p><code>beforeRouteEnter</code>\u662F\u652F\u6301\u7ED9<code>next</code>\u4F20\u9012\u53C2\u6570\u7684\u552F\u4E00\u5B88\u536B\uFF0C\u56E0\u4E3A\u5728\u8FD9\u4E2A\u8DEF\u7531\u5B88\u536B\u4E2D\u8FD8<strong>\u4E0D\u80FD\u8BBF\u95EEthis</strong>\uFF0C\u800C\u4E3A\u4E86\u80FD\u8BA9\u6211\u4EEC\u8BBF\u95EE\u7EC4\u4EF6\u5B9E\u4F8B\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4F20\u4E00\u4E2A\u56DE\u8C03\u7ED9<code>next</code>\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">beforeRouteEnter</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">next</span><span class="token punctuation">(</span><span class="token parameter">vm</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// vm \u5C31\u662F\u7EC4\u4EF6\u5B9E\u4F8B</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>	
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u800C\u5BF9\u4E8E\u53E6\u5916\u4E24\u4E2A\uFF0C<code>this</code>\u5DF2\u7ECF\u53EF\u7528\uFF0C\u6240\u4EE5<strong>\u4E0D\u652F\u6301\u4F20\u9012\u56DE\u8C03</strong>\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">beforeRouteUpdate</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// just use \`this\`</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> to<span class="token punctuation">.</span>params<span class="token punctuation">.</span>name
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u79BB\u5F00\u5B88\u536B<code>beforeRouteLeave</code>\u901A\u5E38\u7528\u6765\u7981\u6B62\u7528\u6237\u8FD8\u672A\u4FDD\u5B58\u4FEE\u6539\u4E4B\u524D\u79BB\u5F00\uFF0C\u53EF\u4EE5\u901A\u8FC7<code>next(false)</code>\u6765\u53D6\u6D88\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> answer <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">&#39;Do you really want to leave? you have unsaved changes!&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>answer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>`,6),TG={id:"_99-\u5B8C\u6574\u7684\u5BFC\u822A\u89E3\u6790\u6D41\u7A0B",tabindex:"-1"},NG=n("a",{class:"header-anchor",href:"#_99-\u5B8C\u6574\u7684\u5BFC\u822A\u89E3\u6790\u6D41\u7A0B","aria-hidden":"true"},"#",-1),MG=s(),OG={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_99-%E5%AE%8C%E6%95%B4%E7%9A%84%E5%AF%BC%E8%88%AA%E8%A7%A3%E6%9E%90%E6%B5%81%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},IG=s("#"),RG=s("99 \u5B8C\u6574\u7684\u5BFC\u822A\u89E3\u6790\u6D41\u7A0B"),VG=t("<ol><li>\u5BFC\u822A\u88AB\u89E6\u53D1\u3002</li><li>\u5728\u5931\u6D3B\u7684\u7EC4\u4EF6\u91CC\u8C03\u7528\u79BB\u5F00\u5B88\u536B\u3002</li><li>\u8C03\u7528\u5168\u5C40\u7684 <code>beforeEach</code> \u5B88\u536B\u3002</li><li>\u5728\u91CD\u7528\u7684\u7EC4\u4EF6\u91CC\u8C03\u7528 <code>beforeRouteUpdate</code> \u5B88\u536B (2.2+)\u3002</li><li>\u5728\u8DEF\u7531\u914D\u7F6E\u91CC\u8C03\u7528 <code>beforeEnter</code>\u3002</li><li>\u89E3\u6790\u5F02\u6B65\u8DEF\u7531\u7EC4\u4EF6\u3002</li><li>\u5728\u88AB\u6FC0\u6D3B\u7684\u7EC4\u4EF6\u91CC\u8C03\u7528 <code>beforeRouteEnter</code>\u3002</li><li>\u8C03\u7528\u5168\u5C40\u7684 <code>beforeResolve</code> \u5B88\u536B (2.5+)\u3002</li><li>\u5BFC\u822A\u88AB\u786E\u8BA4\u3002</li><li>\u8C03\u7528\u5168\u5C40\u7684 <code>afterEach</code> \u94A9\u5B50\u3002</li><li>\u89E6\u53D1 DOM \u66F4\u65B0\u3002</li><li>\u7528\u521B\u5EFA\u597D\u7684\u5B9E\u4F8B\u8C03\u7528 <code>beforeRouteEnter</code> \u5B88\u536B\u4E2D\u4F20\u7ED9 <code>next</code> \u7684\u56DE\u8C03\u51FD\u6570\u3002</li></ol>",1),HG={id:"_100-\u4F60\u662F\u600E\u4E48\u770Bvue\u548Creact\u7684",tabindex:"-1"},LG=n("a",{class:"header-anchor",href:"#_100-\u4F60\u662F\u600E\u4E48\u770Bvue\u548Creact\u7684","aria-hidden":"true"},"#",-1),UG=s(),JG={href:"http://interview.poetries.top/excellent-docs/7-Vue.html#_100-%E4%BD%A0%E6%98%AF%E6%80%8E%E4%B9%88%E7%9C%8Bvue%E5%92%8Creact%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},WG=s("#"),zG=s("100 \u4F60\u662F\u600E\u4E48\u770BVue\u548CReact\u7684\uFF1F"),GG=t('<p>\u9996\u5148\u5B83\u4EEC\u90FD\u662F\u5F53\u4ECA\u6BD4\u8F83\u6D41\u884C\u7684\u524D\u7AEF\u6846\u67B6\u3002</p><p><strong>\u76F8\u540C\u70B9\uFF1A</strong></p><ol><li><code>Virtual DOM</code>\u3002\u5176\u4E2D\u6700\u5927\u7684\u4E00\u4E2A\u76F8\u4F3C\u4E4B\u5904\u5C31\u662F\u90FD\u4F7F\u7528\u4E86<code>Virtual DOM</code>\u3002(\u5F53\u7136<code>Vue</code>\u662F\u5728<code>Vue2.x</code>\u624D\u5F15\u7528\u7684)\u4E5F\u5C31\u662F\u80FD\u8BA9\u6211\u4EEC\u901A\u8FC7\u64CD\u4F5C\u6570\u636E\u7684\u65B9\u5F0F\u6765\u6539\u53D8\u771F\u5B9E\u7684<code>DOM</code>\u72B6\u6001\u3002\u56E0\u4E3A\u5176\u5B9E<code>Virtual DOM</code>\u7684\u672C\u8D28\u5C31\u662F\u4E00\u4E2A<code>JS</code>\u5BF9\u8C61\uFF0C\u5B83\u4FDD\u5B58\u4E86\u5BF9\u771F\u5B9E<code>DOM</code>\u7684\u6240\u6709\u63CF\u8FF0\uFF0C\u662F\u771F\u5B9E<code>DOM</code>\u7684\u4E00\u4E2A\u6620\u5C04\uFF0C\u6240\u4EE5\u5F53\u6211\u4EEC\u5728\u8FDB\u884C\u9891\u7E41\u66F4\u65B0\u5143\u7D20\u7684\u65F6\u5019\uFF0C\u6539\u53D8\u8FD9\u4E2A<code>JS</code>\u5BF9\u8C61\u7684\u5F00\u9500\u8FDC\u6BD4\u76F4\u63A5\u6539\u53D8\u771F\u5B9E<code>DOM</code>\u8981\u5C0F\u5F97\u591A\u3002</li><li>\u7EC4\u4EF6\u5316\u7684\u5F00\u53D1\u601D\u60F3\u3002\u7B2C\u4E8C\u70B9\u6765\u8BF4\u5C31\u662F\u5B83\u4EEC\u90FD\u63D0\u5021\u8FD9\u79CD\u7EC4\u4EF6\u5316\u7684\u5F00\u53D1\u601D\u60F3\uFF0C\u4E5F\u5C31\u662F\u5EFA\u8BAE\u5C06\u5E94\u7528\u5206\u62C6\u6210\u4E00\u4E2A\u4E2A\u529F\u80FD\u660E\u786E\u7684\u6A21\u5757\uFF0C\u518D\u5C06\u8FD9\u4E9B\u6A21\u5757\u6574\u5408\u5728\u4E00\u8D77\u4EE5\u6EE1\u8DB3\u6211\u4EEC\u7684\u4E1A\u52A1\u9700\u6C42\u3002</li><li><code>Props</code>\u3002<code>Vue</code>\u548C<code>React</code>\u4E2D\u90FD\u6709<code>props</code>\u7684\u6982\u5FF5\uFF0C\u5141\u8BB8\u7236\u7EC4\u4EF6\u5411\u5B50\u7EC4\u4EF6\u4F20\u9012\u6570\u636E\u3002</li><li>\u6784\u5EFA\u5DE5\u5177\u3001Chrome\u63D2\u4EF6\u3001\u914D\u5957\u6846\u67B6\u3002\u8FD8\u6709\u5C31\u662F\u5B83\u4EEC\u7684\u6784\u5EFA\u5DE5\u5177\u4EE5\u53CAChrome\u63D2\u4EF6\u3001\u914D\u5957\u6846\u67B6\u90FD\u5F88\u5B8C\u5584\u3002\u6BD4\u5982\u6784\u5EFA\u5DE5\u5177\uFF0C<code>React</code>\u4E2D\u53EF\u4EE5\u4F7F\u7528<code>CRA</code>\uFF0C<code>Vue</code>\u4E2D\u53EF\u4EE5\u4F7F\u7528\u5BF9\u5E94\u7684\u811A\u624B\u67B6<code>vue-cli</code>\u3002\u5BF9\u4E8E\u914D\u5957\u6846\u67B6<code>Vue</code>\u4E2D\u6709<code>vuex\u3001vue-router</code>\uFF0C<code>React</code>\u4E2D\u6709<code>react-router\u3001redux</code>\u3002</li></ol><p><strong>\u4E0D\u540C\u70B9</strong></p><ol><li>\u6A21\u7248\u7684\u7F16\u5199\u3002\u6700\u5927\u7684\u4E0D\u540C\u5C31\u662F\u6A21\u7248\u7684\u7F16\u5199\uFF0C<code>Vue</code>\u9F13\u52B1\u4F60\u53BB\u5199\u8FD1\u4F3C\u5E38\u89C4<code>HTML</code>\u7684\u6A21\u677F\uFF0C<code>React</code>\u63A8\u8350\u4F60\u4F7F\u7528<code>JSX</code>\u53BB\u4E66\u5199\u3002</li><li>\u72B6\u6001\u7BA1\u7406\u4E0E\u5BF9\u8C61\u5C5E\u6027\u3002\u5728<code>React</code>\u4E2D\uFF0C\u5E94\u7528\u7684\u72B6\u6001\u662F\u6BD4\u8F83\u5173\u952E\u7684\u6982\u5FF5\uFF0C\u4E5F\u5C31\u662F<code>state</code>\u5BF9\u8C61\uFF0C\u5B83\u5141\u8BB8\u4F60\u4F7F\u7528<code>setState</code>\u53BB\u66F4\u65B0\u72B6\u6001\u3002\u4F46\u662F\u5728<code>Vue</code>\u4E2D\uFF0C<code>state</code>\u5BF9\u8C61\u5E76\u4E0D\u662F\u5FC5\u987B\u7684\uFF0C\u6570\u636E\u662F\u7531<code>data</code>\u5C5E\u6027\u5728<code>Vue</code>\u5BF9\u8C61\u4E2D\u8FDB\u884C\u7BA1\u7406\u3002</li><li>\u865A\u62DF<code>DOM</code>\u7684\u5904\u7406\u65B9\u5F0F\u4E0D\u540C\u3002<code>Vue</code>\u4E2D\u7684\u865A\u62DF<code>DOM</code>\u63A7\u5236\u4E86\u9897\u7C92\u5EA6\uFF0C\u7EC4\u4EF6\u5C42\u9762\u8D70<code>watcher</code>\u901A\u77E5\uFF0C\u800C\u7EC4\u4EF6\u5185\u90E8\u8D70<code>vdom</code>\u505A<code>diff</code>\uFF0C\u8FD9\u6837\uFF0C\u65E2\u4E0D\u4F1A\u6709\u592A\u591A<code>watcher</code>\uFF0C\u4E5F\u4E0D\u4F1A\u8BA9<code>vdom</code>\u7684\u89C4\u6A21\u8FC7\u5927\u3002\u800C<code>React</code>\u8D70\u4E86\u7C7B\u4F3C\u4E8E<code>CPU</code>\u8C03\u5EA6\u7684\u903B\u8F91\uFF0C\u628A<code>vdom</code>\u8FD9\u68F5\u6811\uFF0C\u5FAE\u89C2\u4E0A\u53D8\u6210\u4E86\u94FE\u8868\uFF0C\u7136\u540E\u5229\u7528\u6D4F\u89C8\u5668\u7684\u7A7A\u95F2\u65F6\u95F4\u6765\u505A<code>diff</code>\u3002</li></ol><h1 id="_8-node\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#_8-node\u6A21\u5757" aria-hidden="true">#</a> 8 Node\u6A21\u5757</h1><blockquote><p>\u5F53\u9762\u8BD5\u5B98\u95EE\u4F60<code>node</code>\u7684\u65F6\u5019\uFF0C\u66F4\u591A\u5F15\u5BFC\u9762\u8BD5\u5B98\u7528<code>node</code>\u505A\u524D\u7AEF\u5DE5\u7A0B\u5316\uFF0C\u53BB\u5F15\u5BFC\u5230<code>webpack</code>\u3001<code>npm</code>\u3001\u6253\u5305\u5DE5\u5177\u4E0A\u9762\u53BB\u8BF4\u8BF4\u81EA\u5DF1\u7684\u60F3\u6CD5\uFF0C\u4E0D\u8981\u5F15\u5BFC\u5230\u81EA\u5DF1\u4F1A\u540E\u7AEF\uFF0C\u540E\u53F0\u4E0D\u662F\u4F1A\u4E00\u70B9<code>node</code>\u8BED\u6CD5\u5C31\u80FD\u5199\u7684</p></blockquote>',7),$G={id:"_1-package-json\u7248\u672C\u53F7\u89C4\u5219",tabindex:"-1"},XG=n("a",{class:"header-anchor",href:"#_1-package-json\u7248\u672C\u53F7\u89C4\u5219","aria-hidden":"true"},"#",-1),KG=s(),QG={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#_1-package-json%E7%89%88%E6%9C%AC%E5%8F%B7%E8%A7%84%E5%88%99",target:"_blank",rel:"noopener noreferrer"},YG=s("#"),ZG=s("1 package.json\u7248\u672C\u53F7\u89C4\u5219"),n$=t("<p><strong>major.minor.patch</strong></p><ul><li>\u4E3B\u7248\u672C\u53F7.\u6B21\u7248\u672C\u53F7.\u4FEE\u8865\u7248\u672C\u53F7</li><li><code>patch</code>\uFF1A\u4FEE\u590D<code>bug</code>\uFF0C\u517C\u5BB9\u8001\u7248\u672C</li><li><code>minor</code>\uFF1A\u65B0\u589E\u529F\u80FD\uFF0C\u517C\u5BB9\u8001\u7248\u672C</li><li><code>major</code>\uFF1A\u65B0\u7684\u67B6\u6784\u8C03\u6574\uFF0C\u4E0D\u517C\u5BB9\u8001\u7248\u672C</li></ul><p><strong>~\u548C^\u7684\u533A\u522B</strong></p><ul><li><code>~</code>\u4F1A\u5339\u914D\u6700\u8FD1\u7684\u5C0F\u7248\u672C\u4F9D\u8D56\u5305\uFF0C\u6BD4\u5982<code>~1.2.3</code>\u4F1A\u5339\u914D\u6240\u6709<code>1.2.x</code>\u7248\u672C\uFF0C\u4F46\u662F\u4E0D\u5305\u62EC<code>1.3.0</code></li><li><code>^</code>\u4F1A\u5339\u914D\u6700\u65B0\u7684\u5927\u7248\u672C\u4F9D\u8D56\u5305\uFF0C\u6BD4\u5982<code>^1.2.3</code>\u4F1A\u5339\u914D\u6240\u6709<code>1.x.x</code>\u7684\u5305\uFF0C\u5305\u62EC<code>1.3.0</code>\uFF0C\u4F46\u662F\u4E0D\u5305\u62EC<code>2.0.0</code></li></ul>",4),s$={id:"_2-npm-\u6A21\u5757\u5B89\u88C5\u673A\u5236",tabindex:"-1"},a$=n("a",{class:"header-anchor",href:"#_2-npm-\u6A21\u5757\u5B89\u88C5\u673A\u5236","aria-hidden":"true"},"#",-1),e$=s(),t$={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#_2-npm-%E6%A8%A1%E5%9D%97%E5%AE%89%E8%A3%85%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"},p$=s("#"),o$=s("2 npm \u6A21\u5757\u5B89\u88C5\u673A\u5236"),c$=t("<ul><li>\u53D1\u51FA <code>npm install</code> \u547D\u4EE4 <code>1</code> \u67E5\u8BE2 <code>node_modules</code> \u76EE\u5F55\u4E4B\u4E2D\u662F\u5426\u5DF2\u7ECF\u5B58\u5728\u6307\u5B9A\u6A21\u5757</li><li>\u82E5\u5B58\u5728\uFF0C\u4E0D\u518D\u91CD\u65B0\u5B89\u88C5</li><li>\u82E5\u4E0D\u5B58\u5728</li><li><code>npm</code> \u5411 <code>registry</code> \u67E5\u8BE2\u6A21\u5757\u538B\u7F29\u5305\u7684\u7F51\u5740</li><li>\u4E0B\u8F7D\u538B\u7F29\u5305\uFF0C\u5B58\u653E\u5728\u6839\u76EE\u5F55\u4E0B\u7684<code>.npm</code> \u76EE\u5F55\u91CC</li><li>\u89E3\u538B\u538B\u7F29\u5305\u5230\u5F53\u524D\u9879\u76EE\u7684 <code>node_modules</code> \u76EE\u5F55</li></ul>",1),l$={id:"_3-\u6A21\u5757\u5316\u7684\u5DEE\u5F02-amd-cmd-commonjs-esmodule",tabindex:"-1"},r$=n("a",{class:"header-anchor",href:"#_3-\u6A21\u5757\u5316\u7684\u5DEE\u5F02-amd-cmd-commonjs-esmodule","aria-hidden":"true"},"#",-1),i$=s(),u$={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#_3-%E6%A8%A1%E5%9D%97%E5%8C%96%E7%9A%84%E5%B7%AE%E5%BC%82-amd-cmd-commonjs-esmodule",target:"_blank",rel:"noopener noreferrer"},k$=s("#"),d$=s("3 \u6A21\u5757\u5316\u7684\u5DEE\u5F02 AMD CMD COMMONJS ESMODULE"),b$=t("<ul><li><code>AMD</code>\u662F\u4F9D\u8D56\u524D\u7F6E\uFF0C<code>define</code>\u5199\u6CD5</li><li><code>CMD</code> \u8BED\u6CD5<code>require</code></li><li><code>AMD</code>\u548C<code>CMD</code>\u662F\u52A8\u6001\u5F15\u5165\uFF0C\u8FD0\u884C\u65F6\u624D\u77E5\u9053\u7684</li><li><code>ESMODULE</code>\u662F\u9759\u6001\u5F15\u5165\uFF0C\u597D\u5904\u65B9\u4FBF<code>wepback</code>\u6253\u5305\u4F9D\u8D56\u56FE\u8C31\u5206\u6790</li><li><code>CommonJs</code> \u662F\u5355\u4E2A\u503C\u5BFC\u51FA\uFF0C<code>ES6 Module</code> \u53EF\u4EE5\u5BFC\u51FA\u591A\u4E2A</li><li><code>CommonJs</code> \u662F\u52A8\u6001\u8BED\u6CD5\u53EF\u4EE5\u5199\u5728\u5224\u65AD\u91CC\uFF0C<code>ES6 Module</code> \u9759\u6001\u8BED\u6CD5\u53EA\u80FD\u5199\u5728\u9876\u5C42</li><li><code>CommonJs</code> \u7684 <code>this</code> \u662F\u5F53\u524D\u6A21\u5757\uFF0C<code>ES6 Module</code>\u7684 <code>this</code> \u662F <code>undefined</code></li></ul>",1),m$={id:"_4-node-\u7684-event-loop-6\u4E2A\u9636\u6BB5",tabindex:"-1"},h$=n("a",{class:"header-anchor",href:"#_4-node-\u7684-event-loop-6\u4E2A\u9636\u6BB5","aria-hidden":"true"},"#",-1),_$=s(),g$={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#_4-node-%E7%9A%84-event-loop-6%E4%B8%AA%E9%98%B6%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"},E$=s("#"),f$=s("4 Node \u7684 Event Loop: 6\u4E2A\u9636\u6BB5"),v$=t(`<ul><li><p><code>timer</code> \u9636\u6BB5: \u6267\u884C\u5230\u671F\u7684<code>setTimeout / setInterval</code>\u961F\u5217\u56DE\u8C03</p></li><li><p><code>I/O</code> \u9636\u6BB5: \u6267\u884C\u4E0A\u8F6E\u5FAA\u73AF\u6B8B\u6D41\u7684<code>callback</code></p></li><li><p><code>idle</code>, <code>prepare</code></p></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>poll
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>: \u7B49\u5F85\u56DE\u8C03</p><ul><li><ol><li>\u6267\u884C\u56DE\u8C03</li></ol></li><li><ol><li>\u6267\u884C\u5B9A\u65F6\u5668</li></ol><ul><li>\u5982\u6709\u5230\u671F\u7684<code>setTimeout / setInterval</code>\uFF0C \u5219\u8FD4\u56DE <code>timer</code> \u9636\u6BB5</li><li>\u5982\u6709<code>setImmediate</code>\uFF0C\u5219\u524D\u5F80 <code>check</code> \u9636\u6BB5</li></ul></li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>check
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u6267\u884C<code>setImmediate</code></li></ul></li><li><p><code>close callbacks</code></p></li></ul>`,1),w$={id:"_5-koa\u76F8\u5173",tabindex:"-1"},y$=n("a",{class:"header-anchor",href:"#_5-koa\u76F8\u5173","aria-hidden":"true"},"#",-1),x$=s(),A$={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#_5-koa%E7%9B%B8%E5%85%B3",target:"_blank",rel:"noopener noreferrer"},B$=s("#"),q$=s("5 Koa\u76F8\u5173"),j$={id:"koa\u6D0B\u8471\u6A21\u578B\u600E\u4E48\u5B9E\u73B0\u7684",tabindex:"-1"},S$=n("a",{class:"header-anchor",href:"#koa\u6D0B\u8471\u6A21\u578B\u600E\u4E48\u5B9E\u73B0\u7684","aria-hidden":"true"},"#",-1),C$=s(),D$={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#koa%E6%B4%8B%E8%91%B1%E6%A8%A1%E5%9E%8B%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},F$=s("#"),P$=s("koa\u6D0B\u8471\u6A21\u578B\u600E\u4E48\u5B9E\u73B0\u7684"),T$=t(`<p><img src="http://img-repo.poetries.top/images/20210517094050.png" alt="img"></p><ul><li>\u4E2D\u95F4\u4EF6\u6267\u884C\u5C31\u50CF\u6D0B\u8471\u4E00\u6837\uFF0C\u6700\u65E9 use \u7684\u4E2D\u95F4\u4EF6\uFF0C\u5C31\u653E\u5728\u6700\u5916\u5C42\u3002\u5904\u7406\u987A\u5E8F\u4ECE\u5DE6\u5230\u53F3\uFF0C\u5DE6\u8FB9\u63A5\u6536\u4E00\u4E2A request\uFF0C\u53F3\u8FB9\u8F93\u51FA\u8FD4\u56DE response</li><li>\u4E00\u822C\u7684\u4E2D\u95F4\u4EF6\u90FD\u4F1A\u6267\u884C\u4E24\u6B21\uFF0C\u8C03\u7528 next \u4E4B\u524D\u4E3A\u7B2C\u4E00\u6B21\uFF0C\u8C03\u7528 next \u65F6\u628A\u63A7\u5236\u4F20\u9012\u7ED9\u4E0B\u6E38\u7684\u4E0B\u4E00\u4E2A\u4E2D\u95F4\u4EF6\u3002\u5F53\u4E0B\u6E38\u4E0D\u518D\u6709\u4E2D\u95F4\u4EF6\u6216\u8005\u6CA1\u6709\u6267\u884C next \u51FD\u6570\u65F6\uFF0C\u5C31\u5C06\u4F9D\u6B21\u6062\u590D\u4E0A\u6E38\u4E2D\u95F4\u4EF6\u7684\u884C\u4E3A\uFF0C\u8BA9\u4E0A\u6E38\u4E2D\u95F4\u4EF6\u6267\u884C next \u4E4B\u540E\u7684\u4EE3\u7801</li></ul><p>\u4F8B\u5982\u4E0B\u9762\u8FD9\u6BB5\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Koa <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;koa&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Koa</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3001</span><span class="token punctuation">)</span>
<span class="token comment">//\u6267\u884C\u7ED3\u679C\u662F1=&gt;2=&gt;3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>app.use()\` \u628A\u4E2D\u95F4\u4EF6\u51FD\u6570\u5B58\u50A8\u5728\`middleware\`\u6570\u7EC4\u4E2D\uFF0C\u6700\u7EC8\u4F1A\u8C03\u7528\`koa-compose\`\u5BFC\u51FA\u7684\u51FD\u6570compose\u8FD4\u56DE\u4E00\u4E2Apromise\uFF0C\u4E2D\u95F4\u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\`ctx\`\u662F\u5305\u542B\u54CD\u5E94\u548C\u8BF7\u6C42\u7684\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u4F1A\u4E0D\u65AD\u4F20\u9012\u7ED9\u4E0B\u4E00\u4E2A\u4E2D\u95F4\u4EF6\u3002next\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\`promise
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><p><strong>koa \u4E2D\u95F4\u4EF6\u5B9E\u73B0\u6E90\u7801\u5927\u81F4\u601D\u8DEF\u5982\u4E0B\uFF1A</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u6CE8\u610F\u5176\u4E2D\u7684compose\u51FD\u6570\uFF0C\u8FD9\u4E2A\u51FD\u6570\u662F\u5B9E\u73B0\u4E2D\u95F4\u4EF6\u6D0B\u8471\u6A21\u578B\u7684\u5173\u952E</span>
<span class="token comment">// \u573A\u666F\u6A21\u62DF</span>
<span class="token comment">// \u5F02\u6B65 promise \u6A21\u62DF</span>
<span class="token keyword">const</span> <span class="token function-variable function">delay</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u4E2D\u95F4\u95F4\u6A21\u62DF</span>
<span class="token keyword">const</span> <span class="token function-variable function">fn1</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">fn2</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">fn3</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> middlewares <span class="token operator">=</span> <span class="token punctuation">[</span>fn1<span class="token punctuation">,</span> fn2<span class="token punctuation">,</span> fn3<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// compose \u5B9E\u73B0\u6D0B\u8471\u6A21\u578B</span>
<span class="token keyword">const</span> <span class="token function-variable function">compose</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">middlewares<span class="token punctuation">,</span> ctx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">dispatch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> fn <span class="token operator">=</span> middlewares<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>fn<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">dispatch</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">compose</span><span class="token punctuation">(</span>middlewares<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div>`,7),N$={id:"\u5982\u679C\u4E2D\u95F4\u4EF6\u4E2D\u7684next-\u65B9\u6CD5\u62A5\u9519\u4E86\u600E\u4E48\u529E",tabindex:"-1"},M$=n("a",{class:"header-anchor",href:"#\u5982\u679C\u4E2D\u95F4\u4EF6\u4E2D\u7684next-\u65B9\u6CD5\u62A5\u9519\u4E86\u600E\u4E48\u529E","aria-hidden":"true"},"#",-1),O$=s(),I$={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#%E5%A6%82%E6%9E%9C%E4%B8%AD%E9%97%B4%E4%BB%B6%E4%B8%AD%E7%9A%84next-%E6%96%B9%E6%B3%95%E6%8A%A5%E9%94%99%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E",target:"_blank",rel:"noopener noreferrer"},R$=s("#"),V$=s("\u5982\u679C\u4E2D\u95F4\u4EF6\u4E2D\u7684next()\u65B9\u6CD5\u62A5\u9519\u4E86\u600E\u4E48\u529E"),H$=n("blockquote",null,[n("p",null,[s("\u4E2D\u95F4\u4EF6\u94FE\u9519\u8BEF\u4F1A\u7531"),n("code",null,"ctx.onerror"),s("\u6355\u83B7\uFF0C\u8BE5\u51FD\u6570\u4E2D\u4F1A\u8C03\u7528"),n("code",null,"this.app.emit('error', err, this)"),s("\uFF08\u56E0\u4E3Akoa\u7EE7\u627F\u81EAevents\u6A21\u5757\uFF0C\u6240\u4EE5\u6709'emit'\u548Con\u7B49\u65B9\u6CD5\uFF09\uFF0C\u53EF\u4EE5\u4F7F\u7528"),n("code",null,"app.on('error', (err) => {})"),s("\uFF0C\u6216\u8005"),n("code",null,"app.onerror = (err) => {}"),s("\u8FDB\u884C\u6355\u83B7\u3002")])],-1),L$={id:"co\u7684\u539F\u7406\u662F\u600E\u6837\u7684",tabindex:"-1"},U$=n("a",{class:"header-anchor",href:"#co\u7684\u539F\u7406\u662F\u600E\u6837\u7684","aria-hidden":"true"},"#",-1),J$=s(),W$={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#co%E7%9A%84%E5%8E%9F%E7%90%86%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},z$=s("#"),G$=s("co\u7684\u539F\u7406\u662F\u600E\u6837\u7684"),$$=n("blockquote",null,[n("p",null,[s("co\u7684\u539F\u7406\u662F\u901A\u8FC7\u4E0D\u65AD\u8C03\u7528generator\u51FD\u6570\u7684"),n("code",null,"next"),s("\u65B9\u6CD5\u6765\u8FBE\u5230\u81EA\u52A8\u6267\u884Cgenerator\u51FD\u6570\u7684\uFF0C\u7C7B\u4F3Casync\u3001await\u51FD\u6570\u81EA\u52A8\u6267\u884C")])],-1),X$={id:"_6-express\u3001koa\u5B9E\u73B0\u539F\u7406\u4EE5\u53CA\u5BF9\u6BD4",tabindex:"-1"},K$=n("a",{class:"header-anchor",href:"#_6-express\u3001koa\u5B9E\u73B0\u539F\u7406\u4EE5\u53CA\u5BF9\u6BD4","aria-hidden":"true"},"#",-1),Q$=s(),Y$={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#_6-express%E3%80%81koa%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E4%BB%A5%E5%8F%8A%E5%AF%B9%E6%AF%94",target:"_blank",rel:"noopener noreferrer"},Z$=s("#"),nX=s("6 Express\u3001koa\u5B9E\u73B0\u539F\u7406\u4EE5\u53CA\u5BF9\u6BD4"),sX=t(`<blockquote><p>\u5E95\u5C42\u5EFA\u7ACB\u5728<code>node.js</code>\u5185\u7F6E\u7684http\u6A21\u5757\u4E0A\u3002http\u6A21\u5757\u751F\u6210\u670D\u52A1\u5668\u7684\u539F\u59CB\u4EE3\u7801\u5982\u4E0B</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> app <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  response<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string-property property">&quot;Content-Type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><code>Express</code>\u6846\u67B6\u7684\u6838\u5FC3\u662F\u5BF9http\u6A21\u5757\u7684\u518D\u5305\u88C5</li><li><code>Express</code>\u6846\u67B6\u7B49\u4E8E\u5728http\u6A21\u5757\u4E4B\u4E0A\uFF0C\u52A0\u4E86\u4E00\u4E2A\u4E2D\u95F4\u5C42</li><li>\u5B83\u6700\u5927\u7684\u7279\u70B9\u5C31\u662F\uFF0C\u4E00\u4E2A\u4E2D\u95F4\u4EF6\u5904\u7406\u5B8C\uFF0C\u518D\u4F20\u9012\u7ED9\u4E0B\u4E00\u4E2A\u4E2D\u95F4\u4EF6</li><li>\u6BD4\u5982\u81EA\u5E26 <code>Router</code>\u3001\u8DEF\u7531\u89C4\u5219\u7B49</li><li><code>callback</code>\u592A\u591A</li></ul><p><strong>koa2\u7279\u70B9</strong></p><ul><li>\u6D0B\u8471\u6A21\u578B</li><li>\u6CA1\u6709\u81EA\u5E26\u8DEF\u7531\uFF0C\u7531koa-router\u7BA1\u7406</li><li>\u6CA1\u6709callback</li></ul>`,5),aX={id:"_7-\u8BF7\u4ECB\u7ECD\u4E00\u4E0B-require-\u7684\u6A21\u5757\u52A0\u8F7D\u673A\u5236",tabindex:"-1"},eX=n("a",{class:"header-anchor",href:"#_7-\u8BF7\u4ECB\u7ECD\u4E00\u4E0B-require-\u7684\u6A21\u5757\u52A0\u8F7D\u673A\u5236","aria-hidden":"true"},"#",-1),tX=s(),pX={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#_7-%E8%AF%B7%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8B-require-%E7%9A%84%E6%A8%A1%E5%9D%97%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"},oX=s("#"),cX=s("7 \u8BF7\u4ECB\u7ECD\u4E00\u4E0B require \u7684\u6A21\u5757\u52A0\u8F7D\u673A\u5236"),lX=t(`<p>\u8FD9\u9053\u9898\u57FA\u672C\u4E0A\u5C31\u53EF\u4EE5\u4E86\u89E3\u5230\u9762\u8BD5\u8005\u5BF9 Node \u6A21\u5757\u673A\u5236\u7684\u4E86\u89E3\u7A0B\u5EA6 \u57FA\u672C\u4E0A\u9762\u8BD5\u63D0\u5230</p><ul><li>\u5148\u8BA1\u7B97\u6A21\u5757\u8DEF\u5F84</li><li>\u5982\u679C\u6A21\u5757\u5728\u7F13\u5B58\u91CC\u9762\uFF0C\u53D6\u51FA\u7F13\u5B58</li><li>\u52A0\u8F7D\u6A21\u5757</li><li>\u8F93\u51FA\u6A21\u5757\u7684 <code>exports</code> \u5C5E\u6027\u5373\u53EF</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// require \u5176\u5B9E\u5185\u90E8\u8C03\u7528 Module._load \u65B9\u6CD5</span>
Module<span class="token punctuation">.</span><span class="token function-variable function">_load</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> isMain</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//  \u8BA1\u7B97\u7EDD\u5BF9\u8DEF\u5F84</span>
  <span class="token keyword">var</span> filename <span class="token operator">=</span> Module<span class="token punctuation">.</span><span class="token function">_resolveFilename</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//  \u7B2C\u4E00\u6B65\uFF1A\u5982\u679C\u6709\u7F13\u5B58\uFF0C\u53D6\u51FA\u7F13\u5B58</span>
  <span class="token keyword">var</span> cachedModule <span class="token operator">=</span> Module<span class="token punctuation">.</span>_cache<span class="token punctuation">[</span>filename<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>cachedModule<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> cachedModule<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>

  <span class="token comment">// \u7B2C\u4E8C\u6B65\uFF1A\u662F\u5426\u4E3A\u5185\u7F6E\u6A21\u5757</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>NativeModule<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> NativeModule<span class="token punctuation">.</span><span class="token function">require</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token doc-comment comment">/********************************\u8FD9\u91CC\u6CE8\u610F\u4E86**************************/</span>
  <span class="token comment">// \u7B2C\u4E09\u6B65\uFF1A\u751F\u6210\u6A21\u5757\u5B9E\u4F8B\uFF0C\u5B58\u5165\u7F13\u5B58</span>
  <span class="token comment">// \u8FD9\u91CC\u7684Module\u5C31\u662F\u6211\u4EEC\u4E0A\u9762\u76841.1\u5B9A\u4E49\u7684Module</span>
  <span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Module</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Module<span class="token punctuation">.</span>_cache<span class="token punctuation">[</span>filename<span class="token punctuation">]</span> <span class="token operator">=</span> module<span class="token punctuation">;</span>

  <span class="token doc-comment comment">/********************************\u8FD9\u91CC\u6CE8\u610F\u4E86**************************/</span>
  <span class="token comment">// \u7B2C\u56DB\u6B65\uFF1A\u52A0\u8F7D\u6A21\u5757</span>
  <span class="token comment">// \u4E0B\u9762\u7684module.load\u5B9E\u9645\u4E0A\u662FModule\u539F\u578B\u4E0A\u6709\u4E00\u4E2A\u65B9\u6CD5\u53EBModule.prototype.load</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    module<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
    hadException <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hadException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">delete</span> Module<span class="token punctuation">.</span>_cache<span class="token punctuation">[</span>filename<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u7B2C\u4E94\u6B65\uFF1A\u8F93\u51FA\u6A21\u5757\u7684exports\u5C5E\u6027</span>
  <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div>`,3),rX={id:"_8-exports-xxx-xxx-\u548C-module-exports-\u6709\u4EC0\u4E48\u533A\u522B",tabindex:"-1"},iX=n("a",{class:"header-anchor",href:"#_8-exports-xxx-xxx-\u548C-module-exports-\u6709\u4EC0\u4E48\u533A\u522B","aria-hidden":"true"},"#",-1),uX=s(),kX={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#_8-exports-xxx-xxx-%E5%92%8C-module-exports-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},dX=s("#"),bX=s("8 exports.xxx=xxx \u548C Module.exports={}\u6709\u4EC0\u4E48\u533A\u522B"),mX=t(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>exports\` \u5176\u5B9E\u5C31\u662F \`module.exports
// module.exports vs exports
// \u5F88\u591A\u65F6\u5019\uFF0C\u4F60\u4F1A\u770B\u5230\uFF0C\u5728Node\u73AF\u5883\u4E2D\uFF0C\u6709\u4E24\u79CD\u65B9\u6CD5\u53EF\u4EE5\u5728\u4E00\u4E2A\u6A21\u5757\u4E2D\u8F93\u51FA\u53D8\u91CF\uFF1A

// \u65B9\u6CD5\u4E00\uFF1A\u5BF9module.exports\u8D4B\u503C\uFF1A

// hello.js

function hello() {
    console.log(&#39;Hello, world!&#39;);
}

function greet(name) {
    console.log(&#39;Hello, &#39; + name + &#39;!&#39;);
}

module.exports = {
    hello: hello,
    greet: greet
};

// \u65B9\u6CD5\u4E8C\uFF1A\u76F4\u63A5\u4F7F\u7528exports\uFF1A

// hello.js

function hello() {
    console.log(&#39;Hello, world!&#39;);
}

function greet(name) {
    console.log(&#39;Hello, &#39; + name + &#39;!&#39;);
}

function hello() {
    console.log(&#39;Hello, world!&#39;);
}

exports.hello = hello;
exports.greet = greet;

// \u4F46\u662F\u4F60\u4E0D\u53EF\u4EE5\u76F4\u63A5\u5BF9exports\u8D4B\u503C\uFF1A

// \u4EE3\u7801\u53EF\u4EE5\u6267\u884C\uFF0C\u4F46\u662F\u6A21\u5757\u5E76\u6CA1\u6709\u8F93\u51FA\u4EFB\u4F55\u53D8\u91CF:
exports = {
    hello: hello,
    greet: greet
};

// \u5982\u679C\u4F60\u5BF9\u4E0A\u9762\u7684\u5199\u6CD5\u611F\u5230\u5341\u5206\u56F0\u60D1\uFF0C\u4E0D\u8981\u7740\u6025\uFF0C\u6211\u4EEC\u6765\u5206\u6790Node\u7684\u52A0\u8F7D\u673A\u5236\uFF1A

// \u9996\u5148\uFF0CNode\u4F1A\u628A\u6574\u4E2A\u5F85\u52A0\u8F7D\u7684hello.js\u6587\u4EF6\u653E\u5165\u4E00\u4E2A\u5305\u88C5\u51FD\u6570load\u4E2D\u6267\u884C\u3002\u5728\u6267\u884C\u8FD9\u4E2Aload()\u51FD\u6570\u524D\uFF0CNode\u51C6\u5907\u597D\u4E86module\u53D8\u91CF\uFF1A

var module = {
    id: &#39;hello&#39;,
    exports: {}
};

// load()\u51FD\u6570\u6700\u7EC8\u8FD4\u56DEmodule.exports\uFF1A

var load = function (exports, module) {
    // hello.js\u7684\u6587\u4EF6\u5185\u5BB9
    ...
    // load\u51FD\u6570\u8FD4\u56DE:
    return module.exports;
};

var exportes = load(module.exports, module);

// \u4E5F\u5C31\u662F\u8BF4\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CNode\u51C6\u5907\u7684exports\u53D8\u91CF\u548Cmodule.exports\u53D8\u91CF\u5B9E\u9645\u4E0A\u662F\u540C\u4E00\u4E2A\u53D8\u91CF\uFF0C\u5E76\u4E14\u521D\u59CB\u5316\u4E3A\u7A7A\u5BF9\u8C61{}\uFF0C\u4E8E\u662F\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5199\uFF1A

exports.foo = function () { return &#39;foo&#39;; };
exports.bar = function () { return &#39;bar&#39;; };

// \u4E5F\u53EF\u4EE5\u5199\uFF1A

module.exports.foo = function () { return &#39;foo&#39;; };
module.exports.bar = function () { return &#39;bar&#39;; };

// \u6362\u53E5\u8BDD\u8BF4\uFF0CNode\u9ED8\u8BA4\u7ED9\u4F60\u51C6\u5907\u4E86\u4E00\u4E2A\u7A7A\u5BF9\u8C61{}\uFF0C\u8FD9\u6837\u4F60\u53EF\u4EE5\u76F4\u63A5\u5F80\u91CC\u9762\u52A0\u4E1C\u897F\u3002

// \u4F46\u662F\uFF0C\u5982\u679C\u6211\u4EEC\u8981\u8F93\u51FA\u7684\u662F\u4E00\u4E2A\u51FD\u6570\u6216\u6570\u7EC4\uFF0C\u90A3\u4E48\uFF0C\u53EA\u80FD\u7ED9module.exports\u8D4B\u503C\uFF1A

module.exports = function () { return &#39;foo&#39;; };

// \u7ED9exports\u8D4B\u503C\u662F\u65E0\u6548\u7684\uFF0C\u56E0\u4E3A\u8D4B\u503C\u540E\uFF0Cmodule.exports\u4ECD\u7136\u662F\u7A7A\u5BF9\u8C61{}\u3002

// \u7ED3\u8BBA

// \u5982\u679C\u8981\u8F93\u51FA\u4E00\u4E2A\u952E\u503C\u5BF9\u8C61{}\uFF0C\u53EF\u4EE5\u5229\u7528exports\u8FD9\u4E2A\u5DF2\u5B58\u5728\u7684\u7A7A\u5BF9\u8C61{}\uFF0C\u5E76\u7EE7\u7EED\u5728\u4E0A\u9762\u6DFB\u52A0\u65B0\u7684\u952E\u503C\uFF1B
// \u5982\u679C\u8981\u8F93\u51FA\u4E00\u4E2A\u51FD\u6570\u6216\u6570\u7EC4\uFF0C\u5FC5\u987B\u76F4\u63A5\u5BF9module.exports\u5BF9\u8C61\u8D4B\u503C\u3002
// \u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u5F97\u51FA\u7ED3\u8BBA\uFF1A\u76F4\u63A5\u5BF9module.exports\u8D4B\u503C\uFF0C\u53EF\u4EE5\u5E94\u5BF9\u4EFB\u4F55\u60C5\u51B5\uFF1A

module.exports = {
    foo: function () { return &#39;foo&#39;; }
};

// \u6216\u8005\uFF1A

module.exports = function () { return &#39;foo&#39;; };

// \u6700\u7EC8\uFF0C\u6211\u4EEC\u5F3A\u70C8\u5EFA\u8BAE\u4F7F\u7528module.exports = xxx\u7684\u65B9\u5F0F\u6765\u8F93\u51FA\u6A21\u5757\u53D8\u91CF\uFF0C\u8FD9\u6837\uFF0C\u4F60\u53EA\u9700\u8981\u8BB0\u5FC6\u4E00\u79CD\u65B9\u6CD5\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br></div></div>`,1),hX={id:"_9-node-\u7684\u5F02\u6B65-i-o",tabindex:"-1"},_X=n("a",{class:"header-anchor",href:"#_9-node-\u7684\u5F02\u6B65-i-o","aria-hidden":"true"},"#",-1),gX=s(),EX={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#_9-node-%E7%9A%84%E5%BC%82%E6%AD%A5-i-o",target:"_blank",rel:"noopener noreferrer"},fX=s("#"),vX=s("9 Node \u7684\u5F02\u6B65 I/O"),wX={id:"\u8BF7\u4ECB\u7ECD\u4E00\u4E0B-node-\u4E8B\u4EF6\u5FAA\u73AF\u7684\u6D41\u7A0B",tabindex:"-1"},yX=n("a",{class:"header-anchor",href:"#\u8BF7\u4ECB\u7ECD\u4E00\u4E0B-node-\u4E8B\u4EF6\u5FAA\u73AF\u7684\u6D41\u7A0B","aria-hidden":"true"},"#",-1),xX=s(),AX={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#%E8%AF%B7%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8B-node-%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E7%9A%84%E6%B5%81%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},BX=s("#"),qX=s("\u8BF7\u4ECB\u7ECD\u4E00\u4E0B Node \u4E8B\u4EF6\u5FAA\u73AF\u7684\u6D41\u7A0B"),jX=n("ul",null,[n("li",null,"\u5728\u8FDB\u7A0B\u542F\u52A8\u65F6\uFF0CNode \u4FBF\u4F1A\u521B\u5EFA\u4E00\u4E2A\u7C7B\u4F3C\u4E8E while(true)\u7684\u5FAA\u73AF\uFF0C\u6BCF\u6267\u884C\u4E00\u6B21\u5FAA\u73AF\u4F53\u7684\u8FC7\u7A0B\u6211\u4EEC\u6210\u4E3A Tick\u3002"),n("li",null,"\u6BCF\u4E2A Tick \u7684\u8FC7\u7A0B\u5C31\u662F\u67E5\u770B\u662F\u5426\u6709\u4E8B\u4EF6\u5F85\u5904\u7406\u3002\u5982\u679C\u6709\u5C31\u53D6\u51FA\u4E8B\u4EF6\u53CA\u5176\u76F8\u5173\u7684\u56DE\u8C03\u51FD\u6570\u3002\u7136\u540E\u8FDB\u5165\u4E0B\u4E00\u4E2A\u5FAA\u73AF\uFF0C\u5982\u679C\u4E0D\u518D\u6709\u4E8B\u4EF6\u5904\u7406\uFF0C\u5C31\u9000\u51FA\u8FDB\u7A0B\u3002")],-1),SX=n("p",null,[n("img",{src:"http://img-repo.poetries.top/images/20210517091829.png",alt:"img"})],-1),CX={id:"\u5728\u6BCF\u4E2A-tick-\u7684\u8FC7\u7A0B\u4E2D-\u5982\u4F55\u5224\u65AD\u662F\u5426\u6709\u4E8B\u4EF6\u9700\u8981\u5904\u7406\u5462",tabindex:"-1"},DX=n("a",{class:"header-anchor",href:"#\u5728\u6BCF\u4E2A-tick-\u7684\u8FC7\u7A0B\u4E2D-\u5982\u4F55\u5224\u65AD\u662F\u5426\u6709\u4E8B\u4EF6\u9700\u8981\u5904\u7406\u5462","aria-hidden":"true"},"#",-1),FX=s(),PX={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#%E5%9C%A8%E6%AF%8F%E4%B8%AA-tick-%E7%9A%84%E8%BF%87%E7%A8%8B%E4%B8%AD-%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%9C%89%E4%BA%8B%E4%BB%B6%E9%9C%80%E8%A6%81%E5%A4%84%E7%90%86%E5%91%A2",target:"_blank",rel:"noopener noreferrer"},TX=s("#"),NX=s("\u5728\u6BCF\u4E2A tick \u7684\u8FC7\u7A0B\u4E2D\uFF0C\u5982\u4F55\u5224\u65AD\u662F\u5426\u6709\u4E8B\u4EF6\u9700\u8981\u5904\u7406\u5462"),MX=n("ul",null,[n("li",null,"\u6BCF\u4E2A\u4E8B\u4EF6\u5FAA\u73AF\u4E2D\u6709\u4E00\u4E2A\u6216\u8005\u591A\u4E2A\u89C2\u5BDF\u8005\uFF0C\u800C\u5224\u65AD\u662F\u5426\u6709\u4E8B\u4EF6\u9700\u8981\u5904\u7406\u7684\u8FC7\u7A0B\u5C31\u662F\u5411\u8FD9\u4E9B\u89C2\u5BDF\u8005\u8BE2\u95EE\u662F\u5426\u6709\u8981\u5904\u7406\u7684\u4E8B\u4EF6\u3002"),n("li",null,"\u5728 Node \u4E2D\uFF0C\u4E8B\u4EF6\u4E3B\u8981\u6765\u6E90\u4E8E\u7F51\u7EDC\u8BF7\u6C42\u3001\u6587\u4EF6\u7684 I/O \u7B49\uFF0C\u8FD9\u4E9B\u4E8B\u4EF6\u5BF9\u5E94\u7684\u89C2\u5BDF\u8005\u6709\u6587\u4EF6 I/O \u89C2\u5BDF\u8005\uFF0C\u7F51\u7EDC I/O \u7684\u89C2\u5BDF\u8005\u3002"),n("li",null,"\u4E8B\u4EF6\u5FAA\u73AF\u662F\u4E00\u4E2A\u5178\u578B\u7684\u751F\u4EA7\u8005/\u6D88\u8D39\u8005\u6A21\u578B\u3002\u5F02\u6B65 I/O\uFF0C\u7F51\u7EDC\u8BF7\u6C42\u7B49\u5219\u662F\u4E8B\u4EF6\u7684\u751F\u4EA7\u8005\uFF0C\u6E90\u6E90\u4E0D\u65AD\u4E3A Node \u63D0\u4F9B\u4E0D\u540C\u7C7B\u578B\u7684\u4E8B\u4EF6\uFF0C\u8FD9\u4E9B\u4E8B\u4EF6\u88AB\u4F20\u9012\u5230\u5BF9\u5E94\u7684\u89C2\u5BDF\u8005\u90A3\u91CC\uFF0C\u4E8B\u4EF6\u5FAA\u73AF\u5219\u4ECE\u89C2\u5BDF\u8005\u90A3\u91CC\u53D6\u51FA\u4E8B\u4EF6\u5E76\u5904\u7406\u3002"),n("li",null,"\u5728 windows \u4E0B\uFF0C\u8FD9\u4E2A\u5FAA\u73AF\u57FA\u4E8E IOCP \u521B\u5EFA\uFF0C\u5728*nix \u4E0B\u5219\u57FA\u4E8E\u591A\u7EBF\u7A0B\u521B\u5EFA")],-1),OX={id:"\u63CF\u8FF0\u4E00\u4E0B\u6574\u4E2A\u5F02\u6B65-i-o-\u7684\u6D41\u7A0B",tabindex:"-1"},IX=n("a",{class:"header-anchor",href:"#\u63CF\u8FF0\u4E00\u4E0B\u6574\u4E2A\u5F02\u6B65-i-o-\u7684\u6D41\u7A0B","aria-hidden":"true"},"#",-1),RX=s(),VX={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8B%E6%95%B4%E4%B8%AA%E5%BC%82%E6%AD%A5-i-o-%E7%9A%84%E6%B5%81%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},HX=s("#"),LX=s("\u63CF\u8FF0\u4E00\u4E0B\u6574\u4E2A\u5F02\u6B65 I/O \u7684\u6D41\u7A0B"),UX=n("p",null,[n("img",{src:"http://img-repo.poetries.top/images/20210517091909.png",alt:"img"})],-1),JX={id:"_10-v8-\u7684\u5783\u573E\u56DE\u6536\u673A\u5236",tabindex:"-1"},WX=n("a",{class:"header-anchor",href:"#_10-v8-\u7684\u5783\u573E\u56DE\u6536\u673A\u5236","aria-hidden":"true"},"#",-1),zX=s(),GX={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#_10-v8-%E7%9A%84%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"},$X=s("#"),XX=s("10 V8 \u7684\u5783\u573E\u56DE\u6536\u673A\u5236"),KX={id:"\u5982\u4F55\u67E5\u770B-v8-\u7684\u5185\u5B58\u4F7F\u7528\u60C5\u51B5",tabindex:"-1"},QX=n("a",{class:"header-anchor",href:"#\u5982\u4F55\u67E5\u770B-v8-\u7684\u5185\u5B58\u4F7F\u7528\u60C5\u51B5","aria-hidden":"true"},"#",-1),YX=s(),ZX={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B-v8-%E7%9A%84%E5%86%85%E5%AD%98%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5",target:"_blank",rel:"noopener noreferrer"},nK=s("#"),sK=s("\u5982\u4F55\u67E5\u770B V8 \u7684\u5185\u5B58\u4F7F\u7528\u60C5\u51B5"),aK=t(`<p>\u4F7F\u7528 <code>process.memoryUsage()</code>,\u8FD4\u56DE\u5982\u4E0B</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>{
  rss: 4935680,
  heapTotal: 1826816,
  heapUsed: 650472,
  external: 49879
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p><code>heapTotal</code> \u548C <code>heapUsed</code> \u4EE3\u8868 <code>V8</code> \u7684\u5185\u5B58\u4F7F\u7528\u60C5\u51B5\u3002<code>external</code> \u4EE3\u8868 <code>V8</code> \u7BA1\u7406\u7684\uFF0C\u7ED1\u5B9A\u5230 Javascript \u7684 C++\u5BF9\u8C61\u7684\u5185\u5B58\u4F7F\u7528\u60C5\u51B5\u3002rss, \u9A7B\u7559\u96C6\u5927\u5C0F, \u662F\u7ED9\u8FD9\u4E2A\u8FDB\u7A0B\u5206\u914D\u4E86\u591A\u5C11\u7269\u7406\u5185\u5B58(\u5360\u603B\u5206\u914D\u5185\u5B58\u7684\u4E00\u90E8\u5206) \u8FD9\u4E9B\u7269\u7406\u5185\u5B58\u4E2D\u5305\u542B\u5806\uFF0C\u6808\uFF0C\u548C\u4EE3\u7801\u6BB5\u3002</p></blockquote>`,3),eK={id:"v8-\u7684\u5185\u5B58\u9650\u5236\u662F\u591A\u5C11-\u4E3A\u4EC0\u4E48-v8-\u8FD9\u6837\u8BBE\u8BA1",tabindex:"-1"},tK=n("a",{class:"header-anchor",href:"#v8-\u7684\u5185\u5B58\u9650\u5236\u662F\u591A\u5C11-\u4E3A\u4EC0\u4E48-v8-\u8FD9\u6837\u8BBE\u8BA1","aria-hidden":"true"},"#",-1),pK=s(),oK={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#v8-%E7%9A%84%E5%86%85%E5%AD%98%E9%99%90%E5%88%B6%E6%98%AF%E5%A4%9A%E5%B0%91-%E4%B8%BA%E4%BB%80%E4%B9%88-v8-%E8%BF%99%E6%A0%B7%E8%AE%BE%E8%AE%A1",target:"_blank",rel:"noopener noreferrer"},cK=s("#"),lK=s("V8 \u7684\u5185\u5B58\u9650\u5236\u662F\u591A\u5C11\uFF0C\u4E3A\u4EC0\u4E48 V8 \u8FD9\u6837\u8BBE\u8BA1"),rK=n("blockquote",null,[n("p",null,[s("64 \u4F4D\u7CFB\u7EDF\u4E0B\u662F "),n("code",null,"1.4GB"),s("\uFF0C 32 \u4F4D\u7CFB\u7EDF\u4E0B\u662F "),n("code",null,"0.7GB"),s("\u3002\u56E0\u4E3A "),n("code",null,"1.5GB"),s("\u7684\u5783\u573E\u56DE\u6536\u5806\u5185\u5B58\uFF0CV8 \u9700\u8981\u82B1\u8D39 50 \u6BEB\u79D2\u4EE5\u4E0A\uFF0C\u505A\u4E00\u6B21\u975E\u589E\u91CF\u5F0F\u7684\u5783\u573E\u56DE\u6536\u751A\u81F3\u8981 1 \u79D2\u4EE5\u4E0A\u3002\u8FD9\u662F\u5783\u573E\u56DE\u6536\u4E2D\u5F15\u8D77 Javascript \u7EBF\u7A0B\u6682\u505C\u6267\u884C\u7684\u4E8B\u4EF6\uFF0C\u5728\u8FD9\u6837\u7684\u82B1\u9500\u4E0B\uFF0C\u5E94\u7528\u7684\u6027\u80FD\u548C\u5F71\u54CD\u529B\u90FD\u4F1A\u76F4\u7EBF\u4E0B\u964D\u3002")])],-1),iK={id:"v8-\u7684\u5185\u5B58\u5206\u4EE3\u548C\u56DE\u6536\u7B97\u6CD5\u8BF7\u7B80\u5355\u8BB2\u4E00\u8BB2",tabindex:"-1"},uK=n("a",{class:"header-anchor",href:"#v8-\u7684\u5185\u5B58\u5206\u4EE3\u548C\u56DE\u6536\u7B97\u6CD5\u8BF7\u7B80\u5355\u8BB2\u4E00\u8BB2","aria-hidden":"true"},"#",-1),kK=s(),dK={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#v8-%E7%9A%84%E5%86%85%E5%AD%98%E5%88%86%E4%BB%A3%E5%92%8C%E5%9B%9E%E6%94%B6%E7%AE%97%E6%B3%95%E8%AF%B7%E7%AE%80%E5%8D%95%E8%AE%B2%E4%B8%80%E8%AE%B2",target:"_blank",rel:"noopener noreferrer"},bK=s("#"),mK=s("V8 \u7684\u5185\u5B58\u5206\u4EE3\u548C\u56DE\u6536\u7B97\u6CD5\u8BF7\u7B80\u5355\u8BB2\u4E00\u8BB2"),hK=t(`<blockquote><p>\u5728 V8 \u4E2D\uFF0C\u4E3B\u8981\u5C06\u5185\u5B58\u5206\u4E3A\u65B0\u751F\u4EE3\u548C\u8001\u751F\u4EE3\u4E24\u4EE3\u3002\u65B0\u751F\u4EE3\u4E2D\u7684\u5BF9\u8C61\u5B58\u6D3B\u65F6\u95F4\u8F83\u77ED\u7684\u5BF9\u8C61\uFF0C\u8001\u751F\u4EE3\u4E2D\u7684\u5BF9\u8C61\u5B58\u6D3B\u65F6\u95F4\u8F83\u957F\uFF0C\u6216\u5E38\u9A7B\u5185\u5B58\u7684\u5BF9\u8C61\u3002</p></blockquote><p><img src="http://img-repo.poetries.top/images/20210517092109.png" alt="img"></p><p><strong>\u65B0\u751F\u4EE3</strong></p><blockquote><p>\u65B0\u751F\u4EE3\u4E2D\u7684\u5BF9\u8C61\u4E3B\u8981\u901A\u8FC7 Scavenge \u7B97\u6CD5\u8FDB\u884C\u5783\u573E\u56DE\u6536\u3002\u8FD9\u662F\u4E00\u79CD\u91C7\u7528\u590D\u5236\u7684\u65B9\u5F0F\u5B9E\u73B0\u7684\u5783\u573E\u56DE\u6536\u7B97\u6CD5\u3002\u5B83\u5C06\u5806\u5185\u5B58\u4E00\u4EFD\u4E3A\u4E8C\uFF0C\u6BCF\u4E00\u90E8\u5206\u7A7A\u95F4\u6210\u4E3A semispace\u3002\u5728\u8FD9\u4E24\u4E2A semispace \u7A7A\u95F4\u4E2D\uFF0C\u53EA\u6709\u4E00\u4E2A\u5904\u4E8E\u4F7F\u7528\u4E2D\uFF0C\u53E6\u4E00\u4E2A\u5904\u4E8E\u95F2\u7F6E\u72B6\u6001\u3002\u5904\u4E8E\u4F7F\u7528\u72B6\u6001\u7684 semispace \u7A7A\u95F4\u79F0\u4E3A From \u7A7A\u95F4\uFF0C\u5904\u4E8E\u95F2\u7F6E\u72B6\u6001\u7684\u7A7A\u95F4\u79F0\u4E3A To \u7A7A\u95F4</p></blockquote><p><img src="http://img-repo.poetries.top/images/20210517092136.png" alt="img"></p><ul><li>\u5F53\u5F00\u59CB\u5783\u573E\u56DE\u6536\u7684\u65F6\u5019\uFF0C\u4F1A\u68C0\u67E5 From \u7A7A\u95F4\u4E2D\u7684\u5B58\u6D3B\u5BF9\u8C61\uFF0C\u8FD9\u4E9B\u5B58\u6D3B\u5BF9\u8C61\u5C06\u88AB\u590D\u5236\u5230 To \u7A7A\u95F4\u4E2D\uFF0C\u800C\u975E\u5B58\u6D3B\u5BF9\u8C61\u5360\u7528\u7684\u7A7A\u95F4\u5C06\u4F1A\u88AB\u91CA\u653E\u3002\u5B8C\u6210\u590D\u5236\u540E\uFF0CFrom \u7A7A\u95F4\u548C To \u7A7A\u95F4\u53D1\u751F\u89D2\u8272\u5BF9\u6362\u3002</li><li>\u5E94\u4E3A\u65B0\u751F\u4EE3\u4E2D\u5BF9\u8C61\u7684\u751F\u547D\u5468\u671F\u6BD4\u8F83\u77ED\uFF0C\u5C31\u6BD4\u8F83\u9002\u5408\u8FD9\u4E2A\u7B97\u6CD5\u3002</li><li>\u5F53\u4E00\u4E2A\u5BF9\u8C61\u7ECF\u8FC7\u591A\u6B21\u590D\u5236\u4F9D\u7136\u5B58\u6D3B\uFF0C\u5B83\u5C06\u4F1A\u88AB\u8BA4\u4E3A\u662F\u751F\u547D\u5468\u671F\u8F83\u957F\u7684\u5BF9\u8C61\u3002\u8FD9\u79CD\u65B0\u751F\u4EE3\u4E2D\u751F\u547D\u5468\u671F\u8F83\u957F\u7684\u5BF9\u8C61\u968F\u540E\u4F1A\u88AB\u79FB\u5230\u8001\u751F\u4EE3\u4E2D\u3002</li></ul><p><strong>\u8001\u751F\u4EE3</strong></p><blockquote><p>\u8001\u751F\u4EE3\u4E3B\u8981\u91C7\u53D6\u7684\u662F\u6807\u8BB0\u6E05\u9664\u7684\u5783\u573E\u56DE\u6536\u7B97\u6CD5\u3002\u4E0E Scavenge \u590D\u5236\u6D3B\u7740\u7684\u5BF9\u8C61\u4E0D\u540C\uFF0C\u6807\u8BB0\u6E05\u9664\u7B97\u6CD5\u5728\u6807\u8BB0\u9636\u6BB5\u904D\u5386\u5806\u4E2D\u7684\u6240\u6709\u5BF9\u8C61\uFF0C\u5E76\u6807\u8BB0\u6D3B\u7740\u7684\u5BF9\u8C61\uFF0C\u53EA\u6E05\u7406\u6B7B\u4EA1\u5BF9\u8C61\u3002\u6D3B\u5BF9\u8C61\u5728\u65B0\u751F\u4EE3\u4E2D\u53EA\u5360\u53EB\u5C0F\u90E8\u5206\uFF0C\u6B7B\u5BF9\u8C61\u5728\u8001\u751F\u4EE3\u4E2D\u53EA\u5360\u8F83\u5C0F\u90E8\u5206\uFF0C\u8FD9\u662F\u4E3A\u4EC0\u4E48\u91C7\u7528\u6807\u8BB0\u6E05\u9664\u7B97\u6CD5\u7684\u539F\u56E0</p></blockquote><p><strong>\u6807\u8BB0\u6E05\u695A\u7B97\u6CD5\u7684\u95EE\u9898</strong></p><p>\u4E3B\u8981\u95EE\u9898\u662F\u6BCF\u4E00\u6B21\u8FDB\u884C\u6807\u8BB0\u6E05\u9664\u56DE\u6536\u540E\uFF0C\u5185\u5B58\u7A7A\u95F4\u4F1A\u51FA\u73B0\u4E0D\u8FDE\u7EED\u7684\u72B6\u6001</p><p><img src="http://img-repo.poetries.top/images/20210517092246.png" alt="img"></p><ul><li>\u8FD9\u79CD\u5185\u5B58\u788E\u7247\u4F1A\u5BF9\u540E\u7EED\u5185\u5B58\u5206\u914D\u9020\u6210\u95EE\u9898\uFF0C\u5F88\u53EF\u80FD\u51FA\u73B0\u9700\u8981\u5206\u914D\u4E00\u4E2A\u5927\u5BF9\u8C61\u7684\u60C5\u51B5\uFF0C\u8FD9\u65F6\u6240\u6709\u7684\u788E\u7247\u7A7A\u95F4\u90FD\u65E0\u6CD5\u5B8C\u6210\u6B64\u6B21\u5206\u914D\uFF0C\u5C31\u4F1A\u63D0\u524D\u89E6\u53D1\u5783\u573E\u56DE\u6536\uFF0C\u800C\u8FD9\u6B21\u56DE\u6536\u662F\u4E0D\u5FC5\u8981\u7684\u3002</li><li>\u4E3A\u4E86\u89E3\u51B3\u788E\u7247\u95EE\u9898\uFF0C\u6807\u8BB0\u6574\u7406\u88AB\u63D0\u51FA\u6765\u3002\u5C31\u662F\u5728\u5BF9\u8C61\u88AB\u6807\u8BB0\u6B7B\u4EA1\u540E\uFF0C\u5728\u6574\u7406\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u5C06\u6D3B\u7740\u7684\u5BF9\u8C61\u5F80\u4E00\u7AEF\u79FB\u52A8\uFF0C\u79FB\u52A8\u5B8C\u6210\u540E\uFF0C\u76F4\u63A5\u6E05\u7406\u6389\u8FB9\u754C\u5916\u7684\u5185\u5B58\u3002</li></ul><p><strong>\u54EA\u4E9B\u60C5\u51B5\u4F1A\u9020\u6210 V8 \u65E0\u6CD5\u7ACB\u5373\u56DE\u6536\u5185\u5B58</strong></p><p>\u95ED\u5305\u548C\u5168\u5C40\u53D8\u91CF</p><p><strong>\u8BF7\u8C08\u4E00\u4E0B\u5185\u5B58\u6CC4\u6F0F\u662F\u4EC0\u4E48\uFF0C\u4EE5\u53CA\u5E38\u89C1\u5185\u5B58\u6CC4\u6F0F\u7684\u539F\u56E0\uFF0C\u548C\u6392\u67E5\u7684\u65B9\u6CD5</strong></p><ol><li>\u4EC0\u4E48\u662F\u5185\u5B58\u6CC4\u6F0F</li></ol><ul><li>\u5185\u5B58\u6CC4\u6F0F(Memory Leak)\u6307\u7531\u4E8E\u758F\u5FFD\u6216\u9519\u8BEF\u9020\u6210\u7A0B\u5E8F\u672A\u80FD\u91CA\u653E\u5DF2\u7ECF\u4E0D\u518D\u4F7F\u7528\u7684\u5185\u5B58\u7684\u60C5\u51B5\u3002</li><li>\u5982\u679C\u5185\u5B58\u6CC4\u6F0F\u7684\u4F4D\u7F6E\u6BD4\u8F83\u5173\u952E\uFF0C\u90A3\u4E48\u968F\u7740\u5904\u7406\u7684\u8FDB\u884C\u53EF\u80FD\u6301\u6709\u8D8A\u6765\u8D8A\u591A\u7684\u65E0\u7528\u5185\u5B58\uFF0C\u8FD9\u4E9B\u65E0\u7528\u7684\u5185\u5B58\u53D8\u591A\u4F1A\u5F15\u8D77\u670D\u52A1\u5668\u54CD\u5E94\u901F\u5EA6\u53D8\u6162\u3002</li><li>\u4E25\u91CD\u7684\u60C5\u51B5\u4E0B\u5BFC\u81F4\u5185\u5B58\u8FBE\u5230\u67D0\u4E2A\u6781\u9650(\u53EF\u80FD\u662F\u8FDB\u7A0B\u7684\u4E0A\u9650\uFF0C\u5982 v8 \u7684\u4E0A\u9650;\u4E5F\u53EF\u80FD\u662F\u7CFB\u7EDF\u53EF\u63D0\u4F9B\u7684\u5185\u5B58\u4E0A\u9650)\u4F1A\u4F7F\u5F97\u5E94\u7528\u7A0B\u5E8F\u5D29\u6E83\u3002\u5E38\u89C1\u5185\u5B58\u6CC4\u6F0F\u7684\u539F\u56E0 \u5185\u5B58\u6CC4\u6F0F\u7684\u51E0\u79CD\u60C5\u51B5:</li></ul><p>\u5168\u5C40\u53D8\u91CF</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token comment">//\u672A\u58F0\u660E\u5BF9\u8C61\u3002</span>
global<span class="token punctuation">.</span>b <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span>
<span class="token comment">//\u5168\u5C40\u53D8\u91CF\u5F15\u7528</span>
<span class="token comment">// \u8FD9\u79CD\u6BD4\u8F83\u7B80\u5355\u7684\u539F\u56E0\uFF0C\u5168\u5C40\u53D8\u91CF\u76F4\u63A5\u6302\u5728 root \u5BF9\u8C61\u4E0A\uFF0C\u4E0D\u4F1A\u88AB\u6E05\u9664\u6389\u3002</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u95ED\u5305</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> bigData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Buffer</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function-variable function">inner</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>\u95ED\u5305\u4F1A\u5F15\u7528\u5230\u7236\u7EA7\u51FD\u6570\u4E2D\u7684\u53D8\u91CF\uFF0C\u5982\u679C\u95ED\u5305\u672A\u91CA\u653E\uFF0C\u5C31\u4F1A\u5BFC\u81F4\u5185\u5B58\u6CC4\u6F0F\u3002\u4E0A\u9762\u4F8B\u5B50\u662F inner \u76F4\u63A5\u6302\u5728\u4E86 root \u4E0A\uFF0C\u90A3\u4E48\u6BCF\u6B21\u6267\u884C out \u51FD\u6570\u6240\u4EA7\u751F\u7684 bigData \u90FD\u4E0D\u4F1A\u91CA\u653E\uFF0C\u4ECE\u800C\u5BFC\u81F4\u5185\u5B58\u6CC4\u6F0F\u3002\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u8FD9\u91CC\u4E3E\u5F97\u4F8B\u5B50\u53EA\u662F\u7B80\u5355\u7684\u5C06\u5F15\u7528\u6302\u5728\u5168\u5C40\u5BF9\u8C61\u4E0A\uFF0C\u5B9E\u9645\u7684\u4E1A\u52A1\u60C5\u51B5\u53EF\u80FD\u662F\u6302\u5728\u67D0\u4E2A\u53EF\u4EE5\u4ECE root \u8FFD\u6EAF\u5230\u7684\u5BF9\u8C61\u4E0A\u5BFC\u81F4\u7684</p></blockquote><p>\u4E8B\u4EF6\u76D1\u542C</p><blockquote><p>Node.js \u7684\u4E8B\u4EF6\u76D1\u542C\u4E5F\u53EF\u80FD\u51FA\u73B0\u7684\u5185\u5B58\u6CC4\u6F0F\u3002\u4F8B\u5982\u5BF9\u540C\u4E00\u4E2A\u4E8B\u4EF6\u91CD\u590D\u76D1\u542C\uFF0C\u5FD8\u8BB0\u79FB\u9664(removeListener)\uFF0C\u5C06\u9020\u6210\u5185\u5B58\u6CC4\u6F0F\u3002\u8FD9\u79CD\u60C5\u51B5\u5F88\u5BB9\u6613\u5728\u590D\u7528\u5BF9\u8C61\u4E0A\u6DFB\u52A0\u4E8B\u4EF6\u65F6\u51FA\u73B0\uFF0C\u6240\u4EE5\u4E8B\u4EF6\u91CD\u590D\u76D1\u542C\u53EF\u80FD\u6536\u5230\u5982\u4E0B\u8B66\u544A</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>emitter.setMaxListeners() to increase limit
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>\u6392\u67E5\u65B9\u6CD5\u60F3\u8981\u5B9A\u4F4D\u5185\u5B58\u6CC4\u6F0F\uFF0C\u901A\u5E38\u4F1A\u6709\u4E24\u79CD\u60C5\u51B5</strong></p><ul><li>\u5BF9\u4E8E\u53EA\u8981\u6B63\u5E38\u4F7F\u7528\u5C31\u53EF\u4EE5\u91CD\u73B0\u7684\u5185\u5B58\u6CC4\u6F0F\uFF0C\u8FD9\u662F\u5F88\u7B80\u5355\u7684\u60C5\u51B5\u53EA\u8981\u5728\u6D4B\u8BD5\u73AF\u5883\u6A21\u62DF\u5C31\u53EF\u4EE5\u6392\u67E5\u4E86\u3002</li><li>\u5BF9\u4E8E\u5076\u7136\u7684\u5185\u5B58\u6CC4\u6F0F\uFF0C\u4E00\u822C\u4F1A\u4E0E\u7279\u6B8A\u7684\u8F93\u5165\u6709\u5173\u7CFB\u3002\u60F3\u7A33\u5B9A\u91CD\u73B0\u8FD9\u79CD\u8F93\u5165\u662F\u5F88\u8017\u65F6\u7684\u8FC7\u7A0B\u3002\u5982\u679C\u4E0D\u80FD\u901A\u8FC7\u4EE3\u7801\u7684\u65E5\u5FD7\u5B9A\u4F4D\u5230\u8FD9\u4E2A\u7279\u6B8A\u7684\u8F93\u5165\uFF0C\u90A3\u4E48\u63A8\u8350\u53BB\u751F\u4EA7\u73AF\u5883\u6253\u5370\u5185\u5B58\u5FEB\u7167\u4E86\u3002</li><li>\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u6253\u5370\u5185\u5B58\u5FEB\u7167\u662F\u5F88\u8017 CPU \u7684\u64CD\u4F5C\uFF0C\u53EF\u80FD\u4F1A\u5BF9\u7EBF\u4E0A\u4E1A\u52A1\u9020\u6210\u5F71\u54CD\u3002\u5FEB\u7167\u5DE5\u5177\u63A8\u8350\u4F7F\u7528 heapdump \u7528\u6765\u4FDD\u5B58\u5185\u5B58\u5FEB\u7167\uFF0C\u4F7F\u7528 devtool \u6765\u67E5\u770B\u5185\u5B58\u5FEB\u7167\u3002</li><li>\u4F7F\u7528 heapdump \u4FDD\u5B58\u5185\u5B58\u5FEB\u7167\u65F6\uFF0C\u53EA\u4F1A\u6709 Node.js \u73AF\u5883\u4E2D\u7684\u5BF9\u8C61\uFF0C\u4E0D\u4F1A\u53D7\u5230\u5E72\u6270(\u5982\u679C\u4F7F\u7528 node-inspector \u7684\u8BDD\uFF0C\u5FEB\u7167\u4E2D\u4F1A\u6709\u524D\u7AEF\u7684\u53D8\u91CF\u5E72\u6270)\u3002</li></ul><blockquote><p>PS\uFF1A\u5B89\u88C5 heapdump \u5728\u67D0\u4E9B Node.js \u7248\u672C\u4E0A\u53EF\u80FD\u51FA\u9519\uFF0C\u5EFA\u8BAE\u4F7F\u7528 <code>npm install heapdump -target=Node.js</code> \u7248\u672C\u6765\u5B89\u88C5\u3002</p></blockquote>`,28),_K={id:"_11-buffer-\u6A21\u5757",tabindex:"-1"},gK=n("a",{class:"header-anchor",href:"#_11-buffer-\u6A21\u5757","aria-hidden":"true"},"#",-1),EK=s(),fK={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#_11-buffer-%E6%A8%A1%E5%9D%97",target:"_blank",rel:"noopener noreferrer"},vK=s("#"),wK=s("11 Buffer \u6A21\u5757"),yK={id:"\u65B0\u5EFA-buffer-\u4F1A\u5360\u7528-v8-\u5206\u914D\u7684\u5185\u5B58\u5417",tabindex:"-1"},xK=n("a",{class:"header-anchor",href:"#\u65B0\u5EFA-buffer-\u4F1A\u5360\u7528-v8-\u5206\u914D\u7684\u5185\u5B58\u5417","aria-hidden":"true"},"#",-1),AK=s(),BK={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#%E6%96%B0%E5%BB%BA-buffer-%E4%BC%9A%E5%8D%A0%E7%94%A8-v8-%E5%88%86%E9%85%8D%E7%9A%84%E5%86%85%E5%AD%98%E5%90%97",target:"_blank",rel:"noopener noreferrer"},qK=s("#"),jK=s("\u65B0\u5EFA Buffer \u4F1A\u5360\u7528 V8 \u5206\u914D\u7684\u5185\u5B58\u5417"),SK=n("p",null,"\u4E0D\u4F1A\uFF0CBuffer \u5C5E\u4E8E\u5806\u5916\u5185\u5B58\uFF0C\u4E0D\u662F V8 \u5206\u914D\u7684\u3002",-1),CK={id:"buffer-alloc-\u548C-buffer-allocunsafe-\u7684\u533A\u522B",tabindex:"-1"},DK=n("a",{class:"header-anchor",href:"#buffer-alloc-\u548C-buffer-allocunsafe-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),FK=s(),PK={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#buffer-alloc-%E5%92%8C-buffer-allocunsafe-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},TK=s("#"),NK=s("Buffer.alloc \u548C Buffer.allocUnsafe \u7684\u533A\u522B"),MK=n("blockquote",null,[n("p",null,[n("code",null,"Buffer.allocUnsafe"),s(" \u521B\u5EFA\u7684 Buffer \u5B9E\u4F8B\u7684\u5E95\u5C42\u5185\u5B58\u662F\u672A\u521D\u59CB\u5316\u7684\u3002\u65B0\u521B\u5EFA\u7684 Buffer \u7684\u5185\u5BB9\u662F\u672A\u77E5\u7684\uFF0C\u53EF\u80FD\u5305\u542B\u654F\u611F\u6570\u636E\u3002\u4F7F\u7528 Buffer.alloc() \u53EF\u4EE5\u521B\u5EFA\u4EE5\u96F6\u521D\u59CB\u5316\u7684 Buffer \u5B9E\u4F8B\u3002")])],-1),OK={id:"buffer-\u7684\u5185\u5B58\u5206\u914D\u673A\u5236",tabindex:"-1"},IK=n("a",{class:"header-anchor",href:"#buffer-\u7684\u5185\u5B58\u5206\u914D\u673A\u5236","aria-hidden":"true"},"#",-1),RK=s(),VK={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#buffer-%E7%9A%84%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"},HK=s("#"),LK=s("Buffer \u7684\u5185\u5B58\u5206\u914D\u673A\u5236"),UK=t("<ul><li>\u4E3A\u4E86\u9AD8\u6548\u7684\u4F7F\u7528\u7533\u8BF7\u6765\u7684\u5185\u5B58\uFF0CNode \u91C7\u7528\u4E86 slab \u5206\u914D\u673A\u5236\u3002slab \u662F\u4E00\u79CD\u52A8\u6001\u7684\u5185\u5B58\u7BA1\u7406\u673A\u5236\u3002Node \u4EE5 8kb \u4E3A\u754C\u9650\u6765\u6765\u533A\u5206 Buffer \u4E3A\u5927\u5BF9\u8C61\u8FD8\u662F\u5C0F\u5BF9\u8C61\uFF0C\u5982\u679C\u662F\u5C0F\u4E8E 8kb \u5C31\u662F\u5C0F <code>Buffer</code>\uFF0C\u5927\u4E8E 8kb \u5C31\u662F\u5927 Buffer\u3002\u4F8B\u5982\u7B2C\u4E00\u6B21\u5206\u914D\u4E00\u4E2A 1024 \u5B57\u8282\u7684 Buffer\uFF0C<code>Buffer.alloc(1024)</code>,\u90A3\u4E48\u8FD9\u6B21\u5206\u914D\u5C31\u4F1A- \u7528\u5230\u4E00\u4E2A slab\uFF0C\u63A5\u7740\u5982\u679C\u7EE7\u7EED <code>Buffer.alloc(1024)</code>,\u90A3\u4E48\u4E0A\u4E00\u6B21\u7528\u7684 slab \u7684\u7A7A\u95F4\u8FD8\u6CA1\u6709\u7528\u5B8C\uFF0C\u56E0\u4E3A\u603B\u5171\u662F 8kb\uFF0C<code>1024+1024 = 2048</code> \u4E2A\u5B57\u8282\uFF0C\u6CA1\u6709 8kb\uFF0C\u6240\u4EE5\u5C31\u7EE7\u7EED\u7528\u8FD9\u4E2A slab \u7ED9 Buffer \u5206\u914D\u7A7A\u95F4\u3002\u5982\u679C\u8D85\u8FC7 8kb\uFF0C\u90A3\u4E48\u76F4\u63A5\u7528 C++\u5E95\u5C42\u5730\u5BAB\u7684 <code>SlowBuffer</code> \u6765\u7ED9 <code>Buffer</code> \u5BF9\u8C61\u63D0\u4F9B\u7A7A\u95F4\u3002</li></ul>",1),JK={id:"buffer-\u4E71\u7801\u95EE\u9898",tabindex:"-1"},WK=n("a",{class:"header-anchor",href:"#buffer-\u4E71\u7801\u95EE\u9898","aria-hidden":"true"},"#",-1),zK=s(),GK={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#buffer-%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},$K=s("#"),XK=s("Buffer \u4E71\u7801\u95EE\u9898"),KK=t(`<p>\u4F8B\u5982\u4E00\u4E2A\u4EFD\u6587\u4EF6 test.md \u91CC\u7684\u5185\u5BB9\u5982\u4E0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u5E8A\u524D\u660E\u6708\u5149\uFF0C\u7591\u662F\u5730\u4E0A\u971C\uFF0C\u4E3E\u5934\u671B\u660E\u6708\uFF0C\u4F4E\u5934\u601D\u6545\u4E61
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u6211\u4EEC\u8FD9\u6837\u8BFB\u53D6\u5C31\u4F1A\u51FA\u73B0\u4E71\u7801\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var rs = require(&#39;fs&#39;).createReadStream(&#39;test.md&#39;, {highWaterMark: 11});
// \u5E8A\u524D\u660E???\u5149\uFF0C\u7591???\u5730\u4E0A\u971C\uFF0C\u4E3E\u5934???\u660E\u6708\uFF0C???\u5934\u601D\u6545\u4E61
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u53EA\u9700\u8981\u8BBE\u7F6E <code>rs.setEncoding(&#39;utf8&#39;)</code> \u5373\u53EF\u89E3\u51B3\u4E71\u7801\u95EE\u9898</p>`,5),QK={id:"_12-websocket",tabindex:"-1"},YK=n("a",{class:"header-anchor",href:"#_12-websocket","aria-hidden":"true"},"#",-1),ZK=s(),nQ={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#_12-websocket",target:"_blank",rel:"noopener noreferrer"},sQ=s("#"),aQ=s("12 webSocket"),eQ={id:"websocket-\u4E0E\u4F20\u7EDF\u7684-http-\u6709\u4EC0\u4E48\u4F18\u52BF",tabindex:"-1"},tQ=n("a",{class:"header-anchor",href:"#websocket-\u4E0E\u4F20\u7EDF\u7684-http-\u6709\u4EC0\u4E48\u4F18\u52BF","aria-hidden":"true"},"#",-1),pQ=s(),oQ={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#websocket-%E4%B8%8E%E4%BC%A0%E7%BB%9F%E7%9A%84-http-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E5%8A%BF",target:"_blank",rel:"noopener noreferrer"},cQ=s("#"),lQ=s("webSocket \u4E0E\u4F20\u7EDF\u7684 http \u6709\u4EC0\u4E48\u4F18\u52BF"),rQ=n("ul",null,[n("li",null,[s("\u5BA2\u6237\u7AEF\u4E0E\u670D\u52A1\u5668\u53EA\u9700\u8981\u4E00\u4E2A TCP \u8FDE\u63A5\uFF0C\u6BD4 "),n("code",null,"http"),s(" \u957F\u8F6E\u8BE2\u4F7F\u7528\u66F4\u5C11\u7684\u8FDE\u63A5")]),n("li",null,[n("code",null,"webSocket"),s(" \u670D\u52A1\u7AEF\u53EF\u4EE5\u63A8\u9001\u6570\u636E\u5230\u5BA2\u6237\u7AEF")]),n("li",null,"\u66F4\u8F7B\u91CF\u7684\u534F\u8BAE\u5934\uFF0C\u51CF\u5C11\u6570\u636E\u4F20\u8F93\u91CF")],-1),iQ={id:"websocket-\u534F\u8BAE\u5347\u7EA7\u7B80\u8FF0\u4E00\u4E0B",tabindex:"-1"},uQ=n("a",{class:"header-anchor",href:"#websocket-\u534F\u8BAE\u5347\u7EA7\u7B80\u8FF0\u4E00\u4E0B","aria-hidden":"true"},"#",-1),kQ=s(),dQ={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#websocket-%E5%8D%8F%E8%AE%AE%E5%8D%87%E7%BA%A7%E7%AE%80%E8%BF%B0%E4%B8%80%E4%B8%8B",target:"_blank",rel:"noopener noreferrer"},bQ=s("#"),mQ=s("webSocket \u534F\u8BAE\u5347\u7EA7\u7B80\u8FF0\u4E00\u4E0B"),hQ=t(`<blockquote><p>\u9996\u5148\uFF0CWebSocket \u8FDE\u63A5\u5FC5\u987B\u7531\u6D4F\u89C8\u5668\u53D1\u8D77\uFF0C\u56E0\u4E3A\u8BF7\u6C42\u534F\u8BAE\u662F\u4E00\u4E2A\u6807\u51C6\u7684 HTTP \u8BF7\u6C42\uFF0C\u683C\u5F0F\u5982\u4E0B\uFF1A</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>GET ws://localhost:3000/ws/chat HTTP/1.1
Host: localhost
Upgrade: websocket
Connection: Upgrade
Origin: http://localhost:3000
Sec-WebSocket-Key: client-random-string
Sec-WebSocket-Version: 13
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u8BE5\u8BF7\u6C42\u548C\u666E\u901A\u7684 HTTP \u8BF7\u6C42\u6709\u51E0\u70B9\u4E0D\u540C\uFF1A</p><ul><li><code>GET</code> \u8BF7\u6C42\u7684\u5730\u5740\u4E0D\u662F\u7C7B\u4F3C<code>/path/</code>\uFF0C\u800C\u662F\u4EE5 <code>ws://\u5F00\u5934\u7684\u5730\u5740</code>\uFF1B</li><li>\u8BF7\u6C42\u5934 <code>Upgrade: websocket</code> \u548C <code>Connection: Upgrade</code>\u8868\u793A\u8FD9\u4E2A\u8FDE\u63A5\u5C06\u8981\u88AB\u8F6C\u6362\u4E3A <code>WebSocket</code> \u8FDE\u63A5\uFF1B</li><li><code>Sec-WebSocket-Key</code> \u662F\u7528\u4E8E\u6807\u8BC6\u8FD9\u4E2A\u8FDE\u63A5\uFF0C\u5E76\u975E\u7528\u4E8E\u52A0\u5BC6\u6570\u636E\uFF1B</li><li><code>Sec-WebSocket-Version</code> \u6307\u5B9A\u4E86 <code>WebSocket</code> \u7684\u534F\u8BAE\u7248\u672C\u3002</li></ul><p>\u968F\u540E\uFF0C\u670D\u52A1\u5668\u5982\u679C\u63A5\u53D7\u8BE5\u8BF7\u6C42\uFF0C\u5C31\u4F1A\u8FD4\u56DE\u5982\u4E0B\u54CD\u5E94\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>HTTP/1.1 101 Switching Protocols
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Accept: server-random-string
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u8BE5\u54CD\u5E94\u4EE3\u7801 <code>101</code> \u8868\u793A\u672C\u6B21\u8FDE\u63A5\u7684 <code>HTTP</code> \u534F\u8BAE\u5373\u5C06\u88AB\u66F4\u6539\uFF0C\u66F4\u6539\u540E\u7684\u534F\u8BAE\u5C31\u662F <code>Upgrade: websocket</code> \u6307\u5B9A\u7684 <code>WebSocket</code> \u534F\u8BAE</p>`,7),_Q={id:"_13-https",tabindex:"-1"},gQ=n("a",{class:"header-anchor",href:"#_13-https","aria-hidden":"true"},"#",-1),EQ=s(),fQ={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#_13-https",target:"_blank",rel:"noopener noreferrer"},vQ=s("#"),wQ=s("13 https"),yQ={id:"https-\u7528\u54EA\u4E9B\u7AEF\u53E3\u8FDB\u884C\u901A\u4FE1-\u8FD9\u4E9B\u7AEF\u53E3\u5206\u522B\u6709\u4EC0\u4E48\u7528",tabindex:"-1"},xQ=n("a",{class:"header-anchor",href:"#https-\u7528\u54EA\u4E9B\u7AEF\u53E3\u8FDB\u884C\u901A\u4FE1-\u8FD9\u4E9B\u7AEF\u53E3\u5206\u522B\u6709\u4EC0\u4E48\u7528","aria-hidden":"true"},"#",-1),AQ=s(),BQ={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#https-%E7%94%A8%E5%93%AA%E4%BA%9B%E7%AB%AF%E5%8F%A3%E8%BF%9B%E8%A1%8C%E9%80%9A%E4%BF%A1-%E8%BF%99%E4%BA%9B%E7%AB%AF%E5%8F%A3%E5%88%86%E5%88%AB%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},qQ=s("#"),jQ=s("https \u7528\u54EA\u4E9B\u7AEF\u53E3\u8FDB\u884C\u901A\u4FE1\uFF0C\u8FD9\u4E9B\u7AEF\u53E3\u5206\u522B\u6709\u4EC0\u4E48\u7528"),SQ=n("ul",null,[n("li",null,[n("code",null,"443"),s(" \u7AEF\u53E3\u7528\u6765\u9A8C\u8BC1\u670D\u52A1\u5668\u7AEF\u548C\u5BA2\u6237\u7AEF\u7684\u8EAB\u4EFD\uFF0C\u6BD4\u5982\u9A8C\u8BC1\u8BC1\u4E66\u7684\u5408\u6CD5\u6027")]),n("li",null,[n("code",null,"80"),s(" \u7AEF\u53E3\u7528\u6765\u4F20\u8F93\u6570\u636E\uFF08\u5728\u9A8C\u8BC1\u8EAB\u4EFD\u5408\u6CD5\u7684\u60C5\u51B5\u4E0B\uFF0C\u7528\u6765\u6570\u636E\u4F20\u8F93\uFF09")])],-1),CQ={id:"\u8EAB\u4EFD\u9A8C\u8BC1\u8FC7\u7A0B\u4E2D\u4F1A\u6D89\u53CA\u5230\u5BC6\u94A5-\u5BF9\u79F0\u52A0\u5BC6-\u975E\u5BF9\u79F0\u52A0\u5BC6-\u6458\u8981\u7684\u6982\u5FF5-\u8BF7\u89E3\u91CA\u4E00\u4E0B",tabindex:"-1"},DQ=n("a",{class:"header-anchor",href:"#\u8EAB\u4EFD\u9A8C\u8BC1\u8FC7\u7A0B\u4E2D\u4F1A\u6D89\u53CA\u5230\u5BC6\u94A5-\u5BF9\u79F0\u52A0\u5BC6-\u975E\u5BF9\u79F0\u52A0\u5BC6-\u6458\u8981\u7684\u6982\u5FF5-\u8BF7\u89E3\u91CA\u4E00\u4E0B","aria-hidden":"true"},"#",-1),FQ=s(),PQ={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81%E8%BF%87%E7%A8%8B%E4%B8%AD%E4%BC%9A%E6%B6%89%E5%8F%8A%E5%88%B0%E5%AF%86%E9%92%A5-%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86-%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86-%E6%91%98%E8%A6%81%E7%9A%84%E6%A6%82%E5%BF%B5-%E8%AF%B7%E8%A7%A3%E9%87%8A%E4%B8%80%E4%B8%8B",target:"_blank",rel:"noopener noreferrer"},TQ=s("#"),NQ=s("\u8EAB\u4EFD\u9A8C\u8BC1\u8FC7\u7A0B\u4E2D\u4F1A\u6D89\u53CA\u5230\u5BC6\u94A5\uFF0C \u5BF9\u79F0\u52A0\u5BC6\uFF0C\u975E\u5BF9\u79F0\u52A0\u5BC6\uFF0C\u6458\u8981\u7684\u6982\u5FF5\uFF0C\u8BF7\u89E3\u91CA\u4E00\u4E0B"),MQ=t("<ul><li><strong>\u5BC6\u94A5</strong>\uFF1A\u5BC6\u94A5\u662F\u4E00\u79CD\u53C2\u6570\uFF0C\u5B83\u662F\u5728\u660E\u6587\u8F6C\u6362\u4E3A\u5BC6\u6587\u6216\u5C06\u5BC6\u6587\u8F6C\u6362\u4E3A\u660E\u6587\u7684\u7B97\u6CD5\u4E2D\u8F93\u5165\u7684\u53C2\u6570\u3002\u5BC6\u94A5\u5206\u4E3A\u5BF9\u79F0\u5BC6\u94A5\u4E0E\u975E\u5BF9\u79F0\u5BC6\u94A5\uFF0C\u5206\u522B\u5E94\u7528\u5728\u5BF9\u79F0\u52A0\u5BC6\u548C\u975E\u5BF9\u79F0\u52A0\u5BC6\u4E0A\u3002</li><li><strong>\u5BF9\u79F0\u52A0\u5BC6</strong>\uFF1A\u5BF9\u79F0\u52A0\u5BC6\u53C8\u53EB\u505A\u79C1\u94A5\u52A0\u5BC6\uFF0C\u5373\u4FE1\u606F\u7684\u53D1\u9001\u65B9\u548C\u63A5\u6536\u65B9\u4F7F\u7528\u540C\u4E00\u4E2A\u5BC6\u94A5\u53BB\u52A0\u5BC6\u548C\u89E3\u5BC6\u6570\u636E\u3002\u5BF9\u79F0\u52A0\u5BC6\u7684\u7279\u70B9\u662F\u7B97\u6CD5\u516C\u5F00\u3001\u52A0\u5BC6\u548C\u89E3\u5BC6\u901F\u5EA6\u5FEB\uFF0C\u9002\u5408\u4E8E\u5BF9\u5927\u6570\u636E\u91CF\u8FDB\u884C\u52A0\u5BC6\uFF0C\u5E38\u89C1\u7684\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\u6709 <code>DES\u30013DES\u3001TDEA\u3001Blowfish\u3001RC5</code> \u548C <code>IDEA</code>\u3002</li><li><strong>\u975E\u5BF9\u79F0\u52A0\u5BC6</strong>\uFF1A\u975E\u5BF9\u79F0\u52A0\u5BC6\u4E5F\u53EB\u505A\u516C\u94A5\u52A0\u5BC6\u3002\u975E\u5BF9\u79F0\u52A0\u5BC6\u4E0E\u5BF9\u79F0\u52A0\u5BC6\u76F8\u6BD4\uFF0C\u5176\u5B89\u5168\u6027\u66F4\u597D\u3002\u5BF9\u79F0\u52A0\u5BC6\u7684\u901A\u4FE1\u53CC\u65B9\u4F7F\u7528\u76F8\u540C\u7684\u5BC6\u94A5\uFF0C\u5982\u679C\u4E00\u65B9\u7684\u5BC6\u94A5\u906D\u6CC4\u9732\uFF0C\u90A3\u4E48\u6574\u4E2A\u901A\u4FE1\u5C31\u4F1A\u88AB\u7834\u89E3\u3002\u800C\u975E\u5BF9\u79F0\u52A0\u5BC6\u4F7F\u7528\u4E00\u5BF9\u5BC6\u94A5\uFF0C\u5373\u516C\u94A5\u548C\u79C1\u94A5\uFF0C\u4E14\u4E8C\u8005\u6210\u5BF9\u51FA\u73B0\u3002\u79C1\u94A5\u88AB\u81EA\u5DF1\u4FDD\u5B58\uFF0C\u4E0D\u80FD\u5BF9\u5916\u6CC4\u9732\u3002\u516C\u94A5\u6307\u7684\u662F\u516C\u5171\u7684\u5BC6\u94A5\uFF0C\u4EFB\u4F55\u4EBA\u90FD\u53EF\u4EE5\u83B7\u5F97\u8BE5\u5BC6\u94A5\u3002\u7528\u516C\u94A5\u6216\u79C1\u94A5\u4E2D\u7684\u4EFB\u4F55\u4E00\u4E2A\u8FDB\u884C\u52A0\u5BC6\uFF0C\u7528\u53E6\u4E00\u4E2A\u8FDB\u884C\u89E3\u5BC6\u3002</li><li><strong>\u6458\u8981</strong>\uFF1A\u6458\u8981\u7B97\u6CD5\u53C8\u79F0\u54C8\u5E0C/\u6563\u5217\u7B97\u6CD5\u3002\u5B83\u901A\u8FC7\u4E00\u4E2A\u51FD\u6570\uFF0C\u628A\u4EFB\u610F\u957F\u5EA6\u7684\u6570\u636E\u8F6C\u6362\u4E3A\u4E00\u4E2A\u957F\u5EA6\u56FA\u5B9A\u7684\u6570\u636E\u4E32\uFF08\u901A\u5E38\u7528 16 \u8FDB\u5236\u7684\u5B57\u7B26\u4E32\u8868\u793A\uFF09\u3002\u7B97\u6CD5\u4E0D\u53EF\u9006\u3002</li></ul>",1),OQ={id:"\u4E3A\u4EC0\u4E48\u9700\u8981-ca-\u673A\u6784\u5BF9\u8BC1\u4E66\u7B7E\u540D",tabindex:"-1"},IQ=n("a",{class:"header-anchor",href:"#\u4E3A\u4EC0\u4E48\u9700\u8981-ca-\u673A\u6784\u5BF9\u8BC1\u4E66\u7B7E\u540D","aria-hidden":"true"},"#",-1),RQ=s(),VQ={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-ca-%E6%9C%BA%E6%9E%84%E5%AF%B9%E8%AF%81%E4%B9%A6%E7%AD%BE%E5%90%8D",target:"_blank",rel:"noopener noreferrer"},HQ=s("#"),LQ=s("\u4E3A\u4EC0\u4E48\u9700\u8981 CA \u673A\u6784\u5BF9\u8BC1\u4E66\u7B7E\u540D"),UQ=n("blockquote",null,[n("p",null,"\u5982\u679C\u4E0D\u7B7E\u540D\u4F1A\u5B58\u5728\u4E2D\u95F4\u4EBA\u653B\u51FB\u7684\u98CE\u9669\uFF0C\u7B7E\u540D\u4E4B\u540E\u4FDD\u8BC1\u4E86\u8BC1\u4E66\u91CC\u7684\u4FE1\u606F\uFF0C\u6BD4\u5982\u516C\u94A5\u3001\u670D\u52A1\u5668\u4FE1\u606F\u3001\u4F01\u4E1A\u4FE1\u606F\u7B49\u4E0D\u88AB\u7BE1\u6539\uFF0C\u80FD\u591F\u9A8C\u8BC1\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u5668\u7AEF\u7684\u201C\u5408\u6CD5\u6027\u201D\u3002")],-1),JQ={id:"https-\u9A8C\u8BC1\u8EAB\u4EFD\u4E5F\u5C31\u662F-tsl-ssl-\u8EAB\u4EFD\u9A8C\u8BC1\u7684\u8FC7\u7A0B",tabindex:"-1"},WQ=n("a",{class:"header-anchor",href:"#https-\u9A8C\u8BC1\u8EAB\u4EFD\u4E5F\u5C31\u662F-tsl-ssl-\u8EAB\u4EFD\u9A8C\u8BC1\u7684\u8FC7\u7A0B","aria-hidden":"true"},"#",-1),zQ=s(),GQ={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#https-%E9%AA%8C%E8%AF%81%E8%BA%AB%E4%BB%BD%E4%B9%9F%E5%B0%B1%E6%98%AF-tsl-ssl-%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81%E7%9A%84%E8%BF%87%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},$Q=s("#"),XQ=s("https \u9A8C\u8BC1\u8EAB\u4EFD\u4E5F\u5C31\u662F TSL/SSL \u8EAB\u4EFD\u9A8C\u8BC1\u7684\u8FC7\u7A0B"),KQ=n("p",null,[n("img",{src:"http://img-repo.poetries.top/images/20210517093635.png",alt:"img"})],-1),QQ={id:"_14-\u8FDB\u7A0B\u901A\u4FE1",tabindex:"-1"},YQ=n("a",{class:"header-anchor",href:"#_14-\u8FDB\u7A0B\u901A\u4FE1","aria-hidden":"true"},"#",-1),ZQ=s(),nY={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#_14-%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1",target:"_blank",rel:"noopener noreferrer"},sY=s("#"),aY=s("14 \u8FDB\u7A0B\u901A\u4FE1"),eY={id:"\u8BF7\u7B80\u8FF0\u4E00\u4E0B-node-\u7684\u591A\u8FDB\u7A0B\u67B6\u6784",tabindex:"-1"},tY=n("a",{class:"header-anchor",href:"#\u8BF7\u7B80\u8FF0\u4E00\u4E0B-node-\u7684\u591A\u8FDB\u7A0B\u67B6\u6784","aria-hidden":"true"},"#",-1),pY=s(),oY={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#%E8%AF%B7%E7%AE%80%E8%BF%B0%E4%B8%80%E4%B8%8B-node-%E7%9A%84%E5%A4%9A%E8%BF%9B%E7%A8%8B%E6%9E%B6%E6%9E%84",target:"_blank",rel:"noopener noreferrer"},cY=s("#"),lY=s("\u8BF7\u7B80\u8FF0\u4E00\u4E0B node \u7684\u591A\u8FDB\u7A0B\u67B6\u6784"),rY=t(`<blockquote><p>\u9762\u5BF9 node \u5355\u7EBF\u7A0B\u5BF9\u591A\u6838 CPU \u4F7F\u7528\u4E0D\u8DB3\u7684\u60C5\u51B5\uFF0CNode \u63D0\u4F9B\u4E86 <code>child_process</code> \u6A21\u5757\uFF0C\u6765\u5B9E\u73B0\u8FDB\u7A0B\u7684\u590D\u5236\uFF0Cnode \u7684\u591A\u8FDB\u7A0B\u67B6\u6784\u662F\u4E3B\u4ECE\u6A21\u5F0F\uFF0C\u5982\u4E0B\u6240\u793A\uFF1A</p></blockquote><p><img src="http://img-repo.poetries.top/images/20210517093720.png" alt="img"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> fork <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;child_process&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fork<span class="token punctuation">;</span>
<span class="token keyword">var</span> cpus <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;os&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">cpus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cpus<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">fork</span><span class="token punctuation">(</span><span class="token string">&#39;./worker.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u5728 linux \u4E2D\uFF0C\u6211\u4EEC\u901A\u8FC7 <code>ps aux | grep worker.js</code> \u67E5\u770B\u8FDB\u7A0B</p></blockquote><p><img src="http://img-repo.poetries.top/images/20210517093745.png" alt="img"></p><p>\u8FD9\u5C31\u662F\u8457\u540D\u7684\u4E3B\u4ECE\u6A21\u5F0F\uFF0C<code>Master-Worker</code></p>`,6),iY={id:"\u8BF7\u95EE\u521B\u5EFA\u5B50\u8FDB\u7A0B\u7684\u65B9\u6CD5\u6709\u54EA\u4E9B-\u7B80\u5355\u8BF4\u4E00\u4E0B\u5B83\u4EEC\u7684\u533A\u522B",tabindex:"-1"},uY=n("a",{class:"header-anchor",href:"#\u8BF7\u95EE\u521B\u5EFA\u5B50\u8FDB\u7A0B\u7684\u65B9\u6CD5\u6709\u54EA\u4E9B-\u7B80\u5355\u8BF4\u4E00\u4E0B\u5B83\u4EEC\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),kY=s(),dY={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#%E8%AF%B7%E9%97%AE%E5%88%9B%E5%BB%BA%E5%AD%90%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%96%B9%E6%B3%95%E6%9C%89%E5%93%AA%E4%BA%9B-%E7%AE%80%E5%8D%95%E8%AF%B4%E4%B8%80%E4%B8%8B%E5%AE%83%E4%BB%AC%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},bY=s("#"),mY=s("\u8BF7\u95EE\u521B\u5EFA\u5B50\u8FDB\u7A0B\u7684\u65B9\u6CD5\u6709\u54EA\u4E9B\uFF0C\u7B80\u5355\u8BF4\u4E00\u4E0B\u5B83\u4EEC\u7684\u533A\u522B"),hY=t("<ul><li><code>spawn()</code>\uFF1A\u542F\u52A8\u4E00\u4E2A\u5B50\u8FDB\u7A0B\u6765\u6267\u884C\u547D\u4EE4</li><li><code>exec()</code>: \u542F\u52A8\u4E00\u4E2A\u5B50\u8FDB\u7A0B\u6765\u6267\u884C\u547D\u4EE4\uFF0C\u4E0E spawn()\u4E0D\u540C\u7684\u662F\u5176\u63A5\u53E3\u4E0D\u540C\uFF0C\u5B83\u6709\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\u83B7\u77E5\u5B50\u8FDB\u7A0B\u7684\u72B6\u51B5</li><li><code>execFlie()</code>: \u542F\u52A8\u4E00\u4E2A\u5B50\u8FDB\u7A0B\u6765\u6267\u884C\u53EF\u6267\u884C\u6587\u4EF6</li><li><code>fork()</code>: \u4E0E <code>spawn()</code>\u7C7B\u4F3C\uFF0C\u4E0D\u540C\u7535\u5728\u4E8E\u5B83\u521B\u5EFA Node \u5B50\u8FDB\u7A0B\u9700\u8981\u6267\u884C js \u6587\u4EF6</li><li><code>spawn()</code>\u4E0E <code>exec()</code>\u3001<code>execFile()</code>\u4E0D\u540C\u7684\u662F\uFF0C\u540E\u4E24\u8005\u521B\u5EFA\u65F6\u53EF\u4EE5\u6307\u5B9A <code>timeout</code> \u5C5E\u6027\u8BBE\u7F6E\u8D85\u65F6\u65F6\u95F4\uFF0C\u4E00\u65E6\u521B\u5EFA\u7684\u8FDB\u7A0B\u8D85\u8FC7\u8BBE\u5B9A\u7684\u65F6\u95F4\u5C31\u4F1A\u88AB\u6740\u6B7B</li><li><code>exec()</code>\u4E0E <code>execFile()</code>\u4E0D\u540C\u7684\u662F\uFF0C<code>exec()</code>\u9002\u5408\u6267\u884C\u5DF2\u6709\u547D\u4EE4\uFF0C<code>execFile()</code>\u9002\u5408\u6267\u884C\u6587\u4EF6\u3002</li></ul>",1),_Y={id:"\u5B9E\u73B0\u4E00\u4E2A-node-\u5B50\u8FDB\u7A0B\u88AB\u6740\u6B7B-\u7136\u540E\u81EA\u52A8\u91CD\u542F\u4EE3\u7801\u7684\u601D\u8DEF",tabindex:"-1"},gY=n("a",{class:"header-anchor",href:"#\u5B9E\u73B0\u4E00\u4E2A-node-\u5B50\u8FDB\u7A0B\u88AB\u6740\u6B7B-\u7136\u540E\u81EA\u52A8\u91CD\u542F\u4EE3\u7801\u7684\u601D\u8DEF","aria-hidden":"true"},"#",-1),EY=s(),fY={href:"http://interview.poetries.top/excellent-docs/8-Node%E6%A8%A1%E5%9D%97.html#%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA-node-%E5%AD%90%E8%BF%9B%E7%A8%8B%E8%A2%AB%E6%9D%80%E6%AD%BB-%E7%84%B6%E5%90%8E%E8%87%AA%E5%8A%A8%E9%87%8D%E5%90%AF%E4%BB%A3%E7%A0%81%E7%9A%84%E6%80%9D%E8%B7%AF",target:"_blank",rel:"noopener noreferrer"},vY=s("#"),wY=s("\u5B9E\u73B0\u4E00\u4E2A node \u5B50\u8FDB\u7A0B\u88AB\u6740\u6B7B\uFF0C\u7136\u540E\u81EA\u52A8\u91CD\u542F\u4EE3\u7801\u7684\u601D\u8DEF"),yY=t(`<p>\u5728\u521B\u5EFA\u5B50\u8FDB\u7A0B\u7684\u65F6\u5019\u5C31\u8BA9\u5B50\u8FDB\u7A0B\u76D1\u542C <code>exit</code> \u4E8B\u4EF6\uFF0C\u5982\u679C\u88AB\u6740\u6B7B\u5C31\u91CD\u65B0 <code>fork</code> \u4E00\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">createWorker</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> worker <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span>__dirname <span class="token operator">+</span> <span class="token string">&#39;worker.js&#39;</span><span class="token punctuation">)</span>
    worker<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;exit&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Worker&#39;</span> <span class="token operator">+</span> worker<span class="token punctuation">.</span>pid <span class="token operator">+</span> <span class="token string">&#39;exited&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5982\u679C\u9000\u51FA\u5C31\u521B\u5EFA\u65B0\u7684worker</span>
        <span class="token function">createWorker</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h1 id="_9-\u524D\u7AEF\u5DE5\u7A0B\u76F8\u5173" tabindex="-1"><a class="header-anchor" href="#_9-\u524D\u7AEF\u5DE5\u7A0B\u76F8\u5173" aria-hidden="true">#</a> 9 \u524D\u7AEF\u5DE5\u7A0B\u76F8\u5173</h1><h2 id="_1-webpack\u539F\u7406\u7B80\u8FF0" tabindex="-1"><a class="header-anchor" href="#_1-webpack\u539F\u7406\u7B80\u8FF0" aria-hidden="true">#</a> 1 webpack\u539F\u7406\u7B80\u8FF0</h2>`,4),xY={id:"_1-1-\u6838\u5FC3\u6982\u5FF5",tabindex:"-1"},AY=n("a",{class:"header-anchor",href:"#_1-1-\u6838\u5FC3\u6982\u5FF5","aria-hidden":"true"},"#",-1),BY=s(),qY={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_1-1-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5",target:"_blank",rel:"noopener noreferrer"},jY=s("#"),SY=s("1.1 \u6838\u5FC3\u6982\u5FF5"),CY=n("blockquote",null,[n("p",null,"JavaScript \u7684 \u6A21\u5757\u6253\u5305\u5DE5\u5177 (module bundler)\u3002\u901A\u8FC7\u5206\u6790\u6A21\u5757\u4E4B\u95F4\u7684\u4F9D\u8D56\uFF0C\u6700\u7EC8\u5C06\u6240\u6709\u6A21\u5757\u6253\u5305\u6210\u4E00\u4EFD\u6216\u8005\u591A\u4EFD\u4EE3\u7801\u5305 (bundler)\uFF0C\u4F9B HTML \u76F4\u63A5\u5F15\u7528\u3002\u5B9E\u8D28\u4E0A\uFF0CWebpack \u4EC5\u4EC5\u63D0\u4F9B\u4E86 \u6253\u5305\u529F\u80FD \u548C\u4E00\u5957 \u6587\u4EF6\u5904\u7406\u673A\u5236\uFF0C\u7136\u540E\u901A\u8FC7\u751F\u6001\u4E2D\u7684\u5404\u79CD Loader \u548C Plugin \u5BF9\u4EE3\u7801\u8FDB\u884C\u9884\u7F16\u8BD1\u548C\u6253\u5305\u3002\u56E0\u6B64 Webpack \u5177\u6709\u9AD8\u5EA6\u7684\u53EF\u62D3\u5C55\u6027\uFF0C\u80FD\u66F4\u597D\u7684\u53D1\u6325\u793E\u533A\u751F\u6001\u7684\u529B\u91CF\u3002")],-1),DY=n("ul",null,[n("li",null,"Entry: \u5165\u53E3\u6587\u4EF6\uFF0CWebpack\u4F1A\u4ECE\u8BE5\u6587\u4EF6\u5F00\u59CB\u8FDB\u884C\u5206\u6790\u4E0E\u7F16\u8BD1\uFF1B"),n("li",null,"Output: \u51FA\u53E3\u8DEF\u5F84\uFF0C\u6253\u5305\u540E\u521B\u5EFA bundler\u7684\u6587\u4EF6\u8DEF\u5F84\u4EE5\u53CA\u6587\u4EF6\u540D\uFF1B"),n("li",null,"Module: \u6A21\u5757\uFF0C\u5728 Webpack \u4E2D\u4EFB\u4F55\u6587\u4EF6\u90FD\u53EF\u4EE5\u4F5C\u4E3A\u4E00\u4E2A\u6A21\u5757\uFF0C\u4F1A\u6839\u636E\u914D\u7F6E\u7684\u4E0D\u540C\u7684 Loader \u8FDB\u884C\u52A0\u8F7D\u548C\u6253\u5305\uFF1B"),n("li",null,"Chunk: \u4EE3\u7801\u5757\uFF0C\u53EF\u4EE5\u6839\u636E\u914D\u7F6E\uFF0C\u5C06\u6240\u6709\u6A21\u5757\u4EE3\u7801\u5408\u5E76\u6210\u4E00\u4E2A\u6216\u591A\u4E2A\u4EE3\u7801\u5757\uFF0C\u4EE5\u4FBF\u6309\u9700\u52A0\u8F7D\uFF0C\u63D0\u9AD8\u6027\u80FD\uFF1B"),n("li",null,"Loader: \u6A21\u5757\u52A0\u8F7D\u5668\uFF0C\u8FDB\u884C\u5404\u79CD\u6587\u4EF6\u7C7B\u578B\u7684\u52A0\u8F7D\u4E0E\u8F6C\u6362\uFF1B"),n("li",null,"Plugin: \u62D3\u5C55\u63D2\u4EF6\uFF0C\u53EF\u4EE5\u901A\u8FC7 Webpack \u76F8\u5E94\u7684\u4E8B\u4EF6\u94A9\u5B50\uFF0C\u4ECB\u5165\u5230\u6253\u5305\u8FC7\u7A0B\u4E2D\u7684\u4EFB\u610F\u73AF\u8282\uFF0C\u4ECE\u800C\u5BF9\u4EE3\u7801\u6309\u9700\u4FEE\u6539\uFF1B")],-1),FY={id:"_1-2-\u5DE5\u4F5C\u6D41\u7A0B-\u52A0\u8F7D-\u7F16\u8BD1-\u8F93\u51FA",tabindex:"-1"},PY=n("a",{class:"header-anchor",href:"#_1-2-\u5DE5\u4F5C\u6D41\u7A0B-\u52A0\u8F7D-\u7F16\u8BD1-\u8F93\u51FA","aria-hidden":"true"},"#",-1),TY=s(),NY={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_1-2-%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B-%E5%8A%A0%E8%BD%BD-%E7%BC%96%E8%AF%91-%E8%BE%93%E5%87%BA",target:"_blank",rel:"noopener noreferrer"},MY=s("#"),OY=s("1.2 \u5DE5\u4F5C\u6D41\u7A0B (\u52A0\u8F7D - \u7F16\u8BD1 - \u8F93\u51FA)"),IY=n("ol",null,[n("li",null,"\u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6\uFF0C\u6309\u547D\u4EE4 \u521D\u59CB\u5316 \u914D\u7F6E\u53C2\u6570\uFF0C\u521B\u5EFA Compiler \u5BF9\u8C61\uFF1B"),n("li",null,"\u8C03\u7528\u63D2\u4EF6\u7684 apply \u65B9\u6CD5 \u6302\u8F7D\u63D2\u4EF6 \u76D1\u542C\uFF0C\u7136\u540E\u4ECE\u5165\u53E3\u6587\u4EF6\u5F00\u59CB\u6267\u884C\u7F16\u8BD1\uFF1B"),n("li",null,"\u6309\u6587\u4EF6\u7C7B\u578B\uFF0C\u8C03\u7528\u76F8\u5E94\u7684 Loader \u5BF9\u6A21\u5757\u8FDB\u884C \u7F16\u8BD1\uFF0C\u5E76\u5728\u5408\u9002\u7684\u65F6\u673A\u70B9\u89E6\u53D1\u5BF9\u5E94\u7684\u4E8B\u4EF6\uFF0C\u8C03\u7528 Plugin \u6267\u884C\uFF0C\u6700\u540E\u518D\u6839\u636E\u6A21\u5757 \u4F9D\u8D56\u67E5\u627E \u5230\u6240\u4F9D\u8D56\u7684\u6A21\u5757\uFF0C\u9012\u5F52\u6267\u884C\u7B2C\u4E09\u6B65\uFF1B"),n("li",null,"\u5C06\u7F16\u8BD1\u540E\u7684\u6240\u6709\u4EE3\u7801\u5305\u88C5\u6210\u4E00\u4E2A\u4E2A\u4EE3\u7801\u5757 (Chuck)\uFF0C \u5E76\u6309\u4F9D\u8D56\u548C\u914D\u7F6E\u786E\u5B9A \u8F93\u51FA\u5185\u5BB9\u3002\u8FD9\u4E2A\u6B65\u9AA4\uFF0C\u4ECD\u7136\u53EF\u4EE5\u901A\u8FC7 Plugin \u8FDB\u884C\u6587\u4EF6\u7684\u4FEE\u6539;"),n("li",null,"\u6700\u540E\uFF0C\u6839\u636E Output \u628A\u6587\u4EF6\u5185\u5BB9\u4E00\u4E00\u5199\u5165\u5230\u6307\u5B9A\u7684\u6587\u4EF6\u5939\u4E2D\uFF0C\u5B8C\u6210\u6574\u4E2A\u8FC7\u7A0B\uFF1B")],-1),RY={id:"_1-3-\u6A21\u5757\u5305\u88C5",tabindex:"-1"},VY=n("a",{class:"header-anchor",href:"#_1-3-\u6A21\u5757\u5305\u88C5","aria-hidden":"true"},"#",-1),HY=s(),LY={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_1-3-%E6%A8%A1%E5%9D%97%E5%8C%85%E8%A3%85",target:"_blank",rel:"noopener noreferrer"},UY=s("#"),JY=s("1.3 \u6A21\u5757\u5305\u88C5:"),WY=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">modules</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// \u6A21\u62DF require \u51FD\u6570\uFF0C\u4ECE\u5185\u5B58\u4E2D\u52A0\u8F7D\u6A21\u5757\uFF1B</span>
	<span class="token keyword">function</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token parameter">moduleId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// \u7F13\u5B58\u6A21\u5757</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token keyword">var</span> module <span class="token operator">=</span> installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">i</span><span class="token operator">:</span> moduleId<span class="token punctuation">,</span>
			<span class="token literal-property property">l</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
			<span class="token literal-property property">exports</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
		
		<span class="token comment">// \u6267\u884C\u4EE3\u7801\uFF1B</span>
		modules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span> module<span class="token punctuation">,</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span> __webpack_require__<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment">// Flag: \u6807\u8BB0\u662F\u5426\u52A0\u8F7D\u5B8C\u6210\uFF1B</span>
		module<span class="token punctuation">.</span>l <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		
		<span class="token keyword">return</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">// ...</span>
	
	<span class="token comment">// \u5F00\u59CB\u6267\u884C\u52A0\u8F7D\u5165\u53E3\u6587\u4EF6\uFF1B</span>
	<span class="token keyword">return</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span>__webpack_require__<span class="token punctuation">.</span>s <span class="token operator">=</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 	<span class="token string-property property">&quot;./src/index.js&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> __webpack_exports__<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// \u4F7F\u7528 eval \u6267\u884C\u7F16\u8BD1\u540E\u7684\u4EE3\u7801\uFF1B</span>
		<span class="token comment">// \u7EE7\u7EED\u9012\u5F52\u5F15\u7528\u6A21\u5757\u5185\u90E8\u4F9D\u8D56\uFF1B</span>
		<span class="token comment">// \u5B9E\u9645\u60C5\u51B5\u5E76\u4E0D\u662F\u4F7F\u7528\u6A21\u677F\u5B57\u7B26\u4E32\uFF0C\u8FD9\u91CC\u662F\u4E3A\u4E86\u4EE3\u7801\u7684\u53EF\u8BFB\u6027\uFF1B</span>
		<span class="token function">eval</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">
			__webpack_require__.r(__webpack_exports__);
			//
			var _test__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(&quot;test&quot;, ./src/test.js&quot;);
		</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token string-property property">&quot;./src/test.js&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> __webpack_exports__<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// ...</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p><strong>\u603B\u7ED3:</strong></p><ul><li><strong>\u6A21\u5757\u673A\u5236</strong>: webpack\u81EA\u5DF1\u5B9E\u73B0\u4E86\u4E00\u5957\u6A21\u62DF\u6A21\u5757\u7684\u673A\u5236\uFF0C\u5C06\u5176\u5305\u88F9\u4E8E\u4E1A\u52A1\u4EE3\u7801\u7684\u5916\u90E8\uFF0C\u4ECE\u800C\u63D0\u4F9B\u4E86\u4E00\u5957\u6A21\u5757\u673A\u5236\uFF1B</li><li><strong>\u6587\u4EF6\u7F16\u8BD1</strong>: webpack \u89C4\u5B9A\u4E86\u4E00\u5957\u7F16\u8BD1\u89C4\u5219\uFF0C\u901A\u8FC7 Loader \u548C Plugin\uFF0C\u4EE5\u7BA1\u9053\u7684\u5F62\u5F0F\u5BF9\u6587\u4EF6\u5B57\u7B26\u4E32\u8FDB\u884C\u5904\u7406\uFF1B</li></ul>`,3),zY={id:"_1-4-webpack\u7684\u6253\u5305\u539F\u7406",tabindex:"-1"},GY=n("a",{class:"header-anchor",href:"#_1-4-webpack\u7684\u6253\u5305\u539F\u7406","aria-hidden":"true"},"#",-1),$Y=s(),XY={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_1-4-webpack%E7%9A%84%E6%89%93%E5%8C%85%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},KY=s("#"),QY=s("1.4 webpack\u7684\u6253\u5305\u539F\u7406"),YY=t("<ul><li><code>\u521D\u59CB\u5316\u53C2\u6570</code>\uFF1A\u4ECE\u914D\u7F6E\u6587\u4EF6\u548C Shell \u8BED\u53E5\u4E2D\u8BFB\u53D6\u4E0E\u5408\u5E76\u53C2\u6570\uFF0C\u5F97\u51FA\u6700\u7EC8\u7684\u53C2\u6570</li><li><code>\u5F00\u59CB\u7F16\u8BD1</code>\uFF1A\u7528\u4E0A\u4E00\u6B65\u5F97\u5230\u7684\u53C2\u6570\u521D\u59CB\u5316 Compiler \u5BF9\u8C61\uFF0C\u52A0\u8F7D\u6240\u6709\u914D\u7F6E\u7684\u63D2\u4EF6\uFF0C\u6267\u884C\u5BF9\u8C61\u7684 run \u65B9\u6CD5\u5F00\u59CB\u6267\u884C\u7F16\u8BD1</li><li><code>\u786E\u5B9A\u5165\u53E3</code>\uFF1A\u6839\u636E\u914D\u7F6E\u4E2D\u7684 entry \u627E\u51FA\u6240\u6709\u7684\u5165\u53E3\u6587\u4EF6</li><li><code>\u7F16\u8BD1\u6A21\u5757</code>\uFF1A\u4ECE\u5165\u53E3\u6587\u4EF6\u51FA\u53D1\uFF0C\u8C03\u7528\u6240\u6709\u914D\u7F6E\u7684 Loader \u5BF9\u6A21\u5757\u8FDB\u884C\u7FFB\u8BD1\uFF0C\u518D\u627E\u51FA\u8BE5\u6A21\u5757\u4F9D\u8D56\u7684\u6A21\u5757\uFF0C\u518D\u9012\u5F52\u672C\u6B65\u9AA4\u76F4\u5230\u6240\u6709\u5165\u53E3\u4F9D\u8D56\u7684\u6587\u4EF6\u90FD\u7ECF\u8FC7\u4E86\u672C\u6B65\u9AA4\u7684\u5904\u7406</li><li><code>\u5B8C\u6210\u6A21\u5757\u7F16\u8BD1</code>\uFF1A\u5728\u7ECF\u8FC7\u7B2C4\u6B65\u4F7F\u7528 Loader \u7FFB\u8BD1\u5B8C\u6240\u6709\u6A21\u5757\u540E\uFF0C\u5F97\u5230\u4E86\u6BCF\u4E2A\u6A21\u5757\u88AB\u7FFB\u8BD1\u540E\u7684\u6700\u7EC8\u5185\u5BB9\u4EE5\u53CA\u5B83\u4EEC\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB</li><li><code>\u8F93\u51FA\u8D44\u6E90</code>\uFF1A\u6839\u636E\u5165\u53E3\u548C\u6A21\u5757\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u7EC4\u88C5\u6210\u4E00\u4E2A\u4E2A\u5305\u542B\u591A\u4E2A\u6A21\u5757\u7684 Chunk\uFF0C\u518D\u628A\u6BCF\u4E2A Chunk \u8F6C\u6362\u6210\u4E00\u4E2A\u5355\u72EC\u7684\u6587\u4EF6\u52A0\u5165\u5230\u8F93\u51FA\u5217\u8868\uFF0C\u8FD9\u6B65\u662F\u53EF\u4EE5\u4FEE\u6539\u8F93\u51FA\u5185\u5BB9\u7684\u6700\u540E\u673A\u4F1A</li><li><code>\u8F93\u51FA\u5B8C\u6210</code>\uFF1A\u5728\u786E\u5B9A\u597D\u8F93\u51FA\u5185\u5BB9\u540E\uFF0C\u6839\u636E\u914D\u7F6E\u786E\u5B9A\u8F93\u51FA\u7684\u8DEF\u5F84\u548C\u6587\u4EF6\u540D\uFF0C\u628A\u6587\u4EF6\u5185\u5BB9\u5199\u5165\u5230\u6587\u4EF6\u7CFB\u7EDF</li></ul>",1),ZY={id:"_1-5-\u603B\u7ED3",tabindex:"-1"},nZ=n("a",{class:"header-anchor",href:"#_1-5-\u603B\u7ED3","aria-hidden":"true"},"#",-1),sZ=s(),aZ={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_1-5-%E6%80%BB%E7%BB%93",target:"_blank",rel:"noopener noreferrer"},eZ=s("#"),tZ=s("1.5 \u603B\u7ED3"),pZ=t("<ol><li>\u521D\u59CB\u5316\u53C2\u6570\uFF1A\u4ECE\u914D\u7F6E\u6587\u4EF6\u548C Shell \u8BED\u53E5\u4E2D\u8BFB\u53D6\u5E76\u5408\u5E76\u53C2\u6570\uFF0C\u5F97\u51FA\u6700\u7EC8\u7684\u914D\u7F6E\u53C2\u6570\u3002</li><li>\u5F00\u59CB\u7F16\u8BD1\uFF1A\u4ECE\u4E0A\u4E00\u6B65\u5F97\u5230\u7684\u53C2\u6570\u521D\u59CB\u5316 <code>Compiler</code> \u5BF9\u8C61\uFF0C\u52A0\u8F7D\u6240\u6709\u914D\u7F6E\u7684\u63D2\u4EF6\uFF0C\u6267\u884C\u5BF9\u8C61\u7684 <code>run</code> \u65B9\u6CD5\u5F00\u59CB\u6267\u884C\u7F16\u8BD1\u3002</li><li>\u786E\u5B9A\u5165\u53E3\uFF1A\u6839scope\u636E\u914D\u7F6E\u4E2D\u7684 <code>entry</code> \u627E\u51FA\u6240\u6709\u7684\u5165\u53E3\u6587\u4EF6\u3002</li><li>\u7F16\u8BD1\u6A21\u5757\uFF1A\u4ECE\u5165\u53E3\u6587\u4EF6\u51FA\u53D1\uFF0C\u8C03\u7528\u6240\u6709\u914D\u7F6E\u7684 <code>loader</code> \u5BF9\u6A21\u5757\u8FDB\u884C\u7FFB\u8BD1\uFF0C\u518D\u627E\u51FA\u8BE5\u6A21\u5757\u4F9D\u8D56\u7684\u6A21\u5757\uFF0C\u8FD9\u4E2A\u6B65\u9AA4\u662F\u9012\u5F52\u6267\u884C\u7684\uFF0C\u76F4\u81F3\u6240\u6709\u5165\u53E3\u4F9D\u8D56\u7684\u6A21\u5757\u6587\u4EF6\u90FD\u7ECF\u8FC7\u672C\u6B65\u9AA4\u7684\u5904\u7406\u3002</li><li>\u5B8C\u6210\u6A21\u5757\u7F16\u8BD1\uFF1A\u7ECF\u8FC7\u7B2C 4 \u6B65\u4F7F\u7528 loader \u7FFB\u8BD1\u5B8C\u6240\u6709\u6A21\u5757\u540E\uFF0C\u5F97\u5230\u4E86\u6BCF\u4E2A\u6A21\u5757\u88AB\u7FFB\u8BD1\u540E\u7684\u6700\u7EC8\u5185\u5BB9\u4EE5\u53CA\u5B83\u4EEC\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\u3002</li><li>\u8F93\u51FA\u8D44\u6E90\uFF1A\u6839\u636E\u5165\u53E3\u548C\u6A21\u5757\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u7EC4\u88C5\u6210\u4E00\u4E2A\u4E2A\u5305\u542B\u591A\u4E2A\u6A21\u5757\u7684 <code>chunk</code>\uFF0C\u518D\u628A\u6BCF\u4E2A <code>chunk</code> \u8F6C\u6362\u6210\u4E00\u4E2A\u5355\u72EC\u7684\u6587\u4EF6\u52A0\u5165\u5230\u8F93\u51FA\u5217\u8868\uFF0C\u8FD9\u4E00\u6B65\u662F\u53EF\u4EE5\u4FEE\u6539\u8F93\u51FA\u5185\u5BB9\u7684\u6700\u540E\u673A\u4F1A\u3002</li><li>\u8F93\u51FA\u5B8C\u6210\uFF1A\u5728\u786E\u5B9A\u597D\u8F93\u51FA\u5185\u5BB9\u540E\uFF0C\u6839\u636E\u914D\u7F6E\u786E\u5B9A\u8F93\u51FA\u7684\u8DEF\u5F84\u548C\u6587\u4EF6\u540D\uFF0C\u628A\u6587\u4EF6\u5185\u5BB9\u5199\u5165\u5230\u6587\u4EF6\u7CFB\u7EDF\u3002</li></ol>",1),oZ={id:"_2-webpack\u70ED\u66F4\u65B0\u539F\u7406",tabindex:"-1"},cZ=n("a",{class:"header-anchor",href:"#_2-webpack\u70ED\u66F4\u65B0\u539F\u7406","aria-hidden":"true"},"#",-1),lZ=s(),rZ={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_2-webpack%E7%83%AD%E6%9B%B4%E6%96%B0%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},iZ=s("#"),uZ=s("2 webpack\u70ED\u66F4\u65B0\u539F\u7406"),kZ=t('<p><img src="http://img-repo.poetries.top/images/20210319101659.png" alt="img"></p><ul><li>\u5F53\u4FEE\u6539\u4E86\u4E00\u4E2A\u6216\u591A\u4E2A\u6587\u4EF6\uFF1B</li><li>\u6587\u4EF6\u7CFB\u7EDF\u63A5\u6536\u66F4\u6539\u5E76\u901A\u77E5 <code>webpack</code>\uFF1B</li><li><code>webpack</code> \u91CD\u65B0\u7F16\u8BD1\u6784\u5EFA\u4E00\u4E2A\u6216\u591A\u4E2A\u6A21\u5757\uFF0C\u5E76\u901A\u77E5 HMR \u670D\u52A1\u5668\u8FDB\u884C\u66F4\u65B0\uFF1B</li><li><code>HMR Server</code> \u4F7F\u7528 <code>webSocket</code> \u901A\u77E5 <code>HMR runtime</code> \u9700\u8981\u66F4\u65B0\uFF0C<code>HMR</code> \u8FD0\u884C\u65F6\u901A\u8FC7 <code>HTTP</code> \u8BF7\u6C42\u66F4\u65B0 <code>jsonp</code></li><li><code>HMR</code> \u8FD0\u884C\u65F6\u66FF\u6362\u66F4\u65B0\u4E2D\u7684\u6A21\u5757\uFF0C\u5982\u679C\u786E\u5B9A\u8FD9\u4E9B\u6A21\u5757\u65E0\u6CD5\u66F4\u65B0\uFF0C\u5219\u89E6\u53D1\u6574\u4E2A\u9875\u9762\u5237\u65B0</li></ul>',2),dZ={id:"_3-webpack-loader",tabindex:"-1"},bZ=n("a",{class:"header-anchor",href:"#_3-webpack-loader","aria-hidden":"true"},"#",-1),mZ=s(),hZ={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_3-webpack-loader",target:"_blank",rel:"noopener noreferrer"},_Z=s("#"),gZ=s("3 webpack Loader"),EZ=t(`<blockquote><p>\u7531\u4E8E Webpack \u662F\u57FA\u4E8E Node\uFF0C\u56E0\u6B64 Webpack \u5176\u5B9E\u662F\u53EA\u80FD\u8BC6\u522B js \u6A21\u5757\uFF0C\u6BD4\u5982 css / html / \u56FE\u7247\u7B49\u7C7B\u578B\u7684\u6587\u4EF6\u5E76\u65E0\u6CD5\u52A0\u8F7D\uFF0C\u56E0\u6B64\u5C31\u9700\u8981\u4E00\u4E2A\u5BF9 \u4E0D\u540C\u683C\u5F0F\u6587\u4EF6\u8F6C\u6362\u5668\u3002\u5176\u5B9E Loader \u505A\u7684\u4E8B\uFF0C\u4E5F\u5E76\u4E0D\u96BE\u7406\u89E3: \u5BF9 Webpack \u4F20\u5165\u7684\u5B57\u7B26\u4E32\u8FDB\u884C\u6309\u9700\u4FEE\u6539\u3002\u4F8B\u5982\u4E00\u4E2A\u6700\u7B80\u5355\u7684 Loader:</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// html-loader/index.js</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">htmlSource</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// \u8FD4\u56DE\u5904\u7406\u540E\u7684\u4EE3\u7801\u5B57\u7B26\u4E32</span>
	<span class="token comment">// \u5220\u9664 html \u6587\u4EF6\u4E2D\u7684\u6240\u6709\u6CE8\u91CA</span>
	<span class="token keyword">return</span> htmlSource<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;!--[\\w\\W]*?--&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>\u5F53\u7136\uFF0C\u5B9E\u9645\u7684 Loader \u4E0D\u4F1A\u8FD9\u4E48\u7B80\u5355\uFF0C\u901A\u5E38\u662F\u9700\u8981\u5C06\u4EE3\u7801\u8FDB\u884C\u5206\u6790\uFF0C\u6784\u5EFA AST (\u62BD\u8C61\u8BED\u6CD5\u6811)\uFF0C \u904D\u5386\u8FDB\u884C\u5B9A\u5411\u7684\u4FEE\u6539\u540E\uFF0C\u518D\u91CD\u65B0\u751F\u6210\u65B0\u7684\u4EE3\u7801\u5B57\u7B26\u4E32\u3002\u5982\u6211\u4EEC\u5E38\u7528\u7684 Babel-loader \u4F1A\u6267\u884C\u4EE5\u4E0B\u6B65\u9AA4:</p></blockquote><ul><li><code>babylon</code> \u5C06 <code>ES6/ES7</code> \u4EE3\u7801\u89E3\u6790\u6210 <code>AST</code></li><li><code>babel-traverse</code> \u5BF9 <code>AST</code> \u8FDB\u884C\u904D\u5386\u8F6C\u8BD1\uFF0C\u5F97\u5230\u65B0\u7684 AST</li><li>\u65B0 <code>AST</code> \u901A\u8FC7 <code>babel-generator</code> \u8F6C\u6362\u6210 <code>ES5</code></li></ul><p><strong>Loader \u7279\u6027:</strong></p><ul><li>\u94FE\u5F0F\u4F20\u9012\uFF0C\u6309\u7167\u914D\u7F6E\u65F6\u76F8\u53CD\u7684\u987A\u5E8F\u94FE\u5F0F\u6267\u884C\uFF1B</li><li>\u57FA\u4E8E Node \u73AF\u5883\uFF0C\u62E5\u6709 \u8F83\u9AD8\u6743\u9650\uFF0C\u6BD4\u5982\u6587\u4EF6\u7684\u589E\u5220\u67E5\u6539\uFF1B</li><li>\u53EF\u540C\u6B65\u4E5F\u53EF\u5F02\u6B65\uFF1B</li></ul><p><strong>\u5E38\u7528 Loader:</strong></p><ul><li><code>file-loader</code>: \u52A0\u8F7D\u6587\u4EF6\u8D44\u6E90\uFF0C\u5982 \u5B57\u4F53 / \u56FE\u7247 \u7B49\uFF0C\u5177\u6709\u79FB\u52A8/\u590D\u5236/\u547D\u540D\u7B49\u529F\u80FD\uFF1B</li><li><code>url-loader</code>: \u901A\u5E38\u7528\u4E8E\u52A0\u8F7D\u56FE\u7247\uFF0C\u53EF\u4EE5\u5C06\u5C0F\u56FE\u7247\u76F4\u63A5\u8F6C\u6362\u4E3A Date Url\uFF0C\u51CF\u5C11\u8BF7\u6C42\uFF1B</li><li><code>babel-loader</code>: \u52A0\u8F7D js / jsx \u6587\u4EF6\uFF0C \u5C06 ES6 / ES7 \u4EE3\u7801\u8F6C\u6362\u6210 ES5\uFF0C\u62B9\u5E73\u517C\u5BB9\u6027\u95EE\u9898\uFF1B</li><li><code>ts-loader</code>: \u52A0\u8F7D ts / tsx \u6587\u4EF6\uFF0C\u7F16\u8BD1 TypeScript\uFF1B</li><li><code>style-loader</code>: \u5C06 css \u4EE3\u7801\u4EE5<code>&lt;style&gt;</code>\u6807\u7B7E\u7684\u5F62\u5F0F\u63D2\u5165\u5230 html \u4E2D\uFF1B</li><li><code>css-loader</code>: \u5206\u6790@import\u548Curl()\uFF0C\u5F15\u7528 css \u6587\u4EF6\u4E0E\u5BF9\u5E94\u7684\u8D44\u6E90\uFF1B</li><li><code>postcss-loader</code>: \u7528\u4E8E css \u7684\u517C\u5BB9\u6027\u5904\u7406\uFF0C\u5177\u6709\u4F17\u591A\u529F\u80FD\uFF0C\u4F8B\u5982 \u6DFB\u52A0\u524D\u7F00\uFF0C\u5355\u4F4D\u8F6C\u6362 \u7B49\uFF1B</li><li><code>less-loader / sass-loader</code>: css\u9884\u5904\u7406\u5668\uFF0C\u5728 css \u4E2D\u65B0\u589E\u4E86\u8BB8\u591A\u8BED\u6CD5\uFF0C\u63D0\u9AD8\u4E86\u5F00\u53D1\u6548\u7387\uFF1B</li></ul><p><strong>\u7F16\u5199\u539F\u5219:</strong></p><ul><li>\u5355\u4E00\u539F\u5219: \u6BCF\u4E2A Loader \u53EA\u505A\u4E00\u4EF6\u4E8B\uFF1B</li><li>\u94FE\u5F0F\u8C03\u7528: Webpack \u4F1A\u6309\u987A\u5E8F\u94FE\u5F0F\u8C03\u7528\u6BCF\u4E2A Loader\uFF1B</li><li>\u7EDF\u4E00\u539F\u5219: \u9075\u5FAA Webpack\u5236\u5B9A\u7684\u8BBE\u8BA1\u89C4\u5219\u548C\u7ED3\u6784\uFF0C\u8F93\u5165\u4E0E\u8F93\u51FA\u5747\u4E3A\u5B57\u7B26\u4E32\uFF0C\u5404\u4E2A Loader \u5B8C\u5168\u72EC\u7ACB\uFF0C\u5373\u63D2\u5373\u7528\uFF1B</li></ul>`,10),fZ={id:"_4-webpack-plugin",tabindex:"-1"},vZ=n("a",{class:"header-anchor",href:"#_4-webpack-plugin","aria-hidden":"true"},"#",-1),wZ=s(),yZ={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_4-webpack-plugin",target:"_blank",rel:"noopener noreferrer"},xZ=s("#"),AZ=s("4 webpack Plugin"),BZ=t(`<blockquote><p>\u63D2\u4EF6\u7CFB\u7EDF\u662F Webpack \u6210\u529F\u7684\u4E00\u4E2A\u5173\u952E\u6027\u56E0\u7D20\u3002\u5728\u7F16\u8BD1\u7684\u6574\u4E2A\u751F\u547D\u5468\u671F\u4E2D\uFF0CWebpack \u4F1A\u89E6\u53D1\u8BB8\u591A\u4E8B\u4EF6\u94A9\u5B50\uFF0CPlugin \u53EF\u4EE5\u76D1\u542C\u8FD9\u4E9B\u4E8B\u4EF6\uFF0C\u6839\u636E\u9700\u6C42\u5728\u76F8\u5E94\u7684\u65F6\u95F4\u70B9\u5BF9\u6253\u5305\u5185\u5BB9\u8FDB\u884C\u5B9A\u5411\u7684\u4FEE\u6539\u3002</p></blockquote><p><strong>\u4E00\u4E2A\u6700\u7B80\u5355\u7684 plugin \u662F\u8FD9\u6837\u7684:</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Plugin</span><span class="token punctuation">{</span>
  	<span class="token comment">// \u6CE8\u518C\u63D2\u4EF6\u65F6\uFF0C\u4F1A\u8C03\u7528 apply \u65B9\u6CD5</span>
  	<span class="token comment">// apply \u65B9\u6CD5\u63A5\u6536 compiler \u5BF9\u8C61</span>
  	<span class="token comment">// \u901A\u8FC7 compiler \u4E0A\u63D0\u4F9B\u7684 Api\uFF0C\u53EF\u4EE5\u5BF9\u4E8B\u4EF6\u8FDB\u884C\u76D1\u542C\uFF0C\u6267\u884C\u76F8\u5E94\u7684\u64CD\u4F5C</span>
  	<span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  		<span class="token comment">// compilation \u662F\u76D1\u542C\u6BCF\u6B21\u7F16\u8BD1\u5FAA\u73AF</span>
  		<span class="token comment">// \u6BCF\u6B21\u6587\u4EF6\u53D8\u5316\uFF0C\u90FD\u4F1A\u751F\u6210\u65B0\u7684 compilation \u5BF9\u8C61\u5E76\u89E6\u53D1\u8BE5\u4E8B\u4EF6</span>
    	compiler<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&#39;compilation&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>\u6CE8\u518C\u63D2\u4EF6:</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>export <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token keyword">new</span> <span class="token class-name">Plugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>\u4E8B\u4EF6\u6D41\u673A\u5236:</strong></p><blockquote><p>Webpack \u5C31\u50CF\u5DE5\u5382\u4E2D\u7684\u4E00\u6761\u4EA7\u54C1\u6D41\u6C34\u7EBF\u3002\u539F\u6750\u6599\u7ECF\u8FC7 Loader \u4E0E Plugin \u7684\u4E00\u9053\u9053\u5904\u7406\uFF0C\u6700\u540E\u8F93\u51FA\u7ED3\u679C\u3002</p></blockquote><ul><li>\u901A\u8FC7\u94FE\u5F0F\u8C03\u7528\uFF0C\u6309\u987A\u5E8F\u4E32\u8D77\u4E00\u4E2A\u4E2A Loader\uFF1B</li><li>\u901A\u8FC7\u4E8B\u4EF6\u6D41\u673A\u5236\uFF0C\u8BA9 Plugin \u53EF\u4EE5\u63D2\u5165\u5230\u6574\u4E2A\u751F\u4EA7\u8FC7\u7A0B\u4E2D\u7684\u6BCF\u4E2A\u6B65\u9AA4\u4E2D\uFF1B</li></ul><blockquote><p>Webpack \u4E8B\u4EF6\u6D41\u7F16\u7A0B\u8303\u5F0F\u7684\u6838\u5FC3\u662F\u57FA\u7840\u7C7B Tapable\uFF0C\u662F\u4E00\u79CD \u89C2\u5BDF\u8005\u6A21\u5F0F \u7684\u5B9E\u73B0\u4E8B\u4EF6\u7684\u8BA2\u9605\u4E0E\u5E7F\u64AD\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> SyncHook <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;tapable&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> hook <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SyncHook</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;arg&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// \u8BA2\u9605</span>
hook<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">&#39;event&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// &#39;event-hook&#39;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u5E7F\u64AD</span>
<span class="token function">hook</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&#39;event-hook&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p><code>Webpack</code> \u4E2D\u4E24\u4E2A\u6700\u91CD\u8981\u7684\u7C7B <code>Compiler</code> \u4E0E <code>Compilation</code> \u4FBF\u662F\u7EE7\u627F\u4E8E <code>Tapable</code>\uFF0C\u4E5F\u62E5\u6709\u8FD9\u6837\u7684\u4E8B\u4EF6\u6D41\u673A\u5236\u3002</p></blockquote><ul><li><strong>Compiler</strong>: \u53EF\u4EE5\u7B80\u5355\u7684\u7406\u89E3\u4E3A Webpack \u5B9E\u4F8B\uFF0C\u5B83\u5305\u542B\u4E86\u5F53\u524D Webpack \u4E2D\u7684\u6240\u6709\u914D\u7F6E\u4FE1\u606F\uFF0C\u5982 options\uFF0C loaders, plugins \u7B49\u4FE1\u606F\uFF0C\u5168\u5C40\u552F\u4E00\uFF0C\u53EA\u5728\u542F\u52A8\u65F6\u5B8C\u6210\u521D\u59CB\u5316\u521B\u5EFA\uFF0C\u968F\u7740\u751F\u547D\u5468\u671F\u9010\u4E00\u4F20\u9012\uFF1B</li><li><code>Compilation</code>: \u53EF\u4EE5\u79F0\u4E3A \u7F16\u8BD1\u5B9E\u4F8B\u3002\u5F53\u76D1\u542C\u5230\u6587\u4EF6\u53D1\u751F\u6539\u53D8\u65F6\uFF0CWebpack \u4F1A\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684 Compilation \u5BF9\u8C61\uFF0C\u5F00\u59CB\u4E00\u6B21\u65B0\u7684\u7F16\u8BD1\u3002\u5B83\u5305\u542B\u4E86\u5F53\u524D\u7684\u8F93\u5165\u8D44\u6E90\uFF0C\u8F93\u51FA\u8D44\u6E90\uFF0C\u53D8\u5316\u7684\u6587\u4EF6\u7B49\uFF0C\u540C\u65F6\u901A\u8FC7\u5B83\u63D0\u4F9B\u7684 api\uFF0C\u53EF\u4EE5\u76D1\u542C\u6BCF\u6B21\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\u89E6\u53D1\u7684\u4E8B\u4EF6\u94A9\u5B50\uFF1B</li><li><strong>\u533A\u522B:</strong><ul><li><code>Compiler</code> \u5168\u5C40\u552F\u4E00\uFF0C\u4E14\u4ECE\u542F\u52A8\u751F\u5B58\u5230\u7ED3\u675F\uFF1B</li><li><code>Compilation</code>\u5BF9\u5E94\u6BCF\u6B21\u7F16\u8BD1\uFF0C\u6BCF\u8F6E\u7F16\u8BD1\u5FAA\u73AF\u5747\u4F1A\u91CD\u65B0\u521B\u5EFA\uFF1B</li></ul></li><li><strong>\u5E38\u7528 Plugin:</strong><ul><li>UglifyJsPlugin: \u538B\u7F29\u3001\u6DF7\u6DC6\u4EE3\u7801\uFF1B</li><li>CommonsChunkPlugin: \u4EE3\u7801\u5206\u5272\uFF1B</li><li>ProvidePlugin: \u81EA\u52A8\u52A0\u8F7D\u6A21\u5757\uFF1B</li><li>html-webpack-plugin: \u52A0\u8F7D html \u6587\u4EF6\uFF0C\u5E76\u5F15\u5165 css / js \u6587\u4EF6\uFF1B</li><li>extract-text-webpack-plugin / mini-css-extract-plugin: \u62BD\u79BB\u6837\u5F0F\uFF0C\u751F\u6210 css \u6587\u4EF6\uFF1B DefinePlugin: \u5B9A\u4E49\u5168\u5C40\u53D8\u91CF\uFF1B</li><li>optimize-css-assets-webpack-plugin: CSS \u4EE3\u7801\u53BB\u91CD\uFF1B</li><li>webpack-bundle-analyzer: \u4EE3\u7801\u5206\u6790\uFF1B</li><li>compression-webpack-plugin: \u4F7F\u7528 gzip \u538B\u7F29 js \u548C css\uFF1B</li><li>happypack: \u4F7F\u7528\u591A\u8FDB\u7A0B\uFF0C\u52A0\u901F\u4EE3\u7801\u6784\u5EFA\uFF1B</li><li>EnvironmentPlugin: \u5B9A\u4E49\u73AF\u5883\u53D8\u91CF\uFF1B</li></ul></li><li>\u8C03\u7528\u63D2\u4EF6 <code>apply</code> \u51FD\u6570\u4F20\u5165 <code>compiler</code> \u5BF9\u8C61</li><li>\u901A\u8FC7 <code>compiler</code> \u5BF9\u8C61\u76D1\u542C\u4E8B\u4EF6</li></ul><p><strong>loader\u548Cplugin\u6709\u4EC0\u4E48\u533A\u522B\uFF1F</strong></p><blockquote><p>webapck\u9ED8\u8BA4\u53EA\u80FD\u6253\u5305JS\u548CJOSN\u6A21\u5757\uFF0C\u8981\u6253\u5305\u5176\u5B83\u6A21\u5757\uFF0C\u9700\u8981\u501F\u52A9loader\uFF0Cloader\u5C31\u53EF\u4EE5\u8BA9\u6A21\u5757\u4E2D\u7684\u5185\u5BB9\u8F6C\u5316\u6210webpack\u6216\u5176\u5B83laoder\u53EF\u4EE5\u8BC6\u522B\u7684\u5185\u5BB9\u3002</p></blockquote><ul><li><code>loader</code>\u5C31\u662F\u6A21\u5757\u8F6C\u6362\u5316\uFF0C\u6216\u53EB\u52A0\u8F7D\u5668\u3002\u4E0D\u540C\u7684\u6587\u4EF6\uFF0C\u9700\u8981\u4E0D\u540C\u7684<code>loader</code>\u6765\u5904\u7406\u3002</li><li><code>plugin</code>\u662F\u63D2\u4EF6\uFF0C\u53EF\u4EE5\u53C2\u4E0E\u5230\u6574\u4E2Awebpack\u6253\u5305\u7684\u6D41\u7A0B\u4E2D\uFF0C\u4E0D\u540C\u7684\u63D2\u4EF6\uFF0C\u5728\u5408\u9002\u7684\u65F6\u673A\uFF0C\u53EF\u4EE5\u505A\u4E0D\u540C\u7684\u4E8B\u4EF6\u3002</li></ul><p><strong>webpack\u4E2D\u90FD\u6709\u54EA\u4E9B\u63D2\u4EF6\uFF0C\u8FD9\u4E9B\u63D2\u4EF6\u6709\u4EC0\u4E48\u4F5C\u7528\uFF1F</strong></p><ul><li><code>html-webpack-plugin</code> \u81EA\u52A8\u521B\u5EFA\u4E00\u4E2AHTML\u6587\u4EF6\uFF0C\u5E76\u628A\u6253\u5305\u597D\u7684JS\u63D2\u5165\u5230HTML\u6587\u4EF6\u4E2D</li><li><code>clean-webpack-plugin</code> \u5728\u6BCF\u4E00\u6B21\u6253\u5305\u4E4B\u524D\uFF0C\u5220\u9664\u6574\u4E2A\u8F93\u51FA\u6587\u4EF6\u5939\u4E0B\u6240\u6709\u7684\u5185\u5BB9</li><li><code>mini-css-extrcat-plugin</code> \u62BD\u79BBCSS\u4EE3\u7801\uFF0C\u653E\u5230\u4E00\u4E2A\u5355\u72EC\u7684\u6587\u4EF6\u4E2D</li><li><code>optimize-css-assets-plugin</code> \u538B\u7F29css</li></ul>`,17),qZ={id:"\u5B9E\u73B0\u4E00\u4E2A\u7F16\u8BD1\u7ED3\u675F\u9000\u51FA\u547D\u4EE4\u7684\u63D2\u4EF6",tabindex:"-1"},jZ=n("a",{class:"header-anchor",href:"#\u5B9E\u73B0\u4E00\u4E2A\u7F16\u8BD1\u7ED3\u675F\u9000\u51FA\u547D\u4EE4\u7684\u63D2\u4EF6","aria-hidden":"true"},"#",-1),SZ=s(),CZ={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%BC%96%E8%AF%91%E7%BB%93%E6%9D%9F%E9%80%80%E5%87%BA%E5%91%BD%E4%BB%A4%E7%9A%84%E6%8F%92%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},DZ=s("#"),FZ=s("\u5B9E\u73B0\u4E00\u4E2A\u7F16\u8BD1\u7ED3\u675F\u9000\u51FA\u547D\u4EE4\u7684\u63D2\u4EF6"),PZ=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">apply</span> <span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">afterEmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">compilation<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  compiler<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&#39;after-emit&#39;</span><span class="token punctuation">,</span> afterEmit<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> BuildEndPlugin
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> isGithub <span class="token operator">=</span> location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;FE-Interview-Questions&#39;</span><span class="token punctuation">)</span><span class="token operator">!==</span><span class="token operator">-</span><span class="token number">1</span>
    <span class="token keyword">var</span> sId <span class="token operator">=</span> isGithub <span class="token operator">?</span> <span class="token string">&#39;59154049&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;66575297&#39;</span>
    <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;text/javascript&quot;</span>
    script<span class="token punctuation">.</span>charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span>
    script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">http://tajs.qq.com/stats?sId=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>sId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div>`,1),TZ={id:"_5-webpack\u7F16\u8BD1\u4F18\u5316",tabindex:"-1"},NZ=n("a",{class:"header-anchor",href:"#_5-webpack\u7F16\u8BD1\u4F18\u5316","aria-hidden":"true"},"#",-1),MZ=s(),OZ={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_5-webpack%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},IZ=s("#"),RZ=s("5 webpack\u7F16\u8BD1\u4F18\u5316"),VZ=t(`<p><strong>\u4EE3\u7801\u4F18\u5316:</strong></p><blockquote><p>\u65E0\u7528\u4EE3\u7801\u6D88\u9664\uFF0C\u662F\u8BB8\u591A\u7F16\u7A0B\u8BED\u8A00\u90FD\u5177\u6709\u7684\u4F18\u5316\u624B\u6BB5\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u79F0\u4E3A DCE (dead code elimination)\uFF0C\u5373 \u5220\u9664\u4E0D\u53EF\u80FD\u6267\u884C\u7684\u4EE3\u7801\uFF1B</p></blockquote><p>\u4F8B\u5982\u6211\u4EEC\u7684 <code>UglifyJs</code>\uFF0C\u5B83\u5C31\u4F1A\u5E2E\u6211\u4EEC\u5728\u751F\u4EA7\u73AF\u5883\u4E2D\u5220\u9664\u4E0D\u53EF\u80FD\u88AB\u6267\u884C\u7684\u4EE3\u7801\uFF0C\u4F8B\u5982:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token comment">// \u4E0B\u9762\u4EE3\u7801\u4FBF\u5C5E\u4E8E \u4E0D\u53EF\u80FD\u6267\u884C\u7684\u4EE3\u7801\uFF1B</span>
	<span class="token comment">// \u901A\u8FC7 UglifyJs (Webpack4+ \u5DF2\u5185\u7F6E) \u4FBF\u4F1A\u8FDB\u884C DCE\uFF1B</span>
	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>\u6447\u6811\u4F18\u5316 (Tree-shaking)\uFF0C\u8FD9\u662F\u4E00\u79CD\u5F62\u8C61\u6BD4\u55BB\u3002\u6211\u4EEC\u628A\u6253\u5305\u540E\u7684\u4EE3\u7801\u6BD4\u55BB\u6210\u4E00\u68F5\u6811\uFF0C\u8FD9\u91CC\u5176\u5B9E\u8868\u793A\u7684\u5C31\u662F\uFF0C\u901A\u8FC7\u5DE5\u5177 &quot;\u6447&quot; \u6211\u4EEC\u6253\u5305\u540E\u7684 js \u4EE3\u7801\uFF0C\u5C06\u6CA1\u6709\u4F7F\u7528\u5230\u7684\u65E0\u7528\u4EE3\u7801 &quot;\u6447&quot; \u4E0B\u6765 (\u5220\u9664)\u3002\u5373 \u6D88\u9664\u90A3\u4E9B\u88AB \u5F15\u7528\u4E86\u4F46\u672A\u88AB\u4F7F\u7528 \u7684\u6A21\u5757\u4EE3\u7801\u3002</p></blockquote><ul><li><p>\u539F\u7406: \u7531\u4E8E\u662F\u5728\u7F16\u8BD1\u65F6\u4F18\u5316\uFF0C\u56E0\u6B64\u6700\u57FA\u672C\u7684\u524D\u63D0\u5C31\u662F\u8BED\u6CD5\u7684\u9759\u6001\u5206\u6790\uFF0CES6\u7684\u6A21\u5757\u673A\u5236 \u63D0\u4F9B\u4E86\u8FD9\u79CD\u53EF\u80FD\u6027\u3002\u4E0D\u9700\u8981\u8FD0\u884C\u65F6\uFF0C\u4FBF\u53EF\u8FDB\u884C\u4EE3\u7801\u5B57\u9762\u4E0A\u7684\u9759\u6001\u5206\u6790\uFF0C\u786E\u5B9A\u76F8\u5E94\u7684\u4F9D\u8D56\u5173\u7CFB\u3002</p></li><li><p>\u95EE\u9898: \u5177\u6709 \u526F\u4F5C\u7528 \u7684\u51FD\u6570\u65E0\u6CD5\u88AB</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>tree-shaking
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u5728\u5F15\u7528\u4E00\u4E9B\u7B2C\u4E09\u65B9\u5E93\uFF0C\u9700\u8981\u53BB\u89C2\u5BDF\u5176\u5F15\u5165\u7684\u4EE3\u7801\u91CF\u662F\u4E0D\u662F\u7B26\u5408\u9884\u671F\uFF1B</li><li>\u5C3D\u91CF\u5199\u7EAF\u51FD\u6570\uFF0C\u51CF\u5C11\u51FD\u6570\u7684\u526F\u4F5C\u7528\uFF1B</li><li>\u53EF\u4F7F\u7528 <code>webpack-deep-scope-plugin</code>\uFF0C\u53EF\u4EE5\u8FDB\u884C\u4F5C\u7528\u57DF\u5206\u6790\uFF0C\u51CF\u5C11\u6B64\u7C7B\u60C5\u51B5\u7684\u53D1\u751F\uFF0C\u4F46\u4ECD\u9700\u8981\u6CE8\u610F\uFF1B</li></ul></li></ul><p><strong>code-spliting: \u4EE3\u7801\u5206\u5272\u6280\u672F</strong>\uFF0C\u5C06\u4EE3\u7801\u5206\u5272\u6210\u591A\u4EFD\u8FDB\u884C \u61D2\u52A0\u8F7D \u6216 \u5F02\u6B65\u52A0\u8F7D\uFF0C\u907F\u514D\u6253\u5305\u6210\u4E00\u4EFD\u540E\u5BFC\u81F4\u4F53\u79EF\u8FC7\u5927\uFF0C\u5F71\u54CD\u9875\u9762\u7684\u9996\u5C4F\u52A0\u8F7D\uFF1B</p><ul><li><code>Webpack</code> \u4E2D\u4F7F\u7528 <code>SplitChunksPlugin</code> \u8FDB\u884C\u62C6\u5206\uFF1B</li><li>\u6309 \u9875\u9762 \u62C6\u5206: \u4E0D\u540C\u9875\u9762\u6253\u5305\u6210\u4E0D\u540C\u7684\u6587\u4EF6\uFF1B</li><li>\u6309 \u529F\u80FD \u62C6\u5206: <ul><li>\u5C06\u7C7B\u4F3C\u4E8E\u64AD\u653E\u5668\uFF0C\u8BA1\u7B97\u5E93\u7B49\u5927\u6A21\u5757\u8FDB\u884C\u62C6\u5206\u540E\u518D\u61D2\u52A0\u8F7D\u5F15\u5165\uFF1B</li><li>\u63D0\u53D6\u590D\u7528\u7684\u4E1A\u52A1\u4EE3\u7801\uFF0C\u51CF\u5C11\u5197\u4F59\u4EE3\u7801\uFF1B</li></ul></li><li>\u6309 \u6587\u4EF6\u4FEE\u6539\u9891\u7387 \u62C6\u5206: \u5C06\u7B2C\u4E09\u65B9\u5E93\u7B49\u4E0D\u5E38\u4FEE\u6539\u7684\u4EE3\u7801\u5355\u72EC\u6253\u5305\uFF0C\u800C\u4E14\u4E0D\u6539\u53D8\u5176\u6587\u4EF6 hash \u503C\uFF0C\u80FD\u6700\u5927\u5316\u8FD0\u7528\u6D4F\u89C8\u5668\u7684\u7F13\u5B58\uFF1B</li></ul><p><strong>scope hoisting</strong>: \u4F5C\u7528\u57DF\u63D0\u5347\uFF0C\u5C06\u5206\u6563\u7684\u6A21\u5757\u5212\u5206\u5230\u540C\u4E00\u4E2A\u4F5C\u7528\u57DF\u4E2D\uFF0C\u907F\u514D\u4E86\u4EE3\u7801\u7684\u91CD\u590D\u5F15\u5165\uFF0C\u6709\u6548\u51CF\u5C11\u6253\u5305\u540E\u7684\u4EE3\u7801\u4F53\u79EF\u548C\u8FD0\u884C\u65F6\u7684\u5185\u5B58\u635F\u8017\uFF1B</p><p><strong>\u7F16\u8BD1\u6027\u80FD\u4F18\u5316:</strong></p><ul><li><p>\u5347\u7EA7\u81F3 \u6700\u65B0 \u7248\u672C\u7684 <code>webpack</code>\uFF0C\u80FD\u6709\u6548\u63D0\u5347\u7F16\u8BD1\u6027\u80FD\uFF1B</p></li><li><p>\u4F7F\u7528</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>dev-server
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>/ \u6A21\u5757\u70ED\u66FF\u6362 (</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>HMR
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>) \u63D0\u5347\u5F00\u53D1\u4F53\u9A8C\uFF1B</p><ul><li>\u76D1\u542C\u6587\u4EF6\u53D8\u52A8 \u5FFD\u7565 node_modules \u76EE\u5F55\u80FD\u6709\u6548\u63D0\u9AD8\u76D1\u542C\u65F6\u7684\u7F16\u8BD1\u6548\u7387\uFF1B</li></ul></li><li><p>\u7F29\u5C0F\u7F16\u8BD1\u8303\u56F4</p><ul><li><code>modules</code>: \u6307\u5B9A\u6A21\u5757\u8DEF\u5F84\uFF0C\u51CF\u5C11\u9012\u5F52\u641C\u7D22\uFF1B</li><li><code>mainFields</code>: \u6307\u5B9A\u5165\u53E3\u6587\u4EF6\u63CF\u8FF0\u5B57\u6BB5\uFF0C\u51CF\u5C11\u641C\u7D22\uFF1B</li><li><code>noParse</code>: \u907F\u514D\u5BF9\u975E\u6A21\u5757\u5316\u6587\u4EF6\u7684\u52A0\u8F7D\uFF1B</li><li><code>includes/exclude</code>: \u6307\u5B9A\u641C\u7D22\u8303\u56F4/\u6392\u9664\u4E0D\u5FC5\u8981\u7684\u641C\u7D22\u8303\u56F4\uFF1B</li><li><code>alias</code>: \u7F13\u5B58\u76EE\u5F55\uFF0C\u907F\u514D\u91CD\u590D\u5BFB\u5740\uFF1B</li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>babel-loader
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u5FFD\u7565<code>node_moudles</code>\uFF0C\u907F\u514D\u7F16\u8BD1\u7B2C\u4E09\u65B9\u5E93\u4E2D\u5DF2\u7ECF\u88AB\u7F16\u8BD1\u8FC7\u7684\u4EE3\u7801</li><li>\u4F7F\u7528<code>cacheDirectory</code>\uFF0C\u53EF\u4EE5\u7F13\u5B58\u7F16\u8BD1\u7ED3\u679C\uFF0C\u907F\u514D\u591A\u6B21\u91CD\u590D\u7F16\u8BD1</li></ul></li><li><p>\u591A\u8FDB\u7A0B\u5E76\u53D1</p><ul><li><code>webpack-parallel-uglify-plugin</code>: \u53EF\u591A\u8FDB\u7A0B\u5E76\u53D1\u538B\u7F29 js \u6587\u4EF6\uFF0C\u63D0\u9AD8\u538B\u7F29\u901F\u5EA6\uFF1B</li><li><code>HappyPack</code>: \u591A\u8FDB\u7A0B\u5E76\u53D1\u6587\u4EF6\u7684 <code>Loader</code> \u89E3\u6790\uFF1B</li></ul></li><li><p>\u7B2C\u4E09\u65B9\u5E93\u6A21\u5757\u7F13\u5B58:</p><ul><li><code>DLLPlugin</code> \u548C <code>DLLReferencePlugin</code> \u53EF\u4EE5\u63D0\u524D\u8FDB\u884C\u6253\u5305\u5E76\u7F13\u5B58\uFF0C\u907F\u514D\u6BCF\u6B21\u90FD\u91CD\u65B0\u7F16\u8BD1\uFF1B</li></ul></li><li><p>\u4F7F\u7528\u5206\u6790</p><ul><li><code>Webpack Analyse / webpack-bundle-analyzer</code> \u5BF9\u6253\u5305\u540E\u7684\u6587\u4EF6\u8FDB\u884C\u5206\u6790\uFF0C\u5BFB\u627E\u53EF\u4F18\u5316\u7684\u5730\u65B9</li><li>\u914D\u7F6Eprofile\uFF1Atrue\uFF0C\u5BF9\u5404\u4E2A\u7F16\u8BD1\u9636\u6BB5\u8017\u65F6\u8FDB\u884C\u76D1\u63A7\uFF0C\u5BFB\u627E\u8017\u65F6\u6700\u591A\u7684\u5730\u65B9</li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>source-map
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>:</p><ul><li>\u5F00\u53D1: <code>cheap-module-eval-source-map</code></li><li>\u751F\u4EA7: <code>hidden-source-map</code>\uFF1B</li></ul></li></ul>`,11),HZ={id:"\u4F18\u5316webpack\u6253\u5305\u901F\u5EA6",tabindex:"-1"},LZ=n("a",{class:"header-anchor",href:"#\u4F18\u5316webpack\u6253\u5305\u901F\u5EA6","aria-hidden":"true"},"#",-1),UZ=s(),JZ={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#%E4%BC%98%E5%8C%96webpack%E6%89%93%E5%8C%85%E9%80%9F%E5%BA%A6",target:"_blank",rel:"noopener noreferrer"},WZ=s("#"),zZ=s("\u4F18\u5316webpack\u6253\u5305\u901F\u5EA6"),GZ=t("<ul><li>\u51CF\u5C11\u6587\u4EF6\u641C\u7D22\u8303\u56F4 <ul><li>\u6BD4\u5982\u901A\u8FC7\u522B\u540D</li><li><code>loader</code> \u7684 <code>test</code>\uFF0C<code>include &amp; exclude</code></li></ul></li><li><code>Webpack4</code> \u9ED8\u8BA4\u538B\u7F29\u5E76\u884C</li><li><code>Happypack</code> \u5E76\u53D1\u8C03\u7528</li><li><code>babel</code> \u4E5F\u53EF\u4EE5\u7F13\u5B58\u7F16\u8BD1</li></ul>",1),$Z={id:"_6-webpack-import-\u539F\u7406",tabindex:"-1"},XZ=n("a",{class:"header-anchor",href:"#_6-webpack-import-\u539F\u7406","aria-hidden":"true"},"#",-1),KZ=s(),QZ={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_6-webpack-import-%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},YZ=s("#"),ZZ=s("6 webpack import()\u539F\u7406"),nnn={id:"\u52A8\u6001\u5BFC\u5165\u539F\u7406",tabindex:"-1"},snn=n("a",{class:"header-anchor",href:"#\u52A8\u6001\u5BFC\u5165\u539F\u7406","aria-hidden":"true"},"#",-1),ann=s(),enn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#%E5%8A%A8%E6%80%81%E5%AF%BC%E5%85%A5%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},tnn=s("#"),pnn=s("\u52A8\u6001\u5BFC\u5165\u539F\u7406"),onn=t(`<blockquote><p>\u7528\u4E8E\u52A8\u6001\u52A0\u8F7D\u7684<code>import()</code>\u65B9\u6CD5</p></blockquote><ul><li>\u8FD9\u4E2A\u529F\u80FD\u53EF\u4EE5\u5B9E\u73B0\u6309\u9700\u52A0\u8F7D\u6211\u4EEC\u7684\u4EE3\u7801\uFF0C\u5E76\u4E14\u4F7F\u7528\u4E86<code>promise</code>\u5F0F\u7684\u56DE\u8C03\uFF0C\u83B7\u53D6\u52A0\u8F7D\u7684\u5305</li><li>\u5728\u4EE3\u7801\u4E2D\u6240\u6709\u88AB<code>import()</code>\u7684\u6A21\u5757\uFF0C\u90FD\u5C06\u6253\u6210\u4E00\u4E2A\u5355\u72EC\u7684\u5305\uFF0C\u653E\u5728<code>chunk</code>\u5B58\u50A8\u7684\u76EE\u5F55\u4E0B\u3002\u5728\u6D4F\u89C8\u5668\u8FD0\u884C\u5230\u8FD9\u4E00\u884C\u4EE3\u7801\u65F6\uFF0C\u5C31\u4F1A\u81EA\u52A8\u8BF7\u6C42\u8FD9\u4E2A\u8D44\u6E90\uFF0C\u5B9E\u73B0\u5F02\u6B65\u52A0\u8F7D</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8FD9\u91CC\u662F\u4E00\u4E2A\u7B80\u5355\u7684demo\u3002</span>
<span class="token comment">// \u53EF\u4EE5\u770B\u5230\uFF0Cimport()\u7684\u8BED\u6CD5\u5341\u5206\u7B80\u5355\u3002\u8BE5\u51FD\u6570\u53EA\u63A5\u53D7\u4E00\u4E2A\u53C2\u6570\uFF0C\u5C31\u662F\u5F15\u7528\u5305\u7684\u5730\u5740</span>
<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;lodash&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">_</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something with lodash (a.k.a &#39;_&#39;)...</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,3),cnn={id:"webpack\u4E2D\u5982\u4F55\u5B9E\u73B0\u52A8\u6001\u5BFC\u5165",tabindex:"-1"},lnn=n("a",{class:"header-anchor",href:"#webpack\u4E2D\u5982\u4F55\u5B9E\u73B0\u52A8\u6001\u5BFC\u5165","aria-hidden":"true"},"#",-1),rnn=s(),inn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#webpack%E4%B8%AD%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E5%AF%BC%E5%85%A5",target:"_blank",rel:"noopener noreferrer"},unn=s("#"),knn=s("webpack\u4E2D\u5982\u4F55\u5B9E\u73B0\u52A8\u6001\u5BFC\u5165\uFF1F"),dnn=t("<ol><li>\u4F7F\u7528<code>import(/** webpackChunkName: &quot;lodash&quot; **/ &#39;lodash&#39;).then(_ =&gt; {})</code>\uFF0C\u540C\u65F6\u53EF\u4EE5\u5728<code>webpack.config.js</code>\u4E2D\u914D\u7F6E\u4E00\u4E0B<code>output\u7684chunkFilename</code>\u4E3A<code>[name].bunld.js</code>\u5C06\u8981\u5BFC\u5165\u7684\u6A21\u5757\u5355\u72EC\u62BD\u79BB\u5230\u4E00\u4E2A<code>bundle</code>\u4E2D\uFF0C\u4EE5\u6B64\u5B9E\u73B0\u4EE3\u7801\u5206\u79BB\u3002</li><li>\u4F7F\u7528<code>async</code>\uFF0C\u7531\u4E8E<code>import()</code>\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A<code>promise</code>, \u56E0\u6B64\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528<code>async</code>\u51FD\u6570\u6765\u7B80\u5316\u5B83\uFF0C\u4E0D\u8FC7\u9700\u8981<code>babel</code>\u8FD9\u6837\u7684\u9884\u5904\u7406\u5668\u53CA\u5904\u7406\u8F6C\u6362<code>async</code>\u7684\u63D2\u4EF6\u3002<code>const _ = await import(/* webpackChunkName: &quot;lodash&quot; */ &#39;lodash&#39;);</code></li></ol>",1),bnn={id:"_7-webpack\u6709\u54EA\u51E0\u79CD\u6587\u4EF6\u6307\u7EB9",tabindex:"-1"},mnn=n("a",{class:"header-anchor",href:"#_7-webpack\u6709\u54EA\u51E0\u79CD\u6587\u4EF6\u6307\u7EB9","aria-hidden":"true"},"#",-1),hnn=s(),_nn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_7-webpack%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E6%96%87%E4%BB%B6%E6%8C%87%E7%BA%B9",target:"_blank",rel:"noopener noreferrer"},gnn=s("#"),Enn=s("7 webpack\u6709\u54EA\u51E0\u79CD\u6587\u4EF6\u6307\u7EB9\uFF1F"),fnn=t("<ul><li><code>hash</code>\u662F\u8DDF\u6574\u4E2A\u9879\u76EE\u7684\u6784\u5EFA\u76F8\u5173\uFF0C\u53EA\u8981\u9879\u76EE\u91CC\u6709\u6587\u4EF6\u66F4\u6539\uFF0C\u6574\u4E2A\u9879\u76EE\u6784\u5EFA\u7684<code>hash</code>\u503C\u90FD\u4F1A\u66F4\u6539\uFF0C\u5E76\u4E14\u5168\u90E8\u6587\u4EF6\u90FD\u5171\u7528\u76F8\u540C\u7684<code>hash</code>\u503C\u3002(\u7C92\u5EA6\u6574\u4E2A\u9879\u76EE)</li><li><code>chunkhash</code>\u662F\u6839\u636E\u4E0D\u540C\u7684\u5165\u53E3\u8FDB\u884C\u4F9D\u8D56\u6587\u4EF6\u89E3\u6790\uFF0C\u6784\u5EFA\u5BF9\u5E94\u7684<code>chunk</code>(\u6A21\u5757)\uFF0C\u751F\u6210\u5BF9\u5E94\u7684<code>hash</code>\u503C\u3002\u53EA\u6709\u88AB\u4FEE\u6539\u7684<code>chunk</code>(\u6A21\u5757)\u5728\u91CD\u65B0\u6784\u5EFA\u4E4B\u540E\u624D\u4F1A\u751F\u6210\u65B0\u7684<code>hash</code>\u503C\uFF0C\u4E0D\u4F1A\u5F71\u54CD\u5176\u5B83\u7684<code>chunk</code>\u3002(\u7C92\u5EA6<code>entry</code>\u7684\u6BCF\u4E2A\u5165\u53E3\u6587\u4EF6)</li><li><code>contenthash</code>\u662F\u8DDF\u6BCF\u4E2A\u751F\u6210\u7684\u6587\u4EF6\u6709\u5173\uFF0C\u6BCF\u4E2A\u6587\u4EF6\u90FD\u6709\u4E00\u4E2A\u552F\u4E00\u7684<code>hash</code>\u503C\u3002\u5F53\u8981\u6784\u5EFA\u7684\u6587\u4EF6\u5185\u5BB9\u53D1\u751F\u6539\u53D8\u65F6\uFF0C\u5C31\u4F1A\u751F\u6210\u65B0\u7684<code>hash</code>\u503C\uFF0C\u4E14\u8BE5\u6587\u4EF6\u7684\u6539\u53D8\u5E76\u4E0D\u4F1A\u5F71\u54CD\u548C\u5B83\u540C\u4E00\u4E2A\u6A21\u5757\u4E0B\u7684\u5176\u5B83\u6587\u4EF6\u3002(\u7C92\u5EA6\u6BCF\u4E2A\u6587\u4EF6\u7684\u5185\u5BB9)</li></ul>",1),vnn={id:"webpack\u5982\u679C\u4F7F\u7528\u4E86hash\u547D\u540D-\u90A3\u662F\u6BCF\u6B21\u90FD\u4F1A\u91CD\u5199\u751F\u6210hash\u5417",tabindex:"-1"},wnn=n("a",{class:"header-anchor",href:"#webpack\u5982\u679C\u4F7F\u7528\u4E86hash\u547D\u540D-\u90A3\u662F\u6BCF\u6B21\u90FD\u4F1A\u91CD\u5199\u751F\u6210hash\u5417","aria-hidden":"true"},"#",-1),ynn=s(),xnn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#webpack%E5%A6%82%E6%9E%9C%E4%BD%BF%E7%94%A8%E4%BA%86hash%E5%91%BD%E5%90%8D-%E9%82%A3%E6%98%AF%E6%AF%8F%E6%AC%A1%E9%83%BD%E4%BC%9A%E9%87%8D%E5%86%99%E7%94%9F%E6%88%90hash%E5%90%97",target:"_blank",rel:"noopener noreferrer"},Ann=s("#"),Bnn=s("webpack\u5982\u679C\u4F7F\u7528\u4E86hash\u547D\u540D\uFF0C\u90A3\u662F\u6BCF\u6B21\u90FD\u4F1A\u91CD\u5199\u751F\u6210hash\u5417"),qnn=t("<p>\u6709\u4E09\u79CD\u60C5\u51B5\uFF1A</p><ul><li>\u5982\u679C\u662F<code>hash</code>\u7684\u8BDD\uFF0C\u662F\u548C\u6574\u4E2A\u9879\u76EE\u6709\u5173\u7684\uFF0C\u6709\u4E00\u5904\u6587\u4EF6\u53D1\u751F\u66F4\u6539\u5219\u6240\u6709\u6587\u4EF6\u7684<code>hash</code>\u503C\u90FD\u4F1A\u53D1\u751F\u6539\u53D8\u4E14\u5B83\u4EEC\u5171\u7528\u4E00\u4E2A<code>hash</code>\u503C\uFF1B</li><li>\u5982\u679C\u662F<code>chunkhash</code>\u7684\u8BDD\uFF0C\u53EA\u548C<code>entry</code>\u7684\u6BCF\u4E2A\u5165\u53E3\u6587\u4EF6\u6709\u5173\uFF0C\u4E5F\u5C31\u662F\u540C\u4E00\u4E2A<code>chunk</code>\u4E0B\u7684\u6587\u4EF6\u6709\u6240\u6539\u52A8\u8BE5<code>chunk</code>\u4E0B\u7684\u6587\u4EF6\u7684<code>hash</code>\u503C\u5C31\u4F1A\u53D1\u751F\u6539\u53D8</li><li>\u5982\u679C\u662F<code>contenthash</code>\u7684\u8BDD\uFF0C\u548C\u6BCF\u4E2A\u751F\u6210\u7684\u6587\u4EF6\u6709\u5173\uFF0C\u53EA\u6709\u5F53\u8981\u6784\u5EFA\u7684\u6587\u4EF6\u5185\u5BB9\u53D1\u751F\u6539\u53D8\u65F6\u624D\u4F1A\u7ED9\u8BE5\u6587\u4EF6\u751F\u6210\u65B0\u7684<code>hash</code>\u503C\uFF0C\u5E76\u4E0D\u4F1A\u5F71\u54CD\u5176\u5B83\u6587\u4EF6\u3002</li></ul>",2),jnn={id:"_8-webpack\u4E2D\u5982\u4F55\u5904\u7406\u56FE\u7247\u7684",tabindex:"-1"},Snn=n("a",{class:"header-anchor",href:"#_8-webpack\u4E2D\u5982\u4F55\u5904\u7406\u56FE\u7247\u7684","aria-hidden":"true"},"#",-1),Cnn=s(),Dnn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_8-webpack%E4%B8%AD%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E5%9B%BE%E7%89%87%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},Fnn=s("#"),Pnn=s("8 webpack\u4E2D\u5982\u4F55\u5904\u7406\u56FE\u7247\u7684\uFF1F"),Tnn=t("<p>\u5728<code>webpack</code>\u4E2D\u6709\u4E24\u79CD\u5904\u7406\u56FE\u7247\u7684<code>loader</code>\uFF1A</p><ul><li><code>file-loader</code>\uFF1A\u89E3\u51B3<code>CSS</code>\u7B49\u4E2D\u5F15\u5165\u56FE\u7247\u7684\u8DEF\u5F84\u95EE\u9898\uFF1B(\u89E3\u51B3\u901A\u8FC7<code>url</code>,<code>import/require()</code>\u7B49\u5F15\u5165\u56FE\u7247\u7684\u95EE\u9898)</li><li><code>url-loader</code>\uFF1A\u5F53\u56FE\u7247\u5C0F\u4E8E\u8BBE\u7F6E\u7684<code>limit</code>\u53C2\u6570\u503C\u65F6\uFF0C<code>url-loader</code>\u5C06\u56FE\u7247\u8FDB\u884C<code>base64</code>\u7F16\u7801(\u5F53\u9879\u76EE\u4E2D\u6709\u5F88\u591A\u56FE\u7247\uFF0C\u901A\u8FC7<code>url-loader</code>\u8FDB\u884C<code>base64</code>\u7F16\u7801\u540E\u4F1A\u51CF\u5C11<code>http</code>\u8BF7\u6C42\u6570\u91CF\uFF0C\u63D0\u9AD8\u6027\u80FD)\uFF0C\u5927\u4E8Elimit\u53C2\u6570\u503C\uFF0C\u5219\u4F7F\u7528<code>file-loader</code>\u62F7\u8D1D\u56FE\u7247\u5E76\u8F93\u51FA\u5230\u7F16\u8BD1\u76EE\u5F55\u4E2D\uFF1B</li></ul>",2),Nnn={id:"_9-webpack\u5E38\u7528\u63D2\u4EF6\u603B\u7ED3",tabindex:"-1"},Mnn=n("a",{class:"header-anchor",href:"#_9-webpack\u5E38\u7528\u63D2\u4EF6\u603B\u7ED3","aria-hidden":"true"},"#",-1),Onn=s(),Inn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_9-webpack%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6%E6%80%BB%E7%BB%93",target:"_blank",rel:"noopener noreferrer"},Rnn=s("#"),Vnn=s("9 webpack\u5E38\u7528\u63D2\u4EF6\u603B\u7ED3"),Hnn=t(`<p><strong>1. \u529F\u80FD\u7C7B</strong></p><p><strong>1.1 html-webpack-plugin</strong></p><blockquote><p>\u81EA\u52A8\u751F\u6210<code>html</code>\uFF0C\u57FA\u672C\u7528\u6CD5\uFF1A</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>new HtmlWebpackPlugin({
  filename: &#39;index.html&#39;, // \u751F\u6210\u6587\u4EF6\u540D
  template: path.join(process.cwd(), &#39;./index.html&#39;) // \u6A21\u73ED\u6587\u4EF6
})
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>1.2 copy-webpack-plugin</strong></p><blockquote><p>\u62F7\u8D1D\u8D44\u6E90\u63D2\u4EF6</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>new CopyWebpackPlugin([
  {
    from: path.join(process.cwd(), &#39;./vendor/&#39;),
    to: path.join(process.cwd(), &#39;./dist/&#39;),
    ignore: [&#39;*.json&#39;]
  }
])
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>1.3 webpack-manifest-plugin &amp;&amp; assets-webpack-plugin</strong></p><blockquote><p>\u4FE9\u4E2A\u63D2\u4EF6\u6548\u679C\u4E00\u81F4\uFF0C\u90FD\u662F\u751F\u6210\u7F16\u8BD1\u7ED3\u679C\u7684\u8D44\u6E90\u5355\uFF0C\u53EA\u662F\u8D44\u6E90\u5355\u7684\u6570\u636E\u7ED3\u6784\u4E0D\u4E00\u81F4\u800C\u5DF2</p></blockquote><p><strong>webpack-manifest-plugin \u57FA\u672C\u7528\u6CD5</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module.exports = {
  plugins: [
    new ManifestPlugin()
  ]
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>assets-webpack-plugin \u57FA\u672C\u7528\u6CD5</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module.exports = {
  plugins: [
    new AssetsPlugin()
  ]
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>1.4 clean-webpack-plugin</strong></p><blockquote><p>\u5728\u7F16\u8BD1\u4E4B\u524D\u6E05\u7406\u6307\u5B9A\u76EE\u5F55\u6307\u5B9A\u5185\u5BB9</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// \u6E05\u7406\u76EE\u5F55
const pathsToClean = [
  &#39;dist&#39;,
  &#39;build&#39;
]
 
// \u6E05\u7406\u53C2\u6570
const cleanOptions = {
  exclude:  [&#39;shared.js&#39;], // \u8DF3\u8FC7\u6587\u4EF6
}
module.exports = {
  // ...
  plugins: [
    new CleanWebpackPlugin(pathsToClean, cleanOptions)
  ]
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>1.5 compression-webpack-plugin</strong></p><blockquote><p>\u63D0\u4F9B\u5E26 <code>Content-Encoding</code> \u7F16\u7801\u7684\u538B\u7F29\u7248\u7684\u8D44\u6E90</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module.exports = {
  plugins: [
    new CompressionPlugin()
  ]
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>1.6 progress-bar-webpack-plugin</strong></p><blockquote><p>\u7F16\u8BD1\u8FDB\u5EA6\u6761\u63D2\u4EF6</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module.exports = {
  //...
  plugins: [
    new ProgressBarPlugin()
  ]
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>2. \u4EE3\u7801\u76F8\u5173\u7C7B</strong></p><p><strong>2.1 webpack.ProvidePlugin</strong></p><blockquote><p>\u81EA\u52A8\u52A0\u8F7D\u6A21\u5757\uFF0C\u5982 <code>$</code> \u51FA\u73B0\uFF0C\u5C31\u4F1A\u81EA\u52A8\u52A0\u8F7D\u6A21\u5757\uFF1B<code>$</code> \u9ED8\u8BA4\u4E3A<code>&#39;jquery&#39;</code>\u7684<code>exports</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>new webpack.ProvidePlugin({
  $: &#39;jquery&#39;,
})
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>2.2 webpack.DefinePlugin</strong></p><blockquote><p>\u5B9A\u4E49\u5168\u5C40\u5E38\u91CF</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>new webpack.DefinePlugin({
  &#39;p<wbr>rocess.env&#39;: {
    NODE_ENV: JSON.stringify(p<wbr>rocess.env.NODE_ENV)
  }
})
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>2.3 mini-css-extract-plugin &amp;&amp; extract-text-webpack-plugin</strong></p><blockquote><p>\u63D0\u53D6css\u6837\u5F0F\uFF0C\u5BF9\u6BD4</p></blockquote><ul><li><code>mini-css-extract-plugin</code> \u4E3A<code>webpack4</code>\u53CA\u4EE5\u4E0A\u63D0\u4F9B\u7684<code>plugin</code>\uFF0C\u652F\u6301<code>css chunk</code></li><li><code>extract-text-webpack-plugin</code> \u53EA\u80FD\u5728<code>webpack3</code> \u53CA\u4E00\u4E0B\u7684\u7248\u672C\u4F7F\u7528\uFF0C\u4E0D\u652F\u6301<code>css chunk</code></li></ul><p><strong>\u57FA\u672C\u7528\u6CD5 extract-text-webpack-plugin</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const ExtractTextPlugin = require(&quot;extract-text-webpack-plugin&quot;);
 
module.exports = {
  module: {
    rules: [
      {
        test: /\\.css$/,
        use: ExtractTextPlugin.extract({
          fallback: &quot;style-loader&quot;,
          use: &quot;css-loader&quot;
        })
      }
    ]
  },
  plugins: [
    new ExtractTextPlugin(&quot;styles.css&quot;),
  ]
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>\u57FA\u672C\u7528\u6CD5 mini-css-extract-plugin</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const MiniCssExtractPlugin = require(&quot;mini-css-extract-plugin&quot;);
module.exports = {
    module: {
    rules: [
      {
        test: /\\.css$/,
        use: [
          {
            loader: MiniCssExtractPlugin.loader,
            options: {
              publicPath: &#39;/&#39;  // chunk publicPath
            }
          },
          &quot;css-loader&quot;
        ]
      }
    ]
  },
  plugins: [
    new MiniCssExtractPlugin({
      filename: &quot;[name].css&quot;, // \u4E3B\u6587\u4EF6\u540D
      chunkFilename: &quot;[id].css&quot;  // chunk\u6587\u4EF6\u540D
    })
  ]
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><strong>3. \u7F16\u8BD1\u7ED3\u679C\u4F18\u5316\u7C7B</strong></p><p><strong>3.1 wbepack.IgnorePlugin</strong></p><blockquote><p>\u5FFD\u7565<code>regExp</code>\u5339\u914D\u7684\u6A21\u5757</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>new webpack.IgnorePlugin(/^\\.\\/locale$/, /moment$/)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>3.2 uglifyjs-webpack-plugin</strong></p><blockquote><p>\u4EE3\u7801\u4E11\u5316\uFF0C\u7528\u4E8Ejs\u538B\u7F29</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module.exports = {
  //...
  optimization: {
    minimizer: [new UglifyJsPlugin({
      cache: true,   // \u5F00\u542F\u7F13\u5B58
      parallel: true, // \u5F00\u542F\u591A\u7EBF\u7A0B\u7F16\u8BD1
      sourceMap: true,  // \u662F\u5426sourceMap
      uglifyOptions: {  // \u4E11\u5316\u53C2\u6570
        comments: false,
        warnings: false,
        compress: {
          unused: true,
          dead_code: true,
          collapse_vars: true,
          reduce_vars: true
        },
        output: {
          comments: false
        }
      }
    }]
  }
};
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>3.3 optimize-css-assets-webpack-plugin</strong></p><blockquote><p>css\u538B\u7F29\uFF0C\u4E3B\u8981\u4F7F\u7528 <code>cssnano</code> \u538B\u7F29\u5668 https://github.com/cssnano/cssnano</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module.exports = {
  //...
  optimization: {
    minimizer: [new OptimizeCssAssetsPlugin({
      cssProcessor: require(&#39;cssnano&#39;),   // css \u538B\u7F29\u4F18\u5316\u5668
      cssProcessorOptions: { discardComments: { removeAll: true } } // \u53BB\u9664\u6240\u6709\u6CE8\u91CA
    })]
  }
};
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>3.4 webpack-md5-hash</strong></p><blockquote><p>\u4F7F\u4F60\u7684<code>chunk</code>\u6839\u636E\u5185\u5BB9\u751F\u6210<code>md5</code>\uFF0C\u7528\u8FD9\u4E2A<code>md5</code>\u53D6\u4EE3 <code>webpack chunkhash</code>\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var WebpackMd5Hash = require(&#39;webpack-md5-hash&#39;);
 
module.exports = {
  // ...
  output: {
    //...
    chunkFilename: &quot;[chunkhash].[id].chunk.js&quot;
  },
  plugins: [
    new WebpackMd5Hash()
  ]
};
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>3.5 SplitChunksPlugin</strong></p><ul><li><code>CommonChunkPlugin</code> \u7684\u540E\u4E16\uFF0C\u7528\u4E8E<code>chunk</code>\u5207\u5272\u3002</li></ul><blockquote><p><code>webpack</code> \u628A <code>chunk</code> \u5206\u4E3A\u4E24\u79CD\u7C7B\u578B\uFF0C\u4E00\u79CD\u662F\u521D\u59CB\u52A0\u8F7D<code>initial chunk</code>\uFF0C\u53E6\u5916\u4E00\u79CD\u662F\u5F02\u6B65\u52A0\u8F7D <code>async chunk</code>\uFF0C\u5982\u679C\u4E0D\u914D\u7F6E<code>SplitChunksPlugin</code>\uFF0C<code>webpack</code>\u4F1A\u5728<code>production</code>\u7684\u6A21\u5F0F\u4E0B\u81EA\u52A8\u5F00\u542F\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C<code>webpack</code>\u4F1A\u5C06 <code>node_modules</code> \u4E0B\u7684\u6240\u6709\u6A21\u5757\u5B9A\u4E49\u4E3A\u5F02\u6B65\u52A0\u8F7D\u6A21\u5757\uFF0C\u5E76\u5206\u6790\u4F60\u7684 <code>entry</code>\u3001\u52A8\u6001\u52A0\u8F7D\uFF08<code>import()</code>\u3001<code>require.ensure</code>\uFF09\u6A21\u5757\uFF0C\u627E\u51FA\u8FD9\u4E9B\u6A21\u5757\u4E4B\u95F4\u5171\u7528\u7684<code>node_modules</code>\u4E0B\u7684\u6A21\u5757\uFF0C\u5E76\u5C06\u8FD9\u4E9B\u6A21\u5757\u63D0\u53D6\u5230\u5355\u72EC\u7684<code>chunk</code>\u4E2D\uFF0C\u5728\u9700\u8981\u7684\u65F6\u5019\u5F02\u6B65\u52A0\u8F7D\u5230\u9875\u9762\u5F53\u4E2D\uFF0C\u5176\u4E2D\u9ED8\u8BA4\u914D\u7F6E\u5982\u4E0B</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module.exports = {
  //...
  optimization: {
    splitChunks: {
      chunks: &#39;async&#39;, // \u5F02\u6B65\u52A0\u8F7Dchunk
      minSize: 30000,
      maxSize: 0,
      minChunks: 1,
      maxAsyncRequests: 5,
      maxInitialRequests: 3,
      automaticNameDelimiter: &#39;~&#39;, // \u6587\u4EF6\u540D\u4E2Dchunk\u5206\u9694\u7B26
      name: true,
      cacheGroups: {
        vendors: {
          test: /[\\\\/]node_modules[\\\\/]/,  // 
          priority: -10
        },
        default: {
          minChunks: 2,  // \u6700\u5C0F\u7684\u5171\u4EABchunk\u6570
          priority: -20,
          reuseExistingChunk: true
        }
      }
    }
  }
};
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>4. \u7F16\u8BD1\u4F18\u5316\u7C7B</strong></p><p><strong>4.1 DllPlugin &amp;&amp; DllReferencePlugin &amp;&amp; autodll-webpack-plugin</strong></p><ul><li><code>dllPlugin</code>\u5C06\u6A21\u5757\u9884\u5148\u7F16\u8BD1\uFF0C<code>DllReferencePlugin</code> \u5C06\u9884\u5148\u7F16\u8BD1\u597D\u7684\u6A21\u5757\u5173\u8054\u5230\u5F53\u524D\u7F16\u8BD1\u4E2D\uFF0C\u5F53 <code>webpack</code> \u89E3\u6790\u5230\u8FD9\u4E9B\u6A21\u5757\u65F6\uFF0C\u4F1A\u76F4\u63A5\u4F7F\u7528\u9884\u5148\u7F16\u8BD1\u597D\u7684\u6A21\u5757\u3002</li><li><code>autodll-webpack-plugin</code> \u76F8\u5F53\u4E8E <code>dllPlugin</code> \u548C <code>DllReferencePlugin</code> \u7684\u7B80\u5316\u7248\uFF0C\u5176\u5B9E\u672C\u8D28\u4E5F\u662F\u4F7F\u7528 <code>dllPlugin &amp;&amp; DllReferencePlugin</code>\uFF0C\u5B83\u4F1A\u5728\u7B2C\u4E00\u6B21\u7F16\u8BD1\u7684\u65F6\u5019\u5C06\u914D\u7F6E\u597D\u7684\u9700\u8981\u9884\u5148\u7F16\u8BD1\u7684\u6A21\u5757\u7F16\u8BD1\u5728\u7F13\u5B58\u4E2D\uFF0C\u7B2C\u4E8C\u6B21\u7F16\u8BD1\u7684\u65F6\u5019\uFF0C\u89E3\u6790\u5230\u8FD9\u4E9B\u6A21\u5757\u5C31\u76F4\u63A5\u4F7F\u7528\u7F13\u5B58\uFF0C\u800C\u4E0D\u662F\u53BB\u7F16\u8BD1\u8FD9\u4E9B\u6A21\u5757</li></ul><p><strong>dllPlugin \u57FA\u672C\u7528\u6CD5\uFF1A</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const output = {
  filename: &#39;[name].js&#39;,
  library: &#39;[name]_library&#39;,
  path: &#39;./vendor/&#39;
}

module.exports = {
  entry: {
    vendor: [&#39;react&#39;, &#39;react-dom&#39;]  // \u6211\u4EEC\u9700\u8981\u4E8B\u5148\u7F16\u8BD1\u7684\u6A21\u5757\uFF0C\u7528entry\u8868\u793A
  },
  output: output,
  plugins: [
    new webpack.DllPlugin({  // \u4F7F\u7528dllPlugin
      path: path.join(output.path, \`\${output.filename}.json\`),
      name: output.library // \u5168\u5C40\u53D8\u91CF\u540D\uFF0C \u4E5F\u5C31\u662F window \u4E0B \u7684 [output.library]
    })
  ]
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>DllReferencePlugin \u57FA\u672C\u7528\u6CD5\uFF1A</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const manifest = path.resolve(process.cwd(), &#39;vendor&#39;, &#39;vendor.js.json&#39;)

module.exports = {
  plugins: [
    new webpack.DllReferencePlugin({
      manifest: require(manifest), // \u5F15\u8FDBdllPlugin\u7F16\u8BD1\u7684json\u6587\u4EF6
      name: &#39;vendor_library&#39; // \u5168\u5C40\u53D8\u91CF\u540D\uFF0C\u4E0EdllPlugin\u58F0\u660E\u7684\u4E00\u81F4
    }
  ]
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>autodll-webpack-plugin \u57FA\u672C\u7528\u6CD5\uFF1A</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module.exports = {
  plugins: [
    new AutoDllPlugin({
      inject: true, // \u4E0E html-webpack-plugin \u7ED3\u5408\u4F7F\u7528\uFF0C\u6CE8\u5165html\u4E2D
      filename: &#39;[name].js&#39;,
      entry: {
        vendor: [
          &#39;react&#39;,
          &#39;react-dom&#39;
        ]
      }
    })
  ]
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>4.2 happypack &amp;&amp; thread-loader</strong></p><blockquote><p>\u591A\u7EBF\u7A0B\u7F16\u8BD1\uFF0C\u52A0\u5FEB\u7F16\u8BD1\u901F\u5EA6\uFF0C<code>thread-loader</code>\u4E0D\u53EF\u4EE5\u548C <code>mini-css-extract-plugin</code> \u7ED3\u5408\u4F7F\u7528</p></blockquote><p><strong>happypack \u57FA\u672C\u7528\u6CD5</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const HappyPack = require(&#39;happypack&#39;);
const os = require(&#39;os&#39;);
const happyThreadPool = HappyPack.ThreadPool({ size: os.cpus().length });
const happyLoaderId = &#39;happypack-for-react-babel-loader&#39;;

module.exports = {
  module: {
    rules: [{
      test: /\\.jsx?$/,
      loader: &#39;happypack/loader&#39;,
      query: {
        id: happyLoaderId
      },
      include: [path.resolve(process.cwd(), &#39;src&#39;)]
    }]
  },
  plugins: [new HappyPack({
    id: happyLoaderId,
    threadPool: happyThreadPool,
    loaders: [&#39;babel-loader&#39;]
  })]
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><strong>thread-loader \u57FA\u672C\u7528\u6CD5</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module.exports = {
  module: {
    rules: [
      {
        test: /\\.js$/,
        include: path.resolve(&quot;src&quot;),
        use: [
          &quot;thread-loader&quot;,
          // your expensive loader (e.g babel-loader)
          &quot;babel-loader&quot;
        ]
      }
    ]
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>4.3 hard-source-webpack-plugin &amp;&amp; cache-loader</strong></p><blockquote><p>\u4F7F\u7528\u6A21\u5757\u7F16\u8BD1\u7F13\u5B58\uFF0C\u52A0\u5FEB\u7F16\u8BD1\u901F\u5EA6</p></blockquote><p><strong>hard-source-webpack-plugin \u57FA\u672C\u7528\u6CD5</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module.exports = {
  plugins: [
    new HardSourceWebpackPlugin()
  ]
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>cache-loader \u57FA\u672C\u7528\u6CD5</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module.exports = {
  module: {
    rules: [
      {
        test: /\\.ext$/,
        use: [
          &#39;cache-loader&#39;,
          ...loaders
        ],
        include: path.resolve(&#39;src&#39;)
      }
    ]
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>5. \u7F16\u8BD1\u5206\u6790\u7C7B</strong></p><p><strong>5.1 webpack-bundle-analyzer</strong></p><blockquote><p>\u7F16\u8BD1\u6A21\u5757\u5206\u6790\u63D2\u4EF6</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>new BundleAnalyzerPlugin({
  analyzerMode: &#39;server&#39;,
  analyzerHost: &#39;127.0.0.1&#39;,
  analyzerPort: 8889,
  reportFilename: &#39;report.html&#39;,
  defaultSizes: &#39;parsed&#39;,
  generateStatsFile: false,
  statsFilename: &#39;stats.json&#39;,
  statsOptions: null,
  logLevel: &#39;info&#39;
}),
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>5.2 stats-webpack-plugin &amp;&amp; PrefetchPlugin</strong></p><blockquote><p><code>stats-webpack-plugin</code> \u5C06\u6784\u5EFA\u7684\u7EDF\u8BA1\u4FE1\u606F\u5199\u5165\u6587\u4EF6\uFF0C\u8BE5\u6587\u4EF6\u53EF\u5728 http://webpack.github.io/analyse\u4E2D\u4E0A\u4F20\u8FDB\u884C\u7F16\u8BD1\u5206\u6790\uFF0C\u5E76\u6839\u636E\u5206\u6790\u7ED3\u679C\uFF0C\u53EF\u4F7F\u7528 <code>PrefetchPlugin</code> \u5BF9\u90E8\u5206\u6A21\u5757\u8FDB\u884C\u9884\u89E3\u6790\u7F16\u8BD1</p></blockquote><p><strong>stats-webpack-plugin \u57FA\u672C\u7528\u6CD5\uFF1A</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module.exports = {
  plugins: [
    new StatsPlugin(&#39;stats.json&#39;, {
      chunkModules: true,
      exclude: [/node_modules[\\\\\\/]react/]
    })
  ]
};
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>PrefetchPlugin \u57FA\u672C\u7528\u6CD5\uFF1A</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module.exports = {
  plugins: [
    new webpack.PrefetchPlugin(&#39;/web/&#39;, &#39;app/modules/HeaderNav.jsx&#39;),
    new webpack.PrefetchPlugin(&#39;/web/&#39;, &#39;app/pages/FrontPage.jsx&#39;)
];
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>5.3 speed-measure-webpack-plugin</strong></p><blockquote><p>\u7EDF\u8BA1\u7F16\u8BD1\u8FC7\u7A0B\u4E2D\uFF0C\u5404<code>loader</code>\u548C<code>plugin</code>\u4F7F\u7528\u7684\u65F6\u95F4</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const SpeedMeasurePlugin = require(&quot;speed-measure-webpack-plugin&quot;);
 
const smp = new SpeedMeasurePlugin();
 
const webpackConfig = {
  plugins: [
    new MyPlugin(),
    new MyOtherPlugin()
  ]
}
module.exports = smp.wrap(webpackConfig);
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,87),Lnn={id:"_10-\u62BD\u8C61\u8BED\u6CD5\u6811ast",tabindex:"-1"},Unn=n("a",{class:"header-anchor",href:"#_10-\u62BD\u8C61\u8BED\u6CD5\u6811ast","aria-hidden":"true"},"#",-1),Jnn=s(),Wnn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_10-%E6%8A%BD%E8%B1%A1%E8%AF%AD%E6%B3%95%E6%A0%91ast",target:"_blank",rel:"noopener noreferrer"},znn=s("#"),Gnn=s("10 \u62BD\u8C61\u8BED\u6CD5\u6811AST"),$nn=t(`<blockquote><p><strong>\u62BD\u8C61\u8BED\u6CD5\u6811\uFF08<code>Abstract Syntax Tree</code>\uFF09</strong>\uFF0C\u662F\u5C06\u4EE3\u7801\u9010\u5B57\u6BCD\u89E3\u6790\u6210 <strong>\u6811\u72B6\u5BF9\u8C61</strong> \u7684\u5F62\u5F0F\u3002\u8FD9\u662F\u8BED\u8A00\u4E4B\u95F4\u7684\u8F6C\u6362\u3001\u4EE3\u7801\u8BED\u6CD5\u68C0\u67E5\u3001\u4EE3\u7801\u98CE\u683C\u68C0\u67E5\u3001\u4EE3\u7801\u683C\u5F0F\u5316\u3001\u4EE3\u7801\u9AD8\u4EAE\u3001\u4EE3\u7801\u9519\u8BEF\u63D0\u793A\u3001\u4EE3\u7801\u81EA\u52A8\u8865\u5168\u7B49\u7B49\u7684\u57FA\u7840</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8F6C\u6362\u524D</span>
<span class="token keyword">function</span> <span class="token function">square</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> n <span class="token operator">*</span> n
<span class="token punctuation">}</span>

<span class="token comment">// \u8F6C\u6362\u540E</span>
<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;FunctionDeclaration&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">start</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token literal-property property">end</span><span class="token operator">:</span> <span class="token number">35</span><span class="token punctuation">,</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> Identifier<span class="token punctuation">,</span>
  <span class="token literal-property property">expression</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> element<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span> BlockStatement
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div>`,2),Xnn={id:"_11-\u4F7F\u7528babel-loader\u4F1A\u6709\u54EA\u4E9B\u95EE\u9898-\u53EF\u4EE5\u600E\u6837\u4F18\u5316",tabindex:"-1"},Knn=n("a",{class:"header-anchor",href:"#_11-\u4F7F\u7528babel-loader\u4F1A\u6709\u54EA\u4E9B\u95EE\u9898-\u53EF\u4EE5\u600E\u6837\u4F18\u5316","aria-hidden":"true"},"#",-1),Qnn=s(),Ynn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_11-%E4%BD%BF%E7%94%A8babel-loader%E4%BC%9A%E6%9C%89%E5%93%AA%E4%BA%9B%E9%97%AE%E9%A2%98-%E5%8F%AF%E4%BB%A5%E6%80%8E%E6%A0%B7%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},Znn=s("#"),nsn=s("11 \u4F7F\u7528babel-loader\u4F1A\u6709\u54EA\u4E9B\u95EE\u9898\uFF1F\u53EF\u4EE5\u600E\u6837\u4F18\u5316\uFF1F"),ssn=t("<ol><li>\u4F1A\u4F7F\u5F97\u7F16\u8BD1\u5F88\u6162\u3002\u89E3\u51B3\u529E\u6CD5\u662F\u53EF\u4EE5\u5728<code>webpack</code>\u7684<code>babel-loader</code>\u914D\u7F6E\u4E2D\u4F7F\u7528<code>exclude</code>\u8FD9\u4E2A\u53EF\u9009\u9879\u6765\u53BB\u9664\u4E00\u4E9B\u4E0D\u9700\u8981\u7F16\u8BD1\u7684\u6587\u4EF6\u5939(\u4F8B\u5982<code>node_modules</code>\u548C<code>bower_components</code>)\uFF0C\u53E6\u4E00\u79CD\u53EF\u4EE5\u8BBE\u7F6E<code>cacheDirectory</code>\u9009\u9879\u4E3A<code>true</code>, \u5F00\u542F\u7F13\u5B58, \u8F6C\u8BD1\u7684\u7ED3\u679C\u5C06\u4F1A\u7F13\u5B58\u5230\u6587\u4EF6\u7CFB\u7EDF\u4E2D, \u8FD9\u6837\u4F7F<code>babel-loader</code>\u81F3\u5C11\u63D0\u901F\u4E24\u500D(\u4EE3\u7801\u91CF\u8D8A\u591A\u6548\u679C\u5E94\u8BE5\u8D8A\u660E\u663E)\u3002</li><li><code>babel-loader</code>\u4F7F\u5F97\u6253\u5305\u6587\u4EF6\u4F53\u79EF\u8FC7\u5927\u3002Babel \u5BF9\u4E00\u4E9B\u516C\u5171\u65B9\u6CD5\u4F7F\u7528\u4E86\u975E\u5E38\u5C0F\u7684\u8F85\u52A9\u4EE3\u7801, \u6BD4\u5982 <code>_extend</code>.\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u4F1A\u88AB\u6DFB\u52A0\u5230\u6BCF\u4E00\u4E2A\u9700\u8981\u5B83\u7684\u6587\u4EF6\u4E2D, \u6240\u4EE5\u4F1A\u5BFC\u81F4\u6253\u5305\u6587\u4EF6\u4F53\u79EF\u8FC7\u5927.\u89E3\u51B3\u529E\u6CD5: \u5F15\u5165<code>babel runtime</code>\u4F5C\u4E3A\u4E00\u4E2A\u5355\u72EC\u7684\u6A21\u5757, \u6765\u907F\u514D\u91CD\u590D\u3002\u4E5F\u5C31\u662F\u53EF\u4EE5\u4F7F\u7528<code>@babel/plugin-transform-runtime</code>\u548C<code>babel-runtime</code>\u3002</li></ol>",1),asn={id:"_12-babel-\u539F\u7406",tabindex:"-1"},esn=n("a",{class:"header-anchor",href:"#_12-babel-\u539F\u7406","aria-hidden":"true"},"#",-1),tsn=s(),psn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_12-babel-%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},osn=s("#"),csn=s("12 Babel \u539F\u7406"),lsn=t("<blockquote><p><code>babel</code> \u7684\u7F16\u8BD1\u8FC7\u7A0B\u5206\u4E3A\u4E09\u4E2A\u9636\u6BB5\uFF1A<strong>parsing</strong>\u3001<strong>transforming</strong>\u3001<strong>generating</strong>\uFF0C\u4EE5 ES6 \u7F16\u8BD1\u4E3A ES5 \u4F5C\u4E3A\u4F8B\u5B50\uFF1A</p></blockquote><ol><li><code>ES6</code> \u4EE3\u7801\u8F93\u5165\uFF1B</li><li><code>babylon</code> \u8FDB\u884C\u89E3\u6790\u5F97\u5230 AST\uFF1B</li><li><code>plugin</code> \u7528 <code>babel-traverse</code> \u5BF9 <code>AST</code>\u6811\u8FDB\u884C\u904D\u5386\u7F16\u8BD1\uFF0C\u5F97\u5230\u65B0\u7684 <code>AST</code>\u6811\uFF1B</li><li>\u7528 <code>babel-generator</code> \u901A\u8FC7 <code>AST</code>\u6811\u751F\u6210 <code>ES5</code> \u4EE3\u7801\u3002</li></ol>",2),rsn={href:"http://interview.poetries.top/principle-docs/webpack/05-Babel%E5%8E%9F%E7%90%86%E5%8F%8A%E5%85%B6%E4%BD%BF%E7%94%A8.html",target:"_blank",rel:"noopener noreferrer"},isn=s("Babel\u539F\u7406\u53CA\u5176\u4F7F\u7528(opens new window)"),usn={id:"_13-babel\u662F\u5982\u4F55\u7F16\u8BD1class\u7684",tabindex:"-1"},ksn=n("a",{class:"header-anchor",href:"#_13-babel\u662F\u5982\u4F55\u7F16\u8BD1class\u7684","aria-hidden":"true"},"#",-1),dsn=s(),bsn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_13-babel%E6%98%AF%E5%A6%82%E4%BD%95%E7%BC%96%E8%AF%91class%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},msn=s("#"),hsn=s("13 Babel\u662F\u5982\u4F55\u7F16\u8BD1Class\u7684\uFF1F"),_sn=t(`<p>\u5C31\u62FF\u4E0B\u9762\u7684\u7C7B\u6765\u8BF4\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getSex</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">&#39;boy&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">getName</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function">getLook</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;sunshine&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>\u5F53\u6211\u4EEC\u5728\u4F7F\u7528<code>babel</code>\u7684\u8FD9\u4E9B<code>plugin</code>\u6216\u8005\u4F7F\u7528<code>preset</code>\u7684\u65F6\u5019\uFF0C\u6709\u4E00\u4E2A\u914D\u7F6E\u5C5E\u6027<code>loose</code>\u5B83\u9ED8\u8BA4\u662F\u4E3A<code>false</code>\uFF0C\u5728\u8FD9\u6837\u7684\u6761\u4EF6\u4E0B\uFF1A</p><p><code>Class</code>\u7F16\u8BD1\u540E\uFF1A</p><ul><li>\u603B\u4F53\u6765\u8BF4<code>Class</code>\u4F1A\u88AB\u5C01\u88C5\u6210\u4E00\u4E2A<code>IIFE</code>\u7ACB\u5373\u6267\u884C\u51FD\u6570</li><li>\u7ACB\u5373\u6267\u884C\u51FD\u6570\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\u4E0E\u7C7B\u540C\u540D\u7684\u6784\u9020\u51FD\u6570</li><li>\u5B9E\u4F8B\u5C5E\u6027\u548C\u65B9\u6CD5\u5B9A\u4E49\u5728\u6784\u9020\u51FD\u6570\u5185(\u5982<code>name</code>\u548C<code>getSex()</code>)</li><li>\u7C7B\u5185\u90E8\u58F0\u660E\u7684\u5C5E\u6027\u65B9\u6CD5(<code>getName</code>)\u548C\u9759\u6001\u5C5E\u6027\u65B9\u6CD5(<code>getLook</code>)\u662F\u4F1A\u88AB<code>Object.defineProperty</code>\u6240\u5904\u7406\uFF0C\u5C06\u5176\u53EF\u679A\u4E3E\u5C5E\u6027\u8BBE\u7F6E\u4E3A<code>false</code></li></ul><p>\u7F16\u8BD1\u540E\u7684\u4EE3\u7801\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token parameter">instance<span class="token punctuation">,</span> Constructor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>instance <span class="token keyword">instanceof</span> <span class="token class-name">Constructor</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&quot;Cannot call a class as a function&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">_defineProperties</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> props<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> descriptor <span class="token operator">=</span> props<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    descriptor<span class="token punctuation">.</span>enumerable <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>enumerable <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    descriptor<span class="token punctuation">.</span>configurable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span> <span class="token keyword">in</span> descriptor<span class="token punctuation">)</span> descriptor<span class="token punctuation">.</span>writable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> descriptor<span class="token punctuation">.</span>key<span class="token punctuation">,</span> descriptor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">_createClass</span><span class="token punctuation">(</span><span class="token parameter">Constructor<span class="token punctuation">,</span> protoProps<span class="token punctuation">,</span> staticProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>protoProps<span class="token punctuation">)</span> <span class="token function">_defineProperties</span><span class="token punctuation">(</span><span class="token class-name">Constructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> protoProps<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>staticProps<span class="token punctuation">)</span> <span class="token function">_defineProperties</span><span class="token punctuation">(</span>Constructor<span class="token punctuation">,</span> staticProps<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Constructor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> Person <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">_ref</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name <span class="token operator">=</span> _ref<span class="token punctuation">.</span>name<span class="token punctuation">;</span>

    <span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getSex</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">&quot;boy&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">_createClass</span><span class="token punctuation">(</span>
    Person<span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;getName&quot;</span><span class="token punctuation">,</span>
        <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;getLook&quot;</span><span class="token punctuation">,</span>
        <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">getLook</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token string">&quot;sunshine&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> Person<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><p>\u4E3A\u4EC0\u4E48<code>Babel</code>\u5BF9\u4E8E\u7C7B\u7684\u5904\u7406\u4F1A\u4F7F\u7528<code>Object.defineProperty</code>\u8FD9\u79CD\u5F62\u5F0F\u5462\uFF1F\u5B83\u548C\u76F4\u63A5\u4F7F\u7528\u539F\u578B\u94FE\u6709\u4EC0\u4E48\u4E0D\u540C\u5417\uFF1F</p><ul><li>\u901A\u8FC7\u539F\u578B\u94FE\u58F0\u660E\u7684\u5C5E\u6027\u548C\u65B9\u6CD5\u662F\u53EF\u679A\u4E3E\u7684\uFF0C\u4E5F\u5C31\u662F\u53EF\u4EE5\u88AB<code>for...of...</code>\u641C\u5BFB\u5230</li><li>\u800C\u7C7B\u5185\u90E8\u58F0\u660E\u7684\u65B9\u6CD5\u662F\u4E0D\u53EF\u679A\u4E3E\u7684</li></ul><p>\u6240\u4EE5\uFF0Cbabel\u4E3A\u4E86\u7B26\u5408ES6\u771F\u6B63\u7684\u8BED\u4E49\uFF0C\u7F16\u8BD1\u7C7B\u65F6\u91C7\u53D6\u4E86<code>Object.defineProperty</code>\u6765\u5B9A\u4E49\u539F\u578B\u65B9\u6CD5\u3002</p><p>\u4F46\u662F\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E<code>babel</code>\u7684<code>loose</code>\u6A21\u5F0F(\u5BBD\u677E\u6A21\u5F0F)\u4E3A<code>true</code>\uFF0C\u5B83\u4F1A\u4E0D\u4E25\u683C\u9075\u5FAAES6\u7684\u8BED\u4E49\uFF0C\u800C\u91C7\u53D6\u66F4\u7B26\u5408\u6211\u4EEC\u5E73\u5E38\u7F16\u5199\u4EE3\u7801\u65F6\u7684\u4E60\u60EF\u53BB\u7F16\u8BD1\u4EE3\u7801\uFF0C\u5728<code>.babelrc</code>\u4E2D\u53EF\u4EE5\u5982\u4E0B\u8BBE\u7F6E\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;env&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;loose&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u6BD4\u5982\u4E0A\u8FF0\u7684<code>Person</code>\u7C7B\u7684\u5C5E\u6027\u65B9\u6CD5\u5C06\u4F1A\u7F16\u8BD1\u6210\u76F4\u63A5\u5728\u539F\u578B\u94FE\u4E0A\u58F0\u660E\u65B9\u6CD5\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Person <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">_ref</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name <span class="token operator">=</span> _ref<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getSex</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">&#39;boy&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">var</span> _proto <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

  _proto<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  Person<span class="token punctuation">.</span><span class="token function-variable function">getLook</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">getLook</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;sunshine&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> Person<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><strong>\u603B\u7ED3</strong></p><ul><li><p>\u5F53\u4F7F\u7528<code>Babel</code>\u7F16\u8BD1\u65F6\u9ED8\u8BA4\u7684<code>loose</code>\u4E3A<code>false</code>\uFF0C\u5373\u975E\u5BBD\u677E\u6A21\u5F0F</p></li><li><p>\u65E0\u8BBA\u54EA\u79CD\u6A21\u5F0F\uFF0C\u8F6C\u6362\u540E\u7684\u5B9A\u4E49\u5728\u7C7B\u5185\u90E8\u7684\u5C5E\u6027\u65B9\u6CD5\u662F\u88AB\u5B9A\u4E49\u5728\u6784\u9020\u51FD\u6570\u7684\u539F\u578B\u5BF9\u8C61\u4E0A\u7684\uFF1B\u9759\u6001\u5C5E\u6027\u88AB\u5B9A\u4E49\u5230\u6784\u9020\u51FD\u6570\u4E0A</p></li><li><p>\u53EA\u4E0D\u8FC7\u975E\u5BBD\u677E\u6A21\u5F0F\u65F6\uFF0C\u8FD9\u4E9B\u5C5E\u6027\u65B9\u6CD5\u4F1A\u88AB<code>_createClass</code>\u51FD\u6570\u5904\u7406\uFF0C\u51FD\u6570\u5185\u901A\u8FC7<code>Object.defineProperty()</code>\u8BBE\u7F6E\u5C5E\u6027\u7684\u53EF\u679A\u4E3E\u503C<code>enumerable</code>\u4E3A<code>false</code></p></li><li><p>\u7531\u4E8E\u5728<code>_createClass</code>\u51FD\u6570\u5185\u4F7F\u7528\u4E86<code>Object</code>\uFF0C\u6240\u4EE5\u975E\u5BBD\u677E\u6A21\u5F0F\u4E0B\u662F\u4F1A\u4EA7\u751F\u526F\u4F5C\u7528\u7684\uFF0C\u800C\u5BBD\u677E\u6A21\u5F0F\u4E0B\u4E0D\u4F1A\u3002</p></li><li><p><code>webpack</code>\u4E2D\u7684<code>UglifyJS</code>\u4F9D\u65E7\u8FD8\u662F\u4F1A\u5C06\u5BBD\u677E\u6A21\u5F0F\u8BA4\u4E3A\u662F\u6709\u526F\u4F5C\u7528\u7684\uFF0C\u800C<code>rollup</code>\u6709<strong>\u7A0B\u5E8F\u6D41\u7A0B\u5206\u6790</strong>\u7684\u529F\u80FD\uFF0C\u53EF\u4EE5\u66F4\u597D\u7684\u5224\u65AD\u4EE3\u7801\u662F\u5426\u771F\u6B63\u4EA7\u751F\u526F\u4F5C\u7528\uFF0C\u6240\u4EE5\u5B83\u4F1A\u8BA4\u4E3A\u5BBD\u677E\u6A21\u5F0F\u6CA1\u6709\u526F\u4F5C\u7528\u3002</p><p>(\u526F\u4F5C\u7528\u5927\u81F4\u7406\u89E3\u4E3A\uFF1A\u4E00\u4E2A\u51FD\u6570\u4F1A\u3001\u6216\u8005\u53EF\u80FD\u4F1A\u5BF9\u51FD\u6570\u5916\u90E8\u53D8\u91CF\u4EA7\u751F\u5F71\u54CD\u7684\u884C\u4E3A\u3002)</p></li></ul>`,16),gsn={id:"_14-babel-polyfill\u662F\u4EC0\u4E48",tabindex:"-1"},Esn=n("a",{class:"header-anchor",href:"#_14-babel-polyfill\u662F\u4EC0\u4E48","aria-hidden":"true"},"#",-1),fsn=s(),vsn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_14-babel-polyfill%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},wsn=s("#"),ysn=s("14 babel-polyfill\u662F\u4EC0\u4E48"),xsn=t('<p>ployfill\u662F\u8865\u4E01</p><p><img src="http://img-repo.poetries.top/images/20210409165913.png" alt="img"></p><p><code>babel-polyfill</code>\u73B0\u5728\u5DF2\u7ECF\u88AB\u5F03\u7528</p><ul><li><code>babel 7.4</code>\u4E4B\u540E\u5F03\u7528<code>babel-polyfill</code></li><li>\u76F4\u63A5\u63A8\u8350\u4F7F\u7528<code>core-js</code>\u548C<code>regenerator</code></li></ul><p><strong>babel-polyfill\u6309\u9700\u5F15\u5165</strong></p><ul><li>\u6587\u4EF6\u8F83\u5927</li><li>\u53EA\u7528\u4E00\u90E8\u5206\u529F\u80FD\uFF0C\u65E0\u9700\u5168\u90E8\u5F15\u5165</li><li>\u914D\u7F6E\u6309\u9700\u5F15\u5165</li></ul><p><img src="http://img-repo.poetries.top/images/20210409170227.png" alt="img"> <img src="http://img-repo.poetries.top/images/20210409170237.png" alt="img"></p><p><strong>babel-polyfill\u7684\u95EE\u9898</strong></p><ul><li>\u4F1A\u6C61\u67D3\u5168\u5C40\u73AF\u5883</li><li>\u5982\u679C\u505A\u4E00\u4E2A\u72EC\u7ACB\u7684web\u7CFB\u7EDF\uFF0C\u65E0\u788D</li><li>\u5982\u679C\u505A\u4E00\u4E2A\u7B2C\u4E09\u4E2A\u7684lib\uFF0C\u4F1A\u6709\u95EE\u9898</li></ul><p><img src="http://img-repo.poetries.top/images/20210409170414.png" alt="img"> <img src="http://img-repo.poetries.top/images/20210409170424.png" alt="img"></p>',10),Asn={id:"_15-tree-shaking\u539F\u7406\u662F\u4EC0\u4E48",tabindex:"-1"},Bsn=n("a",{class:"header-anchor",href:"#_15-tree-shaking\u539F\u7406\u662F\u4EC0\u4E48","aria-hidden":"true"},"#",-1),qsn=s(),jsn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_15-tree-shaking%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},Ssn=s("#"),Csn=s("15 Tree Shaking\u539F\u7406\u662F\u4EC0\u4E48"),Dsn={id:"\u5BF9tree-shaking\u7684\u4E86\u89E3",tabindex:"-1"},Fsn=n("a",{class:"header-anchor",href:"#\u5BF9tree-shaking\u7684\u4E86\u89E3","aria-hidden":"true"},"#",-1),Psn=s(),Tsn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#%E5%AF%B9tree-shaking%E7%9A%84%E4%BA%86%E8%A7%A3",target:"_blank",rel:"noopener noreferrer"},Nsn=s("#"),Msn=s("\u5BF9tree-shaking\u7684\u4E86\u89E3"),Osn=t("<p><strong>\u4F5C\u7528\uFF1A</strong></p><p>\u5B83\u8868\u793A\u5728\u6253\u5305\u7684\u65F6\u5019\u4F1A\u53BB\u9664\u4E00\u4E9B\u65E0\u7528\u7684\u4EE3\u7801</p><p><strong>\u539F\u7406</strong>\uFF1A</p><ul><li><code>ES6</code>\u7684\u6A21\u5757\u5F15\u5165\u662F\u9759\u6001\u5206\u6790\u7684\uFF0C\u6240\u4EE5\u5728\u7F16\u8BD1\u65F6\u80FD\u6B63\u786E\u5224\u65AD\u5230\u5E95\u52A0\u8F7D\u4E86\u54EA\u4E9B\u6A21\u5757</li><li>\u5206\u6790\u7A0B\u5E8F\u6D41\uFF0C\u5224\u65AD\u54EA\u4E9B\u53D8\u91CF\u672A\u88AB\u4F7F\u7528\u3001\u5F15\u7528\uFF0C\u8FDB\u800C\u5220\u9664\u6B64\u4EE3\u7801</li></ul><p><strong>\u7279\u70B9\uFF1A</strong></p><ul><li>\u5728\u751F\u4EA7\u6A21\u5F0F\u4E0B\u5B83\u662F\u9ED8\u8BA4\u5F00\u542F\u7684\uFF0C\u4F46\u662F\u7531\u4E8E\u7ECF\u8FC7<code>babel</code>\u7F16\u8BD1\u5168\u90E8\u6A21\u5757\u88AB\u5C01\u88C5\u6210<code>IIFE</code>\uFF0C\u5B83\u5B58\u5728\u526F\u4F5C\u7528\u65E0\u6CD5\u88AB<code>tree-shaking</code>\u6389</li><li>\u53EF\u4EE5\u5728<code>package.json</code>\u4E2D\u914D\u7F6E<code>sideEffects</code>\u6765\u6307\u5B9A\u54EA\u4E9B\u6587\u4EF6\u662F\u6709\u526F\u4F5C\u7528\u7684\u3002\u5B83\u6709\u4E24\u79CD\u503C\uFF0C\u4E00\u4E2A\u662F\u5E03\u5C14\u7C7B\u578B\uFF0C\u5982\u679C\u662F<code>false</code>\u5219\u8868\u793A\u6240\u6709\u6587\u4EF6\u90FD\u6CA1\u6709\u526F\u4F5C\u7528\uFF1B\u5982\u679C\u662F\u4E00\u4E2A\u6570\u7EC4\u7684\u8BDD\uFF0C\u6570\u7EC4\u91CC\u7684\u6587\u4EF6\u8DEF\u5F84\u8868\u793A\u6539\u6587\u4EF6\u6709\u526F\u4F5C\u7528</li><li><code>rollup</code>\u548C<code>webpack</code>\u4E2D\u5BF9<code>tree-shaking</code>\u7684\u5C42\u5EA6\u4E0D\u540C\uFF0C\u4F8B\u5982\u5BF9<code>babel</code>\u8F6C\u8BD1\u540E\u7684<code>class</code>\uFF0C\u5982\u679C<code>babel</code>\u7684\u8F6C\u8BD1\u662F\u5BBD\u677E\u6A21\u5F0F\u4E0B\u7684\u8BDD(\u4E5F\u5C31\u662F<code>loose</code>\u4E3A<code>true</code>)\uFF0C<code>webpack</code>\u4F9D\u65E7\u4F1A\u8BA4\u4E3A\u5B83\u6709\u526F\u4F5C\u7528\u4E0D\u4F1A<code>tree-shaking</code>\u6389\uFF0C\u800C<code>rollup</code>\u4F1A\u3002\u8FD9\u662F\u56E0\u4E3A<code>rollup</code>\u6709\u7A0B\u5E8F\u6D41\u5206\u6790\u7684\u529F\u80FD\uFF0C\u53EF\u4EE5\u66F4\u597D\u7684\u5224\u65AD\u4EE3\u7801\u662F\u5426\u771F\u6B63\u4F1A\u4EA7\u751F\u526F\u4F5C\u7528\u3002</li></ul>",6),Isn={id:"\u539F\u7406",tabindex:"-1"},Rsn=n("a",{class:"header-anchor",href:"#\u539F\u7406","aria-hidden":"true"},"#",-1),Vsn=s(),Hsn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},Lsn=s("#"),Usn=s("\u539F\u7406"),Jsn=t(`<ul><li><code>ES6 Module</code> \u5F15\u5165\u8FDB\u884C\u9759\u6001\u5206\u6790\uFF0C\u6545\u800C\u7F16\u8BD1\u7684\u65F6\u5019\u6B63\u786E\u5224\u65AD\u5230\u5E95\u52A0\u8F7D\u4E86\u90A3\u4E9B\u6A21\u5757</li><li>\u9759\u6001\u5206\u6790\u7A0B\u5E8F\u6D41\uFF0C\u5224\u65AD\u90A3\u4E9B\u6A21\u5757\u548C\u53D8\u91CF\u672A\u88AB\u4F7F\u7528\u6216\u8005\u5F15\u7528\uFF0C\u8FDB\u800C\u5220\u9664\u5BF9\u5E94\u4EE3\u7801</li></ul><blockquote><p>\u4F9D\u8D56\u4E8E<code>import/export</code></p></blockquote><p>\u901A\u8FC7\u5BFC\u5165\u6240\u6709\u7684\u5305\u540E\u518D\u8FDB\u884C\u6761\u4EF6\u83B7\u53D6\u3002\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> bar <span class="token keyword">from</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// foo.xxxx</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// bar.xxx</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>ES6\u7684import\u8BED\u6CD5\u5B8C\u7F8E\u53EF\u4EE5\u4F7F\u7528tree shaking\uFF0C\u56E0\u4E3A\u53EF\u4EE5\u5728\u4EE3\u7801\u4E0D\u8FD0\u884C\u7684\u60C5\u51B5\u4E0B\u5C31\u80FD\u5206\u6790\u51FA\u4E0D\u9700\u8981\u7684\u4EE3\u7801</p></blockquote><p><strong>CommonJS\u7684\u52A8\u6001\u7279\u6027\u6A21\u5757\u610F\u5473\u7740tree shaking\u4E0D\u9002\u7528</strong>\u3002\u56E0\u4E3A\u5B83\u662F\u4E0D\u53EF\u80FD\u786E\u5B9A\u54EA\u4E9B\u6A21\u5757\u5B9E\u9645\u8FD0\u884C\u4E4B\u524D\u662F\u9700\u8981\u7684\u6216\u8005\u662F\u4E0D\u9700\u8981\u7684\u3002\u5728ES6\u4E2D\uFF0C\u8FDB\u5165\u4E86\u5B8C\u5168\u9759\u6001\u7684\u5BFC\u5165\u8BED\u6CD5\uFF1Aimport\u3002\u8FD9\u4E5F\u610F\u5473\u7740\u4E0B\u9762\u7684\u5BFC\u5165\u662F\u4E0D\u53EF\u884C\u7684\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4E0D\u53EF\u884C\uFF0CES6 \u7684import\u662F\u5B8C\u5168\u9759\u6001\u7684</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    myDynamicModule <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    myDynamicModule <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,7),Wsn={id:"_16-vite\u4E86\u89E3\u5417",tabindex:"-1"},zsn=n("a",{class:"header-anchor",href:"#_16-vite\u4E86\u89E3\u5417","aria-hidden":"true"},"#",-1),Gsn=s(),$sn={href:"http://interview.poetries.top/excellent-docs/9-%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E6%A8%A1%E5%9D%97.html#_16-vite%E4%BA%86%E8%A7%A3%E5%90%97",target:"_blank",rel:"noopener noreferrer"},Xsn=s("#"),Ksn=s("16 Vite\u4E86\u89E3\u5417"),Qsn=t(`<blockquote><p>\u662F\u4E00\u4E2A\u57FA\u4E8E\u6D4F\u89C8\u5668\u539F\u751FES\u6A21\u5757\u5BFC\u5165\u7684\u5F00\u53D1\u670D\u52A1\u5668\uFF0C\u5728\u5F00\u53D1\u73AF\u5883\u4E0B\uFF0C\u5229\u7528\u6D4F\u89C8\u5668\u53BB\u89E3\u6790import\uFF0C\u5728\u670D\u52A1\u5668\u7AEF\u6309\u9700\u7F16\u8BD1\u8FD4\u56DE\uFF0C\u5B8C\u5168\u8DF3\u8FC7\u4E86\u6253\u5305\u8FD9\u4E2A\u6982\u5FF5\uFF0C\u670D\u52A1\u5668\u968F\u542F\u968F\u7528\u3002\u540C\u65F6\u4E0D\u4EC5\u5BF9Vue\u6587\u4EF6\u63D0\u4F9B\u4E86\u652F\u6301\uFF0C\u8FD8\u652F\u6301\u70ED\u66F4\u65B0\uFF0C\u800C\u4E14\u70ED\u66F4\u65B0\u7684\u901F\u5EA6\u4E0D\u4F1A\u968F\u7740\u6A21\u5757\u589E\u591A\u800C\u53D8\u6162\u3002\u5728\u751F\u4EA7\u73AF\u5883\u4E0B\u4F7F\u7528Rollup\u6253\u5305</p></blockquote><p><strong>Vite \u7279\u70B9</strong></p><ul><li>Dev Server \u65E0\u9700\u7B49\u5F85\uFF0C\u5373\u65F6\u542F\u52A8\uFF1B</li><li>\u51E0\u4E4E\u5B9E\u65F6\u7684\u6A21\u5757\u70ED\u66F4\u65B0\uFF1B</li><li>\u6240\u9700\u6587\u4EF6\u6309\u9700\u7F16\u8BD1\uFF0C\u907F\u514D\u7F16\u8BD1\u7528\u4E0D\u5230\u7684\u6587\u4EF6\uFF1B</li><li>\u5F00\u7BB1\u5373\u7528\uFF0C\u907F\u514D\u5404\u79CD Loader \u548C Plugin \u7684\u914D\u7F6E\uFF1B</li></ul><p><strong>\u5F00\u7BB1\u5373\u7528</strong></p><ul><li><code>TypeScript</code> - \u5185\u7F6E\u652F\u6301</li><li><code>less/sass/stylus/postcss</code> - \u5185\u7F6E\u652F\u6301\uFF08\u9700\u8981\u5355\u72EC\u5B89\u88C5\u6240\u5BF9\u5E94\u7684\u7F16\u8BD1\u5668\uFF09</li></ul><p><strong>\u751F\u4EA7\u73AF\u5883\u9700\u8981\u6253\u5305\u5417</strong></p><blockquote><p>\u53EF\u4EE5\u4E0D\u6253\u5305\uFF0C\u9700\u8981\u542F\u52A8server\uFF0C\u9700\u8981\u6D4F\u89C8\u5668\u652F\u6301</p></blockquote><p><img src="http://img-repo.poetries.top/images/20210315165345.png" alt="img"></p><p><strong>\u624B\u5199\u5B9E\u73B0</strong></p><blockquote><p>Vite \u7684\u6838\u5FC3\u529F\u80FD\uFF1A<code>Static Server + Compile + HMR</code></p></blockquote><p>\u6838\u5FC3\u601D\u8DEF\uFF1A</p><ul><li>\u5C06\u5F53\u524D\u9879\u76EE\u76EE\u5F55\u4F5C\u4E3A\u9759\u6001\u6587\u4EF6\u670D\u52A1\u5668\u7684\u6839\u76EE\u5F55</li><li>\u62E6\u622A\u90E8\u5206\u6587\u4EF6\u8BF7\u6C42 <ul><li>\u5904\u7406\u4EE3\u7801\u4E2D <code>import node_modules</code> \u4E2D\u7684\u6A21\u5757</li><li>\u5904\u7406 <code>vue</code> \u5355\u6587\u4EF6\u7EC4\u4EF6\uFF08<code>SFC</code>\uFF09\u7684\u7F16\u8BD1</li></ul></li><li>\u901A\u8FC7 <code>WebSocket</code> \u5B9E\u73B0 <code>HMR</code></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token hashbang comment">#!/usr/bin/env node</span>

<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Readable <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;stream&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> Koa <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;koa&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> send <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;koa-send&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> compilerSfc <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@vue/compiler-sfc&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> cwd <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">streamToString</span> <span class="token operator">=</span> <span class="token parameter">stream</span> <span class="token operator">=&gt;</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> chunks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    stream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">,</span> <span class="token parameter">chunk</span> <span class="token operator">=&gt;</span> chunks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>chunk<span class="token punctuation">)</span><span class="token punctuation">)</span>
    stream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span>Buffer<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>chunks<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">&#39;utf8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    stream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> reject<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Koa</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u91CD\u5199\u8BF7\u6C42\u8DEF\u5F84\uFF0C/@modules/xxx =&gt; /node_modules/</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;/@modules/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> moduleName <span class="token operator">=</span> ctx<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; vue</span>
    <span class="token keyword">const</span> modulePkg <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cwd<span class="token punctuation">,</span> <span class="token string">&#39;node_modules&#39;</span><span class="token punctuation">,</span> moduleName<span class="token punctuation">,</span> <span class="token string">&#39;package.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span>path <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;/node_modules&#39;</span><span class="token punctuation">,</span> moduleName<span class="token punctuation">,</span> modulePkg<span class="token punctuation">.</span>module<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u6839\u636E\u8BF7\u6C42\u8DEF\u5F84\u5F97\u5230\u76F8\u5E94\u6587\u4EF6 /index.html</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ctx.path // http://localhost:3080/</span>
  <span class="token comment">// ctx.body = &#39;my-vite&#39;</span>
  <span class="token keyword">await</span> <span class="token function">send</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> ctx<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">root</span><span class="token operator">:</span> cwd<span class="token punctuation">,</span> <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token string">&#39;index.html&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// \u6709\u53EF\u80FD\u8FD8\u9700\u8981\u989D\u5916\u5904\u7406\u76F8\u5E94\u7ED3\u679C</span>
  <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// .vue \u6587\u4EF6\u8BF7\u6C42\u7684\u5904\u7406\uFF0C\u5373\u65F6\u7F16\u8BD1</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#39;.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> contents <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">streamToString</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> descriptor <span class="token punctuation">}</span> <span class="token operator">=</span> compilerSfc<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span>
    <span class="token keyword">let</span> code

    <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>query<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      code <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>script<span class="token punctuation">.</span>content
      code <span class="token operator">=</span> code<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">export\\s+default\\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;const __script = &#39;</span><span class="token punctuation">)</span>
      code <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">
  import { render as __render } from &quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>ctx<span class="token punctuation">.</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?type=template&quot;
  __script.render = __render
  export default __script</span><span class="token template-punctuation string">\`</span></span>
      <span class="token comment">// console.log(code)</span>
      ctx<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;application/javascript&#39;</span>
      ctx<span class="token punctuation">.</span>body <span class="token operator">=</span> Readable<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>query<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&#39;template&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> templateRender <span class="token operator">=</span> compilerSfc<span class="token punctuation">.</span><span class="token function">compileTemplate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">source</span><span class="token operator">:</span> descriptor<span class="token punctuation">.</span>template<span class="token punctuation">.</span>content
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      code <span class="token operator">=</span> templateRender<span class="token punctuation">.</span>code
    <span class="token punctuation">}</span>

    ctx<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;application/javascript&#39;</span>
    ctx<span class="token punctuation">.</span>body <span class="token operator">=</span> Readable<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>Buffer<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u66FF\u6362\u4EE3\u7801\u4E2D\u7279\u6B8A\u4F4D\u7F6E</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&#39;application/javascript&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> contents <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">streamToString</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    ctx<span class="token punctuation">.</span>body <span class="token operator">=</span> contents
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(from\\s+[&#39;&quot;])(?![\\.\\/])</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;$1/@modules/&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">process\\.env\\.NODE_ENV</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&quot;production&quot;&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3080</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Server running @ http://localhost:3080&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br></div></div><h1 id="_10-\u79FB\u52A8\u591A\u7AEF\u5F00\u53D1" tabindex="-1"><a class="header-anchor" href="#_10-\u79FB\u52A8\u591A\u7AEF\u5F00\u53D1" aria-hidden="true">#</a> 10 \u79FB\u52A8\u591A\u7AEF\u5F00\u53D1</h1><h2 id="_1-\u79FB\u52A8\u7AEF\u9002\u914D" tabindex="-1"><a class="header-anchor" href="#_1-\u79FB\u52A8\u7AEF\u9002\u914D" aria-hidden="true">#</a> 1 \u79FB\u52A8\u7AEF\u9002\u914D</h2><p><strong>\u4E3A\u4EC0\u4E48\u8981\u505A\u9002\u914D</strong></p><ul><li>\u4E3A\u4E86\u9002\u5E94\u5404\u79CD\u79FB\u52A8\u7AEF\u8BBE\u5907\uFF0C\u5B8C\u7F8E\u5448\u73B0\u5E94\u6709\u7684\u5E03\u5C40\u6548\u679C</li><li>\u5404\u4E2A\u79FB\u52A8\u7AEF\u8BBE\u5907\uFF0C\u5206\u8FA8\u7387\u5927\u5C0F\u4E0D\u4E00\u81F4\uFF0C\u7F51\u9875\u60F3\u94FA\u6EE1\u6574\u4E2A\u5C4F\u5E55\uFF0C\u5E76\u5728\u5404\u79CD\u5206\u8FA8\u4E0B\u7B49\u6BD4\u7F29\u653E</li></ul>`,17),Ysn={id:"\u9002\u914D\u65B9\u6848",tabindex:"-1"},Zsn=n("a",{class:"header-anchor",href:"#\u9002\u914D\u65B9\u6848","aria-hidden":"true"},"#",-1),nan=s(),san={href:"http://interview.poetries.top/excellent-docs/10-%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html#%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88",target:"_blank",rel:"noopener noreferrer"},aan=s("#"),ean=s("\u9002\u914D\u65B9\u6848"),tan=t(`<ul><li>\u56FA\u5B9A\u9AD8\u5EA6\uFF0C\u5BBD\u5EA6\u767E\u5206\u6BD4\u9002\u914D-\u5E03\u5C40\u975E\u5E38\u5747\u5300\uFF0C\u9002\u5408\u767E\u5206\u6BD4\u5E03\u5C40</li><li>\u56FA\u5B9A\u5BBD\u5EA6\uFF0C\u6539\u53D8\u7F29\u653E\u6BD4\u4F8B\u9002\u914D-\u4EC0\u4E48\u60C5\u51B5\u90FD\u53EF\u4EE5</li><li>Rem\u9002\u914D</li><li>\u50CF\u7D20\u6BD4\u9002\u914D</li></ul><p><strong>\u5355\u4F4D</strong></p><ul><li><code>em</code>\u6839\u636E\u5143\u7D20\u81EA\u8EAB\u7684\u5B57\u4F53\u5927\u5C0F\u8BA1\u7B97,\u5143\u7D20\u81EA\u8EAB <code>16px 1em=16px</code></li><li><code>Rem R -&gt; root</code> \u6839\u8282\u70B9( html ) \u6839\u636Ehtml\u7684\u5B57\u4F53\u5927\u5C0F\u8BA1\u7B97\u5176\u4ED6\u5143\u7D20\u5C3A\u5BF8</li></ul><p><strong>\u767E\u5206\u6BD4\u9002\u914D</strong></p><blockquote><p>\u56FA\u5B9A\u9AD8\u5EA6\uFF0C\u5BBD\u5EA6\u767E\u5206\u6BD4\u9002\u914D</p></blockquote><ul><li>\u6839\u636E\u8BBE\u7F6E\u7684\u5927\u5C0F\u53BB\u8BBE\u7F6E\u9AD8\u5EA6\uFF0C\u5355\u4F4D\u53EF\u4EE5\u7528px \u767E\u5206\u6BD4 auto</li><li>\u5E38\u7528Flex\u5E03\u5C40</li><li>\u767E\u5206\u6BD4\u5BBD\u5EA6</li></ul><blockquote><p>\u4EE5640\u8BBE\u8BA1\u7A3F\u4E3A\u4F8B\uFF0C\u5728\u5916\u5C42\u5BB9\u5668\u4E0A\u8BBE\u7F6E\u6700\u5927\u4EE5\u53CA\u6700\u5C0F\u7684\u5BBD</p></blockquote><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">#wrapper</span> <span class="token punctuation">{</span>
    <span class="token property">max-width</span><span class="token punctuation">:</span> 640px<span class="token punctuation">;</span> <span class="token comment">/*\u8BBE\u7F6E\u8BBE\u8BA1\u7A3F\u7684\u5BBD\u5EA6*/</span>
    <span class="token property">min-width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u540E\u9762\u7684\u533A\u5757\u5E03\u5C40\u90FD\u7528\u767E\u5206\u6BD4\uFF0C\u5177\u4F53\u5143\u7D20\u5927\u5C0F\u7528<code>px</code>\u8BA1\u7B97</p></blockquote><p><strong>Rem\u9002\u914D(\u5E38\u7528)</strong></p><ul><li>\u6839\u636E\u5C4F\u5E55\u7684\u5206\u8FA8\u7387\u52A8\u6001\u8BBE\u7F6E<code>html</code>\u7684\u6587\u5B57\u5927\u5C0F\uFF0C\u8FBE\u5230\u7B49\u6BD4\u7F29\u653E\u7684\u529F\u80FD</li><li>\u4FDD\u8BC1<code>html</code>\u6700\u7EC8\u7B97\u51FA\u6765\u7684\u5B57\u4F53\u5927\u5C0F\uFF0C\u4E0D\u80FD\u5C0F\u4E8E<code>12px</code></li><li>\u5728\u4E0D\u540C\u7684\u79FB\u52A8\u7AEF\u663E\u793A\u4E0D\u540C\u7684\u5143\u7D20\u6BD4\u4F8B\u6548\u679C</li><li>\u5982\u679C<code>html</code>\u7684<code>font-size:20px</code>\u7684\u65F6\u5019\uFF0C\u90A3\u4E48\u6B64\u65F6\u7684<code>1rem = 20px</code></li><li>\u628A\u8BBE\u8BA1\u56FE\u7684\u5BBD\u5EA6\u5206\u6210\u591A\u5C11\u5206\u4E4B\u4E00\uFF0C\u6839\u636E\u5B9E\u9645\u60C5\u51B5</li><li><code>rem</code>\u505A\u76D2\u5B50\u7684\u5BBD\u5EA6\uFF0C<code>viewport</code>\u7F29\u653E</li></ul><blockquote><p><code>head</code>\u52A0\u5165\u5E38\u89C1\u7684<code>meta</code>\u5C5E\u6027</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>format-detection<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>telephone=no<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>apple-mobile-web-app-capable<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>yes<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>apple-mobile-web-app-status-bar-style<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>black<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--\u8FD9\u4E2A\u662F\u5173\u952E--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0\uFF0Cminimum-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u628A\u8FD9\u6BB5\u4EE3\u7801\u52A0\u5165<code>head</code>\u4E2D\u7684<code>script</code>\u9884\u5148\u52A0\u8F7D</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// rem\u9002\u914D\u7528\u8FD9\u6BB5\u4EE3\u7801\u52A8\u6001\u8BA1\u7B97html\u7684font-size\u5927\u5C0F</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">win</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> docEl <span class="token operator">=</span> win<span class="token punctuation">.</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
    <span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">changeRem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> width <span class="token operator">=</span> docEl<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>width<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>width <span class="token operator">&gt;</span> <span class="token number">750</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 750\u662F\u8BBE\u8BA1\u7A3F\u5927\u5C0F</span>
            width <span class="token operator">=</span> <span class="token number">750</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">var</span> fontS <span class="token operator">=</span> width <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// \u628A\u8BBE\u5907\u5BBD\u5EA6\u5341\u7B49\u5206 1rem=10px</span>
        docEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> fontS <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    win<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>changeRem<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    win<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;pageshow&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>persisted<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//\u6E05\u9664\u7F13\u5B58</span>
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>changeRem<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">changeRem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><strong>\u50CF\u7D20\u6BD4\u9002\u914D</strong></p><ul><li><code>window.devicePixelRatio</code></li><li>\u7269\u7406\u50CF\u7D20\u662F\u624B\u673A\u5C4F\u5E55\u5206\u8FA8\u7387</li><li>\u72EC\u7ACB\u50CF\u7D20 \u6307<code>css</code>\u50CF\u7D20 \u5C4F\u5E55\u5BBD\u5EA6</li><li>\u50CF\u7D20\u6BD4 = \u7269\u7406\u50CF\u7D20 / <code>css</code>\u5BBD\u5EA6</li><li>\u83B7\u53D6\u8BBE\u5907\u7684\u50CF\u7D20\u6BD4 <code>window.devicePixelRatio</code></li></ul>`,17),pan={id:"_2-\u79FB\u52A8\u7AEF300ms\u5EF6\u8FDF",tabindex:"-1"},oan=n("a",{class:"header-anchor",href:"#_2-\u79FB\u52A8\u7AEF300ms\u5EF6\u8FDF","aria-hidden":"true"},"#",-1),can=s(),lan={href:"http://interview.poetries.top/excellent-docs/10-%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html#_2-%E7%A7%BB%E5%8A%A8%E7%AB%AF300ms%E5%BB%B6%E8%BF%9F",target:"_blank",rel:"noopener noreferrer"},ran=s("#"),ian=s("2 \u79FB\u52A8\u7AEF300ms\u5EF6\u8FDF"),uan=t("<blockquote><p>\u7531\u6765\uFF1A300\u6BEB\u7C73\u5EF6\u8FDF\u89E3\u51B3\u7684\u662F\u53CC\u51FB\u7F29\u653E\u3002\u53CC\u51FB\u7F29\u653E\uFF0C\u624B\u6307\u5728\u5C4F\u5E55\u5FEB\u901F\u70B9\u51FB\u4E24\u6B21\u3002safari\u6D4F\u89C8\u5668\u5C31\u4F1A\u5C06\u7F51\u9875\u7F29\u653E\u503C\u539F\u59CB\u6BD4\u4F8B\u3002\u7531\u4E8E\u7528\u6237\u53EF\u4EE5\u53CC\u51FB\u7F29\u653E\u6216\u8005\u662F\u6EDA\u52A8\u7684\u64CD\u4F5C\uFF0C \u5F53\u7528\u6237\u70B9\u51FB\u5C4F\u5E55\u4E00\u6B21\u4E4B\u540E\uFF0C\u6D4F\u89C8\u5668\u5E76\u4E0D\u4F1A\u5224\u65AD\u7528\u6237\u786E\u5B9E\u8981\u6253\u5F00\u81F3\u8FD9\u4E2A\u94FE\u63A5\uFF0C\u8FD8\u662F\u60F3\u8981\u8FDB\u884C\u53CC\u51FB\u64CD\u4F5C \u56E0\u6B64\uFF0Csafair\u6D4F\u89C8\u5668\u5C31\u4F1A\u7B49\u5F85300ms\uFF0C\u7528\u6765\u5224\u65AD\u7528\u6237\u662F\u5426\u5728\u6B21\u70B9\u51FB\u4E86\u5C4F\u5E55</p></blockquote><p><strong>\u89E3\u51B3\u65B9\u6848</strong>\uFF1A</p><ol><li>\u7981\u7528\u7F29\u653E\uFF0C\u8BBE\u7F6Emeta\u6807\u7B7E <code>user-scalable=no</code></li><li><code>fastclick.js</code></li></ol><blockquote><p>\u539F\u7406\uFF1AFastClick\u7684\u5B9E\u73B0\u539F\u7406\u662F\u5728\u68C0\u67E5\u5230touchend\u4E8B\u4EF6\u7684\u65F6\u5019\uFF0C\u4F1A\u901A\u8FC7dom\u81EA\u5B9A\u4E49\u4E8B\u4EF6\u7ACB\u5373\u53D1\u51FAclick\u4E8B\u4EF6\uFF0C\u5E76\u628A\u6D4F\u89C8\u5668\u5728300ms\u4E4B\u540E\u771F\u6B63\u7684click\u4E8B\u4EF6\u963B\u6B62\u6389\u3002fastclick.js\u8FD8\u53EF\u4EE5\u89E3\u51B3\u7A7F\u900F\u95EE\u9898</p></blockquote><ul><li>fastclick\u53EF\u4EE5\u89E3\u51B3\u5728\u624B\u673A\u4E0A\u70B9\u51FB\u4E8B\u4EF6\u7684300ms\u5EF6\u8FDF</li><li>zepto\u7684touch\u6A21\u5757\uFF0Ctap\u4E8B\u4EF6\u4E5F\u662F\u4E3A\u4E86\u89E3\u51B3\u5728click\u7684\u5EF6\u8FDF\u95EE\u9898</li></ul><p><strong>\u89E6\u6478\u4E8B\u4EF6\u7684\u54CD\u5E94\u987A\u5E8F</strong></p><ul><li><code>ontouchstart</code></li><li><code>ontouchmove</code></li><li><code>ontouchend</code></li><li><code>onclick</code></li></ul>",7),kan={id:"_3-\u5982\u4F55\u89E3\u51B3\u79FB\u52A8\u7AEF-retina-\u5C4F-1px-\u50CF\u7D20\u95EE\u9898",tabindex:"-1"},dan=n("a",{class:"header-anchor",href:"#_3-\u5982\u4F55\u89E3\u51B3\u79FB\u52A8\u7AEF-retina-\u5C4F-1px-\u50CF\u7D20\u95EE\u9898","aria-hidden":"true"},"#",-1),ban=s(),man={href:"http://interview.poetries.top/excellent-docs/10-%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html#_3-%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E7%A7%BB%E5%8A%A8%E7%AB%AF-retina-%E5%B1%8F-1px-%E5%83%8F%E7%B4%A0%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},han=s("#"),_an=s("3 \u5982\u4F55\u89E3\u51B3\u79FB\u52A8\u7AEF Retina \u5C4F 1px \u50CF\u7D20\u95EE\u9898"),gan=t(`<ul><li><code>\u4F2A\u5143\u7D20 + transform scaleY(.5)</code></li><li><code>border-image</code></li><li><code>background-image</code></li><li><code>box-shadow</code></li></ul><blockquote><p>\u4E00\u822C\u6765\u8BF4\uFF0C\u5728PC\u7AEF\u6D4F\u89C8\u5668\u4E2D\uFF0C\u8BBE\u5907\u50CF\u7D20\u6BD4\uFF08dpr\uFF09\u7B49\u4E8E1\uFF0C1\u4E2Acss\u50CF\u7D20\u5C31\u4EE3\u88681\u4E2A\u7269\u7406\u50CF\u7D20\uFF1B\u4F46\u662F\u5728<code>retina</code>\u5C4F\u5E55\u4E2D\uFF0Cdpr\u666E\u904D\u662F2\u62163\uFF0C1\u4E2Acss\u50CF\u7D20\u4E0D\u518D\u7B49\u4E8E1\u4E2A\u7269\u7406\u50CF\u7D20\uFF0C\u56E0\u6B64\u6BD4\u5B9E\u9645\u8BBE\u8BA1\u7A3F\u770B\u8D77\u6765\u7C97\u4E0D\u5C11</p></blockquote><ol><li>\u4F2A\u5143\u7D20+scale</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.box</span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> 20px 0<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.box::after</span><span class="token punctuation">{</span>
        <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleY</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">transform-origin</span><span class="token punctuation">:</span> 0 0<span class="token punctuation">;</span> 
        <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ol><li>border-image</li></ol><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">div</span><span class="token punctuation">{</span>
    <span class="token property">border-width</span><span class="token punctuation">:</span> 1px 0px<span class="token punctuation">;</span>
    <span class="token property">-webkit-border-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>border.png<span class="token punctuation">)</span></span> 2 0 stretch<span class="token punctuation">;</span>
    <span class="token property">border-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>border.png<span class="token punctuation">)</span></span> 2 0 stretch<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,6),Ean={id:"_4-\u5982\u4F55\u89E3\u51B3\u79FB\u52A8\u7AEF\u51FB\u7A7F-\u7A7F\u900F-\u95EE\u9898",tabindex:"-1"},fan=n("a",{class:"header-anchor",href:"#_4-\u5982\u4F55\u89E3\u51B3\u79FB\u52A8\u7AEF\u51FB\u7A7F-\u7A7F\u900F-\u95EE\u9898","aria-hidden":"true"},"#",-1),van=s(),wan={href:"http://interview.poetries.top/excellent-docs/10-%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html#_4-%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%87%BB%E7%A9%BF-%E7%A9%BF%E9%80%8F-%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},yan=s("#"),xan=s("4 \u5982\u4F55\u89E3\u51B3\u79FB\u52A8\u7AEF\u51FB\u7A7F\uFF08\u7A7F\u900F\uFF09\u95EE\u9898"),Aan=t(`<blockquote><p>\u5728\u79FB\u52A8\u7AEF\u5F00\u53D1\u7684\u65F6\u5019\uFF0C\u6211\u4EEC\u6709\u65F6\u5019\u4F1A\u9047\u5230\u8FD9\u6837\u4E00\u4E2Abug\uFF1A\u70B9\u51FB\u5173\u95ED\u906E\u7F69\u5C42\u7684\u65F6\u5019\uFF0C\u906E\u7F69\u5C42\u4E0B\u9762\u7684\u5E26\u6709\u70B9\u51FB\u7684\u5143\u7D20\u4E5F\u4F1A\u88AB\u89E6\u53D1\uFF0C\u7ED9\u4EBA\u4E00\u79CD\u51FB\u7A7F\u4E86\u9875\u9762\u7684\u611F\u89C9\uFF0C\u8FD9\u662F\u4E3A\u4EC0\u4E48\u5462\uFF1F</p></blockquote><ul><li>\u70B9\u51FB\u201C\u6253\u5F00\u5F39\u6846\u201D\u6309\u94AE\uFF0C\u663E\u793A\u906E\u7F69\u5C42</li><li>\u70B9\u51FB\u201C\u5173\u95ED\u5F39\u6846\u201D\u6309\u94AE\uFF0C\u906E\u7F69\u5C42\u6D88\u5931\uFF0C\u5E95\u4E0B\u7684\u8FDE\u63A5\u88AB\u89E6\u53D1</li></ul><p><img src="http://blog.poetries.top/img-repo/2020/03/3.png" alt="img"></p><p>\u4E0A\u56FE\u4E8B\u4F8Bjs\u90E8\u5206\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> show <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;show&#39;</span><span class="token punctuation">)</span> <span class="token comment">// \u6253\u5F00\u6309\u94AE</span>
<span class="token keyword">var</span> mask <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;mask&#39;</span><span class="token punctuation">)</span> <span class="token comment">// \u906E\u7F69\u5C42</span>
<span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;btn&#39;</span><span class="token punctuation">)</span>   <span class="token comment">// \u5173\u95ED\u6309\u94AE</span>

show<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;block&#39;</span>
<span class="token punctuation">}</span>

btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;touchstart&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>\u8FD9\u6837\u95EE\u9898\u7684\u5F62\u6210\u539F\u56E0\u662F\u4EC0\u4E48\u5462\uFF1F</li><li>\u6211\u4EEC\u5148\u6765\u770B\u4E00\u6BB5\u4EE3\u7801\uFF1A(\u4EE5\u4E0B\u4EE3\u7801\u9700\u5728\u79FB\u52A8\u7AEF\u4E0A\u8FD0\u884C)</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;btn&quot;</span><span class="token operator">&gt;</span>\u6211\u662F\u4E00\u4E2A\u6309\u94AE<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;btn&#39;</span><span class="token punctuation">)</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;touchstart&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;start&#39;</span><span class="token punctuation">)</span>    
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>

btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;touchmove&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;move&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>

btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;touchend&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;touchend&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>

btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u4EE3\u7801\u4F1A\u51FA\u73B02\u79CD\u8FD0\u884C\u60C5\u51B5</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>start ===&gt; move ===&gt; end
start ===&gt; end ===&gt; click
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>\u770B\u5230\u8FD9\u91CC\u76F8\u4FE1\u5927\u5BB6\u90FD\u660E\u767D\u4E86\uFF0C\u7531\u4E8E\u300C\u5173\u95ED\u5F39\u6846\u300D\u6309\u94AE\u7ED1\u5B9A\u7684\u4E8B\u4EF6\u662F<code>touch</code>\uFF0Ca\u6807\u7B7E\u662F<code>click</code>\u4E8B\u4EF6\uFF0C\u5728<code>touch</code>\u4E8B\u4EF6\u89E6\u53D1\u540E\uFF0C\u6211\u4EEC\u5F39\u51FA\u6846\u7684\u906E\u7F69\u5C42\u5C31\u6D88\u5931\u4E86\uFF0C\u8FD9\u65F6\u5019\u7684<code>click</code>\u4E8B\u4EF6\u5C31\u88ABa\u6807\u7B7E\u7ED9\u6355\u83B7\u5230\u4E86\uFF0C\u5F62\u6210\u4E86\u51FB\u7A7F\u7684\u6548\u679C</p></blockquote><p><strong>\u65B9\u6CD5\u4E00\u3001\u963B\u6B62\u9ED8\u8BA4\u4E8B\u4EF6</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;touchend&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>\u5728\u6267\u884C touchstart \u548C touchend \u4E8B\u4EF6\u65F6\uFF0C\u9690\u85CF\u6267\u884C\u5B8C\u9690\u85CF\u547D\u4EE4\u540E\uFF0C\u7ACB\u5373\u963B\u6B62\u540E\u7EED\u4E8B\u4EF6(\u63A8\u8350\u5728touchend\u65F6\uFF0C\u963B\u6B62\u540E\u7EED\u7684\u9ED8\u8BA4\u4E8B\u4EF6)</p></blockquote><p><strong>\u65B9\u6CD5\u4E8C\u3001\u7EDF\u4E00\u4F7F\u7528click\u4E8B\u4EF6</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>\u8FD9\u4E2A\u65B9\u6CD5\u7B80\u5355\uFF0C\u5C31\u662F\u4EA4\u4E92\u7684\u6548\u7387\u6CA1\u6709<code>click</code>\u4E8B\u4EF6\u9AD8\uFF0C\u53E6\u5916\uFF0C\u7528\u6237\u5728<code>touch</code>\u7684\u65F6\u5019\uFF0C\u6709\u53EF\u80FD\u5FAE\u5FAE\u6ED1\u52A8\u4E86\u4E00\u4E0B\uFF0C\u5C31\u4F1A\u65E0\u6CD5\u89E6\u53D1\u70B9\u51FB\u4E8B\u4EF6\u3002\u5F71\u54CD\u7528\u6237\u4F53\u9A8C\u3002</p></blockquote><p><strong>\u65B9\u6CD5\u4E09\u3001\u5EF6\u8FDF\u6267\u884C</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;touchend&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span>  <span class="token comment">// \u53EF\u4EE5\u4F7F\u7528fadeOut\u52A8\u753B</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u70B9\u51FB\u4E4B\u540E\uFF0C\u6211\u4EEC\u4E0D\u7ACB\u5373\u9690\u85CF\u3002\u8BA9\u906E\u7F69\u5728350ms\u6BEB\u79D2\u5185\u6DE1\u51FA\u6D88\u5931\u3002\uFF08\u6211\u4E3A\u4E86\u6F14\u793A\u65B9\u4FBF\u5C31\u6CA1\u6709\u6DFB\u52A0\u52A8\u753B\u4E86\uFF0C\u91C7\u7528\u4E86\u5B9A\u65F6\u5668\u65B9\u6CD5\u3002\uFF09</p></blockquote><p><strong>\u65B9\u6CD5\u56DB\u3001 css\u5C5E\u6027pointer-events</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>click<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;style&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;pointer-events:none&#39;</span><span class="token punctuation">)</span>
mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    click<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;style&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;pointer-events:auto&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u8FD9\u6837\u505A\u6CD5\u662F\uFF0C\u5728\u906E\u7F69\u6D88\u5931\u4E4B\u524D\uFF0C\u5148\u8BA9a\u6807\u7B7E\u5FFD\u7565\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u8FD9\u6837\u906E\u7F69\u5C42\u7684\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u5C31\u4E0D\u4F1A\u88ABa\u6807\u7B7E\u6355\u83B7\u5230\u3002\u8FD8\u662F\u7B49350\u6BEB\u79D2\u4E4B\u540E\uFF0C\u518D\u6B21\u8D4B\u4E88a\u6807\u7B7E\u7684\u70B9\u51FB\u80FD\u529B\u3002\u8FD9\u4E2A\u65B9\u6CD5\u8DDF\u65B9\u6CD5\u4E09\u539F\u7406\u76F8\u4F3C\uFF0C\u53EA\u662F\u5229\u7528\u4E86\u4E0D\u540C\u7684css\u5C5E\u6027\u800C\u5DF2\u3002\u4E2A\u4EBA\u89C9\u5F97\u65B9\u6CD5\u4E09\u6BD4\u8F83\u597D\u4E00\u70B9\u3002\u65B9\u6CD5\u56DB\u6709\u660E\u663E\u76842\u4E2A\u7F3A\u70B9\uFF1A</p></blockquote><ul><li>\u906E\u7F69\u5C42\u4E0B\u9762\u53EF\u80FD\u6709\u591A\u4E2A\u5E26\u6709\u4E8B\u4EF6\u7684\u5143\u7D20\uFF0C\u90A3\u4E48\u4F60\u9700\u8981\u7ED9\u6240\u6709\u53EF\u70B9\u51FB\u5143\u7D20\u6DFB\u52A0<code>pointer-events</code>\u5C5E\u6027 \u7136\u540E\u5220\u9664\u3002\u4E0D\u4EC5\u5BB9\u6613\u51FA\u9519\uFF0C\u8FD8\u5F71\u54CD\u6027\u80FD</li><li>\u5982\u679C\u7528\u6237\u5728<code>350</code>\u6BEB\u79D2\u5185\u70B9\u51FB\u4E86\u5143\u7D20\uFF0C\u4F1A\u9020\u6210\u9875\u9762\u5931\u6548\u7684\u9519\u89C9\uFF0C\u5F71\u54CD\u4F53\u9A8C\u3002</li></ul><p><strong>\u65B9\u6CD5\u4E94\u3001fastClick\u5E93</strong></p><blockquote><p>\u8FD9\u4E2A\u5E93\u7684\u5F15\u7528\u65B9\u6CD5\uFF0C\u5728\u6211\u4E0A\u4E00\u7BC7\u6587\u7AE0\u4E2D\u5DF2\u7ECF\u8BB2\u5230\u3002fastClick\u7684\u539F\u7406\u5C31\u662F\u4F7F\u7528\u4E86\u65B9\u6CD5\u4E00\u7684\u505A\u6CD5\u3002fastClick \u5728 touchend \u9636\u6BB5 \u8C03\u7528 event.preventDefault\uFF0C\u7136\u540E\u901A\u8FC7 document.createEvent \u521B\u5EFA\u4E00\u4E2A MouseEvents\uFF0C\u7136\u540E \u901A\u8FC7 <code>eventTarget.dispatchEvent</code> \u89E6\u53D1\u5BF9\u5E94\u76EE\u6807\u5143\u7D20\u4E0A\u7ED1\u5B9A\u7684 click \u4E8B\u4EF6</p></blockquote>`,25),Ban={id:"_5-\u79FB\u52A8\u7AEF\u7684\u517C\u5BB9\u95EE\u9898",tabindex:"-1"},qan=n("a",{class:"header-anchor",href:"#_5-\u79FB\u52A8\u7AEF\u7684\u517C\u5BB9\u95EE\u9898","aria-hidden":"true"},"#",-1),jan=s(),San={href:"http://interview.poetries.top/excellent-docs/10-%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html#_5-%E7%A7%BB%E5%8A%A8%E7%AB%AF%E7%9A%84%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},Can=s("#"),Dan=s("5 \u79FB\u52A8\u7AEF\u7684\u517C\u5BB9\u95EE\u9898"),Fan=t("<ul><li>\u7ED9\u79FB\u52A8\u7AEF\u6DFB\u52A0\u70B9\u51FB\u4E8B\u4EF6\u4F1A\u6709300S\u7684\u5EF6\u8FDF \u5982\u679C\u7528\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u9700\u8981\u5F15\u4E00\u4E2A<code>fastclick.js</code>\u6587\u4EF6\uFF0C\u89E3\u51B3<code>300s</code>\u7684\u5EF6\u8FDF \u4E00\u822C\u5728\u79FB\u52A8\u7AEF\u7528<code>ontouchstart</code>\u3001<code>ontouchmove</code>\u3001<code>ontouchend</code></li><li>\u79FB\u52A8\u7AEF\u70B9\u900F\u95EE\u9898,<code>touchstart</code> \u65E9\u4E8E <code>touchend</code> \u65E9\u4E8E<code>click</code>,<code>click</code>\u7684\u89E6\u53D1\u662F\u6709\u5EF6\u8FDF\u7684\uFF0C\u8FD9\u4E2A\u65F6\u95F4\u5927\u6982\u5728<code>300ms</code>\u5DE6\u53F3\uFF0C\u4E5F\u5C31\u662F\u8BF4\u6211\u4EEC<code>tap</code>\u89E6\u53D1\u4E4B\u540E\u8499\u5C42\u9690\u85CF\uFF0C \u6B64\u65F6 <code>click</code>\u8FD8\u6CA1\u6709\u89E6\u53D1\uFF0C300ms\u4E4B\u540E\u7531\u4E8E\u8499\u5C42\u9690\u85CF\uFF0C\u6211\u4EEC\u7684click\u89E6\u53D1\u5230\u4E86\u4E0B\u9762\u7684a\u94FE\u63A5\u4E0A\u5C3D\u91CF\u90FD\u4F7F\u7528<code>touch</code>\u4E8B\u4EF6\u6765\u66FF\u6362<code>click</code>\u4E8B\u4EF6\u3002\u4F8B\u5982\u7528touchend\u4E8B\u4EF6(\u63A8\u8350)\u3002\u7528<code>fastclick</code>\uFF0C<code>github.com/ftlabs/fast\u2026</code>\u7528<code>preventDefault</code>\u963B\u6B62<code>a</code>\u6807\u7B7E\u7684<code>click</code>\u6D88\u9664 <code>IE10</code> \u91CC\u9762\u7684\u90A3\u4E2A\u53C9\u53F7<code>input:-ms-clear{display:none;}</code></li><li>\u8BBE\u7F6E\u7F13\u5B58 \u624B\u673A\u9875\u9762\u901A\u5E38\u5728\u7B2C\u4E00\u6B21\u52A0\u8F7D\u540E\u4F1A\u8FDB\u884C\u7F13\u5B58\uFF0C\u7136\u540E\u6BCF\u6B21\u5237\u65B0\u4F1A\u4F7F\u7528\u7F13\u5B58\u800C\u4E0D\u662F\u53BB\u91CD\u65B0\u5411\u670D\u52A1\u5668\u53D1\u9001\u8BF7\u6C42\u3002\u5982\u679C\u4E0D\u5E0C\u671B\u4F7F\u7528\u7F13\u5B58\u53EF\u4EE5\u8BBE\u7F6E<code>no-cache</code>\u3002</li><li>\u5706\u89D2<code>BUG</code> \u67D0\u4E9BAndroid\u624B\u673A\u5706\u89D2\u5931\u6548 b<code>ackground-clip: padding-box;</code> \u9632\u6B62\u624B\u673A\u4E2D\u7F51\u9875\u653E\u5927\u548C\u7F29\u5C0F \u8FD9\u70B9\u662F\u6700\u57FA\u672C\u7684\uFF0C\u505A\u4E3A\u624B\u673A\u7F51\u7AD9\u5F00\u53D1\u8005\u6765\u8BF4\u5E94\u8BE5\u90FD\u77E5\u9053\u7684\uFF0C\u5C31\u662F\u8BBE\u7F6E<code>meta</code>\u4E2D\u7684<code>viewport</code></li><li>\u8BBE\u7F6E\u7528\u6237\u622A\u6B62\u7F29\u653E\uFF0C\u4E00\u822C\u5199\u89C6\u53E3\u7684\u65F6\u5019\u5C31\u5DF2\u7ECF\u5199\u597D\u4E86</li></ul>",1),Pan={id:"_6-jsbridge\u539F\u7406\u662F\u4EC0\u4E48-\u5982\u4F55\u8BBE\u8BA1\u4E00\u4E2Ajsbridge",tabindex:"-1"},Tan=n("a",{class:"header-anchor",href:"#_6-jsbridge\u539F\u7406\u662F\u4EC0\u4E48-\u5982\u4F55\u8BBE\u8BA1\u4E00\u4E2Ajsbridge","aria-hidden":"true"},"#",-1),Nan=s(),Man={href:"http://interview.poetries.top/excellent-docs/10-%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html#_6-jsbridge%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88-%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AAjsbridge",target:"_blank",rel:"noopener noreferrer"},Oan=s("#"),Ian=s("6 JSBridge\u539F\u7406\u662F\u4EC0\u4E48\uFF1F\u5982\u4F55\u8BBE\u8BA1\u4E00\u4E2AJSBridge\uFF1F"),Ran={id:"_6-1-jsbridge\u539F\u7406",tabindex:"-1"},Van=n("a",{class:"header-anchor",href:"#_6-1-jsbridge\u539F\u7406","aria-hidden":"true"},"#",-1),Han=s(),Lan={href:"http://interview.poetries.top/excellent-docs/10-%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html#_6-1-jsbridge%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},Uan=s("#"),Jan=s("6.1 JSBridge\u539F\u7406"),Wan=t('<blockquote><p><code>JSBridge</code>\u7684\u4F5C\u7528\u5C31\u662F\u8BA9<code>native</code>\u53EF\u4EE5\u8C03\u7528<code>web</code>\u7684<code>js</code>\u4EE3\u7801\uFF0C\u8BA9<code>web</code>\u53EF\u4EE5\u8C03\u7528\u539F\u751F\u7684\u4EE3\u7801\uFF0C\u5B9E\u73B0\u6570\u636E\u901A\u4FE1\uFF0C\u5B83\u5728\u505A<code>native</code>\u4EE3\u7801\u548Cjs\u4EE3\u7801\u76F8\u4E92\u8F6C\u6362\u7684\u4E8B\u60C5\u3002</p></blockquote><p><img src="http://img-repo.poetries.top/images/20210319155725.png" alt="img"></p><p><strong>\u5B9E\u73B0\u6570\u636E\u95F4\u7684\u901A\u8BAF\u5173\u952E\u662F\u4EE5\u4E0B\u4E24\u70B9\uFF1A</strong></p><ul><li>\u5C06<code>Native</code>\u7AEF\u7684\u63A5\u53E3\u5C01\u88C5\u6210js\u63A5\u53E3</li><li>\u5C06<code>Web</code>\u7AEFjs\u63A5\u53E3\u5C01\u88C5\u6210\u539F\u751F\u63A5\u53E3</li></ul>',4),zan={id:"_6-2-jsbridge\u7684\u6838\u5FC3",tabindex:"-1"},Gan=n("a",{class:"header-anchor",href:"#_6-2-jsbridge\u7684\u6838\u5FC3","aria-hidden":"true"},"#",-1),$an=s(),Xan={href:"http://interview.poetries.top/excellent-docs/10-%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html#_6-2-jsbridge%E7%9A%84%E6%A0%B8%E5%BF%83",target:"_blank",rel:"noopener noreferrer"},Kan=s("#"),Qan=s("6.2 JsBridge\u7684\u6838\u5FC3"),Yan=n("ul",null,[n("li",null,"\u62E6\u622AUrl"),n("li",null,[n("code",null,'load url("javascript:js_method()");')])],-1),Zan={id:"_6-3-\u4E3A\u4EC0\u4E48\u662F-js-bridge",tabindex:"-1"},nen=n("a",{class:"header-anchor",href:"#_6-3-\u4E3A\u4EC0\u4E48\u662F-js-bridge","aria-hidden":"true"},"#",-1),sen=s(),aen={href:"http://interview.poetries.top/excellent-docs/10-%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html#_6-3-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF-js-bridge",target:"_blank",rel:"noopener noreferrer"},een=s("#"),ten=s("6.3 \u4E3A\u4EC0\u4E48\u662F\u2018JS\u2019Bridge"),pen=n("blockquote",null,[n("p",null,[s("\u56E0\u4E3AWeb\u7AEF\u652F\u6301JavaScript\uFF0C\u800C"),n("code",null,"Native(iOS/Android)"),s("\u7AEF\u7684"),n("code",null,"Webview"),s("\u63A7\u4EF6\u5BF9JavaScript\u4E5F\u6709\u6240\u652F\u6301\uFF0C\u9875\u9762\u52A0\u8F7D\u5B8C\u6210\u540E\u8C03\u7528\u9875\u9762\u7684JavaScript\u4EE3\u7801")])],-1),oen={id:"_6-4-\u5E94\u7528\u573A\u666F",tabindex:"-1"},cen=n("a",{class:"header-anchor",href:"#_6-4-\u5E94\u7528\u573A\u666F","aria-hidden":"true"},"#",-1),len=s(),ren={href:"http://interview.poetries.top/excellent-docs/10-%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html#_6-4-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF",target:"_blank",rel:"noopener noreferrer"},ien=s("#"),uen=s("6.4 \u5E94\u7528\u573A\u666F"),ken=n("blockquote",null,[n("p",null,[s("\u5B83\u6709\u4EC0\u4E48\u7528\uFF1F\u6211\u4EEC\u5728\u4F7F\u7528\u6DF7\u5408\u5F00\u53D1\u6A21\u5F0F("),n("code",null,"Hybrid App"),s(")\u6DF7\u5408\u4F7F\u7528"),n("code",null,"Native"),s("\u548C"),n("code",null,"Web"),s("\u6280\u672F\u7528\u5230\u3002\u4F8B\u5982\u76EE\u524D\u7684\u4F7F\u7528\u6B64\u6280\u672F\u7684\u4E3B\u6D41\u6846\u67B6"),n("code",null,"React Native"),s("\u3001"),n("code",null,"Weex"),s("\u3001\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u7B49")])],-1),den={id:"_6-5-jsbridge\u5B9E\u73B0-\u2014\u2014-native\u7AEF\u8C03\u7528web\u7AEF\u4EE3\u7801",tabindex:"-1"},ben=n("a",{class:"header-anchor",href:"#_6-5-jsbridge\u5B9E\u73B0-\u2014\u2014-native\u7AEF\u8C03\u7528web\u7AEF\u4EE3\u7801","aria-hidden":"true"},"#",-1),men=s(),hen={href:"http://interview.poetries.top/excellent-docs/10-%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html#_6-5-jsbridge%E5%AE%9E%E7%8E%B0-native%E7%AB%AF%E8%B0%83%E7%94%A8web%E7%AB%AF%E4%BB%A3%E7%A0%81",target:"_blank",rel:"noopener noreferrer"},_en=s("#"),gen=s("6.5 JSBridge\u5B9E\u73B0 \u2014\u2014 Native\u7AEF\u8C03\u7528Web\u7AEF\u4EE3\u7801"),Een=t(`<blockquote><p><code>WebView</code>\u662F<code>Native</code>\u4E2D\u52A0\u8F7D\u7F51\u9875\u7684\u4E00\u4E2A\u63A7\u4EF6\uFF0C\u8BE5\u7EC4\u4EF6\u63D0\u4F9B\u4E00\u4E2A<code>evaluateJavascript()</code>\u65B9\u6CD5\u8FD0\u884CJS\u4EE3\u7801\u3002\u6211\u4EEC\u8981\u505A\u7684\u662F\u5728Native\u7AEF\u6267\u884C\u4E00\u4E2Ajs\u65B9\u6CD5\uFF0C\u5728Web\u7AEF\u8FDB\u884C\u76D1\u542C</p></blockquote><p><strong>1. \u6267\u884C\u4E00\u6BB5JS\u4EE3\u7801</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>webView<span class="token punctuation">.</span><span class="token function">evaluateJavascript</span><span class="token punctuation">(</span><span class="token string">&quot;window.showWebDialog(&#39;123&#39;)&quot;</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>2. Web\u7AEF\u8FDB\u884C\u76D1\u542C</strong></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    window<span class="token punctuation">.</span><span class="token function-variable function">showWebDialog</span> <span class="token operator">=</span> <span class="token parameter">text</span> <span class="token operator">=&gt;</span> window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,5),fen={id:"_6-6-jsbridge\u5B9E\u73B0-\u2014\u2014-web\u7AEF\u8C03\u7528native\u7AEF\u4EE3\u7801-\u62E6\u622Aurl-schema",tabindex:"-1"},ven=n("a",{class:"header-anchor",href:"#_6-6-jsbridge\u5B9E\u73B0-\u2014\u2014-web\u7AEF\u8C03\u7528native\u7AEF\u4EE3\u7801-\u62E6\u622Aurl-schema","aria-hidden":"true"},"#",-1),wen=s(),yen={href:"http://interview.poetries.top/excellent-docs/10-%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html#_6-6-jsbridge%E5%AE%9E%E7%8E%B0-web%E7%AB%AF%E8%B0%83%E7%94%A8native%E7%AB%AF%E4%BB%A3%E7%A0%81-%E6%8B%A6%E6%88%AAurl-schema",target:"_blank",rel:"noopener noreferrer"},xen=s("#"),Aen=s("6.6 JSBridge\u5B9E\u73B0 \u2014\u2014 Web\u7AEF\u8C03\u7528Native\u7AEF\u4EE3\u7801\uFF08\u62E6\u622AURL Schema\uFF09"),Ben=t(`<blockquote><p>\u5F53Web\u7AEF\u8981\u8BF7\u6C42<code>Native</code>\u7AEF\u7684\u65B9\u6CD5\u65F6\uFF0C\u6211\u4EEC\u9996\u5148\u8981\u81EA\u5B9A\u4E49\u4E00\u4E2A<code>URL Schema</code>\uFF0C\u5411Native\u7AEF\u53D1\u8D77\u4E00\u4E2A\u8BF7\u6C42\uFF0C\u6700\u540E\u5728<code>Native</code>\u7AEF\u7684<code>WebView</code>\u8FDB\u884C\u76D1\u542C\uFF0C\u4E0B\u9762\u6211\u4EEC\u770B\u770B\u5177\u4F53\u5B9E\u73B0\uFF1A</p></blockquote><p><img src="http://img-repo.poetries.top/images/20210319160140.png" alt="img"></p><p><strong>1. URL schema\u4ECB\u7ECD</strong></p><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>URL schema\` \u662F\u7C7B\`URL\`\u7684\u8BF7\u6C42\u683C\u5F0F\uFF0C\u5982\uFF1A\`&lt;protocol&gt;://&lt;domain&gt;/&lt;path&gt;?&lt;query&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><p>\u63A5\u4E0B\u6765\u53EF\u4EE5\u81EA\u5B9A\u4E49\u901A\u4FE1\u7684<code>URL schema</code>\uFF0C\u5982\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>jsbridge://&lt;method&gt;?&lt;params&gt;
jsbridge://showToast?text=hello&amp;a=b
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>2. \u53D1\u9001URL schema\u8BF7\u6C42</strong></p><blockquote><p>\u8BF7\u6C42\u81EA\u5B9A\u4E49<code>URL Schema</code>\u65B9\u6CD5\uFF1A<code>jsbridge://showToast?text=</code></p></blockquote><p>\u5411Native\u7AEF\u53D1\u8D77\u8BF7\u6C42\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">showNativeDialog</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;jsbridge://showToast?text=&#39;</span> <span class="token operator">+</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>3. Native\u7AEF\u5B9E\u73B0\u76D1\u542C</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>   webView<span class="token punctuation">.</span><span class="token function">setWebChromeClient</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebChromeClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        @Override
        <span class="token keyword">public</span> boolean <span class="token function">onJsAlert</span><span class="token punctuation">(</span><span class="token parameter">WebView view<span class="token punctuation">,</span> String url<span class="token punctuation">,</span> String message<span class="token punctuation">,</span> JsResult result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>message<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;jsbridge://&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onJsAlert</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> url<span class="token punctuation">,</span> message<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            UrlSchema urlschema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UrlSchema</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;showToast&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>urlchema<span class="token punctuation">.</span><span class="token function">getMethodName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                String text <span class="token operator">=</span> urlschema<span class="token punctuation">.</span><span class="token function">getParams</span><span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                Toast<span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span>mContext<span class="token punctuation">,</span> text<span class="token punctuation">,</span> Toast<span class="token punctuation">.</span><span class="token constant">LENGTH_LONG</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            result<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div>`,12),qen={id:"_6-7-jsbridge\u5B9E\u73B0-\u2014\u2014-web\u7AEF\u8C03\u7528native\u7AEF\u4EE3\u7801-\u6CE8\u5165api",tabindex:"-1"},jen=n("a",{class:"header-anchor",href:"#_6-7-jsbridge\u5B9E\u73B0-\u2014\u2014-web\u7AEF\u8C03\u7528native\u7AEF\u4EE3\u7801-\u6CE8\u5165api","aria-hidden":"true"},"#",-1),Sen=s(),Cen={href:"http://interview.poetries.top/excellent-docs/10-%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html#_6-7-jsbridge%E5%AE%9E%E7%8E%B0-web%E7%AB%AF%E8%B0%83%E7%94%A8native%E7%AB%AF%E4%BB%A3%E7%A0%81-%E6%B3%A8%E5%85%A5api",target:"_blank",rel:"noopener noreferrer"},Den=s("#"),Fen=s("6.7 JSBridge\u5B9E\u73B0 \u2014\u2014 Web\u7AEF\u8C03\u7528Native\u7AEF\u4EE3\u7801\uFF08\u6CE8\u5165api)"),Pen=t(`<blockquote><p>\u6CE8\u5165API \u65B9\u5F0F\u7684\u662FNative\u7AEF\u901A\u8FC7 WebView \u63D0\u4F9B\u7684\u63A5\u53E3\uFF0C\u5411 JavaScript \u7684 <code>Context\uFF08window\uFF09</code>\u4E2D\u6CE8\u5165\u5BF9\u8C61\u3002\u5728Web\u4E2D\u901A\u8FC7\u6CE8\u5165\u7684\u5BF9\u8C61\u8C03\u7528Native\u65B9\u6CD5</p></blockquote><p><img src="http://img-repo.poetries.top/images/20210319160503.png" alt="img"></p><p><strong>1. \u5411WebView\u6CE8\u5165JS\u5BF9\u8C61</strong></p><p>\u521B\u5EFA\u4E00\u4E2AJS\u5BF9\u8C61\uFF0C\u5E76\u5B9E\u73B0\u76D1\u542C\u7684\u65B9\u6CD5</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">NativeBridge</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> Context context<span class="token punctuation">;</span>

    <span class="token function">NativeBridge</span><span class="token punctuation">(</span><span class="token parameter">Context context</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> context<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    @JavascriptInterface
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showNativeDialog</span><span class="token punctuation">(</span><span class="token parameter">String text</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        Toast<span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span>text<span class="token punctuation">,</span>Toast<span class="token punctuation">.</span><span class="token constant">LENGTH_LONG</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Native\u7AEF\u901A\u8FC7WebView\u7684\u63A5\u53E3\u6CE8\u5165JS\u5BF9\u8C61</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>webView<span class="token punctuation">.</span><span class="token function">addJavascriptInterface</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">NativeBridge</span><span class="token punctuation">(</span>mContext<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;NativeBridge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>2. \u901A\u8FC7\u6CE8\u5165\u7684JS\u5BF9\u8C61\u8C03\u7528Native\u4EE3\u7801</strong></p><p>Web\u4E2D\u83B7\u53D6JS\u5BF9\u8C61\uFF0C\u8C03\u7528Native\u4EE3\u7801\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">showNativeDialog</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//window.alert(&#39;jsbridge://showToast?text=&#39; + text);</span>
        window<span class="token punctuation">.</span>NativeBridge<span class="token punctuation">.</span><span class="token function">showNativeDialog</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h1 id="_11-\u5C0F\u7A0B\u5E8F\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#_11-\u5C0F\u7A0B\u5E8F\u6A21\u5757" aria-hidden="true">#</a> 11 \u5C0F\u7A0B\u5E8F\u6A21\u5757</h1><h2 id="_1-\u767B\u5F55" tabindex="-1"><a class="header-anchor" href="#_1-\u767B\u5F55" aria-hidden="true">#</a> 1 \u767B\u5F55</h2><p><strong>unionid\u548Copenid</strong></p><blockquote><p>\u4E86\u89E3\u5C0F\u7A0B\u5E8F\u767B\u9646\u4E4B\u524D\uFF0C\u6211\u4EEC\u5199\u4E86\u89E3\u4E0B\u5C0F\u7A0B\u5E8F/\u516C\u4F17\u53F7\u767B\u5F55\u6D89\u53CA\u5230\u4E24\u4E2A\u6700\u5173\u952E\u7684\u7528\u6237\u6807\u8BC6\uFF1A</p></blockquote><ul><li><code>OpenId</code> \u662F\u4E00\u4E2A\u7528\u6237\u5BF9\u4E8E\u4E00\u4E2A\u5C0F\u7A0B\u5E8F\uFF0F\u516C\u4F17\u53F7\u7684\u6807\u8BC6\uFF0C\u5F00\u53D1\u8005\u53EF\u4EE5\u901A\u8FC7\u8FD9\u4E2A\u6807\u8BC6\u8BC6\u522B\u51FA\u7528\u6237\u3002</li><li><code>UnionId</code> \u662F\u4E00\u4E2A\u7528\u6237\u5BF9\u4E8E\u540C\u4E3B\u4F53\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\uFF0F\u516C\u4F17\u53F7\uFF0F<code>APP</code>\u7684\u6807\u8BC6\uFF0C\u5F00\u53D1\u8005\u9700\u8981\u5728\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\u4E0B\u7ED1\u5B9A\u76F8\u540C\u8D26\u53F7\u7684\u4E3B\u4F53\u3002\u5F00\u53D1\u8005\u53EF\u901A\u8FC7<code>UnionId</code>\uFF0C\u5B9E\u73B0\u591A\u4E2A\u5C0F\u7A0B\u5E8F\u3001\u516C\u4F17\u53F7\u3001\u751A\u81F3APP \u4E4B\u95F4\u7684\u6570\u636E\u4E92\u901A\u4E86\u3002</li></ul><p><strong>\u5173\u952EApi</strong></p><ul><li><code>wx.login</code> \u5B98\u65B9\u63D0\u4F9B\u7684\u767B\u5F55\u80FD\u529B</li><li><code>wx.checkSession</code>\u6821\u9A8C\u7528\u6237\u5F53\u524D\u7684<code>session_key</code>\u662F\u5426\u6709\u6548</li><li><code>wx.authorize</code> \u63D0\u524D\u5411\u7528\u6237\u53D1\u8D77\u6388\u6743\u8BF7\u6C42</li><li><code>wx.getUserInfo</code> \u83B7\u53D6\u7528\u6237\u57FA\u672C\u4FE1\u606F</li></ul><p><strong>\u767B\u5F55\u6D41\u7A0B\u8BBE\u8BA1</strong></p><ul><li><strong>\u5229\u7528\u73B0\u6709\u767B\u5F55\u4F53\u7CFB</strong></li></ul><blockquote><p>\u76F4\u63A5\u590D\u7528\u73B0\u6709\u7CFB\u7EDF\u7684\u767B\u5F55\u4F53\u7CFB\uFF0C\u53EA\u9700\u8981\u5728\u5C0F\u7A0B\u5E8F\u7AEF\u8BBE\u8BA1\u7528\u6237\u540D\uFF0C\u5BC6\u7801/\u9A8C\u8BC1\u7801\u8F93\u5165\u9875\u9762\uFF0C\u4FBF\u53EF\u4EE5\u7B80\u4FBF\u7684\u5B9E\u73B0\u767B\u5F55\uFF0C\u53EA\u9700\u8981\u4FDD\u6301\u826F\u597D\u7684\u7528\u6237\u4F53\u9A8C\u5373\u53EF</p></blockquote><ul><li><strong>\u5229\u7528<code>OpenId</code> \u521B\u5EFA\u7528\u6237\u4F53\u7CFB</strong></li></ul><blockquote><p><code>OpenId</code> \u662F\u4E00\u4E2A\u5C0F\u7A0B\u5E8F\u5BF9\u4E8E\u4E00\u4E2A\u7528\u6237\u7684\u6807\u8BC6\uFF0C\u5229\u7528\u8FD9\u4E00\u70B9\u6211\u4EEC\u53EF\u4EE5\u8F7B\u677E\u7684\u5B9E\u73B0\u4E00\u5957\u57FA\u4E8E\u5C0F\u7A0B\u5E8F\u7684\u7528\u6237\u4F53\u7CFB\uFF0C\u503C\u5F97\u4E00\u63D0\u7684\u662F\u8FD9\u79CD\u7528\u6237\u4F53\u7CFB\u5BF9\u7528\u6237\u7684\u6253\u6270\u6700\u4F4E\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u9759\u9ED8\u767B\u5F55\u3002\u5177\u4F53\u6B65\u9AA4\u5982\u4E0B</p></blockquote><ul><li>\u5C0F\u7A0B\u5E8F\u5BA2\u6237\u7AEF\u901A\u8FC7 <code>wx.login</code> \u83B7\u53D6 <code>code</code></li><li>\u4F20\u9012 <code>code</code> \u5411\u670D\u52A1\u7AEF\uFF0C\u670D\u52A1\u7AEF\u62FF\u5230 code \u8C03\u7528\u5FAE\u4FE1\u767B\u5F55\u51ED\u8BC1\u6821\u9A8C\u63A5\u53E3\uFF0C\u5FAE\u4FE1\u670D\u52A1\u5668\u8FD4\u56DE <code>openid</code> \u548C\u4F1A\u8BDD\u5BC6\u94A5 <code>session_key</code> \uFF0C\u6B64\u65F6\u5F00\u53D1\u8005\u670D\u52A1\u7AEF\u4FBF\u53EF\u4EE5\u5229\u7528 <code>openid</code> \u751F\u6210\u7528\u6237\u5165\u5E93\uFF0C\u518D\u5411\u5C0F\u7A0B\u5E8F\u5BA2\u6237\u7AEF\u8FD4\u56DE\u81EA\u5B9A\u4E49\u767B\u5F55\u6001</li><li>\u5C0F\u7A0B\u5E8F\u5BA2\u6237\u7AEF\u7F13\u5B58 \uFF08\u901A\u8FC7<code>storage</code>\uFF09\u81EA\u5B9A\u4E49\u767B\u5F55\u6001\uFF08<code>token</code>\uFF09\uFF0C\u540E\u7EED\u8C03\u7528\u63A5\u53E3\u65F6\u643A\u5E26\u8BE5\u767B\u5F55\u6001\u4F5C\u4E3A\u7528\u6237\u8EAB\u4EFD\u6807\u8BC6\u5373\u53EF</li></ul><p><strong>\u5229\u7528 Unionid \u521B\u5EFA\u7528\u6237\u4F53\u7CFB</strong></p><blockquote><p>\u5982\u679C\u60F3\u5B9E\u73B0\u591A\u4E2A\u5C0F\u7A0B\u5E8F\uFF0C\u516C\u4F17\u53F7\uFF0C\u5DF2\u6709\u767B\u5F55\u7CFB\u7EDF\u7684\u6570\u636E\u4E92\u901A\uFF0C\u53EF\u4EE5\u901A\u8FC7\u83B7\u53D6\u5230\u7528\u6237 <code>unionid</code> \u7684\u65B9\u5F0F\u5EFA\u7ACB\u7528\u6237\u4F53\u7CFB\u3002\u56E0\u4E3A <code>unionid</code> \u5728\u540C\u4E00\u5F00\u653E\u5E73\u53F0\u4E0B\u7684\u6240\u6240\u6709\u5E94\u7528\u90FD\u662F\u76F8\u540C\u7684\uFF0C\u901A\u8FC7 <code>unionid</code> \u5EFA\u7ACB\u7684\u7528\u6237\u4F53\u7CFB\u5373\u53EF\u5B9E\u73B0\u5168\u5E73\u53F0\u6570\u636E\u7684\u4E92\u901A\uFF0C\u66F4\u65B9\u4FBF\u7684\u63A5\u5165\u539F\u6709\u7684\u529F\u80FD\uFF0C\u90A3\u5982\u4F55\u83B7\u53D6 <code>unionid</code> \u5462\uFF0C\u6709\u4EE5\u4E0B\u4E24\u79CD\u65B9\u5F0F</p></blockquote><ul><li><p>\u5982\u679C\u6237\u5173\u6CE8\u4E86\u67D0\u4E2A\u76F8\u540C\u4E3B\u4F53\u516C\u4F17\u53F7\uFF0C\u6216\u66FE\u7ECF\u5728\u67D0\u4E2A\u76F8\u540C\u4E3B\u4F53<code>App</code>\u3001\u516C\u4F17\u53F7\u4E0A\u8FDB\u884C\u8FC7\u5FAE\u4FE1\u767B\u5F55\u6388\u6743\uFF0C\u901A\u8FC7 <code>wx.login</code> \u53EF\u4EE5\u76F4\u63A5\u83B7\u53D6 \u5230 <code>unionid</code></p></li><li><p>\u7ED3\u5408</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>wx.getUserInfo
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u548C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;button open-type=&quot;getUserInfo&quot;&gt;&lt;button/&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u8FD9\u4E24\u79CD\u65B9\u5F0F\u5F15\u5BFC\u7528\u6237\u4E3B\u52A8\u6388\u6743\uFF0C\u4E3B\u52A8\u6388\u6743\u540E\u901A\u8FC7\u8FD4\u56DE\u7684\u4FE1\u606F\u548C\u670D\u52A1\u7AEF\u4EA4\u4E92 (\u8FD9\u91CC\u6709\u4E00\u6B65\u9700\u8981\u670D\u52A1\u7AEF\u89E3\u5BC6\u6570\u636E\u7684\u8FC7\u7A0B\uFF0C\u5F88\u7B80\u5355\uFF0C\u5FAE\u4FE1\u63D0\u4F9B\u4E86\u793A\u4F8B\u4EE3\u7801) \u5373\u53EF\u62FF\u5230</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>unionid
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5EFA\u7ACB\u7528\u6237\u4F53\u7CFB\uFF0C \u7136\u540E\u7531\u670D\u52A1\u7AEF\u8FD4\u56DE\u767B\u5F55\u6001\uFF0C\u672C\u5730\u8BB0\u5F55\u5373\u53EF\u5B9E\u73B0\u767B\u5F55\uFF0C\u9644\u4E0A\u5FAE\u4FE1\u63D0\u4F9B\u7684\u6700\u4F73\u5B9E\u8DF5</p><ul><li><p>\u8C03\u7528 <code>wx.login</code> \u83B7\u53D6 <code>code</code>\uFF0C\u7136\u540E\u4ECE\u5FAE\u4FE1\u540E\u7AEF\u6362\u53D6\u5230 <code>session_key</code>\uFF0C\u7528\u4E8E\u89E3\u5BC6 <code>getUserInfo</code>\u8FD4\u56DE\u7684\u654F\u611F\u6570\u636E</p></li><li><p>\u4F7F\u7528</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>wx.getSetting
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u83B7\u53D6\u7528\u6237\u7684\u6388\u6743\u60C5\u51B5</p><ul><li>\u5982\u679C\u7528\u6237\u5DF2\u7ECF\u6388\u6743\uFF0C\u76F4\u63A5\u8C03\u7528 <code>API</code> <code>wx.getUserInfo</code> \u83B7\u53D6\u7528\u6237\u6700\u65B0\u7684\u4FE1\u606F\uFF1B</li><li>\u7528\u6237\u672A\u6388\u6743\uFF0C\u5728\u754C\u9762\u4E2D\u663E\u793A\u4E00\u4E2A\u6309\u94AE\u63D0\u793A\u7528\u6237\u767B\u5165\uFF0C\u5F53\u7528\u6237\u70B9\u51FB\u5E76\u6388\u6743\u540E\u5C31\u83B7\u53D6\u5230\u7528\u6237\u7684\u6700\u65B0\u4FE1\u606F</li></ul></li><li><p>\u83B7\u53D6\u5230\u7528\u6237\u6570\u636E\u540E\u53EF\u4EE5\u8FDB\u884C\u5C55\u793A\u6216\u8005\u53D1\u9001\u7ED9\u81EA\u5DF1\u7684\u540E\u7AEF\u3002</p></li></ul></li></ul><p>\u6CE8\u610F\u4E8B\u9879</p><ul><li>\u9700\u8981\u83B7\u53D6 <code>unionid</code> \u5F62\u5F0F\u7684\u767B\u5F55\u4F53\u7CFB\uFF0C\u5728\u4EE5\u524D\uFF0818\u5E744\u6708\u4E4B\u524D\uFF09\u662F\u901A\u8FC7\u4EE5\u4E0B\u8FD9\u79CD\u65B9\u5F0F\u6765\u5B9E\u73B0\uFF0C\u4F46\u540E\u7EED\u5FAE\u4FE1\u505A\u4E86\u8C03\u6574\uFF08\u56E0\u4E3A\u4E00\u8FDB\u5165\u5C0F\u7A0B\u5E8F\uFF0C\u4E3B\u52A8\u5F39\u8D77\u5404\u79CD\u6388\u6743\u5F39\u7A97\u7684\u8FD9\u79CD\u5F62\u5F0F\uFF0C\u6BD4\u8F83\u5BB9\u6613\u5BFC\u81F4\u7528\u6237\u6D41\u5931\uFF09\uFF0C\u8C03\u6574\u4E3A\u5FC5\u987B\u4F7F\u7528\u6309\u94AE\u5F15\u5BFC\u7528\u6237\u4E3B\u52A8\u6388\u6743\u7684\u65B9\u5F0F\uFF0C\u8FD9\u6B21\u8C03\u6574\u5BF9\u5F00\u53D1\u8005\u5F71\u54CD\u8F83\u5927\uFF0C\u5F00\u53D1\u8005\u9700\u8981\u6CE8\u610F\u9075\u5B88\u5FAE\u4FE1\u7684\u89C4\u5219\uFF0C\u5E76\u53CA\u65F6\u548C\u4E1A\u52A1\u65B9\u6C9F\u901A\u4E1A\u52A1\u5F62\u5F0F\uFF0C\u4E0D\u8981\u5B58\u5728\u4FA5\u5E78\u5FC3\u7406\uFF0C\u4EE5\u9632\u9020\u6210\u5C0F\u7A0B\u5E8F\u4E0D\u8FC7\u5BA1\u7B49\u60C5\u51B5</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> wx.login(\u83B7\u53D6code) ===&gt; wx.getUserInfo(\u7528\u6237\u6388\u6743) ===&gt; \u83B7\u53D6 unionid
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u56E0\u4E3A\u5C0F\u7A0B\u5E8F\u4E0D\u5B58\u5728 <code>cookie</code> \u7684\u6982\u5FF5\uFF0C \u767B\u5F55\u6001\u5FC5\u987B\u7F13\u5B58\u5728\u672C\u5730\uFF0C\u56E0\u6B64\u5F3A\u70C8\u5EFA\u8BAE\u4E3A\u767B\u5F55\u6001\u8BBE\u7F6E\u8FC7\u671F\u65F6\u95F4</li><li>\u503C\u5F97\u4E00\u63D0\u7684\u662F\u5982\u679C\u9700\u8981\u652F\u6301\u98CE\u63A7\u5B89\u5168\u6821\u9A8C\uFF0C\u591A\u5E73\u53F0\u767B\u5F55\u7B49\u529F\u80FD\uFF0C\u53EF\u80FD\u9700\u8981\u52A0\u5165\u4E00\u4E9B\u516C\u5171\u53C2\u6570\uFF0C\u4F8B\u5982<code>platform</code>\uFF0C<code>channel</code>\uFF0C<code>deviceParam</code>\u7B49\u53C2\u6570\u3002\u5728\u548C\u670D\u52A1\u7AEF\u786E\u5B9A\u65B9\u6848\u65F6\uFF0C\u4F5C\u4E3A\u524D\u7AEF\u540C\u5B66\u5E94\u8BE5\u53CA\u65F6\u63D0\u51FA\u8FD9\u4E9B\u5408\u7406\u7684\u5EFA\u8BAE\uFF0C\u8BBE\u8BA1\u5408\u7406\u7684\u7CFB\u7EDF\u3002</li><li><code>openid</code> \uFF0C <code>unionid</code> \u4E0D\u8981\u5728\u63A5\u53E3\u4E2D\u660E\u6587\u4F20\u8F93\uFF0C\u8FD9\u662F\u4E00\u79CD\u5371\u9669\u7684\u884C\u4E3A\uFF0C\u540C\u65F6\u4E5F\u5F88\u4E0D\u4E13\u4E1A</li></ul>`,30),Ten={id:"_2-\u56FE\u7247\u5BFC\u51FA",tabindex:"-1"},Nen=n("a",{class:"header-anchor",href:"#_2-\u56FE\u7247\u5BFC\u51FA","aria-hidden":"true"},"#",-1),Men=s(),Oen={href:"http://interview.poetries.top/excellent-docs/11-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A8%A1%E5%9D%97.html#_2-%E5%9B%BE%E7%89%87%E5%AF%BC%E5%87%BA",target:"_blank",rel:"noopener noreferrer"},Ien=s("#"),Ren=s("2 \u56FE\u7247\u5BFC\u51FA"),Ven=t(`<blockquote><p>\u8FD9\u662F\u4E00\u79CD\u5E38\u89C1\u7684\u5F15\u6D41\u65B9\u5F0F\uFF0C\u4E00\u822C\u540C\u65F6\u4F1A\u5728\u56FE\u7247\u4E2D\u9644\u52A0\u4E00\u4E2A\u5C0F\u7A0B\u5E8F\u4E8C\u7EF4\u7801\u3002</p></blockquote><p><strong>\u57FA\u672C\u539F\u7406</strong></p><ul><li>\u501F\u52A9 <code>canvas</code> \u5143\u7D20\uFF0C\u5C06\u9700\u8981\u5BFC\u51FA\u7684\u6837\u5F0F\u9996\u5148\u5728 <code>canvas</code> \u753B\u5E03\u4E0A\u7ED8\u5236\u51FA\u6765 \uFF08<code>api</code>\u57FA\u672C\u548C<code>h5</code>\u4FDD\u6301\u4E00\u81F4\uFF0C\u4F46\u6709\u8F7B\u5FAE\u5DEE\u5F02\uFF0C\u4F7F\u7528\u65F6\u6CE8\u610F\u5373\u53EF</li><li>\u501F\u52A9\u5FAE\u4FE1\u63D0\u4F9B\u7684 <code>canvasToTempFilePath</code> \u5BFC\u51FA\u56FE\u7247\uFF0C\u6700\u540E\u518D\u4F7F\u7528 <code>saveImageToPhotosAlbum</code> \uFF08\u9700\u8981\u6388\u6743\uFF09\u4FDD\u5B58\u56FE\u7247\u5230\u672C\u5730</li></ul><p><strong>\u5982\u4F55\u4F18\u96C5\u5B9E\u73B0</strong></p><ul><li>\u7ED8\u5236\u51FA\u9700\u8981\u7684\u6837\u5F0F\u8FD9\u4E00\u6B65\u662F\u7701\u7565\u4E0D\u6389\u7684\u3002\u4F46\u662F\u6211\u4EEC\u53EF\u4EE5\u5C01\u88C5\u4E00\u4E2A\u7ED8\u5236\u5E93\uFF0C\u5305\u542B\u5E38\u89C1\u56FE\u5F62\u7684\u7ED8\u5236\uFF0C\u4F8B\u5982\u77E9\u5F62\uFF0C\u5706\u89D2\u77E9\u5F62\uFF0C\u5706\uFF0C \u6247\u5F62\uFF0C \u4E09\u89D2\u5F62\uFF0C \u6587\u5B57\uFF0C\u56FE\u7247\u51CF\u5C11\u7ED8\u5236\u4EE3\u7801\uFF0C\u53EA\u9700\u8981\u63D0\u70BC\u51FA\u6837\u5F0F\u4FE1\u606F\uFF0C\u4FBF\u53EF\u4EE5\u8F7B\u677E\u7684\u7ED8\u5236\uFF0C\u6700\u540E\u5BFC\u51FA\u56FE\u7247\u5B58\u5165\u76F8\u518C\u3002\u7B14\u8005\u89C9\u5F97\u4EE5\u4E0B\u8FD9\u79CD\u65B9\u5F0F\u7ED8\u5236\u66F4\u4E3A\u4F18\u96C5\u6E05\u6670\u4E00\u4E9B\uFF0C\u5176\u5B9E\u4E5F\u53EF\u4EE5\u4F7F\u7528\u52A0\u5165\u4E00\u4E2Atype\u53C2\u6570\u6765\u6307\u5B9A\u7ED8\u5236\u7C7B\u578B\uFF0C\u4F20\u5165\u7684\u4E00\u4E2A\u662F\u6837\u5F0F\u6570\u7EC4\uFF0C\u5B9E\u73B0\u7ED8\u5236\u3002</li><li>\u7ED3\u5408\u4E0A\u4E00\u6B65\u7684\u5B9E\u73B0\uFF0C\u5982\u679C\u5BF9\u4E8E\u540C\u4E00\u7C7B\u578B\u7684\u5361\u7247\u6709\u591A\u6B21\u5BFC\u51FA\u9700\u6C42\u7684\u573A\u666F\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u7684\u65B9\u5F0F\uFF0C\u5C01\u88C5\u540C\u4E00\u7C7B\u578B\u7684\u5361\u7247\u4E3A\u4E00\u4E2A\u901A\u7528\u7EC4\u4EF6\uFF0C\u5728\u9700\u8981\u5BFC\u51FA\u56FE\u7247\u529F\u80FD\u7684\u5730\u65B9\uFF0C\u5F15\u5165\u8BE5\u7EC4\u4EF6\u5373\u53EF\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">CanvasKit</span> <span class="token punctuation">{</span>
   <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token punctuation">}</span>
   <span class="token function">drawImg</span><span class="token punctuation">(</span><span class="token parameter">option <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token operator">...</span>
     <span class="token keyword">return</span> <span class="token keyword">this</span>
   <span class="token punctuation">}</span>
   <span class="token function">drawRect</span><span class="token punctuation">(</span><span class="token parameter">option <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token keyword">this</span>
   <span class="token punctuation">}</span>
   <span class="token function">drawText</span><span class="token punctuation">(</span><span class="token parameter">option <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token operator">...</span>
     <span class="token keyword">return</span> <span class="token keyword">this</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">static</span> <span class="token function">exportImg</span><span class="token punctuation">(</span><span class="token parameter">option <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token operator">...</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">let</span> drawer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CanvasKit</span><span class="token punctuation">(</span><span class="token string">&#39;canvasId&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">drawImg</span><span class="token punctuation">(</span>styleObj1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">drawText</span><span class="token punctuation">(</span>styleObj2<span class="token punctuation">)</span>
 drawer<span class="token punctuation">.</span><span class="token function">exportImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>\u6CE8\u610F\u4E8B\u9879</p><ul><li>\u5C0F\u7A0B\u5E8F\u4E2D\u65E0\u6CD5\u7ED8\u5236\u7F51\u7EDC\u56FE\u7247\u5230<code>canvas</code>\u4E0A\uFF0C\u9700\u8981\u901A\u8FC7<code>downLoadFile</code> \u5148\u4E0B\u8F7D\u56FE\u7247\u5230\u672C\u5730\u4E34\u65F6\u6587\u4EF6\u624D\u53EF\u4EE5\u7ED8\u5236</li><li>\u901A\u5E38\u9700\u8981\u7ED8\u5236\u4E8C\u7EF4\u7801\u5230\u5BFC\u51FA\u7684\u56FE\u7247\u4E0A\uFF0C\u6709\u4E00\u79CD\u65B9\u5F0F\u5BFC\u51FA\u4E8C\u7EF4\u7801\u65F6\uFF0C\u9700\u8981\u643A\u5E26\u7684\u53C2\u6570\u5FC5\u987B\u505A\u7F16\u7801\uFF0C\u800C\u4E14\u6709\u5177\u4F53\u7684\u957F\u5EA6\uFF08<code>32</code>\u53EF\u89C1\u5B57\u7B26\uFF09\u9650\u5236\uFF0C\u53EF\u4EE5\u501F\u52A9\u670D\u52A1\u7AEF\u751F\u6210 \u77ED\u94FE\u63A5 \u7684\u65B9\u5F0F\u6765\u89E3\u51B3</li></ul>`,8),Hen={id:"_3-\u6570\u636E\u7EDF\u8BA1",tabindex:"-1"},Len=n("a",{class:"header-anchor",href:"#_3-\u6570\u636E\u7EDF\u8BA1","aria-hidden":"true"},"#",-1),Uen=s(),Jen={href:"http://interview.poetries.top/excellent-docs/11-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A8%A1%E5%9D%97.html#_3-%E6%95%B0%E6%8D%AE%E7%BB%9F%E8%AE%A1",target:"_blank",rel:"noopener noreferrer"},Wen=s("#"),zen=s("3 \u6570\u636E\u7EDF\u8BA1"),Gen=t(`<blockquote><p>\u6570\u636E\u7EDF\u8BA1\u4F5C\u4E3A\u76EE\u524D\u4E00\u79CD\u5E38\u7528\u7684\u5206\u6790\u7528\u6237\u884C\u4E3A\u7684\u65B9\u5F0F\uFF0C\u5C0F\u7A0B\u5E8F\u7AEF\u4E5F\u662F\u5FC5\u4E0D\u53EF\u5C11\u7684\u3002\u5C0F\u7A0B\u5E8F\u91C7\u53D6\u7684\u66DD\u5149\uFF0C\u70B9\u51FB\u6570\u636E\u57CB\u70B9\u5176\u5B9E\u548Ch5\u539F\u7406\u662F\u4E00\u6837\u7684\u3002\u4F46\u662F\u57CB\u70B9\u4F5C\u4E3A\u4E00\u4E2A\u548C\u4E1A\u52A1\u903B\u8F91\u4E0D\u76F8\u5173\u7684\u9700\u6C42\uFF0C\u6211\u4EEC\u5982\u679C\u5728\u6BCF\u4E00\u4E2A\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u6BCF\u4E00\u4E2A\u751F\u547D\u5468\u671F\u52A0\u5165\u5404\u79CD\u57CB\u70B9\u4EE3\u7801\uFF0C\u5219\u4F1A\u5E72\u6270\u6B63\u5E38\u7684\u4E1A\u52A1\u903B\u8F91\uFF0C\u548C\u4F7F\u4EE3\u7801\u53D8\u7684\u81C3\u80BF\uFF0C\u7B14\u8005\u63D0\u4F9B\u4EE5\u4E0B\u51E0\u79CD\u601D\u8DEF\u6765\u89E3\u51B3\u6570\u636E\u57CB\u70B9</p></blockquote><p><strong>\u8BBE\u8BA1\u4E00\u4E2A\u57CB\u70B9sdk</strong></p><blockquote><p>\u5C0F\u7A0B\u5E8F\u7684\u4EE3\u7801\u7ED3\u6784\u662F\uFF0C\u6BCF\u4E00\u4E2A <code>Page</code> \u4E2D\u90FD\u6709\u4E00\u4E2A <code>Page</code> \u65B9\u6CD5\uFF0C\u63A5\u53D7\u4E00\u4E2A\u5305\u542B\u751F\u547D\u5468\u671F\u51FD\u6570\uFF0C\u6570\u636E\u7684 \u4E1A\u52A1\u903B\u8F91\u5BF9\u8C61 \u5305\u88C5\u8FD9\u5C42\u6570\u636E\uFF0C\u501F\u52A9\u5C0F\u7A0B\u5E8F\u7684\u5E95\u5C42\u903B\u8F91\u5B9E\u73B0\u9875\u9762\u7684\u4E1A\u52A1\u903B\u8F91\u3002\u901A\u8FC7\u8FD9\u4E2A\u6211\u4EEC\u53EF\u4EE5\u60F3\u5230\u601D\u8DEF\uFF0C\u5BF9<code>Page</code>\u8FDB\u884C\u4E00\u6B21\u5305\u88C5\uFF0C\u7BE1\u6539\u5B83\u7684\u751F\u547D\u5468\u671F\u548C\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u6DF7\u5165\u57CB\u70B9\u4EE3\u7801\uFF0C\u4E0D\u5E72\u6270\u4E1A\u52A1\u903B\u8F91\uFF0C\u53EA\u8981\u505A\u4E00\u4E9B\u7B80\u5355\u7684\u914D\u7F6E\u5373\u53EF\u57CB\u70B9\uFF0C\u7B80\u5355\u7684\u4EE3\u7801\u5B9E\u73B0\u5982\u4E0B</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4EE3\u7801\u4EC5\u4F9B\u7406\u89E3\u601D\u8DEF</span>
 <span class="token function-variable function">page</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">let</span> keys <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">===</span> <span class="token string">&#39;onLoad&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         params<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token function">stat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//\u66DD\u5149\u57CB\u70B9\u4EE3\u7801</span>
           params<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         params<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">funciton</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token keyword">let</span> data <span class="token operator">=</span> event<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>config
           <span class="token function">stat</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>  <span class="token comment">// \u70B9\u51FB\u57CB\u70B9</span>
           param<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
         <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>\u8FD9\u79CD\u601D\u8DEF\u4E0D\u5149\u9002\u7528\u4E8E\u57CB\u70B9\uFF0C\u4E5F\u53EF\u4EE5\u7528\u6765\u4F5C\u5168\u5C40\u5F02\u5E38\u5904\u7406\uFF0C\u8BF7\u6C42\u7684\u7EDF\u4E00\u5904\u7406\u7B49\u573A\u666F\u3002</p></blockquote><p><strong>\u5206\u6790\u63A5\u53E3</strong></p><blockquote><p>\u5BF9\u4E8E\u7279\u6B8A\u7684\u4E00\u4E9B\u4E1A\u52A1\uFF0C\u6211\u4EEC\u53EF\u4EE5\u91C7\u53D6 \u63A5\u53E3\u57CB\u70B9\uFF0C\u4EC0\u4E48\u53EB\u63A5\u53E3\u57CB\u70B9\u5462\uFF1F\u5F88\u591A\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u6709\u7684<code>api</code>\u5E76\u4E0D\u662F\u591A\u5904\u8C03\u7528\u7684\uFF0C\u53EA\u4F1A\u5728\u67D0\u4E00\u4E2A\u7279\u5B9A\u7684\u9875\u9762\u8C03\u7528\uFF0C\u901A\u8FC7\u8FD9\u4E2A\u601D\u8DEF\u6211\u4EEC\u53EF\u4EE5\u5206\u6790\u51FA\uFF0C\u8BE5\u63A5\u53E3\u88AB\u8BF7\u6C42\uFF0C\u5219\u8FD9\u4E2A\u884C\u4E3A\u88AB\u89E6\u53D1\u4E86\uFF0C\u5219\u5B8C\u5168\u53EF\u4EE5\u901A\u8FC7\u670D\u52A1\u7AEF\u65E5\u5FD7\u5F97\u51FA\u57CB\u70B9\u6570\u636E\uFF0C\u4F46\u662F\u8FD9\u79CD\u65B9\u5F0F\u5C40\u9650\u6027\u8F83\u5927\uFF0C\u800C\u4E14\u5C5E\u4E8E\u5206\u6790\u7ED3\u679C\u5F97\u51FA\u8FC7\u7A0B\uFF0C\u53EF\u80FD\u5B58\u5728\u8BEF\u5DEE\uFF0C\u4F46\u53EF\u4EE5\u4F5C\u4E3A\u4E00\u79CD\u601D\u8DEF\u4E86\u89E3\u4E00\u4E0B\u3002</p></blockquote><p><strong>\u5FAE\u4FE1\u81EA\u5B9A\u4E49\u6570\u636E\u5206\u6790</strong></p><blockquote><p>\u5FAE\u4FE1\u672C\u8EAB\u63D0\u4F9B\u7684\u6570\u636E\u5206\u6790\u80FD\u529B\uFF0C\u5FAE\u4FE1\u672C\u8EAB\u63D0\u4F9B\u4E86\u5E38\u89C4\u5206\u6790\u548C\u81EA\u5B9A\u4E49\u5206\u6790\u4E24\u79CD\u6570\u636E\u5206\u6790\u65B9\u5F0F\uFF0C\u5728\u5C0F\u7A0B\u5E8F\u540E\u53F0\u914D\u7F6E\u5373\u53EF\u3002\u501F\u52A9\u5C0F\u7A0B\u5E8F\u6570\u636E\u52A9\u624B\u8FD9\u6B3E\u5C0F\u7A0B\u5E8F\u53EF\u4EE5\u5F88\u65B9\u4FBF\u7684\u67E5\u770B</p></blockquote>`,9),$en={id:"_4-\u5DE5\u7A0B\u5316",tabindex:"-1"},Xen=n("a",{class:"header-anchor",href:"#_4-\u5DE5\u7A0B\u5316","aria-hidden":"true"},"#",-1),Ken=s(),Qen={href:"http://interview.poetries.top/excellent-docs/11-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A8%A1%E5%9D%97.html#_4-%E5%B7%A5%E7%A8%8B%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},Yen=s("#"),Zen=s("4 \u5DE5\u7A0B\u5316"),ntn=t("<p><strong>\u5DE5\u7A0B\u5316\u505A\u4EC0\u4E48</strong></p><blockquote><p>\u76EE\u524D\u7684\u524D\u7AEF\u5F00\u53D1\u8FC7\u7A0B\uFF0C\u5DE5\u7A0B\u5316\u662F\u5FC5\u4E0D\u53EF\u5C11\u7684\u4E00\u73AF\uFF0C\u90A3\u5C0F\u7A0B\u5E8F\u5DE5\u7A0B\u5316\u90FD\u9700\u8981\u505A\u4E9B\u4EC0\u4E48\u5462\uFF0C\u5148\u770B\u4E0B\u76EE\u524D\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u5F53\u4E2D\u5B58\u5728\u54EA\u4E9B\u95EE\u9898\u9700\u8981\u89E3\u51B3\uFF1A</p></blockquote><ul><li>\u4E0D\u652F\u6301 <code>css</code>\u9884\u7F16\u8BD1\u5668,\u4F5C\u4E3A\u4E00\u79CD\u4E3B\u6D41\u7684 <code>css</code>\u89E3\u51B3\u65B9\u6848\uFF0C\u4E0D\u8BBA\u662F <code>less</code>,<code>sass</code>,<code>stylus</code> \u90FD\u53EF\u4EE5\u63D0\u5347<code>css</code>\u6548\u7387</li><li>\u4E0D\u652F\u6301\u5F15\u5165npm\u5305 \uFF08\u8FD9\u4E00\u6761\uFF0C\u4ECE\u5FAE\u4FE1\u516C\u5F00\u8BFE\u4E2D\u542C\u95FB\uFF0C\u5FAE\u4FE1\u51C6\u5907\u652F\u6301\uFF09</li><li>\u4E0D\u652F\u6301<code>ES7</code>\u7B49\u540E\u7EED\u7684<code>js</code>\u7279\u6027\uFF0C\u597D\u7528\u7684<code>async await</code>\u7B49\u7279\u6027\u90FD\u65E0\u6CD5\u4F7F\u7528</li><li>\u4E0D\u652F\u6301\u5F15\u5165\u5916\u90E8\u5B57\u4F53\u6587\u4EF6\uFF0C\u53EA\u652F\u6301<code>base64</code></li><li>\u6CA1\u6709 <code>eslint</code> \u7B49\u4EE3\u7801\u68C0\u67E5\u5DE5\u5177</li></ul><p><strong>\u65B9\u6848\u9009\u578B</strong></p><blockquote><p>\u5BF9\u4E8E\u76EE\u524D\u5E38\u7528\u7684\u5DE5\u7A0B\u5316\u65B9\u6848\uFF0C<code>webpack</code>\uFF0C<code>rollup</code>\uFF0C<code>parcel</code>\u7B49\u6765\u770B\uFF0C\u90FD\u5E38\u7528\u4E0E\u5355\u9875\u5E94\u7528\u7684\u6253\u5305\u548C\u5904\u7406\uFF0C\u800C\u5C0F\u7A0B\u5E8F\u5929\u751F\u662F \u201C\u591A\u9875\u5E94\u7528\u201D \u5E76\u4E14\u5B58\u5728\u4E00\u4E9B\u7279\u5B9A\u7684\u914D\u7F6E\u3002\u6839\u636E\u8981\u89E3\u51B3\u7684\u95EE\u9898\u6765\u770B\uFF0C\u65E0\u975E\u662F\u6587\u4EF6\u7684\u7F16\u8BD1\uFF0C\u4FEE\u6539\uFF0C\u62F7\u8D1D\u8FD9\u4E9B\u5904\u7406\uFF0C\u5BF9\u4E8E\u8FD9\u4E9B\u9700\u6C42\uFF0C\u6211\u4EEC\u60F3\u5230\u57FA\u4E8E\u6D41\u7684 <code>gulp</code>\u975E\u5E38\u7684\u9002\u5408\u5904\u7406\uFF0C\u5E76\u4E14\u76F8\u5BF9\u4E8E<code>webpack</code>\u914D\u7F6E\u591A\u9875\u5E94\u7528\u66F4\u52A0\u7B80\u5355\u3002\u6240\u4EE5\u5C0F\u7A0B\u5E8F\u5DE5\u7A0B\u5316\u65B9\u6848\u63A8\u8350\u4F7F\u7528 <code>gulp</code></p></blockquote><p><strong>\u5177\u4F53\u5F00\u53D1\u601D\u8DEF</strong></p><blockquote><p>\u901A\u8FC7 <code>gulp</code> \u7684 <code>task</code> \u5B9E\u73B0\uFF1A</p></blockquote><ul><li>\u5B9E\u65F6\u7F16\u8BD1 <code>less</code> \u6587\u4EF6\u81F3\u76F8\u5E94\u76EE\u5F55</li><li>\u5F15\u5165\u652F\u6301<code>async</code>\uFF0C<code>await</code>\u7684\u8FD0\u884C\u65F6\u6587\u4EF6</li><li>\u7F16\u8BD1\u5B57\u4F53\u6587\u4EF6\u4E3A<code>base64</code> \u5E76\u751F\u6210\u76F8\u5E94<code>css</code>\u6587\u4EF6\uFF0C\u65B9\u4FBF\u4F7F\u7528</li><li>\u4F9D\u8D56\u5206\u6790\u54EA\u4E9B\u5730\u65B9\u5F15\u7528\u4E86<code>npm</code>\u5305\uFF0C\u5C06<code>npm</code>\u5305\u6253\u6210\u4E00\u4E2A\u6587\u4EF6\uFF0C\u62F7\u8D1D\u81F3\u76F8\u5E94\u76EE\u5F55</li><li>\u68C0\u67E5\u4EE3\u7801\u89C4\u8303</li></ul>",8),stn={id:"_5-\u5C0F\u7A0B\u5E8F\u67B6\u6784",tabindex:"-1"},atn=n("a",{class:"header-anchor",href:"#_5-\u5C0F\u7A0B\u5E8F\u67B6\u6784","aria-hidden":"true"},"#",-1),etn=s(),ttn={href:"http://interview.poetries.top/excellent-docs/11-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A8%A1%E5%9D%97.html#_5-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%9E%B6%E6%9E%84",target:"_blank",rel:"noopener noreferrer"},ptn=s("#"),otn=s("5 \u5C0F\u7A0B\u5E8F\u67B6\u6784"),ctn=t('<p><img src="https://user-images.githubusercontent.com/2350193/44563914-ff97c380-a792-11e8-8e77-6d0970891e24.png" alt="img"></p><blockquote><p>\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u7684\u6846\u67B6\u5305\u542B\u4E24\u90E8\u5206 <code>View</code> \u89C6\u56FE\u5C42\u3001<code>App Service</code>\u903B\u8F91\u5C42\u3002<code>View</code> \u5C42\u7528\u6765\u6E32\u67D3\u9875\u9762\u7ED3\u6784\uFF0C<code>AppService</code> \u5C42\u7528\u6765\u903B\u8F91\u5904\u7406\u3001\u6570\u636E\u8BF7\u6C42\u3001\u63A5\u53E3\u8C03\u7528\u3002</p></blockquote><p>\u5B83\u4EEC\u5728\u4E24\u4E2A\u7EBF\u7A0B\u91CC\u8FD0\u884C\u3002</p><blockquote><p>\u89C6\u56FE\u5C42\u548C\u903B\u8F91\u5C42\u901A\u8FC7\u7CFB\u7EDF\u5C42\u7684 <code>JSBridage</code> \u8FDB\u884C\u901A\u4FE1\uFF0C\u903B\u8F91\u5C42\u628A\u6570\u636E\u53D8\u5316\u901A\u77E5\u5230\u89C6\u56FE\u5C42\uFF0C\u89E6\u53D1\u89C6\u56FE\u5C42\u9875\u9762\u66F4\u65B0\uFF0C\u89C6\u56FE\u5C42\u628A\u89E6\u53D1\u7684\u4E8B\u4EF6\u901A\u77E5\u5230\u903B\u8F91\u5C42\u8FDB\u884C\u4E1A\u52A1\u5904\u7406</p></blockquote><p><img src="https://user-images.githubusercontent.com/2350193/44186238-db146980-a14a-11e8-8096-bcb8fa6d28b2.png" alt="img"></p><ul><li>\u89C6\u56FE\u5C42\u4F7F\u7528 <code>WebView</code> \u6E32\u67D3\uFF0C<code>iOS</code>\u4E2D\u4F7F\u7528\u81EA\u5E26 <code>WKWebView</code>\uFF0C\u5728 <code>Android</code> \u4F7F\u7528\u817E\u8BAF\u7684 <code>x5</code>\u5185\u6838\uFF08\u57FA\u4E8E <code>Blink</code>\uFF09\u8FD0\u884C\u3002</li><li>\u903B\u8F91\u5C42\u4F7F\u7528\u5728 <code>iOS</code> \u4E2D\u4F7F\u7528\u81EA\u5E26\u7684 <code>JSCore</code> \u8FD0\u884C\uFF0C\u5728 <code>Android</code>\u4E2D\u4F7F\u7528\u817E\u8BAF\u7684 <code>x5</code> \u5185\u6838\uFF08\u57FA\u4E8E <code>Blink</code>\uFF09\u8FD0\u884C\u3002</li><li>\u5F00\u53D1\u5DE5\u5177\u4F7F\u7528 <code>nw.js</code> \u540C\u65F6\u63D0\u4F9B\u4E86\u89C6\u56FE\u5C42\u548C\u903B\u8F91\u5C42\u7684\u8FD0\u884C\u73AF\u5883\u3002</li></ul>',6),ltn={id:"_6-wxml-wxss",tabindex:"-1"},rtn=n("a",{class:"header-anchor",href:"#_6-wxml-wxss","aria-hidden":"true"},"#",-1),itn=s(),utn={href:"http://interview.poetries.top/excellent-docs/11-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A8%A1%E5%9D%97.html#_6-wxml-wxss",target:"_blank",rel:"noopener noreferrer"},ktn=s("#"),dtn=s("6 WXML && WXSS"),btn=t(`<p><strong>WXML</strong></p><ul><li>\u652F\u6301\u6570\u636E\u7ED1\u5B9A</li><li>\u652F\u6301\u903B\u8F91\u7B97\u672F\u3001\u8FD0\u7B97</li><li>\u652F\u6301\u6A21\u677F\u3001\u5F15\u7528</li><li>\u652F\u6301\u6DFB\u52A0\u4E8B\u4EF6\uFF08<code>bindtap</code>\uFF09</li><li><code>Wxml</code>\u7F16\u8BD1\u5668\uFF1A<code>Wcc</code> \u628A <code>Wxml</code>\u6587\u4EF6 \u8F6C\u4E3A <code>JS</code></li><li>\u6267\u884C\u65B9\u5F0F\uFF1A<code>Wcc index.wxml</code></li><li>\u4F7F\u7528 <code>Virtual DOM</code>\uFF0C\u8FDB\u884C\u5C40\u90E8\u66F4\u65B0</li></ul><p><strong>WXSS</strong></p><ul><li>wxss\u7F16\u8BD1\u5668\uFF1A<code>wcsc</code> \u628A<code>wxss</code>\u6587\u4EF6\u8F6C\u5316\u4E3A <code>js</code></li><li>\u6267\u884C\u65B9\u5F0F\uFF1A <code>wcsc index.wxss</code></li></ul><p><strong>\u5C3A\u5BF8\u5355\u4F4D rpx</strong></p><blockquote><p><code>rpx\uFF08responsive pixel</code>\uFF09: \u53EF\u4EE5\u6839\u636E\u5C4F\u5E55\u5BBD\u5EA6\u8FDB\u884C\u81EA\u9002\u5E94\u3002\u89C4\u5B9A\u5C4F\u5E55\u5BBD\u4E3A <code>750rpx</code>\u3002\u516C\u5F0F\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> dsWidth <span class="token operator">=</span> <span class="token number">750</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">screenHeightOfRpx</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">750</span> <span class="token operator">/</span> env<span class="token punctuation">.</span>screenWidth <span class="token operator">*</span> env<span class="token punctuation">.</span>screenHeight
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">rpxToPx</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">rpx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> env<span class="token punctuation">.</span>screenWidth <span class="token operator">/</span> <span class="token number">750</span> <span class="token operator">*</span> rpx
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">pxToRpx</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">px</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">750</span> <span class="token operator">/</span> env<span class="token punctuation">.</span>screenWidth <span class="token operator">*</span> px
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>\u6837\u5F0F\u5BFC\u5165</strong></p><blockquote><p>\u4F7F\u7528 <code>@import</code>\u8BED\u53E5\u53EF\u4EE5\u5BFC\u5165\u5916\u8054\u6837\u5F0F\u8868\uFF0C<code>@import</code>\u540E\u8DDF\u9700\u8981\u5BFC\u5165\u7684\u5916\u8054\u6837\u5F0F\u8868\u7684\u76F8\u5BF9\u8DEF\u5F84\uFF0C\u7528 <code>;</code> \u8868\u793A\u8BED\u53E5\u7ED3\u675F</p></blockquote><p><strong>\u5185\u8054\u6837\u5F0F</strong></p><blockquote><p>\u9759\u6001\u7684\u6837\u5F0F\u7EDF\u4E00\u5199\u5230 <code>class</code> \u4E2D\u3002<code>style</code> \u63A5\u6536\u52A8\u6001\u7684\u6837\u5F0F\uFF0C\u5728\u8FD0\u884C\u65F6\u4F1A\u8FDB\u884C\u89E3\u6790\uFF0C\u8BF7\u5C3D\u91CF\u907F\u514D\u5C06\u9759\u6001\u7684\u6837\u5F0F\u5199\u8FDB <code>style</code> \u4E2D\uFF0C\u4EE5\u514D\u5F71\u54CD\u6E32\u67D3\u901F\u5EA6</p></blockquote><p><strong>\u5168\u5C40\u6837\u5F0F\u4E0E\u5C40\u90E8\u6837\u5F0F</strong></p><blockquote><p>\u5B9A\u4E49\u5728 <code>app.wxss</code> \u4E2D\u7684\u6837\u5F0F\u4E3A\u5168\u5C40\u6837\u5F0F\uFF0C\u4F5C\u7528\u4E8E\u6BCF\u4E00\u4E2A\u9875\u9762\u3002\u5728<code>page</code> \u7684 <code>wxss</code> \u6587\u4EF6\u4E2D\u5B9A\u4E49\u7684\u6837\u5F0F\u4E3A\u5C40\u90E8\u6837\u5F0F\uFF0C\u53EA\u4F5C\u7528\u5728\u5BF9\u5E94\u7684\u9875\u9762\uFF0C\u5E76\u4F1A\u8986\u76D6 <code>app.wxss</code> \u4E2D\u76F8\u540C\u7684\u9009\u62E9\u5668</p></blockquote>`,13),mtn={id:"_7-\u5C0F\u7A0B\u5E8F\u7684\u95EE\u9898",tabindex:"-1"},htn=n("a",{class:"header-anchor",href:"#_7-\u5C0F\u7A0B\u5E8F\u7684\u95EE\u9898","aria-hidden":"true"},"#",-1),_tn=s(),gtn={href:"http://interview.poetries.top/excellent-docs/11-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A8%A1%E5%9D%97.html#_7-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},Etn=s("#"),ftn=s("7 \u5C0F\u7A0B\u5E8F\u7684\u95EE\u9898"),vtn=t(`<ul><li><p>\u5C0F\u7A0B\u5E8F\u4ECD\u7136\u4F7F\u7528 <code>WebView</code> \u6E32\u67D3\uFF0C\u5E76\u975E\u539F\u751F\u6E32\u67D3\u3002\uFF08\u90E8\u5206\u539F\u751F\uFF09</p></li><li><p>\u670D\u52A1\u7AEF\u63A5\u53E3\u8FD4\u56DE\u7684\u5934\u65E0\u6CD5\u6267\u884C\uFF0C\u6BD4\u5982\uFF1A<code>Set-Cookie</code>\u3002</p></li><li><p>\u4F9D\u8D56\u6D4F\u89C8\u5668\u73AF\u5883\u7684 <code>JS</code>\u5E93\u4E0D\u80FD\u4F7F\u7528\u3002</p></li><li><p>\u4E0D\u80FD\u4F7F\u7528 <code>npm</code>\uFF0C\u4F46\u662F\u53EF\u4EE5\u81EA\u642D\u6784\u5EFA\u5DE5\u5177\u6216\u8005\u4F7F\u7528 <code>mpvue</code>\u3002\uFF08\u672A\u6765\u5B98\u65B9\u6709\u8BA1\u5212\u652F\u6301\uFF09</p></li><li><p>\u4E0D\u80FD\u4F7F\u7528 <code>ES7</code>\uFF0C\u53EF\u4EE5\u81EA\u5DF1\u7528<code>babel+webpack</code>\u81EA\u642D\u6216\u8005\u4F7F\u7528 <code>mpvue</code>\u3002</p></li><li><p>\u4E0D\u652F\u6301\u4F7F\u7528\u81EA\u5DF1\u7684\u5B57\u4F53\uFF08\u672A\u6765\u5B98\u65B9\u8BA1\u5212\u652F\u6301\uFF09\u3002</p></li><li><p>\u53EF\u4EE5\u7528 <code>base64</code> \u7684\u65B9\u5F0F\u6765\u4F7F\u7528 <code>iconfont</code>\u3002</p></li><li><p>\u5C0F\u7A0B\u5E8F\u4E0D\u80FD\u53D1\u670B\u53CB\u5708\uFF08\u53EF\u4EE5\u901A\u8FC7\u4FDD\u5B58\u56FE\u7247\u5230\u672C\u5730\uFF0C\u53D1\u56FE\u7247\u5230\u670B\u53CB\u524D\u3002\u4E8C\u7EF4\u7801\u53EF\u4EE5\u4F7F\u7528B\u63A5\u53E3\uFF09\u3002</p></li><li><p>\u83B7\u53D6\u4E8C\u7EF4\u7801/\u5C0F\u7A0B\u5E8F\u63A5\u53E3\u7684\u9650\u5236</p></li><li><p>\u7A0B\u5E8F\u63A8\u9001\u53EA\u80FD\u4F7F\u7528\u201C\u670D\u52A1\u901A\u77E5\u201D \u800C\u4E14\u9700\u8981\u7528\u6237\u4E3B\u52A8\u89E6\u53D1\u63D0\u4EA4 <code>formId</code>\uFF0C<code>formId</code> \u53EA\u67097\u5929\u6709\u6548\u671F\u3002\uFF08\u73B0\u5728\u7684\u505A\u6CD5\u662F\u5728\u6BCF\u4E2A\u9875\u9762\u90FD\u653E\u5165<code>form</code>\u5E76\u4E14\u9690\u85CF\u4EE5\u6B64\u83B7\u53D6\u66F4\u591A\u7684 <code>formId</code>\u3002\u540E\u7AEF\u4F7F\u7528\u539F\u5219\u4E3A\uFF1A\u4F18\u5148\u4F7F\u7528\u6709\u6548\u671F\u6700\u77ED\u7684\uFF09</p></li><li><p>\u5C0F\u7A0B\u5E8F\u5927\u5C0F\u9650\u5236 2M\uFF0C\u5206\u5305\u603B\u8BA1\u4E0D\u8D85\u8FC7 8M</p></li><li><p>\u8F6C\u53D1\uFF08\u5206\u4EAB\uFF09\u5C0F\u7A0B\u5E8F\u4E0D\u80FD\u62FF\u5230\u6210\u529F\u7ED3\u679C\uFF0C\u539F\u6765\u53EF\u4EE5\u3002\u94FE\u63A5\uFF08\u5C0F\u6E38\u620F\u9020\u7684\u5B7D\uFF09</p></li><li><p>\u62FF\u5230\u76F8\u540C\u7684</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>unionId
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5FC5\u987B\u7ED1\u5728\u540C\u4E00\u4E2A\u5F00\u653E\u5E73\u53F0\u4E0B\u3002\u5F00\u653E\u5E73\u53F0\u7ED1\u5B9A\u9650\u5236\uFF1A</p><ul><li><code>50</code>\u4E2A\u79FB\u52A8\u5E94\u7528</li><li><code>10</code>\u4E2A\u7F51\u7AD9</li><li><code>50</code>\u4E2A\u540C\u4E3B\u4F53\u516C\u4F17\u53F7</li><li><code>5</code>\u4E2A\u4E0D\u540C\u4E3B\u4F53\u516C\u4F17\u53F7</li><li><code>50</code>\u4E2A\u540C\u4E3B\u4F53\u5C0F\u7A0B\u5E8F</li><li><code>5</code>\u4E2A\u4E0D\u540C\u4E3B\u4F53\u5C0F\u7A0B\u5E8F</li></ul></li><li><p>\u516C\u4F17\u53F7\u5173\u8054\u5C0F\u7A0B\u5E8F</p><ul><li>\u6240\u6709\u516C\u4F17\u53F7\u90FD\u53EF\u4EE5\u5173\u8054\u5C0F\u7A0B\u5E8F\u3002</li><li>\u4E00\u4E2A\u516C\u4F17\u53F7\u53EF\u5173\u805410\u4E2A\u540C\u4E3B\u4F53\u7684\u5C0F\u7A0B\u5E8F\uFF0C3\u4E2A\u4E0D\u540C\u4E3B\u4F53\u7684\u5C0F\u7A0B\u5E8F\u3002</li><li>\u4E00\u4E2A\u5C0F\u7A0B\u5E8F\u53EF\u5173\u8054500\u4E2A\u516C\u4F17\u53F7\u3002</li><li>\u516C\u4F17\u53F7\u4E00\u4E2A\u6708\u53EF\u65B0\u589E\u5173\u8054\u5C0F\u7A0B\u5E8F13\u6B21\uFF0C\u5C0F\u7A0B\u5E8F\u4E00\u4E2A\u6708\u53EF\u65B0\u589E\u5173\u8054500\u6B21\u3002</li></ul></li><li><p>\u4E00\u4E2A\u516C\u4F17\u53F7\u5173\u8054\u768410\u4E2A\u540C\u4E3B\u4F53\u5C0F\u7A0B\u5E8F\u548C3\u4E2A\u975E\u540C\u4E3B\u4F53\u5C0F\u7A0B\u5E8F\u53EF\u4EE5\u4E92\u76F8\u8DF3\u8F6C</p></li><li><p>\u54C1\u724C\u641C\u7D22\u4E0D\u652F\u6301\u91D1\u878D\u3001\u533B\u7597</p></li><li><p>\u5C0F\u7A0B\u5E8F\u6388\u6743\u9700\u8981\u7528\u6237\u4E3B\u52A8\u70B9\u51FB</p></li><li><p>\u5C0F\u7A0B\u5E8F\u4E0D\u63D0\u4F9B\u6D4B\u8BD5 <code>access_token</code></p></li><li><p>\u5B89\u5353\u7CFB\u7EDF\u4E0B\uFF0C\u5C0F\u7A0B\u5E8F\u6388\u6743\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u4E4B\u540E\uFF0C\u5220\u9664\u5C0F\u7A0B\u5E8F\u518D\u91CD\u65B0\u83B7\u53D6\uFF0C\u5E76\u91CD\u65B0\u6388\u6743\uFF0C\u5F97\u5230\u65E7\u7B7E\u540D\uFF0C\u5BFC\u81F4\u7B2C\u4E00\u6B21\u6388\u6743\u5931\u8D25</p></li><li><p>\u5F00\u53D1\u8005\u5DE5\u5177\u4E0A\uFF0C\u6388\u6743\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u4E4B\u540E\uFF0C\u5982\u679C\u6E05\u7F13\u5B58\u9009\u62E9\u5168\u90E8\u6E05\u9664\uFF0C\u5219\u5373\u4F7F\u4F7F\u7528\u4E86<code>wx.checkSession</code>\uFF0C\u5E76\u4E14\u5728<code>session_key</code>\u6709\u6548\u671F\u5185\uFF0C\u6388\u6743\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u4E5F\u4F1A\u5F97\u5230\u65B0\u7684<code>session_key</code></p></li></ul>`,1),wtn={id:"_8-\u6388\u6743\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u6D41\u7A0B",tabindex:"-1"},ytn=n("a",{class:"header-anchor",href:"#_8-\u6388\u6743\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u6D41\u7A0B","aria-hidden":"true"},"#",-1),xtn=s(),Atn={href:"http://interview.poetries.top/excellent-docs/11-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A8%A1%E5%9D%97.html#_8-%E6%8E%88%E6%9D%83%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF%E6%B5%81%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},Btn=s("#"),qtn=s("8 \u6388\u6743\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u6D41\u7A0B"),jtn=t('<p><img src="https://user-images.githubusercontent.com/35895755/44379940-fa403c00-a53a-11e8-9165-21b217496aad.png" alt="img"></p><ul><li><code>session_key</code> \u6709\u6709\u6548\u671F\uFF0C\u6709\u6548\u671F\u5E76\u6CA1\u6709\u88AB\u544A\u77E5\u5F00\u53D1\u8005\uFF0C\u53EA\u77E5\u9053\u7528\u6237\u8D8A\u9891\u7E41\u4F7F\u7528\u5C0F\u7A0B\u5E8F\uFF0C<code>session_key</code> \u6709\u6548\u671F\u8D8A\u957F</li><li>\u5728\u8C03\u7528 <code>wx.login</code> \u65F6\u4F1A\u76F4\u63A5\u66F4\u65B0 <code>session_key</code>\uFF0C\u5BFC\u81F4\u65E7 <code>session_key</code> \u5931\u6548</li><li>\u5C0F\u7A0B\u5E8F\u5185\u5148\u8C03\u7528 <code>wx.checkSession</code> \u68C0\u67E5\u767B\u5F55\u6001\uFF0C\u5E76\u4FDD\u8BC1\u6CA1\u6709\u8FC7\u671F\u7684 <code>session_key</code> \u4E0D\u4F1A\u88AB\u66F4\u65B0\uFF0C\u518D\u8C03\u7528 <code>wx.login</code> \u83B7\u53D6 <code>code</code>\u3002\u63A5\u7740\u7528\u6237\u6388\u6743\u5C0F\u7A0B\u5E8F\u83B7\u53D6\u7528\u6237\u4FE1\u606F\uFF0C\u5C0F\u7A0B\u5E8F\u62FF\u5230\u52A0\u5BC6\u540E\u7684\u7528\u6237\u6570\u636E\uFF0C\u628A\u52A0\u5BC6\u6570\u636E\u548C <code>code</code> \u4F20\u7ED9\u540E\u7AEF\u670D\u52A1\u3002\u540E\u7AEF\u901A\u8FC7 <code>code</code> \u62FF\u5230 <code>session_key</code> \u5E76\u89E3\u5BC6\u6570\u636E\uFF0C\u5C06\u89E3\u5BC6\u540E\u7684\u7528\u6237\u4FE1\u606F\u8FD4\u56DE\u7ED9\u5C0F\u7A0B\u5E8F</li></ul><p><strong>\u9762\u8BD5\u9898\uFF1A\u5148\u6388\u6743\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u518D login \u4F1A\u53D1\u751F\u4EC0\u4E48\uFF1F</strong></p><p><img src="https://user-images.githubusercontent.com/35895755/44244965-268d4d00-a209-11e8-8ef4-b80cc7a78af7.png" alt="img"></p><p><img src="https://user-images.githubusercontent.com/35895755/44379952-0af0b200-a53b-11e8-86be-640bf651bc9e.png" alt="img"></p><ul><li>\u7528\u6237\u6388\u6743\u65F6\uFF0C\u5F00\u653E\u5E73\u53F0\u4F7F\u7528\u65E7\u7684 <code>session_key</code> \u5BF9\u7528\u6237\u4FE1\u606F\u8FDB\u884C\u52A0\u5BC6\u3002\u8C03\u7528 <code>wx.login</code> \u91CD\u65B0\u767B\u5F55\uFF0C\u4F1A\u5237\u65B0 <code>session_key</code>\uFF0C\u8FD9\u65F6\u540E\u7AEF\u670D\u52A1\u4ECE\u5F00\u653E\u5E73\u53F0\u83B7\u53D6\u5230\u65B0 <code>session_key</code>\uFF0C\u4F46\u662F\u65E0\u6CD5\u5BF9\u8001 <code>session_key</code> \u52A0\u5BC6\u8FC7\u7684\u6570\u636E\u89E3\u5BC6\uFF0C\u7528\u6237\u4FE1\u606F\u83B7\u53D6\u5931\u8D25</li><li>\u5728\u7528\u6237\u4FE1\u606F\u6388\u6743\u4E4B\u524D\u5148\u8C03\u7528 <code>wx.checkSession</code> \u5462\uFF1F<code>wx.checkSession</code> \u68C0\u67E5\u767B\u5F55\u6001\uFF0C\u5E76\u4E14\u4FDD\u8BC1 wx.login \u4E0D\u4F1A\u5237\u65B0 <code>session_key</code>\uFF0C\u4ECE\u800C\u8BA9\u540E\u7AEF\u670D\u52A1\u6B63\u786E\u89E3\u5BC6\u6570\u636E\u3002\u4F46\u662F\u8FD9\u91CC\u5B58\u5728\u4E00\u4E2A\u95EE\u9898\uFF0C\u5982\u679C\u5C0F\u7A0B\u5E8F\u8F83\u957F\u65F6\u95F4\u4E0D\u7528\u5BFC\u81F4 <code>session_key</code> \u8FC7\u671F\uFF0C\u5219 <code>wx.login</code> \u5FC5\u5B9A\u4F1A\u91CD\u65B0\u751F\u6210 <code>session_key</code>\uFF0C\u4ECE\u800C\u518D\u4E00\u6B21\u5BFC\u81F4\u7528\u6237\u4FE1\u606F\u89E3\u5BC6\u5931\u8D25</li></ul>',6),Stn={id:"_9-\u6027\u80FD\u4F18\u5316",tabindex:"-1"},Ctn=n("a",{class:"header-anchor",href:"#_9-\u6027\u80FD\u4F18\u5316","aria-hidden":"true"},"#",-1),Dtn=s(),Ftn={href:"http://interview.poetries.top/excellent-docs/11-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A8%A1%E5%9D%97.html#_9-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},Ptn=s("#"),Ttn=s("9 \u6027\u80FD\u4F18\u5316"),Ntn=t(`<blockquote><p>\u6211\u4EEC\u77E5\u9053<code>view</code>\u90E8\u5206\u662F\u8FD0\u884C\u5728<code>webview</code>\u4E0A\u7684\uFF0C\u6240\u4EE5\u524D\u7AEF\u9886\u57DF\u7684\u5927\u591A\u6570\u4F18\u5316\u65B9\u5F0F\u90FD\u6709\u7528</p></blockquote><p><strong>\u52A0\u8F7D\u4F18\u5316</strong></p><p><img src="https://user-images.githubusercontent.com/2350193/44184904-d8624600-a143-11e8-8ab9-c932573bd243.png" alt="img"></p><blockquote><p>\u4EE3\u7801\u5305\u7684\u5927\u5C0F\u662F\u6700\u76F4\u63A5\u5F71\u54CD\u5C0F\u7A0B\u5E8F\u52A0\u8F7D\u542F\u52A8\u901F\u5EA6\u7684\u56E0\u7D20\u3002\u4EE3\u7801\u5305\u8D8A\u5927\u4E0D\u4EC5\u4E0B\u8F7D\u901F\u5EA6\u65F6\u95F4\u957F\uFF0C\u4E1A\u52A1\u4EE3\u7801\u6CE8\u5165\u65F6\u95F4\u4E5F\u4F1A\u53D8\u957F\u3002\u6240\u4EE5\u6700\u597D\u7684\u4F18\u5316\u65B9\u5F0F\u5C31\u662F\u51CF\u5C11\u4EE3\u7801\u5305\u7684\u5927\u5C0F</p></blockquote><p>\u5C0F\u7A0B\u5E8F\u52A0\u8F7D\u7684\u4E09\u4E2A\u9636\u6BB5\u7684\u8868\u793A</p><p><img src="https://user-images.githubusercontent.com/2350193/44184987-4c9ce980-a144-11e8-9f28-764209b37341.png" alt="img"></p><p><strong>\u4F18\u5316\u65B9\u5F0F</strong></p><ul><li>\u4EE3\u7801\u538B\u7F29\u3002</li><li>\u53CA\u65F6\u6E05\u7406\u65E0\u7528\u4EE3\u7801\u548C\u8D44\u6E90\u6587\u4EF6\u3002</li><li>\u51CF\u5C11\u4EE3\u7801\u5305\u4E2D\u7684\u56FE\u7247\u7B49\u8D44\u6E90\u6587\u4EF6\u7684\u5927\u5C0F\u548C\u6570\u91CF\u3002</li><li>\u5206\u5305\u52A0\u8F7D\u3002</li></ul><p><strong>\u9996\u5C4F\u52A0\u8F7D\u7684\u4F53\u9A8C\u4F18\u5316\u5EFA\u8BAE</strong></p><ul><li>\u63D0\u524D\u8BF7\u6C42: \u5F02\u6B65\u6570\u636E\u8BF7\u6C42\u4E0D\u9700\u8981\u7B49\u5F85\u9875\u9762\u6E32\u67D3\u5B8C\u6210\u3002</li><li>\u5229\u7528\u7F13\u5B58: \u5229\u7528 <code>storage API</code> \u5BF9\u5F02\u6B65\u8BF7\u6C42\u6570\u636E\u8FDB\u884C\u7F13\u5B58\uFF0C\u4E8C\u6B21\u542F\u52A8\u65F6\u5148\u5229\u7528\u7F13\u5B58\u6570\u636E\u6E32\u67D3\u9875\u9762\uFF0C\u5728\u8FDB\u884C\u540E\u53F0\u66F4\u65B0\u3002</li><li>\u907F\u514D\u767D\u5C4F\uFF1A\u5148\u5C55\u793A\u9875\u9762\u9AA8\u67B6\u9875\u548C\u57FA\u7840\u5185\u5BB9\u3002</li><li>\u53CA\u65F6\u53CD\u9988\uFF1A\u5373\u65F6\u5730\u5BF9\u9700\u8981\u7528\u6237\u7B49\u5F85\u7684\u4EA4\u4E92\u64CD\u4F5C\u7ED9\u51FA\u53CD\u9988\uFF0C\u907F\u514D\u7528\u6237\u4EE5\u4E3A\u5C0F\u7A0B\u5E8F\u65E0\u54CD\u5E94</li></ul><p><strong>\u4F7F\u7528\u5206\u5305\u52A0\u8F7D\u4F18\u5316</strong></p><p><img src="https://user-images.githubusercontent.com/2350193/44185607-2298f680-a147-11e8-8440-24ca42033623.png" alt="img"></p><ul><li>\u5728\u6784\u5EFA\u5C0F\u7A0B\u5E8F\u5206\u5305\u9879\u76EE\u65F6\uFF0C\u6784\u5EFA\u4F1A\u8F93\u51FA\u4E00\u4E2A\u6216\u591A\u4E2A\u529F\u80FD\u7684\u5206\u5305\uFF0C\u5176\u4E2D\u6BCF\u4E2A\u5206\u5305\u5C0F\u7A0B\u5E8F\u5FC5\u5B9A\u542B\u6709\u4E00\u4E2A\u4E3B\u5305\uFF0C\u6240\u8C13\u7684\u4E3B\u5305\uFF0C\u5373\u653E\u7F6E\u9ED8\u8BA4\u542F\u52A8\u9875\u9762/<code>TabBar</code> \u9875\u9762\uFF0C\u4EE5\u53CA\u4E00\u4E9B\u6240\u6709\u5206\u5305\u90FD\u9700\u7528\u5230\u516C\u5171\u8D44\u6E90/<code>JS</code> \u811A\u672C\uFF0C\u800C\u5206\u5305\u5219\u662F\u6839\u636E\u5F00\u53D1\u8005\u7684\u914D\u7F6E\u8FDB\u884C\u5212\u5206</li><li>\u5728\u5C0F\u7A0B\u5E8F\u542F\u52A8\u65F6\uFF0C\u9ED8\u8BA4\u4F1A\u4E0B\u8F7D\u4E3B\u5305\u5E76\u542F\u52A8\u4E3B\u5305\u5185\u9875\u9762\uFF0C\u5982\u679C\u7528\u6237\u9700\u8981\u6253\u5F00\u5206\u5305\u5185\u67D0\u4E2A\u9875\u9762\uFF0C\u5BA2\u6237\u7AEF\u4F1A\u628A\u5BF9\u5E94\u5206\u5305\u4E0B\u8F7D\u4E0B\u6765\uFF0C\u4E0B\u8F7D\u5B8C\u6210\u540E\u518D\u8FDB\u884C\u5C55\u793A\u3002</li></ul><p><strong>\u4F18\u70B9</strong>\uFF1A</p><ul><li>\u5BF9\u5F00\u53D1\u8005\u800C\u8A00\uFF0C\u80FD\u4F7F\u5C0F\u7A0B\u5E8F\u6709\u66F4\u5927\u7684\u4EE3\u7801\u4F53\u79EF\uFF0C\u627F\u8F7D\u66F4\u591A\u7684\u529F\u80FD\u4E0E\u670D\u52A1</li><li>\u5BF9\u7528\u6237\u800C\u8A00\uFF0C\u53EF\u4EE5\u66F4\u5FEB\u5730\u6253\u5F00\u5C0F\u7A0B\u5E8F\uFF0C\u540C\u65F6\u5728\u4E0D\u5F71\u54CD\u542F\u52A8\u901F\u5EA6\u524D\u63D0\u4E0B\u4F7F\u7528\u66F4\u591A\u529F\u80FD</li></ul><p><strong>\u9650\u5236</strong></p><ul><li>\u6574\u4E2A\u5C0F\u7A0B\u5E8F\u6240\u6709\u5206\u5305\u5927\u5C0F\u4E0D\u8D85\u8FC7 <code>8M</code></li><li>\u5355\u4E2A\u5206\u5305/\u4E3B\u5305\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7 <code>2M</code></li><li>\u539F\u751F\u5206\u5305\u52A0\u8F7D\u7684\u914D\u7F6E \u5047\u8BBE\u652F\u6301\u5206\u5305\u7684\u5C0F\u7A0B\u5E8F\u76EE\u5F55\u7ED3\u6784\u5982\u4E0B</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u251C\u2500\u2500 app.js
\u251C\u2500\u2500 app.json
\u251C\u2500\u2500 app.wxss
\u251C\u2500\u2500 packageA
\u2502   \u2514\u2500\u2500 pages
\u2502       \u251C\u2500\u2500 cat
\u2502       \u2514\u2500\u2500 dog
\u251C\u2500\u2500 packageB
\u2502   \u2514\u2500\u2500 pages
\u2502       \u251C\u2500\u2500 apple
\u2502       \u2514\u2500\u2500 banana
\u251C\u2500\u2500 pages
\u2502   \u251C\u2500\u2500 index
\u2502   \u2514\u2500\u2500 logs
\u2514\u2500\u2500 utils
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><p>\u5F00\u53D1\u8005\u901A\u8FC7\u5728 <code>app.json</code> <code>subPackages</code> \u5B57\u6BB5\u58F0\u660E\u9879\u76EE\u5206\u5305\u7ED3\u6784</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;pages&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token string">&quot;pages/index&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;pages/logs&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;subPackages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;root&quot;</span><span class="token operator">:</span> <span class="token string">&quot;packageA&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;pages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;pages/cat&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;pages/dog&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;root&quot;</span><span class="token operator">:</span> <span class="token string">&quot;packageB&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;pages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;pages/apple&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;pages/banana&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>\u5206\u5305\u539F\u5219</strong></p><ul><li>\u58F0\u660E <code>subPackages</code> \u540E\uFF0C\u5C06\u6309 <code>subPackages</code> \u914D\u7F6E\u8DEF\u5F84\u8FDB\u884C\u6253\u5305\uFF0C<code>subPackages</code> \u914D\u7F6E\u8DEF\u5F84\u5916\u7684\u76EE\u5F55\u5C06\u88AB\u6253\u5305\u5230 <code>app</code>\uFF08\u4E3B\u5305\uFF09 \u4E2D</li><li><code>app</code>\uFF08\u4E3B\u5305\uFF09\u4E5F\u53EF\u4EE5\u6709\u81EA\u5DF1\u7684 <code>pages</code>\uFF08\u5373\u6700\u5916\u5C42\u7684 <code>pages</code> \u5B57\u6BB5</li><li><code>subPackage</code> \u7684\u6839\u76EE\u5F55\u4E0D\u80FD\u662F\u53E6\u5916\u4E00\u4E2A <code>subPackage</code> \u5185\u7684\u5B50\u76EE\u5F55</li><li>\u9996\u9875\u7684 <code>TAB</code>\u9875\u9762\u5FC5\u987B\u5728 <code>app</code>\uFF08\u4E3B\u5305\uFF09\u5185</li></ul><p><strong>\u5F15\u7528\u539F\u5219</strong></p><ul><li>\`\`packageA<code>\u65E0\u6CD5</code>require packageB JS <code>\u6587\u4EF6\uFF0C\u4F46\u53EF\u4EE5</code>require app<code>\u3001\u81EA\u5DF1</code>package<code>\u5185\u7684</code>JS\` \u6587\u4EF6</li><li>\`\`packageA<code>\u65E0\u6CD5</code>import packageB<code>\u7684</code>template<code>\uFF0C\u4F46\u53EF\u4EE5</code>require app<code>\u3001\u81EA\u5DF1</code>package<code>\u5185\u7684</code>template\`</li><li>\`\`packageA <code>\u65E0\u6CD5\u4F7F\u7528</code>packageB<code>\u7684\u8D44\u6E90\uFF0C\u4F46\u53EF\u4EE5\u4F7F\u7528</code>app<code>\u3001\u81EA\u5DF1</code>package\` \u5185\u7684\u8D44\u6E90</li></ul><blockquote><p>\u5B98\u65B9\u5373\u5C06\u63A8\u51FA \u5206\u5305\u9884\u52A0\u8F7D</p></blockquote><p><img src="https://user-images.githubusercontent.com/2350193/44185655-63910b00-a147-11e8-9987-40f235ae08e9.png" alt="img"></p><p>\u72EC\u7ACB\u5206\u5305</p><p><img src="https://user-images.githubusercontent.com/2350193/44185690-96d39a00-a147-11e8-9647-bd1cbc017f5a.png" alt="img"></p><p><strong>\u6E32\u67D3\u6027\u80FD\u4F18\u5316</strong></p><p><img src="https://user-images.githubusercontent.com/2350193/44185879-af907f80-a148-11e8-8dcb-22aadd4e49a6.png" alt="img"></p><ul><li>\u6BCF\u6B21 <code>setData</code> \u7684\u8C03\u7528\u90FD\u662F\u4E00\u6B21\u8FDB\u7A0B\u95F4\u901A\u4FE1\u8FC7\u7A0B\uFF0C\u901A\u4FE1\u5F00\u9500\u4E0E <code>setData</code> \u7684\u6570\u636E\u91CF\u6B63\u76F8\u5173\u3002</li><li><code>setData</code> \u4F1A\u5F15\u53D1\u89C6\u56FE\u5C42\u9875\u9762\u5185\u5BB9\u7684\u66F4\u65B0\uFF0C\u8FD9\u4E00\u8017\u65F6\u64CD\u4F5C\u4E00\u5B9A\u65F6\u95F4\u4E2D\u4F1A\u963B\u585E\u7528\u6237\u4EA4\u4E92\u3002</li><li><code>setData</code> \u662F\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u4F7F\u7528\u6700\u9891\u7E41\uFF0C\u4E5F\u662F\u6700\u5BB9\u6613\u5F15\u53D1\u6027\u80FD\u95EE\u9898\u7684</li></ul><p><strong>\u907F\u514D\u4E0D\u5F53\u4F7F\u7528 setData</strong></p><ul><li>\u4F7F\u7528 <code>data</code> \u5728\u65B9\u6CD5\u95F4\u5171\u4EAB\u6570\u636E\uFF0C\u53EF\u80FD\u589E\u52A0 <code>setData</code>\u4F20\u8F93\u7684\u6570\u636E\u91CF\u3002\u3002<code>data</code> \u5E94\u4EC5\u5305\u62EC\u4E0E\u9875\u9762\u6E32\u67D3\u76F8\u5173\u7684\u6570\u636E\u3002</li><li>\u4F7F\u7528 <code>setData</code> \u4F20\u8F93\u5927\u91CF\u6570\u636E\uFF0C\u901A\u8BAF\u8017\u65F6\u4E0E\u6570\u636E\u6B63\u76F8\u5173\uFF0C\u9875\u9762\u66F4\u65B0\u5EF6\u8FDF\u53EF\u80FD\u9020\u6210\u9875\u9762\u66F4\u65B0\u5F00\u9500\u589E\u52A0\u3002\u4EC5\u4F20\u8F93\u9875\u9762\u4E2D\u53D1\u751F\u53D8\u5316\u7684\u6570\u636E\uFF0C\u4F7F\u7528 <code>setData</code> \u7684\u7279\u6B8A <code>key</code>\u5B9E\u73B0\u5C40\u90E8\u66F4\u65B0\u3002</li><li>\u77ED\u65F6\u95F4\u5185\u9891\u7E41\u8C03\u7528 <code>setData</code>\uFF0C\u64CD\u4F5C\u5361\u987F\uFF0C\u4EA4\u4E92\u5EF6\u8FDF\uFF0C\u963B\u585E\u901A\u4FE1\uFF0C\u9875\u9762\u6E32\u67D3\u5EF6\u8FDF\u3002\u907F\u514D\u4E0D\u5FC5\u8981\u7684 <code>setData</code>\uFF0C\u5BF9\u8FDE\u7EED\u7684<code>setData</code>\u8C03\u7528\u8FDB\u884C\u5408\u5E76\u3002</li><li>\u5728\u540E\u53F0\u9875\u9762\u8FDB\u884C <code>setData</code>\uFF0C\u62A2\u5360\u524D\u53F0\u9875\u9762\u7684\u6E32\u67D3\u8D44\u6E90\u3002\u9875\u9762\u5207\u5165\u540E\u53F0\u540E\u7684 <code>setData</code> \u8C03\u7528\uFF0C\u5EF6\u8FDF\u5230\u9875\u9762\u91CD\u65B0\u5C55\u793A\u65F6\u6267\u884C\u3002</li></ul><p><img src="https://user-images.githubusercontent.com/2350193/44186238-db146980-a14a-11e8-8096-bcb8fa6d28b2.png" alt="img"></p><p><strong>\u907F\u514D\u4E0D\u5F53\u4F7F\u7528onPageScroll</strong></p><ul><li>\u53EA\u5728\u6709\u5FC5\u8981\u7684\u65F6\u5019\u76D1\u542C <code>pageScroll</code> \u4E8B\u4EF6\u3002\u4E0D\u76D1\u542C\uFF0C\u5219\u4E0D\u4F1A\u6D3E\u53D1\u3002</li><li>\u907F\u514D\u5728 <code>onPageScroll</code> \u4E2D\u6267\u884C\u590D\u6742\u903B\u8F91</li><li>\u907F\u514D\u5728 <code>onPageScroll</code> \u4E2D\u9891\u7E41\u8C03\u7528 <code>setData</code></li><li>\u907F\u514D\u6ED1\u52A8\u65F6\u9891\u7E41\u67E5\u8BE2\u8282\u70B9\u4FE1\u606F\uFF08<code>SelectQuery</code>\uFF09\u7528\u4EE5\u5224\u65AD\u662F\u5426\u663E\u793A\uFF0C\u90E8\u5206\u573A\u666F\u5EFA\u8BAE\u4F7F\u7528\u8282\u70B9\u5E03\u5C40\u6A61\u80F6\u72B6\u6001\u76D1\u542C\uFF08<code>inersectionObserver</code>\uFF09\u66FF\u4EE3</li></ul><p><strong>\u4F7F\u7528\u81EA\u5B9A\u4E49\u7EC4\u4EF6</strong></p><blockquote><p>\u5728\u9700\u8981\u9891\u7E41\u66F4\u65B0\u7684\u573A\u666F\u4E0B\uFF0C\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u7684\u66F4\u65B0\u53EA\u5728\u7EC4\u4EF6\u5185\u90E8\u8FDB\u884C\uFF0C\u4E0D\u53D7\u9875\u9762\u5176\u4ED6\u90E8\u5206\u5185\u5BB9\u590D\u6742\u6027\u5F71\u54CD</p></blockquote>`,38),Mtn={id:"_10-wepy-vs-mpvue",tabindex:"-1"},Otn=n("a",{class:"header-anchor",href:"#_10-wepy-vs-mpvue","aria-hidden":"true"},"#",-1),Itn=s(),Rtn={href:"http://interview.poetries.top/excellent-docs/11-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A8%A1%E5%9D%97.html#_10-wepy-vs-mpvue",target:"_blank",rel:"noopener noreferrer"},Vtn=s("#"),Htn=s("10 wepy vs mpvue"),Ltn=t(`<p><strong>\u6570\u636E\u6D41\u7BA1\u7406</strong></p><blockquote><p>\u76F8\u6BD4\u4F20\u7EDF\u7684\u5C0F\u7A0B\u5E8F\u6846\u67B6\uFF0C\u8FD9\u4E2A\u4E00\u76F4\u662F\u6211\u4EEC\u4F5C\u4E3A\u8D44\u6DF1\u5F00\u53D1\u8005\u6BD4\u8F83\u671F\u671B\u53BB\u89E3\u51B3\u7684\uFF0C\u5728 <code>Web</code> \u5F00\u53D1\u4E2D\uFF0C\u968F\u7740 <code>Flux</code>\u3001<code>Redu</code>x\u3001<code>Vuex</code> \u7B49\u591A\u4E2A\u6570\u636E\u6D41\u5DE5\u5177\u51FA\u73B0\uFF0C\u6211\u4EEC\u4E5F\u671F\u671B\u5728\u4E1A\u52A1\u590D\u6742\u7684\u5C0F\u7A0B\u5E8F\u4E2D\u4F7F\u7528</p></blockquote><ul><li><code>WePY</code> \u9ED8\u8BA4\u652F\u6301 <code>Redux</code>\uFF0C\u5728\u811A\u624B\u67B6\u751F\u6210\u9879\u76EE\u7684\u65F6\u5019\u53EF\u4EE5\u5185\u7F6E</li><li><code>Mpvue</code> \u4F5C\u4E3A <code>Vue</code> \u7684\u79FB\u690D\u7248\u672C\uFF0C\u5F53\u7136\u652F\u6301 <code>Vuex</code>\uFF0C\u540C\u6837\u5728\u811A\u624B\u67B6\u751F\u6210\u9879\u76EE\u7684\u65F6\u5019\u53EF\u4EE5\u5185\u7F6E</li></ul><p><strong>\u7EC4\u4EF6\u5316</strong></p><ul><li><code>WePY</code> \u7C7B\u4F3C <code>Vue</code>\u5B9E\u73B0\u4E86\u5355\u6587\u4EF6\u7EC4\u4EF6\uFF0C\u6700\u5927\u7684\u5DEE\u522B\u662F\u6587\u4EF6\u540E\u7F00 <code>.wpy</code>\uFF0C\u53EA\u662F\u5199\u6CD5\u4E0A\u4F1A\u6709\u5DEE\u5F02</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">wepy<span class="token punctuation">.</span>page</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>Mpvue</code> \u4F5C\u4E3A <code>Vue</code> \u7684\u79FB\u690D\u7248\u672C\uFF0C\u652F\u6301\u5355\u6587\u4EF6\u7EC4\u4EF6\uFF0C<code>template</code>\u3001<code>script</code> \u548C <code>style</code> \u90FD\u5728\u4E00\u4E2A <code>.vue</code> \u6587\u4EF6\u4E2D\uFF0C\u548C <code>vue</code> \u7684\u5199\u6CD5\u7C7B\u4F3C\uFF0C\u6240\u4EE5\u5BF9 <code>Vue</code> \u5F00\u53D1\u719F\u6089\u7684\u540C\u5B66\u4F1A\u6BD4\u8F83\u9002\u5E94</li></ul><p><strong>\u5DE5\u7A0B\u5316</strong></p><blockquote><p>\u6240\u6709\u7684\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u4F9D\u8D56\u5B98\u65B9\u63D0\u4F9B\u7684\u5F00\u53D1\u8005\u5DE5\u5177\u3002\u5F00\u53D1\u8005\u5DE5\u5177\u7B80\u5355\u76F4\u89C2\uFF0C\u5BF9\u8C03\u8BD5\u5C0F\u7A0B\u5E8F\u5F88\u6709\u5E2E\u52A9\uFF0C\u73B0\u5728\u4E5F\u652F\u6301\u817E\u8BAF\u4E91\uFF08\u76EE\u524D\u6211\u4EEC\u8FD8\u6CA1\u6709\u4F7F\u7528\uFF0C\u4F46\u662F\u5BF9\u65B0\u7684\u4E00\u4E9B\u5F00\u53D1\u8005\u8FD8\u662F\u6709\u5E2E\u52A9\u7684\uFF09\uFF0C\u53EF\u4EE5\u7533\u8BF7\u6D4B\u8BD5\u62A5\u544A\u67E5\u770B\u5C0F\u7A0B\u5E8F\u5728\u771F\u5B9E\u7684\u79FB\u52A8\u8BBE\u5907\u4E0A\u8FD0\u884C\u6027\u80FD\u548C\u8FD0\u884C\u6548\u679C\uFF0C\u4F46\u662F\u5B83\u672C\u8EAB\u6CA1\u6709\u7C7B\u4F3C\u524D\u7AEF\u5DE5\u7A0B\u5316\u4E2D\u7684\u6982\u5FF5\u548C\u5DE5\u5177</p></blockquote><ul><li><code>wepy</code> \u5185\u7F6E\u4E86\u6784\u5EFA\uFF0C\u901A\u8FC7 <code>wepy init</code> \u547D\u4EE4\u521D\u59CB\u5316\u9879\u76EE\uFF0C\u5927\u81F4\u6D41\u7A0B\u5982\u4E0B\uFF1A <ul><li><code>wepy-cli</code> \u4F1A\u5224\u65AD\u6A21\u7248\u662F\u5728\u8FDC\u7A0B\u4ED3\u5E93\u8FD8\u662F\u5728\u672C\u5730\uFF0C\u5982\u679C\u5728\u672C\u5730\u5219\u4F1A\u7ACB\u5373\u8DF3\u5230\u7B2C <code>3</code> \u6B65\uFF0C\u53CD\u4E4B\u7EE7\u7EED\u8FDB\u884C\u3002</li><li>\u4F1A\u4ECE\u8FDC\u7A0B\u4ED3\u5E93\u4E0B\u8F7D\u6A21\u7248\uFF0C\u5E76\u4FDD\u5B58\u5230\u672C\u5730\u3002</li><li>\u8BE2\u95EE\u5F00\u53D1\u8005 <code>Project name</code> \u7B49\u95EE\u9898\uFF0C\u4F9D\u636E\u5F00\u53D1\u8005\u7684\u56DE\u7B54\uFF0C\u521B\u5EFA\u9879\u76EE</li></ul></li><li><code>mpvue</code> \u6CBF\u7528\u4E86 <code>vue</code> \u4E2D\u63A8\u5D07\u7684 <code>webpack</code>\u4F5C\u4E3A\u6784\u5EFA\u5DE5\u5177\uFF0C\u4F46\u540C\u65F6\u63D0\u4F9B\u4E86\u4E00\u4E9B\u81EA\u5DF1\u7684\u63D2\u4EF6\u4EE5\u53CA\u914D\u7F6E\u6587\u4EF6\u7684\u4E00\u4E9B\u4FEE\u6539\uFF0C\u6BD4\u5982 <ul><li>\u4E0D\u518D\u9700\u8981 <code>html-webpack-plugin</code></li><li>\u57FA\u4E8E <code>webpack-dev-middleware</code> \u4FEE\u6539\u6210 <code>webpack-dev-middleware-hard-disk</code></li><li>\u6700\u5927\u7684\u53D8\u5316\u662F\u57FA\u4E8E <code>webpack-loader</code> \u4FEE\u6539\u6210 <code>mpvue-loader</code></li><li>\u4F46\u662F\u914D\u7F6E\u65B9\u5F0F\u8FD8\u662F\u7C7B\u4F3C\uFF0C\u5206\u73AF\u5883\u914D\u7F6E\u6587\u4EF6\uFF0C\u6700\u7EC8\u90FD\u4F1A\u7F16\u8BD1\u6210\u5C0F\u7A0B\u5E8F\u652F\u6301\u7684\u76EE\u5F55\u7ED3\u6784\u548C\u6587\u4EF6\u540E\u7F00</li></ul></li></ul>`,10),Utn={id:"_11-mpvue",tabindex:"-1"},Jtn=n("a",{class:"header-anchor",href:"#_11-mpvue","aria-hidden":"true"},"#",-1),Wtn=s(),ztn={href:"http://interview.poetries.top/excellent-docs/11-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A8%A1%E5%9D%97.html#_11-mpvue",target:"_blank",rel:"noopener noreferrer"},Gtn=s("#"),$tn=s("11 mpvue"),Xtn=t(`<p>mpvue</p><p><code>Vue.js</code> \u5C0F\u7A0B\u5E8F\u7248, <code>fork</code> \u81EA <code>vuejs/vue@2.4.1</code>\uFF0C\u4FDD\u7559\u4E86 <code>vue runtime</code> \u80FD\u529B\uFF0C\u6DFB\u52A0\u4E86\u5C0F\u7A0B\u5E8F\u5E73\u53F0\u7684\u652F\u6301\u3002 <code>mpvue</code> \u662F\u4E00\u4E2A\u4F7F\u7528 <code>Vue.js</code> \u5F00\u53D1\u5C0F\u7A0B\u5E8F\u7684\u524D\u7AEF\u6846\u67B6\u3002\u6846\u67B6\u57FA\u4E8E <code>Vue.js</code> \u6838\u5FC3\uFF0C<code>mpvue</code> \u4FEE\u6539\u4E86 <code>Vue.js</code> \u7684 <code>runtime</code> \u548C <code>compiler</code> \u5B9E\u73B0\uFF0C\u4F7F\u5176\u53EF\u4EE5\u8FD0\u884C\u5728\u5C0F\u7A0B\u5E8F\u73AF\u5883\u4E2D\uFF0C\u4ECE\u800C\u4E3A\u5C0F\u7A0B\u5E8F\u5F00\u53D1\u5F15\u5165\u4E86\u6574\u5957 <code>Vue.js</code> \u5F00\u53D1\u4F53\u9A8C</p><p><strong>\u6846\u67B6\u539F\u7406</strong></p><blockquote><p>\u4E24\u4E2A\u5927\u65B9\u5411</p></blockquote><ul><li>\u901A\u8FC7<code>mpvue</code>\u63D0\u4F9B <code>mp</code> \u7684 <code>runtime</code> \u9002\u914D\u5C0F\u7A0B\u5E8F</li><li>\u901A\u8FC7<code>mpvue-loader</code>\u4EA7\u51FA\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u6240\u9700\u8981\u7684\u6587\u4EF6\u7ED3\u6784\u548C\u6A21\u5757\u5185\u5BB9</li></ul><blockquote><p>\u4E03\u4E2A\u5177\u4F53\u95EE\u9898</p></blockquote><ul><li>\u8981\u4E86\u89E3 <code>mpvue</code> \u539F\u7406\u5FC5\u7136\u8981\u4E86\u89E3 <code>Vue</code> \u539F\u7406\uFF0C\u8FD9\u662F\u5927\u524D\u63D0</li></ul><p>\u73B0\u5728\u5047\u8BBE\u60A8\u5BF9 Vue \u539F\u7406\u6709\u4E2A\u5927\u6982\u7684\u4E86\u89E3</p><ul><li>\u7531\u4E8E <code>Vue</code> \u4F7F\u7528\u4E86 <code>Virtual DOM</code>\uFF0C\u6240\u4EE5 <code>Virtual DOM</code>\u53EF\u4EE5\u5728\u4EFB\u4F55\u652F\u6301 <code>JavaScript</code> \u8BED\u8A00\u7684\u5E73\u53F0\u4E0A\u64CD\u4F5C\uFF0C\u8B6C\u5982\u8BF4\u76EE\u524D <code>Vue</code> \u652F\u6301\u6D4F\u89C8\u5668\u5E73\u53F0\u6216 <code>weex</code>\uFF0C\u4E5F\u53EF\u4EE5\u662F <code>mp</code>(\u5C0F\u7A0B\u5E8F)\u3002\u90A3\u4E48\u6700\u540E <code>Virtual DOM</code> \u5982\u4F55\u6620\u5C04\u5230\u771F\u5B9E\u7684 <code>DOM</code>\u8282\u70B9\u4E0A\u5462\uFF1F<code>vue</code>\u4E3A\u5E73\u53F0\u505A\u4E86\u4E00\u5C42\u9002\u914D\u5C42\uFF0C\u6D4F\u89C8\u5668\u5E73\u53F0\u89C1 <code>runtime/node-ops.js</code>\u3001<code>weex</code>\u5E73\u53F0\u89C1<code>runtime/node-ops.js</code>\uFF0C\u5C0F\u7A0B\u5E8F\u89C1<code>runtime/node-ops.js</code>\u3002\u4E0D\u540C\u5E73\u53F0\u4E4B\u95F4\u901A\u8FC7\u9002\u914D\u5C42\u5BF9\u5916\u63D0\u4F9B\u76F8\u540C\u7684\u63A5\u53E3\uFF0C<code>Virtual DOM</code>\u8FDB\u884C\u64CD\u4F5C<code>Real DOM</code>\u8282\u70B9\u7684\u65F6\u5019\uFF0C\u53EA\u9700\u8981\u8C03\u7528\u8FD9\u4E9B\u9002\u914D\u5C42\u7684\u63A5\u53E3\u5373\u53EF\uFF0C\u800C\u5185\u90E8\u5B9E\u73B0\u5219\u4E0D\u9700\u8981\u5173\u5FC3\uFF0C\u5B83\u4F1A\u6839\u636E\u5E73\u53F0\u7684\u6539\u53D8\u800C\u6539\u53D8</li><li>\u6240\u4EE5\u601D\u8DEF\u80AF\u5B9A\u662F\u5F80\u589E\u52A0\u4E00\u4E2A <code>mp</code> \u5E73\u53F0\u7684 <code>runtime</code>\u65B9\u5411\u8D70\u3002\u4F46\u95EE\u9898\u662F\u5C0F\u7A0B\u5E8F\u4E0D\u80FD\u64CD\u4F5C <code>DOM</code>\uFF0C\u6240\u4EE5 <code>mp</code> \u4E0B\u7684<code>node-ops.js</code>\u91CC\u9762\u7684\u5B9E\u73B0\u90FD\u662F\u76F4\u63A5 <code>return obj</code></li><li>\u65B0 <code>Virtual DOM</code> \u548C\u65E7 <code>Virtual DOM</code> \u4E4B\u95F4\u9700\u8981\u505A\u4E00\u4E2A <code>patch</code>\uFF0C\u627E\u51FA <code>diff</code>\u3002<code>patch</code>\u5B8C\u4E86\u4E4B\u540E\u7684 <code>diff</code> \u600E\u4E48\u66F4\u65B0\u89C6\u56FE\uFF0C\u4E5F\u5C31\u662F\u5982\u4F55\u7ED9\u8FD9\u4E9B <code>DOM</code> \u52A0\u5165 <code>attr</code>\u3001<code>class</code>\u3001<code>style</code>\u7B49 DOM \u5C5E\u6027\u5462\uFF1F <code>Vue</code>\u4E2D\u6709 <code>nextTick</code> \u7684\u6982\u5FF5\u7528\u4EE5\u66F4\u65B0\u89C6\u56FE\uFF0C<code>mpvue</code>\u8FD9\u5757\u5BF9\u4E8E\u5C0F\u7A0B\u5E8F\u7684 <code>setData</code> \u5E94\u8BE5\u600E\u4E48\u5904\u7406\u5462\uFF1F</li><li>\u53E6\u5916\u4E2A\u95EE\u9898\u5728\u4E8E\u5C0F\u7A0B\u5E8F\u7684 <code>Virtual DOM</code> \u600E\u4E48\u751F\u6210\uFF1F\u4E5F\u5C31\u662F\u600E\u4E48\u5C06 <code>template</code>\u7F16\u8BD1\u6210<code>render function</code>\u3002\u8FD9\u5F53\u4E2D\u8FD8\u6D89\u53CA\u5230\u8FD0\u884C\u65F6-\u7F16\u8BD1\u5668-vs-\u53EA\u5305\u542B\u8FD0\u884C\u65F6\uFF0C\u663E\u7136\u5982\u679C\u8981\u63D0\u9AD8\u6027\u80FD\u3001\u51CF\u5C11\u5305\u5927\u5C0F\u3001\u8F93\u51FA <code>wxml</code>\u3001<code>mpvue</code> \u4E5F\u8981\u63D0\u4F9B\u9884\u7F16\u8BD1\u7684\u80FD\u529B\u3002\u56E0\u4E3A\u8981\u9884\u8F93\u51FA <code>wxml</code> \u4E14\u6CA1\u6CD5\u52A8\u6001\u6539\u53D8 <code>DOM</code>\uFF0C\u6240\u4EE5\u52A8\u6001\u7EC4\u4EF6\uFF0C\u81EA\u5B9A\u4E49 <code>render</code>\uFF0C\u548C<code>&lt;script type=&quot;text/x-template&quot;&gt;</code>\u5B57\u7B26\u4E32\u6A21\u7248\u7B49\u90FD\u4E0D\u652F\u6301</li></ul><p><strong>\u53E6\u5916\u8FD8\u6709\u4E00\u4E9B\u5176\u4ED6\u95EE\u9898\uFF0C\u6700\u540E\u603B\u7ED3\u4E00\u4E0B</strong></p><ul><li>1.\u5982\u4F55\u9884\u7F16\u8BD1\u751F\u6210<code>render function</code></li><li>2.\u5982\u4F55\u9884\u7F16\u8BD1\u751F\u6210 <code>wxml</code>\uFF0C<code>wxss</code>\uFF0C<code>wxs</code></li><li>3.\u5982\u4F55 p<code>atch</code> \u51FA <code>diff</code></li><li>4.\u5982\u4F55\u66F4\u65B0\u89C6\u56FE</li><li>5.\u5982\u4F55\u5EFA\u7ACB\u5C0F\u7A0B\u5E8F\u4E8B\u4EF6\u4EE3\u7406\u673A\u5236\uFF0C\u5728\u4E8B\u4EF6\u4EE3\u7406\u51FD\u6570\u4E2D\u89E6\u53D1\u4E0E\u4E4B\u5BF9\u5E94\u7684<code>vue</code>\u7EC4\u4EF6\u4E8B\u4EF6\u54CD\u5E94</li><li>6.\u5982\u4F55\u5EFA\u7ACB<code>vue</code>\u5B9E\u4F8B\u4E0E\u5C0F\u7A0B\u5E8F <code>Page</code>\u5B9E\u4F8B\u5173\u8054</li><li>7.\u5982\u4F55\u5EFA\u7ACB\u5C0F\u7A0B\u5E8F\u548C<code>vue</code>\u751F\u547D\u5468\u671F\u6620\u5C04\u5173\u7CFB\uFF0C\u80FD\u5728\u5C0F\u7A0B\u5E8F\u751F\u547D\u5468\u671F\u4E2D\u89E6\u53D1<code>vue</code>\u751F\u547D\u5468\u671F</li></ul><blockquote><p><code>platform/mp</code>\u7684\u76EE\u5F55\u7ED3\u6784</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>.
\u251C\u2500\u2500 compiler //\u89E3\u51B3\u95EE\u98981\uFF0Cmpvue-template-compiler\u6E90\u7801\u90E8\u5206
\u251C\u2500\u2500 runtime //\u89E3\u51B3\u95EE\u98983 4 5 6 7
\u251C\u2500\u2500 util //\u5DE5\u5177\u65B9\u6CD5
\u251C\u2500\u2500 entry-compiler.js //mpvue-template-compiler\u7684\u5165\u53E3\u3002package.json\u76F8\u5173\u547D\u4EE4\u4F1A\u81EA\u52A8\u751F\u6210mpvue-template-compiler\u8FD9\u4E2Apackage\u3002
\u251C\u2500\u2500 entry-runtime.js //\u5BF9\u5916\u63D0\u4F9BVue\u5BF9\u8C61\uFF0C\u5F53\u7136\u662Fmpvue
\u2514\u2500\u2500 join-code-in-build.js //\u7F16\u8BD1\u51FASDK\u65F6\u7684\u4FEE\u590D
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>mpvue-loader</strong></p><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mpvue-loader\` \u662F \`vue-loader\` \u7684\u4E00\u4E2A\u6269\u5C55\u5EF6\u4F38\u7248\uFF0C\u7C7B\u4F3C\u4E8E\u8D85\u96C6\u7684\u5173\u7CFB\uFF0C\u9664\u4E86\`vue-loader\` \u672C\u8EAB\u6240\u5177\u5907\u7684\u80FD\u529B\u4E4B\u5916\uFF0C\u5B83\u8FD8\u4F1A\u5229\u7528\`mpvue-template-compiler\`\u751F\u6210\`render function
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><p><strong>entry</strong></p><ul><li>\u5B83\u4F1A\u4ECE <code>webpack</code> \u7684\u914D\u7F6E\u4E2D\u7684 <code>entry</code> \u5F00\u59CB\uFF0C\u5206\u6790\u4F9D\u8D56\u6A21\u5757\uFF0C\u5E76\u5206\u522B\u6253\u5305\u3002\u5728<code>entry</code> \u4E2D <code>app</code> \u5C5E\u6027\u53CA\u5176\u5185\u5BB9\u4F1A\u88AB\u6253\u5305\u4E3A\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u6240\u9700\u8981\u7684 <code>app.js\uFF0Fapp.json\uFF0Fapp.wxss</code>\uFF0C\u5176\u4F59\u7684\u4F1A\u751F\u6210\u5BF9\u5E94\u7684</li><li>\u9875\u9762<code>page.js</code>/<code>page.json</code>/<code>page.wxml</code>/<code>page.wxss</code>\uFF0C\u5982\u793A\u4F8B\u7684 <code>entry</code> \u5C06\u4F1A\u751F\u6210\u5982\u4E0B\u8FD9\u4E9B\u6587\u4EF6\uFF0C\u6587\u4EF6\u5185\u5BB9\u4E0B\u6587\u6162\u6162\u8BB2\u6765\uFF1A</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">app</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;./src/main.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>               <span class="token comment">// app \u5B57\u6BB5\u88AB\u8BC6\u522B\u4E3A app \u7C7B\u578B</span>
        <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;./src/pages/index/main.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">// \u5176\u4F59\u5B57\u6BB5\u88AB\u8BC6\u522B\u4E3A page \u7C7B\u578B</span>
        <span class="token string-property property">&#39;news/home&#39;</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;./src/pages/news/home/index.js&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u4EA7\u51FA\u6587\u4EF6\u7684\u7ED3\u6784</span>
<span class="token punctuation">.</span>
\u251C\u2500\u2500 app<span class="token punctuation">.</span>js
\u251C\u2500\u2500 app<span class="token punctuation">.</span>json
\u251C\u2500\u2500\xB7 app<span class="token punctuation">.</span>wxss
\u251C\u2500\u2500 components
\u2502   \u251C\u2500\u2500 card$74bfae61<span class="token punctuation">.</span>wxml
\u2502   \u251C\u2500\u2500 index$023eef02<span class="token punctuation">.</span>wxml
\u2502   \u2514\u2500\u2500 news$0699930b<span class="token punctuation">.</span>wxml
\u251C\u2500\u2500 news
\u2502   \u251C\u2500\u2500 home<span class="token punctuation">.</span>js
\u2502   \u251C\u2500\u2500 home<span class="token punctuation">.</span>wxml
\u2502   \u2514\u2500\u2500 home<span class="token punctuation">.</span>wxss
\u251C\u2500\u2500 pages
\u2502   \u2514\u2500\u2500 index
\u2502       \u251C\u2500\u2500 index<span class="token punctuation">.</span>js
\u2502       \u251C\u2500\u2500 index<span class="token punctuation">.</span>wxml
\u2502       \u2514\u2500\u2500 index<span class="token punctuation">.</span>wxss
\u2514\u2500\u2500 <span class="token keyword">static</span>
    \u251C\u2500\u2500 css
    \u2502   \u251C\u2500\u2500 app<span class="token punctuation">.</span>wxss
    \u2502   \u251C\u2500\u2500 index<span class="token punctuation">.</span>wxss
    \u2502   \u2514\u2500\u2500 news
    \u2502       \u2514\u2500\u2500 home<span class="token punctuation">.</span>wxss
    \u2514\u2500\u2500 js
        \u251C\u2500\u2500 app<span class="token punctuation">.</span>js
        \u251C\u2500\u2500 index<span class="token punctuation">.</span>js
        \u251C\u2500\u2500 manifest<span class="token punctuation">.</span>js
        \u251C\u2500\u2500 news
        \u2502   \u2514\u2500\u2500 home<span class="token punctuation">.</span>js
        \u2514\u2500\u2500 vendor<span class="token punctuation">.</span>js
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><blockquote><p><code>wxml</code> \u6BCF\u4E00\u4E2A <code>.vue</code> \u7684\u7EC4\u4EF6\u90FD\u4F1A\u88AB\u751F\u6210\u4E3A\u4E00\u4E2A <code>wxml</code> \u89C4\u8303\u7684 <code>template</code>\uFF0C\u7136\u540E\u901A\u8FC7 <code>wxml</code> \u89C4\u8303\u7684 <code>import</code> \u8BED\u6CD5\u6765\u8FBE\u5230\u4E00\u4E2A\u590D\u7528\uFF0C\u540C\u65F6\u7EC4\u4EF6\u5982\u679C\u6D89\u53CA\u5230 <code>props</code>\u7684 <code>data</code> \u6570\u636E\uFF0C\u6211\u4EEC\u4E5F\u4F1A\u505A\u76F8\u5E94\u7684\u5904\u7406\uFF0C\u4E3E\u4E2A\u5B9E\u9645\u7684\u4F8B\u5B50\uFF1A</p></blockquote><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-component<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>other-component</span> <span class="token attr-name">:msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>other-component</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> otherComponent <span class="token keyword">from</span> <span class="token string">&#39;./otherComponent.vue&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> otherComponent <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&#39;Hello Vue.js!&#39;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>\u8FD9\u6837\u4E00\u4E2A <code>Vue</code>\u7684\u7EC4\u4EF6\u7684\u6A21\u7248\u90E8\u5206\u4F1A\u751F\u6210\u76F8\u5E94\u7684 <code>wxml</code></p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>components/other-component$hash.wxml<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>component$hash<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-component<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleProxy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_h1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>other-component$hash<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ $c[0] }}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ ...$c[0] }}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>\u53EF\u80FD\u5DF2\u7ECF\u6CE8\u610F\u5230\u4E86 <code>other-component(:msg=&quot;msg&quot;)</code> \u88AB\u8F6C\u5316\u6210\u4E86 \u3002<code>mpvue</code> \u5728\u8FD0\u884C\u65F6\u4F1A\u4ECE\u6839\u7EC4\u4EF6\u5F00\u59CB\u628A\u6240\u6709\u7684\u7EC4\u4EF6\u5B9E\u4F8B\u6570\u636E\u5408\u5E76\u6210\u4E00\u4E2A\u6811\u5F62\u7684\u6570\u636E\uFF0C\u7136\u540E\u901A\u8FC7 <code>setData</code> \u5230 <code>appData</code>,<code>$c</code>\u662F <code>$children</code> \u7684\u7F29\u5199\u3002\u81F3\u4E8E\u90A3\u4E2A <code>0</code> \u5219\u662F\u6211\u4EEC\u7684 <code>compiler</code>\u5904\u7406\u8FC7\u540E\u7684\u4E00\u4E2A\u6807\u8BB0\uFF0C\u4F1A\u4E3A\u6BCF\u4E00\u4E2A\u5B50\u7EC4\u4EF6\u6253\u4E00\u4E2A\u7279\u5B9A\u7684\u4E0D\u91CD\u590D\u7684\u6807\u8BB0\u3002 \u6811\u5F62\u6570\u636E\u7ED3\u6784\u5982\u4E0B</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8FD9\u513F\u6570\u636E\u7ED3\u6784\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0Cindex \u662F\u52A8\u6001\u7684</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">$child</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;0&#39;</span><span class="token punctuation">{</span>
      <span class="token comment">// ... root data</span>
      <span class="token literal-property property">$child</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;0&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// ... data</span>
          <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">&#39;Hello Vue.js!&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">$child</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// ...data</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>wxss</strong></p><blockquote><p>\u8FD9\u4E2A\u90E8\u5206\u7684\u5904\u7406\u540C <code>web</code> \u7684\u5904\u7406\u5DEE\u5F02\u4E0D\u5927\uFF0C\u552F\u4E00\u4E0D\u540C\u5728\u4E8E\u901A\u8FC7\u914D\u7F6E\u751F\u6210 <code>.css</code> \u4E3A <code>.wxss</code> \uFF0C\u5176\u4E2D\u7684\u5BF9\u4E8E <code>css</code>\u7684\u82E5\u5E72\u5904\u7406\uFF0C\u5728 <code>postcss-mpvue-wxss</code> \u548C <code>px2rpx-loader</code> \u8FD9\u4E24\u90E8\u5206\u7684\u6587\u6863\u4E2D\u53C8\u8BE6\u7EC6\u7684\u4ECB\u7ECD</p></blockquote><ul><li>\u63A8\u8350\u548C\u5C0F\u7A0B\u5E8F\u4E00\u6837\uFF0C\u5C06 <code>app.json\uFF0Fpage.json</code> \u653E\u5230\u9875\u9762\u5165\u53E3\u5904\uFF0C\u4F7F\u7528 <code>copy-webpack-plugin</code> <code>copy</code> \u5230\u5BF9\u5E94\u7684\u751F\u6210\u4F4D\u7F6E\u3002</li></ul><blockquote><p>\u8FD9\u90E8\u5206\u5185\u5BB9\u6765\u6E90\u4E8E <code>app</code> \u548C<code>page</code> \u7684<code>entry</code> \u6587\u4EF6\uFF0C\u901A\u5E38\u4E60\u60EF\u662F <code>main.js</code>\uFF0C\u4F60\u9700\u8981\u5728\u4F60\u7684\u5165\u53E3\u6587\u4EF6\u4E2D <code>export default { config: {} }</code>\uFF0C\u8FD9\u624D\u80FD\u88AB\u6211\u4EEC\u7684 <code>loader</code> \u8BC6\u522B\u4E3A\u8FD9\u662F\u4E00\u4E2A\u914D\u7F6E\uFF0C\u9700\u8981\u5199\u6210 <code>json</code> \u6587\u4EF6</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./app&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> vueApp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
vueApp<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u8FD9\u4E2A\u662F\u6211\u4EEC\u7EA6\u5B9A\u7684\u989D\u5916\u7684\u914D\u7F6E</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8FD9\u4E2A\u5B57\u6BB5\u4E0B\u7684\u6570\u636E\u4F1A\u88AB\u586B\u5145\u5230 app.json \uFF0F page.json</span>
    <span class="token literal-property property">config</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">pages</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;static/calendar/calendar&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;^pages/list/list&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Will be filled in webpack</span>
        <span class="token literal-property property">window</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">backgroundTextStyle</span><span class="token operator">:</span> <span class="token string">&#39;light&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">navigationBarBackgroundColor</span><span class="token operator">:</span> <span class="token string">&#39;##455A73&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">navigationBarTitleText</span><span class="token operator">:</span> <span class="token string">&#39;\u7F8E\u56E2\u6C7D\u8F66\u7968&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">navigationBarTextStyle</span><span class="token operator">:</span> <span class="token string">&#39;##fff&#39;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h1 id="_12-\u524D\u7AEF\u5B89\u5168\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#_12-\u524D\u7AEF\u5B89\u5168\u6A21\u5757" aria-hidden="true">#</a> 12 \u524D\u7AEF\u5B89\u5168\u6A21\u5757</h1><h2 id="_1-\u4EE3\u7801\u6CE8\u5165xss" tabindex="-1"><a class="header-anchor" href="#_1-\u4EE3\u7801\u6CE8\u5165xss" aria-hidden="true">#</a> 1 \u4EE3\u7801\u6CE8\u5165XSS</h2><blockquote><p>\u8DE8\u7F51\u7AD9\u6307\u4EE4\u7801\uFF08\u82F1\u8BED\uFF1A<code>Cross-site scripting</code>\uFF0C\u901A\u5E38\u7B80\u79F0\u4E3A\uFF1A<code>XSS</code>\uFF09\u662F\u4E00\u79CD\u7F51\u7AD9\u5E94\u7528\u7A0B\u5F0F\u7684\u5B89\u5168\u6F0F\u6D1E\u653B\u51FB\uFF0C\u662F\u4EE3\u7801\u6CE8\u5165\u7684\u4E00\u79CD\u3002\u5B83\u5141\u8BB8\u6076\u610F\u4F7F\u7528\u8005\u5C06\u7A0B\u5F0F\u7801\u6CE8\u5165\u5230\u7F51\u9875\u4E0A\uFF0C\u5176\u4ED6\u4F7F\u7528\u8005\u5728\u89C2\u770B\u7F51\u9875\u65F6\u5C31\u4F1A\u53D7\u5230\u5F71\u54CD\u3002\u8FD9\u7C7B\u653B\u51FB\u901A\u5E38\u5305\u542B\u4E86 <code>HTML</code> \u4EE5\u53CA\u4F7F\u7528\u8005\u7AEF\u811A\u672C\u8BED\u8A00</p></blockquote><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>XSS\` \u5206\u4E3A\u4E09\u79CD\uFF1A\u53CD\u5C04\u578B\uFF0C\u5B58\u50A8\u578B\u548C \`DOM-based
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote>`,33),Ktn={id:"_1-1-\u5982\u4F55\u653B\u51FB",tabindex:"-1"},Qtn=n("a",{class:"header-anchor",href:"#_1-1-\u5982\u4F55\u653B\u51FB","aria-hidden":"true"},"#",-1),Ytn=s(),Ztn={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#_1-1-%E5%A6%82%E4%BD%95%E6%94%BB%E5%87%BB",target:"_blank",rel:"noopener noreferrer"},npn=s("#"),spn=s("1.1 \u5982\u4F55\u653B\u51FB"),apn=t(`<ul><li><code>XSS</code> \u901A\u8FC7\u4FEE\u6539 <code>HTML</code>\u8282\u70B9\u6216\u8005\u6267\u884C <code>JS</code>\u4EE3\u7801\u6765\u653B\u51FB\u7F51\u7AD9\u3002</li><li>\u4F8B\u5982\u901A\u8FC7 <code>URL</code> \u83B7\u53D6\u67D0\u4E9B\u53C2\u6570</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- http://www.domain.com?name=&lt;script&gt;alert(1)&lt;/script&gt; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>\u4E0A\u8FF0 <code>URL</code> \u8F93\u5165\u53EF\u80FD\u4F1A\u5C06 <code>HTML</code> \u6539\u4E3A <code>&lt;div&gt;&lt;script&gt;alert(1)&lt;/script&gt;&lt;/div&gt;</code> \uFF0C\u8FD9\u6837\u9875\u9762\u4E2D\u5C31\u51ED\u7A7A\u591A\u4E86\u4E00\u6BB5\u53EF\u6267\u884C\u811A\u672C\u3002\u8FD9\u79CD\u653B\u51FB\u7C7B\u578B\u662F\u53CD\u5C04\u578B\u653B\u51FB\uFF0C\u4E5F\u53EF\u4EE5\u8BF4\u662F <code>DOM-based</code> \u653B\u51FB</p></blockquote>`,3),epn={id:"_1-2-\u5982\u4F55\u9632\u5FA1",tabindex:"-1"},tpn=n("a",{class:"header-anchor",href:"#_1-2-\u5982\u4F55\u9632\u5FA1","aria-hidden":"true"},"#",-1),ppn=s(),opn={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#_1-2-%E5%A6%82%E4%BD%95%E9%98%B2%E5%BE%A1",target:"_blank",rel:"noopener noreferrer"},cpn=s("#"),lpn=s("1.2 \u5982\u4F55\u9632\u5FA1"),rpn=t(`<blockquote><p>\u6700\u666E\u904D\u7684\u505A\u6CD5\u662F\u8F6C\u4E49\u8F93\u5165\u8F93\u51FA\u7684\u5185\u5BB9\uFF0C\u5BF9\u4E8E\u5F15\u53F7\uFF0C\u5C16\u62EC\u53F7\uFF0C\u659C\u6760\u8FDB\u884C\u8F6C\u4E49</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">escape</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&amp;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&amp;amp;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&amp;lt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&amp;gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&quot;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&amp;quto;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&#39;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&amp;##39;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\`</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&amp;##96;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\/</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&amp;##x2F;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> str
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>\u901A\u8FC7\u8F6C\u4E49\u53EF\u4EE5\u5C06\u653B\u51FB\u4EE3\u7801 <code>&lt;script&gt;alert(1)&lt;/script&gt;</code> \u53D8\u6210</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// -&gt; &amp;lt;script&amp;gt;alert(1)&amp;lt;&amp;##x2F;script&amp;gt;</span>
<span class="token function">escape</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;script&gt;alert(1)&lt;/script&gt;&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u663E\u793A\u5BCC\u6587\u672C\u6765\u8BF4\uFF0C\u4E0D\u80FD\u901A\u8FC7\u4E0A\u9762\u7684\u529E\u6CD5\u6765\u8F6C\u4E49\u6240\u6709\u5B57\u7B26\uFF0C\u56E0\u4E3A\u8FD9\u6837\u4F1A\u628A\u9700\u8981\u7684\u683C\u5F0F\u4E5F\u8FC7\u6EE4\u6389\u3002\u8FD9\u79CD\u60C5\u51B5\u901A\u5E38\u91C7\u7528\u767D\u540D\u5355\u8FC7\u6EE4\u7684\u529E\u6CD5\uFF0C\u5F53\u7136\u4E5F\u53EF\u4EE5\u901A\u8FC7\u9ED1\u540D\u5355\u8FC7\u6EE4\uFF0C\u4F46\u662F\u8003\u8651\u5230\u9700\u8981\u8FC7\u6EE4\u7684\u6807\u7B7E\u548C\u6807\u7B7E\u5C5E\u6027\u5B9E\u5728\u592A\u591A\uFF0C\u66F4\u52A0\u63A8\u8350\u4F7F\u7528\u767D\u540D\u5355\u7684\u65B9\u5F0F</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> xss <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;xss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> html <span class="token operator">=</span> <span class="token function">xss</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;h1 id=&quot;title&quot;&gt;XSS Demo&lt;/h1&gt;&lt;script&gt;alert(&quot;xss&quot;);&lt;/script&gt;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// -&gt; &lt;h1&gt;XSS Demo&lt;/h1&gt;&amp;lt;script&amp;gt;alert(&quot;xss&quot;);&amp;lt;/script&amp;gt;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u793A\u4F8B\u4F7F\u7528\u4E86 <code>js-xss</code>\u6765\u5B9E\u73B0\u3002\u53EF\u4EE5\u770B\u5230\u5728\u8F93\u51FA\u4E2D\u4FDD\u7559\u4E86 <code>h1</code> \u6807\u7B7E\u4E14\u8FC7\u6EE4\u4E86 <code>script</code> \u6807\u7B7E</p></blockquote>`,7),ipn={id:"_1-3-cookie-\u5982\u4F55\u9632\u8303-xss-\u653B\u51FB",tabindex:"-1"},upn=n("a",{class:"header-anchor",href:"#_1-3-cookie-\u5982\u4F55\u9632\u8303-xss-\u653B\u51FB","aria-hidden":"true"},"#",-1),kpn=s(),dpn={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#_1-3-cookie-%E5%A6%82%E4%BD%95%E9%98%B2%E8%8C%83-xss-%E6%94%BB%E5%87%BB",target:"_blank",rel:"noopener noreferrer"},bpn=s("#"),mpn=s("1.3 cookie \u5982\u4F55\u9632\u8303 XSS \u653B\u51FB"),hpn=n("blockquote",null,[n("p",null,"XSS(\u8DE8\u7AD9\u811A\u672C\u653B\u51FB)\u662F\u6307\u653B\u51FB\u8005\u5728\u8FD4\u56DE\u7684 HTML \u4E2D\u5D4C\u5165 javascript \u811A\u672C\uFF0C\u4E3A\u4E86\u51CF\u8F7B\u8FD9\u4E9B \u653B\u51FB\uFF0C\u9700\u8981\u5728 HTTP \u5934\u90E8\u914D\u4E0A\uFF0Cset-cookie")],-1),_pn=n("ul",null,[n("li",null,[n("code",null,"httpOnly"),s(" \u8FD9\u4E2A\u5C5E\u6027\u53EF\u4EE5\u9632\u6B62 XSS,\u5B83\u4F1A\u7981\u6B62 javascript \u811A\u672C\u6765\u8BBF\u95EE "),n("code",null,"cookie")]),n("li",null,[n("code",null,"secure"),s("- \u8FD9\u4E2A\u5C5E\u6027\u544A\u8BC9\u6D4F\u89C8\u5668\u4EC5\u5728\u8BF7\u6C42\u4E3A "),n("code",null,"https"),s(" \u7684\u65F6\u5019\u53D1\u9001 "),n("code",null,"cookie")])],-1),gpn={id:"_2-\u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020csrf",tabindex:"-1"},Epn=n("a",{class:"header-anchor",href:"#_2-\u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020csrf","aria-hidden":"true"},"#",-1),fpn=s(),vpn={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#_2-%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0csrf",target:"_blank",rel:"noopener noreferrer"},wpn=s("#"),ypn=s("2 \u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020CSRF"),xpn=t(`<blockquote><ul><li><code>CSRF</code> \u5C31\u662F\u5229\u7528\u7528\u6237\u7684\u767B\u5F55\u6001\u53D1\u8D77\u6076\u610F\u8BF7\u6C42</li><li><code>CSRF\uFF08Cross-site request forgery\uFF09</code> \u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\uFF0C\u662F\u4E00\u79CD\u5E38\u89C1\u7684\u653B\u51FB\u65B9\u5F0F\u3002\u662F\u6307 <code>A</code> \u7F51\u7AD9\u6B63\u5E38\u767B\u9646\u540E\uFF0C<code>cookie</code> \u6B63\u5E38\u4FDD\u5B58\u767B\u5F55\u4FE1\u606F\uFF0C\u5176\u4ED6\u7F51\u7AD9 B \u901A\u8FC7\u67D0\u79CD\u65B9\u5F0F\u8C03\u7528 A \u7F51\u7AD9\u63A5\u53E3\u8FDB\u884C\u64CD\u4F5C\uFF0C<code>A</code> \u7684\u63A5\u53E3\u4F1A\u5728\u8BF7\u6C42\u65F6\u4F1A\u81EA\u52A8\u5E26\u4E0A <code>cookie</code>\u3002</li></ul></blockquote><ul><li>\u540C\u6E90\u7B56\u7565\u53EF\u4EE5\u901A\u8FC7 <code>html</code> \u6807\u7B7E\u52A0\u8F7D\u8D44\u6E90\uFF0C\u800C\u4E14\u540C\u6E90\u7B56\u7565\u4E0D\u963B\u6B62\u63A5\u53E3\u8BF7\u6C42\u800C\u662F\u62E6\u622A\u8BF7\u6C42\u7ED3\u679C\uFF0C<code>CSRF</code> \u6070\u6070\u5360\u4E86\u8FD9\u4E24\u4E2A\u4FBF\u5B9C\u3002</li><li>\u5BF9\u4E8E <code>GET</code> \u8BF7\u6C42\uFF0C\u76F4\u63A5\u653E\u5230 <code>&lt;img&gt;</code> \u5C31\u80FD\u795E\u4E0D\u77E5\u9B3C\u4E0D\u89C9\u5730\u8BF7\u6C42\u8DE8\u57DF\u63A5\u53E3\u3002</li><li>\u5BF9\u4E8E <code>POST</code> \u8BF7\u6C42\uFF0C\u5F88\u591A\u4F8B\u5B50\u90FD\u4F7F\u7528 <code>form</code> \u63D0\u4EA4\uFF1A</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&lt;nowiki&gt;http://bank.com/transfer.do&lt;/nowiki&gt;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>acct<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MARIA<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>amount<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100000<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>View my pictures<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p><strong>\u6D4F\u89C8\u5668\u540C\u6E90\u7B56\u7565\u4E0D\u80FD\u4F5C\u4E3A\u9632\u8303 CSRF \u7684\u65B9\u6CD5</strong> \u6D4F\u89C8\u5668\u5141\u8BB8\u8FD9\u4E48\u505A\uFF0C\u5F52\u6839\u5230\u5E95\u5C31\u662F\u56E0\u4E3A<strong>\u4F60\u65E0\u6CD5\u7528 js \u76F4\u63A5\u64CD\u4F5C\u83B7\u5F97\u7684\u7ED3\u679C\u3002</strong></p></blockquote><p><strong>\u5982\u4F55\u653B\u51FB</strong></p><blockquote><p>\u5047\u8BBE\u7F51\u7AD9\u4E2D\u6709\u4E00\u4E2A\u901A\u8FC7 Get \u8BF7\u6C42\u63D0\u4EA4\u7528\u6237\u8BC4\u8BBA\u7684\u63A5\u53E3\uFF0C\u90A3\u4E48\u653B\u51FB\u8005\u5C31\u53EF\u4EE5\u5728\u9493\u9C7C\u7F51\u7AD9\u4E2D\u52A0\u5165\u4E00\u4E2A\u56FE\u7247\uFF0C\u56FE\u7247\u7684\u5730\u5740\u5C31\u662F\u8BC4\u8BBA\u63A5\u53E3</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;img src=&quot;http://www.domain.com/xxx?comment=&#39;attack&#39;&quot;/&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="http://img-repo.poetries.top/images/20210506174602.png" alt="img"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&#39;Set-Cookie&#39;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">username=poetry2;sameSite = strict;path=/;httpOnly;expires=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">getCookirExpires</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u5728B\u7F51\u7AD9\uFF0C\u5371\u9669\u7F51\u7AD9\u5411A\u7F51\u7AD9\u53D1\u8D77\u8BF7\u6C42</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u5229\u7528img\u81EA\u52A8\u53D1\u9001\u8BF7\u6C42 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://localhost:8000/api/user/login<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u4F1A\u5E26\u4E0AA\u7F51\u7AD9\u7684cookie</p><p><img src="http://img-repo.poetries.top/images/20210506174856.png" alt="img"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5728A\u7F51\u7AD9\u4E0B\u53D1cookie\u7684\u65F6\u5019\uFF0C\u52A0\u4E0AsameSite=strict\uFF0C\u8FD9\u6837B\u7F51\u7AD9\u5728\u53D1\u9001A\u7F51\u7AD9\u8BF7\u6C42\uFF0C\u4E0D\u4F1A\u81EA\u52A8\u5E26\u4E0AA\u7F51\u7AD9\u7684cookie\uFF0C\u4FDD\u8BC1\u4E86\u5B89\u5168</span>


<span class="token comment">// NAME=VALUE    \u8D4B\u4E88Cookie\u7684\u540D\u79F0\u53CA\u5BF9\u5E94\u503C</span>
<span class="token comment">// expires=DATE  Cookie \u7684\u6709\u6548\u671F</span>
<span class="token comment">// path=PATH     \u8D4B\u4E88Cookie\u7684\u540D\u79F0\u53CA\u5BF9\u5E94\u503C</span>
<span class="token comment">// domain=\u57DF\u540D   \u4F5C\u4E3A Cookie \u9002\u7528\u5BF9\u8C61\u7684\u57DF\u540D \uFF08\u82E5\u4E0D\u6307\u5B9A\u5219\u9ED8\u8BA4\u4E3A\u521B\u5EFA Cookie \u7684\u670D\u52A1\u5668\u7684\u57DF\u540D\uFF09 (\u4E00\u822C\u4E0D\u6307\u5B9A)</span>
<span class="token comment">// Secure        \u4EC5\u5728 HTTPS \u5B89\u5168\u901A\u4FE1\u65F6\u624D\u4F1A\u53D1\u9001 Cookie</span>
<span class="token comment">// HttpOnly      \u52A0\u4EE5\u9650\u5236\uFF0C\u4F7F Cookie \u4E0D\u80FD\u88AB JavaScript \u811A\u672C\u8BBF\u95EE</span>
<span class="token comment">// SameSite      Lax|Strict|None  \u5B83\u5141\u8BB8\u60A8\u58F0\u660E\u8BE5Cookie\u662F\u5426\u4EC5\u9650\u4E8E\u7B2C\u4E00\u65B9\u6216\u8005\u540C\u4E00\u7AD9\u70B9\u4E0A\u4E0B\u6587</span>

res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&#39;Set-Cookie&#39;</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">username=poetry;sameSite=strict;path=/;httpOnly;expires=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">getCookirExpires</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><img src="http://img-repo.poetries.top/images/20210506175834.png" alt="img"></p><p><strong>\u5982\u4F55\u9632\u5FA1</strong></p><ul><li><code>Get</code> \u8BF7\u6C42\u4E0D\u5BF9\u6570\u636E\u8FDB\u884C\u4FEE\u6539</li><li>\u4E0D\u8BA9\u7B2C\u4E09\u65B9\u7F51\u7AD9\u8BBF\u95EE\u5230\u7528\u6237 <code>Cookie</code></li><li>\u963B\u6B62\u7B2C\u4E09\u65B9\u7F51\u7AD9\u8BF7\u6C42\u63A5\u53E3</li><li>\u8BF7\u6C42\u65F6\u9644\u5E26\u9A8C\u8BC1\u4FE1\u606F\uFF0C\u6BD4\u5982\u9A8C\u8BC1\u7801\u6216\u8005 <code>token</code></li><li><code>SameSite Cookies</code>: \u53EA\u80FD\u5F53\u524D\u57DF\u540D\u7684\u7F51\u7AD9\u53D1\u51FA\u7684http\u8BF7\u6C42\uFF0C\u643A\u5E26\u8FD9\u4E2A<code>Cookie</code>\u3002\u5F53\u7136\uFF0C\u7531\u4E8E\u8FD9\u662F\u65B0\u7684cookie\u5C5E\u6027\uFF0C\u5728\u517C\u5BB9\u6027\u4E0A\u80AF\u5B9A\u4F1A\u6709\u95EE\u9898</li></ul><blockquote><p>CSRF\u653B\u51FB\uFF0C\u4EC5\u4EC5\u662F\u5229\u7528\u4E86http\u643A\u5E26cookie\u7684\u7279\u6027\u8FDB\u884C\u653B\u51FB\u7684\uFF0C\u4F46\u662F\u653B\u51FB\u7AD9\u70B9\u8FD8\u662F\u65E0\u6CD5\u5F97\u5230\u88AB\u653B\u51FB\u7AD9\u70B9\u7684cookie\u3002\u8FD9\u4E2A\u548CXSS\u4E0D\u540C\uFF0CXSS\u662F\u76F4\u63A5\u901A\u8FC7\u62FF\u5230Cookie\u7B49\u4FE1\u606F\u8FDB\u884C\u653B\u51FB\u7684</p></blockquote><p><strong>\u5728CSRF\u653B\u51FB\u4E2D\uFF0C\u5C31Cookie\u76F8\u5173\u7684\u7279\u6027\uFF1A</strong></p><ul><li>http\u8BF7\u6C42\uFF0C\u4F1A\u81EA\u52A8\u643A\u5E26Cookie\u3002</li><li>\u643A\u5E26\u7684cookie\uFF0C\u8FD8\u662Fhttp\u8BF7\u6C42\u6240\u5728\u57DF\u540D\u7684cookie\u3002</li></ul>`,20),Apn={id:"csrf\u600E\u4E48\u83B7\u53D6\u7528\u6237\u7684\u767B\u5F55\u6001",tabindex:"-1"},Bpn=n("a",{class:"header-anchor",href:"#csrf\u600E\u4E48\u83B7\u53D6\u7528\u6237\u7684\u767B\u5F55\u6001","aria-hidden":"true"},"#",-1),qpn=s(),jpn={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#csrf%E6%80%8E%E4%B9%88%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E7%9A%84%E7%99%BB%E5%BD%95%E6%80%81",target:"_blank",rel:"noopener noreferrer"},Spn=s("#"),Cpn=s("CSRF\u600E\u4E48\u83B7\u53D6\u7528\u6237\u7684\u767B\u5F55\u6001"),Dpn=n("blockquote",null,[n("p",null,[s("\u653B\u51FB\u5168\u79F0\u4E0D\u9700\u8981\u83B7\u53D6cookie\uFF0C\u53EA\u662F\u5728\u5371\u9669\u7684\u7F51\u7AD9\u6B3A\u9A97\u7528\u6237\u53BB\u70B9\u51FB\u5DF2\u767B\u5F55\u7684\u7F51\u7AD9\u94FE\u63A5\uFF0C\u5229\u7528\u5DF2\u767B\u5F55\u7684\u7F51\u7AD9\u7684\u81EA\u52A8\u53D1\u9001cookie\u8FBE\u5230\u76EE\u7684\u3002\u56E0\u4E3Ahttp\u8BF7\u6C42\u90FD\u4F1A\u5E26\u7740\u8BF7\u6C42\u76EE\u6807\u57DF\u4E0B\u7684"),n("code",null,"cookie"),s("\u7684\uFF0C\u5411\u540C\u4E00\u4E2A\u670D\u52A1\u5668\u53D1\u8BF7\u6C42\u65F6\u4F1A\u5E26\u4E0A\u6D4F\u89C8\u5668\u4FDD\u5B58\u7684\u5BF9\u4E8E\u90A3\u4E2A\u670D\u52A1\u5668\u7684cookie\uFF0C\u800C\u4E0D\u7BA1\u4F60\u4ECE\u54EA\u4E2A\u7F51\u7AD9\u5411\u76EE\u6807\u7F51\u7AD9\u53D1\u8BF7\u6C42")])],-1),Fpn={id:"cookie\u901A\u5E38\u662F\u4E0D\u80FD\u8DE8\u57DF\u8BBF\u95EE\u7684-\u90A3\u95EE\u4EC0\u4E48\u4F1A\u6709csrf\u653B\u51FB",tabindex:"-1"},Ppn=n("a",{class:"header-anchor",href:"#cookie\u901A\u5E38\u662F\u4E0D\u80FD\u8DE8\u57DF\u8BBF\u95EE\u7684-\u90A3\u95EE\u4EC0\u4E48\u4F1A\u6709csrf\u653B\u51FB","aria-hidden":"true"},"#",-1),Tpn=s(),Npn={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#cookie%E9%80%9A%E5%B8%B8%E6%98%AF%E4%B8%8D%E8%83%BD%E8%B7%A8%E5%9F%9F%E8%AE%BF%E9%97%AE%E7%9A%84-%E9%82%A3%E9%97%AE%E4%BB%80%E4%B9%88%E4%BC%9A%E6%9C%89csrf%E6%94%BB%E5%87%BB",target:"_blank",rel:"noopener noreferrer"},Mpn=s("#"),Opn=s("cookie\u901A\u5E38\u662F\u4E0D\u80FD\u8DE8\u57DF\u8BBF\u95EE\u7684\uFF0C\u90A3\u95EE\u4EC0\u4E48\u4F1A\u6709csrf\u653B\u51FB"),Ipn=t("<p><strong>\u7591\u95EE\uFF1A</strong></p><blockquote><p>csrf\u8BF4\u7528\u6237\u8BBF\u95EE\u4E86A\u7F51\u7AD9\uFF0C\u7136\u540E\u53C8\u8BBF\u95EE\u6076\u610F\u7F51\u7AD9B, B\u4E2D\u4E5F\u53D1\u9001\u8BF7\u6C42\u5230A\uFF0C\u643A\u5E26A\u7AD9\u7684cookie\uFF0C\u8FD9\u6837\u5C31\u6784\u6210\u4E86csrf\u3002 \u53EF\u662Fcookie\u597D\u50CF\u662F\u4E0D\u652F\u6301\u8DE8\u57DF\u7684\u5427\uFF1F</p></blockquote><p><strong>\u56DE\u7B54</strong></p><ul><li>\u6D4F\u89C8\u5668\u4F1A\u4F9D\u636E\u52A0\u8F7D\u7684\u57DF\u540D\u9644\u5E26\u4E0A\u5BF9\u5E94\u57DF\u540D<code>cookie</code>\uFF0C\u53C8\u4E0D\u662F\u53D1\u9001b\u7AD9\u7684<code>cookie</code>\u3002</li><li>\u5C31\u662F\u5982\u679C\u7528\u6237\u5728<code>a</code>\u7AD9\u767B\u5F55\u4E86\u751F\u6210\u4E86\u6388\u6743\u7684<code>cookie</code> \u4E4B\u7C7B\u7684\uFF0C\u7136\u540E\u8BBF\u95EE<code>b</code>\u7AD9\uFF0Cb\u7AD9\u6545\u610F\u6784\u9020\u8BF7\u6C42a\u7AD9\u7684\u8BF7\u6C42\uFF0C\u5982\u5220\u9664\u64CD\u4F5C\u4E4B\u7C7B\u7684\uFF0C\u7528<code>script</code>\uFF0C<code>img</code>\u6216\u8005<code>iframe</code>\u4E4B\u7C7B\u7684\u52A0\u8F7D<code>a</code>\u7AD9\u7740\u4E2A\u5730\u5740\uFF0C\u6D4F\u89C8\u5668\u4F1A\u9644\u5E26\u4E0A<code>a</code>\u7AD9\u6B64\u767B\u5F55\u7528\u6237\u7684\u6388\u6743<code>cookie</code>\u4FE1\u606F\uFF0C\u8FD9\u6837\u5C31\u6784\u6210<code>crsf</code>\uFF0C\u4F1A\u5220\u9664\u6389\u5F53\u524D\u7528\u6237\u7684\u6570\u636E</li></ul>",4),Rpn={id:"\u603B\u7ED3",tabindex:"-1"},Vpn=n("a",{class:"header-anchor",href:"#\u603B\u7ED3","aria-hidden":"true"},"#",-1),Hpn=s(),Lpn={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#%E6%80%BB%E7%BB%93",target:"_blank",rel:"noopener noreferrer"},Upn=s("#"),Jpn=s("\u603B\u7ED3"),Wpn=t(`<ul><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>XSS
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u653B\u51FB: \u6CE8\u5165\u6076\u610F\u4EE3\u7801</p><ul><li><code>cookie</code> \u8BBE\u7F6E <code>httpOnly</code></li><li>\u8F6C\u4E49\u9875\u9762\u4E0A\u7684\u8F93\u5165\u5185\u5BB9\u548C\u8F93\u51FA\u5185\u5BB9</li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>CSRF
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>: \u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\uFF0C\u9632\u62A4:</p><ul><li><code>get</code>\u4E0D\u4FEE\u6539\u6570\u636E</li><li>\u4E0D\u88AB\u7B2C\u4E09\u65B9\u7F51\u7AD9\u8BBF\u95EE\u5230\u7528\u6237\u7684 <code>cookie</code></li><li>\u8BBE\u7F6E\u767D\u540D\u5355\uFF0C\u4E0D\u88AB\u7B2C\u4E09\u65B9\u7F51\u7AD9\u8BF7\u6C42</li><li>\u8BF7\u6C42\u6821\u9A8C</li></ul></li></ul>`,1),zpn={id:"_3-\u6D4F\u89C8\u5668\u540C\u6E90\u7B56\u7565-sop",tabindex:"-1"},Gpn=n("a",{class:"header-anchor",href:"#_3-\u6D4F\u89C8\u5668\u540C\u6E90\u7B56\u7565-sop","aria-hidden":"true"},"#",-1),$pn=s(),Xpn={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#_3-%E6%B5%8F%E8%A7%88%E5%99%A8%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5-sop",target:"_blank",rel:"noopener noreferrer"},Kpn=s("#"),Qpn=s("3 \u6D4F\u89C8\u5668\u540C\u6E90\u7B56\u7565 SOP"),Ypn={id:"_3-1-\u540C\u6E90",tabindex:"-1"},Zpn=n("a",{class:"header-anchor",href:"#_3-1-\u540C\u6E90","aria-hidden":"true"},"#",-1),non=s(),son={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#_3-1-%E5%90%8C%E6%BA%90",target:"_blank",rel:"noopener noreferrer"},aon=s("#"),eon=s("3.1 \u540C\u6E90"),ton=n("blockquote",null,[n("p",null,"\u5148\u89E3\u91CA\u4F55\u4E3A\u540C\u6E90\uFF1A\u534F\u8BAE\u3001\u57DF\u540D\u3001\u7AEF\u53E3\u90FD\u4E00\u6837\uFF0C\u5C31\u662F\u540C\u6E90\u3002")],-1),pon=n("thead",null,[n("tr",null,[n("th",null,"url"),n("th",null,"\u540C\u6E90")])],-1),oon={href:"https://niconico.com/",target:"_blank",rel:"noopener noreferrer"},con=s("https://niconico.com(opens new window)"),lon=n("td",null,"\u57FA\u51C6",-1),ron=n("tr",null,[n("td",null,"https://niconico.com/spirit"),n("td",null,"o")],-1),ion=n("tr",null,[n("td",null,"https://sub.niconico.com/spirit"),n("td",null,"x")],-1),uon=n("tr",null,[n("td",null,"http://niconico.com/spirit"),n("td",null,"x")],-1),kon=n("tr",null,[n("td",null,"https://niconico.com:8080/spirit"),n("td",null,"x")],-1),don={id:"_3-2-\u9650\u5236",tabindex:"-1"},bon=n("a",{class:"header-anchor",href:"#_3-2-\u9650\u5236","aria-hidden":"true"},"#",-1),mon=s(),hon={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#_3-2-%E9%99%90%E5%88%B6",target:"_blank",rel:"noopener noreferrer"},_on=s("#"),gon=s("3.2 \u9650\u5236"),Eon=t("<ul><li>\u4F60\u4E4B\u6240\u4EE5\u4F1A\u9047\u5230 <strong>\u8DE8\u57DF\u95EE\u9898</strong>\uFF0C\u6B63\u662F\u56E0\u4E3A SOP \u7684\u5404\u79CD\u9650\u5236\u3002\u4F46\u662F\u5177\u4F53\u6765\u8BF4\u9650\u5236\u4E86\u4EC0\u4E48\u5462\uFF1F</li><li>\u5982\u679C\u4F60\u8BF4 SOP \u5C31\u662F\u201C\u9650\u5236\u975E\u540C\u6E90\u8D44\u6E90\u7684\u83B7\u53D6\u201D\uFF0C\u8FD9\u4E0D\u5BF9\uFF0C\u6700\u7B80\u5355\u7684\u4F8B\u5B50\u662F\u5F15\u7528\u56FE\u7247\u3001css\u3001js \u6587\u4EF6\u7B49\u8D44\u6E90\u7684\u65F6\u5019\u5C31\u5141\u8BB8\u8DE8\u57DF\u3002</li><li>\u5982\u679C\u4F60\u8BF4 SOP \u5C31\u662F\u201C\u7981\u6B62\u8DE8\u57DF\u8BF7\u6C42\u201D\uFF0C\u8FD9\u4E5F\u4E0D\u5BF9\uFF0C\u672C\u8D28\u4E0A SOP \u5E76\u4E0D\u662F\u7981\u6B62\u8DE8\u57DF\u8BF7\u6C42\uFF0C\u800C\u662F\u5728\u8BF7\u6C42\u540E\u62E6\u622A\u4E86\u8BF7\u6C42\u7684\u56DE\u5E94\u3002</li></ul><p><strong>\u5176\u5B9E\u8868\u9762\u4E0A SOP \u5206\u4E24\u79CD\u60C5\u51B5\uFF1A</strong></p><ul><li>\u53EF\u4EE5\u6B63\u5E38\u5F15\u7528 iframe\u3001\u56FE\u7247\u7B49\u5404\u79CD\u8D44\u6E90\uFF0C<strong>\u4F46\u662F</strong>\u9650\u5236\u5BF9\u5176\u5185\u5BB9\u8FDB\u884C\u64CD\u4F5C</li><li>\u76F4\u63A5\u9650\u5236 ajax \u8BF7\u6C42\uFF0C\u51C6\u786E\u6765\u8BF4\u662F<strong>\u9650\u5236\u64CD\u4F5C ajax \u54CD\u5E94\u7ED3\u679C</strong>\uFF0C<strong>\u8FD9\u4F1A\u5F15\u8D77\u540E\u9762\u8BF4\u5230\u7684 CSRF</strong></li></ul><blockquote><p>\u4F46\u662F\uFF0C\u672C\u8D28\u4E0A\u8FD9\u4E24\u6761\u662F\u4E00\u6837\u7684\uFF1A\u603B\u4E4B\uFF0C\u5BF9\u4E8E\u975E\u540C\u6E90\u7684\u8D44\u6E90\uFF0C\u6D4F\u89C8\u5668\u53EF\u4EE5\u201C\u76F4\u63A5\u4F7F\u7528\u201D\uFF0C\u4F46\u662F\u7A0B\u5E8F\u5458\u548C\u7528\u6237\u4E0D\u53EF\u4EE5\u5BF9\u8FD9\u4E9B\u6570\u636E\u8FDB\u884C\u64CD\u4F5C\uFF0C\u675C\u7EDD\u67D0\u4E9B\u5C45\u5FC3\u4E0D\u826F\u7684\u884C\u4E3A\u3002\u8FD9\u5C31\u662F\u73B0\u4EE3\u5B89\u5168\u6D4F\u89C8\u5668\u5BF9\u7528\u6237\u7684\u4FDD\u62A4\u4E4B\u4E00\u3002</p></blockquote><p><strong>\u4E0B\u9762\u662F 3 \u4E2A\u5728\u5B9E\u9645\u5E94\u7528\u4E2D\u4F1A\u9047\u5230\u7684\u4F8B\u5B50\uFF1A</strong></p><ul><li>\u4F7F\u7528 ajax \u8BF7\u6C42\u5176\u4ED6\u8DE8\u57DF API\uFF0C\u6700\u5E38\u89C1\u7684\u60C5\u51B5\uFF0C\u524D\u7AEF\u65B0\u624B\u5669\u68A6</li><li>iframe \u4E0E\u7236\u9875\u9762\u4EA4\u6D41\uFF08\u5982 DOM \u6216\u53D8\u91CF\u7684\u83B7\u53D6\uFF09\uFF0C\u51FA\u73B0\u7387\u6BD4\u8F83\u4F4E\uFF0C\u800C\u4E14\u89E3\u51B3\u65B9\u6CD5\u4E5F\u597D\u61C2</li><li>\u5BF9\u8DE8\u57DF\u56FE\u7247\uFF08\u4F8B\u5982\u6765\u6E90\u4E8E <code>&lt;img&gt;</code> \uFF09\u8FDB\u884C\u64CD\u4F5C\uFF0C\u5728 canvas \u64CD\u4F5C\u56FE\u7247\u7684\u65F6\u5019\u4F1A\u9047\u5230\u8FD9\u4E2A\u95EE\u9898</li></ul><p><strong>\u5982\u679C\u6CA1\u6709\u4E86 SOP\uFF1A</strong></p><ul><li><code>iframe</code> \u91CC\u7684\u673A\u5BC6\u4FE1\u606F\u88AB\u8086\u610F\u8BFB\u53D6</li><li>\u66F4\u52A0\u8086\u610F\u5730\u8FDB\u884C <code>CSRF</code></li><li>\u63A5\u53E3\u88AB\u7B2C\u4E09\u65B9\u6EE5\u7528</li></ul>",8),fon={id:"_3-3-\u7ED5\u8FC7\u8DE8\u57DF",tabindex:"-1"},von=n("a",{class:"header-anchor",href:"#_3-3-\u7ED5\u8FC7\u8DE8\u57DF","aria-hidden":"true"},"#",-1),won=s(),yon={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#_3-3-%E7%BB%95%E8%BF%87%E8%B7%A8%E5%9F%9F",target:"_blank",rel:"noopener noreferrer"},xon=s("#"),Aon=s("3.3 \u7ED5\u8FC7\u8DE8\u57DF"),Bon=t("<blockquote><p><code>SOP</code> \u867D\u7136\u8BA9\u7528\u6237\u66F4\u5B89\u5168\uFF0C\u540C\u65F6\u4E5F\u4F1A\u5BF9\u7A0B\u5E8F\u5458\u5E26\u6765\u4E00\u5B9A\u7A0B\u5EA6\u7684\u9EBB\u70E6\uFF0C\u56E0\u4E3A\u6709\u65F6\u5019\u4E1A\u52A1\u4E0A\u5C31\u662F\u6709\u8DE8\u57DF\u7684\u9700\u6C42\u3002\u7ED5\u8FC7\u8DE8\u57DF\u7684\u65B9\u6848\u7531\u4E8E\u7BC7\u5E45\u6240\u9650\uFF0C\u5E76\u4E14\u7F51\u4E0A\u4E5F\u5F88\u591A\u76F8\u5173\u6587\u7AE0\uFF0C\u6240\u4EE5\u4E0D\u5728\u8FD9\u91CC\u5C55\u5F00\u89E3\u51B3\u8DE8\u57DF\u7684\u65B9\u6848\uFF0C\u53EA\u7ED9\u51FA\u51E0\u4E2A\u5173\u952E\u8BCD\uFF1A</p></blockquote><p><strong>\u5BF9\u4E8E ajax</strong></p><ul><li>\u4F7F\u7528 <code>JSONP</code></li><li>\u540E\u7AEF\u8FDB\u884C <code>CORS</code> \u914D\u7F6E</li><li>\u540E\u7AEF\u53CD\u5411\u4EE3\u7406</li><li>\u4F7F\u7528 <code>WebSocket</code></li></ul><p><strong>\u5BF9\u4E8E iframe</strong></p><ul><li>\u4F7F\u7528 <code>location.hash</code> \u6216 <code>window.name</code> \u8FDB\u884C\u4FE1\u606F\u4EA4\u6D41</li><li>\u4F7F\u7528 <code>postMessage</code></li></ul>",5),qon={id:"_3-4-\u6D4F\u89C8\u5668\u540C\u6E90\u7B56\u7565\u4E0Eajax",tabindex:"-1"},jon=n("a",{class:"header-anchor",href:"#_3-4-\u6D4F\u89C8\u5668\u540C\u6E90\u7B56\u7565\u4E0Eajax","aria-hidden":"true"},"#",-1),Son=s(),Con={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#_3-4-%E6%B5%8F%E8%A7%88%E5%99%A8%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E4%B8%8Eajax",target:"_blank",rel:"noopener noreferrer"},Don=s("#"),Fon=s("3.4 \u6D4F\u89C8\u5668\u540C\u6E90\u7B56\u7565\u4E0Eajax"),Pon=t("<blockquote><p>\u5BF9\u4E8E ajax \u8BF7\u6C42\uFF0C\u5728\u83B7\u5F97\u6570\u636E\u4E4B\u540E\u4F60\u80FD\u8086\u610F\u8FDB\u884C js \u64CD\u4F5C\u3002\u8FD9\u65F6\u5019\u867D\u7136\u540C\u6E90\u7B56\u7565\u4F1A\u963B\u6B62\u54CD\u5E94\uFF0C\u4F46\u4F9D\u7136\u4F1A\u53D1\u51FA\u8BF7\u6C42\u3002\u56E0\u4E3A<strong>\u6267\u884C\u54CD\u5E94\u62E6\u622A\u7684\u662F\u6D4F\u89C8\u5668</strong>\u800C\u4E0D\u662F\u540E\u7AEF\u7A0B\u5E8F\u3002\u4E8B\u5B9E\u4E0A\u4F60\u7684<strong>\u8BF7\u6C42\u5DF2\u7ECF\u53D1\u5230\u670D\u52A1\u5668</strong>\u5E76\u8FD4\u56DE\u4E86\u7ED3\u679C\uFF0C\u4F46\u662F\u8FEB\u4E8E\u5B89\u5168\u7B56\u7565\uFF0C\u6D4F\u89C8\u5668\u4E0D\u5141\u8BB8\u4F60<strong>\u7EE7\u7EED\u8FDB\u884C js \u64CD\u4F5C</strong>\uFF0C\u6240\u4EE5\u62A5\u51FA\u4F60\u719F\u6089\u7684 <code>blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.</code>\u3002</p></blockquote><p><strong>\u6240\u4EE5\u518D\u5F3A\u8C03\u4E00\u6B21\uFF0C\u540C\u6E90\u7B56\u7565\u4E0D\u80FD\u4F5C\u4E3A\u9632\u8303 CSRF \u7684\u65B9\u6CD5</strong>\u3002</p><p>\u4E0D\u8FC7<strong>\u53EF\u4EE5\u9632\u8303 CSRF \u7684\u4F8B\u5916</strong>\u8FD8\u662F\u6709\u7684\uFF0C\u6D4F\u89C8\u5668\u5E76\u4E0D\u662F\u8BA9\u6240\u6709\u8BF7\u6C42\u90FD\u53D1\u9001\u6210\u529F\uFF0C\u4E0A\u8FF0\u60C5\u51B5\u4EC5\u9650\u4E8E<strong>\u7B80\u5355\u8BF7\u6C42</strong>\uFF0C\u76F8\u5173\u77E5\u8BC6\u4F1A\u5728\u4E0B\u9762 CORS \u4E00\u8282\u8BE6\u7EC6\u89E3\u91CA\u3002</p>",3),Ton={id:"_4-\u8DE8\u57DF\u8D44\u6E90\u5171\u4EAB-cors",tabindex:"-1"},Non=n("a",{class:"header-anchor",href:"#_4-\u8DE8\u57DF\u8D44\u6E90\u5171\u4EAB-cors","aria-hidden":"true"},"#",-1),Mon=s(),Oon={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#_4-%E8%B7%A8%E5%9F%9F%E8%B5%84%E6%BA%90%E5%85%B1%E4%BA%AB-cors",target:"_blank",rel:"noopener noreferrer"},Ion=s("#"),Ron=s("4 \u8DE8\u57DF\u8D44\u6E90\u5171\u4EAB CORS"),Von=t(`<p>\u8DE8\u57DF\u662F\u6D4F\u89C8\u5668\u9650\u5236\uFF0C\u8DE8\u57DF\u8D44\u6E90\u5171\u4EAB\uFF08Cross-origin resource sharing\uFF09\u4E5F\u662F\u670D\u52A1\u5668\u4E0E\u6D4F\u89C8\u5668\u534F\u8C03\u7684\u7ED3\u679C\u3002</p><blockquote><p>\u5982\u679C\u670D\u52A1\u5668\u8BBE\u7F6E\u4E86 CORS \u76F8\u5173\u914D\u7F6E\uFF0C\u5728\u8FD4\u56DE\u6D4F\u89C8\u5668\u7684\u8BF7\u6C42\u5934\u4F1A\u52A0\u4E0A <code>Access-Control-Allow-Origin</code>\uFF0C\u6D4F\u89C8\u5668\u770B\u5230\u8FD9\u4E2A\u5B57\u6BB5\u7684\u503C\u4E0E\u5F53\u524D\u7684\u6E90\u5339\u914D\uFF0C\u5C31\u4F1A\u89E3\u9501\u8DE8\u57DF\u9650\u5236\u3002</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>HTTP/1.1 200 OK
Date: Sun, 24 Apr 2016 12:43:39 GMT
Server: Apache
Access-Control-Allow-Origin: http://www.acceptmeplease.com
Keep-Alive: timeout=2, max=100
Connection: Keep-Alive
Content-Type: application/xml
Content-Length: 423
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u5BF9\u4E8E CORS\uFF0C\u8BF7\u6C42\u5206\u4E24\u79CD\u3002</p>`,4),Hon={id:"_4-1-\u7B80\u5355\u8BF7\u6C42",tabindex:"-1"},Lon=n("a",{class:"header-anchor",href:"#_4-1-\u7B80\u5355\u8BF7\u6C42","aria-hidden":"true"},"#",-1),Uon=s(),Jon={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#_4-1-%E7%AE%80%E5%8D%95%E8%AF%B7%E6%B1%82",target:"_blank",rel:"noopener noreferrer"},Won=s("#"),zon=s("4.1 \u7B80\u5355\u8BF7\u6C42"),Gon=t("<ul><li>\u8BF7\u6C42\u65B9\u6CD5\u4F7F\u7528 <code>GET</code>\u3001<code>POST</code> \u6216 <code>HEAD</code></li><li><code>Content-Type</code> \u8BBE\u4E3A <code>application/x-www-form-urlencoded</code>\u3001<code>multipart/form-data</code> \u6216 <code>text/plain</code></li></ul><p>\u7B26\u5408\u4E0A\u9762\u4E24\u4E2A\u6761\u4EF6\u7684\u90FD\u4E3A <code>CORS</code> \u7B80\u5355\u8BF7\u6C42\u3002\u7B80\u5355\u8BF7\u6C42\u90FD\u4F1A\u76F4\u63A5\u53D1\u5230\u670D\u52A1\u5668\uFF0C\u4F1A\u9020\u6210 <code>CSRF</code>\u3002</p>",2),$on={id:"_4-2-\u9884\u68C0\u8BF7\u6C42",tabindex:"-1"},Xon=n("a",{class:"header-anchor",href:"#_4-2-\u9884\u68C0\u8BF7\u6C42","aria-hidden":"true"},"#",-1),Kon=s(),Qon={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#_4-2-%E9%A2%84%E6%A3%80%E8%AF%B7%E6%B1%82",target:"_blank",rel:"noopener noreferrer"},Yon=s("#"),Zon=s("4.2 \u9884\u68C0\u8BF7\u6C42"),ncn=t("<blockquote><p>\u4E0D\u7B26\u5408\u7B80\u5355\u8BF7\u6C42\u8981\u6C42\u7684\u8BF7\u6C42\u90FD\u9700\u8981\u5148\u53D1\u9001\u9884\u68C0\u8BF7\u6C42\uFF08Preflight Request\uFF09\u3002\u6D4F\u89C8\u5668\u4F1A\u5728\u771F\u6B63\u8BF7\u6C42\u524D\u53D1\u9001 OPTION \u65B9\u6CD5\u7684\u8BF7\u6C42\u5411\u670D\u52A1\u5668\u8BE2\u95EE\u5F53\u524D\u6E90\u662F\u5426\u7B26\u5408 CORS \u76EE\u6807\uFF0C\u9A8C\u8BC1\u901A\u8FC7\u540E\u624D\u4F1A\u53D1\u9001\u6B63\u5F0F\u8BF7\u6C42\u3002</p></blockquote><p>\u4F8B\u5982<strong>\u4F7F\u7528 application/json \u4F20\u53C2\u7684 POST \u8BF7\u6C42</strong>\u5C31\u662F\u975E\u7B80\u5355\u8BF7\u6C42\uFF0C\u4F1A\u5728\u9884\u68C0\u4E2D\u88AB\u62E6\u622A\u3002</p><p>\u518D\u4F8B\u5982\u4F7F\u7528 <code>PUT</code> \u65B9\u6CD5\u8BF7\u6C42\uFF0C\u4E5F\u4F1A\u53D1\u9001\u9884\u68C0\u8BF7\u6C42\u3002</p><p>\u4E0A\u9762\u63D0\u5230\u7684<strong>\u53EF\u4EE5\u9632\u8303 CSRF \u7684\u4F8B\u5916</strong>\uFF0C\u5C31\u662F\u6307\u9884\u68C0\u8BF7\u6C42\u3002\u5373\u4F7F\u8DE8\u57DF\u6210\u529F\u8BF7\u6C42\u9884\u68C0\uFF0C\u4F46\u771F\u6B63\u8BF7\u6C42\u5E76\u4E0D\u80FD\u53D1\u51FA\u53BB\uFF0C\u8FD9\u5C31\u4FDD\u8BC1\u4E86 <code>CSRF</code> \u65E0\u6CD5\u6210\u529F\u3002</p>",4),scn={id:"_4-3-cors-\u4E0E-cookie",tabindex:"-1"},acn=n("a",{class:"header-anchor",href:"#_4-3-cors-\u4E0E-cookie","aria-hidden":"true"},"#",-1),ecn=s(),tcn={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#_4-3-cors-%E4%B8%8E-cookie",target:"_blank",rel:"noopener noreferrer"},pcn=s("#"),ocn=s("4.3 CORS \u4E0E cookie"),ccn=t('<ul><li>\u4E0E\u540C\u57DF\u4E0D\u540C\uFF0C\u7528\u4E8E\u8DE8\u57DF\u7684 <code>CORS</code> \u8BF7\u6C42\u9ED8\u8BA4\u4E0D\u53D1\u9001 <code>Cookie</code> \u548C <code>HTTP</code> \u8BA4\u8BC1\u4FE1\u606F\uFF0C\u524D\u540E\u7AEF\u90FD\u8981\u5728\u914D\u7F6E\u4E2D\u8BBE\u5B9A\u8BF7\u6C42\u65F6\u5E26\u4E0A <code>cookie</code>\u3002</li><li>\u8FD9\u5C31\u662F\u4E3A\u4EC0\u4E48\u5728\u8FDB\u884C <code>CORS</code> \u8BF7\u6C42\u65F6 <code>axios</code> \u9700\u8981\u8BBE\u7F6E <code>withCredentials: true</code>\u3002</li></ul><p>\u4E0B\u9762\u662F <code>node.js</code> \u7684\u540E\u53F0 <code>koa</code> \u6846\u67B6\u7684 CORS \u8BBE\u7F6E\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/**\n * CORS middleware\n *\n * @param {Object} [options]\n *  - {String|Function(ctx)} origin `Access-Control-Allow-Origin`, default is request Origin header\n *  - {String|Array} allowMethods `Access-Control-Allow-Methods`, default is &#39;GET,HEAD,PUT,POST,DELETE,PATCH&#39;\n *  - {String|Array} exposeHeaders `Access-Control-Expose-Headers`\n *  - {String|Array} allowHeaders `Access-Control-Allow-Headers`\n *  - {String|Number} maxAge `Access-Control-Max-Age` in seconds\n *  - {Boolean} credentials `Access-Control-Allow-Credentials`\n *  - {Boolean} keepHeadersOnError Add set headers to `err.header` if an error is thrown\n * @return {Function} cors middleware\n * @api public\n */\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>\u987A\u5E26\u4E00\u63D0\uFF0C<code>Access-Control-Allow-Credentials</code> \u8BBE\u4E3A <code>true</code> \u65F6\uFF0C<code>Access-Control-Allow-Origin</code> \u5F3A\u5236\u4E0D\u80FD\u8BBE\u4E3A <code>*</code>\uFF0C\u4E3A\u4E86\u5B89\u5168\uFF0C\u4E5F\u662F\u633A\u9EBB\u70E6</p></blockquote>',4),lcn={id:"_5-\u5BC6\u7801\u5B89\u5168",tabindex:"-1"},rcn=n("a",{class:"header-anchor",href:"#_5-\u5BC6\u7801\u5B89\u5168","aria-hidden":"true"},"#",-1),icn=s(),ucn={href:"http://interview.poetries.top/excellent-docs/12-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E6%A8%A1%E5%9D%97.html#_5-%E5%AF%86%E7%A0%81%E5%AE%89%E5%85%A8",target:"_blank",rel:"noopener noreferrer"},kcn=s("#"),dcn=s("5 \u5BC6\u7801\u5B89\u5168"),bcn=t(`<p><strong>\u52A0\u76D0</strong></p><blockquote><p>\u5BF9\u4E8E\u5BC6\u7801\u5B58\u50A8\u6765\u8BF4\uFF0C\u5FC5\u7136\u662F\u4E0D\u80FD\u660E\u6587\u5B58\u50A8\u5728\u6570\u636E\u5E93\u4E2D\u7684\uFF0C\u5426\u5219\u4E00\u65E6\u6570\u636E\u5E93\u6CC4\u9732\uFF0C\u4F1A\u5BF9\u7528\u6237\u9020\u6210\u5F88\u5927\u7684\u635F\u5931\u3002\u5E76\u4E14\u4E0D\u5EFA\u8BAE\u53EA\u5BF9\u5BC6\u7801\u5355\u7EAF\u901A\u8FC7\u52A0\u5BC6\u7B97\u6CD5\u52A0\u5BC6\uFF0C\u56E0\u4E3A\u5B58\u5728\u5F69\u8679\u8868\u7684\u5173\u7CFB</p></blockquote><ul><li>\u901A\u5E38\u9700\u8981\u5BF9\u5BC6\u7801\u52A0\u76D0\uFF0C\u7136\u540E\u8FDB\u884C\u51E0\u6B21\u4E0D\u540C\u52A0\u5BC6\u7B97\u6CD5\u7684\u52A0\u5BC6</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u52A0\u76D0\u4E5F\u5C31\u662F\u7ED9\u539F\u5BC6\u7801\u6DFB\u52A0\u5B57\u7B26\u4E32\uFF0C\u589E\u52A0\u539F\u5BC6\u7801\u957F\u5EA6</span>
<span class="token function">sha256</span><span class="token punctuation">(</span><span class="token function">sha1</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span>salt <span class="token operator">+</span> password <span class="token operator">+</span> salt<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>\u4F46\u662F\u52A0\u76D0\u5E76\u4E0D\u80FD\u963B\u6B62\u522B\u4EBA\u76D7\u53D6\u8D26\u53F7\uFF0C\u53EA\u80FD\u786E\u4FDD\u5373\u4F7F\u6570\u636E\u5E93\u6CC4\u9732\uFF0C\u4E5F\u4E0D\u4F1A\u66B4\u9732\u7528\u6237\u7684\u771F\u5B9E\u5BC6\u7801\u3002\u4E00\u65E6\u653B\u51FB\u8005\u5F97\u5230\u4E86\u7528\u6237\u7684\u8D26\u53F7\uFF0C\u53EF\u4EE5\u901A\u8FC7\u66B4\u529B\u7834\u89E3\u7684\u65B9\u5F0F\u7834\u89E3\u5BC6\u7801\u3002\u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\uFF0C\u901A\u5E38\u4F7F\u7528\u9A8C\u8BC1\u7801\u589E\u52A0\u5EF6\u65F6\u6216\u8005\u9650\u5236\u5C1D\u8BD5\u6B21\u6570\u7684\u65B9\u5F0F\u3002\u5E76\u4E14\u4E00\u65E6\u7528\u6237\u8F93\u5165\u4E86\u9519\u8BEF\u7684\u5BC6\u7801\uFF0C\u4E5F\u4E0D\u80FD\u76F4\u63A5\u63D0\u793A\u7528\u6237\u8F93\u9519\u5BC6\u7801\uFF0C\u800C\u5E94\u8BE5\u63D0\u793A\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF</p></blockquote><p><strong>\u524D\u7AEF\u52A0\u5BC6</strong></p><blockquote><p>\u867D\u7136\u524D\u7AEF\u52A0\u5BC6\u5BF9\u4E8E\u5B89\u5168\u9632\u62A4\u6765\u8BF4\u610F\u4E49\u4E0D\u5927\uFF0C\u4F46\u662F\u5728\u9047\u5230\u4E2D\u95F4\u4EBA\u653B\u51FB\u7684\u60C5\u51B5\u4E0B\uFF0C\u53EF\u4EE5\u907F\u514D\u660E\u6587\u5BC6\u7801\u88AB\u7B2C\u4E09\u65B9\u83B7\u53D6</p></blockquote><h1 id="_13-\u6027\u80FD\u4F18\u5316\u76F8\u5173" tabindex="-1"><a class="header-anchor" href="#_13-\u6027\u80FD\u4F18\u5316\u76F8\u5173" aria-hidden="true">#</a> 13 \u6027\u80FD\u4F18\u5316\u76F8\u5173</h1><h2 id="_1-\u6027\u80FD\u4F18\u5316\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1-\u6027\u80FD\u4F18\u5316\u65B9\u5F0F" aria-hidden="true">#</a> 1 \u6027\u80FD\u4F18\u5316\u65B9\u5F0F</h2>`,9),mcn={id:"_1-1-dns-\u9884\u89E3\u6790",tabindex:"-1"},hcn=n("a",{class:"header-anchor",href:"#_1-1-dns-\u9884\u89E3\u6790","aria-hidden":"true"},"#",-1),_cn=s(),gcn={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_1-1-dns-%E9%A2%84%E8%A7%A3%E6%9E%90",target:"_blank",rel:"noopener noreferrer"},Ecn=s("#"),fcn=s("1.1 DNS \u9884\u89E3\u6790"),vcn=t(`<ul><li><code>DNS</code> \u89E3\u6790\u4E5F\u662F\u9700\u8981\u65F6\u95F4\u7684\uFF0C\u53EF\u4EE5\u901A\u8FC7\u9884\u89E3\u6790\u7684\u65B9\u5F0F\u6765\u9884\u5148\u83B7\u5F97\u57DF\u540D\u6240\u5BF9\u5E94\u7684 <code>IP</code></li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//blog.poetries.top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,2),wcn={id:"_1-2-\u7F13\u5B58",tabindex:"-1"},ycn=n("a",{class:"header-anchor",href:"#_1-2-\u7F13\u5B58","aria-hidden":"true"},"#",-1),xcn=s(),Acn={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_1-2-%E7%BC%93%E5%AD%98",target:"_blank",rel:"noopener noreferrer"},Bcn=s("#"),qcn=s("1.2 \u7F13\u5B58"),jcn=t('<ul><li>\u7F13\u5B58\u5BF9\u4E8E\u524D\u7AEF\u6027\u80FD\u4F18\u5316\u6765\u8BF4\u662F\u4E2A\u5F88\u91CD\u8981\u7684\u70B9\uFF0C\u826F\u597D\u7684\u7F13\u5B58\u7B56\u7565\u53EF\u4EE5\u964D\u4F4E\u8D44\u6E90\u7684\u91CD\u590D\u52A0\u8F7D\u63D0\u9AD8\u7F51\u9875\u7684\u6574\u4F53\u52A0\u8F7D\u901F\u5EA6</li><li>\u901A\u5E38\u6D4F\u89C8\u5668\u7F13\u5B58\u7B56\u7565\u5206\u4E3A\u4E24\u79CD\uFF1A\u5F3A\u7F13\u5B58\u548C\u534F\u5546\u7F13\u5B58</li></ul><p><strong>\u5F3A\u7F13\u5B58</strong></p><blockquote><p>\u5B9E\u73B0\u5F3A\u7F13\u5B58\u53EF\u4EE5\u901A\u8FC7\u4E24\u79CD\u54CD\u5E94\u5934\u5B9E\u73B0\uFF1A<code>Expires</code>\u548C <code>Cache-Control</code> \u3002\u5F3A\u7F13\u5B58\u8868\u793A\u5728\u7F13\u5B58\u671F\u95F4\u4E0D\u9700\u8981\u8BF7\u6C42\uFF0C<code>state code</code>\u4E3A <code>200</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Expires: Wed, 22 Oct 2018 08:41:00 GMT\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p><code>Expires</code> \u662F <code>HTTP / 1.0</code> \u7684\u4EA7\u7269\uFF0C\u8868\u793A\u8D44\u6E90\u4F1A\u5728 <code>Wed, 22 Oct 2018 08:41:00 GMT</code> \u540E\u8FC7\u671F\uFF0C\u9700\u8981\u518D\u6B21\u8BF7\u6C42\u3002\u5E76\u4E14 <code>Expires</code> \u53D7\u9650\u4E8E\u672C\u5730\u65F6\u95F4\uFF0C\u5982\u679C\u4FEE\u6539\u4E86\u672C\u5730\u65F6\u95F4\uFF0C\u53EF\u80FD\u4F1A\u9020\u6210\u7F13\u5B58\u5931\u6548</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Cache-control: max-age=30\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p><code>Cache-Control</code> \u51FA\u73B0\u4E8E <code>HTTP / 1.1</code>\uFF0C\u4F18\u5148\u7EA7\u9AD8\u4E8E <code>Expires</code> \u3002\u8BE5\u5C5E\u6027\u8868\u793A\u8D44\u6E90\u4F1A\u5728 <code>30</code> \u79D2\u540E\u8FC7\u671F\uFF0C\u9700\u8981\u518D\u6B21\u8BF7\u6C42</p></blockquote><p><strong>\u534F\u5546\u7F13\u5B58</strong></p><ul><li>\u5982\u679C\u7F13\u5B58\u8FC7\u671F\u4E86\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u4F7F\u7528\u534F\u5546\u7F13\u5B58\u6765\u89E3\u51B3\u95EE\u9898\u3002\u534F\u5546\u7F13\u5B58\u9700\u8981\u8BF7\u6C42\uFF0C\u5982\u679C\u7F13\u5B58\u6709\u6548\u4F1A\u8FD4\u56DE 304</li><li>\u534F\u5546\u7F13\u5B58\u9700\u8981\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u5171\u540C\u5B9E\u73B0\uFF0C\u548C\u5F3A\u7F13\u5B58\u4E00\u6837\uFF0C\u4E5F\u6709\u4E24\u79CD\u5B9E\u73B0\u65B9\u5F0F</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Last-Modified` \u548C `If-Modified-Since\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>Last-Modified</code> \u8868\u793A\u672C\u5730\u6587\u4EF6\u6700\u540E\u4FEE\u6539\u65E5\u671F\uFF0C<code>If-Modified-Since</code> \u4F1A\u5C06 <code>Last-Modified</code>\u7684\u503C\u53D1\u9001\u7ED9\u670D\u52A1\u5668\uFF0C\u8BE2\u95EE\u670D\u52A1\u5668\u5728\u8BE5\u65E5\u671F\u540E\u8D44\u6E90\u662F\u5426\u6709\u66F4\u65B0\uFF0C\u6709\u66F4\u65B0\u7684\u8BDD\u5C31\u4F1A\u5C06\u65B0\u7684\u8D44\u6E90\u53D1\u9001\u56DE\u6765</li><li>\u4F46\u662F\u5982\u679C\u5728\u672C\u5730\u6253\u5F00\u7F13\u5B58\u6587\u4EF6\uFF0C\u5C31\u4F1A\u9020\u6210 <code>Last-Modified</code> \u88AB\u4FEE\u6539\uFF0C\u6240\u4EE5\u5728 <code>HTTP / 1.1</code> \u51FA\u73B0\u4E86 <code>ETag</code></li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ETag` \u548C `If-None-Match\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>ETag</code> \u7C7B\u4F3C\u4E8E\u6587\u4EF6\u6307\u7EB9\uFF0C<code>If-None-Match</code> \u4F1A\u5C06\u5F53\u524D <code>ETag</code> \u53D1\u9001\u7ED9\u670D\u52A1\u5668\uFF0C\u8BE2\u95EE\u8BE5\u8D44\u6E90 ETag \u662F\u5426\u53D8\u52A8\uFF0C\u6709\u53D8\u52A8\u7684\u8BDD\u5C31\u5C06\u65B0\u7684\u8D44\u6E90\u53D1\u9001\u56DE\u6765\u3002\u5E76\u4E14 <code>ETag</code> \u4F18\u5148\u7EA7\u6BD4 <code>Last-Modified</code> \u9AD8</li></ul><p><strong>\u9009\u62E9\u5408\u9002\u7684\u7F13\u5B58\u7B56\u7565</strong></p><blockquote><p>\u5BF9\u4E8E\u5927\u90E8\u5206\u7684\u573A\u666F\u90FD\u53EF\u4EE5\u4F7F\u7528\u5F3A\u7F13\u5B58\u914D\u5408\u534F\u5546\u7F13\u5B58\u89E3\u51B3\uFF0C\u4F46\u662F\u5728\u4E00\u4E9B\u7279\u6B8A\u7684\u5730\u65B9\u53EF\u80FD\u9700\u8981\u9009\u62E9\u7279\u6B8A\u7684\u7F13\u5B58\u7B56\u7565</p></blockquote><ul><li>\u5BF9\u4E8E\u67D0\u4E9B\u4E0D\u9700\u8981\u7F13\u5B58\u7684\u8D44\u6E90\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>Cache-control: no-store</code> \uFF0C\u8868\u793A\u8BE5\u8D44\u6E90\u4E0D\u9700\u8981\u7F13\u5B58</li><li>\u5BF9\u4E8E\u9891\u7E41\u53D8\u52A8\u7684\u8D44\u6E90\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>Cache-Control: no-cache</code> \u5E76\u914D\u5408 <code>ETag</code> \u4F7F\u7528\uFF0C\u8868\u793A\u8BE5\u8D44\u6E90\u5DF2\u88AB\u7F13\u5B58\uFF0C\u4F46\u662F\u6BCF\u6B21\u90FD\u4F1A\u53D1\u9001\u8BF7\u6C42\u8BE2\u95EE\u8D44\u6E90\u662F\u5426\u66F4\u65B0\u3002</li><li>\u5BF9\u4E8E\u4EE3\u7801\u6587\u4EF6\u6765\u8BF4\uFF0C\u901A\u5E38\u4F7F\u7528 <code>Cache-Control: max-age=31536000</code> \u5E76\u914D\u5408\u7B56\u7565\u7F13\u5B58\u4F7F\u7528\uFF0C\u7136\u540E\u5BF9\u6587\u4EF6\u8FDB\u884C\u6307\u7EB9\u5904\u7406\uFF0C\u4E00\u65E6\u6587\u4EF6\u540D\u53D8\u52A8\u5C31\u4F1A\u7ACB\u523B\u4E0B\u8F7D\u65B0\u7684\u6587\u4EF6</li></ul>',16),Scn={id:"_1-3-\u4F7F\u7528-http-2-0",tabindex:"-1"},Ccn=n("a",{class:"header-anchor",href:"#_1-3-\u4F7F\u7528-http-2-0","aria-hidden":"true"},"#",-1),Dcn=s(),Fcn={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_1-3-%E4%BD%BF%E7%94%A8-http-2-0",target:"_blank",rel:"noopener noreferrer"},Pcn=s("#"),Tcn=s("1.3 \u4F7F\u7528 HTTP / 2.0"),Ncn=t("<ul><li>\u56E0\u4E3A\u6D4F\u89C8\u5668\u4F1A\u6709\u5E76\u53D1\u8BF7\u6C42\u9650\u5236\uFF0C\u5728 <code>HTTP / 1.1</code> \u65F6\u4EE3\uFF0C\u6BCF\u4E2A\u8BF7\u6C42\u90FD\u9700\u8981\u5EFA\u7ACB\u548C\u65AD\u5F00\uFF0C\u6D88\u8017\u4E86\u597D\u51E0\u4E2A <code>RTT</code> \u65F6\u95F4\uFF0C\u5E76\u4E14\u7531\u4E8E <code>TCP</code> \u6162\u542F\u52A8\u7684\u539F\u56E0\uFF0C\u52A0\u8F7D\u4F53\u79EF\u5927\u7684\u6587\u4EF6\u4F1A\u9700\u8981\u66F4\u591A\u7684\u65F6\u95F4</li><li>\u5728 <code>HTTP / 2.0</code> \u4E2D\u5F15\u5165\u4E86\u591A\u8DEF\u590D\u7528\uFF0C\u80FD\u591F\u8BA9\u591A\u4E2A\u8BF7\u6C42\u4F7F\u7528\u540C\u4E00\u4E2A <code>TCP</code> \u94FE\u63A5\uFF0C\u6781\u5927\u7684\u52A0\u5FEB\u4E86\u7F51\u9875\u7684\u52A0\u8F7D\u901F\u5EA6\u3002\u5E76\u4E14\u8FD8\u652F\u6301 <code>Header</code> \u538B\u7F29\uFF0C\u8FDB\u4E00\u6B65\u7684\u51CF\u5C11\u4E86\u8BF7\u6C42\u7684\u6570\u636E\u5927\u5C0F</li></ul>",1),Mcn={id:"_1-4-\u9884\u52A0\u8F7D",tabindex:"-1"},Ocn=n("a",{class:"header-anchor",href:"#_1-4-\u9884\u52A0\u8F7D","aria-hidden":"true"},"#",-1),Icn=s(),Rcn={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_1-4-%E9%A2%84%E5%8A%A0%E8%BD%BD",target:"_blank",rel:"noopener noreferrer"},Vcn=s("#"),Hcn=s("1.4 \u9884\u52A0\u8F7D"),Lcn=t(`<ul><li>\u5728\u5F00\u53D1\u4E2D\uFF0C\u53EF\u80FD\u4F1A\u9047\u5230\u8FD9\u6837\u7684\u60C5\u51B5\u3002\u6709\u4E9B\u8D44\u6E90\u4E0D\u9700\u8981\u9A6C\u4E0A\u7528\u5230\uFF0C\u4F46\u662F\u5E0C\u671B\u5C3D\u65E9\u83B7\u53D6\uFF0C\u8FD9\u65F6\u5019\u5C31\u53EF\u4EE5\u4F7F\u7528\u9884\u52A0\u8F7D</li><li>\u9884\u52A0\u8F7D\u5176\u5B9E\u662F\u58F0\u660E\u5F0F\u7684 <code>fetch</code> \uFF0C\u5F3A\u5236\u6D4F\u89C8\u5668\u8BF7\u6C42\u8D44\u6E90\uFF0C\u5E76\u4E14\u4E0D\u4F1A\u963B\u585E <code>onload</code> \u4E8B\u4EF6\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u4EE3\u7801\u5F00\u542F\u9884\u52A0\u8F7D</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://example.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u9884\u52A0\u8F7D\u53EF\u4EE5\u4E00\u5B9A\u7A0B\u5EA6\u4E0A\u964D\u4F4E\u9996\u5C4F\u7684\u52A0\u8F7D\u65F6\u95F4\uFF0C\u56E0\u4E3A\u53EF\u4EE5\u5C06\u4E00\u4E9B\u4E0D\u5F71\u54CD\u9996\u5C4F\u4F46\u91CD\u8981\u7684\u6587\u4EF6\u5EF6\u540E\u52A0\u8F7D\uFF0C\u552F\u4E00\u7F3A\u70B9\u5C31\u662F\u517C\u5BB9\u6027\u4E0D\u597D</p></blockquote>`,3),Ucn={id:"_1-5-\u9884\u6E32\u67D3",tabindex:"-1"},Jcn=n("a",{class:"header-anchor",href:"#_1-5-\u9884\u6E32\u67D3","aria-hidden":"true"},"#",-1),Wcn=s(),zcn={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_1-5-%E9%A2%84%E6%B8%B2%E6%9F%93",target:"_blank",rel:"noopener noreferrer"},Gcn=s("#"),$cn=s("1.5 \u9884\u6E32\u67D3"),Xcn=t(`<blockquote><p>\u53EF\u4EE5\u901A\u8FC7\u9884\u6E32\u67D3\u5C06\u4E0B\u8F7D\u7684\u6587\u4EF6\u9884\u5148\u5728\u540E\u53F0\u6E32\u67D3\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u4EE3\u7801\u5F00\u542F\u9884\u6E32\u67D3</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prerender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://poetries.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u9884\u6E32\u67D3\u867D\u7136\u53EF\u4EE5\u63D0\u9AD8\u9875\u9762\u7684\u52A0\u8F7D\u901F\u5EA6\uFF0C\u4F46\u662F\u8981\u786E\u4FDD\u8BE5\u9875\u9762\u767E\u5206\u767E\u4F1A\u88AB\u7528\u6237\u5728\u4E4B\u540E\u6253\u5F00\uFF0C\u5426\u5219\u5C31\u767D\u767D\u6D6A\u8D39\u8D44\u6E90\u53BB\u6E32\u67D3</li></ul>`,3),Kcn={id:"_1-6-\u61D2\u6267\u884C\u4E0E\u61D2\u52A0\u8F7D",tabindex:"-1"},Qcn=n("a",{class:"header-anchor",href:"#_1-6-\u61D2\u6267\u884C\u4E0E\u61D2\u52A0\u8F7D","aria-hidden":"true"},"#",-1),Ycn=s(),Zcn={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_1-6-%E6%87%92%E6%89%A7%E8%A1%8C%E4%B8%8E%E6%87%92%E5%8A%A0%E8%BD%BD",target:"_blank",rel:"noopener noreferrer"},nln=s("#"),sln=s("1.6 \u61D2\u6267\u884C\u4E0E\u61D2\u52A0\u8F7D"),aln=t("<p><strong>\u61D2\u6267\u884C</strong></p><ul><li>\u61D2\u6267\u884C\u5C31\u662F\u5C06\u67D0\u4E9B\u903B\u8F91\u5EF6\u8FDF\u5230\u4F7F\u7528\u65F6\u518D\u8BA1\u7B97\u3002\u8BE5\u6280\u672F\u53EF\u4EE5\u7528\u4E8E\u9996\u5C4F\u4F18\u5316\uFF0C\u5BF9\u4E8E\u67D0\u4E9B\u8017\u65F6\u903B\u8F91\u5E76\u4E0D\u9700\u8981\u5728\u9996\u5C4F\u5C31\u4F7F\u7528\u7684\uFF0C\u5C31\u53EF\u4EE5\u4F7F\u7528\u61D2\u6267\u884C\u3002\u61D2\u6267\u884C\u9700\u8981\u5524\u9192\uFF0C\u4E00\u822C\u53EF\u4EE5\u901A\u8FC7\u5B9A\u65F6\u5668\u6216\u8005\u4E8B\u4EF6\u7684\u8C03\u7528\u6765\u5524\u9192</li></ul><p><strong>\u61D2\u52A0\u8F7D</strong></p><ul><li>\u61D2\u52A0\u8F7D\u5C31\u662F\u5C06\u4E0D\u5173\u952E\u7684\u8D44\u6E90\u5EF6\u540E\u52A0\u8F7D</li></ul><blockquote><p>\u61D2\u52A0\u8F7D\u7684\u539F\u7406\u5C31\u662F\u53EA\u52A0\u8F7D\u81EA\u5B9A\u4E49\u533A\u57DF\uFF08\u901A\u5E38\u662F\u53EF\u89C6\u533A\u57DF\uFF0C\u4F46\u4E5F\u53EF\u4EE5\u662F\u5373\u5C06\u8FDB\u5165\u53EF\u89C6\u533A\u57DF\uFF09\u5185\u9700\u8981\u52A0\u8F7D\u7684\u4E1C\u897F\u3002\u5BF9\u4E8E\u56FE\u7247\u6765\u8BF4\uFF0C\u5148\u8BBE\u7F6E\u56FE\u7247\u6807\u7B7E\u7684 <code>src</code> \u5C5E\u6027\u4E3A\u4E00\u5F20\u5360\u4F4D\u56FE\uFF0C\u5C06\u771F\u5B9E\u7684\u56FE\u7247\u8D44\u6E90\u653E\u5165\u4E00\u4E2A\u81EA\u5B9A\u4E49\u5C5E\u6027\u4E2D\uFF0C\u5F53\u8FDB\u5165\u81EA\u5B9A\u4E49\u533A\u57DF\u65F6\uFF0C\u5C31\u5C06\u81EA\u5B9A\u4E49\u5C5E\u6027\u66FF\u6362\u4E3A <code>src</code> \u5C5E\u6027\uFF0C\u8FD9\u6837\u56FE\u7247\u5C31\u4F1A\u53BB\u4E0B\u8F7D\u8D44\u6E90\uFF0C\u5B9E\u73B0\u4E86\u56FE\u7247\u61D2\u52A0\u8F7D</p></blockquote><ul><li>\u61D2\u52A0\u8F7D\u4E0D\u4EC5\u53EF\u4EE5\u7528\u4E8E\u56FE\u7247\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u5728\u522B\u7684\u8D44\u6E90\u4E0A\u3002\u6BD4\u5982\u8FDB\u5165\u53EF\u89C6\u533A\u57DF\u624D\u5F00\u59CB\u64AD\u653E\u89C6\u9891\u7B49</li></ul>",6),eln={id:"_1-7-\u6587\u4EF6\u4F18\u5316",tabindex:"-1"},tln=n("a",{class:"header-anchor",href:"#_1-7-\u6587\u4EF6\u4F18\u5316","aria-hidden":"true"},"#",-1),pln=s(),oln={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_1-7-%E6%96%87%E4%BB%B6%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},cln=s("#"),lln=s("1.7 \u6587\u4EF6\u4F18\u5316"),rln=t("<p><strong>\u56FE\u7247\u4F18\u5316</strong></p><blockquote><p>\u5BF9\u4E8E\u5982\u4F55\u4F18\u5316\u56FE\u7247\uFF0C\u6709 2 \u4E2A\u601D\u8DEF</p></blockquote><ul><li>\u51CF\u5C11\u50CF\u7D20\u70B9</li><li>\u51CF\u5C11\u6BCF\u4E2A\u50CF\u7D20\u70B9\u80FD\u591F\u663E\u793A\u7684\u989C\u8272</li></ul><p><strong>\u56FE\u7247\u52A0\u8F7D\u4F18\u5316</strong></p><ul><li>\u4E0D\u7528\u56FE\u7247\u3002\u5F88\u591A\u65F6\u5019\u4F1A\u4F7F\u7528\u5230\u5F88\u591A\u4FEE\u9970\u7C7B\u56FE\u7247\uFF0C\u5176\u5B9E\u8FD9\u7C7B\u4FEE\u9970\u56FE\u7247\u5B8C\u5168\u53EF\u4EE5\u7528 <code>CSS</code> \u53BB\u4EE3\u66FF\u3002</li><li>\u5BF9\u4E8E\u79FB\u52A8\u7AEF\u6765\u8BF4\uFF0C\u5C4F\u5E55\u5BBD\u5EA6\u5C31\u90A3\u4E48\u70B9\uFF0C\u5B8C\u5168\u6CA1\u6709\u5FC5\u8981\u53BB\u52A0\u8F7D\u539F\u56FE\u6D6A\u8D39\u5E26\u5BBD\u3002\u4E00\u822C\u56FE\u7247\u90FD\u7528 CDN \u52A0\u8F7D\uFF0C\u53EF\u4EE5\u8BA1\u7B97\u51FA\u9002\u914D\u5C4F\u5E55\u7684\u5BBD\u5EA6\uFF0C\u7136\u540E\u53BB\u8BF7\u6C42\u76F8\u5E94\u88C1\u526A\u597D\u7684\u56FE\u7247</li><li>\u5C0F\u56FE\u4F7F\u7528 <code>base64</code>\u683C\u5F0F</li><li>\u5C06\u591A\u4E2A\u56FE\u6807\u6587\u4EF6\u6574\u5408\u5230\u4E00\u5F20\u56FE\u7247\u4E2D\uFF08\u96EA\u78A7\u56FE\uFF09</li><li>\u9009\u62E9\u6B63\u786E\u7684\u56FE\u7247\u683C\u5F0F\uFF1A <ul><li>\u5BF9\u4E8E\u80FD\u591F\u663E\u793A <code>WebP</code> \u683C\u5F0F\u7684\u6D4F\u89C8\u5668\u5C3D\u91CF\u4F7F\u7528 <code>WebP</code> \u683C\u5F0F\u3002\u56E0\u4E3A <code>WebP</code> \u683C\u5F0F\u5177\u6709\u66F4\u597D\u7684\u56FE\u50CF\u6570\u636E\u538B\u7F29\u7B97\u6CD5\uFF0C\u80FD\u5E26\u6765\u66F4\u5C0F\u7684\u56FE\u7247\u4F53\u79EF\uFF0C\u800C\u4E14\u62E5\u6709\u8089\u773C\u8BC6\u522B\u65E0\u5DEE\u5F02\u7684\u56FE\u50CF\u8D28\u91CF\uFF0C\u7F3A\u70B9\u5C31\u662F\u517C\u5BB9\u6027\u5E76\u4E0D\u597D</li><li>\u5C0F\u56FE\u4F7F\u7528 <code>PNG</code>\uFF0C\u5176\u5B9E\u5BF9\u4E8E\u5927\u90E8\u5206\u56FE\u6807\u8FD9\u7C7B\u56FE\u7247\uFF0C\u5B8C\u5168\u53EF\u4EE5\u4F7F\u7528 <code>SVG</code> \u4EE3\u66FF</li><li>\u7167\u7247\u4F7F\u7528 <code>JPEG</code></li></ul></li></ul><p><strong>\u5176\u4ED6\u6587\u4EF6\u4F18\u5316</strong></p><ul><li><code>CSS</code>\u6587\u4EF6\u653E\u5728 <code>head</code> \u4E2D</li><li>\u670D\u52A1\u7AEF\u5F00\u542F\u6587\u4EF6\u538B\u7F29\u529F\u80FD</li><li>\u5C06 <code>script</code> \u6807\u7B7E\u653E\u5728 <code>body</code> \u5E95\u90E8\uFF0C\u56E0\u4E3A <code>JS</code> \u6587\u4EF6\u6267\u884C\u4F1A\u963B\u585E\u6E32\u67D3\u3002\u5F53\u7136\u4E5F\u53EF\u4EE5\u628A <code>script</code> \u6807\u7B7E\u653E\u5728\u4EFB\u610F\u4F4D\u7F6E\u7136\u540E\u52A0\u4E0A <code>defer</code> \uFF0C\u8868\u793A\u8BE5\u6587\u4EF6\u4F1A\u5E76\u884C\u4E0B\u8F7D\uFF0C\u4F46\u662F\u4F1A\u653E\u5230 <code>HTML</code> \u89E3\u6790\u5B8C\u6210\u540E\u987A\u5E8F\u6267\u884C\u3002\u5BF9\u4E8E\u6CA1\u6709\u4EFB\u4F55\u4F9D\u8D56\u7684 <code>JS</code>\u6587\u4EF6\u53EF\u4EE5\u52A0\u4E0A <code>async</code> \uFF0C\u8868\u793A\u52A0\u8F7D\u548C\u6E32\u67D3\u540E\u7EED\u6587\u6863\u5143\u7D20\u7684\u8FC7\u7A0B\u5C06\u548C <code>JS</code> \u6587\u4EF6\u7684\u52A0\u8F7D\u4E0E\u6267\u884C\u5E76\u884C\u65E0\u5E8F\u8FDB\u884C\u3002 \u6267\u884C <code>JS</code>\u4EE3\u7801\u8FC7\u957F\u4F1A\u5361\u4F4F\u6E32\u67D3\uFF0C\u5BF9\u4E8E\u9700\u8981\u5F88\u591A\u65F6\u95F4\u8BA1\u7B97\u7684\u4EE3\u7801</li><li>\u53EF\u4EE5\u8003\u8651\u4F7F\u7528 <code>Webworker</code>\u3002<code>Webworker</code>\u53EF\u4EE5\u8BA9\u6211\u4EEC\u53E6\u5F00\u4E00\u4E2A\u7EBF\u7A0B\u6267\u884C\u811A\u672C\u800C\u4E0D\u5F71\u54CD\u6E32\u67D3\u3002</li></ul><p><strong>CDN</strong></p><blockquote><p>\u9759\u6001\u8D44\u6E90\u5C3D\u91CF\u4F7F\u7528 <code>CDN</code> \u52A0\u8F7D\uFF0C\u7531\u4E8E\u6D4F\u89C8\u5668\u5BF9\u4E8E\u5355\u4E2A\u57DF\u540D\u6709\u5E76\u53D1\u8BF7\u6C42\u4E0A\u9650\uFF0C\u53EF\u4EE5\u8003\u8651\u4F7F\u7528\u591A\u4E2A <code>CDN</code> \u57DF\u540D\u3002\u5BF9\u4E8E <code>CDN</code> \u52A0\u8F7D\u9759\u6001\u8D44\u6E90\u9700\u8981\u6CE8\u610F <code>CDN</code> \u57DF\u540D\u8981\u4E0E\u4E3B\u7AD9\u4E0D\u540C\uFF0C\u5426\u5219\u6BCF\u6B21\u8BF7\u6C42\u90FD\u4F1A\u5E26\u4E0A\u4E3B\u7AD9\u7684 <code>Cookie</code></p></blockquote>",9),iln={id:"_1-8-\u5176\u4ED6",tabindex:"-1"},uln=n("a",{class:"header-anchor",href:"#_1-8-\u5176\u4ED6","aria-hidden":"true"},"#",-1),kln=s(),dln={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_1-8-%E5%85%B6%E4%BB%96",target:"_blank",rel:"noopener noreferrer"},bln=s("#"),mln=s("1.8 \u5176\u4ED6"),hln=t("<p><strong>\u4F7F\u7528 Webpack \u4F18\u5316\u9879\u76EE</strong></p><ul><li>\u5BF9\u4E8E <code>Webpack4</code>\uFF0C\u6253\u5305\u9879\u76EE\u4F7F\u7528 <code>production</code> \u6A21\u5F0F\uFF0C\u8FD9\u6837\u4F1A\u81EA\u52A8\u5F00\u542F\u4EE3\u7801\u538B\u7F29</li><li>\u4F7F\u7528 <code>ES6</code> \u6A21\u5757\u6765\u5F00\u542F <code>tree shaking</code>\uFF0C\u8FD9\u4E2A\u6280\u672F\u53EF\u4EE5\u79FB\u9664\u6CA1\u6709\u4F7F\u7528\u7684\u4EE3\u7801</li><li>\u4F18\u5316\u56FE\u7247\uFF0C\u5BF9\u4E8E\u5C0F\u56FE\u53EF\u4EE5\u4F7F\u7528 <code>base64</code> \u7684\u65B9\u5F0F\u5199\u5165\u6587\u4EF6\u4E2D</li><li>\u6309\u7167\u8DEF\u7531\u62C6\u5206\u4EE3\u7801\uFF0C\u5B9E\u73B0\u6309\u9700\u52A0\u8F7D</li><li>\u7ED9\u6253\u5305\u51FA\u6765\u7684\u6587\u4EF6\u540D\u6DFB\u52A0\u54C8\u5E0C\uFF0C\u5B9E\u73B0\u6D4F\u89C8\u5668\u7F13\u5B58\u6587\u4EF6</li></ul><p><strong>\u76D1\u63A7</strong></p><blockquote><p>\u5BF9\u4E8E\u4EE3\u7801\u8FD0\u884C\u9519\u8BEF\uFF0C\u901A\u5E38\u7684\u529E\u6CD5\u662F\u4F7F\u7528 <code>window.onerror</code> \u62E6\u622A\u62A5\u9519\u3002\u8BE5\u65B9\u6CD5\u80FD\u62E6\u622A\u5230\u5927\u90E8\u5206\u7684\u8BE6\u7EC6\u62A5\u9519\u4FE1\u606F\uFF0C\u4F46\u662F\u4E5F\u6709\u4F8B\u5916</p></blockquote><ul><li>\u5BF9\u4E8E\u8DE8\u57DF\u7684\u4EE3\u7801\u8FD0\u884C\u9519\u8BEF\u4F1A\u663E\u793A <code>Script error</code>. \u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\u6211\u4EEC\u9700\u8981\u7ED9 <code>script</code> \u6807\u7B7E\u6DFB\u52A0 <code>crossorigin</code> \u5C5E\u6027</li><li>\u5BF9\u4E8E\u67D0\u4E9B\u6D4F\u89C8\u5668\u53EF\u80FD\u4E0D\u4F1A\u663E\u793A\u8C03\u7528\u6808\u4FE1\u606F\uFF0C\u8FD9\u79CD\u60C5\u51B5\u53EF\u4EE5\u901A\u8FC7 <code>arguments.callee.caller</code> \u6765\u505A\u6808\u9012\u5F52</li><li>\u5BF9\u4E8E\u5F02\u6B65\u4EE3\u7801\u6765\u8BF4\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>catch</code> \u7684\u65B9\u5F0F\u6355\u83B7\u9519\u8BEF\u3002\u6BD4\u5982 <code>Promise</code> \u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 catch \u51FD\u6570\uFF0C<code>async await</code> \u53EF\u4EE5\u4F7F\u7528 <code>try catch</code></li><li>\u4F46\u662F\u8981\u6CE8\u610F\u7EBF\u4E0A\u8FD0\u884C\u7684\u4EE3\u7801\u90FD\u662F\u538B\u7F29\u8FC7\u7684\uFF0C\u9700\u8981\u5728\u6253\u5305\u65F6\u751F\u6210 <code>sourceMap</code> \u6587\u4EF6\u4FBF\u4E8E <code>debug</code>\u3002</li><li>\u5BF9\u4E8E\u6355\u83B7\u7684\u9519\u8BEF\u9700\u8981\u4E0A\u4F20\u7ED9\u670D\u52A1\u5668\uFF0C\u901A\u5E38\u53EF\u4EE5\u901A\u8FC7 <code>img</code> \u6807\u7B7E\u7684 <code>src</code>\u53D1\u8D77\u4E00\u4E2A\u8BF7\u6C42</li></ul>",5),_ln={id:"_2-\u9996\u5C4F\u6E32\u67D3\u4F18\u5316",tabindex:"-1"},gln=n("a",{class:"header-anchor",href:"#_2-\u9996\u5C4F\u6E32\u67D3\u4F18\u5316","aria-hidden":"true"},"#",-1),Eln=s(),fln={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_2-%E9%A6%96%E5%B1%8F%E6%B8%B2%E6%9F%93%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},vln=s("#"),wln=s("2 \u9996\u5C4F\u6E32\u67D3\u4F18\u5316"),yln=t("<ul><li><p>css / js \u5206\u5272\uFF0C\u4F7F\u9996\u5C4F\u4F9D\u8D56\u7684\u6587\u4EF6\u4F53\u79EF\u6700\u5C0F\uFF0C\u5185\u8054\u9996\u5C4F\u5173\u952E css / js\uFF1B</p></li><li><p>\u975E\u5173\u952E\u6027\u7684\u6587\u4EF6\u5C3D\u53EF\u80FD\u7684 \u5F02\u6B65\u52A0\u8F7D\u548C\u61D2\u52A0\u8F7D\uFF0C\u907F\u514D\u963B\u585E\u9996\u9875\u6E32\u67D3\uFF1B</p></li><li><p>\u4F7F\u7528dns-prefetch / preconnect / prefetch / preload\u7B49\u6D4F\u89C8\u5668\u63D0\u4F9B\u7684\u8D44\u6E90\u63D0\u793A\uFF0C\u52A0\u5FEB\u6587\u4EF6\u4F20\u8F93\uFF1B</p></li><li><p>\u8C28\u614E\u63A7\u5236\u597D Web\u5B57\u4F53\uFF0C\u4E00\u4E2A\u5927\u5B57\u4F53\u5305\u8DB3\u591F\u8BA9\u4F60\u529F\u4E8F\u4E00\u7BD1</p><ul><li>\u63A7\u5236\u5B57\u4F53\u5305\u7684\u52A0\u8F7D\u65F6\u673A\uFF1B</li><li>\u5982\u679C\u4F7F\u7528\u7684\u5B57\u4F53\u6709\u9650\uFF0C\u90A3\u5C3D\u53EF\u80FD\u53EA\u5C06\u4F7F\u7528\u7684\u6587\u5B57\u5355\u72EC\u6253\u5305\uFF0C\u80FD\u6709\u6548\u51CF\u5C11\u4F53\u79EF\uFF1B \u5408\u7406\u5229\u7528 Localstorage / server-worker \u7B49\u5B58\u50A8\u65B9\u5F0F\u8FDB\u884C \u6570\u636E\u4E0E\u8D44\u6E90\u7F13\u5B58</li></ul></li><li><p>\u5206\u6E05\u8F7B\u91CD\u7F13\u6025</p><ul><li>\u91CD\u8981\u7684\u5143\u7D20\u4F18\u5148\u6E32\u67D3\uFF1B</li><li>\u89C6\u7A97\u5185\u7684\u5143\u7D20\u4F18\u5148\u6E32\u67D3</li></ul></li><li><p>\u670D\u52A1\u7AEF\u6E32\u67D3(SSR)</p><p>:</p><ul><li>\u51CF\u5C11\u9996\u5C4F\u9700\u8981\u7684\u6570\u636E\u91CF\uFF0C\u5254\u9664\u5197\u4F59\u6570\u636E\u548C\u8BF7\u6C42\uFF1B</li><li>\u63A7\u5236\u597D\u7F13\u5B58\uFF0C\u5BF9\u6570\u636E/\u9875\u9762\u8FDB\u884C\u5408\u7406\u7684\u7F13\u5B58\uFF1B</li><li>\u9875\u9762\u7684\u8BF7\u6C42\u4F7F\u7528\u6D41\u7684\u5F62\u5F0F\u8FDB\u884C\u4F20\u9012\uFF1B</li></ul></li><li><p>\u4F18\u5316\u7528\u6237\u611F\u77E5</p><ul><li>\u5229\u7528\u4E00\u4E9B\u52A8\u753B \u8FC7\u6E21\u6548\u679C\uFF0C\u80FD\u6709\u6548\u51CF\u5C11\u7528\u6237\u5BF9\u5361\u987F\u7684\u611F\u77E5\uFF1B</li><li>\u5C3D\u53EF\u80FD\u5229\u7528 \u9AA8\u67B6\u5C4F(Placeholder) / Loading \u7B49\u51CF\u5C11\u7528\u6237\u5BF9\u767D\u5C4F\u7684\u611F\u77E5\uFF1B</li><li>\u52A8\u753B\u5E27\u6570\u5C3D\u91CF\u4FDD\u8BC1\u5728 30\u5E27 \u4EE5\u4E0A\uFF0C\u4F4E\u5E27\u6570\u3001\u5361\u987F\u7684\u52A8\u753B\u5B81\u613F\u4E0D\u8981\uFF1B</li><li>js \u6267\u884C\u65F6\u95F4\u907F\u514D\u8D85\u8FC7 100ms\uFF0C\u8D85\u8FC7\u7684\u8BDD\u5C31\u9700\u8981\u505A <ul><li>\u5BFB\u627E\u53EF \u7F13\u5B58 \u7684\u70B9</li><li>\u4EFB\u52A1\u7684 \u5206\u5272\u5F02\u6B65 \u6216 web worker \u6267\u884C</li></ul></li></ul></li></ul><p><strong>\u79FB\u52A8\u7AEF\u7684\u6027\u80FD\u4F18\u5316</strong></p><ol><li>\u9996\u5C4F\u52A0\u8F7D\u548C\u6309\u9700\u52A0\u8F7D\uFF0C\u61D2\u52A0\u8F7D</li><li>\u8D44\u6E90\u9884\u52A0\u8F7D</li><li>\u56FE\u7247\u538B\u7F29\u5904\u7406\uFF0C\u4F7F\u7528<code>base64</code>\u5185\u5D4C\u56FE\u7247</li><li>\u5408\u7406\u7F13\u5B58dom\u5BF9\u8C61</li><li>\u4F7F\u7528<code>touchstart</code>\u4EE3\u66FF<code>click</code>\uFF08<code>click 300</code>\u6BEB\u79D2\u7684\u5EF6\u8FDF\uFF09</li><li>\u5229\u7528<code>transform:translateZ(0)</code>\uFF0C\u5F00\u542F\u786C\u4EF6GUP\u52A0\u901F</li><li>\u4E0D\u6EE5\u7528web\u5B57\u4F53\uFF0C\u4E0D\u6EE5\u7528<code>float</code>\uFF08\u5E03\u5C40\u8BA1\u7B97\u6D88\u8017\u6027\u80FD\uFF09\uFF0C\u51CF\u5C11<code>font-size</code>\u58F0\u660E</li><li>\u4F7F\u7528<code>viewport</code>\u56FA\u5B9A\u5C4F\u5E55\u6E32\u67D3\uFF0C\u52A0\u901F\u9875\u9762\u6E32\u67D3\u5185\u5BB9</li><li>\u5C3D\u91CF\u4F7F\u7528\u4E8B\u4EF6\u4EE3\u7406\uFF0C\u907F\u514D\u76F4\u63A5\u4E8B\u4EF6\u7ED1\u5B9A</li></ol>",3),xln={id:"_3-\u9875\u9762\u57FA\u7840\u4F18\u5316",tabindex:"-1"},Aln=n("a",{class:"header-anchor",href:"#_3-\u9875\u9762\u57FA\u7840\u4F18\u5316","aria-hidden":"true"},"#",-1),Bln=s(),qln={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_3-%E9%A1%B5%E9%9D%A2%E5%9F%BA%E7%A1%80%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},jln=s("#"),Sln=s("3 \u9875\u9762\u57FA\u7840\u4F18\u5316"),Cln=t(`<ul><li><p>\u5F15\u5165\u4F4D\u7F6E: css \u6587\u4EF6</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;head&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u4E2D\u5F15\u5165\uFF0C js \u6587\u4EF6</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;body&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5E95\u90E8\u5F15\u5165</p><ul><li>\u5F71\u54CD\u9996\u5C4F\u7684\uFF0C\u4F18\u5148\u7EA7\u5F88\u9AD8\u7684 js \u4E5F\u53EF\u4EE5\u5934\u90E8\u5F15\u5165\uFF0C\u751A\u81F3\u5185\u8054</li></ul></li><li><p><strong>\u51CF\u5C11\u8BF7\u6C42</strong> (http 1.0 - 1.1)\uFF0C\u5408\u5E76\u8BF7\u6C42\uFF0C\u6B63\u786E\u8BBE\u7F6E http \u7F13\u5B58</p></li><li><p>\u51CF\u5C11\u6587\u4EF6\u4F53\u79EF</p><ul><li>\u5220\u9664\u591A\u4F59\u4EE3\u7801: <ul><li>tree-shaking</li><li>UglifyJs</li><li>code-spliting</li></ul></li><li>\u6DF7\u6DC6 / \u538B\u7F29\u4EE3\u7801\uFF0C\u5F00\u542F gzip \u538B\u7F29\uFF1B</li><li>\u591A\u4EFD\u7F16\u8BD1\u6587\u4EF6\u6309\u6761\u4EF6\u5F15\u5165 <ul><li>\u9488\u5BF9\u73B0\u4EE3\u6D4F\u89C8\u5668\u76F4\u63A5\u7ED9 ES6 \u6587\u4EF6\uFF0C\u53EA\u9488\u5BF9\u4F4E\u7AEF\u6D4F\u89C8\u5668\u5F15\u7528\u7F16\u8BD1\u540E\u7684 ES5 \u6587\u4EF6</li><li>\u53EF\u4EE5\u5229\u7528<code>&lt;script type=&quot;module&quot;&gt; / &lt;script type=&quot;module&quot;&gt;</code>\u8FDB\u884C\u6761\u4EF6\u5F15\u5165\u7528</li></ul></li><li>\u52A8\u6001 <code>polyfill</code>\uFF0C\u53EA\u9488\u5BF9\u4E0D\u652F\u6301\u7684\u6D4F\u89C8\u5668\u5F15\u5165 <code>polyfill\uFF1B</code></li></ul></li><li><p>\u56FE\u7247\u4F18\u5316:</p><ul><li>\u6839\u636E\u4E1A\u52A1\u573A\u666F\uFF0C\u4E0EUI\u63A2\u8BA8\u9009\u62E9 \u5408\u9002\u8D28\u91CF\uFF0C\u5408\u9002\u5C3A\u5BF8\uFF1B</li><li>\u6839\u636E\u9700\u6C42\u548C\u5E73\u53F0\uFF0C\u9009\u62E9 \u5408\u9002\u683C\u5F0F\uFF0C\u4F8B\u5982\u975E\u900F\u660E\u65F6\u53EF\u7528 jpg\uFF1B\u975E\u82F9\u679C\u7AEF\uFF0C\u4F7F\u7528 webp\uFF1B</li><li>\u5C0F\u56FE\u7247\u5408\u6210 \u96EA\u78A7\u56FE\uFF0C\u4F4E\u4E8E 5K \u7684\u56FE\u7247\u53EF\u4EE5\u8F6C\u6362\u6210 base64 \u5185\u5D4C</li><li>\u5408\u9002\u573A\u666F\u4E0B\uFF0C\u4F7F\u7528 <code>iconfont</code> \u6216\u8005 <code>svg</code>\uFF1B</li></ul></li><li><p>\u4F7F\u7528\u7F13\u5B58</p><ul><li><p><strong>\u6D4F\u89C8\u5668\u7F13\u5B58</strong>: \u901A\u8FC7\u8BBE\u7F6E\u8BF7\u6C42\u7684\u8FC7\u671F\u65F6\u95F4\uFF0C\u5408\u7406\u8FD0\u7528\u6D4F\u89C8\u5668\u7F13\u5B58\uFF1B</p></li><li><p>CDN\u7F13\u5B58</p><p>: \u9759\u6001\u6587\u4EF6\u5408\u7406\u4F7F\u7528 CDN \u7F13\u5B58\u6280\u672F</p><ul><li>HTML \u653E\u4E8E\u81EA\u5DF1\u7684\u670D\u52A1\u5668\u4E0A\uFF1B</li><li>\u6253\u5305\u540E\u7684\u56FE\u7247 / js / css \u7B49\u8D44\u6E90\u4E0A\u4F20\u5230 CDN \u4E0A\uFF0C\u6587\u4EF6\u5E26\u4E0A hash \u503C\uFF1B</li><li>\u7531\u4E8E\u6D4F\u89C8\u5668\u5BF9\u5355\u4E2A\u57DF\u540D\u8BF7\u6C42\u7684\u9650\u5236\uFF0C\u53EF\u4EE5\u5C06\u8D44\u6E90\u653E\u5728\u591A\u4E2A\u4E0D\u540C\u57DF\u7684 CDN \u4E0A\uFF0C\u53EF\u4EE5\u7ED5\u5F00\u8BE5\u9650\u5236\uFF1B</li></ul></li><li><p><strong>\u670D\u52A1\u5668\u7F13\u5B58</strong>: \u5C06\u4E0D\u53D8\u7684\u6570\u636E\u3001\u9875\u9762\u7F13\u5B58\u5230 \u5185\u5B58 \u6216 \u8FDC\u7A0B\u5B58\u50A8(redis\u7B49) \u4E0A</p></li><li><p><strong>\u6570\u636E\u7F13\u5B58</strong>: \u901A\u8FC7\u5404\u79CD\u5B58\u50A8\u5C06\u4E0D\u5E38\u53D8\u7684\u6570\u636E\u8FDB\u884C\u7F13\u5B58\uFF0C\u7F29\u77ED\u6570\u636E\u7684\u83B7\u53D6\u65F6\u95F4</p></li></ul></li></ul>`,1),Dln={id:"_4-\u6027\u80FD\u4F18\u5316\u65B9\u5411",tabindex:"-1"},Fln=n("a",{class:"header-anchor",href:"#_4-\u6027\u80FD\u4F18\u5316\u65B9\u5411","aria-hidden":"true"},"#",-1),Pln=s(),Tln={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_4-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%96%B9%E5%90%91",target:"_blank",rel:"noopener noreferrer"},Nln=s("#"),Mln=s("4 \u6027\u80FD\u4F18\u5316\u65B9\u5411"),Oln=n("blockquote",null,[n("p",null,"\u524D\u7AEF\u6027\u80FD\u4F18\u5316\u5206\u4E3A\u4E24\u4E2A\u65B9\u5411\uFF0C\u4E00\u662F\u5DE5\u7A0B\u5316\u65B9\u5411\uFF0C\u53E6\u4E00\u4E2A\u662F\u7EC6\u8282\u65B9\u5411")],-1),Iln={id:"_4-1-\u5DE5\u7A0B\u5316\u65B9\u5411",tabindex:"-1"},Rln=n("a",{class:"header-anchor",href:"#_4-1-\u5DE5\u7A0B\u5316\u65B9\u5411","aria-hidden":"true"},"#",-1),Vln=s(),Hln={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_4-1-%E5%B7%A5%E7%A8%8B%E5%8C%96%E6%96%B9%E5%90%91",target:"_blank",rel:"noopener noreferrer"},Lln=s("#"),Uln=s("4.1 \u5DE5\u7A0B\u5316\u65B9\u5411"),Jln=t("<ul><li>\u5BA2\u6237\u7AEFGzip\u79BB\u7EBF\u5305\uFF0C\u670D\u52A1\u5668\u8D44\u6E90Gzip\u538B\u7F29\u3002</li><li>JS\u7626\u8EAB\uFF0C<code>Tree shaking</code>\uFF0C<code>ES Module</code>\uFF0C\u52A8\u6001<code>Import</code>\uFF0C\u52A8\u6001<code>Polyfill</code></li><li>\u56FE\u7247\u52A0\u8F7D\u4F18\u5316\uFF0C<code>Webp</code>\uFF0C\u8003\u8651\u517C\u5BB9\u6027\uFF0C\u53EF\u4EE5\u63D0\u524D\u52A0\u8F7D\u4E00\u5F20\u56FE\u7247\uFF0C\u55C5\u63A2\u662F\u5426\u652F\u6301<code>Webp</code></li><li>\u670D\u52A1\u7AEF\u6E32\u67D3\uFF0C\u5BA2\u6237\u7AEF\u9884\u6E32\u67D3</li><li>CDN\u9759\u6001\u8D44\u6E90</li><li><code>Webpack Dll</code>\uFF0C\u901A\u7528\u4F18\u5148\u6253\u5305\u62BD\u79BB\uFF0C\u5229\u7528\u6D4F\u89C8\u5668\u7F13\u5B58</li><li>\u9AA8\u67B6\u56FE</li><li>\u6570\u636E\u9884\u53D6\uFF0C\u5305\u62EC\u63A5\u53E3\u6570\u636E\uFF0C\u548C\u52A0\u8F7D\u8BE6\u60C5\u9875\u56FE\u7247</li><li>Webpack\u672C\u8EAB\u63D0\u4F9B\u7684\u4F18\u5316\uFF0CBase64\uFF0C\u8D44\u6E90\u538B\u7F29\uFF0CTree shaking\uFF0C\u62C6\u5305chunk</li><li>\u51CF\u5C11\u91CD\u5B9A\u5411</li></ul>",1),Wln={id:"_4-2-\u7EC6\u8282\u65B9\u5411",tabindex:"-1"},zln=n("a",{class:"header-anchor",href:"#_4-2-\u7EC6\u8282\u65B9\u5411","aria-hidden":"true"},"#",-1),Gln=s(),$ln={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_4-2-%E7%BB%86%E8%8A%82%E6%96%B9%E5%90%91",target:"_blank",rel:"noopener noreferrer"},Xln=s("#"),Kln=s("4.2 \u7EC6\u8282\u65B9\u5411"),Qln=t(`<ul><li><p>\u56FE\u7247\uFF0C\u56FE\u7247\u5360\u4F4D\uFF0C\u56FE\u7247\u61D2\u52A0\u8F7D\u3002 \u96EA\u78A7\u56FE</p></li><li><p>\u4F7F\u7528</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>prefetch / preload
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u9884\u52A0\u8F7D\u7B49\u65B0\u7279\u6027</p><ul><li><code>Preload</code> \u6765\u544A\u8BC9\u6D4F\u89C8\u5668\u9884\u5148\u8BF7\u6C42\u5F53\u524D\u9875\u9700\u8981\u7684\u8D44\u6E90\uFF0C\u4ECE\u800C\u63D0\u9AD8\u8FD9\u4E9B\u8D44\u6E90\u7684\u8BF7\u6C42\u4F18\u5148\u7EA7\u3002\u6BD4\u5982\uFF0C\u5BF9\u4E8E\u90A3\u4E9B\u672C\u6765\u8BF7\u6C42\u4F18\u5148\u7EA7\u8F83\u4F4E\u7684\u5173\u952E\u8BF7\u6C42\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E <code>Preload</code> \u6765\u63D0\u5347\u8FD9\u4E9B\u8BF7\u6C42\u7684\u4F18\u5148\u7EA7</li><li><code>Prefetch</code> \u6765\u544A\u8BC9\u6D4F\u89C8\u5668\u7528\u6237\u5C06\u6765\u53EF\u80FD\u5728\u5176\u4ED6\u9875\u9762\uFF08\u975E\u672C\u9875\u9762\uFF09\u53EF\u80FD\u4F7F\u7528\u5230\u7684\u8D44\u6E90\uFF0C\u90A3\u4E48\u6D4F\u89C8\u5668\u4F1A\u5728\u7A7A\u95F2\u65F6\uFF0C\u5C31\u53BB\u9884\u5148\u52A0\u8F7D\u8FD9\u4E9B\u8D44\u6E90\u653E\u5728 <code>http</code> \u7F13\u5B58\u5185\uFF0C\u6700\u5E38\u89C1\u7684 <code>dns-prefetch</code>\u3002\u6BD4\u5982\uFF0C\u5F53\u6211\u4EEC\u5728\u6D4F\u89C8A\u9875\u9762\uFF0C\u5982\u679C\u4F1A\u901A\u8FC7A\u9875\u9762\u4E2D\u7684\u94FE\u63A5\u8DF3\u8F6C\u5230B\u9875\u9762\uFF0C\u800CB\u9875\u9762\u4E2D\u6211\u4EEC\u6709\u4E9B\u8D44\u6E90\u5E0C\u671B\u5C3D\u65E9\u63D0\u524D\u52A0\u8F7D\uFF0C\u90A3\u4E48\u6211\u4EEC\u5C31\u53EF\u4EE5\u5728A\u9875\u9762\u91CC\u6DFB\u52A0\u8FD9\u4E9B\u8D44\u6E90 <code>Prefetch</code> \uFF0C\u90A3\u4E48\u5F53\u6D4F\u89C8\u5668\u7A7A\u95F2\u65F6\uFF0C\u5C31\u4F1A\u53BB\u52A0\u8F7D\u8FD9\u4E9B\u8D44\u6E90</li><li>\u6240\u4EE5\uFF0C\u5BF9\u4E8E\u90A3\u4E9B\u53EF\u80FD\u5728\u5F53\u524D\u9875\u9762\u4F7F\u7528\u5230\u7684\u8D44\u6E90\u53EF\u4EE5\u5229\u7528 <code>Preload</code>\uFF0C\u800C\u5BF9\u4E00\u4E9B\u53EF\u80FD\u5728\u5C06\u6765\u7684\u67D0\u4E9B\u9875\u9762\u4E2D\u88AB\u4F7F\u7528\u7684\u8D44\u6E90\u53EF\u4EE5\u5229\u7528 <code>Prefetch</code>\u3002\u5982\u679C\u4ECE\u52A0\u8F7D\u4F18\u5148\u7EA7\u4E0A\u770B\uFF0C<code>Preload</code> \u4F1A\u63D0\u5347\u8BF7\u6C42\u4F18\u5148\u7EA7\uFF1B\u800C<code>Prefetch</code>\u4F1A\u628A\u8D44\u6E90\u7684\u4F18\u5148\u7EA7\u653E\u5728\u6700\u4F4E\uFF0C\u5F53\u6D4F\u89C8\u5668\u7A7A\u95F2\u65F6\u624D\u53BB\u9884\u52A0\u8F7D</li></ul></li><li><p>\u670D\u52A1\u5668\u5408\u7406\u8BBE\u7F6E\u7F13\u5B58\u7B56\u7565</p></li><li><p><code>async</code>\uFF08\u52A0\u8F7D\u5B8C\u5F53\u524Djs\u7ACB\u5373\u6267\u884C\uFF09/ <code>defer</code>(\u6240\u6709\u8D44\u6E90\u52A0\u8F7D\u5B8C\u4E4B\u540E\u6267\u884Cjs)</p></li><li><p>\u51CF\u5C11Dom\u7684\u64CD\u4F5C\uFF0C\u51CF\u5C11\u91CD\u6392\u91CD\u7ED8</p></li><li><p>\u4ECE\u5BA2\u6237\u7AEF\u5C42\u9762\uFF0C\u9996\u5C4F\u51CF\u5C11\u548C\u5BA2\u6237\u7AEF\u4EA4\u4E92\uFF0C\u5408\u5E76\u63A5\u53E3\u8BF7\u6C42</p></li><li><p>\u6570\u636E\u7F13\u5B58</p></li><li><p>\u9996\u9875\u4E0D\u52A0\u8F7D\u4E0D\u53EF\u89C6\u7EC4\u4EF6</p></li><li><p>\u9632\u6B62\u6E32\u67D3\u6296\u52A8\uFF0C\u63A7\u5236\u65F6\u5E8F</p></li><li><p>\u51CF\u5C11\u7EC4\u4EF6\u5C42\u7EA7</p></li><li><p>\u4F18\u5148\u4F7F\u7528Flex\u5E03\u5C40</p></li></ul>`,1),Yln={id:"_5-\u957F\u5217\u8868\u4F18\u5316",tabindex:"-1"},Zln=n("a",{class:"header-anchor",href:"#_5-\u957F\u5217\u8868\u4F18\u5316","aria-hidden":"true"},"#",-1),nrn=s(),srn={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_5-%E9%95%BF%E5%88%97%E8%A1%A8%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},arn=s("#"),ern=s("5 \u957F\u5217\u8868\u4F18\u5316"),trn={id:"vue-virtual-scroll-list\u4F18\u5316\u957F\u5217\u8868",tabindex:"-1"},prn=n("a",{class:"header-anchor",href:"#vue-virtual-scroll-list\u4F18\u5316\u957F\u5217\u8868","aria-hidden":"true"},"#",-1),orn=s(),crn={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#vue-virtual-scroll-list%E4%BC%98%E5%8C%96%E9%95%BF%E5%88%97%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"},lrn=s("#"),rrn=s("vue-virtual-scroll-list\u4F18\u5316\u957F\u5217\u8868"),irn=n("blockquote",null,[n("p",null,"\u865A\u62DF\u5217\u8868\u7684\u5B9E\u73B0\u539F\u7406\uFF1A\u53EA\u6E32\u67D3\u53EF\u89C6\u533A\u7684 dom \u8282\u70B9\uFF0C\u5176\u4F59\u4E0D\u53EF\u89C1\u7684\u6570\u636E\u5377\u8D77\u6765\uFF0C\u53EA\u4F1A\u6E32\u67D3\u53EF\u89C6\u533A\u57DF\u7684 dom \u8282\u70B9\uFF0C\u63D0\u9AD8\u6E32\u67D3\u6027\u80FD\u53CA\u6D41\u7545\u6027\uFF0C\u4F18\u70B9\u662F\u652F\u6301\u6D77\u91CF\u6570\u636E\u7684\u6E32\u67D3\uFF1B")],-1),urn=n("p",null,"github\u5730\u5740\uFF1Ahttps://github.com/tangbc/vue-virtual-scroll-list",-1),krn={id:"object-freeze\u4F18\u5316\u957F\u5217\u8868",tabindex:"-1"},drn=n("a",{class:"header-anchor",href:"#object-freeze\u4F18\u5316\u957F\u5217\u8868","aria-hidden":"true"},"#",-1),brn=s(),mrn={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#object-freeze%E4%BC%98%E5%8C%96%E9%95%BF%E5%88%97%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"},hrn=s("#"),_rn=s("Object.freeze\u4F18\u5316\u957F\u5217\u8868"),grn=n("ul",null,[n("li",null,[n("code",null,"Object.freeze()"),s("\u65B9\u6CD5\u53EF\u4EE5\u51BB\u7ED3\u4E00\u4E2A\u5BF9\u8C61\u3002\u4E00\u4E2A\u88AB\u51BB\u7ED3\u7684\u5BF9\u8C61\u518D\u4E5F\u4E0D\u80FD\u88AB\u4FEE\u6539\uFF1B\u51BB\u7ED3\u4E86\u4E00\u4E2A\u5BF9\u8C61\u5219\u4E0D\u80FD\u5411\u8FD9\u4E2A\u5BF9\u8C61\u6DFB\u52A0\u65B0\u7684\u5C5E\u6027\uFF0C\u4E0D\u80FD\u5220\u9664\u5DF2\u6709\u5C5E\u6027\uFF0C\u4E0D\u80FD\u4FEE\u6539\u8BE5\u5BF9\u8C61\u5DF2\u6709\u5C5E\u6027\u7684\u53EF\u679A\u4E3E\u6027\u3001\u53EF\u914D\u7F6E\u6027\u3001\u53EF\u5199\u6027\uFF0C\u4EE5\u53CA\u4E0D\u80FD\u4FEE\u6539\u5DF2\u6709\u5C5E\u6027\u7684\u503C\u3002")]),n("li",null,[s("\u5BF9\u4E8E"),n("code",null,"data()"),s("\u6216vuex\u4E2D\u51BB\u7ED3\u7684\u5BF9\u8C61\uFF0Cvue\u4E0D\u4F1A\u505A"),n("code",null,"getter"),s("\u548C"),n("code",null,"setter"),s("\u7684\u8F6C\u6362\u3002\u56E0\u6B64\u5BF9\u4E8E\u4E00\u4E2A\u4E0D\u53D8\u7684\u3001\u5927\u6570\u636E\u91CF\u7684\u6570\u7EC4\u6216Object\u6570\u636E\u6765\u8BF4\uFF0C\u4F7F\u7528"),n("code",null,"Object.freeze()"),s("\u53EF\u4EE5\u6709\u6548\u5730\u63D0\u5347\u6027\u80FD\u3002")])],-1),Ern={id:"_6-\u5361\u987F\u95EE\u9898\u89E3\u51B3",tabindex:"-1"},frn=n("a",{class:"header-anchor",href:"#_6-\u5361\u987F\u95EE\u9898\u89E3\u51B3","aria-hidden":"true"},"#",-1),vrn=s(),wrn={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_6-%E5%8D%A1%E9%A1%BF%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3",target:"_blank",rel:"noopener noreferrer"},yrn=s("#"),xrn=s("6 \u5361\u987F\u95EE\u9898\u89E3\u51B3"),Arn=t("<ul><li>CSS\u52A8\u753B\u6548\u7387\u6BD4JS\u9AD8\uFF0C<code>css</code>\u53EF\u4EE5\u7528<code>GPU</code>\u52A0\u901F\uFF0C<code>3d</code>\u52A0\u901F\u3002\u5982\u679C\u975E\u8981\u7528JS\u52A8\u753B\uFF0C\u53EF\u4EE5\u7528<code>requestAnimationFrame</code></li><li>\u6279\u91CF\u8FDB\u884CDOM\u64CD\u4F5C\uFF0C\u56FA\u5B9A\u56FE\u7247\u5BB9\u5668\u5927\u5C0F\uFF0C\u907F\u514D\u5C4F\u5E55\u6296\u52A8</li><li>\u51CF\u5C11\u91CD\u7ED8\u91CD\u6392</li><li>\u8282\u6D41\u548C\u9632\u6296</li><li>\u51CF\u5C11\u4E34\u65F6\u5927\u5BF9\u8C61\u4EA7\u751F\uFF0C\u5229\u7528\u5BF9\u8C61\u7F13\u5B58\uFF0C\u4E3B\u8981\u662F\u51CF\u5C11\u5185\u5B58\u788E\u7247</li><li>\u5F02\u6B65\u64CD\u4F5C\uFF0C<code>IntersectionObserver</code>\uFF0C<code>PostMessage</code>\uFF0C<code>RequestIdleCallback</code></li></ul>",1),Brn={id:"_7-\u7F16\u7801\u4F18\u5316",tabindex:"-1"},qrn=n("a",{class:"header-anchor",href:"#_7-\u7F16\u7801\u4F18\u5316","aria-hidden":"true"},"#",-1),jrn=s(),Srn={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_7-%E7%BC%96%E7%A0%81%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},Crn=s("#"),Drn=s("7 \u7F16\u7801\u4F18\u5316"),Frn=t(`<blockquote><p>\u7F16\u7801\u4F18\u5316\uFF0C\u6307\u7684\u5C31\u662F \u5728\u4EE3\u7801\u7F16\u5199\u65F6\u7684\uFF0C\u901A\u8FC7\u4E00\u4E9B \u6700\u4F73\u5B9E\u8DF5\uFF0C\u63D0\u5347\u4EE3\u7801\u7684\u6267\u884C\u6027\u80FD\u3002\u901A\u5E38\u8FD9\u5E76\u4E0D\u4F1A\u5E26\u6765\u975E\u5E38\u5927\u7684\u6536\u76CA\uFF0C\u4F46\u8FD9\u5C5E\u4E8E \u7A0B\u5E8F\u733F\u7684\u81EA\u6211\u4FEE\u517B\uFF0C\u800C\u4E14\u8FD9\u4E5F\u662F\u9762\u8BD5\u4E2D\u7ECF\u5E38\u88AB\u95EE\u5230\u7684\u4E00\u4E2A\u65B9\u9762\uFF0C\u8003\u5BDF\u81EA\u6211\u7BA1\u7406\u4E0E\u7EC6\u8282\u7684\u5904\u7406\u3002</p></blockquote><p><strong>\u6570\u636E\u8BFB\u53D6:</strong></p><ul><li>\u901A\u8FC7\u4F5C\u7528\u57DF\u94FE / \u539F\u578B\u94FE \u8BFB\u53D6\u53D8\u91CF\u6216\u65B9\u6CD5\u65F6\uFF0C\u9700\u8981\u66F4\u591A\u7684\u8017\u65F6\uFF0C\u4E14\u8D8A\u957F\u8D8A\u6162</li><li>\u5BF9\u8C61\u5D4C\u5957\u8D8A\u6DF1\uFF0C\u8BFB\u53D6\u503C\u4E5F\u8D8A\u6162\uFF1B</li><li>\u6700\u4F73\u5B9E\u8DF5 <ul><li>\u5C3D\u91CF\u5728\u5C40\u90E8\u4F5C\u7528\u57DF\u4E2D\u8FDB\u884C \u53D8\u91CF\u7F13\u5B58\uFF1B</li><li>\u907F\u514D\u5D4C\u5957\u8FC7\u6DF1\u7684\u6570\u636E\u7ED3\u6784\uFF0C\u6570\u636E\u6241\u5E73\u5316 \u6709\u5229\u4E8E\u6570\u636E\u7684\u8BFB\u53D6\u548C\u7EF4\u62A4</li></ul></li></ul><p><strong>\u5FAA\u73AF</strong>: \u5FAA\u73AF\u901A\u5E38\u662F\u7F16\u7801\u6027\u80FD\u7684\u5173\u952E\u70B9\uFF1B</p><ul><li>\u4EE3\u7801\u7684\u6027\u80FD\u95EE\u9898\u4F1A\u518D\u5FAA\u73AF\u4E2D\u88AB\u6307\u6570\u500D\u653E\u5927</li><li>\u6700\u4F73\u5B9E\u8DF5 <ul><li>\u5C3D\u53EF\u80FD \u51CF\u5C11\u5FAA\u73AF\u6B21\u6570 <ul><li>\u51CF\u5C11\u904D\u5386\u7684\u6570\u636E\u91CF\uFF1B</li><li>\u5B8C\u6210\u76EE\u7684\u540E\u9A6C\u4E0A\u7ED3\u675F\u5FAA\u73AF</li></ul></li><li>\u907F\u514D\u5728\u5FAA\u73AF\u4E2D\u6267\u884C\u5927\u91CF\u7684\u8FD0\u7B97\uFF0C\u907F\u514D\u91CD\u590D\u8BA1\u7B97\uFF0C\u76F8\u540C\u7684\u6267\u884C\u7ED3\u679C\u5E94\u8BE5\u4F7F\u7528\u7F13\u5B58\uFF1B</li><li>js \u4E2D\u4F7F\u7528 \u5012\u5E8F\u5FAA\u73AF \u4F1A\u7565\u5FAE\u63D0\u5347\u6027\u80FD\uFF1B</li><li>\u5C3D\u91CF\u907F\u514D\u4F7F\u7528 for-in \u5FAA\u73AF\uFF0C\u56E0\u4E3A\u5B83\u4F1A\u679A\u4E3E\u539F\u578B\u5BF9\u8C61\uFF0C\u8017\u65F6\u5927\u4E8E\u666E\u901A\u5FAA\u73AF\uFF1B</li></ul></li></ul><p><strong>\u6761\u4EF6\u6D41\u7A0B\u6027\u80FD</strong>: Map / Object &gt; switch &gt; if-else</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4F7F\u7528 if-else</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment">// \u4F7F\u7528 switch</span>
<span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span><span class="token number">4</span>
	<span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u4F7F\u7528 Map</span>
<span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
	<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u4F7F\u7528 Objext</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token number">3</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p><strong>\u51CF\u5C11 cookie \u4F53\u79EF</strong>: \u80FD\u6709\u6548\u51CF\u5C11\u6BCF\u6B21\u8BF7\u6C42\u7684\u4F53\u79EF\u548C\u54CD\u5E94\u65F6\u95F4\uFF1B</p><ul><li>\u53BB\u9664\u4E0D\u5FC5\u8981\u7684 <code>cookie</code>\uFF1B</li><li>\u538B\u7F29 <code>cookie</code> \u5927\u5C0F\uFF1B</li><li>\u8BBE\u7F6E <code>domain</code> \u4E0E \u8FC7\u671F\u65F6\u95F4\uFF1B</li></ul><p><strong>dom \u4F18\u5316:</strong></p><ul><li>\u51CF\u5C11\u8BBF\u95EE dom \u7684\u6B21\u6570\uFF0C\u5982\u9700\u591A\u6B21\uFF0C\u5C06 dom \u7F13\u5B58\u4E8E\u53D8\u91CF\u4E2D\uFF1B</li><li>\u51CF\u5C11\u91CD\u7ED8\u4E0E\u56DE\u6D41: <ul><li>\u591A\u6B21\u64CD\u4F5C\u5408\u5E76\u4E3A\u4E00\u6B21\uFF1B</li><li>\u51CF\u5C11\u5BF9\u8BA1\u7B97\u5C5E\u6027\u7684\u8BBF\u95EE <ul><li>\u4F8B\u5982 offsetTop\uFF0C getComputedStyle \u7B49</li><li>\u56E0\u4E3A\u6D4F\u89C8\u5668\u9700\u8981\u83B7\u53D6\u6700\u65B0\u51C6\u786E\u7684\u503C\uFF0C\u56E0\u6B64\u5FC5\u987B\u7ACB\u5373\u8FDB\u884C\u91CD\u6392\uFF0C\u8FD9\u6837\u4F1A\u7834\u574F\u4E86\u6D4F\u89C8\u5668\u7684\u961F\u5217\u6574\u5408\uFF0C\u5C3D\u91CF\u5C06\u503C\u8FDB\u884C\u7F13\u5B58\u4F7F\u7528\uFF1B</li></ul></li><li>\u5927\u91CF\u64CD\u4F5C\u65F6\uFF0C\u53EF\u5C06 dom \u8131\u79BB\u6587\u6863\u6D41\u6216\u8005\u9690\u85CF\uFF0C\u5F85\u64CD\u4F5C\u5B8C\u6210\u540E\u518D\u91CD\u65B0\u6062\u590D\uFF1B</li><li>\u4F7F\u7528DocumentFragment / cloneNode / replaceChild\u8FDB\u884C\u64CD\u4F5C\uFF1B</li></ul></li><li>\u4F7F\u7528\u4E8B\u4EF6\u59D4\u6258\uFF0C\u907F\u514D\u5927\u91CF\u7684\u4E8B\u4EF6\u7ED1\u5B9A\uFF1B</li></ul><p><strong>css \u4F18\u5316:</strong></p><ul><li>\u5C42\u7EA7\u6241\u5E73\uFF0C\u907F\u514D\u8FC7\u4E8E\u591A\u5C42\u7EA7\u7684\u9009\u62E9\u5668\u5D4C\u5957\uFF1B</li><li>\u7279\u5B9A\u7684\u9009\u62E9\u5668 \u597D\u8FC7\u4E00\u5C42\u4E00\u5C42\u67E5\u627E: <code>.xxx-child-text{}</code> - \u4F18\u4E8E <code>.xxx .child .text{}</code></li><li>\u51CF\u5C11\u4F7F\u7528\u901A\u914D\u7B26\u4E0E\u5C5E\u6027\u9009\u62E9\u5668\uFF1B</li><li>\u51CF\u5C11\u4E0D\u5FC5\u8981\u7684\u591A\u4F59\u5C5E\u6027\uFF1B</li><li>\u4F7F\u7528 \u52A8\u753B\u5C5E\u6027\u5B9E\u73B0\u52A8\u753B\uFF0C\u52A8\u753B\u65F6\u8131\u79BB\u6587\u6863\u6D41\uFF0C\u5F00\u542F\u786C\u4EF6\u52A0\u901F\uFF0C\u4F18\u5148\u4F7F\u7528 css \u52A8\u753B\uFF1B</li><li>\u4F7F\u7528 <code>&lt;link&gt;</code> \u66FF\u4EE3\u539F\u751F <code>@import</code>\uFF1B</li></ul><p><strong>html \u4F18\u5316:</strong></p><ul><li><p>\u51CF\u5C11 dom \u6570\u91CF\uFF0C\u907F\u514D\u4E0D\u5FC5\u8981\u7684\u8282\u70B9\u6216\u5D4C\u5957</p></li><li><p>\u907F\u514D</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;img src=&quot;&quot; /&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7A7A\u6807\u7B7E\uFF0C\u80FD\u51CF\u5C11\u670D\u52A1\u5668\u538B\u529B\uFF0C\u56E0\u4E3A src \u4E3A\u7A7A\u65F6\uFF0C\u6D4F\u89C8\u5668\u4ECD\u7136\u4F1A\u53D1\u8D77\u8BF7\u6C42</p><ul><li>IE \u5411\u9875\u9762\u6240\u5728\u7684\u76EE\u5F55\u53D1\u9001\u8BF7\u6C42\uFF1B</li><li>Safari\u3001Chrome\u3001Firefox \u5411\u9875\u9762\u672C\u8EAB\u53D1\u9001\u8BF7\u6C42\uFF1B</li><li>Opera \u4E0D\u6267\u884C\u4EFB\u4F55\u64CD\u4F5C\u3002</li></ul></li><li><p>\u56FE\u7247\u63D0\u524D \u6307\u5B9A\u5BBD\u9AD8 \u6216\u8005 \u8131\u79BB\u6587\u6863\u6D41\uFF0C\u80FD\u6709\u6548\u51CF\u5C11\u56E0\u56FE\u7247\u52A0\u8F7D\u5BFC\u81F4\u7684\u9875\u9762\u56DE\u6D41\uFF1B</p></li><li><p>\u8BED\u4E49\u5316\u6807\u7B7E \u6709\u5229\u4E8E SEO \u4E0E\u6D4F\u89C8\u5668\u7684\u89E3\u6790\u65F6\u95F4\uFF1B</p></li><li><p>\u51CF\u5C11\u4F7F\u7528 table \u8FDB\u884C\u5E03\u5C40\uFF0C\u907F\u514D\u4F7F\u7528<code>&lt;br /&gt;</code>\u4E0E<code>&lt;hr /&gt;</code></p></li></ul>`,15),Prn={id:"_8-\u5982\u4F55\u6839\u636Echrome\u7684timing\u4F18\u5316",tabindex:"-1"},Trn=n("a",{class:"header-anchor",href:"#_8-\u5982\u4F55\u6839\u636Echrome\u7684timing\u4F18\u5316","aria-hidden":"true"},"#",-1),Nrn=s(),Mrn={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_8-%E5%A6%82%E4%BD%95%E6%A0%B9%E6%8D%AEchrome%E7%9A%84timing%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},Orn=s("#"),Irn=s("8 \u5982\u4F55\u6839\u636Echrome\u7684timing\u4F18\u5316"),Rrn={id:"_8-1-\u6027\u80FD\u4F18\u5316api",tabindex:"-1"},Vrn=n("a",{class:"header-anchor",href:"#_8-1-\u6027\u80FD\u4F18\u5316api","aria-hidden":"true"},"#",-1),Hrn=s(),Lrn={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_8-1-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96api",target:"_blank",rel:"noopener noreferrer"},Urn=s("#"),Jrn=s("8.1 \u6027\u80FD\u4F18\u5316API"),Wrn=t("<ul><li><code>Performance</code>\u3002<code>performance.now()</code>\u4E0E<code>new Date()</code>\u533A\u522B\uFF0C\u5B83\u662F\u9AD8\u7CBE\u5EA6\u7684\uFF0C\u4E14\u662F\u76F8\u5BF9\u65F6\u95F4\uFF0C\u76F8\u5BF9\u4E8E\u9875\u9762\u52A0\u8F7D\u7684\u90A3\u4E00\u523B\u3002\u4F46\u662F\u4E0D\u4E00\u5B9A\u9002\u5408\u5355\u9875\u9762\u573A\u666F</li><li><code>window.addEventListener(&quot;load&quot;, &quot;&quot;);</code> <code>window.addEventListener(&quot;domContentLoaded&quot;, &quot;&quot;);</code></li><li><code>Img</code>\u7684<code>onload</code>\u4E8B\u4EF6\uFF0C\u76D1\u542C\u9996\u5C4F\u5185\u7684\u56FE\u7247\u662F\u5426\u52A0\u8F7D\u5B8C\u6210\uFF0C\u5224\u65AD\u9996\u5C4F\u4E8B\u4EF6</li><li><code>RequestFrameAnmation</code> \u548C <code>RequestIdleCallback</code></li><li><code>IntersectionObserver</code>\u3001<code>MutationObserver</code>\uFF0C<code>PostMessage</code></li><li><code>Web Worker</code>\uFF0C\u8017\u65F6\u4EFB\u52A1\u653E\u5728\u91CC\u9762\u6267\u884C</li></ul>",1),zrn={id:"_8-2-\u68C0\u6D4B\u5DE5\u5177",tabindex:"-1"},Grn=n("a",{class:"header-anchor",href:"#_8-2-\u68C0\u6D4B\u5DE5\u5177","aria-hidden":"true"},"#",-1),$rn=s(),Xrn={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_8-2-%E6%A3%80%E6%B5%8B%E5%B7%A5%E5%85%B7",target:"_blank",rel:"noopener noreferrer"},Krn=s("#"),Qrn=s("8.2 \u68C0\u6D4B\u5DE5\u5177"),Yrn=n("ul",null,[n("li",null,[n("code",null,"Chrome Dev Tools")]),n("li",null,[n("code",null,"Page Speed")]),n("li",null,[n("code",null,"Jspref")])],-1),Zrn={id:"_8-3-\u524D\u7AEF\u6307\u6807",tabindex:"-1"},nin=n("a",{class:"header-anchor",href:"#_8-3-\u524D\u7AEF\u6307\u6807","aria-hidden":"true"},"#",-1),sin=s(),ain={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_8-3-%E5%89%8D%E7%AB%AF%E6%8C%87%E6%A0%87",target:"_blank",rel:"noopener noreferrer"},ein=s("#"),tin=s("8.3 \u524D\u7AEF\u6307\u6807"),pin=t(`<p><img src="http://img-repo.poetries.top/images/image-20210307184052955.png" alt="image-20210307184052955"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> t <span class="token operator">=</span> performance<span class="token punctuation">.</span>timing
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;DNS\u67E5\u8BE2\u8017\u65F6 \uFF1A&#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>domainLookupEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>domainLookupStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;TCP\u94FE\u63A5\u8017\u65F6 \uFF1A&#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>connectEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>connectStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;request\u8BF7\u6C42\u8017\u65F6 \uFF1A&#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>responseEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>responseStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u89E3\u6790dom\u6811\u8017\u65F6 \uFF1A&#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>domComplete <span class="token operator">-</span> t<span class="token punctuation">.</span>domInteractive<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u767D\u5C4F\u65F6\u95F4 \uFF1A&#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>responseStart <span class="token operator">-</span> t<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;domready\u65F6\u95F4 \uFF1A&#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>domContentLoadedEventEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;onload\u65F6\u95F4 \uFF1A&#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>loadEventEnd <span class="token operator">-</span> t<span class="token punctuation">.</span>navigationStart<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>t <span class="token operator">=</span> performance<span class="token punctuation">.</span>memory<span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;js\u5185\u5B58\u4F7F\u7528\u5360\u6BD4 \uFF1A&#39;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>usedJSHeapSize <span class="token operator">/</span> t<span class="token punctuation">.</span>totalJSHeapSize <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;%&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>DNS\u9884\u89E3\u6790\u4F18\u5316</strong></p><blockquote><p>dns\u89E3\u6790\u662F\u5F88\u8017\u65F6\u7684\uFF0C\u56E0\u6B64\u5982\u679C\u89E3\u6790\u57DF\u540D\u8FC7\u591A\uFF0C\u4F1A\u8BA9\u9996\u5C4F\u52A0\u8F7D\u53D8\u5F97\u8FC7\u6162\uFF0C\u53EF\u4EE5\u8003\u8651dns-prefetch\u4F18\u5316</p></blockquote><p><code>DNS Prefetch</code> \u5E94\u8BE5\u5C3D\u91CF\u7684\u653E\u5728\u7F51\u9875\u7684\u524D\u9762\uFF0C\u63A8\u8350\u653E\u5728 \u540E\u9762\u3002\u5177\u4F53\u4F7F\u7528\u65B9\u6CD5\u5982\u4E0B\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>x-dns-prefetch-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>on<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//www.zhix.net<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//api.share.zhix.net<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//bdimg.share.zhix.net<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>request\u8BF7\u6C42\u8017\u65F6</strong></p><ul><li>\u4E0D\u8BF7\u6C42\uFF0C\u7528cache\uFF08\u6700\u597D\u7684\u65B9\u5F0F\u5C31\u662F\u5C3D\u91CF\u5F15\u7528\u516C\u5171\u8D44\u6E90\uFF0C\u540C\u65F6\u8BBE\u7F6E\u7F13\u5B58\uFF0C\u4E0D\u53BB\u91CD\u65B0\u8BF7\u6C42\u8D44\u6E90\uFF0C\u4E5F\u53EF\u4EE5\u8FD0\u7528PWA\u7684\u79BB\u7EBF\u7F13\u5B58\u6280\u672F\uFF0C\u53EF\u4EE5\u5E2E\u52A9wep\u5B9E\u73B0\u79BB\u7EBF\u4F7F\u7528\uFF09</li><li>\u524D\u7AEF\u6253\u5305\u65F6\u538B\u7F29</li><li>\u670D\u52A1\u5668\u4E0A\u7684zip\u538B\u7F29</li><li>\u56FE\u7247\u538B\u7F29\uFF08\u6BD4\u5982tiny\uFF09\uFF0C\u4F7F\u7528webp\u7B49\u9AD8\u538B\u7F29\u6BD4\u683C\u5F0F</li><li>\u628A\u8FC7\u5927\u7684\u5305\uFF0C\u62C6\u5206\u6210\u591A\u4E2A\u8F83\u5C11\u7684\u5305\uFF0C\u9632\u6B62\u5355\u4E2A\u8D44\u6E90\u8017\u65F6\u8FC7\u5927</li><li>\u540C\u4E00\u65F6\u95F4\u9488\u5BF9\u540C\u4E00\u57DF\u540D\u4E0B\u7684\u8BF7\u6C42\u6709\u4E00\u5B9A\u6570\u91CF\u9650\u5236\uFF0C\u8D85\u8FC7\u9650\u5236\u6570\u76EE\u7684\u8BF7\u6C42\u4F1A\u88AB\u963B\u585E\u3002\u5982\u679C\u8D44\u6E90\u6765\u81EA\u4E8E\u591A\u4E2A\u57DF\u4E0B\uFF0C\u53EF\u4EE5\u589E\u5927\u5E76\u884C\u8BF7\u6C42\u548C\u4E0B\u8F7D\u901F\u5EA6</li><li>\u5EF6\u8FDF\u3001\u5F02\u6B65\u3001\u9884\u52A0\u8F7D\u3001\u61D2\u52A0\u8F7D</li><li>\u5BF9\u4E8E\u975E\u9996\u5C4F\u7684\u8D44\u6E90\uFF0C\u53EF\u4EE5\u4F7F\u7528 defer \u6216 async \u7684\u65B9\u5F0F\u5F15\u5165</li><li>\u4E5F\u53EF\u4EE5\u6309\u9700\u52A0\u8F7D\uFF0C\u5728\u903B\u8F91\u4E2D\uFF0C\u53EA\u6709\u6267\u884C\u5230\u65F6\u624D\u505A\u8BF7\u6C42</li><li>\u5BF9\u4E8E\u591A\u5C4F\u9875\u9762\uFF0C\u6EDA\u52A8\u65F6\u624D\u52A8\u6001\u8F7D\u5165\u56FE\u7247</li></ul><p><strong>\u89E3\u6790dom\u6811\u8017\u65F6</strong></p>`,9),oin={id:"_9-vue\u6027\u80FD\u4F18\u5316",tabindex:"-1"},cin=n("a",{class:"header-anchor",href:"#_9-vue\u6027\u80FD\u4F18\u5316","aria-hidden":"true"},"#",-1),lin=s(),rin={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_9-vue%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},iin=s("#"),uin=s("9 Vue\u6027\u80FD\u4F18\u5316"),kin={id:"_9-1-vue\u9996\u5C4F\u52A0\u8F7D\u4F18\u5316\u6709\u54EA\u4E9B\u65B9\u6848\u4E48",tabindex:"-1"},din=n("a",{class:"header-anchor",href:"#_9-1-vue\u9996\u5C4F\u52A0\u8F7D\u4F18\u5316\u6709\u54EA\u4E9B\u65B9\u6848\u4E48","aria-hidden":"true"},"#",-1),bin=s(),min={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_9-1-vue%E9%A6%96%E5%B1%8F%E5%8A%A0%E8%BD%BD%E4%BC%98%E5%8C%96%E6%9C%89%E5%93%AA%E4%BA%9B%E6%96%B9%E6%A1%88%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},hin=s("#"),_in=s("9.1 vue\u9996\u5C4F\u52A0\u8F7D\u4F18\u5316\u6709\u54EA\u4E9B\u65B9\u6848\u4E48"),gin=t("<ul><li><code>Vue-Router</code>\u8DEF\u7531\u61D2\u52A0\u8F7D\uFF08\u5229\u7528<code>Webpack</code>\u7684\u4EE3\u7801\u5207\u5272\uFF09</li><li>\u4F7F\u7528<code>CDN</code>\u52A0\u901F\uFF0C\u5C06\u901A\u7528\u7684\u5E93\u4ECE<code>vendor</code>\u8FDB\u884C\u62BD\u79BB</li><li><code>Nginx</code>\u7684<code>gzip</code>\u538B\u7F29</li><li><code>Vue</code>\u5F02\u6B65\u7EC4\u4EF6</li><li>\u670D\u52A1\u7AEF\u6E32\u67D3<code>SSR</code></li><li>\u5982\u679C\u4F7F\u7528\u4E86\u4E00\u4E9B<code>UI</code>\u5E93\uFF0C\u91C7\u7528\u6309\u9700\u52A0\u8F7D</li><li><code>Webpack</code>\u5F00\u542F<code>gzip</code>\u538B\u7F29</li><li><code>Service Worker</code>\u7F13\u5B58\u6587\u4EF6\u5904\u7406</li><li>\u4F7F\u7528<code>link</code>\u6807\u7B7E\u7684<code>rel</code>\u5C5E\u6027\u8BBE\u7F6E <code>prefetch</code>\uFF08\u8FD9\u6BB5\u8D44\u6E90\u5C06\u4F1A\u5728\u672A\u6765\u67D0\u4E2A\u5BFC\u822A\u6216\u8005\u529F\u80FD\u8981\u7528\u5230\uFF0C\u4F46\u662F\u672C\u8D44\u6E90\u7684\u4E0B\u8F7D\u987A\u5E8F\u6743\u91CD\u6BD4\u8F83\u4F4E\uFF0C<code>prefetch</code>\u901A\u5E38\u7528\u4E8E\u52A0\u901F\u4E0B\u4E00\u6B21\u5BFC\u822A\uFF09\u3001<code>preload</code>\uFF08<code>preload</code>\u5C06\u4F1A\u628A\u8D44\u6E90\u5F97\u4E0B\u8F7D\u987A\u5E8F\u6743\u91CD\u63D0\u9AD8\uFF0C\u4F7F\u5F97\u5173\u952E\u6570\u636E\u63D0\u524D\u4E0B\u8F7D\u597D\uFF0C\u4F18\u5316\u9875\u9762\u6253\u5F00\u901F\u5EA6\uFF09</li></ul>",1),Ein={id:"_9-2-\u7F16\u7801\u9636\u6BB5",tabindex:"-1"},fin=n("a",{class:"header-anchor",href:"#_9-2-\u7F16\u7801\u9636\u6BB5","aria-hidden":"true"},"#",-1),vin=s(),win={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_9-2-%E7%BC%96%E7%A0%81%E9%98%B6%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"},yin=s("#"),xin=s("9.2 \u7F16\u7801\u9636\u6BB5"),Ain=t("<ul><li>\u5C3D\u91CF\u51CF\u5C11data\u4E2D\u7684\u6570\u636E\uFF0Cdata\u4E2D\u7684\u6570\u636E\u90FD\u4F1A\u589E\u52A0getter\u548Csetter\uFF0C\u4F1A\u6536\u96C6\u5BF9\u5E94\u7684watcher\uFF1B</li><li>\u5982\u679C\u9700\u8981\u4F7F\u7528v-for\u7ED9\u6BCF\u9879\u5143\u7D20\u7ED1\u5B9A\u4E8B\u4EF6\u65F6\u4F7F\u7528\u4E8B\u4EF6\u4EE3\u7406\uFF1B</li><li>SPA \u9875\u9762\u91C7\u7528keep-alive\u7F13\u5B58\u7EC4\u4EF6\uFF1B</li><li>\u5728\u66F4\u591A\u7684\u60C5\u51B5\u4E0B\uFF0C\u4F7F\u7528v-if\u66FF\u4EE3v-show\uFF1B</li><li>key\u4FDD\u8BC1\u552F\u4E00\uFF1B</li><li>\u4F7F\u7528\u8DEF\u7531\u61D2\u52A0\u8F7D\u3001\u5F02\u6B65\u7EC4\u4EF6\uFF1B</li><li>\u9632\u6296\u3001\u8282\u6D41\uFF1B</li><li>\u7B2C\u4E09\u65B9\u6A21\u5757\u6309\u9700\u5BFC\u5165\uFF1B</li><li>\u957F\u5217\u8868\u6EDA\u52A8\u5230\u53EF\u89C6\u533A\u57DF\u52A8\u6001\u52A0\u8F7D\uFF1B</li><li>\u56FE\u7247\u61D2\u52A0\u8F7D\uFF1B</li></ul>",1),Bin={id:"_9-3-\u7528\u6237\u4F53\u9A8C",tabindex:"-1"},qin=n("a",{class:"header-anchor",href:"#_9-3-\u7528\u6237\u4F53\u9A8C","aria-hidden":"true"},"#",-1),jin=s(),Sin={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_9-3-%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C",target:"_blank",rel:"noopener noreferrer"},Cin=s("#"),Din=s("9.3 \u7528\u6237\u4F53\u9A8C\uFF1A"),Fin=n("ul",null,[n("li",null,"\u9AA8\u67B6\u5C4F\uFF1B"),n("li",null,"PWA\uFF1B"),n("li",null,[s("\u8FD8\u53EF\u4EE5\u4F7F\u7528\u7F13\u5B58(\u5BA2\u6237\u7AEF\u7F13\u5B58\u3001\u670D\u52A1\u7AEF\u7F13\u5B58)\u4F18\u5316\u3001\u670D\u52A1\u7AEF\u5F00\u542F"),n("code",null,"gzip"),s("\u538B\u7F29\u7B49\u3002")])],-1),Pin={id:"_9-4-seo\u4F18\u5316",tabindex:"-1"},Tin=n("a",{class:"header-anchor",href:"#_9-4-seo\u4F18\u5316","aria-hidden":"true"},"#",-1),Nin=s(),Min={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_9-4-seo%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},Oin=s("#"),Iin=s("9.4 SEO\u4F18\u5316"),Rin=n("ul",null,[n("li",null,"\u9884\u6E32\u67D3\uFF1B"),n("li",null,"\u670D\u52A1\u7AEF\u6E32\u67D3SSR\uFF1B")],-1),Vin={id:"_9-5-\u6253\u5305\u4F18\u5316",tabindex:"-1"},Hin=n("a",{class:"header-anchor",href:"#_9-5-\u6253\u5305\u4F18\u5316","aria-hidden":"true"},"#",-1),Lin=s(),Uin={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_9-5-%E6%89%93%E5%8C%85%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},Jin=s("#"),Win=s("9.5 \u6253\u5305\u4F18\u5316"),zin=t(`<ul><li><p>\u538B\u7F29\u4EE3\u7801\uFF1B</p></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Tree Shaking/Scope Hoisting
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\uFF1B</p><ul><li><code>scope hoisting</code> \u662F <code>webpack3</code> \u7684\u65B0\u529F\u80FD\uFF0C\u76F4\u8BD1\u8FC7\u6765\u5C31\u662F\u300C\u4F5C\u7528\u57DF\u63D0\u5347\u300D\u3002\u719F\u6089 JavaScript \u90FD\u5E94\u8BE5\u77E5\u9053\u300C\u51FD\u6570\u63D0\u5347\u300D\u548C\u300C\u53D8\u91CF\u63D0\u5347\u300D\uFF0CJavaScript \u4F1A\u628A\u51FD\u6570\u548C\u53D8\u91CF\u58F0\u660E\u63D0\u5347\u5230\u5F53\u524D\u4F5C\u7528\u57DF\u7684\u9876\u90E8\u3002\u300C\u4F5C\u7528\u57DF\u63D0\u5347\u300D\u4E5F\u7C7B\u4F3C\u4E8E\u6B64\uFF0Cwebpack \u4F1A\u628A\u5F15\u5165\u7684 js \u6587\u4EF6\u201C\u63D0\u5347\u5230\u201D\u5B83\u7684\u5F15\u5165\u8005\u9876\u90E8</li></ul></li><li><p>\u4F7F\u7528cdn\u52A0\u8F7D\u7B2C\u4E09\u65B9\u6A21\u5757\uFF1B</p></li><li><p>\u591A\u7EBF\u7A0B\u6253\u5305<code>happypack</code>\uFF1B</p></li><li><p><code>splitChunks</code>\u62BD\u79BB\u516C\u5171\u6587\u4EF6\uFF1B</p></li><li><p><code>sourceMap</code>\u4F18\u5316\uFF1B</p></li></ul>`,1),Gin={id:"_10-vue1-x-vue2-x-vue3-\u6846\u67B6\u5206\u6790\u6027\u80FD",tabindex:"-1"},$in=n("a",{class:"header-anchor",href:"#_10-vue1-x-vue2-x-vue3-\u6846\u67B6\u5206\u6790\u6027\u80FD","aria-hidden":"true"},"#",-1),Xin=s(),Kin={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_10-vue1-x-vue2-x-vue3-%E6%A1%86%E6%9E%B6%E5%88%86%E6%9E%90%E6%80%A7%E8%83%BD",target:"_blank",rel:"noopener noreferrer"},Qin=s("#"),Yin=s("10 vue1.X\uFF0Cvue2.X\uFF0Cvue3 \u6846\u67B6\u5206\u6790\u6027\u80FD"),Zin={id:"_10-1-vue1-x-\u7279\u70B9-\u54CD\u5E94\u5F0F",tabindex:"-1"},nun=n("a",{class:"header-anchor",href:"#_10-1-vue1-x-\u7279\u70B9-\u54CD\u5E94\u5F0F","aria-hidden":"true"},"#",-1),sun=s(),aun={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_10-1-vue1-x-%E7%89%B9%E7%82%B9-%E5%93%8D%E5%BA%94%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},eun=s("#"),tun=s("10.1 Vue1.x \uFF08\u7279\u70B9\uFF1A\u54CD\u5E94\u5F0F\uFF09"),pun=n("blockquote",null,[n("p",null,"\u6CA1\u6709vdom\uFF0C\u5B8C\u5168\u7684\u54CD\u5E94\u5F0F\uFF0C\u6BCF\u4E2A\u6570\u636E\u53D8\u5316\uFF0C\u90FD\u901A\u8FC7\u54CD\u5E94\u5F0F\u901A\u77E5\u673A\u5236\u6765\u65B0\u5EFAWatcher\u5E72\u6D3B\uFF0C\u9879\u76EE\u89C4\u6A21\u53D8\u5927\u540E\uFF0C\u8FC7\u591A\u7684Watcher\uFF0C\u4F1A\u5BFC\u81F4\u6027\u80FD\u7684\u74F6\u9888\u3002")],-1),oun=n("p",null,[n("img",{src:"http://img-repo.poetries.top/images/image-20210307183730134.png",alt:"image-20210307183730134"})],-1),cun={id:"_10-2-vue2-x-\u7279\u70B9-\u7EC4\u4EF6\u7EA7\u54CD\u5E94\u5F0F-\u7EC4\u4EF6\u5185\u90E8vdom-diff",tabindex:"-1"},lun=n("a",{class:"header-anchor",href:"#_10-2-vue2-x-\u7279\u70B9-\u7EC4\u4EF6\u7EA7\u54CD\u5E94\u5F0F-\u7EC4\u4EF6\u5185\u90E8vdom-diff","aria-hidden":"true"},"#",-1),run=s(),iun={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_10-2-vue2-x-%E7%89%B9%E7%82%B9-%E7%BB%84%E4%BB%B6%E7%BA%A7%E5%93%8D%E5%BA%94%E5%BC%8F-%E7%BB%84%E4%BB%B6%E5%86%85%E9%83%A8vdom-diff",target:"_blank",rel:"noopener noreferrer"},uun=s("#"),kun=s("10.2 Vue2.x \uFF08\u7279\u70B9\uFF1A\u7EC4\u4EF6\u7EA7\u54CD\u5E94\u5F0F\uFF0C\u7EC4\u4EF6\u5185\u90E8vdom diff\uFF09"),dun=n("blockquote",null,[n("p",null,[s("\u5F15\u5165"),n("code",null,"vdom"),s("\uFF0C\u63A7\u5236\u4E86\u9897\u7C92\u5EA6\uFF0C\u7EC4\u4EF6\u5C42\u9762\u8D70"),n("code",null,"watcher"),s("\u901A\u77E5\uFF0C \u7EC4\u4EF6\u5185\u90E8\u8D70"),n("code",null,"vdom"),s("\u505A"),n("code",null,"diff"),s("\uFF0C\u65E2\u4E0D\u4F1A\u6709\u592A\u591Awatcher\uFF0C\u4E5F\u4E0D\u4F1A\u8BA9vdom\u7684\u89C4\u6A21\u8FC7\u5927\uFF0Cdiff\u8D85\u8FC716ms\uFF0C\u771F\u662F\u4F18\u79C0\u3002")])],-1),bun=n("p",null,[n("img",{src:"http://img-repo.poetries.top/images/image-20210307183810844.png",alt:"image-20210307183810844"})],-1),mun={id:"_10-3-vue3-\u7279\u70B9-proxy\u505A\u54CD\u5E94\u5F0F-\u9759\u6001\u6807\u8BB0\u3001\u6309\u9700\u66F4\u65B0",tabindex:"-1"},hun=n("a",{class:"header-anchor",href:"#_10-3-vue3-\u7279\u70B9-proxy\u505A\u54CD\u5E94\u5F0F-\u9759\u6001\u6807\u8BB0\u3001\u6309\u9700\u66F4\u65B0","aria-hidden":"true"},"#",-1),_un=s(),gun={href:"http://interview.poetries.top/excellent-docs/13-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%A8%A1%E5%9D%97.html#_10-3-vue3-%E7%89%B9%E7%82%B9-proxy%E5%81%9A%E5%93%8D%E5%BA%94%E5%BC%8F-%E9%9D%99%E6%80%81%E6%A0%87%E8%AE%B0%E3%80%81%E6%8C%89%E9%9C%80%E6%9B%B4%E6%96%B0",target:"_blank",rel:"noopener noreferrer"},Eun=s("#"),fun=s("10.3 Vue3 \uFF08\u7279\u70B9\uFF1Aproxy\u505A\u54CD\u5E94\u5F0F\uFF1A\u9759\u6001\u6807\u8BB0\u3001\u6309\u9700\u66F4\u65B0\uFF09"),vun=t('<blockquote><p>\u5148\u8BF4\u7ED3\u8BBA\uFF0C\u9759\u6001\u6807\u8BB0\uFF0Cupadte\u6027\u80FD\u63D0\u53471.3~2\u500D\uFF0Cssr\u63D0\u53472~3\u500D\u3002</p></blockquote><p>Vue3\u901A\u8FC7<code>Proxy\u54CD\u5E94\u5F0F+\u7EC4\u4EF6\u5185\u90E8vdom+\u9759\u6001\u6807\u8BB0</code>\uFF0C\u628A\u4EFB\u52A1\u9897\u7C92\u5EA6\u63A7\u5236\u7684\u8DB3\u591F\u7EC6\u81F4\uFF0C\u6240\u4EE5\u4E5F\u4E0D\u592A\u9700\u8981<code>time-slice</code>\u4E86\u3002</p><p><img src="http://img-repo.poetries.top/images/image-20210307183845241.png" alt="image-20210307183845241"></p><h1 id="_14-http\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#_14-http\u6A21\u5757" aria-hidden="true">#</a> 14 HTTP\u6A21\u5757</h1><h2 id="_1-http-\u62A5\u6587\u7684\u7EC4\u6210\u90E8\u5206" tabindex="-1"><a class="header-anchor" href="#_1-http-\u62A5\u6587\u7684\u7EC4\u6210\u90E8\u5206" aria-hidden="true">#</a> 1 HTTP \u62A5\u6587\u7684\u7EC4\u6210\u90E8\u5206</h2><p><strong>\u8BF7\u6C42\u62A5\u6587</strong></p><ul><li>\u8BF7\u6C42\u884C ( http \u65B9\u6CD5 + \u9875\u9762\u5730\u5740 + http \u534F\u8BAE + \u7248\u672C)</li><li>\u8BF7\u6C42\u5934( key + value \u503C)</li><li>\u7A7A\u884C(\u670D\u52A1\u7AEF\u901A\u8FC7\u7A7A\u884C\u6765\u5224\u65AD\u4E0B\u4E00\u90E8\u5206\u4E0D\u518D\u662F\u8BF7\u6C42\u5934\uFF0C\u800C\u5F53\u505A\u8BF7\u6C42\u4F53\u6765\u89E3\u6790)</li><li>\u8BF7\u6C42\u4F53(\u6570\u636E\u90E8\u5206)</li></ul><p><strong>\u54CD\u5E94\u62A5\u6587</strong></p><ul><li>\u72B6\u6001\u884C + \u54CD\u5E94\u5934 + \u7A7A\u884C + \u54CD\u5E94\u4F53</li></ul>',9),wun={id:"_2-\u5E38\u89C1\u72B6\u6001\u7801",tabindex:"-1"},yun=n("a",{class:"header-anchor",href:"#_2-\u5E38\u89C1\u72B6\u6001\u7801","aria-hidden":"true"},"#",-1),xun=s(),Aun={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_2-%E5%B8%B8%E8%A7%81%E7%8A%B6%E6%80%81%E7%A0%81",target:"_blank",rel:"noopener noreferrer"},Bun=s("#"),qun=s("2 \u5E38\u89C1\u72B6\u6001\u7801"),jun=t("<ul><li><code>1xx</code>: \u63A5\u53D7\uFF0C\u7EE7\u7EED\u5904\u7406</li><li><code>200</code>: \u6210\u529F\uFF0C\u5E76\u8FD4\u56DE\u6570\u636E</li><li><code>201</code>: \u5DF2\u521B\u5EFA</li><li><code>202</code>: \u5DF2\u63A5\u53D7</li><li><code>203</code>: \u6210\u4E3A\uFF0C\u4F46\u672A\u6388\u6743</li><li><code>204</code>: \u6210\u529F\uFF0C\u65E0\u5185\u5BB9</li><li><code>205</code>: \u6210\u529F\uFF0C\u91CD\u7F6E\u5185\u5BB9</li><li><code>206</code>: \u6210\u529F\uFF0C\u90E8\u5206\u5185\u5BB9</li><li><code>301</code>: \u6C38\u4E45\u79FB\u52A8\uFF0C\u91CD\u5B9A\u5411</li><li><code>302</code>: \u4E34\u65F6\u79FB\u52A8\uFF0C\u53EF\u4F7F\u7528\u539F\u6709URI</li><li><code>304</code>: \u8D44\u6E90\u672A\u4FEE\u6539\uFF0C\u53EF\u4F7F\u7528\u7F13\u5B58</li><li><code>305</code>: \u9700\u4EE3\u7406\u8BBF\u95EE</li><li><code>400</code>: \u8BF7\u6C42\u8BED\u6CD5\u9519\u8BEF</li><li><code>401</code>: \u8981\u6C42\u8EAB\u4EFD\u8BA4\u8BC1</li><li><code>403</code>: \u62D2\u7EDD\u8BF7\u6C42</li><li><code>404</code>: \u8D44\u6E90\u4E0D\u5B58\u5728</li><li><code>500</code>: \u670D\u52A1\u5668\u9519\u8BEF</li></ul>",1),Sun={id:"_3-\u4ECE\u8F93\u5165url\u5230\u5448\u73B0\u9875\u9762\u8FC7\u7A0B",tabindex:"-1"},Cun=n("a",{class:"header-anchor",href:"#_3-\u4ECE\u8F93\u5165url\u5230\u5448\u73B0\u9875\u9762\u8FC7\u7A0B","aria-hidden":"true"},"#",-1),Dun=s(),Fun={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_3-%E4%BB%8E%E8%BE%93%E5%85%A5url%E5%88%B0%E5%91%88%E7%8E%B0%E9%A1%B5%E9%9D%A2%E8%BF%87%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},Pun=s("#"),Tun=s("3 \u4ECE\u8F93\u5165URL\u5230\u5448\u73B0\u9875\u9762\u8FC7\u7A0B"),Nun={id:"_3-1-\u7B80\u6D01",tabindex:"-1"},Mun=n("a",{class:"header-anchor",href:"#_3-1-\u7B80\u6D01","aria-hidden":"true"},"#",-1),Oun=s(),Iun={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_3-1-%E7%AE%80%E6%B4%81",target:"_blank",rel:"noopener noreferrer"},Run=s("#"),Vun=s("3.1 \u7B80\u6D01"),Hun=n("ul",null,[n("li",null,"\u6D4F\u89C8\u5668\u7684\u5730\u5740\u680F\u8F93\u5165URL\u5E76\u6309\u4E0B\u56DE\u8F66\uFF1B"),n("li",null,"DNS \u89E3\u6790\uFF1A\u5C06\u57DF\u540D\u89E3\u6790\u6210 IP \u5730\u5740\uFF1B"),n("li",null,"TCP \u8FDE\u63A5\uFF1ATCP \u4E09\u6B21\u63E1\u624B\uFF1B\uFF08\u4E09\u6B21\u63E1\u624B\u7684\u76EE\u7684\uFF1A\u4E3A\u4E86\u9632\u6B62\u5DF2\u7ECF\u5931\u6548\u7684\u8FDE\u63A5\u8BF7\u6C42\u62A5\u6587\u6BB5\u7A81\u7136\u53C8\u4F20\u9001\u5230\u4E86\u670D\u52A1\u5668\u7AEF\uFF0C\u4ECE\u800C\u4EA7\u751F\u9519\u8BEF\uFF09"),n("li",null,"\u53D1\u9001 HTTP \u8BF7\u6C42\uFF1B"),n("li",null,"\u670D\u52A1\u5668\u5904\u7406\u8BF7\u6C42\u5E76\u8FD4\u56DE HTTP \u62A5\u6587\uFF1B"),n("li",null,"\u6D4F\u89C8\u5668\u89E3\u6790\u6E32\u67D3\u9875\u9762\uFF1B"),n("li",null,"\u65AD\u5F00\u8FDE\u63A5\uFF1ATCP \u56DB\u6B21\u6325\u624B")],-1),Lun={id:"_3-2-\u8BE6\u7EC6",tabindex:"-1"},Uun=n("a",{class:"header-anchor",href:"#_3-2-\u8BE6\u7EC6","aria-hidden":"true"},"#",-1),Jun=s(),Wun={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_3-2-%E8%AF%A6%E7%BB%86",target:"_blank",rel:"noopener noreferrer"},zun=s("#"),Gun=s("3.2 \u8BE6\u7EC6"),$un=t('<p><strong>HTTP\u8BF7\u6C42\u793A\u610F\u56FE</strong></p><p><img src="https://static001.geekbang.org/resource/image/1b/6c/1b49976aca2c700883d48d927f48986c.png" alt="img"></p><blockquote><p>\u6D4F\u89C8\u5668\u4E2D\u7684HTTP\u8BF7\u6C42\u4ECE\u53D1\u8D77\u5230\u7ED3\u675F\u4E00\u5171\u7ECF\u5386\u4E86\u5982\u4E0B\u516B\u4E2A\u9636\u6BB5\uFF1A\u6784\u5EFA\u8BF7\u6C42\u3001\u67E5\u627E\u7F13\u5B58\u3001\u51C6\u5907IP\u548C\u7AEF\u53E3\u3001\u7B49\u5F85TCP\u961F\u5217\u3001\u5EFA\u7ACBTCP\u8FDE\u63A5\u3001\u53D1\u8D77HTTP\u8BF7\u6C42\u3001\u670D\u52A1\u5668\u5904\u7406\u8BF7\u6C42\u3001\u670D\u52A1\u5668\u8FD4\u56DE\u8BF7\u6C42\u548C\u65AD\u5F00\u8FDE\u63A5</p></blockquote><ul><li><p>\u7528\u6237\u8F93\u5165url\u5E76\u56DE\u8F66</p></li><li><p>\u6D4F\u89C8\u5668\u8FDB\u7A0B\u68C0\u67E5url\uFF0C\u7EC4\u88C5\u534F\u8BAE\uFF0C\u6784\u6210\u5B8C\u6574\u7684url</p></li><li><p>\u6D4F\u89C8\u5668\u8FDB\u7A0B\u901A\u8FC7\u8FDB\u7A0B\u95F4\u901A\u4FE1\uFF08IPC\uFF09\u628Aurl\u8BF7\u6C42\u53D1\u9001\u7ED9\u7F51\u7EDC\u8FDB\u7A0B</p></li><li><p>\u7F51\u7EDC\u8FDB\u7A0B\u63A5\u6536\u5230url\u8BF7\u6C42\u540E\u68C0\u67E5\u672C\u5730\u7F13\u5B58\u662F\u5426\u7F13\u5B58\u4E86\u8BE5\u8BF7\u6C42\u8D44\u6E90\uFF0C\u5982\u679C\u6709\u5219\u5C06\u8BE5\u8D44\u6E90\u8FD4\u56DE\u7ED9\u6D4F\u89C8\u5668\u8FDB\u7A0B</p></li><li><p>\u5982\u679C\u6CA1\u6709\uFF0C\u7F51\u7EDC\u8FDB\u7A0B\u5411web\u670D\u52A1\u5668\u53D1\u8D77http\u8BF7\u6C42\uFF08\u7F51\u7EDC\u8BF7\u6C42\uFF09\uFF0C\u8BF7\u6C42\u6D41\u7A0B\u5982\u4E0B</p><p>\uFF1A</p><ul><li>\u8FDB\u884CDNS\u89E3\u6790\uFF0C\u83B7\u53D6\u670D\u52A1\u5668<code>ip</code>\u5730\u5740\uFF0C\u7AEF\u53E3</li><li>\u5229\u7528<code>ip</code>\u5730\u5740\u548C\u670D\u52A1\u5668\u5EFA\u7ACB<code>tcp</code>\u8FDE\u63A5</li><li>\u6784\u5EFA\u8BF7\u6C42\u5934\u4FE1\u606F</li><li>\u53D1\u9001\u8BF7\u6C42\u5934\u4FE1\u606F\u670D\u52A1\u5668\u54CD\u5E94\u540E\uFF0C\u7F51\u7EDC\u8FDB\u7A0B\u63A5\u6536\u54CD\u5E94\u5934\u548C\u54CD\u5E94\u4FE1\u606F\uFF0C\u5E76\u89E3\u6790\u54CD\u5E94\u5185\u5BB9</li></ul></li><li><p>\u7F51\u7EDC\u8FDB\u7A0B\u89E3\u6790\u54CD\u5E94\u6D41\u7A0B</p><p>:</p><ul><li>\u68C0\u67E5\u72B6\u6001\u7801\uFF0C\u5982\u679C\u662F301/302\uFF0C\u5219\u9700\u8981\u91CD\u5B9A\u5411\uFF0C\u4ECELocation\u81EA\u52A8\u4E2D\u8BFB\u53D6\u5730\u5740\uFF0C\u91CD\u65B0\u8FDB\u884C\u7B2C4\u6B65\uFF0C\u5982\u679C\u662F200\uFF0C\u5219\u7EE7\u7EED\u5904\u7406\u8BF7\u6C42</li><li>200\u54CD\u5E94\u5904\u7406\uFF1A\u68C0\u67E5\u54CD\u5E94\u7C7B\u578BContent-Type\uFF0C\u5982\u679C\u662F\u5B57\u8282\u6D41\u7C7B\u578B\uFF0C\u5219\u5C06\u8BE5\u8BF7\u6C42\u63D0\u4EA4\u7ED9\u4E0B\u8F7D\u7BA1\u7406\u5668\uFF0C\u8BE5\u5BFC\u822A\u6D41\u7A0B\u7ED3\u675F\uFF0C\u4E0D\u518D\u8FDB\u884C\u540E\u7EED\u7684\u6E32\u67D3\uFF0C\u5982\u679C\u662Fhtml\u5219\u901A\u77E5\u6D4F\u89C8\u5668\u8FDB\u7A0B\u51C6\u5907\u6E32\u67D3\u8FDB\u7A0B\u51C6\u5907\u8FDB\u884C\u67D3</li></ul></li><li><p>\u51C6\u5907\u6E32\u67D3\u8FDB\u7A0B</p><ul><li>\u6D4F\u89C8\u5668\u8FDB\u7A0B\u68C0\u67E5\u5F53\u524Durl\u662F\u5426\u548C\u4E4B\u524D\u6253\u5F00\u7684\u6E32\u67D3\u8FDB\u7A0B\u6839\u57DF\u540D\u662F\u5426\u76F8\u540C\uFF0C\u5982\u679C\u76F8\u540C\uFF0C\u5219\u590D\u7528\u539F\u6765\u7684\u8FDB\u7A0B\uFF0C\u5982\u679C\u4E0D\u540C\uFF0C\u5219\u5F00\u542F\u65B0\u7684\u6E32\u67D3\u8FDB\u7A0B</li></ul></li><li><p>\u4F20\u8F93\u6570\u636E\u3001\u66F4\u65B0\u72B6\u6001</p><ul><li>\u6E32\u67D3\u8FDB\u7A0B\u51C6\u5907\u597D\u540E\uFF0C\u6D4F\u89C8\u5668\u5411\u6E32\u67D3\u8FDB\u7A0B\u53D1\u8D77\u201C\u63D0\u4EA4\u6587\u6863\u201D\u7684\u6D88\u606F\uFF0C\u6E32\u67D3\u8FDB\u7A0B\u63A5\u6536\u5230\u6D88\u606F\u548C\u7F51\u7EDC\u8FDB\u7A0B\u5EFA\u7ACB\u4F20\u8F93\u6570\u636E\u7684\u201C\u7BA1\u9053\u201D</li><li>\u6E32\u67D3\u8FDB\u7A0B\u63A5\u6536\u5B8C\u6570\u636E\u540E\uFF0C\u5411\u6D4F\u89C8\u5668\u53D1\u9001\u201C\u786E\u8BA4\u63D0\u4EA4\u201D</li><li>\u6D4F\u89C8\u5668\u8FDB\u7A0B\u63A5\u6536\u5230\u786E\u8BA4\u6D88\u606F\u540E\u66F4\u65B0\u6D4F\u89C8\u5668\u754C\u9762\u72B6\u6001\uFF1A\u5B89\u5168\u3001\u5730\u5740\u680Furl\u3001\u524D\u8FDB\u540E\u9000\u7684\u5386\u53F2\u72B6\u6001\u3001\u66F4\u65B0web\u9875\u9762</li></ul></li></ul>',4),Xun={id:"_4-tcp\u3001udp\u76F8\u5173",tabindex:"-1"},Kun=n("a",{class:"header-anchor",href:"#_4-tcp\u3001udp\u76F8\u5173","aria-hidden":"true"},"#",-1),Qun=s(),Yun={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_4-tcp%E3%80%81udp%E7%9B%B8%E5%85%B3",target:"_blank",rel:"noopener noreferrer"},Zun=s("#"),nkn=s("4 TCP\u3001UDP\u76F8\u5173"),skn={id:"_4-1-udp-\u548C-tcp\u6709\u4EC0\u4E48\u533A\u522B",tabindex:"-1"},akn=n("a",{class:"header-anchor",href:"#_4-1-udp-\u548C-tcp\u6709\u4EC0\u4E48\u533A\u522B","aria-hidden":"true"},"#",-1),ekn=s(),tkn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_4-1-udp-%E5%92%8C-tcp%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},pkn=s("#"),okn=s("4.1 UDP \u548C TCP\u6709\u4EC0\u4E48\u533A\u522B"),ckn=n("blockquote",null,[n("p",null,"UDP\u534F\u8BAE\u662F\u9762\u5411\u65E0\u8FDE\u63A5\u7684\uFF0C\u4E0D\u9700\u8981\u5728\u6B63\u5F0F\u4F20\u9012\u6570\u636E\u4E4B\u524D\u5148\u8FDE\u63A5\u8D77\u53CC\u65B9\uFF0C\u5177\u6709\u4E0D\u53EF\u9760\u6027\uFF1A\u4E0D\u4FDD\u8BC1\u6709\u5E8F\u4E14\u4E0D\u4E22\u5931\u7684\u5C06\u6570\u636E\u4F20\u9012\u5230\u5BF9\u7AEF\uFF0C\u5E76\u4E14\u6CA1\u6709\u4EFB\u4F55\u63A7\u5236\u6D41\u91CF\u7684\u7B97\u6CD5\u3002\u4F18\u70B9\u662F\uFF1A\u76F8\u6BD4TCP\u66F4\u8F7B\u4FBF\u9AD8\u6548")],-1),lkn=n("p",null,"TCP\u5EFA\u7ACB\u8FDE\u63A5\u548C\u65AD\u5F00\u8FDE\u63A5\u90FD\u9700\u8981\u8FDB\u884C\u63E1\u624B\uFF0C\u5E76\u5728\u6570\u636E\u4F20\u8F93\u8FC7\u7A0B\u4E2D\uFF0C\u901A\u8FC7\u7B97\u6CD5\u6765\u4FDD\u8BC1\u6570\u636E\u7684\u53EF\u9760\u6027",-1),rkn={id:"_4-2-tcp\u4E3A\u4EC0\u4E48\u8981\u4E09\u6B21\u63E1\u624B",tabindex:"-1"},ikn=n("a",{class:"header-anchor",href:"#_4-2-tcp\u4E3A\u4EC0\u4E48\u8981\u4E09\u6B21\u63E1\u624B","aria-hidden":"true"},"#",-1),ukn=s(),kkn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_4-2-tcp%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B",target:"_blank",rel:"noopener noreferrer"},dkn=s("#"),bkn=s("4.2 TCP\u4E3A\u4EC0\u4E48\u8981\u4E09\u6B21\u63E1\u624B"),mkn=t('<blockquote><p>\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u90FD\u9700\u8981\u76F4\u5230\u5404\u81EA\u53EF\u6536\u53D1\uFF0C\u56E0\u6B64\u9700\u8981\u4E09\u6B21\u63E1\u624B</p></blockquote><p><img src="https://user-images.githubusercontent.com/34148615/53062591-3d846300-34fc-11e9-8d0f-4063d9ff3398.png" alt="img"></p><blockquote><p>TCP\u67096\u79CD\u6807\u793A:SYN(\u5EFA\u7ACB\u8054\u673A) ACK(\u786E\u8BA4) PSH(\u4F20\u9001) FIN(\u7ED3\u675F) RST(\u91CD\u7F6E) URG(\u7D27\u6025)</p></blockquote><p><strong>\u4E3E\u4F8B\uFF1A\u5DF2\u5931\u6548\u7684\u8FDE\u63A5\u8BF7\u6C42\u62A5\u6587\u6BB5</strong></p><ul><li><code>client</code>\u53D1\u9001\u4E86\u7B2C\u4E00\u4E2A\u8FDE\u63A5\u7684\u8BF7\u6C42\u62A5\u6587\uFF0C\u4F46\u662F\u7531\u4E8E\u7F51\u7EDC\u4E0D\u597D\uFF0C\u8FD9\u4E2A\u8BF7\u6C42\u6CA1\u6709\u7ACB\u5373\u5230\u8FBE\u670D\u52A1\u7AEF\uFF0C\u800C\u662F\u5728\u67D0\u4E2A\u7F51\u7EDC\u8282\u70B9\u4E2D\u6EDE\u7559\u4E86\uFF0C\u76F4\u5230\u67D0\u4E2A\u65F6\u95F4\u624D\u5230\u8FBE<code>server</code></li><li>\u672C\u6765\u8FD9\u5DF2\u7ECF\u662F\u4E00\u4E2A\u5931\u6548\u7684\u62A5\u6587\uFF0C\u4F46\u662F<code>server</code>\u7AEF\u63A5\u6536\u5230\u8FD9\u4E2A\u8BF7\u6C42\u62A5\u6587\u540E\uFF0C\u8FD8\u662F\u4F1A\u60F3<code>client</code>\u53D1\u51FA\u786E\u8BA4\u7684\u62A5\u6587\uFF0C\u8868\u793A\u540C\u610F\u8FDE\u63A5\u3002</li><li>\u5047\u5982\u4E0D\u91C7\u7528\u4E09\u6B21\u63E1\u624B\uFF0C\u90A3\u4E48\u53EA\u8981<code>server</code>\u53D1\u51FA\u786E\u8BA4\uFF0C\u65B0\u7684\u5EFA\u7ACB\u5C31\u8FDE\u63A5\u4E86\uFF0C\u4F46\u5176\u5B9E\u8FD9\u4E2A\u8BF7\u6C42\u662F\u5931\u6548\u7684\u8BF7\u6C42\uFF0C<code>client</code>\u662F\u4E0D\u4F1A\u7406\u776C<code>server</code>\u7684\u786E\u8BA4\u4FE1\u606F\uFF0C\u4E5F\u4E0D\u4F1A\u5411\u670D\u52A1\u7AEF\u53D1\u9001\u786E\u8BA4\u7684\u8BF7\u6C42</li><li>\u4F46\u662F<code>server</code>\u8BA4\u4E3A\u65B0\u7684\u8FDE\u63A5\u5DF2\u7ECF\u5EFA\u7ACB\u8D77\u6765\u4E86\uFF0C\u5E76\u4E00\u76F4\u7B49\u5F85<code>client</code>\u53D1\u6765\u6570\u636E\uFF0C\u8FD9\u6837\uFF0Cserver\u7684\u5F88\u591A\u8D44\u6E90\u5C31\u6CA1\u767D\u767D\u6D6A\u8D39\u6389\u4E86</li><li>\u91C7\u7528\u4E09\u6B21\u63E1\u624B\u5C31\u662F\u4E3A\u4E86\u9632\u6B62\u8FD9\u79CD\u60C5\u51B5\u7684\u53D1\u751F\uFF0Cserver\u4F1A\u56E0\u4E3A\u6536\u4E0D\u5230\u786E\u8BA4\u7684\u62A5\u6587\uFF0C\u5C31\u77E5\u9053<code>client</code>\u5E76\u6CA1\u6709\u5EFA\u7ACB\u8FDE\u63A5\u3002\u8FD9\u5C31\u662F\u4E09\u6B21\u63E1\u624B\u7684\u4F5C\u7528</li></ul>',5),hkn={id:"_4-3-\u4E09\u6B21\u63E1\u624B\u8FC7\u7A0B\u4E2D\u53EF\u4EE5\u643A\u5E26\u6570\u636E\u5417",tabindex:"-1"},_kn=n("a",{class:"header-anchor",href:"#_4-3-\u4E09\u6B21\u63E1\u624B\u8FC7\u7A0B\u4E2D\u53EF\u4EE5\u643A\u5E26\u6570\u636E\u5417","aria-hidden":"true"},"#",-1),gkn=s(),Ekn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_4-3-%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E8%BF%87%E7%A8%8B%E4%B8%AD%E5%8F%AF%E4%BB%A5%E6%90%BA%E5%B8%A6%E6%95%B0%E6%8D%AE%E5%90%97",target:"_blank",rel:"noopener noreferrer"},fkn=s("#"),vkn=s("4.3 \u4E09\u6B21\u63E1\u624B\u8FC7\u7A0B\u4E2D\u53EF\u4EE5\u643A\u5E26\u6570\u636E\u5417"),wkn=n("ul",null,[n("li",null,"\u7B2C\u4E00\u6B21\u3001\u7B2C\u4E8C\u6B21\u63E1\u624B\u4E0D\u53EF\u4EE5\u643A\u5E26\u6570\u636E\uFF0C\u56E0\u4E3A\u4E00\u63E1\u4E8C\u63E1\u65F6\u8FD8\u6CA1\u6709\u5EFA\u7ACB\u8FDE\u63A5\uFF0C\u4F1A\u8BA9\u670D\u52A1\u5668\u5BB9\u6613\u53D7\u5230\u653B\u51FB"),n("li",null,[s("\u800C\u7B2C\u4E09\u6B21\u63E1\u624B\uFF0C\u6B64\u65F6\u5BA2\u6237\u7AEF\u5DF2\u7ECF\u5904\u4E8E "),n("code",null,"ESTABLISHED (\u5DF2\u5EFA\u7ACB\u8FDE\u63A5\u72B6\u6001)"),s(" \uFF0C\u5BF9\u4E8E\u5BA2\u6237\u7AEF\u6765\u8BF4\uFF0C\u5DF2\u7ECF\u5EFA\u7ACB\u8D77\u8FDE\u63A5\u4E86\uFF0C\u5E76\u4E14\u4E5F\u5DF2\u7ECF\u77E5\u9053\u670D\u52A1\u5668\u7684\u63A5\u6536\u3001\u53D1\u9001\u80FD\u529B\u662F\u6B63\u5E38\u7684\u4E86\uFF0C\u6240\u4EE5\u80FD\u643A\u5E26\u6570\u636E\u4E5F\u662F\u6CA1\u95EE\u9898\u7684\u3002")])],-1),ykn={id:"_4-4-tcp\u7684\u56DB\u6B21\u6325\u624B",tabindex:"-1"},xkn=n("a",{class:"header-anchor",href:"#_4-4-tcp\u7684\u56DB\u6B21\u6325\u624B","aria-hidden":"true"},"#",-1),Akn=s(),Bkn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_4-4-tcp%E7%9A%84%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B",target:"_blank",rel:"noopener noreferrer"},qkn=s("#"),jkn=s("4.4 TCP\u7684\u56DB\u6B21\u6325\u624B"),Skn=n("blockquote",null,[n("p",null,"\u4E3A\u4E86\u786E\u4FDD\u6570\u636E\u80FD\u591F\u5B8C\u6210\u4F20\u8F93")],-1),Ckn=n("ul",null,[n("li",null,"\u5173\u95ED\u8FDE\u63A5\u65F6\uFF0C\u5F53\u6536\u5230\u5BF9\u65B9\u7684FIN\u62A5\u6587\u901A\u77E5\u65F6\uFF0C\u5B83\u4EC5\u4EC5\u8868\u793A\u5BF9\u65B9\u6CA1\u6709\u6570\u636E\u53D1\u9001\u7ED9\u4F60\u4E86\uFF1B\u4F46\u672A\u5FC5\u4F60\u6240\u6709\u7684\u6570\u636E\u90FD\u5168\u90E8\u53D1\u9001\u7ED9\u5BF9\u65B9\u4E86"),n("li",null,[s("\u6240\u4EE5\u4F60\u672A\u5FC5\u4F1A\u9A6C\u4E0A\u5173\u95ED"),n("code",null,"SOCKET"),s(",\u4E5F\u5373\u4F60\u53EF\u80FD\u8FD8\u9700\u8981\u53D1\u9001\u4E00\u4E9B\u6570\u636E\u7ED9\u5BF9\u65B9\u4E4B\u540E\uFF0C\u518D\u53D1\u9001FIN\u62A5\u6587\u7ED9\u5BF9\u65B9\u6765\u8868\u793A\u4F60\u540C\u610F\u73B0\u5728\u53EF\u4EE5\u5173\u95ED\u8FDE\u63A5\u4E86\uFF0C\u6240\u4EE5\u5B83\u8FD9\u91CC\u7684"),n("code",null,"ACK"),s("\u62A5\u6587\u548CFIN\u62A5\u6587\u591A\u6570\u60C5\u51B5\u4E0B\u90FD\u662F\u5206\u5F00\u53D1\u9001\u7684\u3002")])],-1),Dkn={id:"_4-5-tcp-\u548C-udp-\u7684\u533A\u522B",tabindex:"-1"},Fkn=n("a",{class:"header-anchor",href:"#_4-5-tcp-\u548C-udp-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),Pkn=s(),Tkn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_4-5-tcp-%E5%92%8C-udp-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},Nkn=s("#"),Mkn=s("4.5 TCP \u548C UDP \u7684\u533A\u522B"),Okn=n("ul",null,[n("li",null,"TCP \u662F\u9762\u5411\u8FDE\u63A5\u7684\uFF0Cudp \u662F\u65E0\u8FDE\u63A5\u7684\u5373\u53D1\u9001\u6570\u636E\u524D\u4E0D\u9700\u8981\u5148\u5EFA\u7ACB\u94FE\u63A5"),n("li",null,"TCP \u63D0\u4F9B\u53EF\u9760\u7684\u670D\u52A1\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u901A\u8FC7 TCP \u8FDE\u63A5\u4F20\u9001\u7684\u6570\u636E\uFF0C\u65E0\u5DEE\u9519\uFF0C\u4E0D\u4E22\u5931\uFF0C \u4E0D\u91CD\u590D\uFF0C\u4E14\u6309\u5E8F\u5230\u8FBE;UDP \u5C3D\u6700\u5927\u52AA\u529B\u4EA4\u4ED8\uFF0C\u5373\u4E0D\u4FDD\u8BC1\u53EF\u9760\u4EA4\u4ED8\u3002 \u5E76\u4E14\u56E0\u4E3A tcp \u53EF\u9760\uFF0C \u9762\u5411\u8FDE\u63A5\uFF0C\u4E0D\u4F1A\u4E22\u5931\u6570\u636E\u56E0\u6B64\u9002\u5408\u5927\u6570\u636E\u91CF\u7684\u4EA4\u6362"),n("li",null,"TCP \u662F\u9762\u5411\u5B57\u8282\u6D41\uFF0CUDP \u9762\u5411\u62A5\u6587\uFF0C\u5E76\u4E14\u7F51\u7EDC\u51FA\u73B0\u62E5\u585E\u4E0D\u4F1A\u4F7F\u5F97\u53D1\u9001\u901F\u7387\u964D\u4F4E(\u56E0 \u6B64\u4F1A\u51FA\u73B0\u4E22\u5305\uFF0C\u5BF9\u5B9E\u65F6\u7684\u5E94\u7528\u6BD4\u5982 IP \u7535\u8BDD\u548C\u89C6\u9891\u4F1A\u8BAE\u7B49)"),n("li",null,"TCP \u53EA\u80FD\u662F 1 \u5BF9 1 \u7684\uFF0CUDP \u652F\u6301 1 \u5BF9 1,1 \u5BF9\u591A"),n("li",null,"TCP \u7684\u9996\u90E8\u8F83\u5927\u4E3A 20 \u5B57\u8282\uFF0C\u800C UDP \u53EA\u6709 8 \u5B57\u8282"),n("li",null,"TCP \u662F\u9762\u5411\u8FDE\u63A5\u7684\u53EF\u9760\u6027\u4F20\u8F93\uFF0C\u800C UDP \u662F\u4E0D\u53EF\u9760\u7684")],-1),Ikn={id:"_4-6-http\u548Ctcp\u7684\u4E0D\u540C",tabindex:"-1"},Rkn=n("a",{class:"header-anchor",href:"#_4-6-http\u548Ctcp\u7684\u4E0D\u540C","aria-hidden":"true"},"#",-1),Vkn=s(),Hkn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_4-6-http%E5%92%8Ctcp%E7%9A%84%E4%B8%8D%E5%90%8C",target:"_blank",rel:"noopener noreferrer"},Lkn=s("#"),Ukn=s("4.6 HTTP\u548CTCP\u7684\u4E0D\u540C"),Jkn=n("ul",null,[n("li",null,"HTTP\u7684\u8D23\u4EFB\u662F\u53BB\u5B9A\u4E49\u6570\u636E\uFF0C\u5728\u4E24\u53F0\u8BA1\u7B97\u673A\u76F8\u4E92\u4F20\u9012\u4FE1\u606F\u65F6\uFF0CHTTP\u89C4\u5B9A\u4E86\u6BCF\u6BB5\u6570\u636E\u4EE5\u4EC0\u4E48\u5F62\u5F0F\u8868\u8FBE\u624D\u662F\u80FD\u591F\u88AB\u53E6\u5916\u4E00\u53F0\u8BA1\u7B97\u673A\u7406\u89E3\u3002"),n("li",null,"\u800CTCP\u6240\u8981\u89C4\u5B9A\u7684\u662F\u6570\u636E\u5E94\u8BE5\u600E\u4E48\u4F20\u8F93\u624D\u80FD\u7A33\u5B9A\u4E14\u9AD8\u6548\u7684\u4F20\u9012\u4E0E\u8BA1\u7B97\u673A\u4E4B\u95F4\u3002")],-1),Wkn={id:"_5-http2\u76F8\u5173",tabindex:"-1"},zkn=n("a",{class:"header-anchor",href:"#_5-http2\u76F8\u5173","aria-hidden":"true"},"#",-1),Gkn=s(),$kn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_5-http2%E7%9B%B8%E5%85%B3",target:"_blank",rel:"noopener noreferrer"},Xkn=s("#"),Kkn=s("5 HTTP2\u76F8\u5173"),Qkn={id:"_5-1-\u8BF4\u4E00\u4E0B-http2-0",tabindex:"-1"},Ykn=n("a",{class:"header-anchor",href:"#_5-1-\u8BF4\u4E00\u4E0B-http2-0","aria-hidden":"true"},"#",-1),Zkn=s(),ndn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_5-1-%E8%AF%B4%E4%B8%80%E4%B8%8B-http2-0",target:"_blank",rel:"noopener noreferrer"},sdn=s("#"),adn=s("5.1 \u8BF4\u4E00\u4E0B http2.0"),edn=t("<blockquote><p>\u9996\u5148\u8865\u5145\u4E00\u4E0B\uFF0Chttp \u548C https \u7684\u533A\u522B\uFF0C\u76F8\u6BD4\u4E8E http,https \u662F\u57FA\u4E8E ssl \u52A0\u5BC6\u7684 http \u534F\u8BAE</p></blockquote><p>\u7B80\u8981\u6982\u62EC:http2.0 \u662F\u57FA\u4E8E 1999 \u5E74\u53D1\u5E03\u7684 http1.0 \u4E4B\u540E\u7684\u9996\u6B21\u66F4\u65B0</p><ul><li><strong>\u63D0\u5347\u8BBF\u95EE\u901F\u5EA6</strong>(\u53EF\u4EE5\u5BF9\u4E8E\uFF0C\u8BF7\u6C42\u8D44\u6E90\u6240\u9700\u65F6\u95F4\u66F4\u5C11\uFF0C\u8BBF\u95EE\u901F\u5EA6\u66F4\u5FEB\uFF0C\u76F8\u6BD4 http1.0)</li><li><strong>\u5141\u8BB8\u591A\u8DEF\u590D\u7528</strong>:\u591A\u8DEF\u590D\u7528\u5141\u8BB8\u540C\u65F6\u901A\u8FC7\u5355\u4E00\u7684 HTTP/2 \u8FDE\u63A5\u53D1\u9001\u591A\u91CD\u8BF7\u6C42-\u54CD\u5E94\u4FE1\u606F\u3002\u6539 \u5584\u4E86:\u5728 http1.1 \u4E2D\uFF0C\u6D4F\u89C8\u5668\u5BA2\u6237\u7AEF\u5728\u540C\u4E00\u65F6\u95F4\uFF0C\u9488\u5BF9\u540C\u4E00\u57DF\u540D\u4E0B\u7684\u8BF7\u6C42\u6709\u4E00\u5B9A\u6570\u91CF\u9650 \u5236(\u8FDE\u63A5\u6570\u91CF)\uFF0C\u8D85\u8FC7\u9650\u5236\u4F1A\u88AB\u963B\u585E</li><li><strong>\u4E8C\u8FDB\u5236\u5206\u5E27</strong>:HTTP2.0 \u4F1A\u5C06\u6240\u6709\u7684\u4F20\u8F93\u4FE1\u606F\u5206\u5272\u4E3A\u66F4\u5C0F\u7684\u4FE1\u606F\u6216\u8005\u5E27\uFF0C\u5E76\u5BF9\u4ED6\u4EEC\u8FDB\u884C\u4E8C \u8FDB\u5236\u7F16\u7801</li><li><strong>\u9996\u90E8\u538B\u7F29</strong></li><li><strong>\u670D\u52A1\u5668\u7AEF\u63A8\u9001</strong></li></ul>",3),tdn={id:"_5-2-http2\u548Chttp1\u6709\u4EC0\u4E48\u533A\u522B",tabindex:"-1"},pdn=n("a",{class:"header-anchor",href:"#_5-2-http2\u548Chttp1\u6709\u4EC0\u4E48\u533A\u522B","aria-hidden":"true"},"#",-1),odn=s(),cdn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_5-2-http2%E5%92%8Chttp1%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},ldn=s("#"),rdn=s("5.2 HTTP2\u548CHTTP1\u6709\u4EC0\u4E48\u533A\u522B"),idn=t("<p><strong>\u76F8\u5BF9\u4E8EHTTP1.0\uFF0CHTTP1.1\u7684\u4F18\u5316</strong></p><ul><li>\u7F13\u5B58\u5904\u7406\uFF1A\u591A\u4E86<code>Entity tag</code>\uFF0C<code>If-Unmodified-Since</code>, <code>If-Match</code>, <code>If-None-Match</code>\u7B49\u7F13\u5B58\u4FE1\u606F\uFF08<code>HTTTP1.0 If-Modified-Since</code>,<code>Expires</code>\uFF09</li><li>\u5E26\u5BBD\u4F18\u5316\u53CA\u7F51\u7EDC\u8FDE\u63A5\u7684\u4F7F\u7528</li><li>\u9519\u8BEF\u901A\u77E5\u7684\u7BA1\u7406</li><li><code>Host</code>\u5934\u5904\u7406</li><li>\u957F\u8FDE\u63A5\uFF1A <code>HTTP1.1</code>\u4E2D\u9ED8\u8BA4\u5F00\u542F<code>Connection</code>\uFF1A <code>keep-alive</code>\uFF0C\u4E00\u5B9A\u7A0B\u5EA6\u4E0A\u5F25\u8865\u4E86<code>HTTP1.0</code>\u6BCF\u6B21\u8BF7\u6C42\u90FD\u8981\u521B\u5EFA\u8FDE\u63A5\u7684\u7F3A\u70B9</li></ul><p><strong>\u76F8\u5BF9\u4E8EHTTP1.1\uFF0CHTTP2\u7684\u4F18\u5316</strong></p><ul><li><code>HTTP2</code>\u652F\u6301\u4E8C\u8FDB\u5236\u4F20\u9001\uFF08\u5B9E\u73B0\u65B9\u4FBF\u4E14\u5065\u58EE\uFF09\uFF0C<code>HTTP1.x</code>\u662F\u5B57\u7B26\u4E32\u4F20\u9001</li><li><code>HTTP2</code>\u652F\u6301\u591A\u8DEF\u590D\u7528</li><li><code>HTTP2</code>\u91C7\u7528<code>HPACK</code>\u538B\u7F29\u7B97\u6CD5\u538B\u7F29\u5934\u90E8\uFF0C\u51CF\u5C0F\u4E86\u4F20\u8F93\u7684\u4F53\u79EF</li><li><code>HTTP2</code>\u652F\u6301\u670D\u52A1\u7AEF\u63A8\u9001</li></ul>",4),udn={id:"_5-3-http-2\u4E3A\u4EC0\u4E48\u8981\u505A\u5934\u90E8\u538B\u7F29-\u5B9E\u73B0\u539F\u7406\u662F\u4EC0\u4E48",tabindex:"-1"},kdn=n("a",{class:"header-anchor",href:"#_5-3-http-2\u4E3A\u4EC0\u4E48\u8981\u505A\u5934\u90E8\u538B\u7F29-\u5B9E\u73B0\u539F\u7406\u662F\u4EC0\u4E48","aria-hidden":"true"},"#",-1),ddn=s(),bdn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_5-3-http-2%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%81%9A%E5%A4%B4%E9%83%A8%E5%8E%8B%E7%BC%A9-%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},mdn=s("#"),hdn=s("5.3 http/2\u4E3A\u4EC0\u4E48\u8981\u505A\u5934\u90E8\u538B\u7F29\uFF0C\u5B9E\u73B0\u539F\u7406\u662F\u4EC0\u4E48\uFF1F"),_dn=n("blockquote",null,[n("p",null,"http\u8BF7\u6C42\u90FD\u662F\u7531\u72B6\u6001\u884C\u3001\u8BF7\u6C42/\u54CD\u5E94\u5934\u90E8\u3001\u6D88\u606F\u4E3B\u4F53\u4E09\u90E8\u5206\u7EC4\u6210\uFF0C\u4E00\u822C\u800C\u8A00\uFF0C\u6D88\u606F\u4E3B\u4F53\u90FD\u4F1A\u7ECF\u8FC7gzip\u538B\u7F29\uFF0C\u6216\u8005\u672C\u8EAB\u4F20\u8F93\u7684\u5C31\u662F\u538B\u7F29\u540E\u7684\u4E8C\u8FDB\u5236\u6587\u4EF6\uFF08\u4F8B\u5982\u56FE\u7247\u3001\u97F3\u9891\uFF09\uFF0C\u4F46\u662F\u72B6\u6001\u884C\u548C\u5934\u90E8\u5374\u6CA1\u6709\u7ECF\u8FC7\u4EFB\u4F55\u538B\u7F29\uFF0C\u76F4\u63A5\u4EE5\u6587\u672C\u4F20\u8F93\u3002\u5BF9\u4E8E\u4E00\u4E2A\u8BF7\u6C42\u800C\u8A00\uFF0C\u5176headers\u6240\u5360\u7684\u5B57\u8282\u6570\u4E5F\u4E0D\u5C11\uFF0C\u5C24\u5176cookie\uFF0C\u6709\u4E9B\u65F6\u5019headers\u751A\u81F3\u8D85\u8FC7\u4E86\u4E3B\u4F53\u7684\u5927\u5C0F\u3002")],-1),gdn=n("p",null,"\u5934\u90E8\u538B\u7F29\u4F7F\u7528\u4E86HPACK\u7B97\u6CD5\u3002\u4F1A\u5728\u652F\u6301http/2\u7684\u6D4F\u89C8\u5668\u548C\u670D\u52A1\u7AEF\u4E4B\u95F4\uFF1A",-1),Edn=n("ul",null,[n("li",null,"\u7EF4\u62A4\u4E00\u4EFD\u76F8\u540C\u7684\u9759\u6001\u5B57\u5178\uFF0C\u5305\u542B\u5E38\u89C1\u7684\u5934\u90E8\u540D\u79F0\u4EE5\u53CA\u7279\u522B\u5E38\u89C1\u7684\u5934\u90E8\u540D\u79F0\u548C\u503C\u7684\u7EC4\u5408\u3002\u8FD9\u6837\u5BF9\u5B8C\u5168\u5339\u914D\u7684\u5934\u90E8\u952E\u503C\u5BF9\uFF0C\u4F8B\u5982\uFF1Amethod\uFF1AGET\uFF0C\u5C31\u53EF\u4EE5\u4F7F\u7528\u4E00\u4E2A\u5B57\u7B26\u8868\u793A\u3002\u5BF9\u4E8E\u5934\u90E8\u540D\u79F0\u53EF\u4EE5\u5339\u914D\u7684\uFF0C\u4F8B\u5982cookie\uFF1A xxx\uFF0C\u53EF\u4EE5\u5C06\u540D\u79F0\u4F7F\u7528\u4E00\u4E2A\u5B57\u7B26\u8868\u793A"),n("li",null,"\u7EF4\u62A4\u4E00\u4EFD\u76F8\u540C\u7684\u52A8\u6001\u5B57\u5178\uFF0C\u53EF\u4EE5\u52A8\u6001\u7684\u6DFB\u52A0\u5185\u5BB9"),n("li",null,"\u652F\u6301\u57FA\u4E8E\u9759\u6001\u54C8\u592B\u66FC\u7801\u8868\u7684\u54C8\u592B\u66FC\u7F16\u7801\uFF08Huffman Coding\uFF09")],-1),fdn={id:"_5-4-http-2\u7684server-push\u6709\u4EC0\u4E48\u4F18\u70B9",tabindex:"-1"},vdn=n("a",{class:"header-anchor",href:"#_5-4-http-2\u7684server-push\u6709\u4EC0\u4E48\u4F18\u70B9","aria-hidden":"true"},"#",-1),wdn=s(),ydn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_5-4-http-2%E7%9A%84server-push%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},xdn=s("#"),Adn=s("5.4 http/2\u7684Server Push\u6709\u4EC0\u4E48\u4F18\u70B9"),Bdn=n("ul",null,[n("li",null,[s("\u652F\u6301\u670D\u52A1\u7AEF\u63A8\u9001\uFF0C\u610F\u5473\u7740\u670D\u52A1\u7AEF\u53EF\u4EE5\u5728\u53D1\u9001\u9875\u9762"),n("code",null,"HTML"),s("\u65F6\u4E3B\u52A8\u63A8\u9001\u5176\u5B83\u8D44\u6E90\uFF0C\u800C\u4E0D\u7528\u7B49\u5230\u6D4F\u89C8\u5668\u89E3\u6790\u5230\u76F8\u5E94\u4F4D\u7F6E\u518D\u53D1\u8D77\u8BF7\u6C42")]),n("li",null,[s("\u53E6\u5916\uFF0C\u670D\u52A1\u7AEF\u53EF\u4EE5\u4E3B\u52A8\u63A8\u9001\uFF0C\u5BA2\u6237\u7AEF\u4E5F\u6709\u6743\u9009\u62E9\u662F\u5426\u63A5\u6536\u3002\u5982\u679C\u670D\u52A1\u7AEF\u63A8\u9001\u7684\u8D44\u6E90\u5DF2\u7ECF\u88AB\u6D4F\u89C8\u5668\u7F13\u5B58\u8FC7\uFF0C\u6D4F\u89C8\u5668\u53EF\u4EE5\u901A\u8FC7\u53D1\u9001"),n("code",null,"RST_STREAM"),s("\u5E27\u6765\u62D2\u6536")])],-1),qdn={id:"_5-5-\u8C08\u8C08\u4F60\u5BF9\u591A\u8DEF\u590D\u7528\u7684\u7406\u89E3",tabindex:"-1"},jdn=n("a",{class:"header-anchor",href:"#_5-5-\u8C08\u8C08\u4F60\u5BF9\u591A\u8DEF\u590D\u7528\u7684\u7406\u89E3","aria-hidden":"true"},"#",-1),Sdn=s(),Cdn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_5-5-%E8%B0%88%E8%B0%88%E4%BD%A0%E5%AF%B9%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8%E7%9A%84%E7%90%86%E8%A7%A3",target:"_blank",rel:"noopener noreferrer"},Ddn=s("#"),Fdn=s("5.5 \u8C08\u8C08\u4F60\u5BF9\u591A\u8DEF\u590D\u7528\u7684\u7406\u89E3"),Pdn=t("<blockquote><ul><li><code>HTTP2</code>\u91C7\u7528\u4E8C\u8FDB\u5236\u683C\u5F0F\u4F20\u8F93\uFF0C\u53D6\u4EE3\u4E86<code>HTTP1.x</code>\u7684\u6587\u672C\u683C\u5F0F\uFF0C\u4E8C\u8FDB\u5236\u683C\u5F0F\u89E3\u6790\u66F4\u9AD8\u6548\u3002</li><li>\u591A\u8DEF\u590D\u7528\u4EE3\u66FF\u4E86<code>HTTP1.x</code>\u7684\u5E8F\u5217\u548C\u963B\u585E\u673A\u5236\uFF0C\u6240\u6709\u7684\u76F8\u540C\u57DF\u540D\u8BF7\u6C42\u90FD\u901A\u8FC7\u540C\u4E00\u4E2A<code>TCP</code>\u8FDE\u63A5\u5E76\u53D1\u5B8C\u6210\u3002\u5728<code>HTTP1.x</code>\u4E2D\uFF0C\u5E76\u53D1\u591A\u4E2A\u8BF7\u6C42\u9700\u8981\u591A\u4E2A<code>TCP</code>\u8FDE\u63A5\uFF0C\u6D4F\u89C8\u5668\u4E3A\u4E86\u63A7\u5236\u8D44\u6E90\u4F1A\u6709<code>6-8</code>\u4E2A<code>TCP</code>\u8FDE\u63A5\u90FD\u9650\u5236\u3002</li></ul></blockquote><p><strong>HTTP2\u4E2D</strong></p><ul><li>\u540C\u57DF\u540D\u4E0B\u6240\u6709\u901A\u4FE1\u90FD\u5728\u5355\u4E2A\u8FDE\u63A5\u4E0A\u5B8C\u6210\uFF0C\u6D88\u9664\u4E86\u56E0\u591A\u4E2A <code>TCP</code> \u8FDE\u63A5\u800C\u5E26\u6765\u7684\u5EF6\u65F6\u548C\u5185\u5B58\u6D88\u8017\u3002</li><li>\u5355\u4E2A\u8FDE\u63A5\u4E0A\u53EF\u4EE5\u5E76\u884C\u4EA4\u9519\u7684\u8BF7\u6C42\u548C\u54CD\u5E94\uFF0C\u4E4B\u95F4\u4E92\u4E0D\u5E72\u6270</li></ul><blockquote><ul><li><code>http/1</code> \u7684\u8BF7\u6C42\u548C\u54CD\u5E94\u62A5\u6587\uFF0C\u90FD\u662F\u7531\u8D77\u59CB\u884C\u3001\u9996\u90E8\u548C\u5B9E\u4F53\u6B63\u6587\uFF08\u53EF\u9009\uFF09\u7EC4\u6210\uFF0C\u5404\u90E8\u5206\u4E4B\u95F4\u4EE5\u6587\u672C\u6362\u884C\u7B26\u5206\u9694\u3002\u800C<code>http/2</code>\u5C06\u8BF7\u6C42\u548C\u54CD\u5E94\u6570\u636E\u5206\u9694\u6210\u4E3A\u66F4\u5C0F\u7684\u5E27\uFF0C\u5E76\u5BF9\u4ED6\u4EEC\u91C7\u7528\u4E8C\u8FDB\u5236\u7F16\u7801</li><li><code>http/2</code> \u4E2D\uFF0C\u540C\u57DF\u540D\u4E0B\u7684\u6240\u6709\u8BF7\u6C42\u90FD\u5728\u4E00\u4E2A\u8FDE\u63A5\u4E0A\u5B8C\u6210\uFF0C\u8FD9\u4E2A\u8FDE\u63A5\u53EF\u4EE5\u627F\u8F7D\u4EFB\u610F\u6570\u91CF\u7684\u53CC\u5411\u6570\u636E\u6D41\u3002\u6BCF\u4E2A\u6570\u636E\u6D41\u90FD\u4EE5\u6D88\u606F\u7684\u5F62\u5F0F\u53D1\u9001\uFF0C\u6D88\u606F\u7531\u4E00\u4E2A\u6216\u591A\u4E2A\u5E27\u7EC4\u6210\u3002\u591A\u4E2A\u5E27\u4E4B\u95F4\u53EF\u4EE5\u4E71\u5E8F\u53D1\u9001\uFF0C\u7136\u540E\u6839\u636E\u5E27\u9996\u90E8\u7684\u6D41\u6807\u8BC6\u53EF\u4EE5\u91CD\u65B0\u7EC4\u88C5</li></ul></blockquote>",4),Tdn={id:"_6-https\u76F8\u5173",tabindex:"-1"},Ndn=n("a",{class:"header-anchor",href:"#_6-https\u76F8\u5173","aria-hidden":"true"},"#",-1),Mdn=s(),Odn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-https%E7%9B%B8%E5%85%B3",target:"_blank",rel:"noopener noreferrer"},Idn=s("#"),Rdn=s("6 https\u76F8\u5173"),Vdn=n("p",null,"\u60F3\u8981\u771F\u6B63\u7684\u4E86\u89E3https\uFF0C\u9700\u8981\u4E86\u89E3\u5F88\u591A\u76F8\u5173\u77E5\u8BC6\uFF0C\u6BD4\u5982SSL\uFF0C\u5BF9\u79F0\u52A0\u5BC6\uFF0C\u975E\u5BF9\u79F0\u52A0\u5BC6\uFF0CCA\u8BC1\u4E66\u7B49\u77E5\u8BC6\u3002",-1),Hdn=n("blockquote",null,[n("p",null,"https\u534F\u8BAE\u672C\u8EAB\u5E76\u4E0D\u662F\u4E00\u79CD\u65B0\u7684\u534F\u8BAE\uFF0C\u5728HTTP\u8DDFTCP\u4E2D\u95F4\u52A0\u591A\u4E86\u4E00\u5C42\u52A0\u5BC6\u5C42TLS/SSL\u3002\u901A\u5E38HTTP\u76F4\u63A5\u548CTCP\u901A\u4FE1\uFF0C\u800CHTTPS\u8981\u5148\u5C06\u6570\u636E\u7ED9\u5230TLS/SSL\uFF0C\u6570\u636E\u7ECF\u52A0\u5BC6\u540E\uFF0C\u518D\u7ED9\u5230 TCP \u8FDB\u884C\u4F20\u8F93\u3002")],-1),Ldn=n("blockquote",null,[n("p",null,"HTTPS\u534F\u8BAE\u7684\u4E3B\u8981\u4F5C\u7528\u53EF\u4EE5\u5206\u4E3A\u4E24\u79CD\uFF1A\u4E00\u79CD\u662F\u5EFA\u7ACB\u4E00\u4E2A\u4FE1\u606F\u5B89\u5168\u901A\u9053\uFF0C\u6765\u4FDD\u8BC1\u6570\u636E\u4F20\u8F93\u7684\u5B89\u5168\uFF1B\u53E6\u4E00\u79CD\u662F\u786E\u8BA4\u7F51\u7AD9\u7684\u771F\u5B9E\u6027")],-1),Udn={id:"_6-1-https\u52A0\u7684\u4E00\u5C42ssl\u5728\u4E03\u5C42\u4E2D\u54EA\u4E2A\u4F4D\u7F6E",tabindex:"-1"},Jdn=n("a",{class:"header-anchor",href:"#_6-1-https\u52A0\u7684\u4E00\u5C42ssl\u5728\u4E03\u5C42\u4E2D\u54EA\u4E2A\u4F4D\u7F6E","aria-hidden":"true"},"#",-1),Wdn=s(),zdn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-1-https%E5%8A%A0%E7%9A%84%E4%B8%80%E5%B1%82ssl%E5%9C%A8%E4%B8%83%E5%B1%82%E4%B8%AD%E5%93%AA%E4%B8%AA%E4%BD%8D%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"},Gdn=s("#"),$dn=s("6.1 HTTPS\u52A0\u7684\u4E00\u5C42SSL\u5728\u4E03\u5C42\u4E2D\u54EA\u4E2A\u4F4D\u7F6E"),Xdn=n("blockquote",null,[n("p",null,"\u4ECE HTTP \u534F\u8BAE\u6808\u5C42\u9762\u6765\u770B\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5728 TCP \u548C HTTP \u4E4B\u95F4\u63D2\u5165\u4E00\u4E2A\u5B89\u5168\u5C42\uFF0C\u6240\u6709\u7ECF\u8FC7\u5B89\u5168\u5C42\u7684\u6570\u636E\u90FD\u4F1A\u88AB\u52A0\u5BC6\u6216\u8005\u89E3\u5BC6\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003\u4E0B\u56FE")],-1),Kdn=n("p",null,[n("img",{src:"http://blog.poetries.top/img-repo/2019/11/113.png",alt:"img"})],-1),Qdn=n("ul",null,[n("li",null,"\u4ECE\u56FE\u4E2D\u6211\u4EEC\u53EF\u4EE5\u770B\u51FA HTTPS \u5E76\u975E\u662F\u4E00\u4E2A\u65B0\u7684\u534F\u8BAE\uFF0C\u901A\u5E38 HTTP \u76F4\u63A5\u548C TCP \u901A\u4FE1\uFF0CHTTPS \u5219\u5148\u548C\u5B89\u5168\u5C42\u901A\u4FE1\uFF0C\u7136\u540E\u5B89\u5168\u5C42\u518D\u548C TCP \u5C42\u901A\u4FE1\u3002\u4E5F\u5C31\u662F\u8BF4 HTTPS \u6240\u6709\u7684\u5B89\u5168\u6838\u5FC3\u90FD\u5728\u5B89\u5168\u5C42\uFF0C\u5B83\u4E0D\u4F1A\u5F71\u54CD\u5230\u4E0A\u9762\u7684 HTTP \u534F\u8BAE\uFF0C\u4E5F\u4E0D\u4F1A\u5F71\u54CD\u5230\u4E0B\u9762\u7684 TCP/IP\uFF0C\u56E0\u6B64\u8981\u641E\u6E05\u695A HTTPS \u662F\u5982\u4F55\u5DE5\u4F5C\u7684\uFF0C\u5C31\u8981\u5F04\u6E05\u695A\u5B89\u5168\u5C42\u662F\u600E\u4E48\u5DE5\u4F5C\u7684\u3002"),n("li",null,"\u603B\u7684\u6765\u8BF4\uFF0C\u5B89\u5168\u5C42\u6709\u4E24\u4E2A\u4E3B\u8981\u7684\u804C\u8D23\uFF1A\u5BF9\u53D1\u8D77 HTTP \u8BF7\u6C42\u7684\u6570\u636E\u8FDB\u884C\u52A0\u5BC6\u64CD\u4F5C\u548C\u5BF9\u63A5\u6536\u5230 HTTP \u7684\u5185\u5BB9\u8FDB\u884C\u89E3\u5BC6\u64CD\u4F5C"),n("li",null,"\u6211\u4EEC\u77E5\u9053\u4E86\u5B89\u5168\u5C42\u6700\u91CD\u8981\u7684\u5C31\u662F\u52A0\u89E3\u5BC6\uFF0C\u90A3\u4E48\u63A5\u4E0B\u6765\u6211\u4EEC\u5C31\u5229\u7528\u8FD9\u4E2A\u5B89\u5168\u5C42\uFF0C\u4E00\u6B65\u4E00\u6B65\u5B9E\u73B0\u4E00\u4E2A\u4ECE\u7B80\u5355\u5230\u590D\u6742\u7684 HTTPS \u534F\u8BAE")],-1),Ydn={id:"_6-2-https-\u534F\u8BAE\u7684\u4F18\u70B9",tabindex:"-1"},Zdn=n("a",{class:"header-anchor",href:"#_6-2-https-\u534F\u8BAE\u7684\u4F18\u70B9","aria-hidden":"true"},"#",-1),nbn=s(),sbn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-2-https-%E5%8D%8F%E8%AE%AE%E7%9A%84%E4%BC%98%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},abn=s("#"),ebn=s("6.2 https \u534F\u8BAE\u7684\u4F18\u70B9"),tbn=n("ul",null,[n("li",null,"\u4F7F\u7528 HTTPS \u534F\u8BAE\u53EF\u8BA4\u8BC1\u7528\u6237\u548C\u670D\u52A1\u5668\uFF0C\u786E\u4FDD\u6570\u636E\u53D1\u9001\u5230\u6B63\u786E\u7684\u5BA2\u6237\u673A\u548C\u670D\u52A1\u5668"),n("li",null,"HTTPS \u534F\u8BAE\u662F\u7531 SSL+HTTP \u534F\u8BAE\u6784\u5EFA\u7684\u53EF\u8FDB\u884C\u52A0\u5BC6\u4F20\u8F93\u3001\u8EAB\u4EFD\u8BA4\u8BC1\u7684\u7F51\u7EDC\u534F\u8BAE\uFF0C\u8981\u6BD4 http \u534F\u8BAE\u5B89\u5168\uFF0C\u53EF\u9632\u6B62\u6570\u636E\u5728\u4F20\u8F93\u8FC7\u7A0B\u4E2D\u4E0D\u88AB\u7A83\u53D6\u3001\u6539\u53D8\uFF0C\u786E\u4FDD\u6570\u636E\u7684\u5B8C\u6574\u6027"),n("li",null,"HTTPS \u662F\u73B0\u884C\u67B6\u6784\u4E0B\u6700\u5B89\u5168\u7684\u89E3\u51B3\u65B9\u6848\uFF0C\u867D\u7136\u4E0D\u662F\u7EDD\u5BF9\u5B89\u5168\uFF0C\u4F46\u5B83\u5927\u5E45\u589E\u52A0\u4E86\u4E2D\u95F4\u4EBA\u653B \u51FB\u7684\u6210\u672C")],-1),pbn={id:"_6-3-https-\u534F\u8BAE\u7684\u7F3A\u70B9",tabindex:"-1"},obn=n("a",{class:"header-anchor",href:"#_6-3-https-\u534F\u8BAE\u7684\u7F3A\u70B9","aria-hidden":"true"},"#",-1),cbn=s(),lbn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-3-https-%E5%8D%8F%E8%AE%AE%E7%9A%84%E7%BC%BA%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},rbn=s("#"),ibn=s("6.3 https \u534F\u8BAE\u7684\u7F3A\u70B9"),ubn=t("<ul><li><code>https</code>\u63E1\u624B\u9636\u6BB5\u6BD4\u8F83\u8D39\u65F6\uFF0C\u4F1A\u4F7F\u9875\u9762\u52A0\u8F7D\u65F6\u95F4\u5EF6\u957F <code>50%</code>\uFF0C\u589E\u52A0 <code>10%~20%</code> \u7684\u8017\u7535</li><li><code>https</code> \u7F13\u5B58\u4E0D\u5982 <code>http</code> \u9AD8\u6548\uFF0C\u4F1A\u589E\u52A0\u6570\u636E\u5F00\u9500</li><li><code>SSL</code> \u8BC1\u4E66\u4E5F\u9700\u8981\u94B1\uFF0C\u529F\u80FD\u8D8A\u5F3A\u5927\u7684\u8BC1\u4E66\u8D39\u7528\u8D8A\u9AD8</li><li><code>SSL</code> \u8BC1\u4E66\u9700\u8981\u7ED1\u5B9A <code>IP</code>\uFF0C\u4E0D\u80FD\u518D\u540C\u4E00\u4E2A ip \u4E0A\u7ED1\u5B9A\u591A\u4E2A\u57DF\u540D\uFF0C<code>ipv4</code> \u8D44\u6E90\u652F\u6301\u4E0D\u4E86\u8FD9\u79CD\u6D88\u8017</li></ul>",1),kbn={id:"_6-4-http\u4E0Ehttps\u533A\u522B",tabindex:"-1"},dbn=n("a",{class:"header-anchor",href:"#_6-4-http\u4E0Ehttps\u533A\u522B","aria-hidden":"true"},"#",-1),bbn=s(),mbn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-4-http%E4%B8%8Ehttps%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},hbn=s("#"),_bn=s("6.4 http\u4E0Ehttps\u533A\u522B"),gbn=t("<blockquote><p>\u5728\u56DE\u7B54\u8FD9\u4E2A\u95EE\u9898\u4E4B\u524D\uFF0C\u6211\u4EEC\u5148\u770B\u4E0Bhttp\u8BF7\u6C42\u5B58\u5728\u54EA\u4E9B\u4E0D\u8DB3\uFF1A</p></blockquote><ul><li>\u901A\u4FE1\u4F7F\u7528\u660E\u6587\uFF08\u4E0D\u52A0\u5BC6\uFF09\uFF0C\u5185\u5BB9\u53EF\u80FD\u4F1A\u88AB\u7A83\u542C</li><li>\u4E0D\u4F1A\u9A8C\u8BC1\u901A\u4FE1\u65B9\u7684\u8EAB\u4EFD\uFF0C\u56E0\u6B64\u53EF\u80FD\u4F1A\u906D\u9047\u4F2A\u88C5</li><li>\u65E0\u6CD5\u4FDD\u8BC1\u62A5\u6587\u7684\u5B8C\u6574\u6027\uFF0C\u8BF7\u6C42\u6216\u54CD\u5E94\u7684\u5185\u5BB9\u88AB\u7BE1\u6539\u4E5F\u65E0\u6CD5\u77E5\u9053</li></ul><blockquote><p>https\u5C31\u662F\u5BF9\u4E0A\u9762\u4E09\u70B9\u4E0D\u8DB3\u7684\u89E3\u51B3\uFF0C\u53EF\u4EE5\u8BA4\u4E3A</p></blockquote><p><strong>https == http + \u52A0\u5BC6 + \u8EAB\u4EFD\u9A8C\u8BC1 + \u6570\u636E\u5B8C\u6574\u6027\u4FDD\u62A4</strong></p><p><strong>\u4ED6\u4EEC\u7684\u533A\u522B\u5C31\u660E\u663E\u4E86</strong></p><ul><li>http\u4F7F\u7528\u660E\u6587\u4F20\u8F93\uFF0Chttps\u5219\u662F\u5177\u6709\u5B89\u5168\u6027\u7684ssl\u52A0\u5BC6\u4F20\u8F93\u534F\u8BAE</li><li>http\u4E0D\u4F1A\u9A8C\u8BC1\u901A\u4FE1\u653E\u7684\u8EAB\u4EFD\uFF0Chttps\u4F1A\u901A\u8FC7\u6570\u5B57\u8BC1\u4E66\u6765\u9A8C\u8BC1\u8EAB\u4EFD</li><li>https\u53EF\u4EE5\u4FDD\u8BC1\u6570\u636E\u7684\u5B8C\u6574\u6027\uFF0C\u9632\u6B62\u4F20\u8F93\u5185\u5BB9\u88AB\u4E2D\u95F4\u4EBA\u5192\u5145\u6216\u7BE1\u6539</li><li>HTTP \u9875\u9762\u54CD\u5E94\u901F\u5EA6\u6BD4 HTTPS \u5FEB\uFF0C\u4E3B\u8981\u662F\u56E0\u4E3A HTTP \u4F7F\u7528 TCP \u4E09\u6B21\u63E1\u624B\u5EFA\u7ACB\u8FDE\u63A5\uFF0C\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u5668\u9700\u8981\u4EA4\u6362 3 \u4E2A\u5305\uFF0C\u800C HTTPS\u9664\u4E86 TCP \u7684\u4E09\u4E2A\u5305\uFF0C\u8FD8\u8981\u52A0\u4E0A ssl \u63E1\u624B\u9700\u8981\u7684 9 \u4E2A\u5305\uFF0C\u6240\u517112 \u4E2A\u5305\u3002</li><li>\u9664\u4EE5\u4E0A\u5916\uFF0Chttp\u548Chttps\u4F7F\u7528\u7684\u7AEF\u53E3\u4E5F\u4E0D\u540C\uFF0C\u524D\u8005\u4F7F\u752880\u7AEF\u53E3\uFF0C\u540E\u8005\u4F7F\u7528443\u7AEF\u53E3</li></ul>",6),Ebn={id:"_6-5-https\u4F20\u8F93\u7684\u5177\u4F53\u8FC7\u7A0B",tabindex:"-1"},fbn=n("a",{class:"header-anchor",href:"#_6-5-https\u4F20\u8F93\u7684\u5177\u4F53\u8FC7\u7A0B","aria-hidden":"true"},"#",-1),vbn=s(),wbn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-5-https%E4%BC%A0%E8%BE%93%E7%9A%84%E5%85%B7%E4%BD%93%E8%BF%87%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},ybn=s("#"),xbn=s("6.5 https\u4F20\u8F93\u7684\u5177\u4F53\u8FC7\u7A0B"),Abn=n("blockquote",null,[n("p",null,"HTTPS\u534F\u8BAE\u7684\u4E3B\u8981\u4F5C\u7528\u53EF\u4EE5\u5206\u4E3A\u4E24\u79CD\uFF1A\u4E00\u79CD\u662F\u5EFA\u7ACB\u4E00\u4E2A\u4FE1\u606F\u5B89\u5168\u901A\u9053\uFF0C\u6765\u4FDD\u8BC1\u6570\u636E\u4F20\u8F93\u7684\u5B89\u5168\uFF1B\u53E6\u4E00\u79CD\u662F\u786E\u8BA4\u7F51\u7AD9\u7684\u771F\u5B9E\u6027")],-1),Bbn=n("blockquote",null,[n("p",null,"TLS \u7684\u5B8C\u6574\u8FC7\u7A0B\u9700\u8981\u4E09\u4E2A\u7B97\u6CD5\uFF08\u534F\u8BAE\uFF09\uFF0C\u5BC6\u94A5\u4EA4\u4E92\u7B97\u6CD5\uFF0C\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\uFF0C\u548C\u6D88\u606F\u8BA4\u8BC1\u7B97\u6CD5")],-1),qbn=n("p",null,[n("strong",null,"TLS \u4E2D\u7684\u52A0\u5BC6")],-1),jbn=n("ul",null,[n("li",null,"\u5BF9\u79F0\u52A0\u5BC6 \u2014\u2014 \u4E24\u8FB9\u62E5\u6709\u76F8\u540C\u7684\u79D8\u94A5\uFF0C\u4E24\u8FB9\u90FD\u77E5\u9053\u5982\u4F55\u5C06\u5BC6\u6587\u52A0\u5BC6\u89E3\u5BC6\u3002"),n("li",null,"\u975E\u5BF9\u79F0\u52A0\u5BC6 \u2014\u2014 \u6709\u516C\u94A5\u79C1\u94A5\u4E4B\u5206\uFF0C\u516C\u94A5\u6240\u6709\u4EBA\u90FD\u53EF\u4EE5\u77E5\u9053\uFF0C\u53EF\u4EE5\u5C06\u6570\u636E\u7528\u516C\u94A5\u52A0\u5BC6\uFF0C\u4F46\u662F\u5C06\u6570\u636E\u89E3\u5BC6\u5FC5\u987B\u4F7F\u7528\u79C1\u94A5\u89E3\u5BC6\uFF0C\u79C1\u94A5\u53EA\u6709\u5206\u53D1\u516C\u94A5\u7684\u4E00\u65B9\u624D\u77E5\u9053")],-1),Sbn={id:"_6-6-https\u7684\u6574\u4F53\u8FC7\u7A0B\u5206\u4E3A\u8BC1\u4E66\u9A8C\u8BC1\u548C\u6570\u636E\u4F20\u8F93\u9636\u6BB5",tabindex:"-1"},Cbn=n("a",{class:"header-anchor",href:"#_6-6-https\u7684\u6574\u4F53\u8FC7\u7A0B\u5206\u4E3A\u8BC1\u4E66\u9A8C\u8BC1\u548C\u6570\u636E\u4F20\u8F93\u9636\u6BB5","aria-hidden":"true"},"#",-1),Dbn=s(),Fbn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-6-https%E7%9A%84%E6%95%B4%E4%BD%93%E8%BF%87%E7%A8%8B%E5%88%86%E4%B8%BA%E8%AF%81%E4%B9%A6%E9%AA%8C%E8%AF%81%E5%92%8C%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E9%98%B6%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"},Pbn=s("#"),Tbn=s("6.6 HTTPS\u7684\u6574\u4F53\u8FC7\u7A0B\u5206\u4E3A\u8BC1\u4E66\u9A8C\u8BC1\u548C\u6570\u636E\u4F20\u8F93\u9636\u6BB5"),Nbn=t("<p><strong>1. \u8BC1\u4E66\u9A8C\u8BC1\u9636\u6BB5\uFF1A</strong></p><ul><li>\u6D4F\u89C8\u5668\u53D1\u8D77 HTTPS \u8BF7\u6C42\u3002\uFF08 TLS \u63E1\u624B\u8BF7\u6C42\uFF09</li><li>\u670D\u52A1\u7AEF\u8FD4\u56DE \u8BC1\u4E66(\u5305\u542B\u670D\u52A1\u5668\u516C\u94A5S_PuKey)\u3001\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\u79CD\u7C7B\u53CA\u5176\u4ED6\u76F8\u5173\u4FE1\u606F\u3002</li><li>\u5BA2\u6237\u7AEF\u9A8C\u8BC1\u8BC1\u4E66\u662F\u5426\u5408\u6CD5\uFF0C\u5982\u679C\u4E0D\u5408\u6CD5\u5219\u63D0\u793A\u544A\u8B66\u3002</li></ul><p><strong>2. \u6570\u636E\u4F20\u8F93\u9636\u6BB5\uFF1A</strong></p><ul><li>\u5F53\u8BC1\u4E66\u9A8C\u8BC1\u5408\u6CD5\u540E\uFF0C\u5728\u672C\u5730\u751F\u6210\u968F\u673A\u6570\u3002</li><li>\u901A\u8FC7\u516C\u94A5\u52A0\u5BC6\u968F\u673A\u6570\uFF0C\u5E76\u628A\u52A0\u5BC6\u540E\u7684\u968F\u673A\u6570\u4F20\u8F93\u5230\u670D\u52A1\u7AEF\u3002</li><li>\u670D\u52A1\u7AEF\u901A\u8FC7\u79C1\u94A5\u5BF9\u968F\u673A\u6570\u8FDB\u884C\u89E3\u5BC6\u3002 \u670D\u52A1\u7AEF\u901A\u8FC7\u5BA2\u6237\u7AEF\u4F20\u5165\u7684\u968F\u673A\u6570\u6784\u9020\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\uFF0C\u4E4B\u540E\u7684\u6570\u636E\u4EA4\u4E92\u901A\u8FC7\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\u8FDB\u884C\u52A0\u89E3\u5BC6\u3002\uFF08\u5BF9\u79F0\u52A0\u5BC6(\u4E5F\u53EB\u79C1\u94A5\u52A0\u5BC6)\u6307\u52A0\u5BC6\u548C\u89E3\u5BC6\u4F7F\u7528\u76F8\u540C\u5BC6\u94A5\u7684\u52A0\u5BC6\u7B97\u6CD5\uFF09</li><li>\u670D\u52A1\u5668\u5229\u7528\u81EA\u5DF1\u552F\u4E00\u7684\u79C1\u94A5\u5BF9\u5BA2\u6237\u7AEF\u53D1\u6765\u7684\u5BF9\u79F0\u79D8\u94A5\u8FDB\u884C\u89E3\u5BC6\uFF0C\u5728\u6B64\u8FC7\u7A0B\u4E2D\uFF0C\u4E2D\u95F4\u65B9\u65E0\u6CD5\u5BF9\u5176\u89E3\u5BC6\uFF08\u5373\u4F7F\u662F\u5BA2\u6237\u7AEF\u4E5F\u65E0\u6CD5\u89E3\u5BC6\uFF0C\u56E0\u4E3A\u53EA\u6709\u670D\u52A1\u5668\u7AEF\u62E5\u6709\u552F\u4E00\u7684\u79C1\u94A5\uFF09\uFF0C\u4FDD\u8BC1\u4E86\u5BF9\u79F0\u79D8\u94A5\u5728\u6536\u53D1\u8FC7\u7A0B\u4E2D\u7684\u5B89\u5168\uFF0C\u6B64\u65F6\uFF0C\u670D\u52A1\u5668\u7AEF\u548C\u5BA2\u6237\u7AEF\u62E5\u6709\u4E86\u4E00\u5957\u5B8C\u5168\u76F8\u540C\u7684\u5BF9\u79F0\u79D8\u94A5\u3002</li></ul><blockquote><p>\u670D\u52A1\u5668\u5229\u7528\u81EA\u5DF1\u552F\u4E00\u7684\u79C1\u94A5\u5BF9\u5BA2\u6237\u7AEF\u53D1\u6765\u7684\u5BF9\u79F0\u79D8\u94A5\u8FDB\u884C\u89E3\u5BC6\uFF0C\u5728\u6B64\u8FC7\u7A0B\u4E2D\uFF0C\u4E2D\u95F4\u65B9\u65E0\u6CD5\u5BF9\u5176\u89E3\u5BC6\uFF08\u5373\u4F7F\u662F\u5BA2\u6237\u7AEF\u4E5F\u65E0\u6CD5\u89E3\u5BC6\uFF0C\u56E0\u4E3A\u53EA\u6709\u670D\u52A1\u5668\u7AEF\u62E5\u6709\u552F\u4E00\u7684\u79C1\u94A5\uFF09\uFF0C\u4FDD\u8BC1\u4E86\u5BF9\u79F0\u79D8\u94A5\u5728\u6536\u53D1\u8FC7\u7A0B\u4E2D\u7684\u5B89\u5168\uFF0C\u6B64\u65F6\uFF0C\u670D\u52A1\u5668\u7AEF\u548C\u5BA2\u6237\u7AEF\u62E5\u6709\u4E86\u4E00\u5957\u5B8C\u5168\u76F8\u540C\u7684\u5BF9\u79F0\u79D8\u94A5\u3002</p></blockquote>",5),Mbn={id:"_6-7-\u4ECB\u7ECD\u4E00\u4E0Bhttps\u7684\u63E1\u624B\u8FC7\u7A0B",tabindex:"-1"},Obn=n("a",{class:"header-anchor",href:"#_6-7-\u4ECB\u7ECD\u4E00\u4E0Bhttps\u7684\u63E1\u624B\u8FC7\u7A0B","aria-hidden":"true"},"#",-1),Ibn=s(),Rbn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-7-%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8Bhttps%E7%9A%84%E6%8F%A1%E6%89%8B%E8%BF%87%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},Vbn=s("#"),Hbn=s("6.7 \u4ECB\u7ECD\u4E00\u4E0Bhttps\u7684\u63E1\u624B\u8FC7\u7A0B"),Lbn=n("ul",null,[n("li",null,"\u7B2C\u4E00\u6B65\uFF0C\u5BA2\u6237\u7AEF\u7ED9\u51FA\u534F\u8BAE\u7248\u672C\u53F7\u3001\u4E00\u4E2A\u5BA2\u6237\u7AEF\u751F\u6210\u7684\u968F\u673A\u6570\uFF08Client random\uFF09\uFF0C\u4EE5\u53CA\u5BA2\u6237\u7AEF\u652F\u6301\u7684\u52A0\u5BC6\u65B9\u6CD5"),n("li",null,"\u7B2C\u4E8C\u6B65\uFF0C\u670D\u52A1\u7AEF\u786E\u8BA4\u53CC\u65B9\u4F7F\u7528\u7684\u52A0\u5BC6\u65B9\u6CD5\uFF0C\u5E76\u7ED9\u51FA\u6570\u5B57\u8BC1\u4E66\u3001\u4EE5\u53CA\u4E00\u4E2A\u670D\u52A1\u5668\u751F\u6210\u7684\u968F\u673A\u6570"),n("li",null,"\u7B2C\u4E09\u6B65\uFF0C\u5BA2\u6237\u7AEF\u786E\u8BA4\u6570\u5B57\u8BC1\u4E66\u6709\u6548\uFF0C\u7136\u540E\u751F\u6210\u4E00\u4E2A\u65B0\u7684\u968F\u673A\u6570\uFF08Premaster secret\uFF09\uFF0C\u5E76\u4F7F\u7528\u6570\u5B57\u8BC1\u4E66\u4E2D\u7684\u516C\u94A5\uFF0C\u52A0\u5BC6\u8FD9\u4E2A\u968F\u673A\u6570\uFF0C\u53D1\u7ED9\u670D\u52A1\u7AEF"),n("li",null,"\u7B2C\u56DB\u6B65\uFF0C\u670D\u52A1\u7AEF\u4F7F\u7528\u81EA\u5DF1\u7684\u79C1\u94A5\uFF0C\u83B7\u53D6\u5BA2\u6237\u7AEF\u53D1\u6765\u7684\u968F\u673A\u6570\uFF08\u5373Premaster secret\uFF09\u3002"),n("li",null,'\u7B2C\u4E94\u6B65\uFF0C\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u6839\u636E\u7EA6\u5B9A\u7684\u52A0\u5BC6\u65B9\u6CD5\uFF0C\u4F7F\u7528\u524D\u9762\u7684\u4E09\u4E2A\u968F\u673A\u6570\uFF0C\u751F\u6210"\u5BF9\u8BDD\u5BC6\u94A5"\uFF08session key\uFF09\uFF0C\u7528\u6765\u52A0\u5BC6\u63A5\u4E0B\u6765\u7684\u6574\u4E2A\u5BF9\u8BDD\u8FC7\u7A0B')],-1),Ubn=n("p",null,[n("strong",null,"\u603B\u7ED3")],-1),Jbn=n("ul",null,[n("li",null,"\u5BA2\u6237\u7AEF\u53D1\u8D77 HTTPS \u8BF7\u6C42\uFF0C\u670D\u52A1\u7AEF\u8FD4\u56DE\u8BC1\u4E66\uFF0C\u5BA2\u6237\u7AEF\u5BF9\u8BC1\u4E66\u8FDB\u884C\u9A8C\u8BC1\uFF0C\u9A8C\u8BC1\u901A\u8FC7\u540E\u672C\u5730\u751F\u6210\u7528\u4E8E\u6784\u9020\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\u7684\u968F\u673A\u6570"),n("li",null,"\u901A\u8FC7\u8BC1\u4E66\u4E2D\u7684\u516C\u94A5\u5BF9\u968F\u673A\u6570\u8FDB\u884C\u52A0\u5BC6\u4F20\u8F93\u5230\u670D\u52A1\u7AEF\uFF08\u968F\u673A\u5BF9\u79F0\u5BC6\u94A5\uFF09\uFF0C\u670D\u52A1\u7AEF\u63A5\u6536\u540E\u901A\u8FC7\u79C1\u94A5\u89E3\u5BC6\u5F97\u5230\u968F\u673A\u5BF9\u79F0\u5BC6\u94A5\uFF0C\u4E4B\u540E\u7684\u6570\u636E\u4EA4\u4E92\u901A\u8FC7\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\u8FDB\u884C\u52A0\u89E3\u5BC6\u3002\uFF08\u65E2\u6709\u5BF9\u79F0\u52A0\u5BC6\uFF0C\u4E5F\u6709\u975E\u5BF9\u79F0\u52A0\u5BC6\uFF09")],-1),Wbn={id:"_6-8-\u4E3A\u4EC0\u4E48https\u6570\u636E\u4F20\u8F93\u4F7F\u7528\u5BF9\u79F0\u52A0\u5BC6",tabindex:"-1"},zbn=n("a",{class:"header-anchor",href:"#_6-8-\u4E3A\u4EC0\u4E48https\u6570\u636E\u4F20\u8F93\u4F7F\u7528\u5BF9\u79F0\u52A0\u5BC6","aria-hidden":"true"},"#",-1),Gbn=s(),$bn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-8-%E4%B8%BA%E4%BB%80%E4%B9%88https%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E4%BD%BF%E7%94%A8%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86",target:"_blank",rel:"noopener noreferrer"},Xbn=s("#"),Kbn=s("6.8 \u4E3A\u4EC0\u4E48https\u6570\u636E\u4F20\u8F93\u4F7F\u7528\u5BF9\u79F0\u52A0\u5BC6"),Qbn=t("<ul><li>\u5BF9\u79F0\u52A0\u5BC6\uFF1A \u5BF9\u79F0\u52A0\u5BC6\u6307\u7684\u5C31\u662F\u52A0\u5BC6\u548C\u89E3\u5BC6\u4F7F\u7528\u540C\u4E00\u4E2A\u79D8\u94A5\uFF0C\u6240\u4EE5\u53EB\u505A\u5BF9\u79F0\u52A0\u5BC6\u3002\u5BF9\u79F0\u52A0\u5BC6\u53EA\u6709\u4E00\u4E2A\u79D8\u94A5\u3002</li><li>\u975E\u5BF9\u79F0\u52A0\u5BC6: \u52A0\u5BC6\u548C\u89E3\u5BC6\u4F7F\u7528\u4E0D\u540C\u7684\u79D8\u94A5\uFF0C\u4E00\u628A\u4F5C\u4E3A\u516C\u5F00\u7684\u516C\u94A5\uFF0C\u53E6\u4E00\u628A\u4F5C\u4E3A\u79C1\u94A5\u3002\u516C\u94A5\u52A0\u5BC6\u7684\u4FE1\u606F\uFF0C\u53EA\u6709\u79C1\u94A5\u624D\u80FD\u89E3\u5BC6\u3002</li></ul><blockquote><p>\u901A\u8FC7\u4E0A\u9762\u7684\u63E1\u624B\u8FC7\u7A0B\u53EF\u77E5\uFF0Chttps\u5728\u8BC1\u4E66\u9A8C\u8BC1\u9636\u6BB5\uFF0C\u4F7F\u7528\u975E\u5BF9\u79F0\u52A0\u5BC6\u6765\u4F20\u8F93\u5171\u4EAB\u79D8\u94A5\uFF0C\u4E4B\u540E\u7684\u4F20\u8F93\u4E2D\u90FD\u4F7F\u7528\u5BF9\u79F0\u52A0\u5BC6\u65B9\u5F0F\u3002\u539F\u56E0\u662F\uFF0C\u975E\u5BF9\u79F0\u52A0\u5BC6\u7684\u52A0\u89E3\u5BC6\u6548\u7387\u662F\u975E\u5E38\u4F4E\u7684\uFF0C\u800Chttp\u573A\u666F\u4E2D\u901A\u5E38\u7AEF\u4E0E\u7AEF\u4E4B\u95F4\u7684\u4EA4\u4E92\u91CF\u5F88\u5927\uFF0C\u5BF9\u975E\u5BF9\u79F0\u52A0\u5BC6\u7684\u6548\u7387\u662F\u65E0\u6CD5\u5FCD\u53D7\u7684\u3002\u53E6\u5916\uFF0C HTTPS\u573A\u666F\u4E2D\u53EA\u6709\u670D\u52A1\u7AEF\u4FDD\u5B58\u4E86\u79C1\u94A5\uFF0C\u4E00\u5BF9\u516C\u79C1\u94A5\u53EA\u80FD\u5B9E\u73B0\u5355\u5411\u52A0\u89E3\u5BC6\u8FC7\u7A0B\u3002\u56E0\u6B64 HTTPS \u4E2D\u7684\u5185\u5BB9\u4F20\u8F93\u91C7\u7528\u5BF9\u79F0\u52A0\u5BC6</p></blockquote><p><strong>\u5BF9\u79F0\u5BC6\u94A5\u52A0\u5BC6\u548C\u975E\u5BF9\u79F0\u5BC6\u94A5\u52A0\u5BC6\u5B83\u4EEC\u6709\u4EC0\u4E48\u533A\u522B</strong></p><ul><li>\u5BF9\u79F0\u5BC6\u94A5\u52A0\u5BC6\u662F\u6700\u7B80\u5355\u7684\u4E00\u79CD\u52A0\u5BC6\u65B9\u5F0F\uFF0C\u5B83\u7684\u52A0\u89E3\u5BC6\u7528\u7684\u90FD\u662F\u76F8\u540C\u7684\u5BC6\u94A5\uFF0C\u8FD9\u6837\u5E26\u6765\u7684\u597D\u5904\u5C31\u662F\u52A0\u89E3\u5BC6\u6548\u7387\u5F88\u5FEB\uFF0C\u4F46\u662F\u5E76\u4E0D\u5B89\u5168\uFF0C\u5982\u679C\u6709\u4EBA\u62FF\u5230\u4E86\u8FD9\u628A\u5BC6\u94A5\u90A3\u8C01\u90FD\u53EF\u4EE5\u8FDB\u884C\u89E3\u5BC6\u4E86\u3002</li><li>\u800C\u975E\u5BF9\u79F0\u5BC6\u94A5\u4F1A\u6709\u4E24\u628A\u5BC6\u94A5\uFF0C\u4E00\u628A\u662F\u79C1\u94A5\uFF0C\u53EA\u6709\u81EA\u5DF1\u624D\u6709\uFF1B\u4E00\u628A\u662F\u516C\u94A5\uFF0C\u53EF\u4EE5\u53D1\u5E03\u7ED9\u4EFB\u4F55\u4EBA\u3002\u5E76\u4E14\u52A0\u5BC6\u7684\u5185\u5BB9\u53EA\u6709\u76F8\u5339\u914D\u7684\u5BC6\u94A5\u624D\u80FD\u89E3\u3002\u8FD9\u6837\u5E26\u6765\u7684\u4E00\u4E2A\u597D\u5904\u5C31\u662F\u80FD\u4FDD\u8BC1\u4F20\u8F93\u7684\u5185\u5BB9\u662F\u5B89\u5168\u7684\uFF0C\u56E0\u4E3A\u4F8B\u5982\u5982\u679C\u662F\u516C\u94A5\u52A0\u5BC6\u7684\u6570\u636E\uFF0C\u5C31\u7B97\u662F\u7B2C\u4E09\u65B9\u622A\u53D6\u4E86\u8FD9\u4E2A\u6570\u636E\u4F46\u662F\u6CA1\u6709\u5BF9\u5E94\u7684\u79C1\u94A5\u4E5F\u7834\u89E3\u4E0D\u4E86\u3002\u4E0D\u8FC7\u5B83\u4E5F\u6709\u7F3A\u70B9\uFF0C\u4E00\u662F\u516C\u94A5\u56E0\u4E3A\u662F\u516C\u5F00\u7684\uFF0C\u8C01\u90FD\u53EF\u4EE5\u8FC7\u53BB\uFF0C\u5982\u679C\u5185\u5BB9\u662F\u901A\u8FC7\u79C1\u94A5\u52A0\u5BC6\u7684\u8BDD\uFF0C\u90A3\u62E5\u6709\u5BF9\u5E94\u516C\u94A5\u7684\u9ED1\u5BA2\u5C31\u53EF\u4EE5\u7528\u8FD9\u4E2A\u516C\u94A5\u6765\u8FDB\u884C\u89E3\u5BC6\u5F97\u5230\u91CC\u9762\u7684\u4FE1\u606F\uFF1B\u4E8C\u6765\u516C\u94A5\u91CC\u5E76\u6CA1\u6709\u5305\u542B\u670D\u52A1\u5668\u7684\u4FE1\u606F\uFF0C\u4E5F\u5C31\u662F\u5E76\u4E0D\u80FD\u786E\u4FDD\u670D\u52A1\u5668\u8EAB\u4EFD\u7684\u5408\u6CD5\u6027\uFF1B\u5E76\u4E14\u975E\u5BF9\u79F0\u52A0\u5BC6\u7684\u65F6\u5019\u8981\u6D88\u8017\u4E00\u5B9A\u7684\u65F6\u95F4\uFF0C\u51CF\u4F4E\u4E86\u6570\u636E\u7684\u4F20\u8F93\u6548\u7387\u3002</li></ul><p><strong>\u6DF7\u5408\u52A0\u5BC6\u673A\u5236\u7684\u597D\u5904\u662F\u4EC0\u4E48</strong></p><ul><li>\u5BF9\u79F0\u5BC6\u94A5\u52A0\u5BC6\u548C\u975E\u5BF9\u79F0\u5BC6\u94A5\u52A0\u5BC6\u90FD\u6709\u5B83\u4EEC\u5404\u79CD\u7684\u4F18\u7F3A\u70B9\uFF0C\u800C\u6DF7\u5408\u52A0\u5BC6\u673A\u5236\u5C31\u662F\u5C06\u4E24\u8005\u7ED3\u5408\u5229\u7528\u5B83\u4EEC\u5404\u81EA\u7684\u4F18\u70B9\u6765\u8FDB\u884C\u52A0\u5BC6\u4F20\u8F93\u3002</li><li>\u6BD4\u5982\u65E2\u7136\u5BF9\u79F0\u5BC6\u94A5\u7684\u4F18\u70B9\u662F\u52A0\u89E3\u5BC6\u6548\u7387\u5FEB\uFF0C\u90A3\u4E48\u5728\u5BA2\u6237\u7AEF\u4E0E\u670D\u52A1\u7AEF\u786E\u5B9A\u4E86\u8FDE\u63A5\u4E4B\u540E\u5C31\u53EF\u4EE5\u7528\u5B83\u6765\u8FDB\u884C\u52A0\u5BC6\u4F20\u8F93\u3002\u4E0D\u8FC7\u524D\u63D0\u662F\u5F97\u89E3\u51B3\u53CC\u65B9\u90FD\u80FD\u5B89\u5168\u7684\u62FF\u5230\u8FD9\u628A\u5BF9\u79F0\u5BC6\u94A5\u3002\u8FD9\u65F6\u5019\u5C31\u53EF\u4EE5\u91CC\u7528\u975E\u5BF9\u79F0\u5BC6\u94A5\u52A0\u5BC6\u6765\u4F20\u8F93\u8FD9\u628A\u5BF9\u79F0\u5BC6\u94A5\uFF0C\u56E0\u4E3A\u6211\u4EEC\u77E5\u9053\u975E\u5BF9\u79F0\u5BC6\u94A5\u52A0\u5BC6\u7684\u4F18\u70B9\u5C31\u662F\u80FD\u4FDD\u8BC1\u4F20\u8F93\u7684\u5185\u5BB9\u662F\u5B89\u5168\u7684\u3002</li><li>\u6240\u4EE5\u5B83\u7684\u597D\u5904\u662F\u5373\u4FDD\u8BC1\u4E86\u5BF9\u79F0\u5BC6\u94A5\u80FD\u5728\u53CC\u65B9\u4E4B\u95F4\u5B89\u5168\u7684\u4F20\u8F93\uFF0C\u53C8\u80FD\u4F7F\u7528\u5BF9\u79F0\u52A0\u5BC6\u65B9\u5F0F\u8FDB\u884C\u901A\u4FE1\uFF0C\u8FD9\u6BD4\u5355\u7EAF\u7684\u4F7F\u7528\u975E\u5BF9\u79F0\u52A0\u5BC6\u901A\u4FE1\u5FEB\u4E86\u5F88\u591A\u3002\u4EE5\u6B64\u6765\u89E3\u51B3\u4E86HTTP\u4E2D\u5185\u5BB9\u53EF\u80FD\u88AB\u7A83\u542C\u7684\u95EE\u9898\u3002</li></ul><p><strong>\u6DF7\u5408\u52A0\u5BC6\u7684\u7F3A\u70B9</strong></p><blockquote><p>\u6DF7\u5408\u52A0\u5BC6\u4E3B\u8981\u662F\u4E3A\u4E86\u89E3\u51B3<code>HTTP</code>\u4E2D\u5185\u5BB9\u53EF\u80FD\u88AB\u7A83\u542C\u7684\u95EE\u9898\u3002\u4F46\u662F\u5B83\u5E76\u4E0D\u80FD\u4FDD\u8BC1\u6570\u636E\u7684\u5B8C\u6574\u6027\uFF0C\u4E5F\u5C31\u662F\u8BF4\u5728\u4F20\u8F93\u7684\u65F6\u5019\u6570\u636E\u662F\u6709\u53EF\u80FD\u88AB\u7B2C\u4E09\u65B9\u7BE1\u6539\u7684\uFF0C\u6BD4\u5982\u5B8C\u5168\u66FF\u6362\u6389\uFF0C\u6240\u4EE5\u8BF4\u5B83\u5E76\u4E0D\u80FD\u6821\u9A8C\u6570\u636E\u7684\u5B8C\u6574\u6027\u3002\u5982\u679C\u9700\u8981\u505A\u5230\u8FD9\u4E00\u70B9\u5C31\u9700\u8981\u4F7F\u7528\u5230\u6570\u5B57\u7B7E\u540D\u3002</p></blockquote>",8),Ybn={id:"_6-9-\u4ECB\u7ECD\u4E0Bhttps\u4E2D\u95F4\u4EBA\u653B\u51FB\u7684\u8FC7\u7A0B",tabindex:"-1"},Zbn=n("a",{class:"header-anchor",href:"#_6-9-\u4ECB\u7ECD\u4E0Bhttps\u4E2D\u95F4\u4EBA\u653B\u51FB\u7684\u8FC7\u7A0B","aria-hidden":"true"},"#",-1),nmn=s(),smn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-9-%E4%BB%8B%E7%BB%8D%E4%B8%8Bhttps%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB%E7%9A%84%E8%BF%87%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},amn=s("#"),emn=s("6.9 \u4ECB\u7ECD\u4E0Bhttps\u4E2D\u95F4\u4EBA\u653B\u51FB\u7684\u8FC7\u7A0B"),tmn=t('<p>\u8FD9\u4E2A\u95EE\u9898\u4E5F\u53EF\u4EE5\u95EE\u6210 \u4E3A\u4EC0\u4E48\u9700\u8981CA\u8BA4\u8BC1\u673A\u6784\u9881\u53D1\u8BC1\u4E66\uFF1F \u6211\u4EEC\u5047\u8BBE\u5982\u679C\u4E0D\u5B58\u5728\u8BA4\u8BC1\u673A\u6784\uFF0C\u5219\u4EBA\u4EBA\u90FD\u53EF\u4EE5\u5236\u9020\u8BC1\u4E66\uFF0C\u8FD9\u5C31\u5E26\u6765\u4E86&quot;\u4E2D\u95F4\u4EBA\u653B\u51FB&quot;\u95EE\u9898\u3002</p><p><strong>\u4E2D\u95F4\u4EBA\u653B\u51FB\u7684\u8FC7\u7A0B\u5982\u4E0B</strong></p><ul><li>\u5BA2\u6237\u7AEF\u8BF7\u6C42\u88AB\u52AB\u6301\uFF0C\u5C06\u6240\u6709\u7684\u8BF7\u6C42\u53D1\u9001\u5230\u4E2D\u95F4\u4EBA\u7684\u670D\u52A1\u5668</li><li>\u4E2D\u95F4\u4EBA\u670D\u52A1\u5668\u8FD4\u56DE\u81EA\u5DF1\u7684\u8BC1\u4E66</li><li>\u5BA2\u6237\u7AEF\u521B\u5EFA\u968F\u673A\u6570\uFF0C\u4F7F\u7528\u4E2D\u95F4\u4EBA\u8BC1\u4E66\u4E2D\u7684\u516C\u94A5\u8FDB\u884C\u52A0\u5BC6\u53D1\u9001\u7ED9\u4E2D\u95F4\u4EBA\u670D\u52A1\u5668\uFF0C\u4E2D\u95F4\u4EBA\u4F7F\u7528\u79C1\u94A5\u5BF9\u968F\u673A\u6570\u89E3\u5BC6\u5E76\u6784\u9020\u5BF9\u79F0\u52A0\u5BC6\uFF0C\u5BF9\u4E4B\u540E\u4F20\u8F93\u7684\u5185\u5BB9\u8FDB\u884C\u52A0\u5BC6\u4F20\u8F93</li><li>\u4E2D\u95F4\u4EBA\u901A\u8FC7\u5BA2\u6237\u7AEF\u7684\u968F\u673A\u6570\u5BF9\u5BA2\u6237\u7AEF\u7684\u6570\u636E\u8FDB\u884C\u89E3\u5BC6</li><li>\u4E2D\u95F4\u4EBA\u4E0E\u670D\u52A1\u7AEF\u5EFA\u7ACB\u5408\u6CD5\u7684https\u8FDE\u63A5\uFF08https\u63E1\u624B\u8FC7\u7A0B\uFF09\uFF0C\u4E0E\u670D\u52A1\u7AEF\u4E4B\u95F4\u4F7F\u7528\u5BF9\u79F0\u52A0\u5BC6\u8FDB\u884C\u6570\u636E\u4F20\u8F93\uFF0C\u62FF\u5230\u670D\u52A1\u7AEF\u7684\u54CD\u5E94\u6570\u636E\uFF0C\u5E76\u901A\u8FC7\u4E0E\u670D\u52A1\u7AEF\u5EFA\u7ACB\u7684\u5BF9\u79F0\u52A0\u5BC6\u7684\u79D8\u94A5\u8FDB\u884C\u89E3\u5BC6</li><li>\u4E2D\u95F4\u4EBA\u518D\u901A\u8FC7\u4E0E\u5BA2\u6237\u7AEF\u5EFA\u7ACB\u7684\u5BF9\u79F0\u52A0\u5BC6\u5BF9\u54CD\u5E94\u6570\u636E\u8FDB\u884C\u52A0\u5BC6\u540E\u4F20\u8F93\u7ED9\u5BA2\u6237\u7AEF</li><li>\u5BA2\u6237\u7AEF\u901A\u8FC7\u4E0E\u4E2D\u95F4\u4EBA\u5EFA\u7ACB\u7684\u5BF9\u79F0\u52A0\u5BC6\u7684\u79D8\u94A5\u5BF9\u6570\u636E\u8FDB\u884C\u89E3\u5BC6</li></ul><blockquote><p>\u7B80\u5355\u6765\u8BF4\uFF0C\u4E2D\u95F4\u4EBA\u653B\u51FB\u4E2D\uFF0C\u4E2D\u95F4\u4EBA\u9996\u5148\u4F2A\u88C5\u6210\u670D\u52A1\u7AEF\u548C\u5BA2\u6237\u7AEF\u901A\u4FE1\uFF0C\u7136\u540E\u53C8\u4F2A\u88C5\u6210\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u8FDB\u884C\u901A\u4FE1\uFF08\u5982\u56FE\uFF09\u3002 \u6574\u4E2A\u8FC7\u7A0B\u4E2D\uFF0C\u7531\u4E8E\u7F3A\u5C11\u4E86\u8BC1\u4E66\u7684\u9A8C\u8BC1\u8FC7\u7A0B\uFF0C\u867D\u7136\u4F7F\u7528\u4E86https\uFF0C\u4F46\u662F\u4F20\u8F93\u7684\u6570\u636E\u5DF2\u7ECF\u88AB\u76D1\u542C\uFF0C\u5BA2\u6237\u7AEF\u5374\u65E0\u6CD5\u5F97\u77E5</p></blockquote><p><img src="http://blog.poetries.top/img-repo/2020/03/1.png" alt="img"></p>',5),pmn={id:"_6-10-https-\u63E1\u624B\u8FC7\u7A0B\u4E2D-\u5BA2\u6237\u7AEF\u5982\u4F55\u9A8C\u8BC1\u8BC1\u4E66\u7684\u5408\u6CD5\u6027",tabindex:"-1"},omn=n("a",{class:"header-anchor",href:"#_6-10-https-\u63E1\u624B\u8FC7\u7A0B\u4E2D-\u5BA2\u6237\u7AEF\u5982\u4F55\u9A8C\u8BC1\u8BC1\u4E66\u7684\u5408\u6CD5\u6027","aria-hidden":"true"},"#",-1),cmn=s(),lmn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-10-https-%E6%8F%A1%E6%89%8B%E8%BF%87%E7%A8%8B%E4%B8%AD-%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%A6%82%E4%BD%95%E9%AA%8C%E8%AF%81%E8%AF%81%E4%B9%A6%E7%9A%84%E5%90%88%E6%B3%95%E6%80%A7",target:"_blank",rel:"noopener noreferrer"},rmn=s("#"),imn=s("6.10 HTTPS \u63E1\u624B\u8FC7\u7A0B\u4E2D\uFF0C\u5BA2\u6237\u7AEF\u5982\u4F55\u9A8C\u8BC1\u8BC1\u4E66\u7684\u5408\u6CD5\u6027"),umn=n("blockquote",null,[n("p",null,"CA\u8BC1\u4E66\u4E2D\u4F1A\u5305\u542B\u9881\u53D1\u673A\u6784\u4FE1\u606F\u3001\u516C\u94A5\u3001\u516C\u53F8\u4FE1\u606F\u3001\u57DF\u540D\u3001\u6709\u6548\u671F\u7B49\u4FE1\u606F\uFF0C\u6D4F\u89C8\u5668\u9A8C\u8BC1\u8BC1\u4E66\uFF1A")],-1),kmn=n("ul",null,[n("li",null,"\u9996\u5148\u5C31\u662F\u8981\u9A8C\u8BC1\u57DF\u540D\u3001\u6709\u6548\u671F\u7B49\u4FE1\u606F\u662F\u5426\u6B63\u786E"),n("li",null,"\u7136\u540E\u5224\u65AD\u8BC1\u4E66\u6765\u6E90\u7684\u5408\u6CD5\u6027\u3002\u6BCF\u4EFD\u7B7E\u53D1\u8BC1\u4E66\u90FD\u53EF\u4EE5\u6839\u636E\u9A8C\u8BC1\u94FE\u67E5\u627E\u5230\u5BF9\u5E94\u7684\u6839\u8BC1\u4E66\uFF0C\u64CD\u4F5C\u7CFB\u7EDF\u3001\u6D4F\u89C8\u5668\u4F1A\u5728\u672C\u5730\u5B58\u50A8\u6743\u5A01\u673A\u6784\u7684\u6839\u8BC1\u4E66\uFF0C\u5229\u7528\u672C\u5730\u6839\u8BC1\u4E66\u53EF\u4EE5\u5BF9\u5BF9\u5E94\u673A\u6784\u7B7E\u53D1\u8BC1\u4E66\u5B8C\u6210\u6765\u6E90\u9A8C\u8BC1"),n("li",null,"\u5224\u65AD\u8BC1\u4E66\u662F\u5426\u88AB\u7BE1\u6539\u3002\u9700\u8981\u4E0E CA \u670D\u52A1\u5668\u8FDB\u884C\u6821\u9A8C"),n("li",null,"\u5224\u65AD\u8BC1\u4E66\u662F\u5426\u5DF2\u540A\u9500")],-1),dmn=n("blockquote",null,[n("p",null,"\u4EE5\u4E0A\u4EFB\u610F\u4E00\u6B65\u90FD\u6EE1\u8DB3\u7684\u60C5\u51B5\u4E0B\u6D4F\u89C8\u5668\u624D\u8BA4\u4E3A\u8BC1\u4E66\u662F\u5408\u6CD5\u7684")],-1),bmn={id:"_6-11-\u95EE\u9898",tabindex:"-1"},mmn=n("a",{class:"header-anchor",href:"#_6-11-\u95EE\u9898","aria-hidden":"true"},"#",-1),hmn=s(),_mn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-11-%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},gmn=s("#"),Emn=s("6.11 \u95EE\u9898"),fmn=n("p",null,[n("strong",null,"1. \u4E3A\u4EC0\u4E48\u6570\u636E\u4F20\u8F93\u662F\u7528\u5BF9\u79F0\u52A0\u5BC6")],-1),vmn=n("blockquote",null,[n("p",null,"HTTP\u7684\u5E94\u7528\u573A\u666F\u4E2D\u901A\u5E38\u7AEF\u4E0E\u7AEF\u4E4B\u95F4\u5B58\u5728\u5927\u91CF\u7684\u4EA4\u4E92\uFF0C\u975E\u5BF9\u79F0\u52A0\u5BC6\u7684\u52A0\u89E3\u5BC6\u6548\u7387\u975E\u5E38\u4F4E\u3002\u53E6\u5916\uFF0C\u5728 HTTPS\u7684\u573A\u666F\u4E2D\u53EA\u6709\u670D\u52A1\u7AEF\u4FDD\u5B58\u4E86\u79C1\u94A5\uFF0C\u4E00\u5BF9\u516C\u79C1\u94A5\u53EA\u80FD\u5B9E\u73B0\u5355\u5411\u7684\u52A0\u89E3\u5BC6\uFF0C\u6240\u4EE5 HTTPS \u4E2D\u5185\u5BB9\u4F20\u8F93\u52A0\u5BC6\u91C7\u53D6\u7684\u662F\u5BF9\u79F0\u52A0\u5BC6")],-1),wmn=n("p",null,[n("strong",null,"2. \u4E3A\u4EC0\u4E48\u9700\u8981\u8BC1\u4E66?")],-1),ymn=n("blockquote",null,[n("p",null,"\u9632\u6B62\u201C\u4E2D\u95F4\u4EBA\u201D\u653B\u51FB\uFF0C\u540C\u65F6\u53EF\u4EE5\u4E3A\u7F51\u7AD9\u63D0\u4F9B\u8EAB\u4EFD\u8BC1\u660E\u3002")],-1),xmn=n("p",null,[n("strong",null,"3. \u4F7F\u7528 HTTPS \u4F1A\u88AB\u6293\u5305\u5417?")],-1),Amn=n("blockquote",null,[n("p",null,"\u4F1A\u88AB\u6293\u5305\uFF0CHTTPS \u53EA\u9632\u6B62\u7528\u6237\u5728\u4E0D\u77E5\u60C5\u7684\u60C5\u51B5\u4E0B\u901A\u4FE1\u88AB\u76D1\u542C\uFF0C\u5982\u679C\u7528\u6237\u4E3B\u52A8\u6388\u4FE1\uFF0C\u662F\u53EF\u4EE5\u6784\u5EFA\u201C\u4E2D\u95F4\u4EBA\u201D\u7F51\u7EDC\uFF0C\u4EE3\u7406\u8F6F\u4EF6\u53EF\u4EE5\u5BF9\u4F20\u8F93\u5185\u5BB9\u8FDB\u884C\u89E3\u5BC6\u3002")],-1),Bmn={id:"_6-12-\u6570\u5B57\u7B7E\u540D-\u5B83\u662F\u4EC0\u4E48",tabindex:"-1"},qmn=n("a",{class:"header-anchor",href:"#_6-12-\u6570\u5B57\u7B7E\u540D-\u5B83\u662F\u4EC0\u4E48","aria-hidden":"true"},"#",-1),jmn=s(),Smn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-12-%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D-%E5%AE%83%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},Cmn=s("#"),Dmn=s("6.12 \u6570\u5B57\u7B7E\u540D\uFF1F\u5B83\u662F\u4EC0\u4E48"),Fmn=t("<blockquote><p>\u6570\u5B57\u7B7E\u540D\u7684\u4EA7\u751F\u4E3B\u8981\u5C31\u662F\u4E3A\u4E86\u89E3\u51B3HTTP\u4E2D\u5185\u5BB9\u53EF\u80FD\u88AB\u7BE1\u6539\u7684\u95EE\u9898\uFF0C\u5373\u6821\u9A8C\u6570\u636E\u7684\u5B8C\u6574\u6027\u3002\u5B83\u80FD\u786E\u5B9A\u6D88\u606F\u662F\u53D1\u9001\u65B9\u53D1\u9001\u8FC7\u6765\u7684\uFF0C\u56E0\u4E3A\u8FD9\u91CC\u4F1A\u6709\u4E00\u4E2A\u9A8C\u8BC1\u6570\u5B57\u7B7E\u540D\u7684\u8FC7\u7A0B\uFF0C\u522B\u4EBA\u662F\u5047\u5192\u4E0D\u4E86\u53D1\u9001\u65B9\u7684\u7B7E\u540D\u7684\u3002</p></blockquote><p>\u6570\u5B57\u7B7E\u540D\u5B83\u662F\u4EC0\u4E48\u5462\uFF1F\u5B83\u7684\u4EA7\u751F\u8FC7\u7A0B\u5176\u5B9E\u5C31\u662F\u4E24\u6B65\uFF0C\u7B2C\u4E00\u6B65\u5C06\u539F\u6587\u7528Hash\u51FD\u6570\u751F\u6210\u4E00\u4E2A\u53EB\u6D88\u606F\u6458\u8981\u7684\u4E1C\u897F\uFF0C\u7B2C\u4E8C\u6B65\u5C31\u662F\u7528\u53D1\u9001\u65B9\u7684\u79C1\u94A5\u5BF9\u8FD9\u4E2A\u6D88\u606F\u6458\u8981\u8FDB\u884C\u8FDB\u884C\u52A0\u5BC6\u3002\u8FD9\u4E2A\u4EA7\u751F\u7684\u4E1C\u897F\u5C31\u53EB\u505A\u6570\u5B57\u7B7E\u540D\uFF0C\u5B83\u4E00\u822C\u4F1A\u4E0E\u539F\u6587\u4E00\u8D77\u53D1\u9001\u7ED9\u63A5\u6536\u8005\u3002</p><p><strong>\u800C\u9A8C\u8BC1\u5B83\u7684\u8FC7\u7A0B\u5176\u5B9E\u4E5F\u5E76\u4E0D\u590D\u6742\u3002</strong></p><ul><li>\u9996\u5148\u53D1\u9001\u65B9\u4F1A\u5C06\u539F\u6587\u4E0E\u6570\u5B57\u7B7E\u540D(\u4E5F\u5C31\u662F\u52A0\u5BC6\u540E\u7684\u6458\u8981)\u4E00\u8D77\u53D1\u9001\u7ED9\u63A5\u6536\u65B9</li><li>\u63A5\u6536\u65B9\u4F1A\u63A5\u6536\u5230\u8FD9\u4E24\u6837\u4E1C\u897F\uFF0C\u5373\u539F\u6587\u548C\u6570\u5B57\u7B7E\u540D</li><li>\u63A5\u6536\u65B9\u7528Hash\u51FD\u6570\u5904\u7406\u539F\u6587\u4F1A\u5F97\u5230\u4E00\u4EFD\u6D88\u606F\u6458\u8981</li><li>\u540C\u65F6\u7528\u53D1\u9001\u65B9\u7684\u516C\u94A5\u89E3\u5BC6\u6570\u5B57\u7B7E\u540D\u4E5F\u4F1A\u5F97\u5230\u4E00\u4EFD\u6D88\u606F\u6458\u8981</li><li>\u53EA\u8981\u6BD4\u8F83\u8FD9\u4E24\u4EFD\u6D88\u606F\u6458\u8981\u662F\u5426\u76F8\u7B49\u5C31\u53EF\u4EE5\u9A8C\u8BC1\u51FA\u6570\u636E\u6709\u6CA1\u6709\u88AB\u7BE1\u6539\u4E86</li></ul><p>\u5F53\u7136\u8FD9\u91CC\u5173\u952E\u7684\u4E00\u6B65\u5C31\u662F\u8981\u4FDD\u8BC1\u53D1\u9001\u65B9\u4F20\u9012\u8FC7\u6765\u7684\u516C\u94A5\u662F\u53EF\u4FE1\u8D56\u7684\uFF0C\u8FD9\u65F6\u5019\u5C31\u5F97\u7528\u5230\u6570\u5B57\u8BC1\u4E66\u4E86\u3002</p>",5),Pmn={id:"_6-13-\u8C08\u8C08\u5BF9\u6570\u5B57\u8BC1\u4E66\u7684\u7406\u89E3",tabindex:"-1"},Tmn=n("a",{class:"header-anchor",href:"#_6-13-\u8C08\u8C08\u5BF9\u6570\u5B57\u8BC1\u4E66\u7684\u7406\u89E3","aria-hidden":"true"},"#",-1),Nmn=s(),Mmn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-13-%E8%B0%88%E8%B0%88%E5%AF%B9%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%E7%9A%84%E7%90%86%E8%A7%A3",target:"_blank",rel:"noopener noreferrer"},Omn=s("#"),Imn=s("6.13 \u8C08\u8C08\u5BF9\u6570\u5B57\u8BC1\u4E66\u7684\u7406\u89E3"),Rmn=n("p",null,"\u6570\u5B57\u8BC1\u4E66\u4E5F\u53EB\u516C\u94A5\u8BC1\u4E66\uFF0C\u6216\u8005\u7B80\u79F0\u8BC1\u4E66\u3002\u5B83\u4E3B\u8981\u662F\u4E3A\u4E86\u89E3\u51B3\u901A\u4FE1\u65B9\u8EAB\u4EFD\u906D\u4F2A\u88C5\u7684\u95EE\u9898\uFF0C\u4E5F\u5C31\u662F\u9A8C\u8BC1\u901A\u4FE1\u65B9\u7684\u8EAB\u4EFD\u3002",-1),Vmn=n("p",null,"\u56E0\u4E3A\u6211\u4EEC\u77E5\u9053\u5728HTTPS\u4E2D\u867D\u7136\u6709\u4E86\u6DF7\u5408\u52A0\u5BC6\u673A\u5236\u4FDD\u8BC1\u6570\u636E\u4E0D\u88AB\u76D1\u542C\uFF0C\u6709\u4E86\u6570\u5B57\u7B7E\u540D\u6821\u9A8C\u6570\u636E\u7684\u5B8C\u6574\u6027\uFF0C\u4F46\u662F\u6570\u5B57\u7B7E\u540D\u6821\u9A8C\u7684\u524D\u63D0\u662F\u80FD\u62FF\u5230\u53D1\u9001\u65B9\u7684\u516C\u94A5\uFF0C\u5E76\u4E14\u4FDD\u8BC1\u8FD9\u4E2A\u516C\u94A5\u662F\u53EF\u4FE1\u8D56\u7684\uFF0C\u6240\u4EE5\u5C31\u9700\u8981\u6570\u5B57\u8BC1\u4E66\u3002",-1),Hmn=n("p",null,"\u5B83\u7B80\u5355\u6765\u8BF4\u5176\u5B9E\u662F\u7531\u4E00\u4E9B\u6743\u5A01\u7684\u6570\u5B57\u8BA4\u8BC1\u673A\u6784\u9881\u53D1\u7ED9\u670D\u52A1\u5668\u7684\u4E00\u4E2A\u6587\u4EF6\u3002\u6570\u5B57\u8BA4\u8BC1\u673A\u6784\u7B80\u79F0CA\uFF0C\u5B83\u662F\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u90FD\u4FE1\u4EFB\u7684\u7B2C\u4E09\u65B9\u673A\u6784\uFF0C\u6211\u77E5\u9053\u6BD4\u8F83\u6709\u540D\u7684\u4E00\u4E2A\u5C31\u662F\u5A01\u745E\u4FE1(VeriSign)\u3002\u81F3\u4E8E\u9881\u53D1\u8BC1\u4E66\u7684\u6D41\u7A0B\uFF0C\u4E3B\u8981\u662F\u4E3A\uFF1A",-1),Lmn=n("ul",null,[n("li",null,"\u670D\u52A1\u5668\u7684\u8FD0\u8425\u4EBA\u5458\u4F1A\u5411\u8BA4\u8BC1\u673A\u6784\u63D0\u4EA4\u81EA\u5DF1\u7684\u516C\u94A5\u3001\u7EC4\u7EC7\u4FE1\u606F\u3001\u4E2A\u4EBA\u4FE1\u606F\u7B49\u5E76\u7533\u8BF7\u8BA4\u8BC1"),n("li",null,"\u800C\u8BA4\u8BC1\u673A\u6784\u5728\u62FF\u5230\u8FD9\u4E9B\u4FE1\u606F\u540E\u4F1A\u901A\u8FC7\u7EBF\u4E0A\u3001\u7EBF\u4E0B\u5404\u79CD\u9014\u5F84\u9A8C\u8BC1\u7533\u8BF7\u8005\u63D0\u4EA4\u4FE1\u606F\u7684\u771F\u5B9E\u6027"),n("li",null,"\u5728\u786E\u8BA4\u5176\u771F\u5B9E\u6027\u540E\uFF0C\u8BA4\u8BC1\u673A\u6784\u7ED9\u8FD9\u4E9B\u4FE1\u606F(\u7533\u8BF7\u8005\u7684\u516C\u94A5\uFF0C\u7EC4\u7EC7\u4FE1\u606F\uFF0C\u4E2A\u4EBA\u4FE1\u606F\u4EE5\u53CA\u8BA4\u8BC1\u673A\u6784\u81EA\u5DF1\u7684\u4FE1\u606F\u7B49)\uFF0C\u6211\u4EEC\u7B80\u79F0\u4E3A\u660E\u6587\u4FE1\u606F\uFF0C\u8FDB\u884C\u6570\u5B57\u7B7E\u540D\uFF0C\u8FC7\u7A0B\u4E5F\u5C31\u662F\u7B7E\u540D\u63D0\u5230\u7684\u6570\u5B57\u7B7E\u540D\u7684\u6B65\u9AA4\uFF1A1.\u901A\u8FC7Hash\u51FD\u6570\u5904\u7406\u660E\u6587\u4FE1\u606F\u751F\u6210\u4E00\u4E2A\u4FE1\u606F\u6458\u8981\uFF1B2.\u518D\u7528\u8BA4\u8BC1\u673A\u6784\u81EA\u5DF1\u7684\u79C1\u94A5\u5BF9\u4FE1\u606F\u6458\u8981\u8FDB\u884C\u52A0\u5BC6\u5904\u7406\u3002\u901A\u8FC7\u8FD9\u4E24\u4E2A\u6B65\u9AA4\u751F\u6210\u7684\u6587\u4EF6\u5C31\u53EB\u6570\u5B57\u7B7E\u540D\u3002"),n("li",null,"\u4E4B\u540E\u4F1A\u5C06\u660E\u6587\u4FE1\u606F\u548C\u6570\u5B57\u7B7E\u540D\u7EC4\u5408\u800C\u6210\u7684\u8BC1\u4E66\u9881\u53D1\u7ED9\u7533\u8BF7\u8005\uFF0C\u4E5F\u5C31\u662F\u670D\u52A1\u5668\u3002")],-1),Umn={id:"_6-14-\u4E3A\u4EC0\u4E48\u8BF4\u6570\u5B57\u8BC1\u4E66\u5C31\u80FD\u5BF9\u901A\u4FE1\u65B9\u7684\u8EAB\u4EFD\u8FDB\u884C\u9A8C\u8BC1\u5462",tabindex:"-1"},Jmn=n("a",{class:"header-anchor",href:"#_6-14-\u4E3A\u4EC0\u4E48\u8BF4\u6570\u5B57\u8BC1\u4E66\u5C31\u80FD\u5BF9\u901A\u4FE1\u65B9\u7684\u8EAB\u4EFD\u8FDB\u884C\u9A8C\u8BC1\u5462","aria-hidden":"true"},"#",-1),Wmn=s(),zmn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-14-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%E5%B0%B1%E8%83%BD%E5%AF%B9%E9%80%9A%E4%BF%A1%E6%96%B9%E7%9A%84%E8%BA%AB%E4%BB%BD%E8%BF%9B%E8%A1%8C%E9%AA%8C%E8%AF%81%E5%91%A2",target:"_blank",rel:"noopener noreferrer"},Gmn=s("#"),$mn=s("6.14 \u4E3A\u4EC0\u4E48\u8BF4\u6570\u5B57\u8BC1\u4E66\u5C31\u80FD\u5BF9\u901A\u4FE1\u65B9\u7684\u8EAB\u4EFD\u8FDB\u884C\u9A8C\u8BC1\u5462"),Xmn=t("<blockquote><p>\u90A3\u662F\u56E0\u4E3A\u5728\u5BA2\u6237\u7AEF\u7B2C\u4E00\u6B21\u7ED9\u670D\u52A1\u7AEF\u53D1\u9001HTTPS\u8BF7\u6C42\u7684\u65F6\u5019\uFF0C\u670D\u52A1\u7AEF\u4F1A\u5C06\u5B83\u81EA\u5DF1\u7684\u8BC1\u4E66\u968F\u7740\u5176\u5B83\u7684\u4FE1\u606F(\u4F8B\u5982<code>server_random\u3001 server_params</code>\u3001\u9700\u8981\u4F7F\u7528\u7684\u52A0\u5BC6\u5957\u4EF6\u7B49\u4E1C\u897F)\u4E00\u8D77\u8FD4\u7ED9\u5BA2\u6237\u7AEF\u3002</p></blockquote><p>\u5BA2\u6237\u7AEF\u5728\u6536\u5230\u4E4B\u540E\u9996\u5148\u4F1A\u9A8C\u8BC1\u8FD9\u4E2A\u8BC1\u4E66\uFF0C\u53EA\u6709\u9A8C\u8BC1\u901A\u8FC7\u4E4B\u540E\u624D\u4F1A\u6709\u540E\u7EED\u64CD\u4F5C\u3002\u800C\u9A8C\u8BC1\u7684\u8FC7\u7A0B\u5176\u5B9E\u4E5F\u5C31\u662F\u6570\u5B57\u7B7E\u540D\u7684\u9A8C\u8BC1\u8FC7\u7A0B(\u98985)\uFF1A</p><ul><li>\u524D\u9762\u8BF4\u8FC7\u4E86\uFF0C\u8BC1\u4E66\u5176\u5B9E\u662F\u7531\u660E\u6587\u4FE1\u606F(\u7533\u8BF7\u8005\u7684\u516C\u94A5\uFF0C\u7EC4\u7EC7\u4FE1\u606F\uFF0C\u4E2A\u4EBA\u4FE1\u606F\u4EE5\u53CA\u8BA4\u8BC1\u673A\u6784\u81EA\u5DF1\u7684\u4FE1\u606F\u7B49)\u548C\u8FD9\u4E2A\u660E\u6587\u4FE1\u606F\u7684\u6570\u5B57\u7B7E\u540D\u7EC4\u6210\u7684\u3002(\u5BF9\u5E94\u7740\u98985\u4E5F\u5C31\u662F\u539F\u6587\u548C\u6570\u5B57\u7B7E\u540D)</li><li>\u5BA2\u6237\u7AEF\u4F1A\u7528Hash\u51FD\u6570\u5904\u7406\u660E\u6587\u4FE1\u606F\u751F\u6210\u4E00\u4E2A\u4FE1\u606F\u6458\u8981</li><li>\u7136\u540E\u518D\u7528\u5185\u7F6E\u5728\u6D4F\u89C8\u5668\u4E0A\u7684<strong>CA\u7684\u516C\u94A5</strong>\u6765\u89E3\u5BC6\u8BC1\u4E66\u91CC\u7684\u6570\u5B57\u7B7E\u540D\uFF0C\u5F97\u5230\u4E00\u4E2A\u4FE1\u606F\u6458\u8981\u3002\u56E0\u4E3A\u6211\u4EEC\u77E5\u9053\u8BC1\u4E66\u5B9E\u9645\u662F\u7531CA\u9881\u53D1\u7ED9\u670D\u52A1\u5668\u7684\uFF0C\u5E76\u4E14\u91CC\u9762\u7684\u6570\u5B57\u7B7E\u540D\u4E5F\u662F\u7528\u7684CA\u7684\u79C1\u94A5\u52A0\u5BC6\u7684\uFF0C\u6240\u4EE5\u53EA\u6709CA\u7684\u516C\u94A5\u624D\u80FD\u89E3\u3002</li><li>\u6700\u540E\u518D\u5C06\u4E24\u4E2A\u4FE1\u606F\u6458\u8981\u8FDB\u884C\u5BF9\u6BD4\uFF0C\u82E5\u662F\u4E00\u6837\u5219\u80FD\u4FDD\u8BC1\u901A\u4FE1\u65B9\u7684\u8EAB\u4EFD\u662F\u6B63\u786E\u7684\u3002</li></ul><p>\u5176\u5B9E\u9A8C\u8BC1\u8BC1\u4E66\u7684\u8FC7\u7A0B\u4E0D\u4EC5\u4EC5\u662F\u6570\u5B57\u7B7E\u540D\u7684\u9A8C\u8BC1\uFF0C\u5BA2\u6237\u7AEF\u8FD8\u4F1A\u9A8C\u8BC1\u8BC1\u4E66\u76F8\u5173\u7684\u57DF\u540D\u4FE1\u606F\uFF0C\u6709\u6548\u65F6\u95F4\uFF0C\u662F\u4E0D\u662F\u5728CRL\u540A\u9500\u5217\u8868\u91CC\uFF0C\u4EE5\u53CA\u5B83\u7684\u4E0A\u4E00\u7EA7\u662F\u5426\u6709\u6548\u7B49\u7B49\u3002</p><p>\uFF08\u4E00\u822C\u7B54\u5230\u8FD9\u91CC\u5C31\u53EF\u4EE5\u4E86\uFF0C\u5982\u679C\u9762\u8BD5\u5B98\u7EE7\u7EED\u95EE\u4F60\u4E0A\u4E00\u7EA7\u662F\u5426\u6709\u6548\u8FD9\u6837\u9A8C\u8BC1\uFF0C\u4F60\u5C31\u56DE\u7B54\uFF1A\u8FD9\u662F\u4E00\u4E2A\u9012\u5F52\u7684\u8FC7\u7A0B\uFF0C\u76F4\u5230\u9A8C\u8BC1\u5230\u6839\u8BC1\u4E66\u4E5F\u5C31\u662F\u64CD\u4F5C\u7CFB\u7EDF\u5185\u7F6E\u7684Root\u8BC1\u4E66\u6216\u8005\u6D4F\u89C8\u5668\u5185\u7F6E\u7684Root\u8BC1\u4E66\u4E3A\u6B62\uFF09</p><blockquote><p>\u5C31\u50CF\u524D\u9762\u8BF4\u7684\uFF0C\u53EA\u6709\u80FD\u7528<strong>CA\u7684\u516C\u94A5</strong>\u89E3\u5BC6\u7684\u6570\u5B57\u7B7E\u540D\u5E76\u4E14\u901A\u8FC7\u4E86\u8BA4\u8BC1\u7684\u8BC1\u4E66\u624D\u662F\u6709\u6548\u7684\uFF0C\u56E0\u4E3A\u8BC1\u4E66\u662FCA\u9881\u5E03\u7684\u3002\u8FD9\u4E5F\u5C31\u4FDD\u8BC1\u4E86\u5BA2\u6237\u7AEF\u6536\u5230\u7684\u670D\u52A1\u5668\u53D1\u6765\u7684\u516C\u94A5\u662F\u771F\u5B9E\u53EF\u7528\u7684(\u56E0\u4E3A\u516C\u94A5\u5728\u8BC1\u4E66\u7684\u660E\u6587\u4FE1\u606F\u91CC)\u3002</p></blockquote><p>\uFF08\u60F3\u60F3\u5176\u5B9E\u5F88\u597D\u7406\u89E3\uFF0C\u56E0\u4E3A\u6D4F\u89C8\u5668\u5B83\u81EA\u5DF1\u6CA1\u6709\u8FA8\u522B\u8BC1\u4E66\u662F\u5426\u5408\u6CD5\u7684\u80FD\u529B\uFF0C\u5B83\u5C31\u628A\u8FD9\u4E8B\u4EA4\u7ED9CA\u53BB\u505A\uFF0CCA\u662F\u4FE1\u4EFB\u7684\u8FC7\u7684\u673A\u6784\uFF0C\u5B83\u53EA\u8981\u628A\u81EA\u5DF1\u7684\u516C\u94A5\u5185\u5D4C\u5230\u6D4F\u89C8\u5668\u91CC\uFF0C\u6D4F\u89C8\u5668\u518D\u7528\u8FD9\u4E2ACA\u516C\u94A5\u6765\u89E3\u8BC1\u4E66\u91CC\u7684\u7B7E\u540D\u5C31\u53EF\u4EE5\u4E86\u3002\u800C\u8BC1\u4E66\u7684\u7B7E\u540D\u4E5F\u662F\u7ECF\u8FC7CA\u7684\u79C1\u94A5\u52A0\u5BC6\u751F\u6210\u7684\uFF0C\u53EA\u6709CA\u7684\u516C\u94A5\u80FD\u89E3\uFF0C\u4F46\u5B83\u7684\u516C\u94A5\u53C8\u4E0D\u662F\u968F\u4FBF\u4EBA\u80FD\u62FF\u5230\u7684\uFF0C\u53EA\u6709\u5404\u5927\u6D4F\u89C8\u5668\u5382\u5546\u624D\u6709\uFF0C\u6240\u4EE5\u8FD9\u5C31\u662F\u6570\u5B57\u8BC1\u4E66\u7684\u9A8C\u8BC1\u8FC7\u7A0B\uFF09</p>",7),Kmn={id:"_6-15-\u8BF7\u8BE6\u7EC6\u7684\u8BF4\u4E00\u4E0Bhttps\u5B83\u7684\u52A0\u5BC6\u4F20\u8F93\u8FC7\u7A0B-\u6D89\u53CA\u5230\u54EA\u4E9B\u7B97\u6CD5\u5462",tabindex:"-1"},Qmn=n("a",{class:"header-anchor",href:"#_6-15-\u8BF7\u8BE6\u7EC6\u7684\u8BF4\u4E00\u4E0Bhttps\u5B83\u7684\u52A0\u5BC6\u4F20\u8F93\u8FC7\u7A0B-\u6D89\u53CA\u5230\u54EA\u4E9B\u7B97\u6CD5\u5462","aria-hidden":"true"},"#",-1),Ymn=s(),Zmn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-15-%E8%AF%B7%E8%AF%A6%E7%BB%86%E7%9A%84%E8%AF%B4%E4%B8%80%E4%B8%8Bhttps%E5%AE%83%E7%9A%84%E5%8A%A0%E5%AF%86%E4%BC%A0%E8%BE%93%E8%BF%87%E7%A8%8B-%E6%B6%89%E5%8F%8A%E5%88%B0%E5%93%AA%E4%BA%9B%E7%AE%97%E6%B3%95%E5%91%A2",target:"_blank",rel:"noopener noreferrer"},nhn=s("#"),shn=s("6.15 \u8BF7\u8BE6\u7EC6\u7684\u8BF4\u4E00\u4E0BHTTPS\u5B83\u7684\u52A0\u5BC6\u4F20\u8F93\u8FC7\u7A0B\uFF0C\u6D89\u53CA\u5230\u54EA\u4E9B\u7B97\u6CD5\u5462\uFF1F"),ahn=t("<p>\u96BE\u5EA6\uFF1A\u{1F31F}\u{1F31F}\u{1F31F}\u{1F31F}</p><blockquote><p>\u5728HTTPS\u52A0\u5BC6\u4F20\u8F93\u4E2D\uFF0C\u5B9E\u9645\u4E0A\u6D89\u53CA\u5230 SSL/TLS \u534F\u8BAE\uFF0C\u8FD9\u91CC\u662F\u6709\u4E00\u4E2ATSL\u63E1\u624B\u7684\u8FC7\u7A0B\u3002\u5BF9\u4E8E\u4F20\u7EDF\u7684TLS\u63E1\u624B\u4E5F\u5C31\u662FRSA\u63E1\u624B\u6211\u5C31\u4E0D\u63CF\u8FF0\u4E86\uFF0C\u4E3B\u8981\u662F\u8BF4\u4E00\u4E0B\u73B0\u5728\u4E3B\u6D41\u7684TLS1.2\u7248\u672C\u7684\u63E1\u624B\uFF0C\u4E5F\u5C31\u662FECDHE\u63E1\u624B\u3002</p></blockquote><p>\u5B83\u7684\u8FC7\u7A0B\u5927\u81F4\u6765\u8BF4\u662F\u8FD9\u6837\u7684\uFF1A</p><ol><li>\u5BA2\u6237\u7AEF\u5728\u7B2C\u4E00\u6B21\u53D1\u9001HTTPS\u8BF7\u6C42\u7684\u65F6\u5019\uFF0C\u4F1A\u628A <code>client_random</code>\u3001TSL\u7248\u672C\u53F7\u3001\u52A0\u5BC6\u5957\u4EF6\u5217\u8868\u53D1\u9001\u7ED9\u670D\u52A1\u5668</li><li>\u670D\u52A1\u5668\u5728\u63A5\u6536\u5230\u4E4B\u540E\u786E\u8BA4TSL\u7684\u7248\u672C\u53F7\uFF0C\u540C\u65F6\u53D1\u9001 <code>server_random\u3001server_params</code>\u3001\u9700\u8981\u4F7F\u7528\u7684\u52A0\u5BC6\u5957\u4EF6\u3001\u4EE5\u53CA\u81EA\u5DF1\u7684\u8BC1\u4E66\u7ED9\u5BA2\u6237\u7AEF</li><li>\u5BA2\u6237\u7AEF\u5728\u6536\u5230\u8FD9\u4E9B\u4FE1\u606F\u4E4B\u540E\uFF0C\u9996\u5148\u662F\u4F1A\u5BF9\u670D\u52A1\u5668\u7684\u8BC1\u4E66\u8FDB\u884C\u9A8C\u8BC1(\u4E5F\u5C31\u662F\u9898\u76EE7)\uFF0C\u82E5\u662F\u9A8C\u8BC1\u6210\u529F\u5219\u4F1A\u4F20\u9012\u4E00\u4E2A <code>client_params</code> \u7ED9\u670D\u52A1\u5668</li><li>\u4E0E\u6B64\u540C\u65F6\u5BA2\u6237\u7AEF\u4F1A\u901A\u8FC7<strong>ECDHE\u7B97\u6CD5</strong>\u8BA1\u7B97\u51FA\u4E00\u4E2A<code>pre_random</code>\uFF0C\u5176\u4E2D\u662F\u4F20\u5165\u4E86\u4E24\u4E2A\u53C2\u6570\uFF0C\u4E00\u4E2A\u662F <code>client_params</code>\uFF0C\u8FD8\u4E00\u4E2A\u662F server_params\u3002(\u4E5F\u5C31\u662F\u8BF4\uFF1A<code>ECDHE(client_params, server_params) = per_random</code>)</li><li>\u8FD9\u65F6\u5019\u5BA2\u6237\u7AEF\u5C31\u540C\u65F6\u62E5\u6709\u4E86 <code>client_random\u3001server_random\u3001pre_random</code>\uFF0C\u5B83\u4F1A\u5C06\u8FD9\u4E09\u4E2A\u53C2\u6570\u901A\u8FC7\u4E00\u4E2A<strong>\u4F2A\u968F\u673A\u51FD\u6570</strong>\u8BA1\u7B97\u5F97\u51FA\u6700\u7EC8\u7684<code>secret</code>\uFF0C\u8FD9\u4E2A<code>secret</code>\u5C31\u662F\u5B83\u4EEC\u540E\u7EED\u901A\u4FE1\u6240\u8981\u7528\u7684\u5BF9\u79F0\u5BC6\u94A5\u3002</li><li>\u800C\u5728\u5BA2\u6237\u7AEF\u751F\u6210\u5B8C<code>secret</code>\u4E4B\u540E\uFF0C\u4F1A\u7ED9\u670D\u52A1\u5668\u53D1\u9001\u4E00\u4E2A\u6536\u5C3E\u6D88\u606F\uFF0C\u544A\u8BC9\u670D\u52A1\u5668\u4E4B\u540E\u90FD\u8981\u7528\u5BF9\u79F0\u52A0\u5BC6\uFF0C\u4E14\u5BF9\u79F0\u52A0\u5BC6\u7684\u7B97\u6CD5\u662F\u7528\u7B2C\u4E00\u6B21\u7EA6\u5B9A\u597D\u7684\u3002</li><li>\u670D\u52A1\u5668\u5B83\u5728\u63A5\u6536\u5230\u521A\u521A\u4F20\u9012\u8FC7\u6765\u7684<code>client_params</code>\u4E4B\u540E\uFF0C\u4E5F\u4F1A\u4F7F\u7528\u548C\u5BA2\u6237\u7AEF\u4E00\u6837\u7684\u65B9\u5F0F\u751F\u6210<code>secret</code>\uFF0C\u5E76\u4E14\u4E5F\u4F1A\u53D1\u9001\u4E00\u4E2A\u6536\u5C3E\u6D88\u606F\u7ED9\u5BA2\u6237\u7AEF\u3002</li><li>\u5F53\u53CC\u65B9\u90FD\u6536\u5230\u6536\u5C3E\u6D88\u606F\u5E76\u9A8C\u8BC1\u6210\u529F\u4E4B\u540E\uFF0C\u63E1\u624B\u5C31\u7ED3\u675F\u4E86\u3002\u540E\u9762\u5F00\u59CB\u7528\u8FD9\u4E2Asecret\u5BF9\u79F0\u5BC6\u94A5\u52A0\u5BC6\u62A5\u6587\u8FDB\u884C\u4F20\u8F93\u3002</li></ol><p>\uFF08ECDHE\u57FA\u4E8E<strong>\u692D\u5706\u66F2\u7EBF\u79BB\u6563\u5BF9\u6570</strong>\uFF0C\u4F20\u5165\u7684\u4E24\u4E2A\u53C2\u6570\u4E5F\u88AB\u53EB\u505A<strong>\u692D\u5706\u66F2\u7EBF\u7684\u516C\u94A5</strong>\uFF09</p>",5),ehn={id:"_6-16-\u63CF\u8FF0\u4E00\u4E0Brsa\u63E1\u624B",tabindex:"-1"},thn=n("a",{class:"header-anchor",href:"#_6-16-\u63CF\u8FF0\u4E00\u4E0Brsa\u63E1\u624B","aria-hidden":"true"},"#",-1),phn=s(),ohn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-16-%E6%8F%8F%E8%BF%B0%E4%B8%80%E4%B8%8Brsa%E6%8F%A1%E6%89%8B",target:"_blank",rel:"noopener noreferrer"},chn=s("#"),lhn=s("6.16 \u63CF\u8FF0\u4E00\u4E0BRSA\u63E1\u624B"),rhn=n("p",null,"\u96BE\u5EA6\uFF1A\u{1F31F}\u{1F31F}\u{1F31F}",-1),ihn=n("ol",null,[n("li",null,"\u5BA2\u6237\u7AEF\u9996\u5148\u5411\u670D\u52A1\u7AEF\u53D1\u9001\u4E00\u4E2AHTTPS\u8BF7\u6C42"),n("li",null,"\u670D\u52A1\u7AEF\u4F1A\u628A\u4E8B\u5148\u914D\u7F6E\u597D\u7684\u516C\u94A5\u8BC1\u4E66\u968F\u7740\u5176\u5B83\u7684\u4FE1\u606F\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF"),n("li",null,"\u5BA2\u6237\u7AEF\u5728\u6536\u5230\u670D\u52A1\u7AEF\u53D1\u6765\u7684\u8BC1\u4E66\u4E4B\u540E\u8FDB\u884C\u9A8C\u8BC1\uFF0C\u9A8C\u8BC1\u7684\u8FC7\u7A0B\u53C2\u8003\u6570\u5B57\u8BC1\u4E66\u9A8C\u8BC1\uFF0C\u4F1A\u5F97\u5230\u670D\u52A1\u7AEF\u7684\u4FE1\u606F\u4EE5\u53CA\u5B83\u7684\u516C\u94A5"),n("li",null,[s("\u9A8C\u8BC1\u6210\u529F\u4E4B\u540E\u4F1A\u7528"),n("strong",null,"\u4F2A\u968F\u673A\u51FD\u6570"),s("\u8BA1\u7B97\u51FA\u4E00\u4E2A\u52A0\u5BC6\u6240\u9700\u8981\u7684\u5BF9\u79F0\u5BC6\u94A5(secret)\uFF0C\u5E76\u4E14\u7528\u670D\u52A1\u7AEF\u7684\u516C\u94A5\u52A0\u5BC6\u8FD9\u4E2A\u5BF9\u79F0\u5BC6\u94A5\u53D1\u9001\u7ED9\u670D\u52A1\u7AEF")]),n("li",null,"\u670D\u52A1\u7AEF\u518D\u7528\u81EA\u5DF1\u7684\u79C1\u94A5\u89E3\u5BC6\u521A\u521A\u7684\u6D88\u606F\uFF0C\u5F97\u5230\u91CC\u9762\u7684\u5BF9\u79F0\u5BC6\u94A5\u3002\u6B64\u65F6\u670D\u52A1\u7AEF\u548C\u5BA2\u6237\u7AEF\u90FD\u6709\u4E86\u5BF9\u79F0\u5BC6\u94A5\u3002"),n("li",null,"\u540E\u9762\u7684\u4F20\u8F93\u90FD\u4F1A\u7528\u8FD9\u4E2A secret \u8FDB\u884C\u5BF9\u79F0\u5BC6\u94A5\u52A0\u89E3\u5BC6\u4F20\u8F93")],-1),uhn={id:"_6-17-ecdhe\u63E1\u624B\u548Crsa\u63E1\u624B\u53C8\u6709\u4EC0\u4E48\u533A\u522B\u5462",tabindex:"-1"},khn=n("a",{class:"header-anchor",href:"#_6-17-ecdhe\u63E1\u624B\u548Crsa\u63E1\u624B\u53C8\u6709\u4EC0\u4E48\u533A\u522B\u5462","aria-hidden":"true"},"#",-1),dhn=s(),bhn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-17-ecdhe%E6%8F%A1%E6%89%8B%E5%92%8Crsa%E6%8F%A1%E6%89%8B%E5%8F%88%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%E5%91%A2",target:"_blank",rel:"noopener noreferrer"},mhn=s("#"),hhn=s("6.17 ECDHE\u63E1\u624B\u548CRSA\u63E1\u624B\u53C8\u6709\u4EC0\u4E48\u533A\u522B\u5462"),_hn=n("p",null,"\u96BE\u5EA6\uFF1A\u{1F31F}\u{1F31F}\u{1F31F}",-1),ghn=n("p",null,"\u5B83\u4EEC\u7684\u533A\u522B\u4E3B\u8981\u662F\uFF1A",-1),Ehn=n("ol",null,[n("li",null,"\u751F\u6210secret(\u5BF9\u79F0\u5BC6\u94A5)\u7684\u8FC7\u7A0B\u4E0D\u540C\u3002RSA\u4E2D\u662F\u4F7F\u7528RSA\u7B97\u6CD5\u751F\u6210\u4E00\u4E2Apre_random\u5E76\u7528\u670D\u52A1\u5668\u7684\u516C\u94A5\u52A0pre_random\u53D1\u9001\u7ED9\u670D\u52A1\u5668\uFF0C\u7136\u540E\u5404\u81EA\u7528\u4F2A\u968F\u673A\u51FD\u6570\u751F\u6210\u76F8\u540C\u7684secret\u5BF9\u79F0\u5BC6\u94A5\uFF1B\u800C\u5728ECDHE\u63E1\u624B\u4E2D\uFF0C\u5B83\u6CA1\u6709\u7528\u5230RSA\u7B97\u6CD5\uFF0C\u800C\u662F\u7528ECDHE\u7B97\u6CD5\u751F\u6210\u7684pre_random\uFF0C\u4E14\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\u6BD4RSA\u591A\u4E86client_params\u548Cserver_params\u4E24\u4E2A\u53C2\u6570\u3002"),n("li",null,[s("\u5728\u751F\u6210\u5B8Csecret\u4E4B\u540E\uFF0CECDHE\u63E1\u624B\u5728\u5BA2\u6237\u7AEF\u53D1\u9001\u5B8C\u6536\u5C3E\u6D88\u606F\u540E\u53EF\u4EE5\u63D0\u524D"),n("code",null,"\u62A2\u8DD1"),s("\uFF0C\u76F4\u63A5\u53D1\u9001 HTTP \u62A5\u6587\uFF0C\u8282\u7701\u4E86\u4E00\u4E2A RTT\uFF0C\u4E0D\u5FC5\u7B49\u5230\u6536\u5C3E\u6D88\u606F\u5230\u8FBE\u670D\u52A1\u5668\uFF0C\u7136\u540E\u7B49\u670D\u52A1\u5668\u8FD4\u56DE\u6536\u5C3E\u6D88\u606F\u7ED9\u81EA\u5DF1\uFF0C\u76F4\u63A5\u5F00\u59CB\u53D1\u8BF7\u6C42\u3002\u8FD9\u4E5F\u53EB"),n("code",null,"TLS False Start"),s("\u3002")]),n("li",null,"\u6700\u4E3B\u8981\u7684\uFF1ARSA\u4E0D\u5177\u5907\u5411\u524D\u5B89\u5168\u6027\uFF0CECDHE\u6709")],-1),fhn=n("p",null,"\uFF08\u5411\u524D\u5B89\u5168\u6027\uFF1A\u4E00\u6B21\u7834\u89E3\u5E76\u4E0D\u5F71\u54CD\u5386\u53F2\u4FE1\u606F\u7684\u6027\u8D28\u5C31\u662F\u5411\u524D\u5B89\u5168\u6027\uFF09",-1),vhn={id:"_6-18-\u4F60\u77E5\u9053tsl1-3\u7248\u672C\u5417-\u5B83\u8F83tsl1-2\u505A\u4E86\u54EA\u4E9B\u6539\u8FDB\u5462",tabindex:"-1"},whn=n("a",{class:"header-anchor",href:"#_6-18-\u4F60\u77E5\u9053tsl1-3\u7248\u672C\u5417-\u5B83\u8F83tsl1-2\u505A\u4E86\u54EA\u4E9B\u6539\u8FDB\u5462","aria-hidden":"true"},"#",-1),yhn=s(),xhn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-18-%E4%BD%A0%E7%9F%A5%E9%81%93tsl1-3%E7%89%88%E6%9C%AC%E5%90%97-%E5%AE%83%E8%BE%83tsl1-2%E5%81%9A%E4%BA%86%E5%93%AA%E4%BA%9B%E6%94%B9%E8%BF%9B%E5%91%A2",target:"_blank",rel:"noopener noreferrer"},Ahn=s("#"),Bhn=s("6.18 \u4F60\u77E5\u9053TSL1.3\u7248\u672C\u5417\uFF1F\u5B83\u8F83TSL1.2\u505A\u4E86\u54EA\u4E9B\u6539\u8FDB\u5462\uFF1F"),qhn=n("blockquote",null,[n("p",null,[n("code",null,"TSL1.3"),s("\u7248\u672C\u662F2018\u5E74\u63A8\u51FA\u7684\u3002\u5B83\u8F83TSL1.2\u4E3B\u8981\u662F\u505A\u4E86\u4EE5\u4E0B\u6539\u8FDB\uFF1A")])],-1),jhn=n("ol",null,[n("li",null,"\u5F3A\u5316\u5B89\u5168")],-1),Shn=n("blockquote",null,[n("p",null,"\u5E9F\u9664\u4E86\u5F88\u591A\u7684\u52A0\u5BC6\u7B97\u6CD5\uFF0C\u53EA\u4FDD\u7559\u4E865\u4E2A\u52A0\u5BC6\u5957\u4EF6\u3002\u5176\u4E2D\u6700\u4E3B\u8981\u7684\u662F\u5E9F\u5F03\u4E86RSA\uFF0C\u56E0\u4E3A\u57282015\u5E74\u53D1\u73B0\u4E86PRAEK\u653B\u51FB\uFF0C\u5373\u5DF2\u7ECF\u6709\u4EBA\u53D1\u73B0\u4E86RSA\u7684\u6F0F\u6D1E\u80FD\u8FDB\u884C\u7834\u89E3\uFF1B\u800C\u4E14RSA\u4E0D\u5177\u5907\u5411\u524D\u5B89\u5168\u6027\u3002")],-1),Chn=n("ol",null,[n("li",null,"\u63D0\u9AD8\u6027\u80FD")],-1),Dhn=n("p",null,[s("\u540C\u65F6\u5229\u7528\u4F1A\u8BDD\u590D\u7528\u8282\u7701\u4E86\u91CD\u65B0\u751F\u6210\u5BC6\u94A5\u7684\u65F6\u95F4\uFF0C\u5229\u7528 PSK \u505A\u5230\u4E86"),n("code",null,"0-RTT"),s("\u8FDE\u63A5\u3002")],-1),Fhn={id:"_6-19-\u4ECB\u7ECD\u4E0B-https-\u4E2D\u95F4\u4EBA\u653B\u51FB",tabindex:"-1"},Phn=n("a",{class:"header-anchor",href:"#_6-19-\u4ECB\u7ECD\u4E0B-https-\u4E2D\u95F4\u4EBA\u653B\u51FB","aria-hidden":"true"},"#",-1),Thn=s(),Nhn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-19-%E4%BB%8B%E7%BB%8D%E4%B8%8B-https-%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB",target:"_blank",rel:"noopener noreferrer"},Mhn=s("#"),Ohn=s("6.19 \u4ECB\u7ECD\u4E0B HTTPS \u4E2D\u95F4\u4EBA\u653B\u51FB"),Ihn=t("<p><strong>\u4E2D\u95F4\u4EBA\u653B\u51FB\u8FC7\u7A0B\u5982\u4E0B\uFF1A</strong></p><ul><li>\u670D\u52A1\u5668\u5411\u5BA2\u6237\u7AEF\u53D1\u9001\u516C\u94A5\u3002</li><li>\u653B\u51FB\u8005\u622A\u83B7\u516C\u94A5\uFF0C\u4FDD\u7559\u5728\u81EA\u5DF1\u624B\u4E0A\u3002</li><li>\u7136\u540E\u653B\u51FB\u8005\u81EA\u5DF1\u751F\u6210\u4E00\u4E2A\u3010\u4F2A\u9020\u7684\u3011\u516C\u94A5\uFF0C\u53D1\u7ED9\u5BA2\u6237\u7AEF\u3002</li><li>\u5BA2\u6237\u7AEF\u6536\u5230\u4F2A\u9020\u7684\u516C\u94A5\u540E\uFF0C\u751F\u6210\u52A0\u5BC6hash\u503C\u53D1\u7ED9\u670D\u52A1\u5668\u3002</li><li>\u653B\u51FB\u8005\u83B7\u5F97\u52A0\u5BC6hash\u503C\uFF0C\u7528\u81EA\u5DF1\u7684\u79C1\u94A5\u89E3\u5BC6\u83B7\u5F97\u771F\u79D8\u94A5\u3002</li><li>\u540C\u65F6\u751F\u6210\u5047\u7684\u52A0\u5BC6hash\u503C\uFF0C\u53D1\u7ED9\u670D\u52A1\u5668\u3002</li><li>\u670D\u52A1\u5668\u7528\u79C1\u94A5\u89E3\u5BC6\u83B7\u5F97\u5047\u79D8\u94A5\u3002</li><li>\u670D\u52A1\u5668\u7528\u52A0\u79D8\u94A5\u52A0\u5BC6\u4F20\u8F93\u4FE1\u606F</li></ul><p><strong>\u9632\u8303\u65B9\u6CD5\uFF1A</strong></p><blockquote><p>\u670D\u52A1\u7AEF\u5728\u53D1\u9001\u6D4F\u89C8\u5668\u7684\u516C\u94A5\u4E2D\u52A0\u5165<code>CA\u8BC1\u4E66</code>\uFF0C\u6D4F\u89C8\u5668\u53EF\u4EE5\u9A8C\u8BC1<code>CA\u8BC1\u4E66</code>\u7684\u6709\u6548\u6027</p></blockquote>",4),Rhn={id:"_6-20-http-https-\u534F\u8BAE\u603B\u7ED3",tabindex:"-1"},Vhn=n("a",{class:"header-anchor",href:"#_6-20-http-https-\u534F\u8BAE\u603B\u7ED3","aria-hidden":"true"},"#",-1),Hhn=s(),Lhn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_6-20-http-https-%E5%8D%8F%E8%AE%AE%E6%80%BB%E7%BB%93",target:"_blank",rel:"noopener noreferrer"},Uhn=s("#"),Jhn=s("6.20 http/https \u534F\u8BAE\u603B\u7ED3"),Whn=t(`<p><strong>1.0 \u534F\u8BAE\u7F3A\u9677:</strong></p><ul><li>\u65E0\u6CD5\u590D\u7528\u94FE\u63A5\uFF0C\u5B8C\u6210\u5373\u65AD\u5F00\uFF0C\u91CD\u65B0\u6162\u542F\u52A8\u548C <code>TCP 3</code>\u6B21\u63E1\u624B</li><li><code>head of line blocking</code>: \u7EBF\u5934\u963B\u585E\uFF0C\u5BFC\u81F4\u8BF7\u6C42\u4E4B\u95F4\u4E92\u76F8\u5F71\u54CD</li></ul><p><strong>1.1 \u6539\u8FDB:</strong></p><ul><li><p>\u957F\u8FDE\u63A5(\u9ED8\u8BA4 <code>keep-alive</code>)\uFF0C\u590D\u7528</p></li><li><p><code>host</code> \u5B57\u6BB5\u6307\u5B9A\u5BF9\u5E94\u7684\u865A\u62DF\u7AD9\u70B9</p></li><li><p>\u65B0\u589E\u529F\u80FD:</p><ul><li><p>\u65AD\u70B9\u7EED\u4F20</p></li><li><p>\u8EAB\u4EFD\u8BA4\u8BC1</p></li><li><p>\u72B6\u6001\u7BA1\u7406</p></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cache
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7F13\u5B58</p><ul><li><code>Cache-Control</code></li><li><code>Expires</code></li><li><code>Last-Modified</code></li><li><code>Etag</code></li></ul></li></ul></li></ul><p><strong>2.0:</strong></p><ul><li>\u591A\u8DEF\u590D\u7528</li><li>\u4E8C\u8FDB\u5236\u5206\u5E27\u5C42: \u5E94\u7528\u5C42\u548C\u4F20\u8F93\u5C42\u4E4B\u95F4</li><li>\u9996\u90E8\u538B\u7F29</li><li>\u670D\u52A1\u7AEF\u63A8\u9001</li></ul><p><strong>https: \u8F83\u4E3A\u5B89\u5168\u7684\u7F51\u7EDC\u4F20\u8F93\u534F\u8BAE</strong></p><ul><li>\u8BC1\u4E66(\u516C\u94A5)</li><li><code>SSL</code> \u52A0\u5BC6</li><li>\u7AEF\u53E3 <code>443</code></li></ul><p><strong>TCP:</strong></p><ul><li>\u4E09\u6B21\u63E1\u624B</li><li>\u56DB\u6B21\u6325\u624B</li><li>\u6ED1\u52A8\u7A97\u53E3: \u6D41\u91CF\u63A7\u5236</li><li>\u62E5\u585E\u5904\u7406 <ul><li>\u6162\u5F00\u59CB</li><li>\u62E5\u585E\u907F\u514D</li><li>\u5FEB\u901F\u91CD\u4F20</li><li>\u5FEB\u901F\u6062\u590D</li></ul></li></ul><p><strong>\u7F13\u5B58\u7B56\u7565: \u53EF\u5206\u4E3A \u5F3A\u7F13\u5B58 \u548C \u534F\u5546\u7F13\u5B58</strong></p><ul><li><p><code>Cache-Control/Expires</code>: \u6D4F\u89C8\u5668\u5224\u65AD\u7F13\u5B58\u662F\u5426\u8FC7\u671F\uFF0C\u672A\u8FC7\u671F\u65F6\uFF0C\u76F4\u63A5\u4F7F\u7528\u5F3A\u7F13\u5B58\uFF0C<code>Cache-Control</code>\u7684 <code>max-age</code> \u4F18\u5148\u7EA7\u9AD8\u4E8E <code>Expires</code></p></li><li><p>\u5F53\u7F13\u5B58\u5DF2\u7ECF\u8FC7\u671F\u65F6\uFF0C\u4F7F\u7528\u534F\u5546\u7F13\u5B58</p><ul><li><p>\u552F\u4E00\u6807\u8BC6\u65B9\u6848: <code>Etag</code>(<code>response</code> \u643A\u5E26) &amp; <code>If-None-Match</code>(<code>request</code>\u643A\u5E26\uFF0C\u4E0A\u4E00\u6B21\u8FD4\u56DE\u7684 <code>Etag</code>): \u670D\u52A1\u5668\u5224\u65AD\u8D44\u6E90\u662F\u5426\u88AB\u4FEE\u6539</p></li><li><p>\u6700\u540E\u4E00\u6B21\u4FEE\u6539\u65F6\u95F4:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Last-Modified(response) &amp; If-Modified-Since
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>(</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>request
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\uFF0C\u4E0A\u4E00\u6B21\u8FD4\u56DE\u7684</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Last-Modified
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>)</p><ul><li>\u5982\u679C\u4E00\u81F4\uFF0C\u5219\u76F4\u63A5\u8FD4\u56DE 304 \u901A\u77E5\u6D4F\u89C8\u5668\u4F7F\u7528\u7F13\u5B58</li><li>\u5982\u4E0D\u4E00\u81F4\uFF0C\u5219\u670D\u52A1\u7AEF\u8FD4\u56DE\u65B0\u7684\u8D44\u6E90</li></ul></li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Last-Modified
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7F3A\u70B9\uFF1A</p><ul><li>\u5468\u671F\u6027\u4FEE\u6539\uFF0C\u4F46\u5185\u5BB9\u672A\u53D8\u65F6\uFF0C\u4F1A\u5BFC\u81F4\u7F13\u5B58\u5931\u6548</li><li>\u6700\u5C0F\u7C92\u5EA6\u53EA\u5230 <code>s</code>\uFF0C <code>s</code> \u4EE5\u5185\u7684\u6539\u52A8\u65E0\u6CD5\u68C0\u6D4B\u5230</li></ul></li><li><p><code>Etag</code> \u7684\u4F18\u5148\u7EA7\u9AD8\u4E8E<code>Last-Modified</code></p></li></ul>`,12),zhn={id:"_7-websocket\u7684\u5B9E\u73B0\u548C\u5E94\u7528",tabindex:"-1"},Ghn=n("a",{class:"header-anchor",href:"#_7-websocket\u7684\u5B9E\u73B0\u548C\u5E94\u7528","aria-hidden":"true"},"#",-1),$hn=s(),Xhn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_7-websocket%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%92%8C%E5%BA%94%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},Khn=s("#"),Qhn=s("7 WebSocket\u7684\u5B9E\u73B0\u548C\u5E94\u7528"),Yhn=t('<blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Websocket` \u662F\u4E00\u4E2A \u6301\u4E45\u5316\u7684\u534F\u8BAE\uFF0C \u57FA\u4E8E `http` \uFF0C \u670D\u52A1\u7AEF\u53EF\u4EE5 \u4E3B\u52A8 `push\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><p><strong>\u517C\u5BB9\uFF1A</strong></p><blockquote><ul><li><code>FLASH Socket</code></li><li>\u957F\u8F6E\u8BE2\uFF1A \u5B9A\u65F6\u53D1\u9001 <code>ajax</code></li><li><code>long poll</code>\uFF1A \u53D1\u9001 --&gt; \u6709\u6D88\u606F\u65F6\u518D <code>response</code></li></ul></blockquote><ul><li><code>new WebSocket(url)</code></li><li><code>ws.onerror = fn</code></li><li><code>ws.onclose = fn</code></li><li><code>ws.onopen = fn</code></li><li><code>ws.onmessage = fn</code></li><li><code>ws.send()</code></li></ul>',4),Zhn={id:"_7-1-\u4EC0\u4E48\u662F-websocket",tabindex:"-1"},n_n=n("a",{class:"header-anchor",href:"#_7-1-\u4EC0\u4E48\u662F-websocket","aria-hidden":"true"},"#",-1),s_n=s(),a_n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_7-1-%E4%BB%80%E4%B9%88%E6%98%AF-websocket",target:"_blank",rel:"noopener noreferrer"},e_n=s("#"),t_n=s("7.1 \u4EC0\u4E48\u662F WebSocket"),p_n=n("blockquote",null,[n("p",null,"WebSocket \u662F HTML5 \u4E2D\u7684\u534F\u8BAE\uFF0C\u652F\u6301\u6301\u4E45\u8FDE\u7EED\uFF0Chttp \u534F\u8BAE\u4E0D\u652F\u6301\u6301\u4E45\u6027\u8FDE\u63A5\u3002Http1.0 \u548C HTTP1.1 \u90FD\u4E0D\u652F\u6301\u6301\u4E45\u6027\u7684\u94FE\u63A5\uFF0CHTTP1.1 \u4E2D\u7684 keep-alive\uFF0C\u5C06\u591A\u4E2A http \u8BF7\u6C42\u5408\u5E76\u4E3A 1\u4E2A")],-1),o_n={id:"_7-2-websocket-\u662F\u4EC0\u4E48\u6837\u7684\u534F\u8BAE-\u5177\u4F53\u6709\u4EC0\u4E48\u4F18\u70B9",tabindex:"-1"},c_n=n("a",{class:"header-anchor",href:"#_7-2-websocket-\u662F\u4EC0\u4E48\u6837\u7684\u534F\u8BAE-\u5177\u4F53\u6709\u4EC0\u4E48\u4F18\u70B9","aria-hidden":"true"},"#",-1),l_n=s(),r_n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_7-2-websocket-%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E7%9A%84%E5%8D%8F%E8%AE%AE-%E5%85%B7%E4%BD%93%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},i_n=s("#"),u_n=s("7.2 WebSocket \u662F\u4EC0\u4E48\u6837\u7684\u534F\u8BAE\uFF0C\u5177\u4F53\u6709\u4EC0\u4E48\u4F18\u70B9"),k_n=t(`<ul><li>HTTP \u7684\u751F\u547D\u5468\u671F\u901A\u8FC7 Request \u6765\u754C\u5B9A\uFF0C\u4E5F\u5C31\u662F Request \u4E00\u4E2A Response\uFF0C\u90A3\u4E48\u5728 Http1.0 \u534F\u8BAE\u4E2D\uFF0C\u8FD9\u6B21 Http \u8BF7\u6C42\u5C31\u7ED3\u675F\u4E86\u3002\u5728 Http1.1 \u4E2D\u8FDB\u884C\u4E86\u6539\u8FDB\uFF0C\u662F\u7684\u6709\u4E00\u4E2A connection: Keep-alive\uFF0C\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5728\u4E00\u4E2A Http \u8FDE\u63A5\u4E2D\uFF0C\u53EF\u4EE5\u53D1\u9001\u591A\u4E2A Request\uFF0C\u63A5\u6536\u591A\u4E2A Response\u3002 \u4F46\u662F\u5FC5\u987B\u8BB0\u4F4F\uFF0C\u5728 Http \u4E2D\u4E00\u4E2A Request \u53EA\u80FD\u5BF9\u5E94\u6709\u4E00\u4E2A Response\uFF0C\u800C\u4E14\u8FD9\u4E2A Response \u662F\u88AB\u52A8\u7684\uFF0C\u4E0D\u80FD\u4E3B\u52A8\u53D1\u8D77\u3002</li><li>WebSocket \u662F\u57FA\u4E8E Http \u534F\u8BAE\u7684\uFF0C\u6216\u8005\u8BF4\u501F\u7528\u4E86 Http \u534F\u8BAE\u6765\u5B8C\u6210\u4E00\u90E8\u5206\u63E1\u624B\uFF0C\u5728\u63E1\u624B\u9636\u6BB5 \u4E0E Http \u662F\u76F8\u540C\u7684\u3002\u6211\u4EEC\u6765\u770B\u4E00\u4E2A websocket \u63E1\u624B\u534F\u8BAE\u7684\u5B9E\u73B0\uFF0C\u57FA\u672C\u662F 2 \u4E2A\u5C5E\u6027\uFF0Cupgrade\uFF0C connection\u3002</li></ul><p>\u57FA\u672C\u8BF7\u6C42\u5982\u4E0B:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>GET /chat HTTP/1.1
Host: server.example.com
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Key: x3JJHMbDL1EzLkh9GBhXDw== Sec-WebSocket-Protocol: chat, superchat Sec-WebSocket-Version: 13
Origin: http://example.com
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u591A\u4E86\u4E0B\u9762 2 \u4E2A\u5C5E\u6027:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Upgrade:webSocket 
Connection:Upgrade
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u544A\u8BC9\u670D\u52A1\u5668\u53D1\u9001\u7684\u662F <code>websocket</code></p>`,6),d_n={id:"_7-3-\u7406\u89E3websocket\u534F\u8BAE\u7684\u5E95\u5C42\u539F\u7406\u3001\u4E0Ehttp\u7684\u533A\u522B",tabindex:"-1"},b_n=n("a",{class:"header-anchor",href:"#_7-3-\u7406\u89E3websocket\u534F\u8BAE\u7684\u5E95\u5C42\u539F\u7406\u3001\u4E0Ehttp\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),m_n=s(),h_n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_7-3-%E7%90%86%E8%A7%A3websocket%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E3%80%81%E4%B8%8Ehttp%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},__n=s("#"),g_n=s("7.3 \u7406\u89E3WebSocket\u534F\u8BAE\u7684\u5E95\u5C42\u539F\u7406\u3001\u4E0EHTTP\u7684\u533A\u522B"),E_n=t(`<blockquote><p>WebSocket \u662F\u4E00\u4E2A\u6301\u4E45\u5316\u7684\u7F51\u7EDC\u901A\u4FE1\u534F\u8BAE\uFF0C\u53EF\u4EE5\u5728\u5355\u4E2A TCP \u8FDE\u63A5\u4E0A\u8FDB\u884C <strong>\u5168\u53CC\u5DE5\u901A\u8BAF</strong> \uFF0C\u6CA1\u6709\u4E86 <strong>Request</strong> \u548C <strong>Response</strong> \u7684\u6982\u5FF5\uFF0C\u4E24\u8005\u5730\u4F4D\u5B8C\u5168\u5E73\u7B49\uFF0C\u8FDE\u63A5\u4E00\u65E6\u5EFA\u7ACB\uFF0C\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u4E4B\u95F4\u53EF\u4EE5\u5B9E\u65F6\u8FDB\u884C\u53CC\u5411\u6570\u636E\u4F20\u8F93\u3002</p></blockquote><ol><li>HTTP \u662F\u975E\u6301\u4E45\u534F\u8BAE\uFF0C\u5BA2\u6237\u7AEF\u60F3\u77E5\u9053\u670D\u52A1\u7AEF\u7684\u5904\u7406\u8FDB\u5EA6\u53EA\u80FD\u901A\u8FC7\u957F\u8F6E\u8BE2\u6216\u8005\u662F long poll \u7684\u65B9\u5F0F\uFF0C\u4F46\u662F\u524D\u8005\u5BF9\u670D\u52A1\u5668\u538B\u529B\u5927\uFF0C\u540E\u8005\u5219\u4F1A\u56E0\u4E3A\u4E00\u76F4\u7B49\u5F85\u54CD\u5E94\u9020\u6210\u963B\u585E\u3002</li></ol><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2308134eee1949129438e15b945792b9~tplv-k3u1fbpfcp-zoom-1.image?imageslim" alt="img"></p><ol><li>\u867D\u7136 http1.1 \u9ED8\u8BA4\u5F00\u542F\u4E86 keep-alive \u957F\u8FDE\u63A5\u4FDD\u6301\u4E86\u8FD9\u4E2A TCP \u901A\u9053\u4F7F\u5F97\u5728\u4E00\u4E2A HTTP \u8FDE\u63A5\u4E2D\u53EF\u4EE5\u53D1\u9001\u591A\u4E2A\u8BF7\u6C42\uFF0C\u63A5\u53D7\u591A\u4E2A\u54CD\u5E94\uFF0C\u4F46\u662F\u4E00\u4E2A\u8BF7\u6C42\u53EA\u80FD\u6709\u4E00\u4E2A\u54CD\u5E94\uFF0C\u800C\u4E14\u8FD9\u4E2A\u54CD\u5E94\u4E5F\u662F\u88AB\u52A8\u7684\uFF0C\u4E0D\u80FD\u4E3B\u52A8\u53D1\u8D77</li><li>WebSocket \u867D\u7136\u662F\u72EC\u7ACB\u4E8E HTTP \u7684\u4E00\u79CD\u534F\u8BAE\uFF0C\u4F46\u662F WebSocket \u5FC5\u987B\u4F9D\u8D56 HTTP \u534F\u8BAE\u8FDB\u884C\u4E00\u6B21\u63E1\u624B\uFF08\u5728\u63E1\u624B\u9636\u6BB5\u662F\u4E00\u6837\u7684\uFF09\uFF0C\u6211\u624B\u6210\u529F\u540E\uFF0C\u6570\u636E\u5C31\u76F4\u63A5\u4ECE TCP \u901A\u9053\u4F20\u8F93\uFF0C\u4E0E HTTP \u65E0\u5173\u4E86\uFF0C\u53EF\u4EE5\u7528\u4E00\u5F20\u56FE\u7406\u89E3\u4E24\u8005\u6709\u4EA4\u96C6\uFF0C\u4F46\u5E76\u4E0D\u662F\u5168\u90E8\u3002</li></ol><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/93f1390c965f4bb28f97eeced69652d0~tplv-k3u1fbpfcp-zoom-1.image?imageslim" alt="img"></p><p><strong>socket</strong></p><ol><li>socket \u4E5F\u88AB\u79F0\u4E3A\u5957\u63A5\u5B57\uFF0C\u4E0E HTTP \u548C WebSocket \u4E0D\u4E00\u6837\uFF0Csocket \u4E0D\u662F\u534F\u8BAE\uFF0C\u5B83\u662F\u5728\u7A0B\u5E8F\u5C42\u9762\u4E0A\u5BF9\u4F20\u8F93\u5C42\u534F\u8BAE\uFF08\u53EF\u4EE5\u4E3B\u8981\u7406\u89E3\u4E3A TCP / IP\uFF09\u7684\u63A5\u53E3\u5C01\u88C5\u3002\u53EF\u4EE5\u7406\u89E3\u4E3A\u4E00\u4E2A\u80FD\u591F\u63D0\u4F9B\u7AEF\u5BF9\u7AEF\u7684\u901A\u4FE1\u7684\u8C03\u7528\u63A5\u53E3\uFF08API\uFF09\u3002</li><li>\u5BF9\u4E8E\u7A0B\u5E8F\u5458\u800C\u8A00\uFF0C\u5176\u9700\u8981\u5728 A \u7AEF\u521B\u5EFA\u4E00\u4E2A socket \u5B9E\u4F8B\uFF0C\u5E76\u4E3A\u8FD9\u4E2A\u5B9E\u4F8B\u63D0\u4F9B\u5176\u6240\u8981\u8FDE\u63A5\u7684 B \u7AEF\u7684 IP \u5730\u5740\u548C\u7AEF\u53E3\u53F7\uFF0C\u800C\u5728 B \u7AEF\u521B\u5EFA\u53E6\u4E00\u4E2A socket \u5B9E\u4F8B\uFF0C\u5E76\u4E14\u7ED1\u5B9A\u672C\u5730\u7AEF\u53E3\u53F7\u6765\u8FDB\u884C\u76D1\u542C\u3002\u5F53 A \u548C B \u5EFA\u7ACB\u8FDE\u63A5\u540E\uFF0C\u53CC\u65B9\u5C31\u5EFA\u7ACB\u4E86\u4E00\u4E2A\u7AEF\u5BF9\u7AEF\u7684 TCP</li></ol><p><strong>\u5E94\u7528\u573A\u666F</strong></p><blockquote><p>WebSocket \u53EF\u4EE5\u505A\u5F39\u5E55\u3001\u6D88\u606F\u8BA2\u9605\u3001\u591A\u73A9\u5BB6\u6E38\u620F\u3001\u534F\u540C\u7F16\u8F91\u3001\u80A1\u7968\u57FA\u91D1\u5B9E\u65F6\u62A5\u4EF7\u3001\u89C6\u9891\u4F1A\u8BAE\u3001\u5728\u7EBF\u6559\u80B2\u3001\u804A\u5929\u5BA4\u7B49\u5E94\u7528\u5B9E\u65F6\u76D1\u542C\u670D\u52A1\u7AEF\u53D8\u5316\u3002</p></blockquote><p><strong>WebCocket \u63E1\u624B</strong></p><ul><li>WebSocket \u63E1\u624B\u8BF7\u6C42\u62A5\u6587</li></ul><div class="language-http ext-http line-numbers-mode"><pre class="language-http"><code>  GET /chat HTTP/1.1
  Host: server.example.com
  Upgrade: websocket
  Connection: Upgrade
  Sec-WebSocket-Key: x3JJHMbDL1EzLkh9GBhXDw==
  Sec-WebSocket-Protocol: chat, superchat
  Sec-WebSocket-Version: 13
  Origin: http://example.com
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>\u4E0B\u9762\u662F\u4E0E\u4F20\u7EDF HTTP \u62A5\u6587\u4E0D\u540C\u7684\u5730\u65B9\uFF1A</p></blockquote><div class="language-http ext-http line-numbers-mode"><pre class="language-http"><code>  Upgrade: websocket
  Connection: Upgrade
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u8868\u793A\u53D1\u8D77\u7684\u662F WebSocket \u534F\u8BAE</p><div class="language-http ext-http line-numbers-mode"><pre class="language-http"><code>  Sec-WebSocket-Key: x3JJHMbDL1EzLkh9GBhXDw==
  Sec-WebSocket-Protocol: chat, superchat
  Sec-WebSocket-Version: 13
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><p><code>Sec-WebSocket-Key</code> \u662F\u7531\u6D4F\u89C8\u5668\u968F\u673A\u751F\u6210\u7684\uFF0C\u9A8C\u8BC1\u662F\u5426\u53EF\u4EE5\u8FDB\u884C WebSocket \u901A\u4FE1\uFF0C\u9632\u6B62\u6076\u610F\u6216\u8005\u65E0\u610F\u7684\u8FDE\u63A5\uFF1B</p></li><li><p><code>Sec-WebSocket-Protocol</code> \u662F\u7528\u6237\u81EA\u5B9A\u4E49\u7684\u5B57\u7B26\u4E32\uFF0C\u7528\u6765\u6807\u8BC6\u670D\u52A1\u6240\u4EE5\u9700\u8981\u7684\u534F\u8BAE\uFF1B</p></li><li><p><code>Sec-WebSocket-Version</code> \u8868\u793A\u652F\u6301\u7684 WebSocket \u7248\u672C\u3002</p></li><li><p>\u670D\u52A1\u7AEF\u54CD\u5E94</p></li></ul><div class="language-http ext-http line-numbers-mode"><pre class="language-http"><code>  HTTP/1.1 101 
  Switching Protocols
  Upgrade: websocket
  Connection: Upgrade
  Sec-WebSocket-Accept: HSmrc0sMlYUkAGmm5OPpG2HaGWk=
  Sec-WebSocket-Protocol: chat
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>101 \u54CD\u5E94\u7801 \u8868\u793A\u8981\u8F6C\u6362\u534F\u8BAE\u3002</li><li><code>Connection: Upgrade</code> \u8868\u793A\u5347\u7EA7\u65B0\u534F\u8BAE\u8BF7\u6C42\u3002</li><li>Upgrade: websocket\` \u8868\u793A\u5347\u7EA7\u4E3A WebSocket \u534F\u8BAE\u3002</li><li><code>Sec-WebSocket-Accept</code> \u662F\u7ECF\u8FC7\u670D\u52A1\u5668\u786E\u8BA4\uFF0C\u5E76\u52A0\u5BC6\u8FC7\u540E\u7684 <code>Sec-WebSocket-Key</code> \uFF0C\u7528\u6765\u8BC1\u660E\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u4E4B\u95F4\u80FD\u591F\u8FDB\u884C\u901A\u4FE1\u4E86\u3002</li><li><code>Sec-WebSocket-Protocol</code> \u8868\u793A\u6700\u7EC8\u4F7F\u7528\u7684\u534F\u8BAE\u3002</li></ul><blockquote><p>\u81F3\u6B64\uFF0C\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u5668\u63E1\u624B\u6210\u529F\u5EFA\u7ACB\u4E86 WebSocket \u8FDE\u63A5\uFF0CHTTP \u5DF2\u7ECF\u5B8C\u6210\u4E86\u4ED6\u6240\u6709\u5DE5\u4F5C\uFF0C\u63A5\u4E0B\u6765\u5C31\u662F\u5B8C\u5168\u6309\u7167 WebSocket \u534F\u8BAE\u8FDB\u884C\u901A\u4FE1\u3002</p></blockquote><p><strong>WebSocket \u5FC3\u8DF3</strong></p><p>\u53EF\u80FD\u4F1A\u6709\u67D0\u4E9B\u672A\u77E5\u60C5\u51B5\u5BFC\u81F4 socket \u65AD\u5F00\uFF0C\u800C\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u5374\u4E0D\u77E5\u9053\uFF0C\u9700\u8981\u5BA2\u6237\u7AEF\u5B9A\u65F6\u53D1\u9001\u4E00\u4E2A <strong>\u5FC3\u8DF3 ping</strong> \u8BA9\u670D\u52A1\u7AEF\u77E5\u9053\u81EA\u5DF1\u5728\u7EBF\uFF0C\u670D\u52A1\u7AEF\u4E5F\u9700\u8981\u56DE\u590D\u4E00\u4E2A <strong>\u5FC3\u8DF3 pong</strong> \u544A\u8BC9\u5BA2\u6237\u7AEF\u81EA\u5DF1\u53EF\u7528\uFF0C\u5426\u5219\u89C6\u4E3A\u65AD\u5F00\u3002</p><p><strong>WebSocket \u72B6\u6001</strong></p><blockquote><p>WebSocket \u5BF9\u8C61\u4E2D\u7684 readyState \u5C5E\u6027\u6709\u56DB\u79CD\u72B6\u6001\uFF1A</p></blockquote><ul><li>0\uFF1A\u8868\u793A\u6B63\u5728\u8FDE\u63A5</li><li>1\uFF1A\u8868\u793A\u8FDE\u63A5\u6210\u529F\uFF0C\u53EF\u4EE5\u901A\u4FE1\u4E86</li><li>2\uFF1A\u8868\u793A\u8FDE\u63A5\u6B63\u5728\u5173\u95ED</li><li>3\uFF1A\u8868\u793A\u8FDE\u63A5\u5DF2\u7ECF\u5173\u95ED\uFF0C\u6216\u8005\u6253\u5F00\u8FDE\u63A5\u5931\u8D25</li></ul><p><strong>websocket\u548CHTTP\u6709\u4EC0\u4E48\u4E0D\u4E00\u6837\u5C0F\u7ED3</strong></p><ul><li>\u53CC\u5411\u901A\u4FE1</li><li>\u6570\u636E\u683C\u5F0F\u6BD4\u8F83\u8F7B\u91CF\uFF0C\u6027\u80FD\u5F00\u9500\u5C0F\uFF0C\u901A\u4FE1\u9AD8\u6548 <ul><li>\u534F\u8BAE\u63A7\u5236\u7684\u6570\u636E\u5305\u5934\u90E8\u8F83\u5C0F\uFF0C\u800C<code>HTTP</code>\u534F\u8BAE\u6BCF\u6B21\u901A\u4FE1\u90FD\u9700\u8981\u643A\u5E26\u5B8C\u6574\u7684\u5934\u90E8</li></ul></li><li>\u66F4\u597D\u7684\u4E8C\u8FDB\u5236\u652F\u6301</li><li>\u6CA1\u6709\u540C\u6E90\u9650\u5236\uFF0C\u5BA2\u6237\u7AEF\u53EF\u4EE5\u4E0E\u4EFB\u610F\u670D\u52A1\u5668\u901A\u4FE1</li><li>\u4E0E <code>HTTP</code> \u534F\u8BAE\u6709\u7740\u826F\u597D\u7684\u517C\u5BB9\u6027\u3002\u9ED8\u8BA4\u7AEF\u53E3\u4E5F\u662F<code>80</code>\u548C<code>443</code>\uFF0C\u5E76\u4E14\u63E1\u624B\u9636\u6BB5\u91C7\u7528 <code>HTTP</code> \u534F\u8BAE\uFF0C\u56E0\u6B64\u63E1\u624B\u65F6\u4E0D\u5BB9\u6613\u5C4F\u853D\uFF0C\u80FD\u901A\u8FC7\u5404\u79CD <code>HTTP</code> \u4EE3\u7406\u670D\u52A1\u5668</li></ul>`,27),f_n={id:"_8-token\u3001cookie\u3001session\u533A\u522B",tabindex:"-1"},v_n=n("a",{class:"header-anchor",href:"#_8-token\u3001cookie\u3001session\u533A\u522B","aria-hidden":"true"},"#",-1),w_n=s(),y_n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_8-token%E3%80%81cookie%E3%80%81session%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},x_n=s("#"),A_n=s("8 Token\u3001cookie\u3001Session\u533A\u522B"),B_n={id:"_8-1-cookie-\u548C-session-\u7684\u533A\u522B",tabindex:"-1"},q_n=n("a",{class:"header-anchor",href:"#_8-1-cookie-\u548C-session-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),j_n=s(),S_n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_8-1-cookie-%E5%92%8C-session-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},C_n=s("#"),D_n=s("8.1 Cookie \u548C session \u7684\u533A\u522B"),F_n=t("<blockquote><p>HTTP \u662F\u4E00\u4E2A\u65E0\u72B6\u6001\u534F\u8BAE\uFF0C\u56E0\u6B64 Cookie \u7684\u6700\u5927\u7684\u4F5C\u7528\u5C31\u662F\u5B58\u50A8 sessionId \u7528\u6765\u552F\u4E00\u6807\u8BC6\u7528 \u6237\u3002</p></blockquote><ul><li><code>cookie</code> \u6570\u636E\u5B58\u653E\u5728\u5BA2\u6237\u7684\u6D4F\u89C8\u5668\u4E0A\uFF0Csession \u6570\u636E\u653E\u5728\u670D\u52A1\u5668\u4E0A</li><li><code>cookie</code> \u4E0D\u662F\u5F88\u5B89\u5168\uFF0C\u522B\u4EBA\u53EF\u4EE5\u5206\u6790\u5B58\u653E\u5728\u672C\u5730\u7684 COOKIE \u5E76\u8FDB\u884C COOKIE \u6B3A\u9A97 \u8003\u8651\u5230\u5B89\u5168\u5E94\u5F53\u4F7F\u7528 session</li><li><code>session</code> \u4F1A\u5728\u4E00\u5B9A\u65F6\u95F4\u5185\u4FDD\u5B58\u5728\u670D\u52A1\u5668\u4E0A\u3002\u5F53\u8BBF\u95EE\u589E\u591A\uFF0C\u4F1A\u6BD4\u8F83\u5360\u7528\u4F60\u670D\u52A1\u5668\u7684\u6027\u80FD \u8003\u8651\u5230\u51CF\u8F7B\u670D\u52A1\u5668\u6027\u80FD\u65B9\u9762\uFF0C\u5E94\u5F53\u4F7F\u7528 <code>COOKIE</code></li><li>\u5355\u4E2A <code>cookie</code> \u4FDD\u5B58\u7684\u6570\u636E\u4E0D\u80FD\u8D85\u8FC7 <code>4K</code>\uFF0C\u5F88\u591A\u6D4F\u89C8\u5668\u90FD\u9650\u5236\u4E00\u4E2A\u7AD9\u70B9\u6700\u591A\u4FDD\u5B58 20 \u4E2A <code>cookie</code></li></ul>",2),P_n={id:"_8-2-cookie-\u548C-token-\u90FD\u5B58\u653E\u5728-header-\u4E2D-\u4E3A\u4EC0\u4E48\u4E0D\u4F1A\u52AB\u6301-token",tabindex:"-1"},T_n=n("a",{class:"header-anchor",href:"#_8-2-cookie-\u548C-token-\u90FD\u5B58\u653E\u5728-header-\u4E2D-\u4E3A\u4EC0\u4E48\u4E0D\u4F1A\u52AB\u6301-token","aria-hidden":"true"},"#",-1),N_n=s(),M_n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_8-2-cookie-%E5%92%8C-token-%E9%83%BD%E5%AD%98%E6%94%BE%E5%9C%A8-header-%E4%B8%AD-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E4%BC%9A%E5%8A%AB%E6%8C%81-token",target:"_blank",rel:"noopener noreferrer"},O_n=s("#"),I_n=s("8.2 cookie \u548C token \u90FD\u5B58\u653E\u5728 header \u4E2D\uFF0C\u4E3A\u4EC0\u4E48\u4E0D\u4F1A\u52AB\u6301 token\uFF1F"),R_n=n("ul",null,[n("li",null,"\u653B\u51FB\u8005\u901A\u8FC7 xss \u62FF\u5230\u7528\u6237\u7684 cookie \u7136\u540E\u5C31\u53EF\u4EE5\u4F2A\u9020 cookie \u4E86"),n("li",null,"\u6216\u8005\u901A\u8FC7 csrf \u5728\u540C\u4E2A\u6D4F\u89C8\u5668\u4E0B\u9762\u901A\u8FC7\u6D4F\u89C8\u5668\u4F1A\u81EA\u52A8\u5E26\u4E0A cookie \u7684\u7279\u6027\u5728\u901A\u8FC7 \u7528\u6237\u7F51\u7AD9-\u653B\u51FB\u8005\u7F51\u7AD9-\u653B\u51FB\u8005\u8BF7\u6C42\u7528\u6237\u7F51\u7AD9\u7684\u65B9\u5F0F \u6D4F\u89C8\u5668\u4F1A\u81EA\u52A8\u5E26\u4E0Acookie"),n("li",null,"\u4F46\u662F token\u3002\u4E0D\u4F1A\u88AB\u6D4F\u89C8\u5668\u5E26\u4E0A \u95EE\u9898 2 \u89E3\u51B3"),n("li",null,"token \u662F\u653E\u5728 jwt \u91CC\u9762\u4E0B\u53D1\u7ED9\u5BA2\u6237\u7AEF\u7684 \u800C\u4E14\u4E0D\u4E00\u5B9A\u5B58\u50A8\u5728\u54EA\u91CC \u4E0D\u80FD\u901A\u8FC7document.cookie \u76F4\u63A5\u62FF\u5230\uFF0C\u901A\u8FC7 jwt+ip \u7684\u65B9\u5F0F \u53EF\u4EE5\u9632\u6B62 \u88AB\u52AB\u6301 \u5373\u4F7F\u88AB\u52AB\u6301\u4E5F\u662F\u65E0\u6548\u7684 jwt")],-1),V_n={id:"_8-3-\u4ECB\u7ECD\u4E0B\u5982\u4F55\u5B9E\u73B0-token-\u52A0\u5BC6",tabindex:"-1"},H_n=n("a",{class:"header-anchor",href:"#_8-3-\u4ECB\u7ECD\u4E0B\u5982\u4F55\u5B9E\u73B0-token-\u52A0\u5BC6","aria-hidden":"true"},"#",-1),L_n=s(),U_n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_8-3-%E4%BB%8B%E7%BB%8D%E4%B8%8B%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0-token-%E5%8A%A0%E5%AF%86",target:"_blank",rel:"noopener noreferrer"},J_n=s("#"),W_n=s("8.3 \u4ECB\u7ECD\u4E0B\u5982\u4F55\u5B9E\u73B0 token \u52A0\u5BC6"),z_n=t("<ul><li>jwt \u4E3E\u4F8B\uFF1A <ul><li><ol><li>\u9700\u8981\u4E00\u4E2A secret\uFF08\u968F\u673A\u6570\uFF09</li></ol></li><li><ol><li>\u540E\u7AEF\u5229\u7528 secret \u548C\u52A0\u5BC6\u7B97\u6CD5(\u5982\uFF1AHMAC-SHA256)\u5BF9 payload(\u5982\u8D26\u53F7\u5BC6\u7801) \u751F\u6210\u4E00\u4E2A\u5B57\u7B26\u4E32(token)\uFF0C\u8FD4\u56DE\u524D\u7AEF</li></ol></li><li><ol><li>\u524D\u7AEF\u6BCF\u6B21 request \u5728 header \u4E2D\u5E26\u4E0A token</li></ol></li><li><ol><li>\u540E\u7AEF\u7528\u540C\u6837\u7684\u7B97\u6CD5\u89E3\u5BC6</li></ol></li></ul></li></ul>",1),G_n={id:"_9-\u4E00\u4E2A\u56FE\u7247-url-\u8BBF\u95EE\u540E\u76F4\u63A5\u4E0B\u8F7D\u600E\u6837\u5B9E\u73B0",tabindex:"-1"},$_n=n("a",{class:"header-anchor",href:"#_9-\u4E00\u4E2A\u56FE\u7247-url-\u8BBF\u95EE\u540E\u76F4\u63A5\u4E0B\u8F7D\u600E\u6837\u5B9E\u73B0","aria-hidden":"true"},"#",-1),X_n=s(),K_n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_9-%E4%B8%80%E4%B8%AA%E5%9B%BE%E7%89%87-url-%E8%AE%BF%E9%97%AE%E5%90%8E%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%E6%80%8E%E6%A0%B7%E5%AE%9E%E7%8E%B0",target:"_blank",rel:"noopener noreferrer"},Q_n=s("#"),Y_n=s("9 \u4E00\u4E2A\u56FE\u7247 url \u8BBF\u95EE\u540E\u76F4\u63A5\u4E0B\u8F7D\u600E\u6837\u5B9E\u73B0"),Z_n=n("blockquote",null,[n("p",null,"\u8BF7\u6C42\u7684\u8FD4\u56DE\u5934\u91CC\u9762\uFF0C\u7528\u4E8E\u6D4F\u89C8\u5668\u89E3\u6790\u7684\u91CD\u8981\u53C2\u6570\u5C31\u662F OSS \u7684 API \u6587\u6863\u91CC\u9762\u7684\u8FD4\u56DE http \u5934\uFF0C\u51B3\u5B9A\u7528\u6237\u4E0B\u8F7D\u884C\u4E3A\u7684\u53C2\u6570")],-1),n1n=n("p",null,"\u4E0B\u8F7D\u7684\u60C5\u51B5\u4E0B:",-1),s1n=n("ol",null,[n("li",null,[n("code",null,"x-oss-object-type: Normal")]),n("li",null,[n("code",null,"x-oss-request-id: 598D5ED34F29D01FE2925F41")]),n("li",null,[n("code",null,"x-oss-storage-class: Standard")])],-1),a1n={id:"_10-fetch-\u53D1\u9001-2-\u6B21\u8BF7\u6C42\u7684\u539F\u56E0",tabindex:"-1"},e1n=n("a",{class:"header-anchor",href:"#_10-fetch-\u53D1\u9001-2-\u6B21\u8BF7\u6C42\u7684\u539F\u56E0","aria-hidden":"true"},"#",-1),t1n=s(),p1n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_10-fetch-%E5%8F%91%E9%80%81-2-%E6%AC%A1%E8%AF%B7%E6%B1%82%E7%9A%84%E5%8E%9F%E5%9B%A0",target:"_blank",rel:"noopener noreferrer"},o1n=s("#"),c1n=s("10 fetch \u53D1\u9001 2 \u6B21\u8BF7\u6C42\u7684\u539F\u56E0"),l1n=n("blockquote",null,[n("p",null,[n("code",null,"fetch"),s(" \u53D1\u9001 "),n("code",null,"post"),s(" \u8BF7\u6C42\u7684\u65F6\u5019\uFF0C\u603B\u662F\u53D1\u9001 2 \u6B21\uFF0C\u7B2C\u4E00\u6B21\u72B6\u6001\u7801\u662F 204\uFF0C\u7B2C\u4E8C\u6B21\u624D\u6210\u529F? \u539F\u56E0\u5F88\u7B80\u5355\uFF0C\u56E0\u4E3A\u4F60\u7528 fetch \u7684 post \u8BF7\u6C42\u7684\u65F6\u5019\uFF0C\u5BFC\u81F4 "),n("code",null,"fetch"),s(" \u7B2C\u4E00\u6B21\u53D1\u9001\u4E86\u4E00\u4E2A "),n("code",null,"Options"),s(" \u8BF7\u6C42\uFF0C\u8BE2\u95EE\u670D\u52A1\u5668\u662F\u5426\u652F\u6301\u4FEE\u6539\u7684\u8BF7\u6C42\u5934\uFF0C\u5982\u679C\u670D\u52A1\u5668\u652F\u6301\uFF0C\u5219\u5728\u7B2C\u4E8C\u6B21\u4E2D\u53D1\u9001\u771F\u6B63\u7684 \u8BF7\u6C42\u3002")])],-1),r1n={id:"_11-get-\u548C-post-\u7684\u533A\u522B",tabindex:"-1"},i1n=n("a",{class:"header-anchor",href:"#_11-get-\u548C-post-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),u1n=s(),k1n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_11-get-%E5%92%8C-post-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},d1n=s("#"),b1n=s("11 GET \u548C POST \u7684\u533A\u522B"),m1n=t(`<ul><li>GET\u5728\u6D4F\u89C8\u5668\u56DE\u9000\u65F6\u662F\u65E0\u5BB3\u7684\uFF0C\u800CPOST\u4F1A\u518D\u6B21\u63D0\u4EA4\u8BF7\u6C42</li><li>GET\u8BF7\u6C42\u4F1A\u88AB\u6D4F\u89C8\u5668\u4E3B\u52A8\u7F13\u5B58\uFF0C\u800CPOST\u4E0D\u4F1A\uFF0C\u9664\u975E\u624B\u52A8\u8BBE\u7F6E</li><li>GET\u8BF7\u6C42\u53C2\u6570\u4F1A\u88AB\u5B8C\u6574\u4FDD\u7559\u5728\u6D4F\u89C8\u5668\u7684\u5386\u53F2\u8BB0\u5F55\u91CC\uFF0C\u800CPOST\u4E2D\u7684\u53C2\u6570\u4E0D\u4F1A\u88AB\u4FDD\u7559</li><li>GET\u8BF7\u6C42\u5728URL\u4E2D\u4F20\u9001\u7684\u53C2\u6570\u662F\u6709\u957F\u5EA6\u9650\u5236\u7684\uFF0C\u800CPOST\u6CA1\u6709\u9650\u5236</li><li>GET\u53C2\u6570\u901A\u8FC7URL\u4F20\u9012\uFF0CPOST\u653E\u5728Request body\u4E2D</li><li>GET\u8BF7\u6C42\u53EA\u80FD\u8FDB\u884C url \u7F16\u7801\uFF0C\u800CPOST\u652F\u6301\u591A\u79CD\u7F16\u7801\u65B9\u5F0F</li><li>GET\u4EA7\u751F\u7684URL\u5730\u5740\u53EF\u4EE5\u88AB\u6536\u85CF\uFF0C\u800CPOST\u4E0D\u53EF\u4EE5</li><li>\u5BF9\u53C2\u6570\u7684\u6570\u636E\u7C7B\u578B\uFF0CGET\u53EA\u63A5\u53D7ASCII\u5B57\u7B26\uFF0C\u800CPOST\u6CA1\u6709\u9650\u5236</li><li>GET\u6BD4POST\u66F4\u4E0D\u5B89\u5168\uFF0C\u56E0\u4E3A\u53C2\u6570\u76F4\u63A5\u66B4\u9732\u5728URL\u4E0A\uFF0C\u6240\u4EE5\u4E0D\u80FD\u7528\u6765\u4F20\u9012\u654F\u611F\u4FE1\u606F</li></ul><p><strong>\u603B\u7ED3</strong></p><ul><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>get
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>: \u7F13\u5B58\u3001\u8BF7\u6C42\u957F\u5EA6\u53D7\u9650\u3001\u4F1A\u88AB\u5386\u53F2\u4FDD\u5B58\u8BB0\u5F55</p><ul><li>\u65E0\u526F\u4F5C\u7528(\u4E0D\u4FEE\u6539\u8D44\u6E90)\uFF0C\u5E42\u7B49(\u8BF7\u6C42\u6B21\u6570\u4E0E\u8D44\u6E90\u65E0\u5173)\u7684\u573A\u666F</li></ul></li><li><p><code>post</code>: \u5B89\u5168\u3001\u5927\u6570\u636E\u3001\u66F4\u591A\u7F16\u7801\u7C7B\u578B</p></li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/09/114.png" alt="img"></p>`,4),h1n={id:"_12-301-\u548C-302-\u7684\u533A\u522B",tabindex:"-1"},_1n=n("a",{class:"header-anchor",href:"#_12-301-\u548C-302-\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),g1n=s(),E1n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_12-301-%E5%92%8C-302-%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},f1n=s("#"),v1n=s("12 301 \u548C 302 \u7684\u533A\u522B"),w1n=t("<ul><li><code>301 Moved Permanently</code> \u88AB\u8BF7\u6C42\u7684\u8D44\u6E90\u5DF2\u6C38\u4E45\u79FB\u52A8\u5230\u65B0\u4F4D\u7F6E\uFF0C\u5E76\u4E14\u5C06\u6765\u4EFB\u4F55\u5BF9\u6B64\u8D44\u6E90\u7684\u5F15 \u7528\u90FD\u5E94\u8BE5\u4F7F\u7528\u672C\u54CD\u5E94\u8FD4\u56DE\u7684\u82E5\u5E72\u4E2A URI \u4E4B\u4E00\u3002\u5982\u679C\u53EF\u80FD\uFF0C\u62E5\u6709\u94FE\u63A5\u7F16\u8F91\u529F\u80FD\u7684\u5BA2\u6237\u7AEF\u5E94 \u5F53\u81EA\u52A8\u628A\u8BF7\u6C42\u7684\u5730\u5740\u4FEE\u6539\u4E3A\u4ECE\u670D\u52A1\u5668\u53CD\u9988\u56DE\u6765\u7684\u5730\u5740\u3002\u9664\u975E\u989D\u5916\u6307\u5B9A\uFF0C\u5426\u5219\u8FD9\u4E2A\u54CD\u5E94\u4E5F \u662F\u53EF\u7F13\u5B58\u7684</li><li><code>302 Found</code> \u8BF7\u6C42\u7684\u8D44\u6E90\u73B0\u5728\u4E34\u65F6\u4ECE\u4E0D\u540C\u7684 URI \u54CD\u5E94\u8BF7\u6C42\u3002\u7531\u4E8E\u8FD9\u6837\u7684\u91CD\u5B9A\u5411\u662F\u4E34\u65F6\u7684\uFF0C \u5BA2\u6237\u7AEF\u5E94\u5F53\u7EE7\u7EED\u5411\u539F\u6709\u5730\u5740\u53D1\u9001\u4EE5\u540E\u7684\u8BF7\u6C42\u3002\u53EA\u6709\u5728 <code>Cache-Control</code> \u6216 <code>Expires</code> \u4E2D\u8FDB\u884C\u4E86 \u6307\u5B9A\u7684\u60C5\u51B5\u4E0B\uFF0C\u8FD9\u4E2A\u54CD\u5E94\u624D\u662F\u53EF\u7F13\u5B58\u7684</li><li>\u5B57\u9762\u4E0A\u7684\u533A\u522B\u5C31\u662F 301 \u662F\u6C38\u4E45\u91CD\u5B9A\u5411\uFF0C\u800C 302 \u662F\u4E34\u65F6\u91CD\u5B9A\u5411</li><li><code>301</code> \u6BD4\u8F83\u5E38\u7528\u7684\u573A\u666F\u662F\u4F7F\u7528\u57DF\u540D\u8DF3\u8F6C\u3002<code>302</code> \u7528\u6765\u505A\u4E34\u65F6\u8DF3\u8F6C \u6BD4\u5982\u672A\u767B\u9646\u7684\u7528\u6237\u8BBF\u95EE\u7528\u6237 \u4E2D\u5FC3\u91CD\u5B9A\u5411\u5230\u767B\u5F55\u9875\u9762</li></ul>",1),y1n={id:"_13-dns\u7684\u4F5C\u7528\u3001dns\u89E3\u6790\u7684\u8BE6\u7EC6\u8FC7\u7A0B-dns\u4F18\u5316\u539F\u7406",tabindex:"-1"},x1n=n("a",{class:"header-anchor",href:"#_13-dns\u7684\u4F5C\u7528\u3001dns\u89E3\u6790\u7684\u8BE6\u7EC6\u8FC7\u7A0B-dns\u4F18\u5316\u539F\u7406","aria-hidden":"true"},"#",-1),A1n=s(),B1n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_13-dns%E7%9A%84%E4%BD%9C%E7%94%A8%E3%80%81dns%E8%A7%A3%E6%9E%90%E7%9A%84%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B-dns%E4%BC%98%E5%8C%96%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},q1n=s("#"),j1n=s("13 DNS\u7684\u4F5C\u7528\u3001DNS\u89E3\u6790\u7684\u8BE6\u7EC6\u8FC7\u7A0B\uFF0CDNS\u4F18\u5316\u539F\u7406"),S1n=t("<p><strong>DNS\u67E5\u8BE2\u8FC7\u7A0B\uFF1A</strong></p><ul><li>\u68C0\u67E5\u6D4F\u89C8\u5668\u4E2D\u662F\u5426\u7F13\u5B58\u8FC7\u8BE5\u57DF\u540D\u5BF9\u5E94\u7684 IP \u5730\u5740</li><li>\u5982\u679C\u6D4F\u89C8\u5668\u7F13\u5B58\u4E2D\u6CA1\u6709\u547D\u4E2D\uFF0C\u5C06\u7EE7\u7EED\u67E5\u627E\u672C\u7EA7\uFF08\u64CD\u4F5C\u7CFB\u7EDF\uFF09\u662F\u5426\u7F13\u5B58\u8FC7\u8BE5 IP</li><li>\u5411\u672C\u5730\u57DF\u540D\u89E3\u6790\u670D\u52A1\u7CFB\u7EDF\u53D1\u8D77\u57DF\u540D\u89E3\u6790\u7684\u8BF7\u6C42\uFF08\u4E00\u822C\u662F\u672C\u5730\u8FD0\u8425\u5546\u7684\u673A\u623F\uFF09</li><li>\u5411\u6839\u57DF\u540D\u89E3\u6790\u670D\u52A1\u5668\u53D1\u8D77\u57DF\u540D\u89E3\u6790\u670D\u52A1\u8BF7\u6C42</li><li>\u6839\u57DF\u540D\u670D\u52A1\u5668\u8FD4\u56DE gTLD \u57DF\u540D\u89E3\u6790\u670D\u52A1\u5668\u5730\u5740</li><li>\u5411 gTLD \u670D\u52A1\u5668\u53D1\u8D77\u89E3\u6790\u8BF7\u6C42</li><li>gTLD \u670D\u52A1\u5668\u63A5\u6536\u8BF7\u6C42\u5E76\u8FD4\u56DE Name Server \u670D\u52A1\u5668\uFF08\u901A\u5E38\u60C5\u51B5\u4E0B\u5C31\u662F\u4F60\u6CE8\u518C\u7684\u57DF\u540D\u670D\u52A1\u5668\uFF09</li><li>Name Server \u670D\u52A1\u5668\u8FD4\u56DE IP \u5730\u5740\u7ED9\u672C\u5730\u670D\u52A1\u5668</li><li>\u672C\u5730\u670D\u52A1\u5668\u7F13\u5B58\u89E3\u6790\u7ED3\u679C</li><li>\u8FD4\u56DE\u89E3\u6790\u7ED3\u679C\u7ED9\u7528\u6237</li></ul>",2),C1n={id:"_14-\u7B80\u5355\u8BF7\u6C42\u548C\u590D\u6742\u8BF7\u6C42",tabindex:"-1"},D1n=n("a",{class:"header-anchor",href:"#_14-\u7B80\u5355\u8BF7\u6C42\u548C\u590D\u6742\u8BF7\u6C42","aria-hidden":"true"},"#",-1),F1n=s(),P1n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_14-%E7%AE%80%E5%8D%95%E8%AF%B7%E6%B1%82%E5%92%8C%E5%A4%8D%E6%9D%82%E8%AF%B7%E6%B1%82",target:"_blank",rel:"noopener noreferrer"},T1n=s("#"),N1n=s("14 \u7B80\u5355\u8BF7\u6C42\u548C\u590D\u6742\u8BF7\u6C42"),M1n=t("<ol><li><strong>\u7B80\u5355\u8BF7\u6C42</strong></li></ol><p>\u53EA\u8981\u540C\u65F6\u6EE1\u8DB3\u4EE5\u4E0B\u4E24\u5927\u6761\u4EF6\uFF0C\u5C31\u5C5E\u4E8E\u7B80\u5355\u8BF7\u6C42\uFF1A</p><p>\u4F7F\u7528\u4E0B\u5217\u65B9\u6CD5\u4E4B\u4E00\uFF1A</p><ul><li>GET</li><li>HEAD</li><li>POST</li></ul><p>Content-Type \u7684\u503C\u4EC5\u9650\u4E8E\u4EE5\u4E0B\u4E09\u8005\u4E4B\u4E00\uFF1A</p><ul><li>text / plain</li><li>multipart / form-data</li><li>application / x-www-form-urlencoded</li></ul><p>\u8BF7\u6C42\u4E2D\u7684\u4EFB\u610F XMLHttpRequestUpload \u5BF9\u8C61\u5747\u6CA1\u6709\u6CE8\u518C\u4EFB\u4F55\u4E8B\u4EF6\u76D1\u542C\u5668\uFF1B</p><p><code>XMLHttpRequestUpload</code> \u5BF9\u8C61\u53EF\u4EE5\u4F7F\u7528 XMLHttpRequest.upload \u5C5E\u6027\u8BBF\u95EE\u3002</p><ol><li><strong>\u590D\u6742\u8BF7\u6C42</strong></li></ol><blockquote><p>\u4E0D\u7B26\u5408\u4EE5\u4E0A\u6761\u4EF6\u7684\u5C31\u662F\u590D\u6742\u8BF7\u6C42\u3002\u590D\u6742\u8BF7\u6C42\u7684 CORS \u8BF7\u6C42\uFF0C\u4F1A\u5728\u6B63\u5F0F\u901A\u4FE1\u4E4B\u524D\uFF0C\u589E\u52A0\u4E00\u6B21 HTTP \u67E5\u8BE2\u8BF7\u6C42\uFF0C\u79F0\u4E3A <em>\u9884\u68C0\u8BF7\u6C42</em> \uFF0C\u8BE5\u8BF7\u6C42\u7684\u65B9\u6CD5\u662F Option\uFF0C\u901A\u8FC7\u8BE5\u8BF7\u6C42\u6765\u67E5\u8BE2\u670D\u52A1\u7AEF\u662F\u5426\u5141\u8BB8\u8DE8\u57DF\u8BF7\u6C42\u3002</p></blockquote>",10),O1n={id:"_15-http\u8BF7\u6C42\u4E2D\u7684keep-alive\u6709\u4E86\u89E3\u5417",tabindex:"-1"},I1n=n("a",{class:"header-anchor",href:"#_15-http\u8BF7\u6C42\u4E2D\u7684keep-alive\u6709\u4E86\u89E3\u5417","aria-hidden":"true"},"#",-1),R1n=s(),V1n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_15-http%E8%AF%B7%E6%B1%82%E4%B8%AD%E7%9A%84keep-alive%E6%9C%89%E4%BA%86%E8%A7%A3%E5%90%97",target:"_blank",rel:"noopener noreferrer"},H1n=s("#"),L1n=s("15 Http\u8BF7\u6C42\u4E2D\u7684keep-alive\u6709\u4E86\u89E3\u5417"),U1n=t("<ul><li>\u5728<code>http</code>\u65E9\u671F\uFF0C\u6BCF\u4E2A<code>http</code>\u8BF7\u6C42\u90FD\u8981\u6C42\u6253\u5F00\u4E00\u4E2A<code>tpc socket</code>\u8FDE\u63A5\uFF0C\u5E76\u4E14\u4F7F\u7528\u4E00\u6B21\u4E4B\u540E\u5C31\u65AD\u5F00\u8FD9\u4E2Atcp\u8FDE\u63A5- \u4F7F\u7528<code>keep-alive</code>\u53EF\u4EE5\u6539\u5584\u8FD9\u79CD\u72B6\u6001\uFF0C\u5373\u5728\u4E00\u6B21TCP\u8FDE\u63A5\u4E2D\u53EF\u4EE5\u6301\u7EED\u53D1\u9001\u591A\u4EFD\u6570\u636E\u800C\u4E0D\u4F1A\u65AD\u5F00\u8FDE\u63A5\u3002\u901A\u8FC7\u4F7F\u7528<code>keep-alive</code>\u673A\u5236\uFF0C\u53EF\u4EE5\u51CF\u5C11tcp\u8FDE\u63A5\u5EFA\u7ACB\u6B21\u6570\uFF0C\u4E5F\u610F\u5473\u7740\u53EF\u4EE5\u51CF\u5C11<code>TIME_WAIT</code>\u72B6\u6001\u8FDE\u63A5\uFF0C\u4EE5\u6B64\u63D0\u9AD8\u6027\u80FD\u548C\u63D0\u9AD8<code>httpd</code>\u670D\u52A1\u5668\u7684\u541E\u5410\u7387(\u66F4\u5C11\u7684tcp\u8FDE\u63A5\u610F\u5473\u7740\u66F4\u5C11\u7684\u7CFB\u7EDF\u5185\u6838\u8C03\u7528,<code>socket</code>\u7684<code>accept()</code>\u548C<code>close()</code>\u8C03\u7528)\u3002</li><li>\u4F46\u662F\uFF0C<code>keep-alive</code>\u5E76\u4E0D\u662F\u514D\u8D39\u7684\u5348\u9910,\u957F\u65F6\u95F4\u7684tcp\u8FDE\u63A5\u5BB9\u6613\u5BFC\u81F4\u7CFB\u7EDF\u8D44\u6E90\u65E0\u6548\u5360\u7528\u3002\u914D\u7F6E\u4E0D\u5F53\u7684<code>keep-alive</code>\uFF0C\u6709\u65F6\u6BD4\u91CD\u590D\u5229\u7528\u8FDE\u63A5\u5E26\u6765\u7684\u635F\u5931\u8FD8\u66F4\u5927\u3002\u6240\u4EE5\uFF0C\u6B63\u786E\u5730\u8BBE\u7F6E<code>keep-alive timeout</code>\u65F6\u95F4\u975E\u5E38\u91CD\u8981</li></ul>",1),J1n={id:"_16-\u7BA1\u9053\u673A\u5236\u7684\u4F5C\u7528\u662F\u4EC0\u4E48",tabindex:"-1"},W1n=n("a",{class:"header-anchor",href:"#_16-\u7BA1\u9053\u673A\u5236\u7684\u4F5C\u7528\u662F\u4EC0\u4E48","aria-hidden":"true"},"#",-1),z1n=s(),G1n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_16-%E7%AE%A1%E9%81%93%E6%9C%BA%E5%88%B6%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},$1n=s("#"),X1n=s("16 \u7BA1\u9053\u673A\u5236\u7684\u4F5C\u7528\u662F\u4EC0\u4E48"),K1n=n("ul",null,[n("li",null,"\u5982\u679C\u6D4F\u89C8\u5668\u8981\u5411\u4E00\u4E2A\u57DF\u540D\u53D1\u9001\u591A\u4E2A\u8BF7\u6C42\uFF0C\u9700\u8981\u5728\u672C\u5730\u7EF4\u62A4\u4E00\u4E2AFIFO\u961F\u5217\uFF0C\u5B8C\u6210\u4E86\u4E00\u4E2A\u518D\u53D1\u9001\u4E0B\u4E00\u4E2A\uFF0C\u8FD9\u6837\u5C31\u5B58\u5728\u4E00\u4E2A\u95EE\u9898\uFF0C\u670D\u52A1\u7AEF\u4ECE\u5B8C\u6210\u4E00\u4E2A\u8BF7\u6C42\u5F00\u59CB\u56DE\u4F20\uFF0C\u5230\u6536\u5230\u4E0B\u4E00\u4E2A\u8BF7\u6C42\u7684\u8FD9\u6BB5\u65F6\u95F4\u5185\u662F\u5904\u4E8E\u7A7A\u95F2\u72B6\u6001\u7684\u3002"),n("li",null,"\u4E8E\u662F\u63D0\u51FA\u4E86\u7BA1\u9053\u673A\u5236\uFF0C\u8BD5\u56FE\u5C06\u6D4F\u89C8\u5668\u7684\u8BF7\u6C42\u4E00\u80A1\u8111\u7684\u6253\u5305\u53D1\u7ED9\u670D\u52A1\u5668\uFF0C\u670D\u52A1\u5668\u5C31\u53EF\u4EE5\u5728\u51FA\u5F00\u5B8C\u4E00\u4E2A\u8BF7\u6C42\u540E\uFF0C\u9A6C\u4E0A\u5904\u7406\u4E0B\u4E00\u4E2A\uFF0C\u4E0D\u4F1A\u5728\u4E4B\u524D\u8BF4\u7684\u7A7A\u95F2\u65F6\u95F4\u3002")],-1),Q1n=n("p",null,[n("strong",null,"\u7BA1\u9053\u673A\u5236\u5B58\u5728\u54EA\u4E9B\u95EE\u9898\uFF1F")],-1),Y1n=n("ul",null,[n("li",null,"\u670D\u52A1\u7AEF\u6536\u5230\u591A\u4E2A\u7BA1\u9053\u8BF7\u6C42\u540E\uFF0C\u9700\u8981\u6309\u7167\u63A5\u6536\u987A\u5E8F\u9010\u4E2A\u54CD\u5E94\u3002\u5982\u679C\u7B2C\u4E00\u4E2A\u8BF7\u6C42\u5904\u7406\u7279\u522B\u6162\uFF0C\u540E\u7EED\u7684\u54CD\u5E94\u7684\u90FD\u4F1A\u88AB\u963B\u585E\u7740\uFF0C\u8FD9\u79CD\u60C5\u51B5\u79F0\u4E3A\u300C\u961F\u9996\u963B\u585E\u300D\u3002"),n("li",null,"\u670D\u52A1\u7AEF\u4E3A\u4E86\u4FDD\u8BC1\u6309\u987A\u5E8F\u56DE\u4F20\uFF0C\u901A\u5E38\u9700\u8981\u7F13\u5B58\u591A\u4E2A\u54CD\u5E94\uFF0C\u4ECE\u800C\u5360\u7528\u66F4\u591A\u7684\u670D\u52A1\u7AEF\u8D44\u6E90\uFF0C\u4E5F\u66F4\u5BB9\u6613\u88AB\u653B\u51FB"),n("li",null,"\u6D4F\u89C8\u5668\u8FDE\u7EED\u53D1\u9001\u591A\u4E2A\u8BF7\u6C42\u540E\uFF0C\u7B49\u5F85\u54CD\u5E94\u7684\u8FD9\u6BB5\u65F6\u95F4\uFF0C\u5982\u679C\u9047\u5230\u7F51\u7EDC\u5F02\u5E38\u5BFC\u81F4\u8FDE\u63A5\u65AD\u5F00\uFF0C\u65E0\u6CD5\u5F97\u77E5\u670D\u52A1\u5668\u5904\u7406\u60C5\u51B5\uFF0C\u5982\u679C\u5168\u90E8\u91CD\u8BD5\uFF0C\u53EF\u80FD\u4F1A\u5728\u670D\u52A1\u7AEF\u91CD\u590D\u5904\u7406\u3002"),n("li",null,"\u670D\u52A1\u7AEF\u548C\u6D4F\u89C8\u5668\u4E2D\u95F4\u7684\u4EE3\u7406\u8BBE\u5907\u4E0D\u4E00\u5B9A\u652F\u6301http\u7BA1\u9053\uFF0C\u8FD9\u7ED9\u7BA1\u9053\u6280\u672F\u7684\u666E\u53CA\u5E26\u6765\u4E86\u66F4\u591A\u590D\u6742\u6027")],-1),Z1n={id:"_17-\u4EC0\u4E48\u60C5\u51B5\u4E0B\u4F1A\u89E6\u53D1option\u8BF7\u6C42",tabindex:"-1"},ngn=n("a",{class:"header-anchor",href:"#_17-\u4EC0\u4E48\u60C5\u51B5\u4E0B\u4F1A\u89E6\u53D1option\u8BF7\u6C42","aria-hidden":"true"},"#",-1),sgn=s(),agn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_17-%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E4%BC%9A%E8%A7%A6%E5%8F%91option%E8%AF%B7%E6%B1%82",target:"_blank",rel:"noopener noreferrer"},egn=s("#"),tgn=s("17 \u4EC0\u4E48\u60C5\u51B5\u4E0B\u4F1A\u89E6\u53D1option\u8BF7\u6C42"),pgn=t(`<blockquote><p>options \u901A\u5E38\u7528\u4E8E\uFF0C\u5728\u8DE8\u57DF\u8BF7\u6C42\u524D\u53D1\u8D77\u9884\u68C0\u8BF7\u6C42\uFF0C\u4EE5\u68C0\u6D4B\u8BF7\u6C42\u662F\u5426\u88AB\u670D\u52A1\u5668\u63A5\u53D7\u3002</p></blockquote><blockquote><p>\u8DE8\u57DF\u8BF7\u6C42\u4E2D\u5206\u4E3A\u7B80\u5355\u8BF7\u6C42\u548C\u9884\u68C0\u8BF7\u6C42\u4E24\u79CD\uFF0C\u7B26\u5408\u4EE5\u4E0B\u6761\u4EF6\u53EF\u89C6\u4E3A\u7B80\u5355\u8BF7\u6C42</p></blockquote><ul><li>\u4F7F\u7528\u7684 <code>HTTP method</code> \u662F <code>GET</code> <code>POST</code> <code>HEAD</code></li><li><code>content-type</code> \u662F <code>text/plain mutipart/form-data application/x-www-form-urlencode</code> \u4E09\u79CD\u4E4B\u4E00</li><li>\u8BF7\u6C42\u5934\u53EA\u80FD\u5305\u542B\u8FD9\u4E9B</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>- Accept
- Accept-Language
- Content-Language
- Content-Type \uFF08\u9700\u8981\u6CE8\u610F\u989D\u5916\u7684\u9650\u5236\uFF09
- DPR
- Downlink
- Save-Data
- Viewport-Width
- Width
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u9664\u53BB\u7B80\u5355\u8BF7\u6C42\u5916\uFF0C\u5176\u4ED6\u8BF7\u6C42\u5C31\u4F1A\u5148\u89E6\u53D1\u9884\u68C0\u8BF7\u6C42\u3002</p><p>\u5E38\u89C1\u7684\uFF0C\u6BD4\u5982\u4F7F\u7528</p><ul><li><code>content-Type</code> \u4E3A <code>application/xml</code> \u6216 <code>text/xml</code> \u7684 <code>POST</code> \u8BF7\u6C42</li><li>\u8BBE\u7F6E\u81EA\u5B9A\u4E49\u5934\uFF0C\u6BD4\u5982 <code>X-JSON</code>\u3001<code>X-MENGXIANHUI</code> \u7B49</li></ul><p><strong>\u9884\u68C0\u8BF7\u6C42\u8FD4\u56DE\u7684\u5934\u90E8\u62A5\u6587\u4E2D\u6709</strong></p><ul><li><code>Access-Control-Allow-Origin</code>\uFF1A \u670D\u52A1\u5668\u53EF\u63A5\u53D7\u7684\u8BF7\u6C42\u6765\u6E90</li><li><code>Access-Control-Request-Method</code>\uFF1A \u670D\u52A1\u5668\u5B9E\u9645\u8BF7\u6C42\u6240\u4F7F\u7528\u7684 HTTP \u65B9\u6CD5</li><li><code>Access-Control-Request-Headers</code>\uFF1A \u670D\u52A1\u5668\u5B9E\u9645\u8BF7\u6C42\u6240\u643A\u5E26\u7684\u81EA\u5B9A\u4E49\u9996\u90E8\u5B57\u6BB5</li></ul>`,9),ogn={id:"_18-get\u53EF\u4EE5\u4E0A\u4F20\u56FE\u7247\u5417",tabindex:"-1"},cgn=n("a",{class:"header-anchor",href:"#_18-get\u53EF\u4EE5\u4E0A\u4F20\u56FE\u7247\u5417","aria-hidden":"true"},"#",-1),lgn=s(),rgn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_18-get%E5%8F%AF%E4%BB%A5%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%E5%90%97",target:"_blank",rel:"noopener noreferrer"},ign=s("#"),ugn=s("18 GET\u53EF\u4EE5\u4E0A\u4F20\u56FE\u7247\u5417"),kgn=n("blockquote",null,[n("p",null,"GET \u8BF7\u6C42\u662F\u53EF\u4EE5\u4F20\u56FE\u7247\u7684\u3002\u56FE\u7247\u7684base64\u7F16\u7801\u60F3\u5FC5\u5927\u5BB6\u90FD\u89C1\u8FC7\uFF1Abase64 \u7684\u672C\u8D28\u662F\u5B57\u7B26\u4E32\uFF0C\u800C GET \u8BF7\u6C42\u7684\u53C2\u6570\u5728 url \u91CC\u9762\uFF0C\u6240\u4EE5\u76F4\u63A5\u628A\u56FE\u7684 base64 \u6570\u636E\u653E\u5230 url \u91CC\u9762\uFF0C\u5C31\u53EF\u4EE5\u5B9E\u73B0 GET \u8BF7\u6C42\u4F20\u56FE\u7247")],-1),dgn=n("p",null,[n("img",{src:"http://img-repo.poetries.top/images/20210319105457.png",alt:"img"})],-1),bgn={id:"_19-cdn\u7684\u4F5C\u7528\u548C\u539F\u7406",tabindex:"-1"},mgn=n("a",{class:"header-anchor",href:"#_19-cdn\u7684\u4F5C\u7528\u548C\u539F\u7406","aria-hidden":"true"},"#",-1),hgn=s(),_gn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_19-cdn%E7%9A%84%E4%BD%9C%E7%94%A8%E5%92%8C%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},ggn=s("#"),Egn=s("19 CDN\u7684\u4F5C\u7528\u548C\u539F\u7406"),fgn=n("blockquote",null,[n("p",null,"CDN\u7684\u57FA\u672C\u539F\u7406\u662F\u5E7F\u6CDB\u91C7\u7528\u5404\u79CD\u7F13\u5B58\u670D\u52A1\u5668\uFF0C\u5C06\u8FD9\u4E9B\u7F13\u5B58\u670D\u52A1\u5668\u5206\u5E03\u5230\u7528\u6237\u8BBF\u95EE\u76F8\u5BF9\u96C6\u4E2D\u7684\u5730\u533A\u6216\u8005\u7F51\u7EDC\u4E2D\uFF0C\u5728\u7528\u6237\u8BBF\u95EE\u7F51\u7AD9\u7684\u65F6\u5019\uFF0C\u5C06\u5176\u6307\u5411\u8DDD\u79BB\u6700\u8FD1\u7684\u5DE5\u4F5C\u6B63\u5E38\u7684\u7F13\u5B58\u670D\u52A1\u5668\u4E0A\uFF0C\u7531\u7F13\u5B58\u670D\u52A1\u5668\u76F4\u63A5\u54CD\u5E94\u7528\u6237\u8BF7\u6C42\u3002")],-1),vgn=n("p",null,[n("strong",null,"\u4E3B\u8981\u7279\u70B9\uFF1A")],-1),wgn=n("li",null,"\u672C\u5730Cache\u52A0\u901F\uFF1A\u63D0\u9AD8\u4E86\u4F01\u4E1A\u7AD9\u70B9\uFF08\u5C24\u5176\u542B\u6709\u5927\u91CF\u56FE\u7247\u548C\u9759\u6001\u9875\u9762\u7AD9\u70B9\uFF09\u7684\u8BBF\u95EE\u901F\u5EA6\uFF0C\u5E76\u5927\u5927\u63D0\u9AD8\u4EE5\u4E0A\u6027\u8D28\u7AD9\u70B9\u7684\u7A33\u5B9A\u6027\u3002",-1),ygn=n("li",null,"\u955C\u50CF\u670D\u52A1\uFF1A\u6D88\u9664\u4E86\u4E0D\u540C\u8FD0\u8425\u5546\u4E4B\u95F4\u4E92\u8054\u7684\u74F6\u9888\u9020\u6210\u7684\u5F71\u54CD\uFF0C\u5B9E\u73B0\u4E86\u8DE8\u8FD0\u8425\u5546\u7684\u7F51\u7EDC\u52A0\u901F\uFF0C\u4FDD\u8BC1\u4E0D\u540C\u7F51\u7EDC\u4E2D\u7684\u7528\u6237\u90FD\u80FD\u5F97\u5230\u826F\u597D\u7684\u8BBF\u95EE\u8D28\u91CF\u3002",-1),xgn=s("\u8FDC\u7A0B\u52A0\u901F\uFF1A"),Agn={href:"https://baike.baidu.com/item/%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE",target:"_blank",rel:"noopener noreferrer"},Bgn=s("\u8FDC\u7A0B\u8BBF\u95EE (opens new window)"),qgn=s("\u7528\u6237\u6839\u636EDNS"),jgn={href:"https://baike.baidu.com/item/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1",target:"_blank",rel:"noopener noreferrer"},Sgn=s("\u8D1F\u8F7D\u5747\u8861 (opens new window)"),Cgn=s("\u6280\u672F\u667A\u80FD\u81EA\u52A8\u9009\u62E9Cache"),Dgn={href:"https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8",target:"_blank",rel:"noopener noreferrer"},Fgn=s("\u670D\u52A1\u5668 (opens new window)"),Pgn=s("\uFF0C\u9009\u62E9\u6700\u5FEB\u7684Cache\u670D\u52A1\u5668\uFF0C\u52A0\u5FEB\u8FDC\u7A0B\u8BBF\u95EE\u7684\u901F\u5EA6\u3002"),Tgn=s("\u5E26\u5BBD\u4F18\u5316\uFF1A\u81EA\u52A8\u751F\u6210"),Ngn={href:"https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8",target:"_blank",rel:"noopener noreferrer"},Mgn=s("\u670D\u52A1\u5668 (opens new window)"),Ogn=s("\u7684\u8FDC\u7A0BMirror\uFF08"),Ign={href:"https://baike.baidu.com/item/%E9%95%9C%E5%83%8F",target:"_blank",rel:"noopener noreferrer"},Rgn=s("\u955C\u50CF (opens new window)"),Vgn=s("\uFF09cache\u670D\u52A1\u5668\uFF0C"),Hgn={href:"https://baike.baidu.com/item/%E8%BF%9C%E7%A8%8B%E7%94%A8%E6%88%B7",target:"_blank",rel:"noopener noreferrer"},Lgn=s("\u8FDC\u7A0B\u7528\u6237 (opens new window)"),Ugn=s("\u8BBF\u95EE\u65F6\u4ECEcache\u670D\u52A1\u5668\u4E0A\u8BFB\u53D6\u6570\u636E\uFF0C\u51CF\u5C11"),Jgn={href:"https://baike.baidu.com/item/%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE",target:"_blank",rel:"noopener noreferrer"},Wgn=s("\u8FDC\u7A0B\u8BBF\u95EE (opens new window)"),zgn=s("\u7684\u5E26\u5BBD\u3001\u5206\u62C5\u7F51\u7EDC\u6D41\u91CF\u3001\u51CF\u8F7B\u539F\u7AD9\u70B9"),Ggn={href:"https://baike.baidu.com/item/WEB%E6%9C%8D%E5%8A%A1%E5%99%A8",target:"_blank",rel:"noopener noreferrer"},$gn=s("WEB\u670D\u52A1\u5668 (opens new window)"),Xgn=s("\u8D1F\u8F7D\u7B49\u529F\u80FD\u3002"),Kgn=s("\u96C6\u7FA4\u6297\u653B\u51FB\uFF1A\u5E7F\u6CDB\u5206\u5E03\u7684CDN\u8282\u70B9\u52A0\u4E0A\u8282\u70B9\u4E4B\u95F4\u7684\u667A\u80FD"),Qgn={href:"https://baike.baidu.com/item/%E5%86%97%E4%BD%99",target:"_blank",rel:"noopener noreferrer"},Ygn=s("\u5197\u4F59 (opens new window)"),Zgn=s("\u673A\u5236\uFF0C\u53EF\u4EE5\u6709\u6548\u5730\u9884\u9632"),n8n={href:"https://baike.baidu.com/item/%E9%BB%91%E5%AE%A2",target:"_blank",rel:"noopener noreferrer"},s8n=s("\u9ED1\u5BA2 (opens new window)"),a8n=s("\u5165\u4FB5\u4EE5\u53CA\u964D\u4F4E\u5404\u79CDD.D.o.S\u653B\u51FB\u5BF9\u7F51\u7AD9\u7684\u5F71\u54CD\uFF0C\u540C\u65F6\u4FDD\u8BC1\u8F83\u597D\u7684\u670D\u52A1\u8D28\u91CF \u3002"),e8n=t("<p><strong>CDN\u4F5C\u7528</strong></p><blockquote><p>\u4F7F\u7528\u6237\u5C31\u8FD1\u83B7\u53D6\u6240\u9700\u5185\u5BB9\uFF0C\u964D\u4F4E\u7F51\u7EDC\u62E5\u585E\uFF0C\u63D0\u9AD8\u7528\u6237\u8BBF\u95EE\u54CD\u5E94\u901F\u5EA6\u548C\u547D\u4E2D\u7387</p></blockquote><p><strong>CDN\u539F\u7406</strong></p><p>\u6700\u7B80\u5355\u7684<code>CDN</code>\u7F51\u7EDC\u7531\u4E00\u4E2ADNS\u670D\u52A1\u5668\u548C\u51E0\u53F0\u7F13\u5B58\u670D\u52A1\u5668\u7EC4\u6210\u3002\u800C\u5DE5\u4F5C\u7684\u6838\u5FC3\u5C31\u662F\u7F13\u5B58\u670D\u52A1\u5668\uFF0C\u5B83\u8BB0\u5F55\u4E86\u7528\u6237\u6240\u9700\u5185\u5BB9\uFF0C\u800C\u4E14\u79BB\u7528\u6237\u8F83\u8FD1\uFF0C\u8D1F\u8F7D\u8F83\u5C0F\uFF0C\u56E0\u6B64\u63D0\u9AD8\u4E86\u670D\u52A1\u5668\u54CD\u5E94\u901F\u5EA6\u3002</p><blockquote><p>\u5B9E\u9645\u4E0A<code>CDN</code>\u7684\u5DE5\u4F5C\u8FC7\u7A0B\u8981\u66F4\u590D\u6742\uFF0C\u4E3A\u4E86\u4FBF\u4E8E\u7406\u89E3\uFF0C\u4E0A\u9762\u53EA\u662F\u7B80\u8FF0\u3002\u6211\u4EEC\u4ECE\u7528\u6237\u8BBF\u95EE\u4E00\u4E2A<code>URL</code>\u5730\u5740\u8BF4\u8D77\uFF1A<code>\u8BBF\u95EEURL</code> =&gt; <code>CNAME\u6307\u5411\u7684CDN\u4E13\u7528DNS\u670D\u52A1\u5668\u5BF9URL\u89E3\u6790</code> =&gt; <code>\u8D1F\u8F7D\u5747\u8861\u8BBE\u5907\u6839\u636E\u89E3\u6790\u7684ip\u5730\u5740\u548C\u5185\u5BB9\u9009\u62E9\u4E00\u53F0\u7F13\u5B58\u670D\u52A1\u5668</code> =&gt; <code>\u8FD4\u56DE\u7F13\u5B58\u670D\u52A1\u5668ip\u5730\u5740\u7ED9\u7528\u6237</code></p></blockquote>",5),t8n={id:"\u5982\u4F55\u6355\u83B7cdn\u4E0A\u7684js\u8FD0\u884C\u65F6\u5BFC\u81F4\u7684\u8BE6\u7EC6\u9519\u8BEF\u4FE1\u606F",tabindex:"-1"},p8n=n("a",{class:"header-anchor",href:"#\u5982\u4F55\u6355\u83B7cdn\u4E0A\u7684js\u8FD0\u884C\u65F6\u5BFC\u81F4\u7684\u8BE6\u7EC6\u9519\u8BEF\u4FE1\u606F","aria-hidden":"true"},"#",-1),o8n=s(),c8n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#%E5%A6%82%E4%BD%95%E6%8D%95%E8%8E%B7cdn%E4%B8%8A%E7%9A%84js%E8%BF%90%E8%A1%8C%E6%97%B6%E5%AF%BC%E8%87%B4%E7%9A%84%E8%AF%A6%E7%BB%86%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF",target:"_blank",rel:"noopener noreferrer"},l8n=s("#"),r8n=s("\u5982\u4F55\u6355\u83B7CDN\u4E0A\u7684js\u8FD0\u884C\u65F6\u5BFC\u81F4\u7684\u8BE6\u7EC6\u9519\u8BEF\u4FE1\u606F\uFF1F"),i8n=t(`<blockquote><p>\u5F53 CDN \u8BBE\u7F6E\u4E86 <code>Access-Control-Allow-Origin</code> \u54CD\u5E94\u5934\u5141\u8BB8\u8DE8\u57DF\u65F6\uFF0C\u6211\u4EEC\u53EF\u4EE5\u7ED9script\u6807\u7B7E\u6DFB\u52A0crossOrigin\u5C5E\u6027\uFF0C\u4ECE\u800C\u53EF\u4EE5\u4F7F\u7528 window.onerror \u6355\u83B7 CDN \u4E0A\u7684 js \u8FD0\u884C\u65F6\u5BFC\u81F4\u7684\u8BE6\u7EC6\u9519\u8BEF\u4FE1\u606F\uFF0C\u5305\u62EC\u5806\u6808\u7B49\u3002</p></blockquote><ul><li>\u5982\u679C\u4E0D\u8BBE\u7F6E<code>crossOrigin</code>\u5C5E\u6027\uFF0C\u5219\u53EF\u80FD\u53EA\u4F1A\u6355\u83B7\u5230script error\uFF0C\u65E0\u6CD5\u83B7\u53D6\u989D\u5916\u7684\u5806\u6808\u4FE1\u606F\u3002</li><li><code>crossOrigin</code>\u5C5E\u6027\u7684\u503C\u9ED8\u8BA4\u4E3A<code>anonymous</code>\uFF0C\u5373\u4E0D\u643A\u5E26 cookie\uFF0C\u5982\u679C\u8BBE\u7F6E\u4E3Ause-credentials\uFF0C\u5219\u4F1A\u643A\u5E26 cookie \u548C\u5BA2\u6237\u7AEF\u8BC1\u4E66\u7B49\u7968\u636E\u3002</li></ul><p>\u4F8B\u5982\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://qq.com/a.js&quot;</span> crossOrigin<span class="token operator">=</span><span class="token string">&quot;anonymous&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,4),u8n={id:"_20-\u5F3A\u7F13\u5B58\u547D\u4E2D\u53D1\u751F\u4E86\u4EC0\u4E48",tabindex:"-1"},k8n=n("a",{class:"header-anchor",href:"#_20-\u5F3A\u7F13\u5B58\u547D\u4E2D\u53D1\u751F\u4E86\u4EC0\u4E48","aria-hidden":"true"},"#",-1),d8n=s(),b8n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_20-%E5%BC%BA%E7%BC%93%E5%AD%98%E5%91%BD%E4%B8%AD%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},m8n=s("#"),h8n=s("20 \u5F3A\u7F13\u5B58\u547D\u4E2D\u53D1\u751F\u4E86\u4EC0\u4E48\uFF1F"),_8n=n("p",null,[s("\u5F53\u6D4F\u89C8\u5668\u8981\u5411\u670D\u52A1\u5668\u83B7\u53D6\u67D0\u4E2A\u8D44\u6E90\u7684\u65F6\u5019\uFF0C\u662F\u4F1A\u5148\u6784\u5EFA\u4E00\u4E2A\u8BF7\u6C42\u884C\uFF0C\u7136\u540E\u8FDB\u884C\u5F3A\u7F13\u5B58\u7684\u67E5\u627E\u3002\u5982\u679C\u5F3A\u7F13\u5B58\u547D\u4E2D\u4E86\u6B64\u6B21\u5B9E\u9645\u4E0A\u662F\u6CA1\u6709\u53D1\u9001\u8BF7\u6C42\u7684\uFF0C\u6D4F\u89C8\u5668\u76F4\u63A5\u4F7F\u7528\u4E86\u5F3A\u7F13\u5B58\uFF0C\u5728\u6D4F\u89C8\u5668\u63A7\u5236\u53F0\u4E2D\u867D\u7136\u4F1A\u770B\u5230\u4E00\u4E2A\u8BF7\u6C42\uFF0C\u4F46\u662F\u8FD9\u4E2A\u8BF7\u6C42\u7684"),n("code",null,"Request Headers"),s("\u4E2D\u6709"),n("code",null,"Provisional headers are shown"),s("\u8868\u793A\u5B9E\u9645\u672A\u53D1\u9001\u8BF7\u6C42\uFF0C\u4E14\u72B6\u6001\u7801\u4E3A"),n("code",null,"200 OK (from memory cache)"),s("\u6216\u8005"),n("code",null,"from disk cache"),s("\u7B49\u7B49\u3002")],-1),g8n=n("p",null,"\u5982\u4E0B\u56FE\uFF1A",-1),E8n=n("p",null,[n("img",{src:"https://poetries1.gitee.io/img-repo/2020/09/1.png",alt:"img"})],-1),f8n={id:"\u9ED8\u8BA4\u7684\u5F3A\u5236\u7F13\u5B58\u65F6\u95F4\u662F\u591A\u5C11",tabindex:"-1"},v8n=n("a",{class:"header-anchor",href:"#\u9ED8\u8BA4\u7684\u5F3A\u5236\u7F13\u5B58\u65F6\u95F4\u662F\u591A\u5C11","aria-hidden":"true"},"#",-1),w8n=s(),y8n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#%E9%BB%98%E8%AE%A4%E7%9A%84%E5%BC%BA%E5%88%B6%E7%BC%93%E5%AD%98%E6%97%B6%E9%97%B4%E6%98%AF%E5%A4%9A%E5%B0%91",target:"_blank",rel:"noopener noreferrer"},x8n=s("#"),A8n=s("\u9ED8\u8BA4\u7684\u5F3A\u5236\u7F13\u5B58\u65F6\u95F4\u662F\u591A\u5C11\uFF1F"),B8n=t(`<p>\u9996\u5148\u8981\u660E\u786E\u4E24\u4E2A\u54CD\u5E94\u5934\u4EE3\u8868\u7684\u542B\u4E49\uFF1A</p><ol><li><code>Date</code>: \u6307\u6E90\u670D\u52A1\u5668\u54CD\u5E94\u62A5\u6587\u751F\u6210\u7684\u65F6\u95F4\uFF0C\u5DEE\u4E0D\u591A\u4E0E\u53D1\u8BF7\u6C42\u7684\u65F6\u95F4\u7B49\u4EF7</li><li><code>Last-Modified</code>: \u6307\u9759\u6001\u8D44\u6E90\u4E0A\u6B21\u4FEE\u6539\u7684\u65F6\u95F4\uFF0C\u53D6\u51B3\u4E8E <code>mtime</code></li></ol><p><code>LM factor</code> \u7B97\u6CD5\u8BA4\u4E3A\u5F53\u8BF7\u6C42\u670D\u52A1\u5668\u65F6\uFF0C\u5982\u679C\u6CA1\u6709\u8BBE\u7F6E <code>Cache-Control</code>\uFF0C\u5982\u679C\u8DDD\u79BB\u4E0A\u6B21\u7684 <code>Last-Modified</code> \u8D8A\u8FDC\uFF0C\u5219\u751F\u6210\u7684\u5F3A\u5236\u7F13\u5B58\u65F6\u95F4\u8D8A\u957F\u3002</p><p>\u7528\u516C\u5F0F\u8868\u793A\u5982\u4E0B\uFF0C\u5176\u4E2D <code>factor</code> \u4ECB\u4E8E 0 \u4E0E 1 \u4E4B\u95F4\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>MaxAge <span class="token operator">=</span> <span class="token punctuation">(</span>Date <span class="token operator">-</span> LastModified<span class="token punctuation">)</span> <span class="token operator">*</span> factor
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,5),q8n={id:"_21-cors\u8DE8\u57DF\u7684\u539F\u7406",tabindex:"-1"},j8n=n("a",{class:"header-anchor",href:"#_21-cors\u8DE8\u57DF\u7684\u539F\u7406","aria-hidden":"true"},"#",-1),S8n=s(),C8n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_21-cors%E8%B7%A8%E5%9F%9F%E7%9A%84%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},D8n=s("#"),F8n=s("21 CORS\u8DE8\u57DF\u7684\u539F\u7406"),P8n=t("<blockquote><p>\u8DE8\u57DF\u8D44\u6E90\u5171\u4EAB(<code>CORS</code>)\u662F\u4E00\u79CD\u673A\u5236\uFF0C\u662FW3C\u6807\u51C6\u3002\u5B83\u5141\u8BB8\u6D4F\u89C8\u5668\u5411\u8DE8\u6E90\u670D\u52A1\u5668\uFF0C\u53D1\u51FA<code>XMLHttpRequest</code>\u6216<code>Fetch</code>\u8BF7\u6C42\u3002\u5E76\u4E14\u6574\u4E2A<code>CORS</code>\u901A\u4FE1\u8FC7\u7A0B\u90FD\u662F\u6D4F\u89C8\u5668\u81EA\u52A8\u5B8C\u6210\u7684\uFF0C\u4E0D\u9700\u8981\u7528\u6237\u53C2\u4E0E\u3002</p></blockquote><p>\u800C\u4F7F\u7528\u8FD9\u79CD<code>\u8DE8\u57DF\u8D44\u6E90\u5171\u4EAB</code>\u7684\u524D\u63D0\u662F\uFF0C\u6D4F\u89C8\u5668\u5FC5\u987B\u652F\u6301\u8FD9\u4E2A\u529F\u80FD\uFF0C\u5E76\u4E14\u670D\u52A1\u5668\u7AEF\u4E5F\u5FC5\u987B\u540C\u610F\u8FD9\u79CD<code>&quot;\u8DE8\u57DF&quot;</code>\u8BF7\u6C42\u3002\u56E0\u6B64\u5B9E\u73B0<code>CORS</code>\u7684\u5173\u952E\u662F\u670D\u52A1\u5668\u9700\u8981\u670D\u52A1\u5668\u3002\u901A\u5E38\u662F\u6709\u4EE5\u4E0B\u51E0\u4E2A\u914D\u7F6E\uFF1A</p><ul><li><strong>Access-Control-Allow-Origin</strong></li><li><strong>Access-Control-Allow-Methods</strong></li><li><strong>Access-Control-Allow-Headers</strong></li><li><strong>Access-Control-Allow-Credentials</strong></li><li><strong>Access-Control-Max-Age</strong></li></ul><p>\u5177\u4F53\u53EF\u770B\uFF1Ahttps://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS#Preflighted_requests</p><p>\u8FC7\u7A0B\u5206\u6790\uFF1A</p><p><strong>\u7B80\u5355\u56DE\u7B54</strong>\uFF1A</p><ul><li>\u5F53\u6211\u4EEC\u53D1\u8D77\u8DE8\u57DF\u8BF7\u6C42\u65F6\uFF0C<strong>\u5982\u679C\u662F\u975E\u7B80\u5355\u8BF7\u6C42</strong>\uFF0C\u6D4F\u89C8\u5668\u4F1A\u5E2E\u6211\u4EEC\u81EA\u52A8\u89E6\u53D1\u9884\u68C0\u8BF7\u6C42\uFF0C\u4E5F\u5C31\u662F OPTIONS \u8BF7\u6C42\uFF0C\u7528\u4E8E\u786E\u8BA4\u76EE\u6807\u8D44\u6E90\u662F\u5426\u652F\u6301\u8DE8\u57DF\u3002<strong>\u5982\u679C\u662F\u7B80\u5355\u8BF7\u6C42\uFF0C\u5219\u4E0D\u4F1A\u89E6\u53D1\u9884\u68C0\uFF0C\u76F4\u63A5\u53D1\u51FA\u6B63\u5E38\u8BF7\u6C42\u3002</strong></li><li>\u6D4F\u89C8\u5668\u4F1A\u6839\u636E\u670D\u52A1\u7AEF\u54CD\u5E94\u7684 header \u81EA\u52A8\u5904\u7406\u5269\u4F59\u7684\u8BF7\u6C42\uFF0C\u5982\u679C\u54CD\u5E94\u652F\u6301\u8DE8\u57DF\uFF0C\u5219\u7EE7\u7EED\u53D1\u51FA\u6B63\u5E38\u8BF7\u6C42\uFF0C\u5982\u679C\u4E0D\u652F\u6301\uFF0C\u5219\u5728\u63A7\u5236\u53F0\u663E\u793A\u9519\u8BEF\u3002</li></ul><p><strong>\u8BE6\u7EC6\u56DE\u7B54</strong>\uFF1A</p><ul><li>\u6D4F\u89C8\u5668\u5148\u6839\u636E\u540C\u6E90\u7B56\u7565\u5BF9\u524D\u7AEF\u9875\u9762\u548C\u540E\u53F0\u4EA4\u4E92\u5730\u5740\u505A\u5339\u914D\uFF0C\u82E5\u540C\u6E90\uFF0C\u5219\u76F4\u63A5\u53D1\u9001\u6570\u636E\u8BF7\u6C42\uFF1B\u82E5\u4E0D\u540C\u6E90\uFF0C\u5219\u53D1\u9001\u8DE8\u57DF\u8BF7\u6C42\u3002</li><li>\u670D\u52A1\u5668\u6536\u5230\u6D4F\u89C8\u5668\u8DE8\u57DF\u8BF7\u6C42\u540E\uFF0C\u6839\u636E\u81EA\u8EAB\u914D\u7F6E\u8FD4\u56DE\u5BF9\u5E94\u6587\u4EF6\u5934\u3002\u82E5\u672A\u914D\u7F6E\u8FC7\u4EFB\u4F55\u5141\u8BB8\u8DE8\u57DF\uFF0C\u5219\u6587\u4EF6\u5934\u91CC\u4E0D\u5305\u542B <code>Access-Control-Allow-origin</code> \u5B57\u6BB5\uFF0C\u82E5\u914D\u7F6E\u8FC7\u57DF\u540D\uFF0C\u5219\u8FD4\u56DE <code>Access-Control-Allow-origin + \u5BF9\u5E94\u914D\u7F6E\u89C4\u5219\u91CC\u7684\u57DF\u540D\u7684\u65B9\u5F0F</code>\u3002</li><li>\u6D4F\u89C8\u5668\u6839\u636E\u63A5\u53D7\u5230\u7684 \u54CD\u5E94\u5934\u91CC\u7684 <code>Access-Control-Allow-origin</code> \u5B57\u6BB5\u505A\u5339\u914D\uFF0C\u82E5\u65E0\u8BE5\u5B57\u6BB5\uFF0C\u8BF4\u660E\u4E0D\u5141\u8BB8\u8DE8\u57DF\uFF0C\u4ECE\u800C\u629B\u51FA\u4E00\u4E2A\u9519\u8BEF\uFF1B\u82E5\u6709\u8BE5\u5B57\u6BB5\uFF0C\u5219\u5BF9\u5B57\u6BB5\u5185\u5BB9\u548C\u5F53\u524D\u57DF\u540D\u505A\u6BD4\u5BF9\uFF0C\u5982\u679C\u540C\u6E90\uFF0C\u5219\u8BF4\u660E\u53EF\u4EE5\u8DE8\u57DF\uFF0C\u6D4F\u89C8\u5668\u63A5\u53D7\u8BE5\u54CD\u5E94\uFF1B\u82E5\u4E0D\u540C\u6E90\uFF0C\u5219\u8BF4\u660E\u8BE5\u57DF\u540D\u4E0D\u53EF\u8DE8\u57DF\uFF0C\u6D4F\u89C8\u5668\u4E0D\u63A5\u53D7\u8BE5\u54CD\u5E94\uFF0C\u5E76\u629B\u51FA\u4E00\u4E2A\u9519\u8BEF\u3002</li></ul><p>\u5728<code>CORS</code>\u4E2D\u6709<code>\u7B80\u5355\u8BF7\u6C42</code>\u548C<code>\u975E\u7B80\u5355\u8BF7\u6C42</code>\uFF0C\u7B80\u5355\u8BF7\u6C42\u662F\u4E0D\u4F1A\u89E6\u53D1<code>CORS</code>\u7684\u9884\u68C0\u8BF7\u6C42\u7684\uFF0C\u800C\u975E\u7B80\u5355\u8BF7\u6C42\u4F1A\u3002</p>",10),T8n=n("code",null,"\u201C\u9700\u9884\u68C0\u7684\u8BF7\u6C42\u201D",-1),N8n=s("\u8981\u6C42\u5FC5\u987B\u9996\u5148\u4F7F\u7528 "),M8n={href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Methods/OPTIONS",target:"_blank",rel:"noopener noreferrer"},O8n=n("code",null,"OPTIONS",-1),I8n=s(" (opens new window)"),R8n=s('\u65B9\u6CD5\u53D1\u8D77\u4E00\u4E2A\u9884\u68C0\u8BF7\u6C42\u5230\u670D\u52A1\u5668\uFF0C\u4EE5\u83B7\u77E5\u670D\u52A1\u5668\u662F\u5426\u5141\u8BB8\u8BE5\u5B9E\u9645\u8BF7\u6C42\u3002"\u9884\u68C0\u8BF7\u6C42\u201C\u7684\u4F7F\u7528\uFF0C\u53EF\u4EE5\u907F\u514D\u8DE8\u57DF\u8BF7\u6C42\u5BF9\u670D\u52A1\u5668\u7684\u7528\u6237\u6570\u636E\u4EA7\u751F\u672A\u9884\u671F\u7684\u5F71\u54CD\u3002'),V8n={id:"cors\u7684\u54EA\u4E9B\u662F\u7B80\u5355\u8BF7\u6C42",tabindex:"-1"},H8n=n("a",{class:"header-anchor",href:"#cors\u7684\u54EA\u4E9B\u662F\u7B80\u5355\u8BF7\u6C42","aria-hidden":"true"},"#",-1),L8n=s(),U8n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#cors%E7%9A%84%E5%93%AA%E4%BA%9B%E6%98%AF%E7%AE%80%E5%8D%95%E8%AF%B7%E6%B1%82",target:"_blank",rel:"noopener noreferrer"},J8n=s("#"),W8n=s("CORS\u7684\u54EA\u4E9B\u662F\u7B80\u5355\u8BF7\u6C42\uFF1F"),z8n=t("<blockquote><p>\u7B80\u5355\u8BF7\u6C42\u4E0D\u4F1A\u89E6\u53D1<code>CORS</code>\u7684\u9884\u68C0\u8BF7\u6C42\uFF0C\u82E5\u8BF7\u6C42\u6EE1\u8DB3\u6240\u6709\u4E0B\u8FF0\u6761\u4EF6\uFF0C\u5219\u8BE5\u8BF7\u6C42\u53EF\u89C6\u4E3A\u201C\u7B80\u5355\u8BF7\u6C42\u201D\uFF1A</p></blockquote><p><strong>\u7B80\u5355\u56DE\u7B54</strong>\uFF1A</p><ul><li>\u53EA\u80FD\u4F7F\u7528<code>GET</code>\u3001<code>HEAD</code>\u3001<code>POST</code>\u65B9\u6CD5\u3002\u4F7F\u7528<code>POST</code>\u65B9\u6CD5\u5411\u670D\u52A1\u5668\u53D1\u9001\u6570\u636E\u65F6\uFF0C<code>Content-Type</code>\u53EA\u80FD\u4F7F\u7528<code>application/x-www-form-urlencoded</code>\u3001<code>multipart/form-data</code>\u6216<code>text/plain</code>\u7F16\u7801\u683C\u5F0F\u3002</li><li>\u8BF7\u6C42\u65F6\u4E0D\u80FD\u4F7F\u7528\u81EA\u5B9A\u4E49\u7684<code>HTTP Headers</code></li></ul><p><strong>\u8BE6\u7EC6\u56DE\u7B54</strong>\uFF1A</p>",4),G8n=t("<li>(\u4E00) \u4F7F\u7528\u4E0B\u5217\u65B9\u6CD5\u4E4B\u4E00 <ul><li><code>GET</code></li><li><code>HEAD</code></li><li><code>POST</code></li></ul></li><li>(\u4E8C) \u53EA\u80FD\u8BBE\u7F6E\u4EE5\u4E0B\u96C6\u5408\u4E2D\u7684\u8BF7\u6C42\u5934 <ul><li><code>Accept</code></li><li><code>Accept-Language</code></li><li><code>Content-Language</code></li><li><code>Content-Type</code>(\u4F46\u662F\u6709\u9650\u5236)</li><li><code>DPR</code></li><li><code>Downlink</code></li><li><code>Save-Data</code></li><li><code>Viewport-Width</code></li><li><code>Width</code></li></ul></li><li>(\u4E09) <code>Content-Type</code>\u7684\u503C\u4EC5\u9650\u4E8E\u4E0B\u9762\u7684\u4E09\u8005\u4E4B\u4E00 <ul><li><code>text/plain</code></li><li><code>multipart/form-data</code></li><li><code>application/x-www-form-urlencoded</code></li></ul></li>",3),$8n=s("\u8BF7\u6C42\u4E2D\u7684\u4EFB\u610F"),X8n={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequestUpload",target:"_blank",rel:"noopener noreferrer"},K8n=n("code",null,"XMLHttpRequestUpload",-1),Q8n=s(" (opens new window)"),Y8n=s("\u5BF9\u8C61\u5747\u6CA1\u6709\u6CE8\u518C\u4EFB\u4F55\u4E8B\u4EF6\u76D1\u542C\u5668\uFF1B"),Z8n={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequestUpload",target:"_blank",rel:"noopener noreferrer"},nEn=n("code",null,"XMLHttpRequestUpload",-1),sEn=s(" (opens new window)"),aEn=s("\u5BF9\u8C61\u53EF\u4EE5\u4F7F\u7528 "),eEn={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/upload",target:"_blank",rel:"noopener noreferrer"},tEn=n("code",null,"XMLHttpRequest.upload",-1),pEn=s(" (opens new window)"),oEn=s("\u5C5E\u6027\u8BBF\u95EE\u3002"),cEn=s("\u8BF7\u6C42\u4E2D\u6CA1\u6709\u4F7F\u7528 "),lEn={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ReadableStream",target:"_blank",rel:"noopener noreferrer"},rEn=n("code",null,"ReadableStream",-1),iEn=s(" (opens new window)"),uEn=s("\u5BF9\u8C61\u3002"),kEn=n("p",null,"\u9664\u4E86\u4E0A\u9762\u8FD9\u4E9B\u8BF7\u6C42\u5916\uFF0C\u90FD\u662F\u975E\u7B80\u5355\u8BF7\u6C42\u3002",-1),dEn={id:"cors\u7684\u9884\u68C0\u8BF7\u6C42\u5177\u4F53\u662F\u600E\u6837\u7684",tabindex:"-1"},bEn=n("a",{class:"header-anchor",href:"#cors\u7684\u9884\u68C0\u8BF7\u6C42\u5177\u4F53\u662F\u600E\u6837\u7684","aria-hidden":"true"},"#",-1),mEn=s(),hEn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#cors%E7%9A%84%E9%A2%84%E6%A3%80%E8%AF%B7%E6%B1%82%E5%85%B7%E4%BD%93%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},_En=s("#"),gEn=s("CORS\u7684\u9884\u68C0\u8BF7\u6C42\u5177\u4F53\u662F\u600E\u6837\u7684\uFF1F"),EEn=t(`<p>\u82E5\u662F\u8DE8\u57DF\u7684\u975E\u7B80\u5355\u8BF7\u6C42\u7684\u8BDD\uFF0C\u6D4F\u89C8\u5668\u4F1A\u9996\u5148\u5411\u670D\u52A1\u5668\u53D1\u9001\u4E00\u4E2A\u9884\u68C0\u8BF7\u6C42\uFF0C\u4EE5\u83B7\u77E5\u670D\u52A1\u5668\u662F\u5426\u5141\u8BB8\u8BE5\u5B9E\u9645\u8BF7\u6C42\u3002</p><p>\u6574\u4E2A\u8FC7\u7A0B\u5927\u6982\u662F\uFF1A</p><ul><li><p>\u6D4F\u89C8\u5668\u7ED9\u670D\u52A1\u5668\u53D1\u9001\u4E00\u4E2A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>OPTIONS
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u65B9\u6CD5\u7684\u8BF7\u6C42\uFF0C\u8BE5\u8BF7\u6C42\u4F1A\u643A\u5E26\u4E0B\u9762\u4E24\u4E2A\u9996\u90E8\u5B57\u6BB5\uFF1A</p><ul><li><code>Access-Control-Request-Method</code>: \u5B9E\u9645\u8BF7\u6C42\u8981\u7528\u5230\u7684\u65B9\u6CD5</li><li><code>Access-Control-Request-Headers</code>: \u5B9E\u9645\u8BF7\u6C42\u4F1A\u643A\u5E26\u54EA\u4E9B\u9996\u90E8\u5B57\u6BB5</li></ul></li><li><p>\u82E5\u662F\u670D\u52A1\u5668\u63A5\u53D7\u540E\u7EED\u8BF7\u6C42\uFF0C\u5219\u8FD9\u6B21\u9884\u8BF7\u6C42\u7684\u54CD\u5E94\u4F53\u4E2D\u4F1A\u643A\u5E26\u4E0B\u9762\u7684\u4E00\u4E9B\u5B57\u6BB5\uFF1A</p><ul><li><code>Access-Control-Allow-Methods</code>: \u670D\u52A1\u5668\u5141\u8BB8\u4F7F\u7528\u7684\u65B9\u6CD5</li><li><code>Access-Control-Allow-Origin</code>: \u670D\u52A1\u5668\u5141\u8BB8\u8BBF\u95EE\u7684\u57DF\u540D</li><li><code>Access-Control-Allow-Headers</code>: \u670D\u52A1\u5668\u5141\u8BB8\u7684\u9996\u90E8\u5B57\u6BB5</li><li><code>Access-Control-Max-Age</code>: \u8BE5\u54CD\u5E94\u7684\u6709\u6548\u65F6\u95F4(s),\u5728\u6709\u6548\u65F6\u95F4\u5185\u6D4F\u89C8\u5668\u65E0\u9700\u518D\u4E3A\u540C\u4E00\u4E2A\u8BF7\u6C42\u53D1\u9001\u9884\u68C0\u8BF7\u6C42</li></ul></li><li><p>\u9884\u68C0\u8BF7\u6C42\u5B8C\u6BD5\u4E4B\u540E\uFF0C\u518D\u53D1\u9001\u5B9E\u9645\u8BF7\u6C42</p></li></ul><p>\u8FD9\u91CC\u6709\u4E24\u70B9\u8981\u6CE8\u610F\uFF1A</p><ul><li><code>Access-Control-Request-Method</code>\u6CA1\u6709<code>s</code></li><li><code>Access-Control-Allow-Methods</code>\u6709<code>s</code></li><li>\u5173\u4E8E<code>Access-Control-Max-Age</code>\uFF0C\u6D4F\u89C8\u5668\u81EA\u8EAB\u4E5F\u6709\u7EF4\u62A4\u4E00\u4E2A\u6700\u5927\u6709\u6548\u65F6\u95F4\uFF0C\u5982\u679C\u8BE5\u9996\u90E8\u5B57\u6BB5\u7684\u503C\u8D85\u8FC7\u4E86\u6700\u5927\u6709\u6548\u65F6\u95F4\uFF0C\u5C06\u4E0D\u4F1A\u751F\u6548\uFF0C\u800C\u662F\u4EE5\u6700\u5927\u6709\u6548\u65F6\u95F4\u4E3A\u4E3B\u3002</li></ul>`,5),fEn={id:"\u4E3A\u4EC0\u4E48\u7B80\u5355\u8BF7\u6C42\u4E0D\u9700\u8981\u9884\u68C0",tabindex:"-1"},vEn=n("a",{class:"header-anchor",href:"#\u4E3A\u4EC0\u4E48\u7B80\u5355\u8BF7\u6C42\u4E0D\u9700\u8981\u9884\u68C0","aria-hidden":"true"},"#",-1),wEn=s(),yEn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#%E4%B8%BA%E4%BB%80%E4%B9%88%E7%AE%80%E5%8D%95%E8%AF%B7%E6%B1%82%E4%B8%8D%E9%9C%80%E8%A6%81%E9%A2%84%E6%A3%80",target:"_blank",rel:"noopener noreferrer"},xEn=s("#"),AEn=s("\u4E3A\u4EC0\u4E48\u7B80\u5355\u8BF7\u6C42\u4E0D\u9700\u8981\u9884\u68C0\uFF1F"),BEn=n("p",null,"\u56E0\u4E3A\u7B80\u5355\u8BF7\u6C42\u867D\u7136\u662F\u4E00\u79CD\u5B9A\u4E49\uFF0C\u4E0D\u8FC7\u5B83\u5B9A\u4E49\u662F\u6709\u4E00\u5B9A\u7406\u7531\u7684\uFF0C\u6D4F\u89C8\u5668\u53EF\u80FD\u89C9\u5F97\u8FD9\u7C7B\u8BF7\u6C42\u9884\u68C0\u7684\u5B89\u5168\u6027\u6CA1\u6709\u90A3\u4E48\u5927\u5FC5\u8981\uFF0C\u4E0D\u9884\u68C0\u5E26\u6765\u6027\u80FD\u65B9\u9762\u6536\u76CA\u66F4\u5927\u3002",-1),qEn={id:"\u590D\u6742\u8BF7\u6C42\u9884\u68C0\u68C0\u67E5\u4EC0\u4E48\u4E1C\u897F",tabindex:"-1"},jEn=n("a",{class:"header-anchor",href:"#\u590D\u6742\u8BF7\u6C42\u9884\u68C0\u68C0\u67E5\u4EC0\u4E48\u4E1C\u897F","aria-hidden":"true"},"#",-1),SEn=s(),CEn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#%E5%A4%8D%E6%9D%82%E8%AF%B7%E6%B1%82%E9%A2%84%E6%A3%80%E6%A3%80%E6%9F%A5%E4%BB%80%E4%B9%88%E4%B8%9C%E8%A5%BF",target:"_blank",rel:"noopener noreferrer"},DEn=s("#"),FEn=s("\u590D\u6742\u8BF7\u6C42\u9884\u68C0\u68C0\u67E5\u4EC0\u4E48\u4E1C\u897F\uFF1F"),PEn=n("blockquote",null,[n("p",null,[s("\u9884\u68C0\u8BF7\u6C42\u7684\u4F7F\u7528\uFF0C\u53EF\u4EE5\u907F\u514D\u8DE8\u57DF\u8BF7\u6C42\u5BF9\u670D\u52A1\u5668\u7684\u7528\u6237\u6570\u636E\u4EA7\u751F\u672A\u9884\u671F\u7684\u5F71\u54CD\u3002\u4F8B\u5982\uFF0C\u6211\u67D0\u4E2A\u8BF7\u6C42\u53EA\u652F\u6301 "),n("code",null,"headers ,cc"),s("\uFF0C\u4F60\u53D1\u9001\u4E86\u4E00\u4E2A "),n("code",null,"dd \u7684headers"),s("\uFF0C \u90A3\u4E48 "),n("code",null,"options"),s(" \u53EF\u4EE5\u6709\u6548\u62E6\u622A\uFF0C\u4E0D\u4F1A\u53D1\u51FA\u5B9E\u4F53\u7684\u8BF7\u6C42\uFF0C\u907F\u514D\u4E86\u4E00\u4E9B\u5B89\u5168\u95EE\u9898\u3002")])],-1),TEn={id:"\u5982\u679Ccors\u9644\u5E26\u8EAB\u4EFD\u51ED\u8BC1\u8981\u600E\u6837\u505A",tabindex:"-1"},NEn=n("a",{class:"header-anchor",href:"#\u5982\u679Ccors\u9644\u5E26\u8EAB\u4EFD\u51ED\u8BC1\u8981\u600E\u6837\u505A","aria-hidden":"true"},"#",-1),MEn=s(),OEn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#%E5%A6%82%E6%9E%9Ccors%E9%99%84%E5%B8%A6%E8%BA%AB%E4%BB%BD%E5%87%AD%E8%AF%81%E8%A6%81%E6%80%8E%E6%A0%B7%E5%81%9A",target:"_blank",rel:"noopener noreferrer"},IEn=s("#"),REn=s("\u5982\u679CCORS\u9644\u5E26\u8EAB\u4EFD\u51ED\u8BC1\u8981\u600E\u6837\u505A\uFF1F"),VEn=s("\u5BF9\u4E8E\u8DE8\u57DF "),HEn={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest",target:"_blank",rel:"noopener noreferrer"},LEn=n("code",null,"XMLHttpRequest",-1),UEn=s(" (opens new window)"),JEn=s("\u6216 "),WEn={href:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API",target:"_blank",rel:"noopener noreferrer"},zEn=s("Fetch (opens new window)"),GEn=s("\u8BF7\u6C42\uFF0C\u6D4F\u89C8\u5668"),$En=n("strong",null,"\u4E0D\u4F1A",-1),XEn=s("\u53D1\u9001\u8EAB\u4EFD\u51ED\u8BC1\u4FE1\u606F\u3002\u5982\u679C\u8981\u53D1\u9001\u51ED\u8BC1\u4FE1\u606F\uFF0C\u9700\u8981\u8BBE\u7F6E "),KEn=n("code",null,"XMLHttpRequest",-1),QEn=s("\u7684\u67D0\u4E2A\u7279\u6B8A\u6807\u5FD7\u4F4D\u3002"),YEn=t("<p>\u4F8B\u5982\u6211\u4EEC\u60F3\u8981\u5728\u8DE8\u57DF\u8BF7\u6C42\u4E2D\u5E26\u4E0A<code>cookie</code>\uFF0C\u9700\u8981\u6EE1\u8DB33\u4E2A\u6761\u4EF6\uFF1A</p><ul><li>web\uFF08\u6D4F\u89C8\u5668\uFF09\u8BF7\u6C42\u8BBE\u7F6E<code>withCredentials</code>\u4E3A<code>true</code></li><li>\u670D\u52A1\u5668\u8BBE\u7F6E\u9996\u90E8\u5B57\u6BB5<code>Access-Control-Allow-Credentials</code>\u4E3A<code>true</code></li><li>\u670D\u52A1\u5668\u7684<code>Access-Control-Allow-Origin</code>\u4E0D\u80FD\u4E3A<code>*</code></li></ul>",2),ZEn={id:"\u5982\u4F55\u51CF\u5C11cors\u9884\u8BF7\u6C42\u7684\u6B21\u6570",tabindex:"-1"},n9n=n("a",{class:"header-anchor",href:"#\u5982\u4F55\u51CF\u5C11cors\u9884\u8BF7\u6C42\u7684\u6B21\u6570","aria-hidden":"true"},"#",-1),s9n=s(),a9n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#%E5%A6%82%E4%BD%95%E5%87%8F%E5%B0%91cors%E9%A2%84%E8%AF%B7%E6%B1%82%E7%9A%84%E6%AC%A1%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},e9n=s("#"),t9n=s("\u5982\u4F55\u51CF\u5C11CORS\u9884\u8BF7\u6C42\u7684\u6B21\u6570\uFF1F"),p9n=n("blockquote",null,[n("p",null,[s("\u670D\u52A1\u7AEF\u8BBE\u7F6E"),n("code",null,"Access-Control-Max-Age"),s("\u5B57\u6BB5\uFF0C\u5728\u6709\u6548\u65F6\u95F4\u5185\u6D4F\u89C8\u5668\u65E0\u9700\u518D\u4E3A\u540C\u4E00\u4E2A\u8BF7\u6C42\u53D1\u9001\u9884\u68C0\u8BF7\u6C42\u3002\u4F46\u662F\u5B83\u6709\u5C40\u9650\u6027\uFF1A\u53EA\u80FD\u4E3A\u540C\u4E00\u4E2A\u8BF7\u6C42\u7F13\u5B58\uFF0C\u65E0\u6CD5\u9488\u5BF9\u6574\u4E2A\u57DF\u6216\u8005\u6A21\u7CCA\u5339\u914D URL \u505A\u7F13\u5B58\u3002")])],-1),o9n={id:"_22-\u5728\u6DF1\u5733\u7684\u7F51\u9875\u4E0A\u8F93\u5165\u767E\u5EA6-\u662F\u600E\u4E48\u628A\u8FD9\u4E2A\u8BF7\u6C42\u53D1\u5230\u5317\u4EAC\u7684",tabindex:"-1"},c9n=n("a",{class:"header-anchor",href:"#_22-\u5728\u6DF1\u5733\u7684\u7F51\u9875\u4E0A\u8F93\u5165\u767E\u5EA6-\u662F\u600E\u4E48\u628A\u8FD9\u4E2A\u8BF7\u6C42\u53D1\u5230\u5317\u4EAC\u7684","aria-hidden":"true"},"#",-1),l9n=s(),r9n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_22-%E5%9C%A8%E6%B7%B1%E5%9C%B3%E7%9A%84%E7%BD%91%E9%A1%B5%E4%B8%8A%E8%BE%93%E5%85%A5%E7%99%BE%E5%BA%A6-%E6%98%AF%E6%80%8E%E4%B9%88%E6%8A%8A%E8%BF%99%E4%B8%AA%E8%AF%B7%E6%B1%82%E5%8F%91%E5%88%B0%E5%8C%97%E4%BA%AC%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},i9n=s("#"),u9n=s("22 \u5728\u6DF1\u5733\u7684\u7F51\u9875\u4E0A\u8F93\u5165\u767E\u5EA6\uFF0C\u662F\u600E\u4E48\u628A\u8FD9\u4E2A\u8BF7\u6C42\u53D1\u5230\u5317\u4EAC\u7684"),k9n=n("blockquote",null,[n("p",null,"\u4E2D\u95F4\u4F1A\u7ECF\u8FC7\u5F88\u591A\u7684\u7AD9\u70B9\uFF0C\u6BD4\u5982\u4F1A\u7ECF\u8FC7\u6E56\u5357\uFF0C\u6216\u8005\u5176\u5B83\u57CE\u5E02\uFF0C\u7531\u5404\u4E2A\u57CE\u5E02\u7684\u8FD9\u4E9B\u7AD9\u70B9\u4E00\u5C42\u4E00\u5C42\u5206\u53D1\u4E0B\u53BB\u3002\u901A\u8FC7CDN\u5C42\u5C42\u5206\u53D1")],-1),d9n={id:"_23-\u4E3A\u4EC0\u4E48\u4F7F\u7528\u591A\u57DF\u540D\u90E8\u7F72",tabindex:"-1"},b9n=n("a",{class:"header-anchor",href:"#_23-\u4E3A\u4EC0\u4E48\u4F7F\u7528\u591A\u57DF\u540D\u90E8\u7F72","aria-hidden":"true"},"#",-1),m9n=s(),h9n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_23-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E5%A4%9A%E5%9F%9F%E5%90%8D%E9%83%A8%E7%BD%B2",target:"_blank",rel:"noopener noreferrer"},_9n=s("#"),g9n=s("23 \u4E3A\u4EC0\u4E48\u4F7F\u7528\u591A\u57DF\u540D\u90E8\u7F72\uFF1F"),E9n=n("p",null,[s("\u4E3B\u8981\u662F\u56E0\u4E3A"),n("code",null,"http1"),s("\u548C\u6D4F\u89C8\u5668\u7684\u539F\u56E0\uFF0C\u540C\u4E00\u65F6\u95F4\u540C\u4E00\u4E2A\u57DF\u540D\u6700\u591A\u8FDB\u884C6\u4E2A"),n("code",null,"tcp"),s("\u8FDE\u63A5\u3002")],-1),f9n={id:"_24-\u9875\u976210\u5F20img-http1\u662F\u600E\u6837\u7684\u52A0\u8F7D\u8868\u73B0-\u600E\u6837\u89E3\u51B3\u7684",tabindex:"-1"},v9n=n("a",{class:"header-anchor",href:"#_24-\u9875\u976210\u5F20img-http1\u662F\u600E\u6837\u7684\u52A0\u8F7D\u8868\u73B0-\u600E\u6837\u89E3\u51B3\u7684","aria-hidden":"true"},"#",-1),w9n=s(),y9n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_24-%E9%A1%B5%E9%9D%A210%E5%BC%A0img-http1%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84%E5%8A%A0%E8%BD%BD%E8%A1%A8%E7%8E%B0-%E6%80%8E%E6%A0%B7%E8%A7%A3%E5%86%B3%E7%9A%84",target:"_blank",rel:"noopener noreferrer"},x9n=s("#"),A9n=s("24 \u9875\u976210\u5F20img\uFF0Chttp1\u662F\u600E\u6837\u7684\u52A0\u8F7D\u8868\u73B0\uFF1F\u600E\u6837\u89E3\u51B3\u7684\uFF1F"),B9n=t("<ul><li><code>http1</code>\u4E0B\uFF0C\u6D4F\u89C8\u5668\u5BF9\u4E00\u4E2A\u57DF\u540D\u7684\u6700\u5927<code>tcp</code>\u8FDE\u63A5\u6570\u4E3A6\uFF0C\u6240\u4EE510\u5F20\u56FE\u7247\u8868\u73B0\u4E3A<code>6 + 4</code>\u3002</li><li>\u53EF\u4EE5\u4F7F\u7528\u591A\u57DF\u540D\u90E8\u7F72\u89E3\u51B3\u3002\u6BD4\u5982<code>5\u4E2Aa\u57DF\u540D</code>\u548C<code>5\u4E2Ab\u57DF\u540D</code>\uFF0C\u6216\u8005<code>6\u4E2Aa\u57DF\u540D</code>\u548C<code>4\u4E2Ab\u57DF\u540D</code>\uFF0C\u5C31\u53EF\u4EE5\u5B9E\u73B0\u4E00\u77AC\u95F4\u5168\u90E8\u51FA\u6765\u4E86\u3002</li></ul>",1),q9n={id:"_25-\u8BF4\u4E00\u8BF4sso\u5355\u70B9\u767B\u5F55",tabindex:"-1"},j9n=n("a",{class:"header-anchor",href:"#_25-\u8BF4\u4E00\u8BF4sso\u5355\u70B9\u767B\u5F55","aria-hidden":"true"},"#",-1),S9n=s(),C9n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_25-%E8%AF%B4%E4%B8%80%E8%AF%B4sso%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95",target:"_blank",rel:"noopener noreferrer"},D9n=s("#"),F9n=s("25 \u8BF4\u4E00\u8BF4SSO\u5355\u70B9\u767B\u5F55"),P9n=t("<p><strong>\u6982\u5FF5\uFF1A</strong></p><p>\u5F53\u7528\u6237\u5728\u8EAB\u4EFD\u8BA4\u8BC1\u670D\u52A1\u5668\u4E0A\u767B\u5F55\u8FC7\u4E00\u6B21\u4E4B\u540E\uFF0C\u5373\u53EF\u83B7\u53D6\u8BBF\u95EE\u5355\u70B9\u767B\u5F55\u7CFB\u7EDF\u4E2D\u7684\u5176\u5B83\u5173\u8054\u7CFB\u7EDF\u548C\u5E94\u7528\u8F6F\u4EF6\u7684\u6743\u9650\u3002</p><p><strong>\u5B9E\u73B0\u673A\u5236</strong>\uFF1A</p><blockquote><p>\u5F53\u7528\u6237\u7B2C\u4E00\u6B21\u8BBF\u95EE\u5E94\u7528\u7CFB\u7EDF1\u7684\u65F6\u5019\uFF0C\u56E0\u4E3A\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u4F1A\u88AB\u5F15\u5BFC\u5230\u8BA4\u8BC1\u7CFB\u7EDF\u4E2D\u8FDB\u884C\u767B\u5F55\uFF1B\u6839\u636E\u7528\u6237\u63D0\u4F9B\u7684\u767B\u5F55\u4FE1\u606F\uFF0C\u8BA4\u8BC1\u7CFB\u7EDF\u8FDB\u884C\u8EAB\u4EFD\u6821\u9A8C\uFF0C\u5982\u679C\u901A\u8FC7\u6821\u9A8C\uFF0C\u5E94\u8BE5\u8FD4\u56DE\u7ED9\u7528\u6237\u4E00\u4E2A\u8BA4\u8BC1\u7684\u51ED\u636E\uFF0D\uFF0Dticket\uFF1B\u7528\u6237\u518D\u8BBF\u95EE\u522B\u7684\u5E94\u7528\u7684\u65F6\u5019\u5C31\u4F1A\u5C06\u8FD9\u4E2Aticket\u5E26\u4E0A\uFF0C\u4F5C\u4E3A\u81EA\u5DF1\u8BA4\u8BC1\u7684\u51ED\u636E\uFF0C\u5E94\u7528\u7CFB\u7EDF\u63A5\u53D7\u5230\u8BF7\u6C42\u4E4B\u540E\u4F1A\u628Aticket\u9001\u5230\u8BA4\u8BC1\u7CFB\u7EDF\u8FDB\u884C\u6821\u9A8C\uFF0C\u68C0\u67E5ticket\u7684\u5408\u6CD5\u6027\u3002\u5982\u679C\u901A\u8FC7\u6821\u9A8C\uFF0C\u7528\u6237\u5C31\u53EF\u4EE5\u5728\u4E0D\u7528\u518D\u6B21\u767B\u5F55\u7684\u60C5\u51B5\u4E0B\u8BBF\u95EE\u5E94\u7528\u7CFB\u7EDF2\u548C\u5E94\u7528\u7CFB\u7EDF3\u4E86\u3002</p></blockquote><p>\u9700\u8981\u6CE8\u610F\u4E24\u70B9\uFF1A</p><ul><li>\u7CFB\u7EDF\u5171\u4EAB\uFF0C\u7EDF\u4E00\u7684\u8BA4\u8BC1\u7CFB\u7EDF</li><li>\u4FE1\u606F\u8BC6\u522B\uFF0C\u8BA9\u5E94\u7528\u7CFB\u7EDF\u80FD\u591F\u8BC6\u522B\u5DF2\u7ECF\u767B\u5F55\u8FC7\u7684\u7528\u6237(\u5176\u5B9E\u8981\u628Aticket\u53D1\u9001\u5230\u8BA4\u8BC1\u7CFB\u7EDF\u8FDB\u884C\u6821\u9A8C)</li></ul><p><strong>\u4F18\u70B9\uFF1A</strong></p><ul><li>\u5355\u70B9\u767B\u5F55\uFF1A\u7528\u6237\u53EA\u9700\u767B\u5F55\u4E00\u6B21\uFF0C\u5373\u53EF\u901A\u8FC7\u5355\u70B9\u767B\u5F55\u7CFB\u7EDF\uFF08eTrueSSO\uFF09\u8BBF\u95EE\u540E\u53F0\u7684\u591A\u4E2A \u5E94\u7528\u7CFB\u7EDF\uFF0C\u4E8C\u6B21\u767B\u9646\u65F6\u65E0\u9700\u91CD\u65B0\u8F93\u5165\u7528\u6237\u540D\u548C\u5BC6\u7801</li><li>\u57FA\u4E8E\u89D2\u8272\u8BBF\u95EE\u63A7\u5236\uFF1A\u6839\u636E\u7528\u6237\u7684\u89D2\u8272\u548CURL\u5B9E\u73B0\u8BBF\u95EE\u63A7\u5236\u529F\u80FD</li><li>\u96C6\u7FA4\uFF1A\u901A\u8FC7\u96C6\u7FA4\u529F\u80FD\uFF0C\u5B9E\u73B0\u591A\u53F0\u670D\u52A1\u5668\u4E4B\u95F4\u7684\u52A8\u6001\u8D1F\u8F7D\u5747\u8861</li><li>\u4F20\u8F93\u52A0\u5BC6\uFF1A\u652F\u6301\u591A\u79CD\u5BF9\u79F0\u548C\u975E\u5BF9\u79F0\u52A0\u5BC6\u7B97\u6CD5\uFF0C\u4FDD\u8BC1\u7528\u6237\u4FE1\u606F\u5728\u4F20\u8F93\u8FC7\u7A0B\u4E2D\u4E0D\u88AB\u7A83\u53D6\u548C\u7BE1\u6539</li></ul><p><strong>\u7F3A\u70B9\uFF1A</strong></p><ul><li>\u4E0D\u5229\u4E8E\u91CD\u6784\uFF0C \u56E0\u4E3A\u6D89\u53CA\u5230\u7684\u7CFB\u7EDF\u5F88\u591A\uFF0C\u8981\u91CD\u6784\u5FC5\u987B\u8981\u517C\u5BB9\u6240\u6709\u7684\u7CFB\u7EDF\uFF0C\u53EF\u80FD\u5F88\u8017\u65F6</li><li>\u65E0\u4EBA\u770B\u5B88\u684C\u9762\uFF0C\u56E0\u4E3A\u53EA\u9700\u8981\u767B\u5F55\u4E00\u6B21\uFF0C\u6240\u6709\u7684\u6388\u6743\u7684\u5E94\u7528\u7CFB\u7EDF\u90FD\u53EF\u4EE5\u8BBF\u95EE\uFF0C\u53EF\u80FD\u5BFC\u81F4\u4E00\u4E9B\u5F88\u91CD\u8981\u7684\u4FE1\u606F\u6CC4\u9732</li></ul>",10),T9n={id:"_26-\u8BF4\u4E00\u8BF4oauth",tabindex:"-1"},N9n=n("a",{class:"header-anchor",href:"#_26-\u8BF4\u4E00\u8BF4oauth","aria-hidden":"true"},"#",-1),M9n=s(),O9n={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_26-%E8%AF%B4%E4%B8%80%E8%AF%B4oauth",target:"_blank",rel:"noopener noreferrer"},I9n=s("#"),R9n=s("26 \u8BF4\u4E00\u8BF4OAuth"),V9n=n("blockquote",null,[n("p",null,"OAUTH\u534F\u8BAE\u4E3A\u7528\u6237\u8D44\u6E90\u7684\u6388\u6743\u63D0\u4F9B\u4E86\u4E00\u4E2A\u5B89\u5168\u7684\u3001\u5F00\u653E\u800C\u53C8\u7B80\u6613\u7684\u6807\u51C6\u3002\u4E0E\u4EE5\u5F80\u7684\u6388\u6743\u65B9\u5F0F\u4E0D\u540C\u4E4B\u5904\u662FOAUTH\u7684\u6388\u6743\u4E0D\u4F1A\u4F7F\u7B2C\u4E09\u65B9\u89E6\u53CA\u5230\u7528\u6237\u7684\u5E10\u53F7\u4FE1\u606F\uFF08\u5982\u7528\u6237\u540D\u4E0E\u5BC6\u7801\uFF09\uFF0C\u5373\u7B2C\u4E09\u65B9\u65E0\u9700\u4F7F\u7528\u7528\u6237\u7684\u7528\u6237\u540D\u4E0E\u5BC6\u7801\u5C31\u53EF\u4EE5\u7533\u8BF7\u83B7\u5F97\u8BE5\u7528\u6237\u8D44\u6E90\u7684\u6388\u6743\uFF0C\u56E0\u6B64OAUTH\u662F\u5B89\u5168\u7684\u3002oAuth\u662FOpen Authorization\u7684\u7B80\u5199\u3002")],-1),H9n=n("p",null,[n("strong",null,"\u4EA7\u751F\u80CC\u666F\uFF1A")],-1),L9n=n("p",null,"\u5178\u578B\u6848\u4F8B\uFF1A\u5982\u679C\u4E00\u4E2A\u7528\u6237\u9700\u8981\u4E24\u9879\u670D\u52A1\uFF1A\u4E00\u9879\u670D\u52A1\u662F\u56FE\u7247\u5728\u7EBF\u5B58\u50A8\u670D\u52A1A\uFF0C\u53E6\u4E00\u4E2A\u662F\u56FE\u7247\u5728\u7EBF\u6253\u5370\u670D\u52A1B\u3002",-1),U9n=n("p",null,"\u7531\u4E8E\u670D\u52A1A\u4E0E\u670D\u52A1B\u662F\u7531\u4E24\u5BB6\u4E0D\u540C\u7684\u670D\u52A1\u63D0\u4F9B\u5546\u63D0\u4F9B\u7684\uFF0C\u6240\u4EE5\u7528\u6237\u5728\u8FD9\u4E24\u5BB6\u670D\u52A1\u63D0\u4F9B\u5546\u7684\u7F51\u7AD9\u4E0A\u5404\u81EA\u6CE8\u518C\u4E86\u4E24\u4E2A\u7528\u6237\uFF0C\u5047\u8BBE\u8FD9\u4E24\u4E2A\u7528\u6237\u540D\u5404\u4E0D\u76F8\u540C\uFF0C\u5BC6\u7801\u4E5F\u5404\u4E0D\u76F8\u540C\u3002\u5F53\u7528\u6237",-1),J9n=s("\u8981\u4F7F\u7528\u670D\u52A1B\u6253\u5370\u5B58\u50A8\u5728\u670D\u52A1A\u4E0A\u7684\u56FE\u7247\u65F6\uFF0C\u7528\u6237\u8BE5\u5982\u4F55\u5904\u7406\uFF1F\u6CD5\u4E00\uFF1A\u7528\u6237\u53EF\u80FD\u5148\u5C06\u5F85\u6253\u5370\u7684\u56FE\u7247\u4ECE\u670D\u52A1A\u4E0A\u4E0B\u8F7D\u4E0B\u6765\u5E76\u4E0A\u4F20\u5230\u670D\u52A1B\u4E0A\u6253\u5370\uFF0C\u8FD9\u79CD\u65B9\u5F0F\u5B89\u5168\u4F46\u5904\u7406\u6BD4\u8F83\u7E41\u7410\uFF0C\u6548\u7387\u4F4E\u4E0B\uFF1B\u6CD5\u4E8C\uFF1A\u7528\u6237\u5C06\u5728\u670D\u52A1A\u4E0A\u6CE8\u518C\u7684\u7528\u6237\u540D\u4E0E\u5BC6\u7801\u63D0\u4F9B\u7ED9\u670D\u52A1B\uFF0C\u670D\u52A1B\u4F7F\u7528\u7528\u6237\u7684"),W9n={href:"https://baike.baidu.com/item/%E5%B8%90%E5%8F%B7",target:"_blank",rel:"noopener noreferrer"},z9n=s("\u5E10\u53F7 (opens new window)"),G9n=s("\u518D\u53BB\u670D\u52A1A\u5904\u4E0B\u8F7D\u5F85\u6253\u5370\u7684\u56FE\u7247\uFF0C\u8FD9\u79CD\u65B9\u5F0F\u6548\u7387\u662F\u63D0\u9AD8\u4E86\uFF0C\u4F46\u662F\u5B89\u5168\u6027\u5927\u5927\u964D\u4F4E\u4E86\uFF0C\u670D\u52A1B\u53EF\u4EE5\u4F7F\u7528\u7528\u6237\u7684\u7528\u6237\u540D\u4E0E\u5BC6\u7801\u53BB\u670D\u52A1A\u4E0A\u67E5\u770B\u751A\u81F3\u7BE1\u6539\u7528\u6237\u7684\u8D44\u6E90\u3002"),$9n=n("p",null,[n("strong",null,"\u6388\u6743\u6D41\u7A0B")],-1),X9n=n("p",null,"\u7B80\u5355\u7684\u6765\u8BF4\uFF0C",-1),K9n=n("p",null,"OAUTH\u8BA4\u8BC1\u6388\u6743\u5C31\u4E09\u4E2A\u6B65\u9AA4\uFF0C\u4E09\u53E5\u8BDD\u53EF\u4EE5\u6982\u62EC\uFF1A",-1),Q9n=n("ol",null,[n("li",null,"\u83B7\u53D6\u672A\u6388\u6743\u7684Request Token"),n("li",null,"\u83B7\u53D6\u7528\u6237\u6388\u6743\u7684Request Token"),n("li",null,"\u7528\u6388\u6743\u7684Request Token\u6362\u53D6Access Token")],-1),Y9n=n("p",null,"\u5F53\u5E94\u7528\u62FF\u5230Access Token\u540E\uFF0C\u5C31\u53EF\u4EE5\u6709\u6743\u8BBF\u95EE\u7528\u6237\u6388\u6743\u7684\u8D44\u6E90\u4E86\u3002\u5927\u5BB6\u53EF\u80FD\u770B\u51FA\u6765\u4E86\uFF0C\u8FD9\u4E09\u4E2A\u6B65\u9AA4\u4E0D\u5C31\u662F\u5BF9\u5E94OAUTH\u7684\u4E09\u4E2AURL\u670D\u52A1\u5730\u5740\u561B\u3002\u4E00\u70B9\u6CA1\u9519\uFF0C\u4E0A\u9762\u7684\u4E09\u4E2A\u6B65\u9AA4\u4E2D\uFF0C\u6BCF\u4E2A\u6B65\u9AA4\u5206\u522B\u8BF7\u6C42\u4E00\u4E2AURL\uFF0C\u5E76\u4E14\u6536\u5230\u76F8\u5173\u4FE1\u606F\uFF0C\u5E76\u4E14\u62FF\u5230\u4E0A\u6B65\u7684\u76F8\u5173\u4FE1\u606F\u53BB\u8BF7\u6C42\u63A5\u4E0B\u6765\u7684URL\u76F4\u5230\u62FF\u5230Access Token\u3002",-1),Z9n={id:"_27-http-\u4E2D\u7684-301\u3001302\u3001303\u3001307\u3001308-\u54CD\u5E94\u72B6\u6001\u7801",tabindex:"-1"},nfn=n("a",{class:"header-anchor",href:"#_27-http-\u4E2D\u7684-301\u3001302\u3001303\u3001307\u3001308-\u54CD\u5E94\u72B6\u6001\u7801","aria-hidden":"true"},"#",-1),sfn=s(),afn={href:"http://interview.poetries.top/excellent-docs/14-HTTP%E6%A8%A1%E5%9D%97.html#_27-http-%E4%B8%AD%E7%9A%84-301%E3%80%81302%E3%80%81303%E3%80%81307%E3%80%81308-%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81",target:"_blank",rel:"noopener noreferrer"},efn=s("#"),tfn=s("27 HTTP \u4E2D\u7684 301\u3001302\u3001303\u3001307\u3001308 \u54CD\u5E94\u72B6\u6001\u7801"),pfn=t(`<ul><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>301
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Moved Permanently</p><ul><li>301 \u72B6\u6001\u7801\u8868\u660E\u76EE\u6807\u8D44\u6E90\u88AB\u6C38\u4E45\u7684\u79FB\u52A8\u5230\u4E86\u4E00\u4E2A\u65B0\u7684 URI\uFF0C\u4EFB\u4F55\u672A\u6765\u5BF9\u8FD9\u4E2A\u8D44\u6E90\u7684\u5F15\u7528\u90FD\u5E94\u8BE5\u4F7F\u7528\u65B0\u7684 URI</li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>302
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Found</p><ul><li>302 \u72B6\u6001\u7801\u8868\u793A\u76EE\u6807\u8D44\u6E90\u4E34\u65F6\u79FB\u52A8\u5230\u4E86\u53E6\u4E00\u4E2A URI \u4E0A\u3002\u7531\u4E8E\u91CD\u5B9A\u5411\u662F\u4E34\u65F6\u53D1\u751F\u7684\uFF0C\u6240\u4EE5\u5BA2\u6237\u7AEF\u5728\u4E4B\u540E\u7684\u8BF7\u6C42\u4E2D\u8FD8\u5E94\u8BE5\u4F7F\u7528\u539F\u672C\u7684 URI\u3002</li><li>\u670D\u52A1\u5668\u4F1A\u5728\u54CD\u5E94 Header \u7684 Location \u5B57\u6BB5\u4E2D\u653E\u4E0A\u8FD9\u4E2A\u4E0D\u540C\u7684 URI\u3002\u6D4F\u89C8\u5668\u53EF\u4EE5\u4F7F\u7528 Location \u4E2D\u7684 URI \u8FDB\u884C\u81EA\u52A8\u91CD\u5B9A\u5411\u3002</li><li><strong>\u6CE8\u610F</strong>\uFF1A\u7531\u4E8E\u5386\u53F2\u539F\u56E0\uFF0C\u7528\u6237\u4EE3\u7406\u53EF\u80FD\u4F1A\u5728\u91CD\u5B9A\u5411\u540E\u7684\u8BF7\u6C42\u4E2D\u628A <code>POST \u65B9\u6CD5\u6539\u4E3A GET \u65B9\u6CD5</code>\u3002\u5982\u679C<code>\u4E0D\u60F3\u8FD9\u6837\uFF0C\u5E94\u8BE5\u4F7F\u7528 307</code>\uFF08Temporary Redirect\uFF09 \u72B6\u6001\u7801</li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>303
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>See Other</p><ul><li>303 \u72B6\u6001\u7801\u8868\u793A\u670D\u52A1\u5668\u8981\u5C06\u6D4F\u89C8\u5668\u91CD\u5B9A\u5411\u5230\u53E6\u4E00\u4E2A\u8D44\u6E90\uFF0C\u8FD9\u4E2A\u8D44\u6E90\u7684 URI \u4F1A\u88AB\u5199\u5728\u54CD\u5E94 Header \u7684 Location \u5B57\u6BB5\u3002\u4ECE\u8BED\u4E49\u4E0A\u8BB2\uFF0C\u91CD\u5B9A\u5411\u5230\u7684\u8D44\u6E90\u5E76\u4E0D\u662F\u4F60\u6240\u8BF7\u6C42\u7684\u8D44\u6E90\uFF0C\u800C\u662F\u5BF9\u4F60\u6240\u8BF7\u6C42\u8D44\u6E90\u7684\u4E00\u4E9B\u63CF\u8FF0\u3002</li><li>303 \u5E38\u7528\u4E8E\u5C06 POST \u8BF7\u6C42\u91CD\u5B9A\u5411\u5230 GET \u8BF7\u6C42\uFF0C\u6BD4\u5982\u4F60\u4E0A\u4F20\u4E86\u4E00\u4EFD\u4E2A\u4EBA\u4FE1\u606F\uFF0C\u670D\u52A1\u5668\u53D1\u56DE\u4E00\u4E2A 303 \u54CD\u5E94\uFF0C\u5C06\u4F60\u5BFC\u5411\u4E00\u4E2A\u201C\u4E0A\u4F20\u6210\u529F\u201D\u9875\u9762\u3002</li><li>\u4E0D\u7BA1\u539F\u8BF7\u6C42\u662F\u4EC0\u4E48\u65B9\u6CD5\uFF0C\u91CD\u5B9A\u5411\u8BF7\u6C42\u7684\u65B9\u6CD5\u90FD\u662F GET\uFF08\u6216 HEAD\uFF0C\u4E0D\u5E38\u7528\uFF09\u3002</li><li>303 \u548C 302 \u7684\u4F5C\u7528\u5F88\u7C7B\u4F3C\uFF0C\u9664\u53BB\u8BED\u4E49\u5DEE\u522B\uFF0C\u4F3C\u4E4E\u662F 302 \u5305\u542B\u4E86 303 \u7684\u60C5\u51B5\u3002\u786E\u5B9E\uFF0C\u8FD9\u662F\u7531\u5386\u53F2\u539F\u56E0\u5BFC\u81F4\u7684</li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>307
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Temporary Redirect</p><ul><li>307 \u7684\u5B9A\u4E49\u5B9E\u9645\u4E0A<code>\u548C 302 \u662F\u4E00\u81F4\u7684</code>\uFF0C\u552F\u4E00\u7684\u533A\u522B\u5728\u4E8E\uFF0C<code>307 \u72B6\u6001\u7801\u4E0D\u5141\u8BB8\u6D4F\u89C8\u5668\u5C06\u539F\u672C\u4E3A POST \u7684\u8BF7\u6C42\u91CD\u5B9A\u5411\u5230 GET \u8BF7\u6C42\u4E0A</code>\u3002</li></ul></li><li><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>308
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Permanent Redirect</p><ul><li><code>308</code> \u7684\u5B9A\u4E49\u5B9E\u9645\u4E0A\u548C 301 \u662F\u4E00\u81F4\u7684\uFF0C\u552F\u4E00\u7684\u533A\u522B\u5728\u4E8E\uFF0C308 \u72B6\u6001\u7801\u4E0D\u5141\u8BB8\u6D4F\u89C8\u5668\u5C06\u539F\u672C\u4E3A POST \u7684\u8BF7\u6C42\u91CD\u5B9A\u5411\u5230 GET \u8BF7\u6C42\u4E0A</li></ul></li></ul><p><strong>302 \u4E0E 303\u3001307 \u7684\u5173\u7CFB</strong></p><ul><li><code>302</code> \u5141\u8BB8\u5404\u79CD\u5404\u6837\u7684\u91CD\u5B9A\u5411\uFF0C\u4E00\u822C\u60C5\u51B5\u4E0B\u90FD\u4F1A\u5B9E\u73B0\u4E3A\u5230 <code>GET</code> \u7684\u91CD\u5B9A\u5411\uFF0C\u4F46\u662F\u4E0D\u80FD\u786E\u4FDD <code>POST</code> \u4F1A\u91CD\u5B9A\u5411\u4E3A <code>POST</code></li><li><code>303</code> \u53EA\u5141\u8BB8\u4EFB\u610F\u8BF7\u6C42\u5230 <code>GET</code> \u7684\u91CD\u5B9A\u5411</li><li><code>307</code> \u548C <code>302</code> \u4E00\u6837\uFF0C\u9664\u4E86\u4E0D\u5141\u8BB8 <code>POST</code> \u5230 <code>GET</code> \u7684\u91CD\u5B9A\u5411</li></ul><p><strong>\u7B80\u8981\u5386\u53F2\u539F\u56E0</strong></p><blockquote><p>\u90A3\u4E3A\u4EC0\u4E48\u6709\u4E86 307 \u548C 303 \u8FD8\u9700\u8981 302\u5462\uFF1F\u628A\u603B\u7ED3\u653E\u5728\u6700\u524D\u9762\u3002302 \u5728\u6700\u521D\u7684\u5B9A\u4E49\u4E2D\uFF0C\u5185\u5BB9\u548C\u73B0\u5728\u7684 307 \u662F\u4E00\u6837\u7684\uFF0C\u4E0D\u5141\u8BB8\u91CD\u5B9A\u5411\u65B9\u6CD5\u7684\u6539\u5199\uFF08\u4ECE POST \u5230 GET\uFF0C\u7531\u4E8E GET \u4E0D\u5E94\u8BE5\u6709 body\uFF0C\u5B9E\u9645\u4E0A body \u4E5F\u88AB\u6539\u4E86\uFF09\u3002\u4F46\u662F\u65E9\u671F\u6D4F\u89C8\u5668\u5728\u5B9E\u73B0\u7684\u65F6\u5019\u6709\u7684\u5B9E\u73B0\u6210 303 \u7684\u6548\u679C\uFF0C\u6709\u7684\u5B9E\u73B0\u6210 307 \u7684\u6548\u679C\u3002\u4E8E\u662F\u5728\u4E4B\u540E\u7684\u6807\u51C6\uFF0C302 \u5728\u67D0\u4E9B\u6D4F\u89C8\u5668\u4E2D\u9519\u8BEF\u7684\u5B9E\u73B0\u88AB\u5199\u8FDB\u89C4\u8303\uFF0C\u6210\u4E3A 303\uFF0C\u800C 302 \u539F\u672C\u7684\u6548\u679C\u88AB\u590D\u5236\u4E86\u5230\u4E86 307\u3002\u5728\u6700\u8FD1\u7684\u4E00\u6B21\u6807\u51C6\u4FEE\u8BA2\u4E2D\uFF0C302 \u6807\u51C6\u88AB\u4FEE\u6539\u6210\u4E0D\u518D\u5F3A\u5236\u9700\u8981\u7EF4\u6301\u539F\u8BF7\u6C42\u7684\u65B9\u6CD5\u3002\u6240\u4EE5\u5C31\u4EA7\u751F\u4E86\u73B0\u5728\u7684 302\u3001303 \u548C 307</p></blockquote><p><strong>301 \u4E0E 308 \u7684\u5386\u53F2</strong></p><blockquote><p>\u548C 302 \u4E00\u6837\uFF0C301 \u5728\u6D4F\u89C8\u5668\u4E2D\u7684\u5B9E\u73B0\u548C\u6807\u51C6\u662F\u4E0D\u540C\u7684\uFF0C\u8FD9\u4E2A\u65F6\u95F4\u4E00\u76F4\u5EF6\u7EED\u5230 2014 \u5E74\u7684 RFC 7231\uFF0C301 \u5B9A\u4E49\u4E2D\u7684 Note \u8FD8\u662F\u63D0\u5230\u4E86\u8FD9\u4E2A\u95EE\u9898\u3002\u76F4\u5230 2015 \u5E74 4 \u6708\uFF0CRFC 7538 \u63D0\u51FA\u4E86 308 \u7684\u6807\u51C6\uFF0C\u7C7B\u4F3C 307 Temporary Redirect \u4E4B\u4E8E 302 Found \u7684\u5B58\u5728\uFF0C308 \u6210\u4E3A\u4E86 301 \u7684\u8865\u5145\u3002</p></blockquote><h1 id="_15-\u5E38\u7528\u8BBE\u8BA1\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#_15-\u5E38\u7528\u8BBE\u8BA1\u6A21\u5F0F" aria-hidden="true">#</a> 15 \u5E38\u7528\u8BBE\u8BA1\u6A21\u5F0F</h1><h2 id="_1-\u521B\u5EFA\u578B-\u5DE5\u5382\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1-\u521B\u5EFA\u578B-\u5DE5\u5382\u6A21\u5F0F" aria-hidden="true">#</a> 1 \u521B\u5EFA\u578B-\u5DE5\u5382\u6A21\u5F0F</h2>`,9),ofn={id:"_1-1-\u7B80\u5355\u5DE5\u5382\u6A21\u5F0F",tabindex:"-1"},cfn=n("a",{class:"header-anchor",href:"#_1-1-\u7B80\u5355\u5DE5\u5382\u6A21\u5F0F","aria-hidden":"true"},"#",-1),lfn=s(),rfn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_1-1-%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},ifn=s("#"),ufn=s("1.1 \u7B80\u5355\u5DE5\u5382\u6A21\u5F0F"),kfn=t(`<blockquote><p>\u5176\u5B9E\u5C31\u662F<strong>\u5C06\u521B\u5EFA\u5BF9\u8C61\u7684\u8FC7\u7A0B\u5355\u72EC\u5C01\u88C5</strong>\uFF0C\u540C\u65F6\u5B83\u7684\u5E94\u7528\u573A\u666F\u4E5F\u975E\u5E38\u5BB9\u6613\u8BC6\u522B\uFF1A\u6709\u6784\u9020\u51FD\u6570\u7684\u5730\u65B9\uFF0C\u6211\u4EEC\u5C31\u5E94\u8BE5\u60F3\u5230\u7B80\u5355\u5DE5\u5382\uFF1B\u5728\u5199\u4E86\u5927\u91CF\u6784\u9020\u51FD\u6570\u3001\u8C03\u7528\u4E86\u5927\u91CF\u7684 new\u3001\u81EA\u89C9\u975E\u5E38\u4E0D\u723D\u7684\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u5C31\u5E94\u8BE5\u601D\u8003\u662F\u4E0D\u662F\u53EF\u4EE5\u638F\u51FA\u5DE5\u5382\u6A21\u5F0F\u91CD\u6784\u6211\u4EEC\u7684\u4EE3\u7801\u4E86</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7ED9\u4E0D\u540C\u5DE5\u79CD\u5206\u914D\u804C\u8D23\u8BF4\u660E</span>
<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> career<span class="token punctuation">,</span> work</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>career <span class="token operator">=</span> career<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>work <span class="token operator">=</span> work<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Factory</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> career</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> work<span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>career<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&#39;coder&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            work <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;\u5199\u4EE3\u7801&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5199\u7CFB\u5206&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u4FEEbug&#39;</span><span class="token punctuation">]</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">case</span> <span class="token string">&#39;product-manager&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            work <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;\u8BA2\u4F1A\u8BAE\u5BA4&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5199PRD&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u50AC\u66F4&#39;</span><span class="token punctuation">]</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">case</span> <span class="token string">&#39;boss&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            work <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;\u559D\u8336&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u770B\u62A5&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u89C1\u5BA2\u6237&#39;</span><span class="token punctuation">]</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> career<span class="token punctuation">,</span> work<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> wang <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Factory</span><span class="token punctuation">(</span><span class="token string">&#39;wang&#39;</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">&#39;boss&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sun <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Factory</span><span class="token punctuation">(</span><span class="token string">&#39;sun&#39;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token string">&#39;coder&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> li <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Factory</span><span class="token punctuation">(</span><span class="token string">&#39;li&#39;</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">&#39;product-manager&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>wang<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sun<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div>`,2),dfn={id:"_1-2-\u62BD\u8C61\u5DE5\u5382\u6A21\u5F0F",tabindex:"-1"},bfn=n("a",{class:"header-anchor",href:"#_1-2-\u62BD\u8C61\u5DE5\u5382\u6A21\u5F0F","aria-hidden":"true"},"#",-1),mfn=s(),hfn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_1-2-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},_fn=s("#"),gfn=s("1.2 \u62BD\u8C61\u5DE5\u5382\u6A21\u5F0F"),Efn=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9A\u4E49\u64CD\u4F5C\u7CFB\u7EDF\u8FD9\u7C7B\u4EA7\u54C1\u7684\u62BD\u8C61\u4EA7\u54C1\u7C7B</span>
<span class="token keyword">class</span> <span class="token class-name">OS</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target <span class="token operator">===</span> <span class="token constant">OS</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;\u4E0D\u80FD\u5B9E\u4F8B\u5316\u62BD\u8C61\u7C7B&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5B9A\u4E49\u5177\u4F53\u64CD\u4F5C\u7CFB\u7EDF\u7684\u5177\u4F53\u4EA7\u54C1\u7C7B</span>
<span class="token keyword">class</span> <span class="token class-name">AndroidOS</span> <span class="token keyword">extends</span> <span class="token class-name">OS</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">controlHardware</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u4F1A\u7528\u5B89\u5353\u7684\u65B9\u5F0F\u53BB\u64CD\u4F5C\u786C\u4EF6&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">AppleOS</span> <span class="token keyword">extends</span> <span class="token class-name">OS</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">controlHardware</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u4F1A\u7528\u82F9\u679C\u7684\u65B9\u5F0F\u53BB\u64CD\u4F5C\u786C\u4EF6&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5B9A\u4E49\u624B\u673A\u786C\u4EF6\u8FD9\u7C7B\u4EA7\u54C1\u7684\u62BD\u8C61\u4EA7\u54C1\u7C7B</span>
<span class="token keyword">class</span> <span class="token class-name">Hardware</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target <span class="token operator">===</span> Hardware<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;\u4E0D\u80FD\u5B9E\u4F8B\u5316\u62BD\u8C61\u7C7B&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u624B\u673A\u786C\u4EF6\u7684\u5171\u6027\u65B9\u6CD5\uFF0C\u8FD9\u91CC\u63D0\u53D6\u4E86\u201C\u6839\u636E\u547D\u4EE4\u8FD0\u8F6C\u201D\u8FD9\u4E2A\u5171\u6027</span>
    <span class="token function">operateByOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;\u62BD\u8C61\u4EA7\u54C1\u65B9\u6CD5\u4E0D\u5141\u8BB8\u76F4\u63A5\u8C03\u7528\uFF0C\u4F60\u9700\u8981\u5C06\u6211\u91CD\u5199\uFF01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5B9A\u4E49\u5177\u4F53\u786C\u4EF6\u7684\u5177\u4F53\u4EA7\u54C1\u7C7B</span>
<span class="token keyword">class</span> <span class="token class-name">QualcommHardware</span> <span class="token keyword">extends</span> <span class="token class-name">Hardware</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">operateByOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u4F1A\u7528\u9AD8\u901A\u7684\u65B9\u5F0F\u53BB\u8FD0\u8F6C&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MiWare</span> <span class="token keyword">extends</span> <span class="token class-name">Hardware</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">operateByOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u4F1A\u7528\u5C0F\u7C73\u7684\u65B9\u5F0F\u53BB\u8FD0\u8F6C&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MobilePhoneFactory</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u63D0\u4F9B\u64CD\u4F5C\u7CFB\u7EDF\u7684\u63A5\u53E3</span>
    <span class="token function">createOS</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;\u62BD\u8C61\u5DE5\u5382\u65B9\u6CD5\u4E0D\u5141\u8BB8\u76F4\u63A5\u8C03\u7528\uFF0C\u4F60\u9700\u8981\u5C06\u6211\u91CD\u5199\uFF01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u63D0\u4F9B\u786C\u4EF6\u7684\u63A5\u53E3</span>
    <span class="token function">createHardware</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;\u62BD\u8C61\u5DE5\u5382\u65B9\u6CD5\u4E0D\u5141\u8BB8\u76F4\u63A5\u8C03\u7528\uFF0C\u4F60\u9700\u8981\u5C06\u6211\u91CD\u5199\uFF01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5177\u4F53\u5DE5\u5382\u7EE7\u627F\u81EA\u62BD\u8C61\u5DE5\u5382</span>
<span class="token keyword">class</span> <span class="token class-name">FakeStarFactory</span> <span class="token keyword">extends</span> <span class="token class-name">MobilePhoneFactory</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">createOS</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u63D0\u4F9B\u5B89\u5353\u7CFB\u7EDF\u5B9E\u4F8B</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AndroidOS</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">createHardware</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u63D0\u4F9B\u9AD8\u901A\u786C\u4EF6\u5B9E\u4F8B</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">QualcommHardware</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u8FD9\u662F\u6211\u7684\u624B\u673A</span>
<span class="token keyword">const</span> myPhone <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FakeStarFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// \u8BA9\u5B83\u62E5\u6709\u64CD\u4F5C\u7CFB\u7EDF</span>
<span class="token keyword">const</span> myOS <span class="token operator">=</span> myPhone<span class="token punctuation">.</span><span class="token function">createOS</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// \u8BA9\u5B83\u62E5\u6709\u786C\u4EF6</span>
<span class="token keyword">const</span> myHardWare <span class="token operator">=</span> myPhone<span class="token punctuation">.</span><span class="token function">createHardware</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// \u542F\u52A8\u64CD\u4F5C\u7CFB\u7EDF(\u8F93\u51FA\u2018\u6211\u4F1A\u7528\u5B89\u5353\u7684\u65B9\u5F0F\u53BB\u64CD\u4F5C\u786C\u4EF6\u2019)</span>
myOS<span class="token punctuation">.</span><span class="token function">controlHardware</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// \u5524\u9192\u786C\u4EF6(\u8F93\u51FA\u2018\u6211\u4F1A\u7528\u9AD8\u901A\u7684\u65B9\u5F0F\u53BB\u8FD0\u8F6C\u2019)</span>
myHardWare<span class="token punctuation">.</span><span class="token function">operateByOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br></div></div><p><strong>\u62BD\u8C61\u5DE5\u5382\u548C\u7B80\u5355\u5DE5\u5382\u7684\u601D\u8DEF\uFF0C\u601D\u8003\u4E00\u4E0B\uFF1A\u5B83\u4EEC\u4E4B\u95F4\u6709\u54EA\u4E9B\u5F02\u540C\uFF1F</strong></p><ul><li>\u5B83\u4EEC\u7684\u5171\u540C\u70B9\uFF0C\u5728\u4E8E\u90FD<strong>\u5C1D\u8BD5\u53BB\u5206\u79BB\u4E00\u4E2A\u7CFB\u7EDF\u4E2D\u53D8\u4E0E\u4E0D\u53D8\u7684\u90E8\u5206</strong>\u3002</li><li>\u5B83\u4EEC\u7684\u4E0D\u540C\u5728\u4E8E<strong>\u573A\u666F\u7684\u590D\u6742\u5EA6</strong>\u3002</li></ul><blockquote><p>\u5728\u7B80\u5355\u5DE5\u5382\u7684\u4F7F\u7528\u573A\u666F\u91CC\uFF0C\u5904\u7406\u7684\u5BF9\u8C61\u662F\u7C7B\uFF0C\u5E76\u4E14\u662F\u4E00\u4E9B\u975E\u5E38\u597D\u5BF9\u4ED8\u7684\u7C7B\u2014\u2014\u5B83\u4EEC\u7684\u5171\u6027\u5BB9\u6613\u62BD\u79BB\uFF0C\u540C\u65F6\u56E0\u4E3A\u903B\u8F91\u672C\u8EAB\u6BD4\u8F83\u7B80\u5355\uFF0C\u6545\u800C\u4E0D\u82DB\u6C42\u4EE3\u7801\u53EF\u6269\u5C55\u6027\u3002\u62BD\u8C61\u5DE5\u5382\u672C\u8D28\u4E0A\u5904\u7406\u7684\u5176\u5B9E\u4E5F\u662F\u7C7B\uFF0C\u4F46\u662F\u662F\u4E00\u5E2E\u975E\u5E38\u68D8\u624B\u3001\u7E41\u6742\u7684\u7C7B\uFF0C\u8FD9\u4E9B\u7C7B\u4E2D\u4E0D\u4EC5\u80FD\u5212\u5206\u51FA\u95E8\u6D3E\uFF0C\u8FD8\u80FD\u5212\u5206\u51FA\u7B49\u7EA7\uFF0C\u540C\u65F6\u5B58\u5728\u7740\u5343\u53D8\u4E07\u5316\u7684\u6269\u5C55\u53EF\u80FD\u6027\u2014\u2014\u8FD9\u4F7F\u5F97\u6211\u4EEC\u5FC5\u987B\u5BF9<strong>\u5171\u6027</strong>\u4F5C\u66F4\u7279\u522B\u7684\u5904\u7406\u3001\u4F7F\u7528\u62BD\u8C61\u7C7B\u53BB\u964D\u4F4E\u6269\u5C55\u7684\u6210\u672C\uFF0C\u540C\u65F6\u9700\u8981\u5BF9\u7C7B\u7684\u6027\u8D28\u4F5C\u5212\u5206</p></blockquote>`,4),ffn={id:"_2-\u521B\u5EFA\u578B-\u5355\u4F8B\u6A21\u5F0F",tabindex:"-1"},vfn=n("a",{class:"header-anchor",href:"#_2-\u521B\u5EFA\u578B-\u5355\u4F8B\u6A21\u5F0F","aria-hidden":"true"},"#",-1),wfn=s(),yfn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_2-%E5%88%9B%E5%BB%BA%E5%9E%8B-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},xfn=s("#"),Afn=s("2 \u521B\u5EFA\u578B-\u5355\u4F8B\u6A21\u5F0F"),Bfn=n("blockquote",null,[n("p",null,[n("strong",null,"\u4FDD\u8BC1\u4E00\u4E2A\u7C7B\u4EC5\u6709\u4E00\u4E2A\u5B9E\u4F8B\uFF0C\u5E76\u63D0\u4F9B\u4E00\u4E2A\u8BBF\u95EE\u5B83\u7684\u5168\u5C40\u8BBF\u95EE\u70B9"),s("\uFF0C\u8FD9\u6837\u7684\u6A21\u5F0F\u5C31\u53EB\u505A\u5355\u4F8B\u6A21\u5F0F\u3002")])],-1),qfn={id:"_2-1-\u5355\u4F8B\u6A21\u5F0F\u7684\u5B9E\u73B0\u601D\u8DEF",tabindex:"-1"},jfn=n("a",{class:"header-anchor",href:"#_2-1-\u5355\u4F8B\u6A21\u5F0F\u7684\u5B9E\u73B0\u601D\u8DEF","aria-hidden":"true"},"#",-1),Sfn=s(),Cfn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_2-1-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF",target:"_blank",rel:"noopener noreferrer"},Dfn=s("#"),Ffn=s("2.1 \u5355\u4F8B\u6A21\u5F0F\u7684\u5B9E\u73B0\u601D\u8DEF"),Pfn=t(`<ul><li>\u5355\u4F8B\u6A21\u5F0F\u60F3\u8981\u505A\u5230\u7684\u662F\uFF0C<strong>\u4E0D\u7BA1\u6211\u4EEC\u5C1D\u8BD5\u53BB\u521B\u5EFA\u591A\u5C11\u6B21\uFF0C\u5B83\u90FD\u53EA\u7ED9\u4F60\u8FD4\u56DE\u7B2C\u4E00\u6B21\u6240\u521B\u5EFA\u7684\u90A3\u552F\u4E00\u7684\u4E00\u4E2A\u5B9E\u4F8B</strong>\u3002</li><li>\u8981\u505A\u5230\u8FD9\u4E00\u70B9\uFF0C\u5C31\u9700\u8981\u6784\u9020\u51FD\u6570<strong>\u5177\u5907\u5224\u65AD\u81EA\u5DF1\u662F\u5426\u5DF2\u7ECF\u521B\u5EFA\u8FC7\u4E00\u4E2A\u5B9E\u4F8B</strong>\u7684\u80FD\u529B\u3002\u6211\u4EEC\u73B0\u5728\u628A\u8FD9\u6BB5\u5224\u65AD\u903B\u8F91\u5199\u6210\u4E00\u4E2A\u9759\u6001\u65B9\u6CD5(\u5176\u5B9E\u4E5F\u53EF\u4EE5\u76F4\u63A5\u5199\u5165\u6784\u9020\u51FD\u6570\u7684\u51FD\u6570\u4F53\u91CC\uFF09\uFF1A</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9A\u4E49\uFF1A\u4FDD\u8BC1\u4E00\u4E2A\u7C7B\u4EC5\u6709\u4E00\u4E2A\u5B9E\u4F8B\uFF0C\u5E76\u63D0\u4F9B\u4E00\u4E2A\u8BBF\u95EE\u5B83\u7684\u5168\u5C40\u8BBF\u95EE\u70B9\u3002</span>
<span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> singleton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> singleton<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> singleton<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">SingleDog</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u662F\u4E00\u4E2A\u5355\u4F8B\u5BF9\u8C61&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u5224\u65AD\u662F\u5426\u5DF2\u7ECFnew\u8FC71\u4E2A\u5B9E\u4F8B</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>SingleDog<span class="token punctuation">.</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u82E5\u8FD9\u4E2A\u552F\u4E00\u7684\u5B9E\u4F8B\u4E0D\u5B58\u5728\uFF0C\u90A3\u4E48\u5148\u521B\u5EFA\u5B83</span>
            SingleDog<span class="token punctuation">.</span>instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingleDog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// \u5982\u679C\u8FD9\u4E2A\u552F\u4E00\u7684\u5B9E\u4F8B\u5DF2\u7ECF\u5B58\u5728\uFF0C\u5219\u76F4\u63A5\u8FD4\u56DE</span>
        <span class="token keyword">return</span> SingleDog<span class="token punctuation">.</span>instance
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> s1 <span class="token operator">=</span> SingleDog<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> s2 <span class="token operator">=</span> SingleDog<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// true</span>
s1 <span class="token operator">===</span> s2
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><p>\u9664\u4E86\u697C\u4E0A\u8FD9\u79CD\u5B9E\u73B0\u65B9\u5F0F\u4E4B\u5916\uFF0C<code>getInstance</code>\u7684\u903B\u8F91\u8FD8\u53EF\u4EE5\u7528<strong>\u95ED\u5305</strong>\u6765\u5B9E\u73B0\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>SingleDog<span class="token punctuation">.</span>getInstance <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5B9A\u4E49\u81EA\u7531\u53D8\u91CFinstance\uFF0C\u6A21\u62DF\u79C1\u6709\u53D8\u91CF</span>
    <span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u5224\u65AD\u81EA\u7531\u53D8\u91CF\u662F\u5426\u4E3Anull</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u5982\u679C\u4E3Anull\u5219new\u51FA\u552F\u4E00\u5B9E\u4F8B</span>
            instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingleDog</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> instance
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>\u53EF\u4EE5\u770B\u51FA\uFF0C\u5728<code>getInstance</code>\u65B9\u6CD5\u7684\u5224\u65AD\u548C\u62E6\u622A\u4E0B\uFF0C\u6211\u4EEC\u4E0D\u7BA1\u8C03\u7528\u591A\u5C11\u6B21\uFF0C<code>SingleDog</code>\u90FD\u53EA\u4F1A\u7ED9\u6211\u4EEC\u8FD4\u56DE\u4E00\u4E2A\u5B9E\u4F8B\uFF0C<code>s1</code>\u548C<code>s2</code>\u73B0\u5728\u90FD\u6307\u5411\u8FD9\u4E2A\u552F\u4E00\u7684\u5B9E\u4F8B</p></blockquote>`,5),Tfn={id:"_2-2-\u751F\u4EA7\u5B9E\u8DF5-vuex\u4E2D\u7684\u5355\u4F8B\u6A21\u5F0F",tabindex:"-1"},Nfn=n("a",{class:"header-anchor",href:"#_2-2-\u751F\u4EA7\u5B9E\u8DF5-vuex\u4E2D\u7684\u5355\u4F8B\u6A21\u5F0F","aria-hidden":"true"},"#",-1),Mfn=s(),Ofn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_2-2-%E7%94%9F%E4%BA%A7%E5%AE%9E%E8%B7%B5-vuex%E4%B8%AD%E7%9A%84%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},Ifn=s("#"),Rfn=s("2.2 \u751F\u4EA7\u5B9E\u8DF5\uFF1AVuex\u4E2D\u7684\u5355\u4F8B\u6A21\u5F0F"),Vfn=t(`<blockquote><p><code>Redux</code> \u548C <code>Vuex</code>\uFF0C\u5B83\u4EEC\u90FD\u5B9E\u73B0\u4E86\u4E00\u4E2A\u5168\u5C40\u7684 <code>Store</code> \u7528\u4E8E\u5B58\u50A8\u5E94\u7528\u7684\u6240\u6709\u72B6\u6001\u3002\u8FD9\u4E2A <code>Store</code> \u7684\u5B9E\u73B0\uFF0C\u6B63\u662F\u5355\u4F8B\u6A21\u5F0F\u7684\u5178\u578B\u5E94\u7528</p></blockquote><p><strong>1. \u7406\u89E3 Vuex \u4E2D\u7684 Store</strong></p><blockquote><p><code>Vuex</code> \u4F7F\u7528\u5355\u4E00\u72B6\u6001\u6811\uFF0C\u7528\u4E00\u4E2A\u5BF9\u8C61\u5C31\u5305\u542B\u4E86\u5168\u90E8\u7684\u5E94\u7528\u5C42\u7EA7\u72B6\u6001\u3002\u81F3\u6B64\u5B83\u4FBF\u4F5C\u4E3A\u4E00\u4E2A\u201C\u552F\u4E00\u6570\u636E\u6E90 (SSOT)\u201D\u800C\u5B58\u5728\u3002\u8FD9\u4E5F\u610F\u5473\u7740\uFF0C\u6BCF\u4E2A\u5E94\u7528\u5C06\u4EC5\u4EC5\u5305\u542B\u4E00\u4E2A store \u5B9E\u4F8B\u3002\u5355\u4E00\u72B6\u6001\u6811\u8BA9\u6211\u4EEC\u80FD\u591F\u76F4\u63A5\u5730\u5B9A\u4F4D\u4EFB\u4E00\u7279\u5B9A\u7684\u72B6\u6001\u7247\u6BB5\uFF0C\u5728\u8C03\u8BD5\u7684\u8FC7\u7A0B\u4E2D\u4E5F\u80FD\u8F7B\u6613\u5730\u53D6\u5F97\u6574\u4E2A\u5F53\u524D\u5E94\u7528\u72B6\u6001\u7684\u5FEB\u7167\u3002 \u2014\u2014Vuex\u5B98\u65B9\u6587\u6863</p></blockquote><p>\u5F53\u7EC4\u4EF6\u975E\u5E38\u591A\u3001\u7EC4\u4EF6\u95F4\u5173\u7CFB\u590D\u6742\u3001\u4E14\u5D4C\u5957\u5C42\u7EA7\u5F88\u6DF1\u7684\u65F6\u5019\uFF0C\u8FD9\u79CD\u539F\u59CB\u7684\u901A\u4FE1\u65B9\u5F0F\u4F1A\u4F7F\u6211\u4EEC\u7684\u903B\u8F91\u53D8\u5F97\u590D\u6742\u96BE\u4EE5\u7EF4\u62A4\u3002\u8FD9\u65F6\u6700\u597D\u7684\u505A\u6CD5\u662F\u5C06\u5171\u4EAB\u7684\u6570\u636E\u62BD\u51FA\u6765\u3001\u653E\u5728\u5168\u5C40\uFF0C\u4F9B\u7EC4\u4EF6\u4EEC\u6309\u7167\u4E00\u5B9A\u7684\u7684\u89C4\u5219\u53BB\u5B58\u53D6\u6570\u636E\uFF0C\u4FDD\u8BC1\u72B6\u6001\u4EE5\u4E00\u79CD\u53EF\u9884\u6D4B\u7684\u65B9\u5F0F\u53D1\u751F\u53D8\u5316\u3002\u4E8E\u662F\u4FBF\u6709\u4E86 Vuex\uFF0C\u8FD9\u4E2A\u7528\u6765\u5B58\u653E\u5171\u4EAB\u6570\u636E\u7684\u552F\u4E00\u6570\u636E\u6E90\uFF0C\u5C31\u662F Store\u3002</p><p><strong>2. Vuex\u5982\u4F55\u786E\u4FDDStore\u7684\u552F\u4E00\u6027</strong></p><p>\u6211\u4EEC\u5148\u6765\u770B\u770B\u5982\u4F55\u5728\u9879\u76EE\u4E2D\u5F15\u5165 <code>Vuex</code>\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B89\u88C5vuex\u63D2\u4EF6</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token comment">// \u5C06store\u6CE8\u5165\u5230Vue\u5B9E\u4F8B\u4E2D</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#app&#39;</span><span class="token punctuation">,</span>
    store
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>\u901A\u8FC7\u8C03\u7528<code>Vue.use()</code>\u65B9\u6CD5\uFF0C\u6211\u4EEC\u5B89\u88C5\u4E86 <code>Vuex</code> \u63D2\u4EF6\u3002<code>Vuex</code> \u63D2\u4EF6\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5B83\u5728\u5185\u90E8\u5B9E\u73B0\u4E86\u4E00\u4E2A <code>install</code> \u65B9\u6CD5\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4F1A\u5728\u63D2\u4EF6\u5B89\u88C5\u65F6\u88AB\u8C03\u7528\uFF0C\u4ECE\u800C\u628A <code>Store</code> \u6CE8\u5165\u5230<code>Vue</code>\u5B9E\u4F8B\u91CC\u53BB\u3002\u4E5F\u5C31\u662F\u8BF4\u6BCF <code>install</code> \u4E00\u6B21\uFF0C\u90FD\u4F1A\u5C1D\u8BD5\u7ED9 <code>Vue</code> \u5B9E\u4F8B\u6CE8\u5165\u4E00\u4E2A <code>Store</code></p></blockquote><p>\u5728<code>install</code>\u65B9\u6CD5\u91CC\uFF0C\u6709\u4E00\u6BB5\u903B\u8F91\u548C\u6211\u4EEC\u697C\u4E0A\u7684 <code>getInstance</code> \u975E\u5E38\u76F8\u4F3C\u7684\u903B\u8F91\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> Vue <span class="token comment">// \u8FD9\u4E2AVue\u7684\u4F5C\u7528\u548C\u697C\u4E0A\u7684instance\u4F5C\u7528\u4E00\u6837</span>
<span class="token operator">...</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">install</span> <span class="token punctuation">(</span><span class="token parameter">_Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5224\u65AD\u4F20\u5165\u7684Vue\u5B9E\u4F8B\u5BF9\u8C61\u662F\u5426\u5DF2\u7ECF\u88ABinstall\u8FC7Vuex\u63D2\u4EF6\uFF08\u662F\u5426\u6709\u4E86\u552F\u4E00\u7684state\uFF09</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Vue <span class="token operator">&amp;&amp;</span> _Vue <span class="token operator">===</span> Vue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>
        <span class="token string">&#39;[vuex] already installed. Vue.use(Vuex) should be called only once.&#39;</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u82E5\u6CA1\u6709\uFF0C\u5219\u4E3A\u8FD9\u4E2AVue\u5B9E\u4F8B\u5BF9\u8C61install\u4E00\u4E2A\u552F\u4E00\u7684Vuex</span>
  Vue <span class="token operator">=</span> _Vue
  <span class="token comment">// \u5C06Vuex\u7684\u521D\u59CB\u5316\u903B\u8F91\u5199\u8FDBVue\u7684\u94A9\u5B50\u51FD\u6570\u91CC</span>
  <span class="token function">applyMixin</span><span class="token punctuation">(</span>Vue<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><blockquote><p>\u697C\u4E0A\u4FBF\u662F <code>Vuex</code> \u6E90\u7801\u4E2D\u5355\u4F8B\u6A21\u5F0F\u7684\u5B9E\u73B0\u529E\u6CD5\u4E86\uFF0C\u5957\u8DEF\u53EF\u4EE5\u8BF4\u548C\u6211\u4EEC\u7684<code>getInstance</code>\u5982\u51FA\u4E00\u8F99\u3002\u901A\u8FC7\u8FD9\u79CD\u65B9\u5F0F\uFF0C\u53EF\u4EE5\u4FDD\u8BC1\u4E00\u4E2A <code>Vue</code> \u5B9E\u4F8B\uFF08\u5373\u4E00\u4E2A Vue \u5E94\u7528\uFF09\u53EA\u4F1A\u88AB <code>install</code> \u4E00\u6B21 <code>Vuex</code> \u63D2\u4EF6\uFF0C\u6240\u4EE5\u6BCF\u4E2A Vue \u5B9E\u4F8B\u53EA\u4F1A\u62E5\u6709\u4E00\u4E2A\u5168\u5C40\u7684 <code>Store</code></p></blockquote><p><strong>3. \u601D\u8003\u65F6\u95F4</strong></p><blockquote><p>\u601D\u8003\u4E00\u4E0B\uFF1A\u5982\u679C\u6211\u5728 <code>install</code> \u91CC\u6CA1\u6709\u5B9E\u73B0\u5355\u4F8B\u6A21\u5F0F\uFF0C\u4F1A\u5E26\u6765\u4EC0\u4E48\u6837\u7684\u9EBB\u70E6\uFF1F</p></blockquote><p>\u6211\u4EEC\u901A\u8FC7\u4E0A\u9762\u7684\u6E90\u7801\u89E3\u6790\u53EF\u4EE5\u770B\u51FA\uFF0C\u6BCF\u6B21 <code>install</code> \u90FD\u4F1A\u4E3AVue\u5B9E\u4F8B\u521D\u59CB\u5316\u4E00\u4E2A <code>Store</code>\u3002\u5047\u5982 <code>install</code> \u91CC\u6CA1\u6709\u5355\u4F8B\u6A21\u5F0F\u7684\u903B\u8F91\uFF0C\u90A3\u6211\u4EEC\u5982\u679C\u5728\u4E00\u4E2A\u5E94\u7528\u91CC\u4E0D\u5C0F\u5FC3\u591A\u6B21\u5B89\u88C5\u4E86\u63D2\u4EF6\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5728\u4E3B\u6587\u4EF6\u91CC\u5B89\u88C5Vuex</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token operator">...</span><span class="token punctuation">(</span>\u4E2D\u95F4\u6DFB\u52A0<span class="token operator">/</span>\u4FEE\u6539\u4E86\u4E00\u4E9Bstore\u7684\u6570\u636E<span class="token punctuation">)</span>

<span class="token comment">// \u5728\u540E\u7EED\u7684\u903B\u8F91\u91CC\u4E0D\u5C0F\u5FC3\u53C8\u5B89\u88C5\u4E86\u4E00\u6B21</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u5931\u53BB\u4E86\u5355\u4F8B\u5224\u65AD\u80FD\u529B\u7684 <code>install</code> \u65B9\u6CD5\uFF0C\u4F1A\u4E3A\u5F53\u524D\u7684Vue\u5B9E\u4F8B\u91CD\u65B0\u6CE8\u5165\u4E00\u4E2A\u65B0\u7684 <code>Store</code>\uFF0C\u4E5F\u5C31\u662F\u8BF4\u4F60\u4E2D\u95F4\u7684\u90A3\u4E9B\u6570\u636E\u64CD\u4F5C\u5168\u90FD\u6CA1\u4E86\uFF0C\u4E00\u5207\u5F52 0\u3002\u56E0\u6B64\uFF0C\u5355\u4F8B\u6A21\u5F0F\u5728\u6B64\u5904\u662F\u975E\u5E38\u5FC5\u8981\u7684\u3002</p><p>\u9664\u4E86\u8BF4\u5728 <code>Vuex</code> \u4E2D\u5927\u5C55\u8EAB\u624B\uFF0C\u6211\u4EEC\u5728 <code>Redux</code>\u3001<code>jQuery</code> \u7B49\u8BB8\u591A\u4F18\u79C0\u7684\u524D\u7AEF\u5E93\u91CC\u4E5F\u90FD\u80FD\u770B\u5230\u5355\u4F8B\u6A21\u5F0F\u7684\u8EAB\u5F71</p>`,17),Hfn={id:"_2-3-\u5355\u4F8B\u6A21\u5F0F\u2014\u2014\u9762\u8BD5\u771F\u9898",tabindex:"-1"},Lfn=n("a",{class:"header-anchor",href:"#_2-3-\u5355\u4F8B\u6A21\u5F0F\u2014\u2014\u9762\u8BD5\u771F\u9898","aria-hidden":"true"},"#",-1),Ufn=s(),Jfn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_2-3-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F-%E9%9D%A2%E8%AF%95%E7%9C%9F%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},Wfn=s("#"),zfn=s("2.3 \u5355\u4F8B\u6A21\u5F0F\u2014\u2014\u9762\u8BD5\u771F\u9898"),Gfn=t(`<blockquote><p>\u5B9E\u73B0\u4E00\u4E2A <code>Storage</code></p></blockquote><p><strong>1. \u63CF\u8FF0</strong></p><blockquote><p>\u5B9E\u73B0<code>Storage</code>\uFF0C\u4F7F\u5F97\u8BE5\u5BF9\u8C61\u4E3A\u5355\u4F8B\uFF0C\u57FA\u4E8E <code>localStorage</code> \u8FDB\u884C\u5C01\u88C5\u3002\u5B9E\u73B0\u65B9\u6CD5 <code>setItem(key,value)</code> \u548C <code>getItem(key)</code></p></blockquote><p><strong>2. \u601D\u8DEF</strong></p><blockquote><p>\u5177\u4F53\u5B9E\u73B0\u4E0A\uFF0C\u628A\u5224\u65AD\u903B\u8F91\u5199\u5165\u9759\u6001\u65B9\u6CD5\u6216\u8005\u6784\u9020\u51FD\u6570\u91CC\u90FD\u6CA1\u5173\u7CFB\uFF0C\u6700\u597D\u80FD\u628A\u95ED\u5305\u7684\u7248\u672C\u4E5F\u5199\u51FA\u6765</p></blockquote><p><strong>3. \u5B9E\u73B0\uFF1A\u9759\u6001\u65B9\u6CD5\u7248</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9A\u4E49Storage</span>
<span class="token keyword">class</span> <span class="token class-name">Storage</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u5224\u65AD\u662F\u5426\u5DF2\u7ECFnew\u8FC71\u4E2A\u5B9E\u4F8B</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Storage<span class="token punctuation">.</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u82E5\u8FD9\u4E2A\u552F\u4E00\u7684\u5B9E\u4F8B\u4E0D\u5B58\u5728\uFF0C\u90A3\u4E48\u5148\u521B\u5EFA\u5B83</span>
            Storage<span class="token punctuation">.</span>instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// \u5982\u679C\u8FD9\u4E2A\u552F\u4E00\u7684\u5B9E\u4F8B\u5DF2\u7ECF\u5B58\u5728\uFF0C\u5219\u76F4\u63A5\u8FD4\u56DE</span>
        <span class="token keyword">return</span> Storage<span class="token punctuation">.</span>instance
    <span class="token punctuation">}</span>
    <span class="token function">getItem</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">setItem</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> storage1 <span class="token operator">=</span> Storage<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> storage2 <span class="token operator">=</span> Storage<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

storage1<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u674E\u96F7&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u674E\u96F7</span>
storage1<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u4E5F\u662F\u674E\u96F7</span>
storage2<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// \u8FD4\u56DEtrue</span>
storage1 <span class="token operator">===</span> storage2
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p><strong>4. \u5B9E\u73B0\uFF1A \u95ED\u5305\u7248</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5148\u5B9E\u73B0\u4E00\u4E2A\u57FA\u7840\u7684StorageBase\u7C7B\uFF0C\u628AgetItem\u548CsetItem\u65B9\u6CD5\u653E\u5728\u5B83\u7684\u539F\u578B\u94FE\u4E0A</span>
<span class="token keyword">function</span> <span class="token function">StorageBase</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">StorageBase</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getItem</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token class-name">StorageBase</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setItem</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u4EE5\u95ED\u5305\u7684\u5F62\u5F0F\u521B\u5EFA\u4E00\u4E2A\u5F15\u7528\u81EA\u7531\u53D8\u91CF\u7684\u6784\u9020\u51FD\u6570</span>
<span class="token keyword">const</span> Storage <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// \u5224\u65AD\u81EA\u7531\u53D8\u91CF\u662F\u5426\u4E3Anull</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u5982\u679C\u4E3Anull\u5219new\u51FA\u552F\u4E00\u5B9E\u4F8B</span>
            instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StorageBase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> instance
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u8FD9\u91CC\u5176\u5B9E\u4E0D\u7528 new Storage \u7684\u5F62\u5F0F\u8C03\u7528\uFF0C\u76F4\u63A5 Storage() \u4E5F\u4F1A\u6709\u4E00\u6837\u7684\u6548\u679C </span>
<span class="token keyword">const</span> storage1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> storage2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

storage1<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u674E\u96F7&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u674E\u96F7</span>
storage1<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u4E5F\u662F\u674E\u96F7</span>
storage2<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// \u8FD4\u56DEtrue</span>
storage1 <span class="token operator">===</span> storage2
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div>`,9),$fn={id:"_2-4-\u5B9E\u73B0\u4E00\u4E2A\u5168\u5C40\u7684\u6A21\u6001\u6846",tabindex:"-1"},Xfn=n("a",{class:"header-anchor",href:"#_2-4-\u5B9E\u73B0\u4E00\u4E2A\u5168\u5C40\u7684\u6A21\u6001\u6846","aria-hidden":"true"},"#",-1),Kfn=s(),Qfn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_2-4-%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%85%A8%E5%B1%80%E7%9A%84%E6%A8%A1%E6%80%81%E6%A1%86",target:"_blank",rel:"noopener noreferrer"},Yfn=s("#"),Zfn=s("2.4 \u5B9E\u73B0\u4E00\u4E2A\u5168\u5C40\u7684\u6A21\u6001\u6846"),n3n=t(`<blockquote><p>\u5B9E\u73B0\u4E00\u4E2A\u5168\u5C40\u552F\u4E00\u7684Modal\u5F39\u6846</p></blockquote><p><strong>\u601D\u8DEF</strong></p><p>\u8FD9\u9053\u9898\u6BD4\u8F83\u7ECF\u5178\uFF0C\u57FA\u672C\u4E0A\u6240\u6709\u8BB2\u5355\u4F8B\u6A21\u5F0F\u7684\u6587\u7AE0\u90FD\u4F1A\u4EE5\u6B64\u4E3A\u4F8B\uFF0C\u540C\u65F6\u5B83\u4E5F\u662F\u65E9\u671F\u5355\u4F8B\u6A21\u5F0F\u5728\u524D\u7AEF\u9886\u57DF\u7684\u6700\u96C6\u4E2D\u4F53\u73B0\u3002</p><blockquote><p>\u4E07\u53D8\u4E0D\u79BB\u5176\u8E2A\uFF0C\u8BB0\u4F4F<code>getInstance</code>\u65B9\u6CD5\u3001\u8BB0\u4F4F<code>instance</code>\u53D8\u91CF\u3001\u8BB0\u4F4F\u95ED\u5305\u548C\u9759\u6001\u65B9\u6CD5\uFF0C\u8FD9\u4E2A\u9898\u9664\u4E86\u8981\u591A\u5199\u70B9 HTML \u548C <code>CSS</code> \u4E4B\u5916\uFF0C\u5BF9\u5927\u5BB6\u6765\u8BF4\u5B8C\u5168\u4E0D\u6210\u95EE\u9898\u3002</p></blockquote><p><strong>\u5B9E\u73B0</strong></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u5355\u4F8B\u6A21\u5F0F\u5F39\u6846<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">#modal</span> <span class="token punctuation">{</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid black<span class="token punctuation">;</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>open<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span>\u6253\u5F00\u5F39\u6846<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>close<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span>\u5173\u95ED\u5F39\u6846<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// \u6838\u5FC3\u903B\u8F91\uFF0C\u8FD9\u91CC\u91C7\u7528\u4E86\u95ED\u5305\u601D\u8DEF\u6765\u5B9E\u73B0\u5355\u4F8B\u6A21\u5F0F</span>
    <span class="token keyword">const</span> Modal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">let</span> modal <span class="token operator">=</span> <span class="token keyword">null</span>
    	<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>modal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            	modal <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
            	modal<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&#39;\u6211\u662F\u4E00\u4E2A\u5168\u5C40\u552F\u4E00\u7684Modal&#39;</span>
            	modal<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&#39;modal&#39;</span>
            	modal<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span>
            	document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>modal<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> modal
    	<span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token comment">// \u70B9\u51FB\u6253\u5F00\u6309\u94AE\u5C55\u793A\u6A21\u6001\u6846</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u672A\u70B9\u51FB\u5219\u4E0D\u521B\u5EFAmodal\u5B9E\u4F8B\uFF0C\u907F\u514D\u4E0D\u5FC5\u8981\u7684\u5185\u5B58\u5360\u7528;\u6B64\u5904\u4E0D\u7528 new Modal \u7684\u5F62\u5F0F\u8C03\u7528\u4E5F\u53EF\u4EE5\uFF0C\u548C Storage \u540C\u7406</span>
    	<span class="token keyword">const</span> modal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Modal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    	modal<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;block&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    <span class="token comment">// \u70B9\u51FB\u5173\u95ED\u6309\u94AE\u9690\u85CF\u6A21\u6001\u6846</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;close&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">const</span> modal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Modal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    	<span class="token keyword">if</span><span class="token punctuation">(</span>modal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	    modal<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span>
    	<span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><p>\u662F\u4E0D\u662F\u53D1\u73B0\u53C8\u662F\u719F\u6089\u7684\u5957\u8DEF\uFF1F\u53C8\u53EF\u4EE5\u9ED8\u5199\u4E86\uFF1F\uFF08ES6 \u7248\u672C\u7684\u5B9E\u73B0\u5927\u5BB6\u81EA\u5DF1\u5C1D\u8BD5\u9ED8\u5199\u4E00\u4E0B\uFF0C\u76F8\u4FE1\u5BF9\u73B0\u5728\u7684\u4F60\u6765\u8BF4\u5DF2\u7ECF\u975E\u5E38\u7B80\u5355\u4E86\uFF09\u3002</p><p>\u8FD9\u5C31\u662F\u5355\u4F8B\u6A21\u5F0F\u9762\u8BD5\u9898\u7684\u7279\u70B9\uFF0C\u51C6\u786E\u5730\u8BF4\uFF0C\u662F\u6240\u6709\u8BBE\u8BA1\u6A21\u5F0F\u76F8\u5173\u9762\u8BD5\u9898\u7684\u7279\u70B9\u2014\u2014\u7262\u8BB0\u6838\u5FC3\u601D\u8DEF\uFF0C\u5C31\u80FD\u4E3E\u4E00\u53CD\u4E09\u3002\u6240\u4EE5\u8BF4\u8BBE\u8BA1\u6A21\u5F0F\u7684\u5B66\u4E60\u662F\u5178\u578B\u7684\u4E00\u5206\u8015\u8018\u4E00\u5206\u6536\u83B7\uFF0C\u6027\u4EF7\u6BD4\u6781\u9AD8\u3002</p>`,8),s3n={id:"_3-\u7ED3\u6784\u578B-\u88C5\u9970\u5668\u6A21\u5F0F",tabindex:"-1"},a3n=n("a",{class:"header-anchor",href:"#_3-\u7ED3\u6784\u578B-\u88C5\u9970\u5668\u6A21\u5F0F","aria-hidden":"true"},"#",-1),e3n=s(),t3n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_3-%E7%BB%93%E6%9E%84%E5%9E%8B-%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},p3n=s("#"),o3n=s("3 \u7ED3\u6784\u578B-\u88C5\u9970\u5668\u6A21\u5F0F"),c3n=n("blockquote",null,[n("p",null,"\u88C5\u9970\u5668\u6A21\u5F0F\uFF0C\u53C8\u540D\u88C5\u9970\u8005\u6A21\u5F0F\u3002\u5B83\u7684\u5B9A\u4E49\u662F\u201C\u5728\u4E0D\u6539\u53D8\u539F\u5BF9\u8C61\u7684\u57FA\u7840\u4E0A\uFF0C\u901A\u8FC7\u5BF9\u5176\u8FDB\u884C\u5305\u88C5\u62D3\u5C55\uFF0C\u4F7F\u539F\u6709\u5BF9\u8C61\u53EF\u4EE5\u6EE1\u8DB3\u7528\u6237\u7684\u66F4\u590D\u6742\u9700\u6C42\u201D\u3002")],-1),l3n={id:"_3-1-\u88C5\u9970\u5668\u6A21\u5F0F\u521D\u76F8\u89C1",tabindex:"-1"},r3n=n("a",{class:"header-anchor",href:"#_3-1-\u88C5\u9970\u5668\u6A21\u5F0F\u521D\u76F8\u89C1","aria-hidden":"true"},"#",-1),i3n=s(),u3n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_3-1-%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%E5%88%9D%E7%9B%B8%E8%A7%81",target:"_blank",rel:"noopener noreferrer"},k3n=s("#"),d3n=s("3.1 \u88C5\u9970\u5668\u6A21\u5F0F\u521D\u76F8\u89C1"),b3n=t(`<blockquote><p>\u4E3A\u4E86\u4E0D\u88AB\u5DF2\u6709\u7684\u4E1A\u52A1\u903B\u8F91\u5E72\u6270\uFF0C\u5F53\u52A1\u4E4B\u6025\u5C31\u662F\u5C06\u65E7\u903B\u8F91\u4E0E\u65B0\u903B\u8F91\u5206\u79BB\uFF0C<strong>\u628A\u65E7\u903B\u8F91\u62BD\u51FA\u53BB</strong>\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5C06\u5C55\u793AModal\u7684\u903B\u8F91\u5355\u72EC\u5C01\u88C5</span>
<span class="token keyword">function</span> <span class="token function">openModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> modal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Modal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    modal<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;block&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u7F16\u5199\u65B0\u903B\u8F91\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u6309\u94AE\u6587\u6848\u4FEE\u6539\u903B\u8F91</span>
<span class="token keyword">function</span> <span class="token function">changeButtonText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">)</span>
    btn<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&#39;\u5FEB\u53BB\u767B\u5F55&#39;</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u6309\u94AE\u7F6E\u7070\u903B\u8F91</span>
<span class="token keyword">function</span> <span class="token function">disableButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> btn <span class="token operator">=</span>  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">)</span>
    btn<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;disabled&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u65B0\u7248\u672C\u529F\u80FD\u903B\u8F91\u6574\u5408</span>
<span class="token keyword">function</span> <span class="token function">changeButtonStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">changeButtonText</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">disableButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>\u7136\u540E\u628A\u4E09\u4E2A\u64CD\u4F5C\u9010\u4E2A\u6DFB\u52A0open\u6309\u94AE\u7684\u76D1\u542C\u51FD\u6570\u91CC\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">openModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">changeButtonStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u5982\u6B64\u4E00\u6765\uFF0C\u6211\u4EEC\u5C31\u5B9E\u73B0\u4E86\u201C\u53EA\u6DFB\u52A0\uFF0C\u4E0D\u4FEE\u6539\u201D\u7684\u88C5\u9970\u5668\u6A21\u5F0F\uFF0C\u4F7F\u7528changeButtonStatus\u7684\u903B\u8F91\u88C5\u9970\u4E86\u65E7\u7684\u6309\u94AE\u70B9\u51FB\u903B\u8F91\u3002\u4EE5\u4E0A\u662FES5\u4E2D\u7684\u5B9E\u73B0\uFF0CES6\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4EE5\u4E00\u79CD\u66F4\u52A0\u9762\u5411\u5BF9\u8C61\u5316\u7684\u65B9\u5F0F\u53BB\u5199\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9A\u4E49\u6253\u5F00\u6309\u94AE</span>
<span class="token keyword">class</span> <span class="token class-name">OpenButton</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u70B9\u51FB\u540E\u5C55\u793A\u5F39\u6846\uFF08\u65E7\u903B\u8F91\uFF09</span>
    <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> modal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Modal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    	modal<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;block&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5B9A\u4E49\u6309\u94AE\u5BF9\u5E94\u7684\u88C5\u9970\u5668</span>
<span class="token keyword">class</span> <span class="token class-name">Decorator</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5C06\u6309\u94AE\u5B9E\u4F8B\u4F20\u5165</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">open_button</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>open_button <span class="token operator">=</span> open_button
    <span class="token punctuation">}</span>
    
    <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>open_button<span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">// \u201C\u5305\u88C5\u201D\u4E86\u4E00\u5C42\u65B0\u903B\u8F91</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeButtonStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">changeButtonStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeButtonText</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">disableButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">disableButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> btn <span class="token operator">=</span>  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">)</span>
        btn<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;disabled&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token function">changeButtonText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">)</span>
        btn<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&#39;\u5FEB\u53BB\u767B\u5F55&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> openButton <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OpenButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> decorator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Decorator</span><span class="token punctuation">(</span>openButton<span class="token punctuation">)</span>

document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;open&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// openButton.onClick()</span>
    <span class="token comment">// \u6B64\u5904\u53EF\u4EE5\u5206\u522B\u5C1D\u8BD5\u4E24\u4E2A\u5B9E\u4F8B\u7684onClick\u65B9\u6CD5\uFF0C\u9A8C\u8BC1\u88C5\u9970\u5668\u662F\u5426\u751F\u6548</span>
    decorator<span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><blockquote><p>\u5927\u5BB6\u8FD9\u91CC\u9700\u8981\u7279\u522B\u5173\u6CE8\u4E00\u4E0B ES6 \u8FD9\u4E2A\u7248\u672C\u7684\u5B9E\u73B0\uFF0C\u8FD9\u91CC\u6211\u4EEC\u628A\u6309\u94AE\u5B9E\u4F8B\u4F20\u7ED9\u4E86 Decorator\uFF0C\u4EE5\u4FBF\u4E8E\u540E\u7EED Decorator \u53EF\u4EE5\u5BF9\u5B83\u4E3A\u6240\u6B32\u4E3A\u8FDB\u884C\u903B\u8F91\u7684\u62D3\u5C55\u3002\u5728 ES7 \u4E2D\uFF0C<code>Decorator</code> \u4F5C\u4E3A\u4E00\u79CD\u8BED\u6CD5\u88AB\u76F4\u63A5\u652F\u6301\u4E86\uFF0C\u5B83\u7684\u4E66\u5199\u4F1A\u53D8\u5F97\u66F4\u52A0\u7B80\u5355\uFF0C\u4F46\u80CC\u540E\u7684\u539F\u7406\u5176\u5B9E\u4E0E\u6B64\u5927\u540C\u5C0F\u5F02</p></blockquote>`,9),m3n={id:"_3-2-\u6DF1\u5165\u88C5\u9970\u5668\u539F\u7406",tabindex:"-1"},h3n=n("a",{class:"header-anchor",href:"#_3-2-\u6DF1\u5165\u88C5\u9970\u5668\u539F\u7406","aria-hidden":"true"},"#",-1),_3n=s(),g3n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_3-2-%E6%B7%B1%E5%85%A5%E8%A3%85%E9%A5%B0%E5%99%A8%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},E3n=s("#"),f3n=s("3.2 \u6DF1\u5165\u88C5\u9970\u5668\u539F\u7406"),v3n=t(`<p>\u5728 ES7 \u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u50CF\u5199 python \u4E00\u6837\u901A\u8FC7\u4E00\u4E2A<code>@</code>\u8BED\u6CD5\u7CD6\u8F7B\u677E\u5730\u7ED9\u4E00\u4E2A\u7C7B\u88C5\u4E0A\u88C5\u9970\u5668\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u88C5\u9970\u5668\u51FD\u6570\uFF0C\u5B83\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u76EE\u6807\u7C7B</span>
<span class="token keyword">function</span> <span class="token function">classDecorator</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">.</span>hasDecorator <span class="token operator">=</span> <span class="token boolean">true</span>
  	<span class="token keyword">return</span> target
<span class="token punctuation">}</span>

<span class="token comment">// \u5C06\u88C5\u9970\u5668\u201C\u5B89\u88C5\u201D\u5230Button\u7C7B\u4E0A</span>
@classDecorator
<span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token punctuation">{</span>
    <span class="token comment">// Button\u7C7B\u7684\u76F8\u5173\u903B\u8F91</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u9A8C\u8BC1\u88C5\u9970\u5668\u662F\u5426\u751F\u6548</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Button \u662F\u5426\u88AB\u88C5\u9970\u4E86\uFF1A&#39;</span><span class="token punctuation">,</span> Button<span class="token punctuation">.</span>hasDecorator<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>\u4E5F\u53EF\u4EE5\u7528\u540C\u6837\u7684\u8BED\u6CD5\u7CD6\u53BB\u88C5\u9970\u7C7B\u91CC\u9762\u7684\u65B9\u6CD5\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5177\u4F53\u7684\u53C2\u6570\u610F\u4E49\uFF0C\u5728\u4E0B\u4E2A\u5C0F\u8282\uFF0C\u8FD9\u91CC\u5927\u5BB6\u5148\u611F\u77E5\u4E00\u4E0B\u64CD\u4F5C</span>
<span class="token keyword">function</span> <span class="token function">funcDecorator</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> name<span class="token punctuation">,</span> descriptor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> originalMethod <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>value
  descriptor<span class="token punctuation">.</span><span class="token function-variable function">value</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u662FFunc\u7684\u88C5\u9970\u5668\u903B\u8F91&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">originalMethod</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> descriptor
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token punctuation">{</span>
    @funcDecorator
    <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u662FFunc\u7684\u539F\u6709\u903B\u8F91&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u9A8C\u8BC1\u88C5\u9970\u5668\u662F\u5426\u751F\u6548</span>
<span class="token keyword">const</span> button <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
button<span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div>`,4),w3n={id:"_3-3-\u88C5\u9970\u5668\u8BED\u6CD5\u7CD6\u80CC\u540E\u7684\u6545\u4E8B",tabindex:"-1"},y3n=n("a",{class:"header-anchor",href:"#_3-3-\u88C5\u9970\u5668\u8BED\u6CD5\u7CD6\u80CC\u540E\u7684\u6545\u4E8B","aria-hidden":"true"},"#",-1),x3n=s(),A3n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_3-3-%E8%A3%85%E9%A5%B0%E5%99%A8%E8%AF%AD%E6%B3%95%E7%B3%96%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B",target:"_blank",rel:"noopener noreferrer"},B3n=s("#"),q3n=s("3.3 \u88C5\u9970\u5668\u8BED\u6CD5\u7CD6\u80CC\u540E\u7684\u6545\u4E8B"),j3n=t(`<blockquote><p>\u6240\u8C13\u8BED\u6CD5\u7CD6\uFF0C\u5F80\u5F80\u610F\u5473\u7740\u201C\u7F8E\u597D\u7684\u8868\u8C61\u201D\u3002\u6B63\u5982 <code>class</code> \u8BED\u6CD5\u7CD6\u80CC\u540E\u662F\u5927\u5BB6\u65E9\u5DF2\u5341\u5206\u719F\u6089\u7684 ES5 \u6784\u9020\u51FD\u6570\u4E00\u6837\uFF0C\u88C5\u9970\u5668\u8BED\u6CD5\u7CD6\u80CC\u540E\u4E5F\u662F\u6211\u4EEC\u7684\u8001\u670B\u53CB\uFF0C\u4E0D\u4FE1\u6211\u4EEC\u4E00\u8D77\u6765\u770B\u770B<code>@decorator</code>\u90FD\u5E2E\u6211\u4EEC\u505A\u4E86\u4E9B\u4EC0\u4E48\uFF1A</p></blockquote><blockquote><p>\u4E0A\u4E00\u8282\u6211\u4EEC\u4F7F\u7528 <code>ES6</code> \u5B9E\u73B0\u88C5\u9970\u5668\u6A21\u5F0F\u65F6\u66FE\u7ECF\u5C06\u6309\u94AE\u5B9E\u4F8B\u4F20\u7ED9\u4E86 <code>Decorator</code>\uFF0C\u4EE5\u4FBF\u4E8E\u540E\u7EED <code>Decorator</code> \u53EF\u4EE5\u5BF9\u5B83\u8FDB\u884C\u903B\u8F91\u7684\u62D3\u5C55\u3002\u8FD9\u4E5F\u6B63\u662F\u88C5\u9970\u5668\u7684\u6700\u6700\u57FA\u672C\u64CD\u4F5C\u2014\u2014\u5B9A\u4E49\u88C5\u9970\u5668\u51FD\u6570\uFF0C\u5C06\u88AB\u88C5\u9970\u8005\u201C\u4EA4\u7ED9\u201D\u88C5\u9970\u5668\u3002\u8FD9\u4E5F\u6B63\u662F\u88C5\u9970\u5668\u8BED\u6CD5\u7CD6\u9996\u5148\u5E2E\u6211\u4EEC\u505A\u6389\u7684\u5DE5\u4F5C \u2014\u2014 \u51FD\u6570\u4F20\u53C2&amp;\u8C03\u7528\u3002</p></blockquote><p><strong>1. \u7C7B\u88C5\u9970\u5668\u7684\u53C2\u6570</strong></p><p>\u5F53\u6211\u4EEC\u7ED9\u4E00\u4E2A\u7C7B\u6DFB\u52A0\u88C5\u9970\u5668\u65F6\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">classDecorator</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">.</span>hasDecorator <span class="token operator">=</span> <span class="token boolean">true</span>
  	<span class="token keyword">return</span> target
<span class="token punctuation">}</span>

<span class="token comment">// \u5C06\u88C5\u9970\u5668\u201C\u5B89\u88C5\u201D\u5230Button\u7C7B\u4E0A</span>
@classDecorator
<span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token punctuation">{</span>
    <span class="token comment">// Button\u7C7B\u7684\u76F8\u5173\u903B\u8F91</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u6B64\u5904\u7684 <code>target</code> \u5C31\u662F\u88AB\u88C5\u9970\u7684\u7C7B\u672C\u8EAB\u3002</p><p><strong>2. \u65B9\u6CD5\u88C5\u9970\u5668\u7684\u53C2\u6570</strong></p><p>\u800C\u5F53\u6211\u4EEC\u7ED9\u4E00\u4E2A\u65B9\u6CD5\u6DFB\u52A0\u88C5\u9970\u5668\u65F6\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">funcDecorator</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> name<span class="token punctuation">,</span> descriptor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> originalMethod <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>value
    descriptor<span class="token punctuation">.</span><span class="token function-variable function">value</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u662FFunc\u7684\u88C5\u9970\u5668\u903B\u8F91&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">originalMethod</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> descriptor
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token punctuation">{</span>
    @funcDecorator
    <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u662FFunc\u7684\u539F\u6709\u903B\u8F91&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>   
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>\u6B64\u5904\u7684 <code>target</code> \u53D8\u6210\u4E86<code>Button.prototype</code>\uFF0C\u5373\u7C7B\u7684\u539F\u578B\u5BF9\u8C61\u3002\u8FD9\u662F\u56E0\u4E3A <code>onClick</code> \u65B9\u6CD5\u603B\u662F\u8981\u4F9D\u9644\u5176\u5B9E\u4F8B\u5B58\u5728\u7684\uFF0C\u4FEE\u9970 <code>onClik</code> \u5176\u5B9E\u662F\u4FEE\u9970\u5B83\u7684\u5B9E\u4F8B\u3002\u4F46\u6211\u4EEC\u7684\u88C5\u9970\u5668\u51FD\u6570\u6267\u884C\u7684\u65F6\u5019\uFF0C<code>Button</code> \u5B9E\u4F8B\u8FD8<strong>\u5E76\u4E0D\u5B58\u5728</strong>\u3002\u4E3A\u4E86\u786E\u4FDD\u5B9E\u4F8B\u751F\u6210\u540E\u53EF\u4EE5\u987A\u5229\u8C03\u7528\u88AB\u88C5\u9970\u597D\u7684\u65B9\u6CD5\uFF0C\u88C5\u9970\u5668\u53EA\u80FD\u53BB\u4FEE\u9970 <code>Button</code> \u7C7B\u7684\u539F\u578B\u5BF9\u8C61\u3002</p><p><strong>3. \u88C5\u9970\u5668\u51FD\u6570\u8C03\u7528\u7684\u65F6\u673A</strong></p><blockquote><p>\u88C5\u9970\u5668\u51FD\u6570\u6267\u884C\u7684\u65F6\u5019\uFF0C<code>Button</code> \u5B9E\u4F8B\u8FD8\u5E76\u4E0D\u5B58\u5728\u3002\u8FD9\u662F\u56E0\u4E3A\u5B9E\u4F8B\u662F\u5728\u6211\u4EEC\u7684\u4EE3\u7801<strong>\u8FD0\u884C\u65F6</strong>\u52A8\u6001\u751F\u6210\u7684\uFF0C\u800C\u88C5\u9970\u5668\u51FD\u6570\u5219\u662F\u5728<strong>\u7F16\u8BD1\u9636\u6BB5</strong>\u5C31\u6267\u884C\u4E86\u3002\u6240\u4EE5\u8BF4\u88C5\u9970\u5668\u51FD\u6570\u771F\u6B63\u80FD\u89E6\u53CA\u5230\u7684\uFF0C\u5C31\u53EA\u6709\u7C7B\u8FD9\u4E2A\u5C42\u9762\u4E0A\u7684\u5BF9\u8C61</p></blockquote>`,12),S3n={id:"_3-4-\u5C06-\u5C5E\u6027\u63CF\u8FF0\u5BF9\u8C61-\u4EA4\u5230\u4F60\u624B\u91CC",tabindex:"-1"},C3n=n("a",{class:"header-anchor",href:"#_3-4-\u5C06-\u5C5E\u6027\u63CF\u8FF0\u5BF9\u8C61-\u4EA4\u5230\u4F60\u624B\u91CC","aria-hidden":"true"},"#",-1),D3n=s(),F3n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_3-4-%E5%B0%86-%E5%B1%9E%E6%80%A7%E6%8F%8F%E8%BF%B0%E5%AF%B9%E8%B1%A1-%E4%BA%A4%E5%88%B0%E4%BD%A0%E6%89%8B%E9%87%8C",target:"_blank",rel:"noopener noreferrer"},P3n=s("#"),T3n=s("3.4 \u5C06\u201C\u5C5E\u6027\u63CF\u8FF0\u5BF9\u8C61\u201D\u4EA4\u5230\u4F60\u624B\u91CC"),N3n=t(`<blockquote><p>\u5728\u7F16\u5199\u7C7B\u88C5\u9970\u5668\u65F6\uFF0C\u6211\u4EEC\u4E00\u822C\u83B7\u53D6\u4E00\u4E2A<code>target</code>\u53C2\u6570\u5C31\u8DB3\u591F\u4E86\u3002\u4F46\u5728\u7F16\u5199\u65B9\u6CD5\u88C5\u9970\u5668\u65F6\uFF0C\u6211\u4EEC\u5F80\u5F80\u9700\u8981\u81F3\u5C11\u4E09\u4E2A\u53C2\u6570\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">funcDecorator</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> name<span class="token punctuation">,</span> descriptor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> originalMethod <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>value
  descriptor<span class="token punctuation">.</span><span class="token function-variable function">value</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u662FFunc\u7684\u88C5\u9970\u5668\u903B\u8F91&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">originalMethod</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> descriptor
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>\u7B2C\u4E00\u4E2A\u53C2\u6570\u7684\u610F\u4E49\uFF0C\u524D\u6587\u5DF2\u7ECF\u89E3\u91CA\u8FC7\u3002\u7B2C\u4E8C\u4E2A\u53C2 \u6570name\uFF0C\u662F\u6211\u4EEC\u4FEE\u9970\u7684\u76EE\u6807\u5C5E\u6027\u5C5E\u6027\u540D\uFF0C\u4E5F\u6CA1\u5565\u597D\u8BB2\u7684\u3002\u5173\u952E\u5C31\u5728\u8FD9\u4E2A d<code>escriptor</code> \u8EAB\u4E0A\uFF0C\u5B83\u4E5F\u662F\u6211\u4EEC\u4F7F\u7528\u9891\u7387\u6700\u9AD8\u7684\u4E00\u4E2A\u53C2\u6570\uFF0C\u5B83\u7684\u771F\u9762\u76EE\u5C31\u662F\u201C\u5C5E\u6027\u63CF\u8FF0\u5BF9\u8C61\u201D\uFF08<code>attributes object</code>\uFF09\u3002\u8FD9\u4E2A\u540D\u5B57\u5927\u5BB6\u53EF\u80FD\u4E0D\u719F\u6089\uFF0C\u4F46<code>Object.defineProperty</code>\u65B9\u6CD5\u6211\u60F3\u5927\u5BB6\u591A\u5C11\u90FD\u7528\u8FC7\uFF0C\u5B83\u7684\u8C03\u7528\u65B9\u5F0F\u662F\u8FD9\u6837\u7684\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> descriptor<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u6B64\u5904\u7684<code>descriptor</code>\u548C\u88C5\u9970\u5668\u51FD\u6570\u91CC\u7684 <code>descriptor</code> \u662F\u4E00\u4E2A\u4E1C\u897F\uFF0C\u5B83\u662F <code>JavaScript</code> \u63D0\u4F9B\u7684\u4E00\u4E2A\u5185\u90E8\u6570\u636E\u7ED3\u6784\u3001\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u4E13\u95E8\u7528\u6765\u63CF\u8FF0\u5BF9\u8C61\u7684\u5C5E\u6027\u3002\u5B83\u7531\u5404\u79CD\u5404\u6837\u7684\u5C5E\u6027\u63CF\u8FF0\u7B26\u7EC4\u6210\uFF0C\u8FD9\u4E9B\u63CF\u8FF0\u7B26\u53C8\u5206\u4E3A\u6570\u636E\u63CF\u8FF0\u7B26\u548C\u5B58\u53D6\u63CF\u8FF0\u7B26\uFF1A</p></blockquote><ul><li>\u6570\u636E\u63CF\u8FF0\u7B26\uFF1A <ul><li>\u5305\u62EC <code>value</code>\uFF08\u5B58\u653E\u5C5E\u6027\u503C\uFF0C\u9ED8\u8BA4\u4E3A\u9ED8\u8BA4\u4E3A <code>undefined</code>\uFF09</li><li><code>writable</code>\uFF08\u8868\u793A\u5C5E\u6027\u503C\u662F\u5426\u53EF\u6539\u53D8\uFF0C\u9ED8\u8BA4\u4E3Atrue\uFF09</li><li><code>enumerable</code>\uFF08\u8868\u793A\u5C5E\u6027\u662F\u5426\u53EF\u679A\u4E3E\uFF0C\u9ED8\u8BA4\u4E3A <code>true</code>\uFF09</li><li><code>configurable</code>\uFF08\u5C5E\u6027\u662F\u5426\u53EF\u914D\u7F6E\uFF0C\u9ED8\u8BA4\u4E3A<code>true</code>\uFF09\u3002</li></ul></li><li>\u5B58\u53D6\u63CF\u8FF0\u7B26\uFF1A <ul><li>\u5305\u62EC <code>get</code> \u65B9\u6CD5\uFF08\u8BBF\u95EE\u5C5E\u6027\u65F6\u8C03\u7528\u7684\u65B9\u6CD5\uFF0C\u9ED8\u8BA4\u4E3A <code>undefined</code>\uFF09</li><li><code>set</code>\uFF08\u8BBE\u7F6E\u5C5E\u6027\u65F6\u8C03\u7528\u7684\u65B9\u6CD5\uFF0C\u9ED8\u8BA4\u4E3A <code>undefined</code> \uFF09</li></ul></li></ul><blockquote><p>\u5F88\u660E\u663E\uFF0C\u62FF\u5230\u4E86 <code>descriptor</code>\uFF0C\u5C31\u76F8\u5F53\u4E8E\u62FF\u5230\u4E86\u76EE\u6807\u65B9\u6CD5\u7684\u63A7\u5236\u6743\u3002\u901A\u8FC7\u4FEE\u6539 <code>descriptor</code>\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u5BF9\u76EE\u6807\u65B9\u6CD5\u4E3A\u6240\u6B32\u4E3A\u7684\u903B\u8F91\u8FDB\u884C\u62D3\u5C55\u4E86~</p></blockquote><blockquote><p>\u5728\u4E0A\u6587\u7684\u793A\u4F8B\u4E2D\uFF0C\u6211\u4EEC\u901A\u8FC7 <code>descriptor</code> \u83B7\u53D6\u5230\u4E86\u539F\u51FD\u6570\u7684\u51FD\u6570\u4F53\uFF08<code>originalMethod</code>\uFF09\uFF0C\u628A\u539F\u51FD\u6570\u63A8\u8FDF\u5230\u4E86\u65B0\u903B\u8F91\uFF08console\uFF09\u7684\u540E\u9762\u53BB\u6267\u884C\u3002\u8FD9\u79CD\u505A\u6CD5\u548C\u6211\u4EEC\u4E0A\u4E00\u8282\u5728ES5\u4E2D\u5B9E\u73B0\u88C5\u9970\u5668\u6A21\u5F0F\u65F6\u505A\u7684\u4E8B\u60C5\u4E00\u6A21\u4E00\u6837\uFF0C\u6240\u4EE5\u8BF4\u88C5\u9970\u5668\u5C31\u662F\u8FD9\u4E48\u56DE\u4E8B\u513F\uFF0C\u6362\u6C64\u4E0D\u6362\u836F~</p></blockquote>`,8),M3n={id:"_3-5-react\u4E2D\u7684\u88C5\u9970\u5668-hoc",tabindex:"-1"},O3n=n("a",{class:"header-anchor",href:"#_3-5-react\u4E2D\u7684\u88C5\u9970\u5668-hoc","aria-hidden":"true"},"#",-1),I3n=s(),R3n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_3-5-react%E4%B8%AD%E7%9A%84%E8%A3%85%E9%A5%B0%E5%99%A8-hoc",target:"_blank",rel:"noopener noreferrer"},V3n=s("#"),H3n=s("3.5 React\u4E2D\u7684\u88C5\u9970\u5668\uFF1AHOC"),L3n=t(`<blockquote><p>\u9AD8\u9636\u7EC4\u4EF6\u5C31\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u4E14\u8BE5\u51FD\u6570\u63A5\u53D7\u4E00\u4E2A\u7EC4\u4EF6\u4F5C\u4E3A\u53C2\u6570\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u7EC4\u4EF6\u3002</p></blockquote><p>HOC (Higher Order Component) \u5373\u9AD8\u9636\u7EC4\u4EF6\u3002\u5B83\u662F\u88C5\u9970\u5668\u6A21\u5F0F\u5728 React \u4E2D\u7684\u5B9E\u8DF5\uFF0C\u540C\u65F6\u4E5F\u662F React \u5E94\u7528\u4E2D\u975E\u5E38\u91CD\u8981\u7684\u4E00\u90E8\u5206\u3002\u901A\u8FC7\u7F16\u5199\u9AD8\u9636\u7EC4\u4EF6\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5145\u5206\u590D\u7528\u73B0\u6709\u903B\u8F91\uFF0C\u63D0\u9AD8\u7F16\u7801\u6548\u7387\u548C\u4EE3\u7801\u7684\u5065\u58EE\u6027\u3002</p><p>\u6211\u4EEC\u73B0\u5728\u7F16\u5199\u4E00\u4E2A\u9AD8\u9636\u7EC4\u4EF6\uFF0C\u5B83\u7684\u4F5C\u7528\u662F\u628A\u4F20\u5165\u7684\u7EC4\u4EF6<strong>\u4E22\u8FDB\u4E00\u4E2A\u6709\u7EA2\u8272\u8FB9\u6846\u7684\u5BB9\u5668\u91CC</strong>\uFF08\u62D3\u5C55\u5176\u6837\u5F0F\uFF09\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">const</span> <span class="token function-variable function">BorderHoc</span> <span class="token operator">=</span> <span class="token parameter">WrappedComponent</span> <span class="token operator">=&gt;</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Component <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">border</span><span class="token operator">:</span> <span class="token string">&#39;solid 1px red&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>WrappedComponent <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> borderHoc
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u7528\u5B83\u6765\u88C5\u9970\u76EE\u6807\u7EC4\u4EF6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> BorderHoc <span class="token keyword">from</span> <span class="token string">&#39;./BorderHoc&#39;</span>

<span class="token comment">// \u7528BorderHoc\u88C5\u9970\u76EE\u6807\u7EC4\u4EF6</span>
@BorderHoc 
<span class="token keyword">class</span> <span class="token class-name">TargetComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u76EE\u6807\u7EC4\u4EF6\u5177\u4F53\u7684\u4E1A\u52A1\u903B\u8F91</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// export\u51FA\u53BB\u7684\u5176\u5B9E\u662F\u4E00\u4E2A\u88AB\u5305\u88F9\u540E\u7684\u7EC4\u4EF6</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> TargetComponent
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>\u53EF\u4EE5\u770B\u51FA\uFF0C\u9AD8\u9636\u7EC4\u4EF6\u4ECE\u5B9E\u73B0\u5C42\u9762\u6765\u770B\u5176\u5B9E\u5C31\u662F\u4E0A\u6587\u6211\u4EEC\u63D0\u5230\u7684\u7C7B\u88C5\u9970\u5668\u3002\u5728\u9AD8\u9636\u7EC4\u4EF6\u7684\u8F85\u52A9\u4E0B\uFF0C\u6211\u4EEC\u4E0D\u5FC5\u56E0\u4E3A\u4E00\u4E2A\u5C0F\u5C0F\u7684\u62D3\u5C55\u800C\u5927\u8D39\u5468\u6298\u5730\u7F16\u5199\u65B0\u7EC4\u4EF6\u6216\u8005\u628A\u4E00\u4E2A\u65B0\u903B\u8F91\u91CD\u5199 <code>N</code> \u591A\u6B21\uFF0C\u53EA\u9700\u8981\u8F7B\u8F7B <code>@</code> \u4E00\u4E0B\u88C5\u9970\u5668\u5373\u53EF\u3002</p></blockquote>`,7),U3n={id:"_3-6-\u4F7F\u7528\u88C5\u9970\u5668\u6539\u5199-redux-connect",tabindex:"-1"},J3n=n("a",{class:"header-anchor",href:"#_3-6-\u4F7F\u7528\u88C5\u9970\u5668\u6539\u5199-redux-connect","aria-hidden":"true"},"#",-1),W3n=s(),z3n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_3-6-%E4%BD%BF%E7%94%A8%E8%A3%85%E9%A5%B0%E5%99%A8%E6%94%B9%E5%86%99-redux-connect",target:"_blank",rel:"noopener noreferrer"},G3n=s("#"),$3n=s("3.6 \u4F7F\u7528\u88C5\u9970\u5668\u6539\u5199 Redux connect"),X3n=t(`<blockquote><p>Redux \u662F\u70ED\u95E8\u7684\u72B6\u6001\u7BA1\u7406\u5DE5\u5177\u3002\u5728 React \u4E2D\uFF0C\u5F53\u6211\u4EEC\u60F3\u8981\u5F15\u5165 Redux \u65F6\uFF0C\u901A\u5E38\u9700\u8981\u8C03\u7528 connect \u65B9\u6CD5\u6765\u628A\u72B6\u6001\u548C\u7EC4\u4EF6\u7ED1\u5728\u4E00\u8D77\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> bindActionCreators <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span>
<span class="token keyword">import</span> action <span class="token keyword">from</span> <span class="token string">&#39;./action.js&#39;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// App\u7684\u4E1A\u52A1\u903B\u8F91</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">mapStateToProps</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5047\u8BBEApp\u7684\u72B6\u6001\u5BF9\u5E94\u72B6\u6001\u6811\u4E0A\u7684app\u8282\u70B9</span>
  <span class="token keyword">return</span> state<span class="token punctuation">.</span>app
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">mapDispatchToProps</span><span class="token punctuation">(</span><span class="token parameter">dispatch</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8FD9\u6BB5\u770B\u4E0D\u61C2\u4E5F\u6CA1\u5173\u7CFB\uFF0C\u4E0B\u9762\u4F1A\u6709\u89E3\u91CA\u3002\u91CD\u70B9\u7406\u89E3connect\u7684\u8C03\u7528\u5373\u53EF</span>
  <span class="token keyword">return</span> <span class="token function">bindActionCreators</span><span class="token punctuation">(</span>action<span class="token punctuation">,</span> dispatch<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u628AApp\u7EC4\u4EF6\u4E0ERedux\u7ED1\u5728\u4E00\u8D77</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">,</span> mapDispatchToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>\u8FD9\u91CC\u7ED9\u6CA1\u7528\u8FC7 redux \u7684\u540C\u5B66\u89E3\u91CA\u4E00\u4E0B connect \u7684\u4E24\u4E2A\u5165\u53C2\uFF1A<code>mapStateToProps</code> \u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u5B83\u53EF\u4EE5\u5EFA\u7ACB\u7EC4\u4EF6\u548C\u72B6\u6001\u4E4B\u95F4\u7684\u6620\u5C04\u5173\u7CFB\uFF1B<code>mapDispatchToProps</code>\u4E5F\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u5B83\u7528\u4E8E\u5EFA\u7ACB\u7EC4\u4EF6\u548C<code>store.dispatch</code>\u7684\u5173\u7CFB\uFF0C\u4F7F\u7EC4\u4EF6\u5177\u5907\u901A\u8FC7 dispatch \u6765\u6D3E\u53D1\u72B6\u6001\u7684\u80FD\u529B\u3002</p><blockquote><p>\u603B\u800C\u8A00\u4E4B\uFF0C\u6211\u4EEC\u8C03\u7528 connect \u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A<strong>\u5177\u6709\u88C5\u9970\u4F5C\u7528\u7684\u51FD\u6570</strong>\uFF0C\u8FD9\u4E2A\u51FD\u6570\u53EF\u4EE5\u63A5\u6536\u4E00 \u4E2AReact \u7EC4\u4EF6\u4F5C\u4E3A\u53C2\u6570\uFF0C\u4F7F\u8FD9\u4E2A\u76EE\u6807\u7EC4\u4EF6\u548C Redux \u7ED3\u5408\u3001\u5177\u5907 Redux \u63D0\u4F9B\u7684\u6570\u636E\u548C\u80FD\u529B\u3002\u65E2\u7136\u6709\u88C5\u9970\u4F5C\u7528\uFF0C\u65E2\u7136\u662F<strong>\u80FD\u529B\u7684\u62D3\u5C55</strong>\uFF0C\u90A3\u4E48\u5C31\u4E00\u5B9A\u80FD\u7528\u88C5\u9970\u5668\u6765\u6539\u5199\uFF1A</p></blockquote><p>\u628A <code>connect</code> \u62BD\u51FA\u6765\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> bindActionCreators <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span>
<span class="token keyword">import</span> action <span class="token keyword">from</span> <span class="token string">&#39;./action.js&#39;</span>

<span class="token keyword">function</span> <span class="token function">mapStateToProps</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> state<span class="token punctuation">.</span>app
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">mapDispatchToProps</span><span class="token punctuation">(</span><span class="token parameter">dispatch</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">bindActionCreators</span><span class="token punctuation">(</span>action<span class="token punctuation">,</span> dispatch<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5C06connect\u8C03\u7528\u540E\u7684\u7ED3\u679C\u4F5C\u4E3A\u4E00\u4E2A\u88C5\u9970\u5668\u5BFC\u51FA</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">,</span> mapDispatchToProps<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>\u5728\u7EC4\u4EF6\u6587\u4EF6\u91CC\u5F15\u5165<code>connect</code>\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> connect <span class="token keyword">from</span> <span class="token string">&#39;./connect.js&#39;</span>   

@connect
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// App\u7684\u4E1A\u52A1\u903B\u8F91</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u8FD9\u6837\u4E00\u6765\uFF0C\u6211\u4EEC\u7684\u4EE3\u7801\u7ED3\u6784\u662F\u4E0D\u662F\u6E05\u6670\u4E86\u5F88\u591A</p>`,9),K3n=s("\u63A8\u8350\u4E00\u4E2A\u975E\u5E38\u8D5E\u7684\u88C5\u9970\u6A21\u5F0F\u5E93 \u2014\u2014 "),Q3n={href:"https://github.com/jayphelps/core-decorators",target:"_blank",rel:"noopener noreferrer"},Y3n=s("core-decorators (opens new window)"),Z3n=s("\u3002core-decorators \u5E2E\u6211\u4EEC\u5B9E\u73B0\u597D\u4E86\u4E00\u4E9B\u4F7F\u7528\u9891\u7387\u8F83\u9AD8\u7684\u88C5\u9970\u5668\uFF0C\u6BD4\u5982"),n2n=n("code",null,"@readonly",-1),s2n=s("(\u4F7F\u76EE\u6807\u5C5E\u6027\u53EA\u8BFB)\u3001"),a2n=n("code",null,"@deprecate",-1),e2n=s("(\u5728\u63A7\u5236\u53F0\u8F93\u51FA\u8B66\u544A\uFF0C\u63D0\u793A\u7528\u6237\u67D0\u4E2A\u6307\u5B9A\u7684\u65B9\u6CD5\u5DF2\u88AB\u5E9F\u9664)\u7B49"),t2n={id:"_4-\u7ED3\u6784\u578B-\u9002\u914D\u5668\u6A21\u5F0F",tabindex:"-1"},p2n=n("a",{class:"header-anchor",href:"#_4-\u7ED3\u6784\u578B-\u9002\u914D\u5668\u6A21\u5F0F","aria-hidden":"true"},"#",-1),o2n=s(),c2n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_4-%E7%BB%93%E6%9E%84%E5%9E%8B-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},l2n=s("#"),r2n=s("4 \u7ED3\u6784\u578B-\u9002\u914D\u5668\u6A21\u5F0F"),i2n={id:"_4-1-\u517C\u5BB9\u63A5\u53E3",tabindex:"-1"},u2n=n("a",{class:"header-anchor",href:"#_4-1-\u517C\u5BB9\u63A5\u53E3","aria-hidden":"true"},"#",-1),k2n=s(),d2n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_4-1-%E5%85%BC%E5%AE%B9%E6%8E%A5%E5%8F%A3",target:"_blank",rel:"noopener noreferrer"},b2n=s("#"),m2n=s("4.1 \u517C\u5BB9\u63A5\u53E3"),h2n=t(`<blockquote><p>\u5927\u5BB6\u77E5\u9053\u6211\u4EEC\u73B0\u5728\u6709\u4E00\u4E2A\u975E\u5E38\u597D\u7528\u5F02\u6B65\u65B9\u6848\u53EB<code>fetch</code>\uFF0C\u5B83\u7684\u5199\u6CD5\u6BD4<code>ajax</code>\u4F18\u96C5\u5F88\u591A\u3002\u56E0\u6B64\u5728\u4E0D\u8003\u8651\u517C\u5BB9\u6027\u7684\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u66F4\u613F\u610F\u4F7F\u7528<code>fetch</code>\u3001\u800C\u4E0D\u662F\u4F7F\u7528ajax\u6765\u53D1\u8D77\u5F02\u6B65\u8BF7\u6C42\u3002\u674E\u96F7\u662F\u62DC<code>fetch</code>\u6559\u7684\u5FE0\u5B9E\u4FE1\u5F92\uFF0C\u4E3A\u4E86\u80FD\u66F4\u597D\u5730\u4F7F\u7528<code>fetch</code>\uFF0C\u4ED6\u5C01\u88C5\u4E86\u4E00\u4E2A\u57FA\u4E8E<code>fetch</code>\u7684<code>http</code>\u65B9\u6CD5\u5E93\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">HttpUtils</span> <span class="token punctuation">{</span>
  <span class="token comment">// get\u65B9\u6CD5</span>
  <span class="token keyword">static</span> <span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8C03\u7528fetch</span>
      <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// post\u65B9\u6CD5\uFF0Cdata\u4EE5object\u5F62\u5F0F\u4F20\u5165</span>
  <span class="token keyword">static</span> <span class="token function">post</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8C03\u7528fetch</span>
      <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">Accept</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/x-www-form-urlencoded&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// \u5C06object\u7C7B\u578B\u7684\u6570\u636E\u683C\u5F0F\u5316\u4E3A\u5408\u6CD5\u7684body\u53C2\u6570</span>
        <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// body\u8BF7\u6C42\u4F53\u7684\u683C\u5F0F\u5316\u65B9\u6CD5</span>
  <span class="token keyword">static</span> <span class="token function">changeData</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> prop<span class="token punctuation">,</span>
      str <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
    <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>prop <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        str <span class="token operator">+=</span> prop <span class="token operator">+</span> <span class="token string">&#39;=&#39;</span> <span class="token operator">+</span> obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        str <span class="token operator">+=</span> <span class="token string">&#39;&amp;&#39;</span> <span class="token operator">+</span> prop <span class="token operator">+</span> <span class="token string">&#39;=&#39;</span> <span class="token operator">+</span> obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
      i<span class="token operator">++</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> str
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><p>\u5F53\u6211\u60F3\u4F7F\u7528 <code>fetch</code> \u53D1\u8D77\u8BF7\u6C42\u65F6\uFF0C\u53EA\u9700\u8981\u8FD9\u6837\u8F7B\u677E\u5730\u8C03\u7528\uFF0C\u800C\u4E0D\u5FC5\u518D\u64CD\u5FC3\u7E41\u7410\u7684\u6570\u636E\u914D\u7F6E\u548C\u6570\u636E\u683C\u5F0F\u5316\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9A\u4E49\u76EE\u6807url\u5730\u5740</span>
<span class="token keyword">const</span> <span class="token constant">URL</span> <span class="token operator">=</span> <span class="token string">&quot;xxxxx&quot;</span>
<span class="token comment">// \u5B9A\u4E49post\u5165\u53C2</span>
<span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u53D1\u8D77post\u8BF7\u6C42</span>
 <span class="token keyword">const</span> postResponse <span class="token operator">=</span> <span class="token keyword">await</span> HttpUtils<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">,</span>params<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
 
 <span class="token comment">// \u53D1\u8D77get\u8BF7\u6C42</span>
 <span class="token keyword">const</span> getResponse <span class="token operator">=</span> <span class="token keyword">await</span> HttpUtils<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>\u771F\u662F\u4E2A\u597D\u7528\u7684\u65B9\u6CD5\u5E93\uFF01\u8001\u677F\u770B\u4E86\u674E\u96F7\u7684 <code>HttpUtils</code> \u5E93\uFF0C\u559C\u4E0A\u7709\u68A2\u2014\u2014\u539F\u6765\u8001\u677F\u4E5F\u662F\u4E2A\u62DC fetch \u6559\u3002\u8001\u677F\u8BF4\u674E\u96F7\uFF0C\u54B1\u4EEC\u516C\u53F8\u4EE5\u540E\u8981\u505A\u6F6E\u6D41\u516C\u53F8\u4E86\uFF0C\u5199\u4EE3\u7801\u4E0D\u518D\u8003\u8651\u517C\u5BB9\u6027\uFF0C\u6211\u5E0C\u671B\u4F60\u80FD<strong>\u628A\u516C\u53F8\u6240\u6709\u7684\u4E1A\u52A1\u7684\u7F51\u7EDC\u8BF7\u6C42\u90FD\u8FC1\u79FB\u5230\u4F60\u8FD9\u4E2A HttpUtils \u4E0A\u6765</strong>\uFF0C\u8FD9\u6837\u4EE5\u540E\u4F60\u53EA\u7528\u7EF4\u62A4\u8FD9\u4E00\u4E2A\u5E93\u4E86\uFF0C\u4E5F\u65B9\u4FBF\u3002\u674E\u96F7\u4E00\u542C\uFF0C\u60B2\u4ECE\u4E2D\u6765\u2014\u2014\u4ED6\u662F\u8BE5\u516C\u53F8\u7684\u7B2C 99 \u4EE3\u5458\u5DE5\uFF0C\u5BF9\u8FDC\u53E4\u65F6\u671F\u7684\u4E1A\u52A1\u4E00\u65E0\u6240\u77E5\u3002\u800C\u8BE5\u516C\u53F8\u7B2C1\u4EE3\u5458\u5DE5\u5C01\u88C5\u7684\u7F51\u7EDC\u8BF7\u6C42\u5E93\uFF0C\u662F\u57FA\u4E8E <code>XMLHttpRequest</code> \u7684\uFF0C\u5DEE\u4E0D\u591A\u957F\u8FD9\u6837\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Ajax</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> success<span class="token punctuation">,</span> failed</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// \u521B\u5EFAajax\u5BF9\u8C61</span>
    <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span><span class="token punctuation">{</span>
        xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&#39;Microsoft.XMLHTTP&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
 
   <span class="token operator">...</span><span class="token punctuation">(</span>\u6B64\u5904\u7701\u7565\u4E00\u7CFB\u5217\u7684\u4E1A\u52A1\u903B\u8F91\u7EC6\u8282<span class="token punctuation">)</span>
   
   <span class="token keyword">var</span> type <span class="token operator">=</span> type<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// \u8BC6\u522B\u8BF7\u6C42\u7C7B\u578B</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
          xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span> url <span class="token operator">+</span> <span class="token string">&#39;?&#39;</span> <span class="token operator">+</span> data<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u5982\u679C\u6709\u6570\u636E\u5C31\u62FC\u63A5</span>
        <span class="token punctuation">}</span> 
        <span class="token comment">// \u53D1\u9001get\u8BF7\u6C42</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5982\u679C\u9700\u8981\u50CF html \u8868\u5355\u90A3\u6837 POST \u6570\u636E\uFF0C\u4F7F\u7528 setRequestHeader() \u6765\u6DFB\u52A0 http \u5934\u3002</span>
        xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/x-www-form-urlencoded&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u53D1\u9001post\u8BF7\u6C42</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    <span class="token comment">// \u5904\u7406\u8FD4\u56DE\u6570\u636E</span>
    xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">success</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>failed<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token function">failed</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p>\u5B9E\u73B0\u903B\u8F91\u6211\u4EEC\u7B80\u5355\u63CF\u8FF0\u4E86\u4E00\u4E0B\uFF0C\u8FD9\u4E2A\u4E0D\u662F\u91CD\u70B9\uFF0C\u91CD\u70B9\u662F\u5B83\u662F\u8FD9\u6837\u8C03\u7528\u7684\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u53D1\u9001get\u8BF7\u6C42</span>
<span class="token function">Ajax</span><span class="token punctuation">(</span><span class="token string">&#39;get&#39;</span><span class="token punctuation">,</span> url\u5730\u5740<span class="token punctuation">,</span> post\u5165\u53C2<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// \u6210\u529F\u7684\u56DE\u8C03\u903B\u8F91</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// \u5931\u8D25\u7684\u56DE\u8C03\u903B\u8F91</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u674E\u96F7\u4F5B\u4E86 \u2014\u2014 \u4E0D\u4EC5\u63A5\u53E3\u540D\u4E0D\u540C\uFF0C\u5165\u53C2\u65B9\u5F0F\u4E5F\u4E0D\u4E00\u6837\uFF0C\u8FD9\u624B\u52A8\u6539\u8981\u6539\u5230\u4F55\u5E74\u4F55\u65E5\u5462\uFF1F</p><blockquote><p>\u8FD8\u597D\u674E\u96F7\u5B66\u8FC7\u8BBE\u8BA1\u6A21\u5F0F\uFF0C\u4ED6\u7ACB\u523B\u8054\u60F3\u5230\u4E86\u4E13\u95E8\u4E3A\u6211\u4EEC<strong>\u62B9\u5E73\u5DEE\u5F02</strong>\u7684\u9002\u914D\u5668\u6A21\u5F0F\u3002\u8981\u628A\u8001\u4EE3\u7801\u8FC1\u79FB\u5230\u65B0\u63A5\u53E3\uFF0C\u4E0D\u4E00\u5B9A\u8981\u6328\u4E2A\u513F\u53BB\u4FEE\u6539\u6BCF\u4E00\u6B21\u7684\u63A5\u53E3\u8C03\u7528\u2014\u2014\u6B63\u5982\u6211\u4EEC\u60F3\u7528 iPhoneX + \u65E7\u8033\u673A\u542C\u6B4C\uFF0C\u4E0D\u5FC5\u6328\u4E2A\u513F\u53BB\u6539\u9020\u8033\u673A\u4E00\u6837\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u5728\u5F15\u5165\u63A5\u53E3\u65F6\u8FDB\u884C<strong>\u4E00\u6B21\u9002\u914D</strong>\uFF0C\u4FBF\u53EF\u8F7B\u677E\u5730 cover \u6389\u4E1A\u52A1\u91CC\u53EF\u80FD\u4F1A\u6709\u7684<strong>\u591A\u6B21\u8C03\u7528</strong>\uFF08\u5177\u4F53\u7684\u89E3\u6790\u5728\u6CE8\u91CA\u91CC\uFF09\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Ajax\u9002\u914D\u5668\u51FD\u6570\uFF0C\u5165\u53C2\u4E0E\u65E7\u63A5\u53E3\u4FDD\u6301\u4E00\u81F4</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">AjaxAdapter</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> success<span class="token punctuation">,</span> failed</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> type <span class="token operator">=</span> type<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> result
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
         <span class="token comment">// \u5B9E\u9645\u7684\u8BF7\u6C42\u5168\u90E8\u7531\u65B0\u63A5\u53E3\u53D1\u8D77</span>
         <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            result <span class="token operator">=</span> <span class="token keyword">await</span> HttpUtils<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            result <span class="token operator">=</span> <span class="token keyword">await</span> HttpUtils<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// \u5047\u8BBE\u8BF7\u6C42\u6210\u529F\u5BF9\u5E94\u7684\u72B6\u6001\u7801\u662F1</span>
        result<span class="token punctuation">.</span>statusCode <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> success <span class="token operator">?</span> <span class="token function">success</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">failed</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u6355\u6349\u7F51\u7EDC\u9519\u8BEF</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>failed<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">failed</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u7528\u9002\u914D\u5668\u9002\u914D\u65E7\u7684Ajax\u65B9\u6CD5</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">Ajax</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> success<span class="token punctuation">,</span> failed</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">AjaxAdapter</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> success<span class="token punctuation">,</span> failed<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><blockquote><p>\u5982\u6B64\u4E00\u6765\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u7F16\u5199\u4E00\u4E2A\u9002\u914D\u5668\u51FD\u6570<code>AjaxAdapter</code>\uFF0C\u5E76\u7528\u9002\u914D\u5668\u53BB\u627F\u63A5\u65E7\u63A5\u53E3\u7684\u53C2\u6570\uFF0C\u5C31\u53EF\u4EE5\u5B9E\u73B0\u65B0\u65E7\u63A5\u53E3\u7684\u65E0\u7F1D\u8854\u63A5\u4E86~</p></blockquote>`,12),_2n={id:"_4-2-\u751F\u4EA7\u5B9E\u8DF5-axios\u4E2D\u7684\u9002\u914D\u5668",tabindex:"-1"},g2n=n("a",{class:"header-anchor",href:"#_4-2-\u751F\u4EA7\u5B9E\u8DF5-axios\u4E2D\u7684\u9002\u914D\u5668","aria-hidden":"true"},"#",-1),E2n=s(),f2n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_4-2-%E7%94%9F%E4%BA%A7%E5%AE%9E%E8%B7%B5-axios%E4%B8%AD%E7%9A%84%E9%80%82%E9%85%8D%E5%99%A8",target:"_blank",rel:"noopener noreferrer"},v2n=s("#"),w2n=s("4.2 \u751F\u4EA7\u5B9E\u8DF5\uFF1Aaxios\u4E2D\u7684\u9002\u914D\u5668"),y2n=s("\u6570\u6708\u4E4B\u540E\uFF0C\u674E\u96F7\u7684\u8001\u677F\u53D1\u73B0\u4E86\u7F51\u7EDC\u8BF7\u6C42\u795E\u5E93axios\uFF0C\u4E8E\u662F\u56E2\u961F\u7684\u65B9\u6848\u53C8\u6574\u4E2A\u8FC1\u79FB\u5230\u4E86"),x2n=n("code",null,"axios",-1),A2n=s("\u2014\u2014\u5BF9\u4E8E\u5FC3\u4E2D\u6709\u9002\u914D\u5668\u7684\u674E\u96F7\u6765\u8BF4\uFF0C\u8FD9\u73B0\u5728\u5DF2\u7ECF\u6839\u672C\u4E0D\u662F\u4E2A\u4E8B\u513F\u3002\u4E0D\u8FC7\u672C\u5C0F\u8282\u6211\u4EEC\u8981\u804A\u7684\u53EF\u4E0D\u518D\u662F\u201C\u5982\u4F55\u4F7F\u73B0\u6709\u63A5\u53E3\u517C\u5BB9axios\u201D\u4E86\u3002\u6B64\u5904\u5F15\u51FAaxios\uFF0C\u4E00\u662F\u56E0\u4E3A\u5927\u5BB6\u5BF9\u5B83\u8DB3\u591F\u719F\u6089\uFF08\u4E0D\u719F\u6089\u7684\u540C\u5B66\uFF0C\u70B9"),B2n={href:"https://github.com/axios/axios",target:"_blank",rel:"noopener noreferrer"},q2n=s("\u8FD9\u91CC (opens new window)"),j2n=s("\u53EF\u4EE5\u5FEB\u901F\u719F\u6089\u4E00\u4E0B~\uFF09\uFF0C\u4E8C\u662F\u56E0\u4E3Aaxios\u672C\u8EAB\u5C31\u7528\u5230\u4E86\u6211\u4EEC\u7684"),S2n=n("strong",null,"\u9002\u914D\u5668\u6A21\u5F0F",-1),C2n=s("\uFF0C\u5B83\u7684\u517C\u5BB9\u65B9\u6848\u503C\u5F97\u6211\u4EEC\u5B66\u4E60\u548C\u501F\u9274\u3002"),D2n=t(`<p>\u5728\u4F7F\u7528<code>axios</code>\u65F6\uFF0C\u4F5C\u4E3A\u7528\u6237\u6211\u4EEC\u53EA\u9700\u8981\u638C\u63E1\u4EE5\u4E0B\u9762\u4E09\u4E2A\u6700\u5E38\u7528\u7684\u63A5\u53E3\u4E3A\u4EE3\u8868\u7684\u4E00\u5957<code>api</code>\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Make a request for a user with a given ID</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/user?ID=12345&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// handle success</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// handle error</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// always executed</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>   
     
axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&#39;/user&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&#39;Fred&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">&#39;Flintstone&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   

<span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;/user/12345&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&#39;Fred&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">&#39;Flintstone&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><ul><li>\u4FBF\u53EF\u8F7B\u677E\u5730\u53D1\u8D77\u5404\u79CD\u59FF\u52BF\u7684\u7F51\u7EDC\u8BF7\u6C42\uFF0C\u800C\u4E0D\u7528\u53BB\u5173\u5FC3\u5E95\u5C42\u7684\u5B9E\u73B0\u7EC6\u8282\u3002</li><li>\u9664\u4E86\u7B80\u660E\u4F18\u96C5\u7684api\u4E4B\u5916\uFF0Caxios \u5F3A\u5927\u7684\u5730\u65B9\u8FD8\u5728\u4E8E\uFF0C\u5B83\u4E0D\u4EC5\u4EC5\u662F\u4E00\u4E2A\u5C40\u9650\u4E8E\u6D4F\u89C8\u5668\u7AEF\u7684\u5E93\u3002\u5728Node\u73AF\u5883\u4E0B\uFF0C\u6211\u4EEC\u5C1D\u8BD5\u8C03\u7528\u4E0A\u9762\u7684 api\uFF0C\u4F1A\u53D1\u73B0\u5B83\u7167\u6837\u597D\u4F7F \u2014\u2014 axios \u5B8C\u7F8E\u5730<strong>\u62B9\u5E73\u4E86\u4E24\u79CD\u73AF\u5883\u4E0Bapi\u7684\u8C03\u7528\u5DEE\u5F02</strong>\uFF0C\u9760\u7684\u6B63\u662F\u5BF9\u9002\u914D\u5668\u6A21\u5F0F\u7684\u7075\u6D3B\u8FD0\u7528\u3002</li></ul>`,3),F2n=s("\u5728 "),P2n={href:"https://github.com/axios/axios/blob/master/lib/core/Axios.js",target:"_blank",rel:"noopener noreferrer"},T2n=s("axios \u7684\u6838\u5FC3\u903B\u8F91 (opens new window)"),N2n=s("\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u6CE8\u610F\u5230\u5B9E\u9645\u4E0A\u6D3E\u53D1\u8BF7\u6C42\u7684\u662F "),M2n={href:"https://github.com/axios/axios/blob/master/lib/core/dispatchRequest.js",target:"_blank",rel:"noopener noreferrer"},O2n=s("dispatchRequest \u65B9\u6CD5 (opens new window)"),I2n=s("\u3002\u8BE5\u65B9\u6CD5\u5185\u90E8\u5176\u5B9E\u4E3B\u8981\u505A\u4E86\u4E24\u4EF6\u4E8B\uFF1A"),R2n=t(`<ol><li>\u6570\u636E\u8F6C\u6362\uFF0C\u8F6C\u6362\u8BF7\u6C42\u4F53/\u54CD\u5E94\u4F53\uFF0C\u53EF\u4EE5\u7406\u89E3\u4E3A\u6570\u636E\u5C42\u9762\u7684\u9002\u914D\uFF1B</li><li>\u8C03\u7528\u9002\u914D\u5668\u3002</li></ol><blockquote><p>\u8C03\u7528\u9002\u914D\u5668\u7684\u903B\u8F91\u5982\u4E0B\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u82E5\u7528\u6237\u672A\u624B\u52A8\u914D\u7F6E\u9002\u914D\u5668\uFF0C\u5219\u4F7F\u7528\u9ED8\u8BA4\u7684\u9002\u914D\u5668</span>
<span class="token keyword">var</span> adapter <span class="token operator">=</span> config<span class="token punctuation">.</span>adapter <span class="token operator">||</span> defaults<span class="token punctuation">.</span>adapter<span class="token punctuation">;</span>
  
  <span class="token comment">// dispatchRequest\u65B9\u6CD5\u7684\u672B\u5C3E\u8C03\u7528\u7684\u662F\u9002\u914D\u5668\u65B9\u6CD5</span>
  <span class="token keyword">return</span> <span class="token function">adapter</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">onAdapterResolution</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8BF7\u6C42\u6210\u529F\u7684\u56DE\u8C03</span>
    <span class="token function">throwIfCancellationRequested</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u8F6C\u6362\u54CD\u5E94\u4F53</span>
    response<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token function">transformData</span><span class="token punctuation">(</span>
      response<span class="token punctuation">.</span>data<span class="token punctuation">,</span>
      response<span class="token punctuation">.</span>headers<span class="token punctuation">,</span>
      config<span class="token punctuation">.</span>transformResponse
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> response<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">onAdapterRejection</span><span class="token punctuation">(</span><span class="token parameter">reason</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8BF7\u6C42\u5931\u8D25\u7684\u56DE\u8C03</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isCancel</span><span class="token punctuation">(</span>reason<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">throwIfCancellationRequested</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// \u8F6C\u6362\u54CD\u5E94\u4F53</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>reason <span class="token operator">&amp;&amp;</span> reason<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        reason<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token function">transformData</span><span class="token punctuation">(</span>
          reason<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">,</span>
          reason<span class="token punctuation">.</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">,</span>
          config<span class="token punctuation">.</span>transformResponse
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>\u5927\u5BB6\u6CE8\u610F\u6CE8\u91CA\u7684\u7B2C\u4E00\u884C\uFF0C\u201C\u82E5\u7528\u6237\u672A\u624B\u52A8\u914D\u7F6E\u9002\u914D\u5668\uFF0C\u5219\u4F7F\u7528\u9ED8\u8BA4\u7684\u9002\u914D\u5668\u201D\u3002\u624B\u52A8\u914D\u7F6E\u9002\u914D\u5668\u5141\u8BB8\u6211\u4EEC\u81EA\u5B9A\u4E49\u5904\u7406\u8BF7\u6C42\uFF0C\u4E3B\u8981\u76EE\u7684\u662F\u4E3A\u4E86\u4F7F\u6D4B\u8BD5\u66F4\u8F7B\u677E\u3002</p>`,4),V2n=s("\u5B9E\u9645\u5F00\u53D1\u4E2D\uFF0C\u6211\u4EEC\u4F7F\u7528\u9ED8\u8BA4\u9002\u914D\u5668\u7684\u9891\u7387\u66F4\u9AD8\u3002\u9ED8\u8BA4\u9002\u914D\u5668\u5728"),H2n={href:"https://github.com/axios/axios/blob/master/lib/defaults.js",target:"_blank",rel:"noopener noreferrer"},L2n=n("code",null,"axios/lib/default.js",-1),U2n=s(" (opens new window)"),J2n=s("\u91CC\u662F\u901A\u8FC7"),W2n=n("code",null,"getDefaultAdapter",-1),z2n=s("\u65B9\u6CD5\u6765\u83B7\u53D6\u7684\uFF1A"),G2n=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getDefaultAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> adapter<span class="token punctuation">;</span>
  <span class="token comment">// \u5224\u65AD\u5F53\u524D\u662F\u5426\u662Fnode\u73AF\u5883</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> process <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span> <span class="token operator">&amp;&amp;</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>process<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&#39;[object process]&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5982\u679C\u662Fnode\u73AF\u5883\uFF0C\u8C03\u7528node\u4E13\u5C5E\u7684http\u9002\u914D\u5668</span>
    adapter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./adapters/http&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> XMLHttpRequest <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5982\u679C\u662F\u6D4F\u89C8\u5668\u73AF\u5883\uFF0C\u8C03\u7528\u57FA\u4E8Exhr\u7684\u9002\u914D\u5668</span>
    adapter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./adapters/xhr&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> adapter<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>\u6211\u4EEC\u518D\u6765\u770B\u770B <code>Node</code> \u7684 <code>http</code> \u9002\u914D\u5668\u548C <code>xhr</code> \u9002\u914D\u5668\u5927\u6982\u957F\u5565\u6837\uFF1A</p><blockquote><p><code>http</code> \u9002\u914D\u5668\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">httpAdapter</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">dispatchHttpRequest</span><span class="token punctuation">(</span><span class="token parameter">resolvePromise<span class="token punctuation">,</span> rejectPromise</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5177\u4F53\u903B\u8F91</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>xhr \u9002\u914D\u5668\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">xhrAdapter</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">dispatchXhrRequest</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5177\u4F53\u903B\u8F91</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,6),$2n=s("\u5177\u4F53\u903B\u8F91\u5565\u6837\uFF0C\u54B1\u4EEC\u76EE\u524D\u5148\u4E0D\u5173\u5FC3\uFF0C\u6709\u5174\u8DA3\u7684\u540C\u5B66\uFF0C\u53EF\u4EE5\u72E0\u72E0\u5730\u70B9"),X2n={href:"https://github.com/axios/axios/tree/master/lib/adapters",target:"_blank",rel:"noopener noreferrer"},K2n=s("\u8FD9\u91CC (opens new window)"),Q2n=s("\u9605\u8BFB\u6E90\u7801\u3002\u54B1\u4EEC\u73B0\u5728\u5C31\u6CE8\u610F\u4E24\u4E2A\u4E8B\u513F\uFF1A"),Y2n=t("<ul><li>\u4E24\u4E2A\u9002\u914D\u5668\u7684\u5165\u53C2\u90FD\u662F <code>config</code>\uFF1B</li><li>\u4E24\u4E2A\u9002\u914D\u5668\u7684\u51FA\u53C2\u90FD\u662F\u4E00\u4E2A <code>Promise</code>\u3002</li></ul><blockquote><p>Tips\uFF1A\u8981\u662F\u4ED4\u7EC6\u8BFB\u4E86\u6E90\u7801\uFF0C\u4F1A\u53D1\u73B0\u4E24\u4E2A\u9002\u914D\u5668\u4E2D\u7684 P<code>romise</code> \u7684\u5185\u90E8\u7ED3\u6784\u4E5F\u662F\u5982\u51FA\u4E00\u8F99\u3002</p></blockquote><p>\u8FD9\u4E48\u4E00\u6765\uFF0C\u901A\u8FC7 <code>axios</code> \u53D1\u8D77\u8DE8\u5E73\u53F0\u7684\u7F51\u7EDC\u8BF7\u6C42\uFF0C\u4E0D\u4EC5\u8C03\u7528\u7684\u63A5\u53E3\u540D\u662F\u540C\u4E00\u4E2A\uFF0C\u8FDE\u5165\u53C2\u3001\u51FA\u53C2\u7684\u683C\u5F0F\u90FD\u53EA\u9700\u8981\u638C\u63E1\u540C\u4E00\u5957\u3002\u8FD9\u5BFC\u81F4\u5B83\u7684\u5B66\u4E60\u6210\u672C\u975E\u5E38\u4F4E\uFF0C\u5F00\u53D1\u8005\u770B\u4E86\u6587\u6863\u5C31\u80FD\u4E0A\u624B\uFF1B\u540C\u65F6\u56E0\u4E3A\u8DB3\u591F\u7B80\u5355\uFF0C\u5728\u4F7F\u7528\u7684\u8FC7\u7A0B\u4E2D\u4E5F\u4E0D\u5BB9\u6613\u51FA\u9519\uFF0C\u5E26\u6765\u4E86\u6781\u4F73\u7684\u7528\u6237\u4F53\u9A8C\uFF0C<code>axios</code> \u4E5F\u56E0\u6B64\u8D8A\u6765\u8D8A\u6D41\u884C\u3002</p><p>\u8FD9\u6B63\u662F\u4E00\u4E2A\u597D\u7684\u9002\u914D\u5668\u7684\u81EA\u6211\u4FEE\u517B\u2014\u2014\u628A\u53D8\u5316\u7559\u7ED9\u81EA\u5DF1\uFF0C\u628A\u7EDF\u4E00\u7559\u7ED9\u7528\u6237\u3002\u5728\u6B64\u5904\uFF0C\u6240\u6709\u5173\u4E8E <code>http</code> \u6A21\u5757\u3001\u5173\u4E8E <code>xhr</code> \u7684\u5B9E\u73B0\u7EC6\u8282\uFF0C\u5168\u90E8\u88AB <code>Adapter</code> \u5C01\u88C5\u8FDB\u4E86\u81EA\u5DF1\u590D\u6742\u7684\u5E95\u5C42\u903B\u8F91\u91CC\uFF0C\u66B4\u9732\u7ED9\u7528\u6237\u7684\u90FD\u662F\u5341\u5206\u7B80\u5355\u7684\u7EDF\u4E00\u7684\u4E1C\u897F\u2014\u2014\u7EDF\u4E00\u7684\u63A5\u53E3\uFF0C\u7EDF\u4E00\u7684\u5165\u53C2\uFF0C\u7EDF\u4E00\u7684\u51FA\u53C2\uFF0C\u7EDF\u4E00\u7684\u89C4\u5219\u3002\u7528\u8D77\u6765\u5C31\u662F\u4E00\u4E2A\u5B57 \u2014\u2014 \u723D\uFF01</p>",4),Z2n={id:"_5-\u7ED3\u6784\u578B-\u4EE3\u7406\u6A21\u5F0F",tabindex:"-1"},nvn=n("a",{class:"header-anchor",href:"#_5-\u7ED3\u6784\u578B-\u4EE3\u7406\u6A21\u5F0F","aria-hidden":"true"},"#",-1),svn=s(),avn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_5-%E7%BB%93%E6%9E%84%E5%9E%8B-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},evn=s("#"),tvn=s("5 \u7ED3\u6784\u578B-\u4EE3\u7406\u6A21\u5F0F"),pvn=n("blockquote",null,[n("p",null,[s("\u4EE3\u7406\u6A21\u5F0F\uFF0C\u5F0F\u5982\u5176\u540D\u2014\u2014\u5728\u67D0\u4E9B\u60C5\u51B5\u4E0B\uFF0C\u51FA\u4E8E\u79CD\u79CD\u8003\u8651/\u9650\u5236\uFF0C\u4E00\u4E2A\u5BF9\u8C61"),n("strong",null,"\u4E0D\u80FD\u76F4\u63A5\u8BBF\u95EE"),s("\u53E6\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u9700\u8981\u4E00\u4E2A"),n("strong",null,"\u7B2C\u4E09\u8005"),s("\uFF08\u4EE3\u7406\uFF09\u7275\u7EBF\u642D\u6865\u4ECE\u800C\u95F4\u63A5\u8FBE\u5230\u8BBF\u95EE\u76EE\u7684\uFF0C\u8FD9\u6837\u7684\u6A21\u5F0F\u5C31\u662F\u4EE3\u7406\u6A21\u5F0F\u3002")])],-1),ovn=n("p",null,[s("\u4EE3\u7406\u6A21\u5F0F\u975E\u5E38\u597D\u7406\u89E3\uFF0C\u56E0\u4E3A\u4F60\u53EF\u80FD\u5929\u5929\u90FD\u5728\u7528\uFF0C\u53EA\u662F\u6CA1\u6709\u523B\u610F\u6316\u6398\u8FC7\u5B83\u80CC\u540E\u7684\u7384\u673A\u2014\u2014\u6BD4\u5982\u5927\u5BB6\u8033\u719F\u80FD\u8BE6\u7684"),n("strong",null,"\u79D1\u5B66\u4E0A\u7F51"),s("\uFF0C\u5C31\u662F\u4EE3\u7406\u6A21\u5F0F\u7684\u5178\u578B\u6848\u4F8B\u3002")],-1),cvn={id:"_5-1-es6\u4E2D\u7684proxy",tabindex:"-1"},lvn=n("a",{class:"header-anchor",href:"#_5-1-es6\u4E2D\u7684proxy","aria-hidden":"true"},"#",-1),rvn=s(),ivn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_5-1-es6%E4%B8%AD%E7%9A%84proxy",target:"_blank",rel:"noopener noreferrer"},uvn=s("#"),kvn=s("5.1 ES6\u4E2D\u7684Proxy"),dvn=t(`<p>\u5728 ES6 \u4E2D\uFF0C\u63D0\u4F9B\u4E86\u4E13\u95E8\u4EE5\u4EE3\u7406\u89D2\u8272\u51FA\u73B0\u7684\u4EE3\u7406\u5668 \u2014\u2014 <code>Proxy</code>\u3002\u5B83\u7684\u57FA\u672C\u7528\u6CD5\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> handler<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u6211\u4EEC\u7684\u76EE\u6807\u5BF9\u8C61\uFF0C\u4E5F\u5C31\u662F\u4E0A\u6587\u4E2D\u7684\u201C\u672A\u77E5\u59B9\u5B50\u201D\u3002<code>handler</code> \u4E5F\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u7528\u6765\u5B9A\u4E49<strong>\u4EE3\u7406\u7684\u884C\u4E3A</strong>\uFF0C\u76F8\u5F53\u4E8E\u4E0A\u6587\u4E2D\u7684\u201C\u5A5A\u4ECB\u6240\u201D\u3002\u5F53\u6211\u4EEC\u901A\u8FC7 <code>proxy</code> \u53BB\u8BBF\u95EE\u76EE\u6807\u5BF9\u8C61\u7684\u65F6\u5019\uFF0C<code>handler</code>\u4F1A\u5BF9\u6211\u4EEC\u7684\u884C\u4E3A\u4F5C\u4E00\u5C42\u62E6\u622A\uFF0C\u6211\u4EEC\u7684\u6BCF\u6B21\u8BBF\u95EE\u90FD\u9700\u8981\u7ECF\u8FC7 <code>handler</code> \u8FD9\u4E2A\u7B2C\u4E09\u65B9\u3002</p>`,3),bvn={id:"_5-2-\u5A5A\u4ECB\u6240-\u7684\u5B9E\u73B0",tabindex:"-1"},mvn=n("a",{class:"header-anchor",href:"#_5-2-\u5A5A\u4ECB\u6240-\u7684\u5B9E\u73B0","aria-hidden":"true"},"#",-1),hvn=s(),_vn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_5-2-%E5%A9%9A%E4%BB%8B%E6%89%80-%E7%9A%84%E5%AE%9E%E7%8E%B0",target:"_blank",rel:"noopener noreferrer"},gvn=s("#"),Evn=s("5.2 \u201C\u5A5A\u4ECB\u6240\u201D\u7684\u5B9E\u73B0"),fvn=t(`<p>\u672A\u77E5\u59B9\u5B50\u7684\u4E2A\u4EBA\u4FE1\u606F\uFF0C\u521A\u95EE\u4E86\u4E0B\u6211\u4EEC\u5DF2\u7ECF\u6CE8\u518C\u4E86 VIP \u7684\u540C\u4E8B\u54E5\uFF0C\u5927\u81F4\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u672A\u77E5\u59B9\u5B50</span>
<span class="token keyword">const</span> girl <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u59D3\u540D</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;\u5C0F\u7F8E&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// \u81EA\u6211\u4ECB\u7ECD</span>
  <span class="token literal-property property">aboutMe</span><span class="token operator">:</span> <span class="token string">&#39;...&#39;</span>\uFF08\u5927\u5BB6\u81EA\u884C\u8111\u8865\u5427\uFF09
  <span class="token comment">// \u5E74\u9F84</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
  <span class="token comment">// \u804C\u4E1A</span>
  <span class="token literal-property property">career</span><span class="token operator">:</span> <span class="token string">&#39;teacher&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// \u5047\u5934\u50CF</span>
  <span class="token literal-property property">fakeAvatar</span><span class="token operator">:</span> <span class="token string">&#39;xxxx&#39;</span><span class="token punctuation">(</span>\u65B0\u57A3\u7ED3\u8863\u7684\u56FE\u7247\u5730\u5740\uFF09
  <span class="token comment">// \u771F\u5B9E\u5934\u50CF</span>
  <span class="token literal-property property">avatar</span><span class="token operator">:</span> <span class="token string">&#39;xxxx&#39;</span><span class="token punctuation">(</span>\u81EA\u5DF1\u7684\u7167\u7247\u5730\u5740<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// \u624B\u673A\u53F7</span>
  <span class="token literal-property property">phone</span><span class="token operator">:</span> <span class="token number">123456</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>\u5A5A\u4ECB\u6240\u6536\u5230\u4E86\u5C0F\u7F8E\u7684\u4FE1\u606F\uFF0C\u5F00\u59CB\u8425\u4E1A\u3002\u5927\u5BB6\u60F3\uFF0C\u8FD9\u4E2A\u59D3\u540D\u3001\u81EA\u6211\u4ECB\u7ECD\u3001\u5047\u5934\u50CF\uFF0C\u8FD9\u4E9B\u4FE1\u606F\u5927\u5DEE\u4E0D\u5DEE\uFF0C\u66DD\u5149\u4E00\u4E0B\u6CA1\u95EE\u9898\u3002\u4F46\u662F\u4EBA\u5BB6\u59B9\u5B50\u7684\u5E74\u9F84\u3001\u804C\u4E1A\u3001\u771F\u5B9E\u5934\u50CF\u3001\u624B\u673A\u53F7\u7801\uFF0C\u662F\u4E0D\u662F\u5C5E\u4E8E\u975E\u5E38\u79C1\u5BC6\u7684\u4FE1\u606F\u4E86\uFF1F\u8981\u60F3 get \u8FD9\u4E9B\u4FE1\u606F\uFF0C\u5E73\u53F0\u8981\u8003\u9A8C\u4E00\u4E0B\u4F60\u7684\u8BDA\u610F\u4E86 \u2014\u2014 \u9996\u5148\uFF0C\u4F60\u662F\u4E0D\u662F\u5DF2\u7ECF\u901A\u8FC7\u4E86\u5B9E\u540D\u5BA1\u6838\uFF1F\u5982\u679C\u901A\u8FC7\u5B9E\u540D\u5BA1\u6838\uFF0C\u90A3\u4E48\u4F60\u53EF\u4EE5\u67E5\u770B\u4E00\u4E9B\u76F8\u5BF9\u79C1\u5BC6\u7684\u4FE1\u606F\uFF08\u5E74\u9F84\u3001\u804C\u4E1A\uFF09\u3002\u7136\u540E\uFF0C\u4F60\u662F\u4E0D\u662F VIP \uFF1F\u53EA\u6709 VIP \u53EF\u4EE5\u67E5\u770B\u771F\u5B9E\u7167\u7247\u548C\u8054\u7CFB\u65B9\u5F0F\u3002\u6EE1\u8DB3\u4E86\u8FD9\u4E24\u4E2A\u5224\u5B9A\u6761\u4EF6\uFF0C\u4F60\u624D\u53EF\u4EE5\u987A\u5229\u8BBF\u95EE\u5230\u522B\u4EBA\u7684\u5168\u90E8\u79C1\u4EBA\u4FE1\u606F\uFF0C\u4E0D\u7136\uFF0C\u5C31\u529D\u9000\u4F60\u63D0\u9192\u4F60\u53BB\u5B8C\u6210\u8BA4\u8BC1\u548CVIP\u8D2D\u4E70\u518D\u6765\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u666E\u901A\u79C1\u5BC6\u4FE1\u606F</span>
<span class="token keyword">const</span> baseInfo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;career&#39;</span><span class="token punctuation">]</span>
<span class="token comment">// \u6700\u79C1\u5BC6\u4FE1\u606F</span>
<span class="token keyword">const</span> privateInfo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;avatar&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;phone&#39;</span><span class="token punctuation">]</span>

<span class="token comment">// \u7528\u6237\uFF08\u540C\u4E8BA\uFF09\u5BF9\u8C61\u5B9E\u4F8B</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token punctuation">(</span>\u4E00\u4E9B\u5FC5\u8981\u7684\u4E2A\u4EBA\u4FE1\u606F<span class="token punctuation">)</span>
  <span class="token literal-property property">isValidated</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">isVIP</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5A5A\u4ECB\u6240\u767B\u573A\u4E86</span>
<span class="token keyword">const</span> lovers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>girl<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">girl<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>baseInfo<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token operator">!==</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>user<span class="token punctuation">.</span>isValidated<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;\u60A8\u8FD8\u6CA1\u6709\u5B8C\u6210\u9A8C\u8BC1\u54E6&#39;</span><span class="token punctuation">)</span>
          <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
      
      <span class="token comment">//...(\u6B64\u5904\u7701\u7565\u5176\u5B83\u6709\u7684\u6CA1\u7684\u5404\u79CD\u6821\u9A8C\u903B\u8F91)</span>
    
      <span class="token comment">// \u6B64\u5904\u6211\u4EEC\u8BA4\u4E3A\u53EA\u6709\u9A8C\u8BC1\u8FC7\u7684\u7528\u6237\u624D\u53EF\u4EE5\u8D2D\u4E70VIP</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>isValidated <span class="token operator">&amp;&amp;</span> privateInfo<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>user<span class="token punctuation">.</span>isVIP<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;\u53EA\u6709VIP\u624D\u53EF\u4EE5\u67E5\u770B\u8BE5\u4FE1\u606F\u54E6&#39;</span><span class="token punctuation">)</span>
          <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u4E3B\u8981\u662F <code>getter</code> \u5C42\u9762\u7684\u62E6\u622A\u3002\u5047\u8BBE\u6211\u4EEC\u8FD8\u5141\u8BB8\u4F1A\u5458\u95F4\u4E92\u9001\u793C\u7269\uFF0C\u6BCF\u4E2A\u4F1A\u5458\u53EF\u4EE5\u544A\u77E5\u5A5A\u4ECB\u6240\u81EA\u5DF1\u613F\u610F\u63A5\u53D7\u7684\u793C\u7269\u7684\u4EF7\u683C\u4E0B\u9650\uFF0C\u6211\u4EEC\u8FD8\u53EF\u4EE5\u4F5C <code>setter</code> \u5C42\u9762\u7684\u62E6\u622A\u3002\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u89C4\u5B9A\u793C\u7269\u7684\u6570\u636E\u7ED3\u6784\u7531type\u548Cvalue\u7EC4\u6210</span>
<span class="token keyword">const</span> present <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;\u5DE7\u514B\u529B&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u4E3A\u7528\u6237\u589E\u5F00presents\u5B57\u6BB5\u5B58\u50A8\u793C\u7269</span>
<span class="token keyword">const</span> girl <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u59D3\u540D</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;\u5C0F\u7F8E&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// \u81EA\u6211\u4ECB\u7ECD</span>
  <span class="token literal-property property">aboutMe</span><span class="token operator">:</span> <span class="token string">&#39;...&#39;</span>\uFF08\u5927\u5BB6\u81EA\u884C\u8111\u8865\u5427\uFF09
  <span class="token comment">// \u5E74\u9F84</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
  <span class="token comment">// \u804C\u4E1A</span>
  <span class="token literal-property property">career</span><span class="token operator">:</span> <span class="token string">&#39;teacher&#39;</span><span class="token punctuation">,</span>
  <span class="token comment">// \u5047\u5934\u50CF</span>
  <span class="token literal-property property">fakeAvatar</span><span class="token operator">:</span> <span class="token string">&#39;xxxx&#39;</span><span class="token punctuation">(</span>\u65B0\u57A3\u7ED3\u8863\u7684\u56FE\u7247\u5730\u5740\uFF09
  <span class="token comment">// \u771F\u5B9E\u5934\u50CF</span>
  <span class="token literal-property property">avatar</span><span class="token operator">:</span> <span class="token string">&#39;xxxx&#39;</span><span class="token punctuation">(</span>\u81EA\u5DF1\u7684\u7167\u7247\u5730\u5740<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// \u624B\u673A\u53F7</span>
  <span class="token literal-property property">phone</span><span class="token operator">:</span> <span class="token number">123456</span><span class="token punctuation">,</span>
  <span class="token comment">// \u793C\u7269\u6570\u7EC4</span>
  <span class="token literal-property property">presents</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// \u62D2\u653650\u5757\u4EE5\u4E0B\u7684\u793C\u7269</span>
  <span class="token literal-property property">bottomValue</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
  <span class="token comment">// \u8BB0\u5F55\u6700\u8FD1\u4E00\u6B21\u6536\u5230\u7684\u793C\u7269</span>
  <span class="token literal-property property">lastPresent</span><span class="token operator">:</span> present<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5A5A\u4ECB\u6240\u63A8\u51FA\u4E86\u5C0F\u793C\u7269\u529F\u80FD</span>
<span class="token keyword">const</span> lovers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>girl<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">girl<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>baseInfo<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token operator">!==</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>user<span class="token punctuation">.</span>isValidated<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;\u60A8\u8FD8\u6CA1\u6709\u5B8C\u6210\u9A8C\u8BC1\u54E6&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//...(\u6B64\u5904\u7701\u7565\u5176\u5B83\u6709\u7684\u6CA1\u7684\u5404\u79CD\u6821\u9A8C\u903B\u8F91)</span>
  
    <span class="token comment">// \u6B64\u5904\u6211\u4EEC\u8BA4\u4E3A\u53EA\u6709\u9A8C\u8BC1\u8FC7\u7684\u7528\u6237\u624D\u53EF\u4EE5\u8D2D\u4E70VIP</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>isValidated <span class="token operator">&amp;&amp;</span> privateInfo<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>user<span class="token punctuation">.</span>isVIP<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;\u53EA\u6709VIP\u624D\u53EF\u4EE5\u67E5\u770B\u8BE5\u4FE1\u606F\u54E6&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">girl<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u6700\u8FD1\u4E00\u6B21\u9001\u6765\u7684\u793C\u7269\u4F1A\u5C1D\u8BD5\u8D4B\u503C\u7ED9lastPresent\u5B57\u6BB5</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">&#39;lastPresent&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> girl<span class="token punctuation">.</span>bottomValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;sorry\uFF0C\u60A8\u7684\u793C\u7269\u88AB\u62D2\u6536\u4E86&#39;</span><span class="token punctuation">)</span>
          <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
    
      <span class="token comment">// \u5982\u679C\u6CA1\u6709\u62D2\u6536\uFF0C\u5219\u8D4B\u503C\u6210\u529F\uFF0C\u540C\u65F6\u5E76\u5165presents\u6570\u7EC4</span>
      girl<span class="token punctuation">[</span>lastPresent<span class="token punctuation">]</span> <span class="token operator">=</span> val
      girl<span class="token punctuation">[</span>presents<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>presents<span class="token punctuation">,</span> val<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div>`,6),vvn={id:"_5-3-\u4E8B\u4EF6\u4EE3\u7406",tabindex:"-1"},wvn=n("a",{class:"header-anchor",href:"#_5-3-\u4E8B\u4EF6\u4EE3\u7406","aria-hidden":"true"},"#",-1),yvn=s(),xvn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_5-3-%E4%BA%8B%E4%BB%B6%E4%BB%A3%E7%90%86",target:"_blank",rel:"noopener noreferrer"},Avn=s("#"),Bvn=s("5.3 \u4E8B\u4EF6\u4EE3\u7406"),qvn=t(`<blockquote><p>\u4E8B\u4EF6\u4EE3\u7406\uFF0C\u53EF\u80FD\u662F\u4EE3\u7406\u6A21\u5F0F\u6700\u5E38\u89C1\u7684\u4E00\u79CD\u5E94\u7528\u65B9\u5F0F\uFF0C\u4E5F\u662F\u4E00\u9053\u5B9E\u6253\u5B9E\u7684\u9AD8\u9891\u9762\u8BD5\u9898\u3002\u5B83\u7684\u573A\u666F\u662F\u4E00\u4E2A\u7236\u5143\u7D20\u4E0B\u6709\u591A\u4E2A\u5B50\u5143\u7D20\uFF0C\u50CF\u8FD9\u6837\uFF1A</p></blockquote><p>\u4E8B\u4EF6\u4EE3\u7406\uFF0C\u53EF\u80FD\u662F\u4EE3\u7406\u6A21\u5F0F\u6700\u5E38\u89C1\u7684\u4E00\u79CD\u5E94\u7528\u65B9\u5F0F\uFF0C\u4E5F\u662F\u4E00\u9053\u5B9E\u6253\u5B9E\u7684\u9AD8\u9891\u9762\u8BD5\u9898\u3002\u5B83\u7684\u573A\u666F\u662F\u4E00\u4E2A\u7236\u5143\u7D20\u4E0B\u6709\u591A\u4E2A\u5B50\u5143\u7D20\uFF0C\u50CF\u8FD9\u6837\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u4E8B\u4EF6\u4EE3\u7406<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u94FE\u63A51\u53F7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u94FE\u63A52\u53F7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u94FE\u63A53\u53F7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u94FE\u63A54\u53F7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u94FE\u63A55\u53F7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u94FE\u63A56\u53F7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>\u6211\u4EEC\u73B0\u5728\u7684\u9700\u6C42\u662F\uFF0C\u5E0C\u671B\u9F20\u6807\u70B9\u51FB\u6BCF\u4E2A a \u6807\u7B7E\uFF0C\u90FD\u53EF\u4EE5\u5F39\u51FA\u201C\u6211\u662Fxxx\u201D\u8FD9\u6837\u7684\u63D0\u793A\u3002\u6BD4\u5982\u70B9\u51FB\u7B2C\u4E00\u4E2A a \u6807\u7B7E\uFF0C\u5F39\u51FA\u201C\u6211\u662F\u94FE\u63A51\u53F7\u201D\u8FD9\u6837\u7684\u63D0\u793A\u3002\u8FD9\u610F\u5473\u7740\u6211\u4EEC\u81F3\u5C11\u8981\u5B89\u88C5 <code>6</code> \u4E2A\u76D1\u542C\u51FD\u6570\u7ED9 <code>6</code> \u4E2A\u4E0D\u540C\u7684\u7684\u5143\u7D20(\u4E00\u822C\u6211\u4EEC\u4F1A\u7528\u5FAA\u73AF\uFF0C\u4EE3\u7801\u5982\u4E0B\u6240\u793A\uFF09\uFF0C\u5982\u679C\u6211\u4EEC\u7684 <code>a</code> \u6807\u7B7E\u8FDB\u4E00\u6B65\u589E\u591A\uFF0C\u90A3\u4E48\u6027\u80FD\u7684\u5F00\u9500\u4F1A\u66F4\u5927\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5047\u5982\u4E0D\u7528\u4EE3\u7406\u6A21\u5F0F\uFF0C\u6211\u4EEC\u5C06\u5FAA\u73AF\u5B89\u88C5\u76D1\u542C\u51FD\u6570</span>
<span class="token keyword">const</span> aNodes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;father&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span>
  
<span class="token keyword">const</span> aLength <span class="token operator">=</span> aNodes<span class="token punctuation">.</span>length

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>aLength<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    aNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u6211\u662F</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>aNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>innerText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>                  
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>\u8003\u8651\u5230\u4E8B\u4EF6\u672C\u8EAB\u5177\u6709\u201C\u5192\u6CE1\u201D\u7684\u7279\u6027\uFF0C\u5F53\u6211\u4EEC\u70B9\u51FB a \u5143\u7D20\u65F6\uFF0C\u70B9\u51FB\u4E8B\u4EF6\u4F1A\u201C\u5192\u6CE1\u201D\u5230\u7236\u5143\u7D20 div \u4E0A\uFF0C\u4ECE\u800C\u88AB\u76D1\u542C\u5230\u3002\u5982\u6B64\u4E00\u6765\uFF0C\u70B9\u51FB\u4E8B\u4EF6\u7684\u76D1\u542C\u51FD\u6570\u53EA\u9700\u8981\u5728 div \u5143\u7D20\u4E0A\u88AB\u7ED1\u5B9A\u4E00\u6B21\u5373\u53EF\uFF0C\u800C\u4E0D\u9700\u8981\u5728\u5B50\u5143\u7D20\u4E0A\u88AB\u7ED1\u5B9A N \u6B21\u2014\u2014\u8FD9\u79CD\u505A\u6CD5\u5C31\u662F\u4E8B\u4EF6\u4EE3\u7406\uFF0C\u5B83\u53EF\u4EE5\u5F88\u5927\u7A0B\u5EA6\u4E0A\u63D0\u9AD8\u6211\u4EEC\u4EE3\u7801\u7684\u6027\u80FD\u3002</p></blockquote><p><strong>\u4E8B\u4EF6\u4EE3\u7406\u7684\u5B9E\u73B0</strong></p><p>\u7528\u4EE3\u7406\u6A21\u5F0F\u5B9E\u73B0\u591A\u4E2A\u5B50\u5143\u7D20\u7684\u4E8B\u4EF6\u76D1\u542C\uFF0C\u4EE3\u7801\u4F1A\u7B80\u5355\u5F88\u591A\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u83B7\u53D6\u7236\u5143\u7D20</span>
<span class="token keyword">const</span> father <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;father&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// \u7ED9\u7236\u5143\u7D20\u5B89\u88C5\u4E00\u6B21\u76D1\u542C\u51FD\u6570</span>
father<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8BC6\u522B\u662F\u5426\u662F\u76EE\u6807\u5B50\u5143\u7D20</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>tagName <span class="token operator">===</span> <span class="token string">&#39;A&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u4EE5\u4E0B\u662F\u76D1\u542C\u51FD\u6570\u7684\u51FD\u6570\u4F53</span>
        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u6211\u662F</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>innerText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>\u5728\u8FD9\u79CD\u505A\u6CD5\u4E0B\uFF0C\u6211\u4EEC\u7684\u70B9\u51FB\u64CD\u4F5C\u5E76\u4E0D\u4F1A\u76F4\u63A5\u89E6\u53CA\u76EE\u6807\u5B50\u5143\u7D20\uFF0C\u800C\u662F\u7531\u7236\u5143\u7D20\u5BF9\u4E8B\u4EF6\u8FDB\u884C\u5904\u7406\u548C\u5206\u53D1\u3001\u95F4\u63A5\u5730\u5C06\u5176\u4F5C\u7528\u4E8E\u5B50\u5143\u7D20\uFF0C\u56E0\u6B64\u8FD9\u79CD\u64CD\u4F5C\u4ECE\u6A21\u5F0F\u4E0A\u5212\u5206\u5C5E\u4E8E\u4EE3\u7406\u6A21\u5F0F\u3002</p>`,10),jvn={id:"_5-4-\u865A\u62DF\u4EE3\u7406",tabindex:"-1"},Svn=n("a",{class:"header-anchor",href:"#_5-4-\u865A\u62DF\u4EE3\u7406","aria-hidden":"true"},"#",-1),Cvn=s(),Dvn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_5-4-%E8%99%9A%E6%8B%9F%E4%BB%A3%E7%90%86",target:"_blank",rel:"noopener noreferrer"},Fvn=s("#"),Pvn=s("5.4 \u865A\u62DF\u4EE3\u7406"),Tvn=t(`<p>\u7B80\u5355\u5730\u7ED9\u5927\u5BB6\u63CF\u8FF0\u4E00\u4E0B\u61D2\u52A0\u8F7D\u662F\u4E2A\u4EC0\u4E48\u4E1C\u897F\uFF1A\u5B83\u662F\u9488\u5BF9\u56FE\u7247\u52A0\u8F7D\u65F6\u673A\u7684\u4F18\u5316\uFF1A\u5728\u4E00\u4E9B\u56FE\u7247\u91CF\u6BD4\u8F83\u5927\u7684\u7F51\u7AD9\uFF0C\u6BD4\u5982\u7535\u5546\u7F51\u7AD9\u9996\u9875\uFF0C\u6216\u8005\u56E2\u8D2D\u7F51\u7AD9\u3001\u5C0F\u6E38\u620F\u9996\u9875\u7B49\u3002\u5982\u679C\u6211\u4EEC\u5C1D\u8BD5\u5728\u7528\u6237\u6253\u5F00\u9875\u9762\u7684\u65F6\u5019\uFF0C\u5C31\u628A\u6240\u6709\u7684\u56FE\u7247\u8D44\u6E90\u52A0\u8F7D\u5B8C\u6BD5\uFF0C\u90A3\u4E48\u5F88\u53EF\u80FD\u4F1A\u9020\u6210\u767D\u5C4F\u3001\u5361\u987F\u7B49\u73B0\u8C61\u3002</p><p>\u6B64\u65F6\u6211\u4EEC\u4F1A\u91C7\u53D6\u201C\u5148\u5360\u4F4D\u3001\u540E\u52A0\u8F7D\u201D\u7684\u65B9\u5F0F\u6765\u5C55\u793A\u56FE\u7247 \u2014\u2014 \u5728\u5143\u7D20\u9732\u51FA\u4E4B\u524D\uFF0C\u6211\u4EEC\u7ED9\u5B83\u4E00\u4E2A div \u4F5C\u5360\u4F4D\uFF0C\u5F53\u5B83\u6EDA\u52A8\u5230\u53EF\u89C6\u533A\u57DF\u5185\u65F6\uFF0C\u518D\u5373\u65F6\u5730\u53BB\u52A0\u8F7D\u771F\u5B9E\u7684\u56FE\u7247\u8D44\u6E90\uFF0C\u8FD9\u6837\u505A\u65E2\u51CF\u8F7B\u4E86\u6027\u80FD\u538B\u529B\u3001\u53C8\u4FDD\u4F4F\u4E86\u7528\u6237\u4F53\u9A8C\u3002</p><p>\u9664\u4E86\u56FE\u7247\u61D2\u52A0\u8F7D\uFF0C\u8FD8\u6709\u4E00\u79CD\u64CD\u4F5C\u53EB<strong>\u56FE\u7247\u9884\u52A0\u8F7D</strong>\u3002\u9884\u52A0\u8F7D\u4E3B\u8981\u662F\u4E3A\u4E86\u907F\u514D\u7F51\u7EDC\u4E0D\u597D\u3001\u6216\u8005\u56FE\u7247\u592A\u5927\u65F6\uFF0C\u9875\u9762\u957F\u65F6\u95F4\u7ED9\u7528\u6237\u7559\u767D\u7684\u5C34\u5C2C\u3002\u5E38\u89C1\u7684\u64CD\u4F5C\u662F\u5148\u8BA9\u8FD9\u4E2A img \u6807\u7B7E\u5C55\u793A\u4E00\u4E2A\u5360\u4F4D\u56FE\uFF0C\u7136\u540E\u521B\u5EFA\u4E00\u4E2A Image \u5B9E\u4F8B\uFF0C\u8BA9\u8FD9\u4E2A Image \u5B9E\u4F8B\u7684 src \u6307\u5411\u771F\u5B9E\u7684\u76EE\u6807\u56FE\u7247\u5730\u5740\u3001\u89C2\u5BDF\u8BE5 Image \u5B9E\u4F8B\u7684\u52A0\u8F7D\u60C5\u51B5 \u2014\u2014 \u5F53\u5176\u5BF9\u5E94\u7684\u771F\u5B9E\u56FE\u7247\u52A0\u8F7D\u5B8C\u6BD5\u540E\uFF0C\u5373\u5DF2\u7ECF\u6709\u4E86\u8BE5\u56FE\u7247\u7684\u7F13\u5B58\u5185\u5BB9\uFF0C\u518D\u5C06 DOM \u4E0A\u7684 img \u5143\u7D20\u7684 src \u6307\u5411\u771F\u5B9E\u7684\u76EE\u6807\u56FE\u7247\u5730\u5740\u3002\u6B64\u65F6\u6211\u4EEC\u76F4\u63A5\u53BB\u53D6\u4E86\u76EE\u6807\u56FE\u7247\u7684\u7F13\u5B58\uFF0C\u6240\u4EE5\u5C55\u793A\u901F\u5EA6\u4F1A\u975E\u5E38\u5FEB\uFF0C\u4ECE\u5360\u4F4D\u56FE\u5230\u76EE\u6807\u56FE\u7247\u7684\u65F6\u95F4\u5DEE\u4F1A\u975E\u5E38\u5C0F\u3001\u5C0F\u5230\u7528\u6237\u6CE8\u610F\u4E0D\u5230\uFF0C\u8FD9\u6837\u4F53\u9A8C\u5C31\u4F1A\u975E\u5E38\u597D\u4E86\u3002</p><p>\u4E0A\u9762\u7684\u601D\u8DEF\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4E0D\u5047\u601D\u7D22\u5730\u5B9E\u73B0\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">PreLoadImage</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5360\u4F4D\u56FE\u7684url\u5730\u5740</span>
    <span class="token keyword">static</span> <span class="token constant">LOADING_URL</span> <span class="token operator">=</span> <span class="token string">&#39;xxxxxx&#39;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">imgNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u83B7\u53D6\u8BE5\u5B9E\u4F8B\u5BF9\u5E94\u7684DOM\u8282\u70B9</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>imgNode <span class="token operator">=</span> imgNode
    <span class="token punctuation">}</span>
    
    <span class="token comment">// \u8BE5\u65B9\u6CD5\u7528\u4E8E\u8BBE\u7F6E\u771F\u5B9E\u7684\u56FE\u7247\u5730\u5740</span>
    <span class="token function">setSrc</span><span class="token punctuation">(</span><span class="token parameter">targetUrl</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// img\u8282\u70B9\u521D\u59CB\u5316\u65F6\u5C55\u793A\u7684\u662F\u4E00\u4E2A\u5360\u4F4D\u56FE</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>imgNode<span class="token punctuation">.</span>src <span class="token operator">=</span> PreLoadImage<span class="token punctuation">.</span><span class="token constant">LOADING_URL</span>
        <span class="token comment">// \u521B\u5EFA\u4E00\u4E2A\u5E2E\u6211\u4EEC\u52A0\u8F7D\u56FE\u7247\u7684Image\u5B9E\u4F8B</span>
        <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">// \u76D1\u542C\u76EE\u6807\u56FE\u7247\u52A0\u8F7D\u7684\u60C5\u51B5\uFF0C\u5B8C\u6210\u65F6\u518D\u5C06DOM\u4E0A\u7684img\u8282\u70B9\u7684src\u5C5E\u6027\u8BBE\u7F6E\u4E3A\u76EE\u6807\u56FE\u7247\u7684url</span>
        image<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>imgNode<span class="token punctuation">.</span>src <span class="token operator">=</span> targetUrl
        <span class="token punctuation">}</span>
        <span class="token comment">// \u8BBE\u7F6Esrc\u5C5E\u6027\uFF0CImage\u5B9E\u4F8B\u5F00\u59CB\u52A0\u8F7D\u56FE\u7247</span>
        image<span class="token punctuation">.</span>src <span class="token operator">=</span> srcUrl
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>\u8FD9\u4E2A <code>PreLoadImage</code> \u4E4D\u4E00\u770B\u6CA1\u95EE\u9898\uFF0C\u4F46\u5176\u5B9E\u8FDD\u53CD\u4E86\u6211\u4EEC\u8BBE\u8BA1\u539F\u5219\u4E2D\u7684<strong>\u5355\u4E00\u804C\u8D23\u539F\u5219</strong>\u3002<code>PreLoadImage</code> \u4E0D\u4EC5\u8981\u8D1F\u8D23\u56FE\u7247\u7684\u52A0\u8F7D\uFF0C\u8FD8\u8981\u8D1F\u8D23 <code>DOM</code> \u5C42\u9762\u7684\u64CD\u4F5C\uFF08img \u8282\u70B9\u7684\u521D\u59CB\u5316\u548C\u540E\u7EED\u7684\u6539\u53D8\uFF09\u3002\u8FD9\u6837\u4E00\u6765\uFF0C\u5C31<strong>\u51FA\u73B0\u4E86\u4E24\u4E2A\u53EF\u80FD\u5BFC\u81F4\u8FD9\u4E2A\u7C7B\u53D1\u751F\u53D8\u5316\u7684\u539F\u56E0</strong>\u3002</p><blockquote><p>\u597D\u7684\u505A\u6CD5\u662F\u5C06\u4E24\u4E2A\u903B\u8F91\u5206\u79BB\uFF0C\u8BA9 <code>PreLoadImage</code> \u4E13\u5FC3\u53BB\u505A DOM \u5C42\u9762\u7684\u4E8B\u60C5\uFF08\u771F\u5B9E DOM \u8282\u70B9\u7684\u83B7\u53D6\u3001img \u8282\u70B9\u7684\u94FE\u63A5\u8BBE\u7F6E\uFF09\uFF0C\u518D\u627E\u4E00\u4E2A\u5BF9\u8C61\u6765\u4E13\u95E8\u6765\u5E2E\u6211\u4EEC\u641E\u52A0\u8F7D\u2014\u2014\u8FD9\u4E24\u4E2A\u5BF9\u8C61\u4E4B\u95F4\u7F3A\u4E2A\u5A92\u5A46\uFF0C\u8FD9\u5A92\u5A46\u975E\u4EE3\u7406\u5668\u4E0D\u53EF\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">PreLoadImage</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">imgNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u83B7\u53D6\u771F\u5B9E\u7684DOM\u8282\u70B9</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>imgNode <span class="token operator">=</span> imgNode
    <span class="token punctuation">}</span>
     
    <span class="token comment">// \u64CD\u4F5Cimg\u8282\u70B9\u7684src\u5C5E\u6027</span>
    <span class="token function">setSrc</span><span class="token punctuation">(</span><span class="token parameter">imgUrl</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>imgNode<span class="token punctuation">.</span>src <span class="token operator">=</span> imgUrl
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ProxyImage</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5360\u4F4D\u56FE\u7684url\u5730\u5740</span>
    <span class="token keyword">static</span> <span class="token constant">LOADING_URL</span> <span class="token operator">=</span> <span class="token string">&#39;xxxxxx&#39;</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">targetImage</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u76EE\u6807Image\uFF0C\u5373PreLoadImage\u5B9E\u4F8B</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>targetImage <span class="token operator">=</span> targetImage
    <span class="token punctuation">}</span>
    
    <span class="token comment">// \u8BE5\u65B9\u6CD5\u4E3B\u8981\u64CD\u4F5C\u865A\u62DFImage\uFF0C\u5B8C\u6210\u52A0\u8F7D</span>
    <span class="token function">setSrc</span><span class="token punctuation">(</span><span class="token parameter">targetUrl</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">// \u771F\u5B9Eimg\u8282\u70B9\u521D\u59CB\u5316\u65F6\u5C55\u793A\u7684\u662F\u4E00\u4E2A\u5360\u4F4D\u56FE</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>targetImage<span class="token punctuation">.</span><span class="token function">setSrc</span><span class="token punctuation">(</span>ProxyImage<span class="token punctuation">.</span><span class="token constant">LOADING_URL</span><span class="token punctuation">)</span>
        <span class="token comment">// \u521B\u5EFA\u4E00\u4E2A\u5E2E\u6211\u4EEC\u52A0\u8F7D\u56FE\u7247\u7684\u865A\u62DFImage\u5B9E\u4F8B</span>
        <span class="token keyword">const</span> virtualImage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">// \u76D1\u542C\u76EE\u6807\u56FE\u7247\u52A0\u8F7D\u7684\u60C5\u51B5\uFF0C\u5B8C\u6210\u65F6\u518D\u5C06DOM\u4E0A\u7684\u771F\u5B9Eimg\u8282\u70B9\u7684src\u5C5E\u6027\u8BBE\u7F6E\u4E3A\u76EE\u6807\u56FE\u7247\u7684url</span>
        virtualImage<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>targetImage<span class="token punctuation">.</span><span class="token function">setSrc</span><span class="token punctuation">(</span>targetUrl<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// \u8BBE\u7F6Esrc\u5C5E\u6027\uFF0C\u865A\u62DFImage\u5B9E\u4F8B\u5F00\u59CB\u52A0\u8F7D\u56FE\u7247</span>
        virtualImage<span class="token punctuation">.</span>src <span class="token operator">=</span> targetUrl
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><blockquote><p><code>ProxyImage</code> \u5E2E\u6211\u4EEC\u8C03\u5EA6\u4E86\u9884\u52A0\u8F7D\u76F8\u5173\u7684\u5DE5\u4F5C\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 <code>ProxyImage</code> \u8FD9\u4E2A\u4EE3\u7406\uFF0C\u5B9E\u73B0\u5BF9\u771F\u5B9E img \u8282\u70B9\u7684\u95F4\u63A5\u8BBF\u95EE\uFF0C\u5E76\u5F97\u5230\u6211\u4EEC\u60F3\u8981\u7684\u6548\u679C\u3002</p></blockquote><p>\u5728\u8FD9\u4E2A\u5B9E\u4F8B\u4E2D\uFF0C<code>virtualImage</code> \u8FD9\u4E2A\u5BF9\u8C61\u662F\u4E00\u4E2A\u201C\u5E55\u540E\u82F1\u96C4\u201D\uFF0C\u5B83\u59CB\u7EC8\u5B58\u5728\u4E8E JavaScript \u4E16\u754C\u4E2D\u3001\u4EE3\u66FF\u771F\u5B9E DOM \u53D1\u8D77\u4E86\u56FE\u7247\u52A0\u8F7D\u8BF7\u6C42\u3001\u5B8C\u6210\u4E86\u56FE\u7247\u52A0\u8F7D\u5DE5\u4F5C\uFF0C\u5374\u4ECE\u672A\u5728\u6E32\u67D3\u5C42\u9762\u629B\u5934\u9732\u9762\u3002\u56E0\u6B64\u8FD9\u79CD\u6A21\u5F0F\u88AB\u79F0\u4E3A\u201C\u865A\u62DF\u4EE3\u7406\u201D\u6A21\u5F0F\u3002</p>`,10),Nvn={id:"_5-5-\u7F13\u5B58\u4EE3\u7406",tabindex:"-1"},Mvn=n("a",{class:"header-anchor",href:"#_5-5-\u7F13\u5B58\u4EE3\u7406","aria-hidden":"true"},"#",-1),Ovn=s(),Ivn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_5-5-%E7%BC%93%E5%AD%98%E4%BB%A3%E7%90%86",target:"_blank",rel:"noopener noreferrer"},Rvn=s("#"),Vvn=s("5.5 \u7F13\u5B58\u4EE3\u7406"),Hvn=t(`<blockquote><p>\u7F13\u5B58\u4EE3\u7406\u6BD4\u8F83\u597D\u7406\u89E3\uFF0C\u5B83\u5E94\u7528\u4E8E\u4E00\u4E9B\u8BA1\u7B97\u91CF\u8F83\u5927\u7684\u573A\u666F\u91CC\u3002\u5728\u8FD9\u79CD\u573A\u666F\u4E0B\uFF0C\u6211\u4EEC\u9700\u8981\u201C\u7528\u7A7A\u95F4\u6362\u65F6\u95F4\u201D\u2014\u2014\u5F53\u6211\u4EEC\u9700\u8981\u7528\u5230\u67D0\u4E2A\u5DF2\u7ECF\u8BA1\u7B97\u8FC7\u7684\u503C\u7684\u65F6\u5019\uFF0C\u4E0D\u60F3\u518D\u8017\u65F6\u8FDB\u884C\u4E8C\u6B21\u8BA1\u7B97\uFF0C\u800C\u662F\u5E0C\u671B\u80FD\u4ECE\u5185\u5B58\u91CC\u53BB\u53D6\u51FA\u73B0\u6210\u7684\u8BA1\u7B97\u7ED3\u679C\u3002\u8FD9\u79CD\u573A\u666F\u4E0B\uFF0C\u5C31\u9700\u8981\u4E00\u4E2A\u4EE3\u7406\u6765\u5E2E\u6211\u4EEC\u5728\u8FDB\u884C\u8BA1\u7B97\u7684\u540C\u65F6\uFF0C\u8FDB\u884C\u8BA1\u7B97\u7ED3\u679C\u7684\u7F13\u5B58\u4E86\u3002</p></blockquote><p>\u4E00\u4E2A\u6BD4\u8F83\u5178\u578B\u7684\u4F8B\u5B50\uFF0C\u662F\u5BF9\u4F20\u5165\u7684\u53C2\u6570\u8FDB\u884C\u6C42\u548C\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// addAll\u65B9\u6CD5\u4F1A\u5BF9\u4F60\u4F20\u5165\u7684\u6240\u6709\u53C2\u6570\u505A\u6C42\u548C\u64CD\u4F5C</span>
<span class="token keyword">const</span> <span class="token function-variable function">addAll</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u8FDB\u884C\u4E86\u4E00\u6B21\u65B0\u8BA1\u7B97&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">const</span> len <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result <span class="token operator">+=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result
<span class="token punctuation">}</span>

<span class="token comment">// \u4E3A\u6C42\u548C\u65B9\u6CD5\u521B\u5EFA\u4EE3\u7406</span>
<span class="token keyword">const</span> proxyAddAll <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// \u6C42\u548C\u7ED3\u679C\u7684\u7F13\u5B58\u6C60</span>
    <span class="token keyword">const</span> resultCache <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u5C06\u5165\u53C2\u8F6C\u5316\u4E3A\u4E00\u4E2A\u552F\u4E00\u7684\u5165\u53C2\u5B57\u7B26\u4E32</span>
        <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span>
        
        <span class="token comment">// \u68C0\u67E5\u672C\u6B21\u5165\u53C2\u662F\u5426\u6709\u5BF9\u5E94\u7684\u8BA1\u7B97\u7ED3\u679C</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>args <span class="token keyword">in</span> resultCache<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u5982\u679C\u6709\uFF0C\u5219\u8FD4\u56DE\u7F13\u5B58\u6C60\u91CC\u73B0\u6210\u7684\u7ED3\u679C</span>
            <span class="token keyword">return</span> resultCache<span class="token punctuation">[</span>args<span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> resultCache<span class="token punctuation">[</span>args<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">addAll</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>\u6211\u4EEC\u628A\u8FD9\u4E2A\u65B9\u6CD5\u4E22\u8FDB\u63A7\u5236\u53F0\uFF0C\u5C1D\u8BD5\u540C\u4E00\u5957\u5165\u53C2\u4E24\u6B21\uFF0C\u7ED3\u679C\u559C\u4EBA\uFF1A</p><p><img src="http://img-repo.poetries.top/images/20210327190950.png" alt="img"></p><blockquote><p>\u6211\u4EEC\u53D1\u73B0 <code>proxyAddAll</code> \u9488\u5BF9\u91CD\u590D\u7684\u5165\u53C2\u53EA\u4F1A\u8BA1\u7B97\u4E00\u6B21\uFF0C\u8FD9\u5C06\u5927\u5927\u8282\u7701\u8BA1\u7B97\u8FC7\u7A0B\u4E2D\u7684\u65F6\u95F4\u5F00\u9500\u3002\u73B0\u5728\u6211\u4EEC\u6709 6 \u4E2A\u5165\u53C2\uFF0C\u53EF\u80FD\u8FD8\u770B\u4E0D\u51FA\u6765\uFF0C\u5F53\u6211\u4EEC\u9488\u5BF9\u5927\u91CF\u5165\u53C2\u3001\u505A\u53CD\u590D\u8BA1\u7B97\u65F6\uFF0C\u7F13\u5B58\u4EE3\u7406\u7684\u4F18\u52BF\u5C06\u5F97\u5230\u66F4\u5145\u5206\u7684\u51F8\u663E\u3002</p></blockquote>`,6),Lvn={id:"_6-\u884C\u4E3A\u578B-\u7B56\u7565\u6A21\u5F0F",tabindex:"-1"},Uvn=n("a",{class:"header-anchor",href:"#_6-\u884C\u4E3A\u578B-\u7B56\u7565\u6A21\u5F0F","aria-hidden":"true"},"#",-1),Jvn=s(),Wvn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_6-%E8%A1%8C%E4%B8%BA%E5%9E%8B-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},zvn=s("#"),Gvn=s("6 \u884C\u4E3A\u578B-\u7B56\u7565\u6A21\u5F0F"),$vn=t(`<blockquote><p>\u5B9A\u4E49\u4E00\u7CFB\u5217\u7684\u7B97\u6CD5,\u628A\u5B83\u4EEC\u4E00\u4E2A\u4E2A\u5C01\u88C5\u8D77\u6765, \u5E76\u4E14\u4F7F\u5B83\u4EEC\u53EF\u76F8\u4E92\u66FF\u6362\u3002</p></blockquote><p><strong>\u4F8B\u5B50</strong></p><blockquote><p>\u5B9A\u4E49\uFF1A\u6839\u636E\u4E0D\u540C\u53C2\u6570\u53EF\u4EE5\u547D\u4E2D\u4E0D\u540C\u7684\u7B56\u7565</p></blockquote><ul><li><p>\u4F18\u70B9\uFF1A</p></li><li><p>\u80FD\u51CF\u5C11\u5927\u91CF\u7684if\u8BED\u53E5</p></li><li><p>\u590D\u7528\u6027\u597D</p></li><li><p>\u4F18\u5316\u4F7F\u7528\uFF1A</p><ul><li>\u5C01\u88C5\u4EE3\u7801\uFF0C\u66B4\u9732\u65B9\u6CD5</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    xxx
<span class="token punctuation">}</span>

<span class="token keyword">import</span> xxx <span class="token keyword">from</span> <span class="token string">&#39;x.js&#39;</span>
<span class="token keyword">const</span> strategy <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;A&#39;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">salary</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> salary <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token string-property property">&#39;B&#39;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">salary</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> salary <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token string-property property">&#39;C&#39;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">salary</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> salary <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">calculateBonus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">level<span class="token punctuation">,</span> salary</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> strategy<span class="token punctuation">[</span>level<span class="token punctuation">]</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">calculateBonus</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20000</span>

<span class="token comment">// \u66B4\u9732\u65B9\u6CD5</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    calculateBonus
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div>`,5),Xvn={id:"_6-1-\u5148\u6765\u770B\u4E00\u4E2A\u771F\u5B9E\u573A\u666F",tabindex:"-1"},Kvn=n("a",{class:"header-anchor",href:"#_6-1-\u5148\u6765\u770B\u4E00\u4E2A\u771F\u5B9E\u573A\u666F","aria-hidden":"true"},"#",-1),Qvn=s(),Yvn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_6-1-%E5%85%88%E6%9D%A5%E7%9C%8B%E4%B8%80%E4%B8%AA%E7%9C%9F%E5%AE%9E%E5%9C%BA%E6%99%AF",target:"_blank",rel:"noopener noreferrer"},Zvn=s("#"),n5n=s("6.1 \u5148\u6765\u770B\u4E00\u4E2A\u771F\u5B9E\u573A\u666F"),s5n=t(`<p>\u6709\u4E00\u5929\uFF0C\u4EA7\u54C1\u7ECF\u7406\u97E9\u6885\u6885\u627E\u5230\u674E\u96F7\uFF0C\u7ED9\u674E\u96F7\u63D0\u4E86\u8FD9\u4E48\u4E2A\u9700\u6C42\uFF1A</p><p>\u9A6C\u4E0A\u5927\u4FC3\u8981\u6765\u4E86\uFF0C\u6211\u4EEC\u672C\u6B21\u5927\u4FC3\u8981\u505A\u5DEE\u5F02\u5316\u8BE2\u4EF7\u3002\u5565\u662F\u5DEE\u5F02\u5316\u8BE2\u4EF7\uFF1F\u5C31\u662F\u8BF4\u540C\u4E00\u4E2A\u5546\u54C1\uFF0C\u6211\u901A\u8FC7\u5728\u540E\u53F0\u7ED9\u5B83\u8BBE\u7F6E\u4E0D\u540C\u7684\u4EF7\u683C\u7C7B\u578B\uFF0C\u53EF\u4EE5\u8BA9\u5B83\u5C55\u793A\u4E0D\u540C\u7684\u4EF7\u683C\u3002\u5177\u4F53\u7684\u903B\u8F91\u5982\u4E0B\uFF1A</p><ul><li>\u5F53\u4EF7\u683C\u7C7B\u578B\u4E3A\u201C\u9884\u552E\u4EF7\u201D\u65F6\uFF0C\u6EE1 100 - 20\uFF0C\u4E0D\u6EE1 100 \u6253 9 \u6298</li><li>\u5F53\u4EF7\u683C\u7C7B\u578B\u4E3A\u201C\u5927\u4FC3\u4EF7\u201D\u65F6\uFF0C\u6EE1 100 - 30\uFF0C\u4E0D\u6EE1 100 \u6253 8 \u6298</li><li>\u5F53\u4EF7\u683C\u7C7B\u578B\u4E3A\u201C\u8FD4\u573A\u4EF7\u201D\u65F6\uFF0C\u6EE1 200 - 50\uFF0C\u4E0D\u53E0\u52A0</li><li>\u5F53\u4EF7\u683C\u7C7B\u578B\u4E3A\u201C\u5C1D\u9C9C\u4EF7\u201D\u65F6\uFF0C\u76F4\u63A5\u6253 5 \u6298</li></ul><p>\u674E\u96F7\u626B\u4E86\u4E00\u773C prd\uFF0C\u7ACB\u523B\u6765\u4E86\u4E3B\u610F\u3002\u4ED6\u9996\u5148\u5C06\u56DB\u79CD\u4EF7\u683C\u505A\u4E86\u6807\u7B7E\u5316\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u9884\u552E\u4EF7 - pre
\u5927\u4FC3\u4EF7 - onSale
\u8FD4\u573A\u4EF7 - back
\u5C1D\u9C9C\u4EF7 - fresh
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u63A5\u4E0B\u6765\u674E\u96F7\u4ED4\u7EC6\u7814\u8BFB\u4E86 prd \u7684\u5185\u5BB9\uFF0C\u4F5C\u4E3A\u8D44\u6DF1 if-else \u4FA0\uFF0C\u4ED6\u4E09\u4E0B\u4E94\u9664\u4E8C\u5C31\u5199\u51FA\u4E00\u5957\u529F\u80FD\u5B8C\u5907\u7684\u4EE3\u7801\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8BE2\u4EF7\u65B9\u6CD5\uFF0C\u63A5\u53D7\u4EF7\u683C\u6807\u7B7E\u548C\u539F\u4EF7\u4E3A\u5165\u53C2</span>
<span class="token keyword">function</span> <span class="token function">askPrice</span><span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span> originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token comment">// \u5904\u7406\u9884\u70ED\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;pre&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">20</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.9</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// \u5904\u7406\u5927\u4FC3\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;onSale&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">30</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.8</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// \u5904\u7406\u8FD4\u573A\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;back&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">50</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> originPrice
  <span class="token punctuation">}</span>
  
  <span class="token comment">// \u5904\u7406\u5C1D\u9C9C\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;fresh&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.5</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div>`,7),a5n={id:"_6-2-if-else-\u4FA0-\u4EBA\u4EBA\u558A\u6253",tabindex:"-1"},e5n=n("a",{class:"header-anchor",href:"#_6-2-if-else-\u4FA0-\u4EBA\u4EBA\u558A\u6253","aria-hidden":"true"},"#",-1),t5n=s(),p5n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_6-2-if-else-%E4%BE%A0-%E4%BA%BA%E4%BA%BA%E5%96%8A%E6%89%93",target:"_blank",rel:"noopener noreferrer"},o5n=s("#"),c5n=s("6.2 if-else \u4FA0\uFF0C\u4EBA\u4EBA\u558A\u6253"),l5n=t(`<p>\u968F\u4FBF\u8DD1\u4E00\u4E0B\uFF0C\u4E0A\u8FF0\u4EE3\u7801\u8FD0\u884C\u8D77\u6765\u786E\u5B9E\u6CA1\u5565\u6BDB\u75C5\u3002\u4F46\u4E5F\u53EA\u662F\u201C\u8FD0\u884C\u8D77\u6765\u201D\u6CA1\u6BDB\u75C5\u800C\u5DF2\u3002\u4F5C\u4E3A\u4EBA\u4EBA\u558A\u6253\u7684 if-else \u4FA0\uFF0C\u674E\u96F7\u5FC5\u987B\u4E3A\u4ED6\u7684\u884C\u4E3A\u4ED8\u51FA\u4EE3\u4EF7\u3002\u6211\u4EEC\u4E00\u8D77\u6765\u770B\u770B\u8FD9\u4E48\u5199\u4EE3\u7801\u4F1A\u5E26\u6765\u4EC0\u4E48\u540E\u679C\uFF1A</p><ul><li>\u9996\u5148\uFF0C\u5B83\u8FDD\u80CC\u4E86\u201C\u5355\u4E00\u529F\u80FD\u201D\u539F\u5219\u3002\u4E00\u4E2A function \u91CC\u9762\uFF0C\u5B83\u7ADF\u7136\u5904\u7406\u4E86\u56DB\u5768\u903B\u8F91\u2014\u2014\u8FD9\u4E2A\u51FD\u6570\u7684\u903B\u8F91\u592A\u80D6\u4E86\uFF01\u8FD9\u6837\u4F1A\u5E26\u6765\u4EC0\u4E48\u6837\u7684\u7CDF\u7CD5\u540E\u679C\uFF0C\u7B14\u8005\u5728\u524D\u9762\u7684\u5C0F\u8282\u4E2D\u5DF2\u7ECF BB \u8FC7\u5F88\u591A\u6B21\u4E86\uFF1A\u6BD4\u5982\u8BF4\u4E07\u4E00\u5176\u4E2D\u4E00\u884C\u4EE3\u7801\u51FA\u4E86 Bug\uFF0C\u90A3\u4E48\u6574\u4E2A\u8BE2\u4EF7\u903B\u8F91\u90FD\u4F1A\u5D29\u574F\uFF1B\u4E0E\u6B64\u540C\u65F6\u51FA\u4E86 Bug \u4F60\u5F88\u96BE\u5B9A\u4F4D\u5230\u5E95\u662F\u54EA\u4E2A\u4EE3\u7801\u5757\u574F\u4E86\u4E8B\uFF1B\u518D\u6BD4\u5982\u8BF4\u5355\u4E2A\u80FD\u529B\u5F88\u96BE\u88AB\u62BD\u79BB\u590D\u7528\u7B49\u7B49\u7B49\u7B49\u3002\u76F8\u4FE1\u8DDF\u7740\u6211\u4E00\u8DEF\u5B66\u4E0B\u6765\u7684\u5404\u4F4D\uFF0C\u4E5F\u5DF2\u7ECF\u5728\u91CD\u91CD\u5B9E\u6218\u4E2D\u5BF9\u80D6\u903B\u8F91\u7684\u6076\u52A3\u5F71\u54CD\u6709\u4E86\u5207\u8EAB\u7684\u4F53\u4F1A\u3002\u603B\u4E4B\uFF0C\u89C1\u5230\u80D6\u903B\u8F91\uFF0C\u6211\u4EEC\u7684\u7B2C\u4E00\u53CD\u5E94\uFF0C\u5C31\u662F\u4E00\u4E2A\u5B57\u2014\u2014\u62C6\uFF01</li><li>\u4E0D\u4EC5\u5982\u6B64\uFF0C\u5B83\u8FD8\u8FDD\u80CC\u4E86\u201C\u5F00\u653E\u5C01\u95ED\u201D\u539F\u5219\u3002\u5047\u5982\u6709\u4E00\u5929\u97E9\u6885\u6885\u518D\u6B21\u627E\u5230\u674E\u96F7\uFF0C\u8981\u4ED6\u52A0\u4E00\u4E2A\u6EE1 100 - 50 \u7684\u201C\u65B0\u4EBA\u4EF7\u201D\u600E\u4E48\u529E\uFF1F\u4ED6\u53EA\u80FD\u7EE7\u7EED if-else\uFF1A</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">askPrice</span><span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span> originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token comment">// \u5904\u7406\u9884\u70ED\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;pre&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">20</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.9</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5904\u7406\u5927\u4FC3\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;onSale&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">30</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.8</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u5904\u7406\u8FD4\u573A\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;back&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">50</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> originPrice
  <span class="token punctuation">}</span>

  <span class="token comment">// \u5904\u7406\u5C1D\u9C9C\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;fresh&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.5</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// \u5904\u7406\u65B0\u4EBA\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;newUser&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">50</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> originPrice
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><blockquote><p>\u6CA1\u9519\uFF0C\u674E\u96F7\u7070\u6E9C\u6E9C\u5730\u8DD1\u53BB\u6539\u4E86 <code>askPrice</code> \u51FD\u6570\uFF01\u968F\u540E\u4ED6\u606C\u4E0D\u77E5\u803B\u5730\u5F90\u5F90\u8F6C\u5934\uFF0C\u5BF9\u80CC\u540E\u7684\u6D4B\u8BD5\u540C\u5B66\u8BF4\uFF1A\u54E5\uFF0C\u6211\u6539\u4E86\u8BE2\u4EF7\u51FD\u6570\uFF0C\u9EBB\u70E6\u4F60\u5E2E\u6211\u628A<strong>\u6574\u4E2A\u8BE2\u4EF7\u903B\u8F91</strong>\u56DE\u5F52\u4E00\u4E0B\u3002\u6D4B\u8BD5\u540C\u5B66\u839E\u5C14\u4E00\u7B11\uFF0C \u5FC3\u4E2D\u65E9\u5DF2\u6709\u65E0\u6570\u5934\u7F8A\u9A7C\u5728\u72C2\u5954\u3002\u4ED6\u5F3A\u5FCD\u7740\u5468\u672B\u52A0\u73ED\u7684\u60B2\u75DB\uFF0C\u505A\u5B8C\u4E86\u8FD9\u6F2B\u957F\u800C\u4E0D\u5FC5\u8981\u7684\u56DE\u5F52\u6D4B\u8BD5\uFF0C\u968F\u540E\u9ED8\u9ED8\u70B9\u51FB\u4E86\u540C\u4E8B\u7CFB\u7EDF\u91CC\u7684\u4E3E\u62A5\u6309\u94AE\u5BF9\u674E\u96F7\u8BF4\uFF1A\u54E5\uFF0C\u6C42\u4F60\u5B66\u5B66\u8BBE\u8BA1\u6A21\u5F0F\u5427\uFF01\uFF01</p></blockquote>`,4),r5n={id:"_6-3-\u91CD\u6784\u8BE2\u4EF7\u903B\u8F91",tabindex:"-1"},i5n=n("a",{class:"header-anchor",href:"#_6-3-\u91CD\u6784\u8BE2\u4EF7\u903B\u8F91","aria-hidden":"true"},"#",-1),u5n=s(),k5n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_6-3-%E9%87%8D%E6%9E%84%E8%AF%A2%E4%BB%B7%E9%80%BB%E8%BE%91",target:"_blank",rel:"noopener noreferrer"},d5n=s("#"),b5n=s("6.3 \u91CD\u6784\u8BE2\u4EF7\u903B\u8F91"),m5n=t(`<p>\u73B0\u5728\u6211\u4EEC\u57FA\u4E8E\u6211\u4EEC\u5DF2\u7ECF\u5B66\u8FC7\u7684\u8BBE\u8BA1\u6A21\u5F0F\u601D\u60F3\uFF0C\u4E00\u70B9\u4E00\u70B9\u6539\u9020\u6389\u8FD9\u4E2A\u81C3\u80BF\u7684 askPrice\u3002</p><p><strong>1. \u5355\u4E00\u529F\u80FD\u6539\u9020</strong></p><p>\u9996\u5148\uFF0C\u6211\u4EEC\u8D76\u7D27\u628A\u56DB\u79CD\u8BE2\u4EF7\u903B\u8F91\u63D0\u51FA\u6765\uFF0C\u8BA9\u5B83\u4EEC\u5404\u81EA\u4E3A\u653F\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5904\u7406\u9884\u70ED\u4EF7</span>
<span class="token keyword">function</span> <span class="token function">prePrice</span><span class="token punctuation">(</span><span class="token parameter">originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">20</span>
  <span class="token punctuation">}</span> 
  <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.9</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5904\u7406\u5927\u4FC3\u4EF7</span>
<span class="token keyword">function</span> <span class="token function">onSalePrice</span><span class="token punctuation">(</span><span class="token parameter">originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">30</span>
  <span class="token punctuation">}</span> 
  <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.8</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5904\u7406\u8FD4\u573A\u4EF7</span>
<span class="token keyword">function</span> <span class="token function">backPrice</span><span class="token punctuation">(</span><span class="token parameter">originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">50</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> originPrice
<span class="token punctuation">}</span>

<span class="token comment">// \u5904\u7406\u5C1D\u9C9C\u4EF7</span>
<span class="token keyword">function</span> <span class="token function">freshPrice</span><span class="token punctuation">(</span><span class="token parameter">originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.5</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">askPrice</span><span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span> originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5904\u7406\u9884\u70ED\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;pre&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">prePrice</span><span class="token punctuation">(</span>originPrice<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5904\u7406\u5927\u4FC3\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;onSale&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">onSalePrice</span><span class="token punctuation">(</span>originPrice<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u5904\u7406\u8FD4\u573A\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;back&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">backPrice</span><span class="token punctuation">(</span>originPrice<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u5904\u7406\u5C1D\u9C9C\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;fresh&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token function">freshPrice</span><span class="token punctuation">(</span>originPrice<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><p>OK\uFF0C\u6211\u4EEC\u73B0\u5728\u81F3\u5C11\u505A\u5230\u4E86\u4E00\u4E2A\u51FD\u6570\u53EA\u505A\u4E00\u4EF6\u4E8B\u3002\u73B0\u5728\u6BCF\u4E2A\u51FD\u6570\u90FD\u6709\u4E86\u81EA\u5DF1\u660E\u786E\u7684\u3001\u5355\u4E00\u7684\u5206\u5DE5\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>prePrice - \u5904\u7406\u9884\u70ED\u4EF7
onSalePrice - \u5904\u7406\u5927\u4FC3\u4EF7
backPrice - \u5904\u7406\u8FD4\u573A\u4EF7
freshPrice - \u5904\u7406\u5C1D\u9C9C\u4EF7
askPrice - \u5206\u53D1\u8BE2\u4EF7\u903B\u8F91
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u5982\u6B64\u4E00\u6765\uFF0C\u6211\u4EEC\u5728\u9047\u5230 Bug \u65F6\uFF0C\u5C31\u53EF\u4EE5\u505A\u5230\u201C\u5934\u75DB\u533B\u5934\uFF0C\u811A\u75DB\u533B\u811A\u201D\uFF0C\u800C\u4E0D\u5FC5\u5728\u5E9E\u5927\u7684\u903B\u8F91\u6D77\u6D0B\u91CC\u8D39\u529B\u53BB\u5B9A\u4F4D\u5230\u5E95\u662F\u54EA\u5757\u4E0D\u5BF9\u3002</p><p>\u540C\u65F6\uFF0C\u5982\u679C\u6211\u5728\u53E6\u4E00\u4E2A\u51FD\u6570\u91CC\u4E5F\u60F3\u4F7F\u7528\u67D0\u4E2A\u8BE2\u4EF7\u80FD\u529B\uFF0C\u6BD4\u5982\u8BF4\u6211\u60F3\u8BE2\u9884\u70ED\u4EF7\uFF0C\u90A3\u6211\u76F4\u63A5\u628A prePrice \u8FD9\u4E2A\u51FD\u6570\u62FF\u53BB\u8C03\u7528\u5C31\u662F\u4E86\uFF0C\u800C\u4E0D\u5FC5\u5728 askPrice \u80A5\u80D6\u7684\u8EAB\u8EAF\u91CC\u82E6\u82E6\u5BFB\u89C5\u3001\u7136\u540E\u638F\u51FA\u8FD9\u5757\u903B\u8F91\u3001\u6700\u540E\u518D\u590D\u5236\u7C98\u8D34\u5230\u53E6\u4E00\u4E2A\u51FD\u6570\u53BB\u2014\u2014\u66F4\u4F55\u51B5\u4E07\u4E00\u54EA\u5929 askPrice \u91CC\u7684\u9884\u70ED\u4EF7\u903B\u8F91\u6539\u4E86\uFF0C\u4F60\u8FD8\u5F97\u518D\u590D\u5236\u7C98\u8D34\u4E00\u6B21\uFF0C\u624E\u5FC3\u554A\u8001\u94C1\uFF01</p><p>\u5230\u8FD9\u91CC\uFF0C\u5728\u5355\u4E00\u529F\u80FD\u539F\u5219\u7684\u6307\u5F15\u4E0B\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u89E3\u51B3\u4E86\u4E00\u534A\u7684\u95EE\u9898\u3002</p><p>\u6211\u4EEC\u73B0\u5728\u6765\u634B\u4E00\u4E0B\uFF0C\u5176\u5B9E\u8FD9\u4E2A\u8BE2\u4EF7\u903B\u8F91\u6574\u4F53\u4E0A\u6765\u770B\u53EA\u6709\u4E24\u4E2A\u5173\u952E\u52A8\u4F5C\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u8BE2\u4EF7\u903B\u8F91\u7684\u5206\u53D1 \u2014\u2014&gt; \u8BE2\u4EF7\u903B\u8F91\u7684\u6267\u884C
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5728\u6539\u9020\u7684\u7B2C\u4E00\u6B65\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u628A\u201C\u8BE2\u4EF7\u903B\u8F91\u7684\u6267\u884C\u201D\u7ED9\u6458\u4E86\u51FA\u53BB\uFF0C\u5E76\u4E14\u5B9E\u73B0\u4E86\u4E0D\u540C\u8BE2\u4EF7\u903B\u8F91\u4E4B\u95F4\u7684\u89E3\u8026\u3002\u63A5\u4E0B\u6765\uFF0C\u6211\u4EEC\u5C31\u8981\u62FF\u201C\u5206\u53D1\u201D\u8FD9\u4E2A\u52A8\u4F5C\u5F00\u5200\u3002</p><p><strong>2. \u5F00\u653E\u5C01\u95ED\u6539\u9020</strong></p><p>\u5269\u4E0B\u4E00\u534A\u7684\u95EE\u9898\u662F\u5565\u5462\uFF1F\u5C31\u662F\u54B1\u4EEC\u4E0A\u9762\u8BF4\u7684\u90A3\u4E2A\u65B0\u4EBA\u4EF7\u7684\u95EE\u9898\u2014\u2014\u8FD9\u4F1A\u513F\u6211\u8981\u60F3\u7ED9 askPrice \u589E\u52A0\u65B0\u4EBA\u8BE2\u4EF7\u903B\u8F91\uFF0C\u6211\u8BE5\u548B\u6574\uFF1F\u6211\u53EA\u80FD\u8FD9\u4E48\u6765\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5904\u7406\u9884\u70ED\u4EF7</span>
<span class="token keyword">function</span> <span class="token function">prePrice</span><span class="token punctuation">(</span><span class="token parameter">originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">20</span>
  <span class="token punctuation">}</span> 
  <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.9</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5904\u7406\u5927\u4FC3\u4EF7</span>
<span class="token keyword">function</span> <span class="token function">onSalePrice</span><span class="token punctuation">(</span><span class="token parameter">originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">30</span>
  <span class="token punctuation">}</span> 
  <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.8</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5904\u7406\u8FD4\u573A\u4EF7</span>
<span class="token keyword">function</span> <span class="token function">backPrice</span><span class="token punctuation">(</span><span class="token parameter">originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">50</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> originPrice
<span class="token punctuation">}</span>

<span class="token comment">// \u5904\u7406\u5C1D\u9C9C\u4EF7</span>
<span class="token keyword">function</span> <span class="token function">freshPrice</span><span class="token punctuation">(</span><span class="token parameter">originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.5</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5904\u7406\u65B0\u4EBA\u4EF7</span>
<span class="token keyword">function</span> <span class="token function">newUserPrice</span><span class="token punctuation">(</span><span class="token parameter">originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">50</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> originPrice
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">askPrice</span><span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span> originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5904\u7406\u9884\u70ED\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;pre&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">prePrice</span><span class="token punctuation">(</span>originPrice<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5904\u7406\u5927\u4FC3\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;onSale&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">onSalePrice</span><span class="token punctuation">(</span>originPrice<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u5904\u7406\u8FD4\u573A\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;back&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">backPrice</span><span class="token punctuation">(</span>originPrice<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u5904\u7406\u5C1D\u9C9C\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;fresh&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token function">freshPrice</span><span class="token punctuation">(</span>originPrice<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// \u5904\u7406\u65B0\u4EBA\u4EF7</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">&#39;newUser&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token function">newUserPrice</span><span class="token punctuation">(</span>originPrice<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><p>\u5728\u5916\u5C42\uFF0C\u6211\u4EEC\u7F16\u5199\u4E00\u4E2A newUser \u51FD\u6570\u7528\u4E8E\u5904\u7406\u65B0\u4EBA\u4EF7\u903B\u8F91\uFF1B\u5728 askPrice \u91CC\u9762\uFF0C\u6211\u4EEC\u65B0\u589E\u4E86\u4E00\u4E2A if-else \u5224\u65AD\u3002\u53EF\u4EE5\u770B\u51FA\uFF0C\u8FD9\u6837\u5176\u5B9E\u8FD8\u662F\u5728\u4FEE\u6539 askPrice \u7684\u51FD\u6570\u4F53\uFF0C\u6CA1\u6709\u5B9E\u73B0\u201C\u5BF9\u6269\u5C55\u5F00\u653E\uFF0C\u5BF9\u4FEE\u6539\u5C01\u95ED\u201D\u7684\u6548\u679C\u3002</p><blockquote><p>\u90A3\u4E48\u6211\u4EEC\u5E94\u8BE5\u600E\u4E48\u505A\uFF1F\u6211\u4EEC\u4ED4\u7EC6\u60F3\u60F3\uFF0C\u697C\u4E0A\u7528\u4E86\u8FD9\u4E48\u591A if-else\uFF0C\u6211\u4EEC\u7684\u76EE\u7684\u5230\u5E95\u662F\u4EC0\u4E48\uFF1F\u662F\u4E0D\u662F\u5C31\u662F\u4E3A\u4E86\u628A \u8BE2\u4EF7\u6807\u7B7E-\u8BE2\u4EF7\u51FD\u6570 \u8FD9\u4E2A\u6620\u5C04\u5173\u7CFB\u7ED9\u660E\u786E\u4E0B\u6765\uFF1F\u90A3\u4E48\u5728 JS \u4E2D\uFF0C\u6709\u6CA1\u6709\u4EC0\u4E48\u65E2\u80FD\u591F\u65E2\u5E2E\u6211\u4EEC\u660E\u786E\u6620\u5C04\u5173\u7CFB\uFF0C\u540C\u65F6\u4E0D\u7834\u574F\u4EE3\u7801\u7684\u7075\u6D3B\u6027\u7684\u65B9\u6CD5\u5462\uFF1F\u7B54\u6848\u5C31\u662F<strong>\u5BF9\u8C61\u6620\u5C04</strong>\uFF01</p></blockquote><p>\u54B1\u4EEC\u5B8C\u5168\u53EF\u4EE5\u628A\u8BE2\u4EF7\u7B97\u6CD5\u5168\u90FD\u6536\u655B\u5230\u4E00\u4E2A\u5BF9\u8C61\u91CC\u53BB\u561B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9A\u4E49\u4E00\u4E2A\u8BE2\u4EF7\u5904\u7406\u5668\u5BF9\u8C61</span>
<span class="token keyword">const</span> priceProcessor <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">pre</span><span class="token punctuation">(</span><span class="token parameter">originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.9</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onSale</span><span class="token punctuation">(</span><span class="token parameter">originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">30</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.8</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">back</span><span class="token punctuation">(</span><span class="token parameter">originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">50</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> originPrice<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">fresh</span><span class="token punctuation">(</span><span class="token parameter">originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> originPrice <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>\u5F53\u6211\u4EEC\u60F3\u4F7F\u7528\u5176\u4E2D\u67D0\u4E2A\u8BE2\u4EF7\u7B97\u6CD5\u7684\u65F6\u5019\uFF1A\u901A\u8FC7\u6807\u7B7E\u540D\u53BB\u5B9A\u4F4D\u5C31\u597D\u4E86\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8BE2\u4EF7\u51FD\u6570</span>
<span class="token keyword">function</span> <span class="token function">askPrice</span><span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span> originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> priceProcessor<span class="token punctuation">[</span>tag<span class="token punctuation">]</span><span class="token punctuation">(</span>originPrice<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>\u5982\u6B64\u4E00\u6765\uFF0CaskPrice \u51FD\u6570\u91CC\u7684 if-else \u5927\u519B\u5F7B\u5E95\u88AB\u54B1\u4EEC\u6D88\u706D\u4E86\u3002\u8FD9\u65F6\u5019\u5982\u679C\u4F60\u9700\u8981\u4E00\u4E2A\u65B0\u4EBA\u4EF7\uFF0C\u53EA\u9700\u8981\u7ED9 priceProcessor \u65B0\u589E\u4E00\u4E2A\u6620\u5C04\u5173\u7CFB\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>priceProcessor<span class="token punctuation">.</span><span class="token function-variable function">newUser</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">originPrice</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>originPrice <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> originPrice <span class="token operator">-</span> <span class="token number">50</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> originPrice<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u8FD9\u6837\u4E00\u6765\uFF0C\u8BE2\u4EF7\u903B\u8F91\u7684\u5206\u53D1\u4E5F\u53D8\u6210\u4E86\u4E00\u4E2A\u6E05\u6E05\u723D\u723D\u7684\u8FC7\u7A0B\u3002\u5F53\u674E\u96F7\u4EE5\u8FD9\u79CD\u65B9\u5F0F\u65B0\u589E\u4E00\u4E2A\u65B0\u4EBA\u4EF7\u7684\u8BE2\u4EF7\u903B\u8F91\u7684\u65F6\u5019\uFF0C\u5C31\u53EF\u4EE5\u5E95\u6C14\u5341\u8DB3\u5730\u5BF9\u6D4B\u8BD5\u540C\u5B66\u8BF4\uFF1A\u8001\u54E5\uFF0C\u6211\u6539\u4E86\u8BE2\u4EF7\u903B\u8F91\uFF0C\u4F46\u662F\u6539\u52A8\u8303\u56F4\u4EC5\u4EC5\u6D89\u53CA\u5230\u65B0\u4EBA\u4EF7\uFF0C\u662F\u4E00\u4E2A\u5355\u7EAF\u7684\u529F\u80FD\u589E\u52A0\u3002\u6240\u4EE5\u4F60\u53EA\u6D4B\u8FD9\u4E2A\u65B0\u529F\u80FD\u70B9\u5C31 OK\uFF0C\u8001\u903B\u8F91\u4E0D\u7528\u7BA1\uFF01</p><p>\u4ECE\u6B64\uFF0C\u674E\u96F7\u5C31\u4ECE\u4EBA\u4EBA\u558A\u6253\u7684 if-else \u4FA0\uFF0C\u6447\u8EAB\u4E00\u53D8\u6210\u4E3A\u4E86\u6D4B\u8BD5\u4E4B\u53CB\u3001\u4E2D\u56FD\u597D\u5F00\u53D1\u3002\u4E1A\u52A1\u4EE3\u7801\u91CC\u7684\u8BE2\u4EF7\u903B\u8F91\uFF0C\u4E5F\u56E0\u4E3A\u674E\u96F7\u575A\u5B88\u8BBE\u8BA1\u539F\u5219100\u5E74\u4E0D\u52A8\u6447\uFF0C\u800C\u53D8\u5F97\u6613\u8BFB\u3001\u6613\u7EF4\u62A4\u3002</p>`,25),h5n={id:"_6-4-\u603B\u7ED3",tabindex:"-1"},_5n=n("a",{class:"header-anchor",href:"#_6-4-\u603B\u7ED3","aria-hidden":"true"},"#",-1),g5n=s(),E5n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_6-4-%E6%80%BB%E7%BB%93",target:"_blank",rel:"noopener noreferrer"},f5n=s("#"),v5n=s("6.4 \u603B\u7ED3"),w5n=n("p",null,"\u8BF4\u8D77\u6765\u4F60\u53EF\u80FD\u4E0D\u76F8\u4FE1\uFF0C\u54B1\u4EEC\u4E0A\u9762\u7684\u6574\u4E2A\u91CD\u6784\u7684\u8FC7\u7A0B\uFF0C\u5C31\u662F\u5BF9\u7B56\u7565\u6A21\u5F0F\u7684\u5E94\u7528\u3002",-1),y5n=n("p",null,"\u73B0\u5728\u5927\u5BB6\u6765\u54C1\u54C1\u7B56\u7565\u6A21\u5F0F\u7684\u5B9A\u4E49\uFF1A",-1),x5n=n("blockquote",null,[n("p",null,"\u5B9A\u4E49\u4E00\u7CFB\u5217\u7684\u7B97\u6CD5,\u628A\u5B83\u4EEC\u4E00\u4E2A\u4E2A\u5C01\u88C5\u8D77\u6765, \u5E76\u4E14\u4F7F\u5B83\u4EEC\u53EF\u76F8\u4E92\u66FF\u6362\u3002")],-1),A5n=n("p",null,"\u56DE\u5934\u770B\u770B\uFF0C\u54B1\u4EEC\u5FD9\u6D3B\u5230\u73B0\u5728\uFF0C\u662F\u4E0D\u662F\u5C31\u5E72\u4E86\u8FD9\u4E8B\u513F\uFF1F",-1),B5n=n("p",null,"\u4F46\u4F60\u8981\u76F4\u63A5\u8BFB\u8FD9\u53E5\u8BDD\uFF0C\u53EF\u80FD\u786E\u5B9E\u4F1A\u61F5\u5708\u2014\u2014\u5565\u662F\u7B97\u6CD5\uFF1F\u5982\u4F55\u5C01\u88C5\uFF1F\u53EF\u66FF\u6362\u53C8\u662F\u548B\u505A\u5230\u7684\uFF1F",-1),q5n=n("p",null,"\u5982\u4ECA\u4F60\u4F60\u5DF2\u7ECF\u81EA\u5DF1\u52A8\u624B\u5B9E\u73B0\u4E86\u7B97\u6CD5\u63D0\u53D6\u3001\u7B97\u6CD5\u5C01\u88C5\u3001\u5206\u53D1\u4F18\u5316\u7684\u6574\u4E2A\u4E00\u6761\u9F99\u7684\u64CD\u4F5C\u6D41\uFF0C\u76F8\u4FE1\u9762\u5BF9\u8FD9\u6761\u5B9A\u4E49\uFF0C\u4F60\u53EF\u4EE5\u4F1A\u5FC3\u4E00\u7B11\u2014\u2014\u7B97\u6CD5\uFF0C\u5C31\u662F\u6211\u4EEC\u8FD9\u4E2A\u573A\u666F\u4E2D\u7684\u8BE2\u4EF7\u903B\u8F91\uFF0C\u5B83\u4E5F\u53EF\u4EE5\u662F\u4F60\u4EFB\u4F55\u4E00\u4E2A\u529F\u80FD\u51FD\u6570\u7684\u903B\u8F91\uFF1B\u201C\u5C01\u88C5\u201D\u5C31\u662F\u628A\u67D0\u4E00\u529F\u80FD\u70B9\u5BF9\u5E94\u7684\u903B\u8F91\u7ED9\u63D0\u51FA\u6765\uFF1B\u201C\u53EF\u66FF\u6362\u201D\u5EFA\u7ACB\u5728\u5C01\u88C5\u7684\u57FA\u7840\u4E0A\uFF0C\u53EA\u662F\u8BF4\u8FD9\u4E2A\u201C\u66FF\u6362\u201D\u7684\u5224\u65AD\u8FC7\u7A0B\uFF0C\u54B1\u4EEC\u4E0D\u80FD\u76F4\u63A5\u603C if-else\uFF0C\u800C\u8981\u8003\u8651\u66F4\u4F18\u7684\u6620\u5C04\u65B9\u6848\u3002",-1),j5n={id:"_7-\u884C\u4E3A\u578B-\u72B6\u6001\u6A21\u5F0F",tabindex:"-1"},S5n=n("a",{class:"header-anchor",href:"#_7-\u884C\u4E3A\u578B-\u72B6\u6001\u6A21\u5F0F","aria-hidden":"true"},"#",-1),C5n=s(),D5n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_7-%E8%A1%8C%E4%B8%BA%E5%9E%8B-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},F5n=s("#"),P5n=s("7 \u884C\u4E3A\u578B-\u72B6\u6001\u6A21\u5F0F"),T5n={id:"_7-1-\u4E00\u53F0\u5496\u5561\u673A\u7684\u8BDE\u751F",tabindex:"-1"},N5n=n("a",{class:"header-anchor",href:"#_7-1-\u4E00\u53F0\u5496\u5561\u673A\u7684\u8BDE\u751F","aria-hidden":"true"},"#",-1),M5n=s(),O5n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_7-1-%E4%B8%80%E5%8F%B0%E5%92%96%E5%95%A1%E6%9C%BA%E7%9A%84%E8%AF%9E%E7%94%9F",target:"_blank",rel:"noopener noreferrer"},I5n=s("#"),R5n=s("7.1 \u4E00\u53F0\u5496\u5561\u673A\u7684\u8BDE\u751F"),V5n=t(`<p>\u4F5C\u4E3A\u4E00\u4E2A\u5177\u5907\u5F3A\u5927\u62BD\u8C61\u601D\u7EF4\u80FD\u529B\u7684\u7A0B\u5E8F\u5458\uFF0C\u674E\u96F7\u6CA1\u6709\u8F9C\u8D1F\u81EA\u5DF1\u8FD9\u4E48\u591A\u5E74\u6765\u5B66\u8FC7\u7684\u73B0\u4EE3\u524D\u7AEF\u6846\u67B6\u3002\u4ED6\u654F\u9510\u5730\u611F\u77E5\u5230\uFF0C\u97E9\u6885\u6885\u6240\u8BF4\u7684\u8FD9\u4E9B\u4E0D\u540C\u7684\u201D\u9009\u62E9\u201C\u95F4\u7684\u5207\u6362\uFF0C\u672C\u8D28\u5C31\u662F\u72B6\u6001\u7684\u5207\u6362\u3002\u5728\u8FD9\u4E2A\u80FD\u505A\u56DB\u79CD\u5496\u5561\u7684\u5496\u5561\u673A\u4F53\u5185\uFF0C\u8574\u542B\u7740\u56DB\u79CD\u72B6\u6001\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>- \u7F8E\u5F0F\u5496\u5561\u6001\uFF08american)\uFF1A\u53EA\u5410\u9ED1\u5496\u5561
- \u666E\u901A\u62FF\u94C1\u6001(latte)\uFF1A\u9ED1\u5496\u5561\u52A0\u70B9\u5976
- \u9999\u8349\u62FF\u94C1\u6001\uFF08vanillaLatte\uFF09\uFF1A\u9ED1\u5496\u5561\u52A0\u70B9\u5976\u518D\u52A0\u9999\u8349\u7CD6\u6D46
- \u6469\u5361\u5496\u5561\u6001(mocha)\uFF1A\u9ED1\u5496\u5561\u52A0\u70B9\u5976\u518D\u52A0\u70B9\u5DE7\u514B\u529B
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u563F\u563F\uFF0C\u8FD9\u4E48\u4E00\u68B3\u7406\uFF0C\u674E\u96F7\u7684\u601D\u8DEF\u4E00\u4E0B\u5B50\u6E05\u6670\u4E86\u8D77\u6765\u3002\u4F5C\u4E3A\u6B7B\u6027\u4E0D\u6539\u7684 if-else \u4FA0\uFF0C\u4ED6\u518D\u6B21\u4E09\u4E0B\u4E94\u9664\u4E8C\u5199\u51FA\u4E86\u4E00\u5957\u529F\u80FD\u5B8C\u5907\u7684\u4EE3\u7801\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">CoffeeMaker</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     *\u8FD9\u91CC\u7565\u53BB\u5496\u5561\u673A\u4E2D\u4E0E\u5496\u5561\u72B6\u6001\u5207\u6362\u65E0\u5173\u7684\u4E00\u4E9B\u521D\u59CB\u5316\u903B\u8F91
    **/</span>
    <span class="token comment">// \u521D\u59CB\u5316\u72B6\u6001\uFF0C\u6CA1\u6709\u5207\u6362\u4EFB\u4F55\u5496\u5561\u6A21\u5F0F</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">&#39;init&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5173\u6CE8\u5496\u5561\u673A\u72B6\u6001\u5207\u6362\u51FD\u6570</span>
  <span class="token function">changeState</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8BB0\u5F55\u5F53\u524D\u72B6\u6001</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">===</span> <span class="token string">&#39;american&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8FD9\u91CC\u7528 console \u4EE3\u6307\u5496\u5561\u5236\u4F5C\u6D41\u7A0B\u7684\u4E1A\u52A1\u903B\u8F91</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u53EA\u5410\u9ED1\u5496\u5561&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">===</span> <span class="token string">&#39;latte&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u7ED9\u9ED1\u5496\u5561\u52A0\u70B9\u5976</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">===</span> <span class="token string">&#39;vanillaLatte&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u9ED1\u5496\u5561\u52A0\u70B9\u5976\u518D\u52A0\u9999\u8349\u7CD6\u6D46&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">===</span> <span class="token string">&#39;mocha&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u9ED1\u5496\u5561\u52A0\u70B9\u5976\u518D\u52A0\u70B9\u5DE7\u514B\u529B&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>\u6D4B\u8BD5\u4E00\u4E0B\uFF0C\u5B8C\u7F8E\u65E0\u7F3A\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> mk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CoffeeMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mk<span class="token punctuation">.</span><span class="token function">changeState</span><span class="token punctuation">(</span><span class="token string">&#39;latte&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u8F93\u51FA &#39;\u7ED9\u9ED1\u5496\u5561\u52A0\u70B9\u5976&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>\u9274\u4E8E if-else \u4F7F\u4E0D\u5F97\uFF0C\u674E\u96F7\u8D76\u7D27\u7FFB\u51FA\u4E86\u4ED6\u5728\u7B56\u7565\u6A21\u5F0F\u4E2D\u5B66\u5230\u7684\u201C\u5355\u4E00\u804C\u8D23\u201D\u548C\u201C\u5F00\u653E\u5C01\u95ED\u201D\u539F\u5219\uFF0C\u6BD4\u732B\u753B\u864E\u5730\u6539\u9020\u8D77\u4E86\u81EA\u5DF1\u7684\u5496\u5561\u673A\uFF1A</p></blockquote>`,7),H5n={id:"_7-2-\u6539\u9020\u5496\u5561\u673A\u7684\u72B6\u6001\u5207\u6362\u673A\u5236",tabindex:"-1"},L5n=n("a",{class:"header-anchor",href:"#_7-2-\u6539\u9020\u5496\u5561\u673A\u7684\u72B6\u6001\u5207\u6362\u673A\u5236","aria-hidden":"true"},"#",-1),U5n=s(),J5n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_7-2-%E6%94%B9%E9%80%A0%E5%92%96%E5%95%A1%E6%9C%BA%E7%9A%84%E7%8A%B6%E6%80%81%E5%88%87%E6%8D%A2%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"},W5n=s("#"),z5n=s("7.2 \u6539\u9020\u5496\u5561\u673A\u7684\u72B6\u6001\u5207\u6362\u673A\u5236"),G5n=t(`<p><strong>1. \u804C\u8D23\u5206\u79BB</strong></p><p>\u9996\u5148\uFF0C\u6620\u5165\u674E\u96F7\u773C\u5E18\u6700\u5927\u7684\u95EE\u9898\uFF0C\u5C31\u662F\u5496\u5561\u5236\u4F5C\u8FC7\u7A0B\u4E0D\u53EF\u590D\u7528\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">changeState</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8BB0\u5F55\u5F53\u524D\u72B6\u6001</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">===</span> <span class="token string">&#39;american&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8FD9\u91CC\u7528 console \u4EE3\u6307\u5496\u5561\u5236\u4F5C\u6D41\u7A0B\u7684\u4E1A\u52A1\u903B\u8F91</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u53EA\u5410\u9ED1\u5496\u5561&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">===</span> <span class="token string">&#39;latte&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u7ED9\u9ED1\u5496\u5561\u52A0\u70B9\u5976</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">===</span> <span class="token string">&#39;vanillaLatte&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u9ED1\u5496\u5561\u52A0\u70B9\u5976\u518D\u52A0\u9999\u8349\u7CD6\u6D46&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">===</span> <span class="token string">&#39;mocha&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u9ED1\u5496\u5561\u52A0\u70B9\u5976\u518D\u52A0\u70B9\u5DE7\u514B\u529B&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>\u674E\u96F7\u53D1\u73B0\uFF0C\u8FD9\u4E2A changeState \u51FD\u6570\uFF0C\u5B83\u597D\u597D\u7BA1\u597D\u81EA\u5DF1\u7684\u4E8B\uFF08\u72B6\u6001\u5207\u6362\uFF09\u4E0D\u884C\u5417\uFF1F\u600E\u4E48\u8FDE\u505A\u5496\u5561\u7684\u8FC7\u7A0B\u4E5F\u5199\u5728\u8FD9\u91CC\u9762\uFF1F\u8FD9\u4E0D\u5408\u7406\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">CoffeeMaker</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
    \u8FD9\u91CC\u7565\u53BB\u5496\u5561\u673A\u4E2D\u4E0E\u5496\u5561\u72B6\u6001\u5207\u6362\u65E0\u5173\u7684\u4E00\u4E9B\u521D\u59CB\u5316\u903B\u8F91
  **/</span>
    <span class="token comment">// \u521D\u59CB\u5316\u72B6\u6001\uFF0C\u6CA1\u6709\u5207\u6362\u4EFB\u4F55\u5496\u5561\u6A21\u5F0F</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">&#39;init&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">changeState</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8BB0\u5F55\u5F53\u524D\u72B6\u6001</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">===</span> <span class="token string">&#39;american&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8FD9\u91CC\u7528 console \u4EE3\u6307\u5496\u5561\u5236\u4F5C\u6D41\u7A0B\u7684\u4E1A\u52A1\u903B\u8F91</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">americanProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">===</span> <span class="token string">&#39;latte&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">latteProcress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">===</span> <span class="token string">&#39;vanillaLatte&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">vanillaLatteProcress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>state <span class="token operator">===</span> <span class="token string">&#39;mocha&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mochaProcress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">americanProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u53EA\u5410\u9ED1\u5496\u5561&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
  <span class="token punctuation">}</span>
  
  <span class="token function">latteProcress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">americanProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u52A0\u70B9\u5976&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>
  
  <span class="token function">vanillaLatteProcress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">latteProcress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u518D\u52A0\u9999\u8349\u7CD6\u6D46&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">mochaProcress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">latteProcress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u518D\u52A0\u5DE7\u514B\u529B&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> mk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CoffeeMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mk<span class="token punctuation">.</span><span class="token function">changeState</span><span class="token punctuation">(</span><span class="token string">&#39;latte&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><p>\u8F93\u51FA\u7ED3\u679C\u7B26\u5408\u9884\u671F\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u6211\u53EA\u5410\u9ED1\u5496\u5561
\u52A0\u70B9\u5976
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,7),$5n={id:"_7-3-\u5F00\u653E\u5C01\u95ED",tabindex:"-1"},X5n=n("a",{class:"header-anchor",href:"#_7-3-\u5F00\u653E\u5C01\u95ED","aria-hidden":"true"},"#",-1),K5n=s(),Q5n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_7-3-%E5%BC%80%E6%94%BE%E5%B0%81%E9%97%AD",target:"_blank",rel:"noopener noreferrer"},Y5n=s("#"),Z5n=s("7.3 \u5F00\u653E\u5C01\u95ED"),n6n=t(`<p>\u590D\u7528\u7684\u95EE\u9898\u89E3\u51B3\u4E86\uFF0Cif-else \u5374\u4ECD\u7136\u6D3B\u5F97\u597D\u597D\u7684\u3002</p><p>\u73B0\u5728\u54B1\u4EEC\u5047\u5982\u8981\u589E\u52A0\u201D\u6C14\u6CE1\u7F8E\u5F0F\u201C\u8FD9\u4E2A\u5496\u5561\u54C1\u79CD\uFF0C\u5C31\u4E0D\u5F97\u4E0D\u53BB\u4FEE\u6539 changeState \u7684\u51FD\u6570\u903B\u8F91\uFF0C\u8FD9\u8FDD\u53CD\u4E86\u5F00\u653E\u5C01\u95ED\u7684\u539F\u5219\u3002</p><p>\u540C\u65F6\uFF0C\u4E00\u4E2A\u51FD\u6570\u91CC\u6536\u655B\u8FD9\u4E48\u591A\u5224\u65AD\uFF0C\u4E5F\u7740\u5B9E\u4E0D\u591F\u4F53\u9762\u3002\u54B1\u4EEC\u73B0\u5728\u8981\u50CF\u7B56\u7565\u6A21\u5F0F\u4E00\u6837\uFF0C\u60F3\u529E\u6CD5\u628A\u5496\u5561\u673A\u72B6\u6001\u548C\u5496\u5561\u5236\u4F5C\u5DE5\u5E8F\u4E4B\u95F4\u7684\u6620\u5C04\u5173\u7CFB\uFF08\u4E5F\u5C31\u662F\u54B1\u4EEC\u4E0A\u8282\u8C08\u5230\u7684\u5206\u53D1\u8FC7\u7A0B\uFF09\u7528\u4E00\u4E2A\u66F4\u4F18\u96C5\u5730\u65B9\u5F0F\u505A\u6389\u3002\u5982\u679C\u4F60\u7B56\u7565\u6A21\u5F0F\u638C\u63E1\u5F97\u8DB3\u591F\u597D\uFF0C\u4F60\u4F1A\u7B2C\u4E00\u65F6\u95F4\u53CD\u6620\u51FA\u5BF9\u8C61\u6620\u5C04\u7684\u65B9\u6848\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> stateToProcessor <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">american</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u53EA\u5410\u9ED1\u5496\u5561&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">latte</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">american</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u52A0\u70B9\u5976&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">vanillaLatte</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">latte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u518D\u52A0\u9999\u8349\u7CD6\u6D46&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mocha</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">latte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u518D\u52A0\u5DE7\u514B\u529B&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">CoffeeMaker</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
    \u8FD9\u91CC\u7565\u53BB\u5496\u5561\u673A\u4E2D\u4E0E\u5496\u5561\u72B6\u6001\u5207\u6362\u65E0\u5173\u7684\u4E00\u4E9B\u521D\u59CB\u5316\u903B\u8F91
  **/</span>
    <span class="token comment">// \u521D\u59CB\u5316\u72B6\u6001\uFF0C\u6CA1\u6709\u5207\u6362\u4EFB\u4F55\u5496\u5561\u6A21\u5F0F</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">&#39;init&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// \u5173\u6CE8\u5496\u5561\u673A\u72B6\u6001\u5207\u6362\u51FD\u6570</span>
  <span class="token function">changeState</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8BB0\u5F55\u5F53\u524D\u72B6\u6001</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state<span class="token punctuation">;</span>
    <span class="token comment">// \u82E5\u72B6\u6001\u4E0D\u5B58\u5728\uFF0C\u5219\u8FD4\u56DE</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>stateToProcessor<span class="token punctuation">[</span>state<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    stateToProcessor<span class="token punctuation">[</span>state<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> mk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CoffeeMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mk<span class="token punctuation">.</span><span class="token function">changeState</span><span class="token punctuation">(</span><span class="token string">&#39;latte&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>\u8F93\u51FA\u7ED3\u679C\u7B26\u5408\u9884\u671F\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u6211\u53EA\u5410\u9ED1\u5496\u5561
\u52A0\u70B9\u5976
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5F53\u6211\u4EEC\u8FD9\u4E48\u505A\u65F6\uFF0C\u5176\u5B9E\u5DF2\u7ECF\u5B9E\u73B0\u4E86\u4E00\u4E2A js \u7248\u672C\u7684\u72B6\u6001\u6A21\u5F0F\u3002</p><p>\u4F46\u8FD9\u91CC\u6709\u4E00\u70B9\u5927\u5BB6\u9700\u8981\u5F15\u8D77\u6CE8\u610F\uFF1A\u8FD9\u79CD\u65B9\u6CD5\u4EC5\u4EC5\u662F\u770B\u4E0A\u53BB\u5B8C\u7F8E\u65E0\u7F3A\uFF0C\u5176\u4E2D\u5374\u6697\u542B\u4E00\u4E2A\u975E\u5E38\u91CD\u8981\u7684\u9690\u60A3\u2014\u2014stateToProcessor \u91CC\u7684\u5DE5\u5E8F\u51FD\u6570\uFF0C\u611F\u77E5\u4E0D\u5230\u5496\u5561\u673A\u7684\u5185\u90E8\u72B6\u51B5\u3002</p>`,8),s6n={id:"_7-4-\u8FDB\u4E00\u6B65\u6539\u9020",tabindex:"-1"},a6n=n("a",{class:"header-anchor",href:"#_7-4-\u8FDB\u4E00\u6B65\u6539\u9020","aria-hidden":"true"},"#",-1),e6n=s(),t6n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_7-4-%E8%BF%9B%E4%B8%80%E6%AD%A5%E6%94%B9%E9%80%A0",target:"_blank",rel:"noopener noreferrer"},p6n=s("#"),o6n=s("7.4 \u8FDB\u4E00\u6B65\u6539\u9020"),c6n=t(`<p>\u6309\u7167\u6211\u4EEC\u8FD9\u4E00\u901A\u63CF\u8FF0\uFF0C\u5F53\u52A1\u4E4B\u6025\u662F\u8981\u628A\u5496\u5561\u673A\u548C\u5B83\u7684\u72B6\u6001\u5904\u7406\u51FD\u6570\u5EFA\u7ACB\u5173\u8054\u3002</p><p>\u5982\u679C\u4F60\u8BFB\u8FC7\u4E00\u4E9B\u65E9\u671F\u7684\u8BBE\u8BA1\u6A21\u5F0F\u6559\u5B66\u8D44\u6599\uFF0C\u6709\u4E00\u79CD\u601D\u8DEF\u662F\u5C06\u6BCF\u4E00\u4E2A\u72B6\u6001\u6240\u5BF9\u5E94\u7684\u7684\u4E00\u4E9B\u884C\u4E3A\u62BD\u8C61\u6210\u7C7B\uFF0C\u7136\u540E\u901A\u8FC7\u4F20\u9012 this \u7684\u65B9\u5F0F\u6765\u5173\u8054\u72B6\u6001\u548C\u72B6\u6001\u4E3B\u4F53\u3002</p><p>\u8FD9\u79CD\u601D\u8DEF\u4E5F\u53EF\u4EE5\uFF0C\u4E0D\u8FC7\u5B83\u4E00\u822C\u8FD8\u9700\u8981\u4F60\u5B9E\u73B0\u62BD\u8C61\u5DE5\u5382\uFF0C\u6BD4\u8F83\u9EBB\u70E6\u3002\u5B9E\u9645\u4E1A\u52A1\u4E2D\u8FD9\u79CD\u505A\u6CD5\u6781\u4E3A\u5C11\u89C1\u3002\u6211\u8FD9\u91CC\u8981\u7ED9\u5927\u5BB6\u4ECB\u7ECD\u7684\u662F\u4E00\u79CD\u66F4\u65B9\u4FBF\u4E5F\u66F4\u5E38\u7528\u7684\u89E3\u51B3\u65B9\u6848\u2014\u2014\u975E\u5E38\u7B80\u5355\uFF0C\u628A\u72B6\u6001-\u884C\u4E3A\u6620\u5C04\u5BF9\u8C61\u4F5C\u4E3A\u4E3B\u4F53\u7C7B\u5BF9\u5E94\u5B9E\u4F8B\u7684\u4E00\u4E2A\u5C5E\u6027\u6DFB\u52A0\u8FDB\u53BB\u5C31\u884C\u4E86\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">CoffeeMaker</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     *\u8FD9\u91CC\u7565\u53BB\u5496\u5561\u673A\u4E2D\u4E0E\u5496\u5561\u72B6\u6001\u5207\u6362\u65E0\u5173\u7684\u4E00\u4E9B\u521D\u59CB\u5316\u903B\u8F91
    **/</span>
    <span class="token comment">// \u521D\u59CB\u5316\u72B6\u6001\uFF0C\u6CA1\u6709\u5207\u6362\u4EFB\u4F55\u5496\u5561\u6A21\u5F0F</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token string">&#39;init&#39;</span><span class="token punctuation">;</span>
    <span class="token comment">// \u521D\u59CB\u5316\u725B\u5976\u7684\u5B58\u50A8\u91CF</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>leftMilk <span class="token operator">=</span> <span class="token string">&#39;500ml&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  stateToProcessor <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">that</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
    <span class="token function">american</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5C1D\u8BD5\u5728\u884C\u4E3A\u51FD\u6570\u91CC\u62FF\u5230\u5496\u5561\u673A\u5B9E\u4F8B\u7684\u4FE1\u606F\u5E76\u8F93\u51FA</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u5496\u5561\u673A\u73B0\u5728\u7684\u725B\u5976\u5B58\u50A8\u91CF\u662F:&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>that<span class="token punctuation">.</span>leftMilk<span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6211\u53EA\u5410\u9ED1\u5496\u5561&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">latte</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">american</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u52A0\u70B9\u5976&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">vanillaLatte</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">latte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u518D\u52A0\u9999\u8349\u7CD6\u6D46&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">mocha</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">latte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u518D\u52A0\u5DE7\u514B\u529B&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u5173\u6CE8\u5496\u5561\u673A\u72B6\u6001\u5207\u6362\u51FD\u6570</span>
  <span class="token function">changeState</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>stateToProcessor<span class="token punctuation">[</span>state<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stateToProcessor<span class="token punctuation">[</span>state<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> mk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CoffeeMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mk<span class="token punctuation">.</span><span class="token function">changeState</span><span class="token punctuation">(</span><span class="token string">&#39;latte&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u5496\u5561\u673A\u73B0\u5728\u7684\u725B\u5976\u5B58\u50A8\u91CF\u662F: 500ml
\u6211\u53EA\u5410\u9ED1\u5496\u5561
\u52A0\u70B9\u5976
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u5982\u6B64\u4E00\u6765\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u5728 stateToProcessor \u8F7B\u677E\u62FF\u5230\u5496\u5561\u673A\u7684\u5B9E\u4F8B\u5BF9\u8C61\uFF0C\u8FDB\u800C\u611F\u77E5\u5496\u5561\u673A\u8FD9\u4E2A\u4E3B\u4F53\u4E86\u3002</p>`,7),l6n={id:"_7-5-\u72B6\u6001\u6A21\u5F0F\u590D\u76D8",tabindex:"-1"},r6n=n("a",{class:"header-anchor",href:"#_7-5-\u72B6\u6001\u6A21\u5F0F\u590D\u76D8","aria-hidden":"true"},"#",-1),i6n=s(),u6n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_7-5-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%E5%A4%8D%E7%9B%98",target:"_blank",rel:"noopener noreferrer"},k6n=s("#"),d6n=s("7.5 \u72B6\u6001\u6A21\u5F0F\u590D\u76D8"),b6n=n("p",null,"\u548C\u7B56\u7565\u6A21\u5F0F\u4E00\u6837\uFF0C\u54B1\u4EEC\u4ECD\u7136\u662F\u6572\u5B8C\u4EE3\u7801\u4E4B\u540E\uFF0C\u4E00\u8D77\u6765\u590D\u76D8\u4E00\u4E0B\u72B6\u6001\u6A21\u5F0F\u7684\u5B9A\u4E49\uFF1A",-1),m6n=n("blockquote",null,[n("p",null,"\u72B6\u6001\u6A21\u5F0F(State Pattern) \uFF1A\u5141\u8BB8\u4E00\u4E2A\u5BF9\u8C61\u5728\u5176\u5185\u90E8\u72B6\u6001\u6539\u53D8\u65F6\u6539\u53D8\u5B83\u7684\u884C\u4E3A\uFF0C\u5BF9\u8C61\u770B\u8D77\u6765\u4F3C\u4E4E\u4FEE\u6539\u4E86\u5B83\u7684\u7C7B\u3002")],-1),h6n=n("p",null,"\u8FD9\u4E2A\u5B9A\u4E49\u6BD4\u8F83\u7C97\u7CD9\uFF0C\u53EF\u80FD\u4F60\u8BFB\u5B8C\u4ECD\u7136 get \u4E0D\u5230\u5B83\u60F3\u8BA9\u4F60\u5E72\u5565\u3002\u8FD9\u65F6\u5019\uFF0C\u6211\u4EEC\u5C31\u5E94\u8BE5\u628A\u76EE\u5149\u8F6C\u79FB\u5230\u5B83\u89E3\u51B3\u7684\u95EE\u9898\u4E0A\u6765\uFF1A",-1),_6n=n("blockquote",null,[n("p",null,[s("\u72B6\u6001\u6A21\u5F0F"),n("strong",null,"\u4E3B\u8981\u89E3\u51B3\u7684\u662F\u5F53\u63A7\u5236\u4E00\u4E2A\u5BF9\u8C61\u72B6\u6001\u7684\u6761\u4EF6\u8868\u8FBE\u5F0F\u8FC7\u4E8E\u590D\u6742\u65F6\u7684\u60C5\u51B5\u3002\u628A\u72B6\u6001\u7684\u5224\u65AD\u903B\u8F91\u8F6C\u79FB\u5230\u8868\u793A\u4E0D\u540C\u72B6\u6001\u7684\u4E00\u7CFB\u5217\u7C7B\u4E2D"),s("\uFF0C\u53EF\u4EE5\u628A\u590D\u6742\u7684\u5224\u65AD\u903B\u8F91\u7B80\u5316\u3002")])],-1),g6n=n("p",null,"\u4ED4\u7EC6\u56DE\u5FC6\u4E00\u4E0B\u6211\u4EEC\u8FD9\u8282\u505A\u7684\u4E8B\u60C5\uFF0C\u4E5F\u786E\u5B9E\u5C31\u662F\u8FD9\u4E48\u56DE\u4E8B\u513F\u3002",-1),E6n=n("blockquote",null,[n("p",null,"\u552F\u4E00\u7684\u533A\u522B\u5728\u4E8E\uFF0C\u5B9A\u4E49\u91CC\u5F3A\u8C03\u4E86\u201D\u7C7B\u201C\u7684\u6982\u5FF5\u3002\u4F46\u6211\u4EEC\u7684\u793A\u4F8B\u4E2D\uFF0C\u5305\u62EC\u5927\u5BB6\u4ECA\u540E\u7684\u5B9E\u8DF5\u4E2D\uFF0C\u4E00\u4E2A\u5BF9\u8C61\u7684\u72B6\u6001\u5982\u679C\u590D\u6742\u5230\u4E86\u4F60\u4E0D\u5F97\u4E0D\u7ED9\u5B83\u7684\u6BCF N \u79CD\u72B6\u6001\u5212\u5206\u4E3A\u4E00\u7C7B\u3001\u4E00\u53E3\u6C14\u5212\u5206\u5F88\u591A\u7C7B\u8FD9\u79CD\u7A0B\u5EA6\uFF0C\u6211\u66F4\u503E\u5411\u4E8E\u4F60\u53BB\u53CD\u601D\u4E00\u4E2A\u8FD9\u4E2A\u5BF9\u8C61\u662F\u4E0D\u662F\u505A\u592A\u591A\u4E8B\u60C5\u4E86\u3002\u4E8B\u5B9E\u4E0A\uFF0C\u5728\u5927\u591A\u6570\u573A\u666F\u4E0B\uFF0C\u6211\u4EEC\u7684\u884C\u4E3A\u5212\u5206\uFF0C\u90FD\u662F\u53EF\u4EE5\u50CF\u672C\u8282\u4E00\u6837\uFF0C\u63A7\u5236\u5728\u201D\u51FD\u6570\u201C\u8FD9\u4E2A\u7C92\u5EA6\u7684\u3002")],-1),f6n={id:"_8-\u884C\u4E3A\u578B-\u89C2\u5BDF\u8005\u6A21\u5F0F",tabindex:"-1"},v6n=n("a",{class:"header-anchor",href:"#_8-\u884C\u4E3A\u578B-\u89C2\u5BDF\u8005\u6A21\u5F0F","aria-hidden":"true"},"#",-1),w6n=s(),y6n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_8-%E8%A1%8C%E4%B8%BA%E5%9E%8B-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},x6n=s("#"),A6n=s("8 \u884C\u4E3A\u578B-\u89C2\u5BDF\u8005\u6A21\u5F0F"),B6n=n("blockquote",null,[n("p",null,"\u89C2\u5BDF\u8005\u6A21\u5F0F\u5B9A\u4E49\u4E86\u4E00\u79CD\u4E00\u5BF9\u591A\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u8BA9\u591A\u4E2A\u89C2\u5BDF\u8005\u5BF9\u8C61\u540C\u65F6\u76D1\u542C\u67D0\u4E00\u4E2A\u76EE\u6807\u5BF9\u8C61\uFF0C\u5F53\u8FD9\u4E2A\u76EE\u6807\u5BF9\u8C61\u7684\u72B6\u6001\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u4F1A\u901A\u77E5\u6240\u6709\u89C2\u5BDF\u8005\u5BF9\u8C61\uFF0C\u4F7F\u5B83\u4EEC\u80FD\u591F\u81EA\u52A8\u66F4\u65B0\u3002 \u2014\u2014 Graphic Design Patterns")],-1),q6n=n("p",null,[s("\u89C2\u5BDF\u8005\u6A21\u5F0F\uFF0C\u662F\u6240\u6709 JavaScript \u8BBE\u8BA1\u6A21\u5F0F\u4E2D"),n("strong",null,"\u4F7F\u7528\u9891\u7387"),s("\u6700\u9AD8\uFF0C"),n("strong",null,"\u9762\u8BD5\u9891\u7387\u4E5F\u6700\u9AD8"),s("\u7684\u8BBE\u8BA1\u6A21\u5F0F\uFF0C\u6240\u4EE5\u8BF4\u5B83"),n("strong",null,"\u5341\u5206\u91CD\u8981"),s("\u2014\u2014\u5982\u679C\u6211\u662F\u9762\u8BD5\u5B98\uFF0C\u8003\u8651\u5230\u9762\u8BD5\u65F6\u95F4\u6709\u9650\u3001\u8BBE\u8BA1\u6A21\u5F0F\u8FD9\u5757\u4E0D\u80FD\u591A\u95EE\uFF0C\u6211\u53EF\u80FD\u5728\u8003\u67E5\u4F60\u8BBE\u8BA1\u6A21\u5F0F\u7684\u65F6\u5019\u53EA\u4F1A\u95EE\u89C2\u5BDF\u8005\u6A21\u5F0F\u8FD9\u4E00\u4E2A\u6A21\u5F0F\u3002\u8BE5\u6A21\u5F0F\u7684\u6743\u91CD\u6781\u9AD8")],-1),j6n=n("p",null,"\u91CD\u70B9\u4E0D\u4E00\u5B9A\u662F\u96BE\u70B9\u3002\u89C2\u5BDF\u8005\u6A21\u5F0F\u5341\u5206\u91CD\u8981\uFF0C\u4F46\u5B83\u5E76\u4E0D\u62BD\u8C61\uFF0C\u7406\u89E3\u96BE\u5EA6\u4E0D\u5927\u3002\u8FD9\u79CD\u6A21\u5F0F\u4E0D\u4EC5\u5728\u4E1A\u52A1\u5F00\u53D1\u4E2D\u904D\u5730\u5F00\u82B1\uFF0C\u5728\u65E5\u5E38\u751F\u6D3B\u4E2D\u4E5F\u662F\u975E\u5E38\u5E38\u89C1\u7684\u3002\u4E3A\u4E86\u5E2E\u52A9\u5927\u5BB6\u5F62\u6210\u521D\u6B65\u7684\u7406\u89E3\uFF0C\u5728\u8FDB\u5165\u4EE3\u7801\u4E16\u754C\u4E4B\u524D\uFF0C\u6211\u4EEC\u7167\u4F8B\u6765\u770B\u4E00\u6BB5\u65E5\u5E38\uFF1A",-1),S6n={id:"_8-1-\u751F\u6D3B\u4E2D\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F",tabindex:"-1"},C6n=n("a",{class:"header-anchor",href:"#_8-1-\u751F\u6D3B\u4E2D\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F","aria-hidden":"true"},"#",-1),D6n=s(),F6n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_8-1-%E7%94%9F%E6%B4%BB%E4%B8%AD%E7%9A%84%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},P6n=s("#"),T6n=s("8.1 \u751F\u6D3B\u4E2D\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F"),N6n=t("<p>\u5468\u4E00\u521A\u4E0A\u73ED\uFF0C\u524D\u7AEF\u5F00\u53D1\u674E\u96F7\u5C31\u88AB\u4EA7\u54C1\u7ECF\u7406\u97E9\u6885\u6885\u62C9\u8FDB\u4E86\u4E00\u4E2A\u9489\u9489\u7FA4\u2014\u2014\u201C\u5458\u5DE5\u7BA1\u7406\u7CFB\u7EDF\u9700\u6C42\u7B2C99\u6B21\u53D8\u66F4\u7FA4\u201D\u3002\u8FD9\u4E2A\u7FA4\u91CC\u4E0D\u4EC5\u6709\u674E\u96F7\uFF0C\u8FD8\u6709\u540E\u7AEF\u5F00\u53D1 A\uFF0C\u6D4B\u8BD5\u540C\u5B66 B\u3002\u4E09\u4F4D\u6280\u672F\u540C\u5B66\u770B\u5230\u8FD9\u7B80\u5355\u76F4\u767D\u7684\u7FA4\u540D\u4FBF\u7ACB\u523B\u505A\u597D\u4E86\u63A5\u53D7\u53D8\u66F4\u7684\u51C6\u5907\u3001\u6253\u7B97\u64B8\u8D77\u8896\u5B50\u5F00\u59CB\u5E72\u4E86\u3002\u6B64\u65F6\u97E9\u6885\u6885\u5374\u8BF4\uFF1A\u201C\u522B\u6025\uFF0C\u8FD9\u4E2A\u9700\u6C42\u6709\u95EE\u9898\uFF0C\u6211\u9700\u8981\u548C\u4E1A\u52A1\u65B9\u518D\u786E\u8BA4\u4E00\u4E0B\uFF0C\u5927\u5BB6\u5148\u5404\u5FD9\u5404\u7684\u5427\u201D\u3002\u8FD9\u79CD\u60C5\u51B5\u4E0B\u4E09\u4F4D\u6280\u672F\u540C\u5B66\u4E0D\u5FC5\u7ACB\u523B\u6295\u5165\u5DE5\u4F5C\uFF0C\u4F46\u4ED6\u4EEC\u90FD\u5DF2\u7ECF\u505A\u597D\u4E86<strong>\u672C\u5468\u9700\u8981\u505A\u4E00\u4E2A\u65B0\u9700\u6C42</strong>\u7684\u51C6\u5907\uFF0C\u65F6\u523B\u7B49\u5F85\u7740\u4EA7\u54C1\u7ECF\u7406\u7684\u53F7\u53EC\u3002</p><p>\u4E00\u5929\u8FC7\u53BB\u4E86\uFF0C\u4E24\u5929\u8FC7\u53BB\u4E86\u3002\u5468\u4E09\u4E0B\u5348\uFF0C\u97E9\u6885\u6885\u7EC8\u4E8E\u548C\u4E1A\u52A1\u65B9\u786E\u8BA4\u4E86\u6240\u6709\u7684\u9700\u6C42\u7EC6\u8282\uFF0C\u4E8E\u662F\u5728\u201C\u5458\u5DE5\u7BA1\u7406\u7CFB\u7EDF\u9700\u6C42\u7B2C99\u6B21\u53D8\u66F4\u7FA4\u201D\u91CC\u5927\u543C\u4E00\u58F0\uFF1A\u201C\u9700\u6C42\u6587\u6863\u6765\u4E86\uFF01\u201D\uFF0C\u968F\u540E\u7529\u51FA\u4E86&quot;\u9700\u6C42\u6587\u6863.zip&quot;\u6587\u4EF6\uFF0C\u540C\u65F6@\u6240\u6709\u4EBA\u3002\u4E09\u4F4D\u6280\u672F\u540C\u5B66\u542C\u5230\u719F\u6089\u7684\u201C\u6709\u4EBA@\u6211\u201D\u63D0\u793A\u97F3\uFF0C\u7ACB\u523B\u70B9\u5F00\u7FA4\u8FDB\u884C\u7FA4\u6D88\u606F\u548C\u7FA4\u6587\u4EF6\u67E5\u6536\uFF0C\u968F\u540E\u6839\u636E\u7FA4\u6D88\u606F\u548C\u7FA4\u6587\u4EF6\u63D0\u4F9B\u7684\u9700\u6C42\u4FE1\u606F\uFF0C\u6295\u5165\u5230\u4E86\u5404\u81EA\u7684\u5F00\u53D1\u91CC\u3002\u4E0A\u8FF0\u8FD9\u4E2A\u8FC7\u7A0B\uFF0C\u5C31\u662F\u4E00\u4E2A\u5178\u578B\u7684<strong>\u89C2\u5BDF\u8005\u6A21\u5F0F</strong>\u3002</p><p><strong>\u91CD\u70B9\u89D2\u8272\u5BF9\u53F7\u5165\u5EA7</strong></p><p>\u89C2\u5BDF\u8005\u6A21\u5F0F\u6709\u4E00\u4E2A\u201C\u522B\u540D\u201D\uFF0C\u53EB<code>\u53D1\u5E03 - \u8BA2\u9605\u6A21\u5F0F</code>\uFF08\u4E4B\u6240\u4EE5\u522B\u540D\u52A0\u4E86\u5F15\u53F7\uFF0C\u662F\u56E0\u4E3A\u4E24\u8005\u4E4B\u95F4\u5B58\u5728\u7740\u7EC6\u5FAE\u7684\u5DEE\u5F02\uFF0C\u4E0B\u4E2A\u5C0F\u8282\u91CC\u6211\u4EEC\u4F1A\u8BB2\u5230\u8FD9\u70B9\uFF09\u3002\u8FD9\u4E2A\u522B\u540D\u975E\u5E38\u5F62\u8C61\u5730\u8BE0\u91CA\u4E86\u89C2\u5BDF\u8005\u6A21\u5F0F\u91CC\u4E24\u4E2A\u6838\u5FC3\u7684\u89D2\u8272\u8981\u7D20\u2014\u2014<strong>\u201C\u53D1\u5E03\u8005\u201D*<em>\u4E0E*</em>\u201C\u8BA2\u9605\u8005\u201D</strong>\u3002</p><p>\u5728\u4E0A\u8FF0\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u9700\u6C42\u6587\u6863\uFF08\u76EE\u6807\u5BF9\u8C61\uFF09\u7684\u53D1\u5E03\u8005\u53EA\u6709\u4E00\u4E2A\u2014\u2014\u4EA7\u54C1\u7ECF\u7406\u97E9\u6885\u6885\u3002\u800C\u9700\u6C42\u4FE1\u606F\u7684\u63A5\u53D7\u8005\u5374\u6709\u591A\u4E2A\u2014\u2014\u524D\u7AEF\u3001\u540E\u7AEF\u3001\u6D4B\u8BD5\u540C\u5B66\uFF0C\u8FD9\u4E9B\u540C\u5B66\u7684\u5171\u6027\u5C31\u662F\u4ED6\u4EEC\u9700\u8981\u6839\u636E\u9700\u6C42\u4FE1\u606F\u5F00\u5C55\u81EA\u5DF1\u540E\u7EED\u7684\u5DE5\u4F5C\u3001\u56E0\u6B64\u90FD\u975E\u5E38\u5173\u5FC3\u8FD9\u4E2A\u9700\u6C42\u4FE1\u606F\uFF0C\u4E8E\u662F\u4E0D\u5F97\u4E0D\u65F6\u523B\u5173\u6CE8\u7740\u8FD9\u4E2A\u7FA4\u7684\u7FA4\u6D88\u606F\u63D0\u9192\uFF0C\u4ED6\u4EEC\u662F\u5B9E\u6253\u5B9E\u7684<strong>\u8BA2\u9605\u8005</strong>\uFF0C\u5373\u89C2\u5BDF\u8005\u5BF9\u8C61\u3002</p><p>\u73B0\u5728\u6211\u4EEC\u518D\u56DE\u8FC7\u5934\u6765\u770B\u4E00\u904D\u5F00\u5934\u6211\u4EEC\u63D0\u5230\u7684\u7565\u663E\u62BD\u8C61\u7684\u5B9A\u4E49\uFF1A</p><blockquote><p>\u89C2\u5BDF\u8005\u6A21\u5F0F\u5B9A\u4E49\u4E86\u4E00\u79CD\u4E00\u5BF9\u591A\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u8BA9\u591A\u4E2A\u89C2\u5BDF\u8005\u5BF9\u8C61\u540C\u65F6\u76D1\u542C\u67D0\u4E00\u4E2A\u76EE\u6807\u5BF9\u8C61\uFF0C\u5F53\u8FD9\u4E2A\u76EE\u6807\u5BF9\u8C61\u7684\u72B6\u6001\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u4F1A\u901A\u77E5\u6240\u6709\u89C2\u5BDF\u8005\u5BF9\u8C61\uFF0C\u4F7F\u5B83\u4EEC\u80FD\u591F\u81EA\u52A8\u66F4\u65B0\u3002</p></blockquote><p>\u5728\u6211\u4EEC\u4E0A\u6587\u8FD9\u4E2A\u9489\u9489\u7FA4\u91CC\uFF0C\u4E00\u4E2A\u9700\u6C42\u4FE1\u606F\u5BF9\u8C61\u5BF9\u5E94\u4E86\u591A\u4E2A\u89C2\u5BDF\u8005\uFF08\u6280\u672F\u540C\u5B66\uFF09\uFF0C\u5F53\u9700\u6C42\u4FE1\u606F\u5BF9\u8C61\u7684\u72B6\u6001\u53D1\u751F<strong>\u53D8\u5316</strong>\uFF08\u4ECE\u65E0\u5230\u6709\uFF09\u65F6\uFF0C\u4EA7\u54C1\u7ECF\u7406\u901A\u77E5\u4E86\u7FA4\u91CC\u7684\u6240\u6709\u540C\u5B66\uFF0C\u4EE5\u4FBF\u8FD9\u4E9B\u540C\u5B66\u63A5\u6536\u4FE1\u606F\u8FDB\u800C\u5F00\u5C55\u5DE5\u4F5C\uFF1A\u89D2\u8272\u5212\u5206 --&gt; \u72B6\u6001\u53D8\u5316 --&gt; \u53D1\u5E03\u8005\u901A\u77E5\u5230\u8BA2\u9605\u8005\uFF0C\u8FD9\u5C31\u662F\u89C2\u5BDF\u8005\u6A21\u5F0F\u7684\u201C\u5957\u8DEF\u201D\u3002</p>",8),M6n={id:"_8-2-\u5728\u5B9E\u8DF5\u4E2D\u7406\u89E3\u5B9A\u4E49",tabindex:"-1"},O6n=n("a",{class:"header-anchor",href:"#_8-2-\u5728\u5B9E\u8DF5\u4E2D\u7406\u89E3\u5B9A\u4E49","aria-hidden":"true"},"#",-1),I6n=s(),R6n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_8-2-%E5%9C%A8%E5%AE%9E%E8%B7%B5%E4%B8%AD%E7%90%86%E8%A7%A3%E5%AE%9A%E4%B9%89",target:"_blank",rel:"noopener noreferrer"},V6n=s("#"),H6n=s("8.2 \u5728\u5B9E\u8DF5\u4E2D\u7406\u89E3\u5B9A\u4E49"),L6n=t(`<blockquote><p>\u7ED3\u5408\u6211\u4EEC\u4E0A\u9762\u7684\u5206\u6790\uFF0C\u73B0\u5728\u5927\u5BB6\u77E5\u9053\uFF0C\u5728\u89C2\u5BDF\u8005\u6A21\u5F0F\u91CC\uFF0C\u81F3\u5C11\u5E94\u8BE5\u6709\u4E24\u4E2A\u5173\u952E\u89D2\u8272\u662F\u4E00\u5B9A\u8981\u51FA\u73B0\u7684\u2014\u2014<strong>\u53D1\u5E03\u8005\u548C\u8BA2\u9605\u8005</strong>\u3002\u7528\u9762\u5411\u5BF9\u8C61\u7684\u65B9\u5F0F\u8868\u8FBE\u7684\u8BDD\uFF0C\u90A3\u5C31\u662F\u8981\u6709<strong>\u4E24\u4E2A\u7C7B</strong>\u3002</p></blockquote><p>\u9996\u5148\u6211\u4EEC\u6765\u770B\u8FD9\u4E2A\u4EE3\u8868\u53D1\u5E03\u8005\u7684\u7C7B\uFF0C\u6211\u4EEC\u7ED9\u5B83\u8D77\u540D\u53EB<code>Publisher</code>\u3002\u8FD9\u4E2A\u7C7B\u5E94\u8BE5\u5177\u5907\u54EA\u4E9B\u201C\u57FA\u672C\u6280\u80FD\u201D\u5462\uFF1F\u5927\u5BB6\u56DE\u5FC6\u4E00\u4E0B\u4E0A\u6587\u4E2D\u7684\u97E9\u6885\u6885\uFF0C\u97E9\u6885\u6885\u7684\u57FA\u672C\u64CD\u4F5C\u662F\u4EC0\u4E48\uFF1F\u9996\u5148\u662F\u62C9\u7FA4\uFF08\u589E\u52A0\u8BA2\u9605\u8005\uFF09\uFF0C\u7136\u540E\u662F<code>@</code>\u6240\u6709\u4EBA\uFF08\u901A\u77E5\u8BA2\u9605\u8005\uFF09\uFF0C\u8FD9\u4FE9\u662F\u6700\u660E\u663E\u7684\u4E86\u3002\u6B64\u5916\u4F5C\u4E3A\u7FA4\u4E3B&amp;\u4EA7\u54C1\u7ECF\u7406\uFF0C\u97E9\u6885\u6885\u8FD8\u5177\u6709\u8E22\u8D70\u9879\u76EE\u7EC4\u6210\u5458\uFF08\u79FB\u9664\u8BA2\u9605\u8005\uFF09\u7684\u80FD\u529B\u3002OK\uFF0C\u4EA7\u54C1\u7ECF\u7406\u53D1\u5E03\u8005\u7C7B\u7684\u4E09\u4E2A\u57FA\u672C\u80FD\u529B\u9F50\u4E86\uFF0C\u4E0B\u9762\u6211\u4EEC\u5F00\u59CB\u5199\u4EE3\u7801\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9A\u4E49\u53D1\u5E03\u8005\u7C7B</span>
<span class="token keyword">class</span> <span class="token class-name">Publisher</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Publisher created&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u589E\u52A0\u8BA2\u9605\u8005</span>
  <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Publisher.add invoked&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u79FB\u9664\u8BA2\u9605\u8005</span>
  <span class="token function">remove</span><span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Publisher.remove invoked&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">===</span> observer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u901A\u77E5\u6240\u6709\u8BA2\u9605\u8005</span>
  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Publisher.notify invoked&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      observer<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>ok\uFF0C\u641E\u5B9A\u4E86\u53D1\u5E03\u8005\uFF0C\u6211\u4EEC\u4E00\u8D77\u6765\u60F3\u60F3\u8BA2\u9605\u8005\u80FD\u5E72\u5565\u2014\u2014\u5176\u5B9E\u8BA2\u9605\u8005\u7684\u80FD\u529B\u975E\u5E38\u7B80\u5355\uFF0C\u4F5C\u4E3A\u88AB\u52A8\u7684\u4E00\u65B9\uFF0C\u5B83\u7684\u884C\u4E3A\u53EA\u6709\u4E24\u4E2A\u2014\u2014\u88AB\u901A\u77E5\u3001\u53BB\u6267\u884C\uFF08\u672C\u8D28\u4E0A\u662F\u63A5\u53D7\u53D1\u5E03\u8005\u7684\u8C03\u7528\uFF0C\u8FD9\u6B65\u6211\u4EEC\u5728<code>Publisher</code>\u4E2D\u5DF2\u7ECF\u505A\u6389\u4E86\uFF09\u3002\u65E2\u7136\u6211\u4EEC\u5728Publisher\u4E2D\u505A\u7684\u662F\u65B9\u6CD5\u8C03\u7528\uFF0C\u90A3\u4E48\u6211\u4EEC\u5728\u8BA2\u9605\u8005\u7C7B\u91CC\u8981\u505A\u7684\u5C31\u662F<strong>\u65B9\u6CD5\u7684\u5B9A\u4E49</strong>\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9A\u4E49\u8BA2\u9605\u8005\u7C7B</span>
<span class="token keyword">class</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Observer created&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Observer.update invoked&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u4EE5\u4E0A\uFF0C\u6211\u4EEC\u5C31\u5B8C\u6210\u4E86\u6700\u57FA\u672C\u7684\u53D1\u5E03\u8005\u548C\u8BA2\u9605\u8005\u7C7B\u7684\u8BBE\u8BA1\u548C\u7F16\u5199\u3002\u5728\u5B9E\u9645\u7684\u4E1A\u52A1\u5F00\u53D1\u4E2D\uFF0C\u6211\u4EEC\u6240\u6709\u7684\u5B9A\u5236\u5316\u7684\u53D1\u5E03\u8005/\u8BA2\u9605\u8005\u903B\u8F91\u90FD\u53EF\u4EE5\u57FA\u4E8E\u8FD9\u4E24\u4E2A\u57FA\u672C\u7C7B\u6765\u6539\u5199\u3002\u6BD4\u5982\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u62D3\u5C55\u53D1\u5E03\u8005\u7C7B\uFF0C\u6765\u4F7F\u6240\u6709\u7684\u8BA2\u9605\u8005\u6765<strong>\u76D1\u542C\u67D0\u4E2A\u7279\u5B9A\u72B6\u6001\u7684\u53D8\u5316</strong>\u3002</p><p>\u4ECD\u7136\u4EE5\u5F00\u7BC7\u7684\u4F8B\u5B50\u4E3A\u4F8B\uFF0C\u6211\u4EEC\u8BA9\u5F00\u53D1\u8005\u4EEC\u6765\u76D1\u542C\u9700\u6C42\u6587\u6863\uFF08prd\uFF09\u7684\u53D8\u5316\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9A\u4E49\u4E00\u4E2A\u5177\u4F53\u7684\u9700\u6C42\u6587\u6863\uFF08prd\uFF09\u53D1\u5E03\u7C7B</span>
<span class="token keyword">class</span> <span class="token class-name">PrdPublisher</span> <span class="token keyword">extends</span> <span class="token class-name">Publisher</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">// \u521D\u59CB\u5316\u9700\u6C42\u6587\u6863</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>prdState <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token comment">// \u97E9\u6885\u6885\u8FD8\u6CA1\u6709\u62C9\u7FA4\uFF0C\u5F00\u53D1\u7FA4\u76EE\u524D\u4E3A\u7A7A</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;PrdPublisher created&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// \u8BE5\u65B9\u6CD5\u7528\u4E8E\u83B7\u53D6\u5F53\u524D\u7684prdState</span>
    <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;PrdPublisher.getState invoked&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prdState
    <span class="token punctuation">}</span>
    
    <span class="token comment">// \u8BE5\u65B9\u6CD5\u7528\u4E8E\u6539\u53D8prdState\u7684\u503C</span>
    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;PrdPublisher.setState invoked&#39;</span><span class="token punctuation">)</span>
        <span class="token comment">// prd\u7684\u503C\u53D1\u751F\u6539\u53D8</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>prdState <span class="token operator">=</span> state
        <span class="token comment">// \u9700\u6C42\u6587\u6863\u53D8\u66F4\uFF0C\u7ACB\u523B\u901A\u77E5\u6240\u6709\u5F00\u53D1\u8005</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>\u4F5C\u4E3A\u8BA2\u9605\u65B9\uFF0C\u5F00\u53D1\u8005\u7684\u4EFB\u52A1\u4E5F\u53D8\u5F97\u5177\u4F53\u8D77\u6765\uFF1A\u63A5\u6536\u9700\u6C42\u6587\u6863\u3001\u5E76\u5F00\u59CB\u5E72\u6D3B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">DeveloperObserver</span> <span class="token keyword">extends</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">// \u9700\u6C42\u6587\u6863\u4E00\u5F00\u59CB\u8FD8\u4E0D\u5B58\u5728\uFF0Cprd\u521D\u59CB\u4E3A\u7A7A\u5BF9\u8C61</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>prdState <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;DeveloperObserver created&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// \u91CD\u5199\u4E00\u4E2A\u5177\u4F53\u7684update\u65B9\u6CD5</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">publisher</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;DeveloperObserver.update invoked&#39;</span><span class="token punctuation">)</span>
        <span class="token comment">// \u66F4\u65B0\u9700\u6C42\u6587\u6863</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>prdState <span class="token operator">=</span> publisher<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment">// \u8C03\u7528\u5DE5\u4F5C\u51FD\u6570</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// work\u65B9\u6CD5\uFF0C\u4E00\u4E2A\u4E13\u95E8\u642C\u7816\u7684\u65B9\u6CD5</span>
    <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u83B7\u53D6\u9700\u6C42\u6587\u6863</span>
        <span class="token keyword">const</span> prd <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prdState
        <span class="token comment">// \u5F00\u59CB\u57FA\u4E8E\u9700\u6C42\u6587\u6863\u63D0\u4F9B\u7684\u4FE1\u606F\u642C\u7816\u3002\u3002\u3002</span>
        <span class="token operator">...</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;996 begins...&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>\u4E0B\u9762\uFF0C\u6211\u4EEC\u53EF\u4EE5 <code>new</code> \u4E00\u4E2A <code>PrdPublisher</code> \u5BF9\u8C61\uFF08\u4EA7\u54C1\u7ECF\u7406\uFF09\uFF0C\u5979\u53EF\u4EE5\u901A\u8FC7\u8C03\u7528 <code>setState</code> \u65B9\u6CD5\u6765\u66F4\u65B0\u9700\u6C42\u6587\u6863\u3002\u9700\u6C42\u6587\u6863\u6BCF\u6B21\u66F4\u65B0\uFF0C\u90FD\u4F1A\u7D27\u63A5\u7740\u8C03\u7528 <code>notify</code> \u65B9\u6CD5\u6765\u901A\u77E5\u6240\u6709\u5F00\u53D1\u8005\uFF1A</p><blockquote><p>\u76EE\u6807\u5BF9\u8C61\u7684\u72B6\u6001\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u4F1A\u901A\u77E5\u6240\u6709\u89C2\u5BDF\u8005\u5BF9\u8C61\uFF0C\u4F7F\u5B83\u4EEC\u80FD\u591F\u81EA\u52A8\u66F4\u65B0\u3002</p></blockquote><p>OK\uFF0C\u4E0B\u9762\u6211\u4EEC\u6765\u770B\u770B\u97E9\u6885\u6885\u548C\u5979\u7684\u5C0F\u4F19\u4F34\u4EEC\u662F\u5982\u4F55\u641E\u4E8B\u60C5\u7684\u5427\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u521B\u5EFA\u8BA2\u9605\u8005\uFF1A\u524D\u7AEF\u5F00\u53D1\u674E\u96F7</span>
<span class="token keyword">const</span> liLei <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeveloperObserver</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// \u521B\u5EFA\u8BA2\u9605\u8005\uFF1A\u670D\u52A1\u7AEF\u5F00\u53D1\u5C0FA\uFF08sorry\u3002\u3002\u3002\u8D77\u540D\u5B57\u771F\u7684\u592A\u96BE\u4E86\uFF09</span>
<span class="token keyword">const</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeveloperObserver</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// \u521B\u5EFA\u8BA2\u9605\u8005\uFF1A\u6D4B\u8BD5\u540C\u5B66\u5C0FB</span>
<span class="token keyword">const</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DeveloperObserver</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// \u97E9\u6885\u6885\u51FA\u73B0\u4E86</span>
<span class="token keyword">const</span> hanMeiMei <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrdPublisher</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// \u9700\u6C42\u6587\u6863\u51FA\u73B0\u4E86</span>
<span class="token keyword">const</span> prd <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5177\u4F53\u7684\u9700\u6C42\u5185\u5BB9</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u97E9\u6885\u6885\u5F00\u59CB\u62C9\u7FA4</span>
hanMeiMei<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>liLei<span class="token punctuation">)</span>
hanMeiMei<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">)</span>
hanMeiMei<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">)</span>
<span class="token comment">// \u97E9\u6885\u6885\u53D1\u9001\u4E86\u9700\u6C42\u6587\u6863\uFF0C\u5E76@\u4E86\u6240\u6709\u4EBA</span>
hanMeiMei<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>prd<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>\u4EE5\u4E0A\uFF0C\u5C31\u662F\u89C2\u5BDF\u8005\u6A21\u5F0F\u5728\u4EE3\u7801\u4E16\u754C\u91CC\u7684\u5B8C\u6574\u5B9E\u73B0\u6D41\u7A0B\u4E86\u3002</p><p>\u76F8\u4FE1\u8D70\u5230\u8FD9\u4E00\u6B65\uFF0C\u5927\u5BB6\u5BF9\u89C2\u5BDF\u8005\u6A21\u5F0F\u7684\u6838\u5FC3\u601D\u60F3\u3001\u57FA\u672C\u5B9E\u73B0\u6A21\u5F0F\u90FD\u6709\u4E86\u4E0D\u9519\u7684\u638C\u63E1\u3002\u4E0B\u9762\u6211\u4EEC\u8D81\u70ED\u6253\u94C1\uFF0C\u4E00\u8D77\u6765\u770B\u770B\u5982\u4F55\u51ED\u501F\u89C2\u5BDF\u8005\u6A21\u5F0F\uFF0C\u5728\u9762\u8BD5\u4E2D\u8868\u6F14\u771F\u6B63\u7684\u6280\u672F~</p>`,16),U6n={id:"_8-3-vue\u6570\u636E\u53CC\u5411\u7ED1\u5B9A-\u54CD\u5E94\u5F0F\u7CFB\u7EDF-\u7684\u5B9E\u73B0\u539F\u7406",tabindex:"-1"},J6n=n("a",{class:"header-anchor",href:"#_8-3-vue\u6570\u636E\u53CC\u5411\u7ED1\u5B9A-\u54CD\u5E94\u5F0F\u7CFB\u7EDF-\u7684\u5B9E\u73B0\u539F\u7406","aria-hidden":"true"},"#",-1),W6n=s(),z6n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_8-3-vue%E6%95%B0%E6%8D%AE%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A-%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F-%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},G6n=s("#"),$6n=s("8.3 Vue\u6570\u636E\u53CC\u5411\u7ED1\u5B9A\uFF08\u54CD\u5E94\u5F0F\u7CFB\u7EDF\uFF09\u7684\u5B9E\u73B0\u539F\u7406"),X6n=n("p",null,[n("strong",null,"1. \u89E3\u6790")],-1),K6n=s("Vue \u6846\u67B6\u662F\u70ED\u95E8\u7684\u6E10\u8FDB\u5F0F JavaScript\u6846\u67B6\u3002\u5728 Vue \u4E2D\uFF0C\u5F53\u6211\u4EEC\u4FEE\u6539\u72B6\u6001\u65F6\uFF0C\u89C6\u56FE\u4F1A\u968F\u4E4B\u66F4\u65B0\uFF0C\u8FD9\u5C31\u662FVue\u7684\u6570\u636E\u53CC\u5411\u7ED1\u5B9A\uFF08\u53C8\u79F0\u54CD\u5E94\u5F0F\u539F\u7406\uFF09\u3002\u6570\u636E\u53CC\u5411\u7ED1\u5B9A\u662FVue \u6700\u72EC\u7279\u7684\u7279\u6027\u4E4B\u4E00\u3002\u5982\u679C\u8BFB\u8005\u6CA1\u6709\u63A5\u89E6\u8FC7 Vue\uFF0C\u5F3A\u70C8\u5EFA\u8BAE\u9605\u8BFB"),Q6n={href:"https://cn.vuejs.org/v2/guide/reactivity.html",target:"_blank",rel:"noopener noreferrer"},Y6n=s("Vue\u5B98\u65B9\u5BF9\u54CD\u5E94\u5F0F\u539F\u7406\u7684\u4ECB\u7ECD (opens new window)"),Z6n=s("\u3002\u6B64\u5904\u6211\u4EEC\u7528\u5B98\u65B9\u7684\u4E00\u5F20\u6D41\u7A0B\u56FE\u6765\u7B80\u8981\u5730\u8BF4\u660E\u4E00\u4E0BVue\u54CD\u5E94\u5F0F\u7CFB\u7EDF\u7684\u6574\u4E2A\u6D41\u7A0B\uFF1A"),n4n=n("p",null,[n("img",{src:"http://img-repo.poetries.top/images/20210327204351.png",alt:"img"})],-1),s4n=n("p",null,[s("\u5728 "),n("code",null,"Vue"),s(" \u4E2D\uFF0C\u6BCF\u4E2A\u7EC4\u4EF6\u5B9E\u4F8B\u90FD\u6709\u76F8\u5E94\u7684 "),n("code",null,"watcher"),s(" \u5B9E\u4F8B\u5BF9\u8C61\uFF0C\u5B83\u4F1A\u5728\u7EC4\u4EF6\u6E32\u67D3\u7684\u8FC7\u7A0B\u4E2D\u628A\u5C5E\u6027\u8BB0\u5F55\u4E3A\u4F9D\u8D56\uFF0C\u4E4B\u540E\u5F53\u4F9D\u8D56\u9879\u7684 "),n("code",null,"setter"),s(" \u88AB\u8C03\u7528\u65F6\uFF0C\u4F1A\u901A\u77E5 "),n("code",null,"watcher"),s(" \u91CD\u65B0\u8BA1\u7B97\uFF0C\u4ECE\u800C\u81F4\u4F7F\u5B83\u5173\u8054\u7684\u7EC4\u4EF6\u5F97\u4EE5\u66F4\u65B0\u2014\u2014\u8FD9\u662F\u4E00\u4E2A\u5178\u578B\u7684\u89C2\u5BDF\u8005\u6A21\u5F0F\u3002\u8FD9\u9053\u9762\u8BD5\u9898\u8003\u5BDF\u4E86\u53D7\u8BD5\u8005\u5BF9Vue\u5E95\u5C42\u539F\u7406\u7684\u7406\u89E3\u3001\u5BF9\u89C2\u5BDF\u8005\u6A21\u5F0F\u7684\u5B9E\u73B0\u80FD\u529B\u4EE5\u53CA\u4E00\u7CFB\u5217\u91CD\u8981\u7684JS\u77E5\u8BC6\u70B9\uFF0C\u5177\u6709\u8F83\u5F3A\u7684\u7EFC\u5408\u6027\u548C\u4EE3\u8868\u6027\u3002")],-1),a4n=s("\u503C\u5F97\u6CE8\u610F\u7684\u662F\uFF0C\u5728\u9762\u8BD5\u8FC7\u7A0B\u4E2D\uFF0C\u9762\u8BD5\u5B98\u591A\u6570\u60C5\u51B5\u4E0B\u4E0D\u4F1A\u8981\u6C42\u5927\u5BB6\u5199\u51FA\u5B8C\u6574\u7684\u54CD\u5E94\u5F0F\u539F\u7406\u5B9E\u73B0\u4EE3\u7801\uFF0C\u800C\u662F\u8981\u6C42\u4F60\u201C\u8BF4\u8BF4\u81EA\u5DF1\u7684\u7406\u89E3\u201D\u3002\u5728\u672C\u8282\uFF0C\u6211\u4EEC\u4E0D\u4F1A\u5E26\u5927\u5BB6\u4E00\u884C\u4E00\u884C\u5199\u4EE3\u7801\uFF08\u5177\u4F53\u6DF1\u5165Vue\u6846\u67B6\u7684\u76F8\u5173\u77E5\u8BC6\uFF0C\u5EFA\u8BAE\u5927\u5BB6\u9605\u8BFB"),e4n={href:"https://github.com/vuejs/vue",target:"_blank",rel:"noopener noreferrer"},t4n=s("Vue\u6E90\u7801 (opens new window)"),p4n=s("\u53CA\u8FD9\u672C"),o4n={href:"https://juejin.im/book/5a36661851882538e2259c0f",target:"_blank",rel:"noopener noreferrer"},c4n=s("\u4E13\u95E8\u5199Vue\u7684\u5C0F\u518C (opens new window)"),l4n=s("\u3002\uFF09\uFF0C\u800C\u662F\u9488\u5BF9Vue\u54CD\u5E94\u5F0F\u7CFB\u7EDF\u4E2D\u4E0E\u89C2\u5BDF\u8005\u6A21\u5F0F\u7D27\u5BC6\u5173\u8054\u7684\u8FD9\u90E8\u5206\u77E5\u8BC6\u4F5C\u8BB2\u89E3\uFF0C\u5E2E\u52A9\u5927\u5BB6\u634B\u6E05\u695A\u6574\u5957\u6D41\u7A0B\u91CC\u7684\u6765\u9F99\u53BB\u8109\u3001\u52A0\u6DF1\u5BF9\u89C2\u5BDF\u8005\u6A21\u5F0F\u7684\u7406\u89E3\u3002"),r4n=t(`<p><strong>\u5728Vue\u6570\u636E\u53CC\u5411\u7ED1\u5B9A\u7684\u5B9E\u73B0\u903B\u8F91\u91CC\uFF0C\u6709\u8FD9\u6837\u4E09\u4E2A\u5173\u952E\u89D2\u8272\uFF1A</strong></p><ul><li><code>observer</code>\uFF08\u76D1\u542C\u5668\uFF09\uFF1A\u6CE8\u610F\uFF0C\u6B64 <code>observer</code> \u975E\u5F7C <code>observer</code>\u3002\u5728\u6211\u4EEC\u4E0A\u9762\u7684\u89E3\u6790\u4E2D\uFF0C<code>observer</code> \u4F5C\u4E3A\u8BBE\u8BA1\u6A21\u5F0F\u4E2D\u7684\u4E00\u4E2A\u89D2\u8272\uFF0C\u4EE3\u8868\u201C\u8BA2\u9605\u8005\u201D\u3002\u4F46\u5728<code>Vue</code>\u6570\u636E\u53CC\u5411\u7ED1\u5B9A\u7684\u89D2\u8272\u7ED3\u6784\u91CC\uFF0C\u6240\u8C13\u7684 <code>observer</code> \u4E0D\u4EC5\u662F\u4E00\u4E2A\u6570\u636E\u76D1\u542C\u5668\uFF0C\u5B83\u8FD8\u9700\u8981\u5BF9\u76D1\u542C\u5230\u7684\u6570\u636E\u8FDB\u884C<strong>\u8F6C\u53D1</strong>\u2014\u2014\u4E5F\u5C31\u662F\u8BF4\u5B83<strong>\u540C\u65F6\u8FD8\u662F\u4E00\u4E2A\u53D1\u5E03\u8005</strong>\u3002</li><li><code>watcher</code>\uFF08\u8BA2\u9605\u8005\uFF09\uFF1A<code>observer</code> \u628A\u6570\u636E\u8F6C\u53D1\u7ED9\u4E86<strong>\u771F\u6B63\u7684\u8BA2\u9605\u8005</strong>\u2014\u2014<code>watcher</code>\u5BF9\u8C61\u3002<code>watcher</code> \u63A5\u6536\u5230\u65B0\u7684\u6570\u636E\u540E\uFF0C\u4F1A\u53BB\u66F4\u65B0\u89C6\u56FE\u3002</li><li><code>compile</code>\uFF08\u7F16\u8BD1\u5668\uFF09\uFF1A<code>MVVM</code> \u6846\u67B6\u7279\u6709\u7684\u89D2\u8272\uFF0C\u8D1F\u8D23\u5BF9\u6BCF\u4E2A\u8282\u70B9\u5143\u7D20\u6307\u4EE4\u8FDB\u884C\u626B\u63CF\u548C\u89E3\u6790\uFF0C\u6307\u4EE4\u7684\u6570\u636E\u521D\u59CB\u5316\u3001\u8BA2\u9605\u8005\u7684\u521B\u5EFA\u8FD9\u4E9B\u201C\u6742\u6D3B\u201D\u4E5F\u5F52\u5B83\u7BA1~</li></ul><p>\u8FD9\u4E09\u8005\u7684\u914D\u5408\u8FC7\u7A0B\u5982\u56FE\u6240\u793A\uFF1A</p><p><img src="http://img-repo.poetries.top/images/20210327204920.png" alt="img"></p><p>OK\uFF0C\u5B9E\u73B0\u65B9\u6848\u641E\u6E05\u695A\u4E86\uFF0C\u4E0B\u9762\u6211\u4EEC\u7ED9\u6574\u4E2A\u6D41\u7A0B\u4E2D<strong>\u6D89\u53CA\u5230\u53D1\u5E03-\u8BA2\u9605\u8FD9\u4E00\u6A21\u5F0F\u7684\u4EE3\u7801</strong>\u6765\u4E2A\u7279\u5199\uFF1A</p><p><strong>2. \u6838\u5FC3\u4EE3\u7801</strong></p><p><strong>\u5B9E\u73B0observer</strong></p><blockquote><p>\u9996\u5148\u6211\u4EEC\u9700\u8981\u5B9E\u73B0\u4E00\u4E2A\u65B9\u6CD5\uFF0C\u8FD9\u4E2A\u65B9\u6CD5\u4F1A\u5BF9\u9700\u8981\u76D1\u542C\u7684\u6570\u636E\u5BF9\u8C61\u8FDB\u884C\u904D\u5386\u3001\u7ED9\u5B83\u7684\u5C5E\u6027\u52A0\u4E0A\u5B9A\u5236\u7684 <code>getter</code> \u548C <code>setter</code> \u51FD\u6570\u3002\u8FD9\u6837\u4F46\u51E1\u8FD9\u4E2A\u5BF9\u8C61\u7684\u67D0\u4E2A\u5C5E\u6027\u53D1\u751F\u4E86\u6539\u53D8\uFF0C\u5C31\u4F1A\u89E6\u53D1 <code>setter</code> \u51FD\u6570\uFF0C\u8FDB\u800C\u901A\u77E5\u5230\u8BA2\u9605\u8005\u3002\u8FD9\u4E2A <code>setter</code> \u51FD\u6570\uFF0C\u5C31\u662F\u6211\u4EEC\u7684\u76D1\u542C\u5668\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// observe\u65B9\u6CD5\u904D\u5386\u5E76\u5305\u88C5\u5BF9\u8C61\u5C5E\u6027</span>
<span class="token keyword">function</span> <span class="token function">observe</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u82E5target\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5219\u904D\u5386\u5B83</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>target <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> target <span class="token operator">===</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// defineReactive\u65B9\u6CD5\u4F1A\u7ED9\u76EE\u6807\u5C5E\u6027\u88C5\u4E0A\u201C\u76D1\u542C\u5668\u201D</span>
            <span class="token function">defineReactive</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u5B9A\u4E49defineReactive\u65B9\u6CD5</span>
<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5C5E\u6027\u503C\u4E5F\u53EF\u80FD\u662Fobject\u7C7B\u578B\uFF0C\u8FD9\u79CD\u60C5\u51B5\u4E0B\u9700\u8981\u8C03\u7528observe\u8FDB\u884C\u9012\u5F52\u904D\u5386</span>
    <span class="token function">observe</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
    <span class="token comment">// \u4E3A\u5F53\u524D\u5C5E\u6027\u5B89\u88C5\u76D1\u542C\u5668</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
         <span class="token comment">// \u53EF\u679A\u4E3E</span>
        <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// \u4E0D\u53EF\u914D\u7F6E</span>
        <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> 
        <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> val<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// \u76D1\u542C\u5668\u51FD\u6570</span>
        <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>target<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u5C5E\u6027\u7684</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u5C5E\u6027\u4ECE</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>val<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u503C\u53D8\u6210\u4E86\u4E86</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
            val <span class="token operator">=</span> value
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><blockquote><p>\u4E0B\u9762\u5B9E\u73B0\u8BA2\u9605\u8005 <code>Dep</code>\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9A\u4E49\u8BA2\u9605\u8005\u7C7BDep</span>
<span class="token keyword">class</span> <span class="token class-name">Dep</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u521D\u59CB\u5316\u8BA2\u9605\u961F\u5217</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>subs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// \u589E\u52A0\u8BA2\u9605\u8005</span>
    <span class="token function">addSub</span><span class="token punctuation">(</span><span class="token parameter">sub</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// \u901A\u77E5\u8BA2\u9605\u8005\uFF08\u662F\u4E0D\u662F\u6240\u6709\u7684\u4EE3\u7801\u90FD\u4F3C\u66FE\u76F8\u8BC6\uFF1F\uFF09</span>
    <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sub</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            sub<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>\u73B0\u5728\u6211\u4EEC\u53EF\u4EE5\u6539\u5199 <code>defineReactive</code> \u4E2D\u7684 <code>setter</code> \u65B9\u6CD5\uFF0C\u5728\u76D1\u542C\u5668\u91CC\u53BB\u901A\u77E5\u8BA2\u9605\u8005\u4E86\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> dep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// \u76D1\u542C\u5F53\u524D\u5C5E\u6027</span>
    <span class="token function">observe</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u901A\u77E5\u6240\u6709\u8BA2\u9605\u8005</span>
            dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,13),i4n={id:"_8-4-\u5B9E\u73B0\u4E00\u4E2Aevent-bus-event-emitter",tabindex:"-1"},u4n=n("a",{class:"header-anchor",href:"#_8-4-\u5B9E\u73B0\u4E00\u4E2Aevent-bus-event-emitter","aria-hidden":"true"},"#",-1),k4n=s(),d4n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_8-4-%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAevent-bus-event-emitter",target:"_blank",rel:"noopener noreferrer"},b4n=s("#"),m4n=s("8.4 \u5B9E\u73B0\u4E00\u4E2AEvent Bus / Event Emitter"),h4n=t(`<blockquote><p><code>Event Bus</code>\uFF08Vue\u3001Flutter \u7B49\u524D\u7AEF\u6846\u67B6\u4E2D\u6709\u51FA\u955C\uFF09\u548C <code>Event Emitter</code>\uFF08Node\u4E2D\u6709\u51FA\u955C\uFF09\u51FA\u573A\u7684\u201C\u5267\u7EC4\u201D\u4E0D\u540C\uFF0C\u4F46\u662F\u5B83\u4EEC\u90FD\u5BF9\u5E94\u4E00\u4E2A\u5171\u540C\u7684\u89D2\u8272\u2014\u2014<strong>\u5168\u5C40\u4E8B\u4EF6\u603B\u7EBF</strong>\u3002</p></blockquote><p>\u5168\u5C40\u4E8B\u4EF6\u603B\u7EBF\uFF0C\u4E25\u683C\u6765\u8BF4\u4E0D\u80FD\u8BF4\u662F\u89C2\u5BDF\u8005\u6A21\u5F0F\uFF0C\u800C\u662F\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F\u3002\u5B83\u5728\u6211\u4EEC\u65E5\u5E38\u7684\u4E1A\u52A1\u5F00\u53D1\u4E2D\u5E94\u7528\u975E\u5E38\u5E7F\u3002</p><blockquote><p>\u5982\u679C\u53EA\u80FD\u9009\u4E00\u9053\u9898\uFF0C\u90A3\u8FD9\u9053\u9898\u4E00\u5B9A\u662F <code>Event Bus/Event Emitter</code> \u7684\u4EE3\u7801\u5B9E\u73B0\u2014\u2014\u6211\u90FD\u8BF4\u8FD9\u4E48\u6E05\u695A\u4E86\uFF0C\u8FD9\u4E2A\u77E5\u8BC6\u70B9\u5230\u5E95\u8981\u4E0D\u8981\u638C\u63E1\u3001\u9700\u8981\u638C\u63E1\u5230\u4EC0\u4E48\u7A0B\u5EA6\uFF0C\u5C31\u770B\u5404\u4F4D\u81EA\u5DF1\u7684\u4E86\u3002</p></blockquote><p><strong>\u5728Vue\u4E2D\u4F7F\u7528Event Bus\u6765\u5B9E\u73B0\u7EC4\u4EF6\u95F4\u7684\u901A\u8BAF</strong></p><blockquote><p><code>Event Bus/Event Emitter</code> \u4F5C\u4E3A\u5168\u5C40\u4E8B\u4EF6\u603B\u7EBF\uFF0C\u5B83\u8D77\u5230\u7684\u662F\u4E00\u4E2A<strong>\u6C9F\u901A\u6865\u6881</strong>\u7684\u4F5C\u7528\u3002\u6211\u4EEC\u53EF\u4EE5\u628A\u5B83\u7406\u89E3\u4E3A\u4E00\u4E2A\u4E8B\u4EF6\u4E2D\u5FC3\uFF0C\u6211\u4EEC\u6240\u6709\u4E8B\u4EF6\u7684\u8BA2\u9605/\u53D1\u5E03\u90FD\u4E0D\u80FD\u7531\u8BA2\u9605\u65B9\u548C\u53D1\u5E03\u65B9\u201C\u79C1\u4E0B\u6C9F\u901A\u201D\uFF0C\u5FC5\u987B\u8981\u59D4\u6258\u8FD9\u4E2A\u4E8B\u4EF6\u4E2D\u5FC3\u5E2E\u6211\u4EEC\u5B9E\u73B0\u3002</p></blockquote><p>\u5728Vue\u4E2D\uFF0C\u6709\u65F6\u5019 A \u7EC4\u4EF6\u548C B \u7EC4\u4EF6\u4E2D\u95F4\u9694\u4E86\u5F88\u8FDC\uFF0C\u770B\u4F3C\u6CA1\u4EC0\u4E48\u5173\u7CFB\uFF0C\u4F46\u6211\u4EEC\u5E0C\u671B\u5B83\u4EEC\u4E4B\u95F4\u80FD\u591F\u901A\u4FE1\u3002\u8FD9\u79CD\u60C5\u51B5\u4E0B\u9664\u4E86\u6C42\u52A9\u4E8E <code>Vuex</code> \u4E4B\u5916\uFF0C\u6211\u4EEC\u8FD8\u53EF\u4EE5\u901A\u8FC7 <code>Event Bus</code> \u6765\u5B9E\u73B0\u6211\u4EEC\u7684\u9700\u6C42\u3002</p><p>\u521B\u5EFA\u4E00\u4E2A <code>Event Bus</code>\uFF08\u672C\u8D28\u4E0A\u4E5F\u662F Vue \u5B9E\u4F8B\uFF09\u5E76\u5BFC\u51FA\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> EventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> EventBus
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5728\u4E3B\u6587\u4EF6\u91CC\u5F15\u5165<code>EventBus</code>\uFF0C\u5E76\u6302\u8F7D\u5230\u5168\u5C40\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> bus <span class="token keyword">from</span> <span class="token string">&#39;EventBus\u7684\u6587\u4EF6\u8DEF\u5F84&#39;</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>bus <span class="token operator">=</span> bus
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u8BA2\u9605\u4E8B\u4EF6\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8FD9\u91CCfunc\u6307someEvent\u8FD9\u4E2A\u4E8B\u4EF6\u7684\u76D1\u542C\u51FD\u6570</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">&#39;someEvent&#39;</span><span class="token punctuation">,</span> func<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u53D1\u5E03\uFF08\u89E6\u53D1\uFF09\u4E8B\u4EF6\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8FD9\u91CCparams\u6307someEvent\u8FD9\u4E2A\u4E8B\u4EF6\u88AB\u89E6\u53D1\u65F6\u56DE\u8C03\u51FD\u6570\u63A5\u6536\u7684\u5165\u53C2</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;someEvent&#39;</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>\u5927\u5BB6\u4F1A\u53D1\u73B0\uFF0C\u6574\u4E2A\u8C03\u7528\u8FC7\u7A0B\u4E2D\uFF0C\u6CA1\u6709\u51FA\u73B0\u5177\u4F53\u7684\u53D1\u5E03\u8005\u548C\u8BA2\u9605\u8005\uFF08\u6BD4\u5982\u4E0A\u9762\u7684<code>PrdPublisher</code>\u548C<code>DeveloperObserver</code>\uFF09\uFF0C\u5168\u7A0B\u53EA\u6709<code>bus</code>\u8FD9\u4E2A\u4E1C\u897F\u4E00\u4E2A\u4EBA\u5728\u75AF\u72C2\u5237\u5B58\u5728\u611F\u3002\u8FD9\u5C31\u662F\u5168\u5C40\u4E8B\u4EF6\u603B\u7EBF\u7684\u7279\u70B9\u2014\u2014\u6240\u6709\u4E8B\u4EF6\u7684\u53D1\u5E03/\u8BA2\u9605\u64CD\u4F5C\uFF0C\u5FC5\u987B\u7ECF\u7531\u4E8B\u4EF6\u4E2D\u5FC3\uFF0C\u7981\u6B62\u4E00\u5207\u201C\u79C1\u4E0B\u4EA4\u6613\u201D\uFF01</p></blockquote><p>\u4E0B\u9762\uFF0C\u6211\u4EEC\u5C31\u4E00\u8D77\u6765\u5B9E\u73B0\u4E00\u4E2A<code>Event Bus</code>\uFF08\u6CE8\u610F\u770B\u6CE8\u91CA\u91CC\u7684\u89E3\u6790\uFF09\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">EventEmitter</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// handlers\u662F\u4E00\u4E2Amap\uFF0C\u7528\u4E8E\u5B58\u50A8\u4E8B\u4EF6\u4E0E\u56DE\u8C03\u4E4B\u95F4\u7684\u5BF9\u5E94\u5173\u7CFB</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>handlers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// on\u65B9\u6CD5\u7528\u4E8E\u5B89\u88C5\u4E8B\u4EF6\u76D1\u542C\u5668\uFF0C\u5B83\u63A5\u53D7\u76EE\u6807\u4E8B\u4EF6\u540D\u548C\u56DE\u8C03\u51FD\u6570\u4F5C\u4E3A\u53C2\u6570</span>
  <span class="token function">on</span><span class="token punctuation">(</span><span class="token parameter">eventName<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5148\u68C0\u67E5\u4E00\u4E0B\u76EE\u6807\u4E8B\u4EF6\u540D\u6709\u6CA1\u6709\u5BF9\u5E94\u7684\u76D1\u542C\u51FD\u6570\u961F\u5217</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>handlers<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5982\u679C\u6CA1\u6709\uFF0C\u90A3\u4E48\u9996\u5148\u521D\u59CB\u5316\u4E00\u4E2A\u76D1\u542C\u51FD\u6570\u961F\u5217</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>handlers<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u628A\u56DE\u8C03\u51FD\u6570\u63A8\u5165\u76EE\u6807\u4E8B\u4EF6\u7684\u76D1\u542C\u51FD\u6570\u961F\u5217\u91CC\u53BB</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>handlers<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cb<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// emit\u65B9\u6CD5\u7528\u4E8E\u89E6\u53D1\u76EE\u6807\u4E8B\u4EF6\uFF0C\u5B83\u63A5\u53D7\u4E8B\u4EF6\u540D\u548C\u76D1\u542C\u51FD\u6570\u5165\u53C2\u4F5C\u4E3A\u53C2\u6570</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token parameter">eventName<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u68C0\u67E5\u76EE\u6807\u4E8B\u4EF6\u662F\u5426\u6709\u76D1\u542C\u51FD\u6570\u961F\u5217</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>handlers<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5982\u679C\u6709\uFF0C\u5219\u9010\u4E2A\u8C03\u7528\u961F\u5217\u91CC\u7684\u56DE\u8C03\u51FD\u6570</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>handlers<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">callback</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u79FB\u9664\u67D0\u4E2A\u4E8B\u4EF6\u56DE\u8C03\u961F\u5217\u91CC\u7684\u6307\u5B9A\u56DE\u8C03\u51FD\u6570</span>
  <span class="token function">off</span><span class="token punctuation">(</span><span class="token parameter">eventName<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> callbacks <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handlers<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span>
    <span class="token keyword">const</span> index <span class="token operator">=</span> callbacks<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>cb<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      callbacks<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u4E3A\u4E8B\u4EF6\u6CE8\u518C\u5355\u6B21\u76D1\u542C\u5668</span>
  <span class="token function">once</span><span class="token punctuation">(</span><span class="token parameter">eventName<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5BF9\u56DE\u8C03\u51FD\u6570\u8FDB\u884C\u5305\u88C5\uFF0C\u4F7F\u5176\u6267\u884C\u5B8C\u6BD5\u81EA\u52A8\u88AB\u79FB\u9664</span>
    <span class="token keyword">const</span> <span class="token function-variable function">wrapper</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">cb</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span> wrapper<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span> wrapper<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div>`,17),_4n=s("\u5728\u65E5\u5E38\u7684\u5F00\u53D1\u4E2D\uFF0C\u5927\u5BB6\u7528\u5230"),g4n=n("code",null,"EventBus/EventEmitter",-1),E4n=s("\u5F80\u5F80\u63D0\u4F9B\u6BD4\u8FD9\u4E94\u4E2A\u65B9\u6CD5\u591A\u7684\u591A\u7684\u591A\u7684\u65B9\u6CD5\u3002\u4F46\u5728\u9762\u8BD5\u8FC7\u7A0B\u4E2D\uFF0C\u5982\u679C\u5927\u5BB6\u80FD\u591F\u5B8C\u6574\u5730\u5B9E\u73B0\u51FA\u8FD9\u4E94\u4E2A\u65B9\u6CD5\uFF0C\u5DF2\u7ECF\u975E\u5E38\u53EF\u4EE5\u8BF4\u660E\u95EE\u9898\u4E86\uFF0C\u56E0\u6B64\u697C\u4E0A\u8FD9\u4E2A"),f4n=n("code",null,"EventBus",-1),v4n=s("\u5E0C\u671B\u5927\u5BB6\u53EF\u4EE5\u719F\u7EC3\u638C\u63E1\u3002\u5B66\u6709\u4F59\u529B\u7684\u540C\u5B66\uFF0C\u63A8\u8350\u9605\u8BFB"),w4n={href:"https://github.com/facebook/emitter",target:"_blank",rel:"noopener noreferrer"},y4n=s("FaceBook\u63A8\u51FA\u7684\u901A\u7528EventEmiiter\u5E93\u7684\u6E90\u7801 (opens new window)"),x4n=s("\uFF0C\u76F8\u4FE1\u4F60\u4F1A\u6709\u66F4\u591A\u6536\u83B7\u3002"),A4n={id:"_8-5-\u89C2\u5BDF\u8005\u6A21\u5F0F\u4E0E\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F\u7684\u533A\u522B\u662F\u4EC0\u4E48",tabindex:"-1"},B4n=n("a",{class:"header-anchor",href:"#_8-5-\u89C2\u5BDF\u8005\u6A21\u5F0F\u4E0E\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F\u7684\u533A\u522B\u662F\u4EC0\u4E48","aria-hidden":"true"},"#",-1),q4n=s(),j4n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_8-5-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%8F%91%E5%B8%83-%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},S4n=s("#"),C4n=s("8.5 \u89C2\u5BDF\u8005\u6A21\u5F0F\u4E0E\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F\u7684\u533A\u522B\u662F\u4EC0\u4E48\uFF1F"),D4n=t('<blockquote><p>\u5728\u9762\u8BD5\u8FC7\u7A0B\u4E2D\uFF0C\u4E00\u4E9B\u5BF9\u7EC6\u8282\u6BD4\u8F83\u5728\u610F\u7684\u9762\u8BD5\u5B98\u53EF\u80FD\u4F1A\u8FFD\u95EE\u89C2\u5BDF\u8005\u6A21\u5F0F\u4E0E\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F\u7684\u533A\u522B\u3002\u8FD9\u4E2A\u95EE\u9898\u53EF\u80FD\u4F1A\u5F15\u53D1\u4E00\u4E9B\u540C\u5B66\u7684\u4E0D\u9002\uFF0C\u56E0\u4E3A\u5728\u5927\u91CF\u53C2\u8003\u8D44\u6599\u4EE5\u53CA\u5DF2\u51FA\u7248\u7684\u7EB8\u8D28\u4E66\u7C4D\u4E2D\uFF0C\u90FD\u4F1A\u544A\u8BC9\u5927\u5BB6\u201C\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F\u548C\u89C2\u5BDF\u8005\u6A21\u5F0F\u662F\u540C\u4E00\u4E2A\u4E1C\u897F\u7684\u4E24\u4E2A\u540D\u5B57\u201D\u3002\u672C\u4E66\u5728\u524D\u6587\u7684\u53D9\u8FF0\u4E2D\uFF0C\u4E5F\u6CA1\u6709\u7A81\u51FA\u5F3A\u8C03\u4E24\u8005\u7684\u533A\u522B\u3002\u5176\u5B9E\u8FD9\u4E24\u4E2A\u6A21\u5F0F\uFF0C\u8981\u8F83\u8D77\u771F\u6765\uFF0C\u786E\u5B9E\u4E0D\u80FD\u7ED9\u5B83\u4EEC\u5212\u4E25\u683C\u7684\u7B49\u53F7\u3002</p></blockquote><p>\u4E3A\u4EC0\u4E48\u5927\u5BB6\u90FD\u559C\u6B22\u7ED9\u5B83\u4EEC\u5F3A\u884C\u5212\u7B49\u53F7\u5462\uFF1F\u8FD9\u662F\u56E0\u4E3A\u5C31\u7B97\u5212\u4E86\u7B49\u53F7\uFF0C\u4E5F\u4E0D\u5F71\u54CD\u6211\u4EEC\u6B63\u5E38\u4F7F\u7528\uFF0C\u6BD5\u7ADF\u4E24\u8005\u5728\u6838\u5FC3\u601D\u60F3\u3001\u8FD0\u4F5C\u673A\u5236\u4E0A\u6CA1\u6709\u672C\u8D28\u7684\u5DEE\u522B\u3002\u4F46\u8003\u8651\u5230\u8FD9\u4E2A\u95EE\u9898\u786E\u5B9E\u53EF\u4EE5\u6210\u4E3A\u9762\u8BD5\u9898\u7684\u4E00\u4E2A\u65B9\u5411\uFF0C\u6B64\u5904\u6211\u4EEC\u8FD8\u662F\u5355\u72EC\u62FF\u51FA\u6765\u8BB2\u4E00\u4E0B\u3002</p><p>\u56DE\u5230\u6211\u4EEC\u4E0A\u6587\u7684\u4F8B\u5B50\u91CC\u3002\u97E9\u6885\u6885\u628A\u6240\u6709\u7684\u5F00\u53D1\u8005\u62C9\u4E86\u4E00\u4E2A\u7FA4\uFF0C\u76F4\u63A5\u628A\u9700\u6C42\u6587\u6863\u4E22\u7ED9\u6BCF\u4E00\u4F4D\u7FA4\u6210\u5458\uFF0C\u8FD9\u79CD<strong>\u53D1\u5E03\u8005\u76F4\u63A5\u89E6\u53CA\u5230\u8BA2\u9605\u8005</strong>\u7684\u64CD\u4F5C\uFF0C\u53EB\u89C2\u5BDF\u8005\u6A21\u5F0F\u3002\u4F46\u5982\u679C\u97E9\u6885\u6885\u6CA1\u6709\u62C9\u7FA4\uFF0C\u800C\u662F\u628A\u9700\u6C42\u6587\u6863\u4E0A\u4F20\u5230\u4E86\u516C\u53F8\u7EDF\u4E00\u7684\u9700\u6C42\u5E73\u53F0\u4E0A\uFF0C\u9700\u6C42\u5E73\u53F0\u611F\u77E5\u5230\u6587\u4EF6\u7684\u53D8\u5316\u3001\u81EA\u52A8\u901A\u77E5\u4E86\u6BCF\u4E00\u4F4D\u8BA2\u9605\u4E86\u8BE5\u6587\u4EF6\u7684\u5F00\u53D1\u8005\uFF0C\u8FD9\u79CD<strong>\u53D1\u5E03\u8005\u4E0D\u76F4\u63A5\u89E6\u53CA\u5230\u8BA2\u9605\u8005\u3001\u800C\u662F\u7531\u7EDF\u4E00\u7684\u7B2C\u4E09\u65B9\u6765\u5B8C\u6210\u5B9E\u9645\u7684\u901A\u4FE1\u7684\u64CD\u4F5C\uFF0C\u53EB\u505A\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F</strong>\u3002</p><p>\u76F8\u4FE1\u5927\u5BB6\u4E5F\u5DF2\u7ECF\u770B\u51FA\u6765\u4E86\uFF0C\u89C2\u5BDF\u8005\u6A21\u5F0F\u548C\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F\u4E4B\u95F4\u7684\u533A\u522B\uFF0C\u5728\u4E8E\u662F\u5426\u5B58\u5728\u7B2C\u4E09\u65B9\u3001\u53D1\u5E03\u8005\u80FD\u5426\u76F4\u63A5\u611F\u77E5\u8BA2\u9605\u8005\uFF08\u5982\u56FE\u6240\u793A\uFF09\u3002</p><p><img src="http://img-repo.poetries.top/images/20210327211020.png" alt="img"></p><p><strong>\u89C2\u5BDF\u8005\u6A21\u5F0F</strong></p><p><img src="http://img-repo.poetries.top/images/20210327211122.png" alt="img"></p><p><strong>\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F</strong></p><blockquote><p>\u5728\u6211\u4EEC\u89C1\u8FC7\u7684\u8FD9\u4E9B\u4F8B\u5B50\u91CC\uFF0C\u97E9\u6885\u6885\u62C9\u9489\u9489\u7FA4\u7684\u64CD\u4F5C\uFF0C\u5C31\u662F\u5178\u578B\u7684<code>\u89C2\u5BDF\u8005\u6A21\u5F0F</code>\uFF1B\u800C\u901A\u8FC7<code>EventBus</code>\u53BB\u5B9E\u73B0\u4E8B\u4EF6<code>\u76D1\u542C/\u53D1\u5E03</code>\uFF0C\u5219\u5C5E\u4E8E<code>\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F</code>\u3002</p></blockquote><p>\u65E2\u751F\u745C\uFF0C\u4F55\u751F\u4EAE\uFF1F\u65E2\u7136\u6709\u4E86\u89C2\u5BDF\u8005\u6A21\u5F0F\uFF0C\u4E3A\u4EC0\u4E48\u8FD8\u9700\u8981\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F\u5462\uFF1F</p><blockquote><p>\u5927\u5BB6\u601D\u8003\u4E00\u4E0B\uFF1A\u4E3A\u4EC0\u4E48\u8981\u6709\u89C2\u5BDF\u8005\u6A21\u5F0F\uFF1F<code>\u89C2\u5BDF\u8005\u6A21\u5F0F</code>\uFF0C\u89E3\u51B3\u7684\u5176\u5B9E\u662F\u6A21\u5757\u95F4\u7684\u8026\u5408\u95EE\u9898\uFF0C\u6709\u5B83\u5728\uFF0C\u5373\u4FBF\u662F\u4E24\u4E2A\u5206\u79BB\u7684\u3001\u6BEB\u4E0D\u76F8\u5173\u7684\u6A21\u5757\uFF0C\u4E5F\u53EF\u4EE5\u5B9E\u73B0\u6570\u636E\u901A\u4FE1\u3002\u4F46\u89C2\u5BDF\u8005\u6A21\u5F0F\u4EC5\u4EC5\u662F\u51CF\u5C11\u4E86\u8026\u5408\uFF0C<strong>\u5E76\u6CA1\u6709\u5B8C\u5168\u5730\u89E3\u51B3\u8026\u5408\u95EE\u9898</strong>\u2014\u2014\u88AB\u89C2\u5BDF\u8005\u5FC5\u987B\u53BB\u7EF4\u62A4\u4E00\u5957\u89C2\u5BDF\u8005\u7684\u96C6\u5408\uFF0C\u8FD9\u4E9B\u89C2\u5BDF\u8005\u5FC5\u987B\u5B9E\u73B0\u7EDF\u4E00\u7684\u65B9\u6CD5\u4F9B\u88AB\u89C2\u5BDF\u8005\u8C03\u7528\uFF0C\u4E24\u8005\u4E4B\u95F4\u8FD8\u662F\u6709\u7740\u8BF4\u4E0D\u6E05\u3001\u9053\u4E0D\u660E\u7684\u5173\u7CFB\u3002</p></blockquote><p>\u800C<code>\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F</code>\uFF0C\u5219\u662F\u5FEB\u5200\u65A9\u4E71\u9EBB\u4E86\u2014\u2014<code>\u53D1\u5E03\u8005\u5B8C\u5168\u4E0D\u7528\u611F\u77E5\u8BA2\u9605\u8005</code>\uFF0C\u4E0D\u7528\u5173\u5FC3\u5B83\u600E\u4E48\u5B9E\u73B0\u56DE\u8C03\u65B9\u6CD5\uFF0C<code>\u4E8B\u4EF6\u7684\u6CE8\u518C\u548C\u89E6\u53D1\u90FD\u53D1\u751F\u5728\u72EC\u7ACB\u4E8E\u53CC\u65B9\u7684\u7B2C\u4E09\u65B9\u5E73\u53F0\uFF08\u4E8B\u4EF6\u603B\u7EBF\uFF09\u4E0A</code>\u3002<code>\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F</code>\u4E0B\uFF0C\u5B9E\u73B0\u4E86\u5B8C\u5168\u5730\u89E3\u8026\u3002</p><blockquote><p>\u4F46\u8FD9\u5E76\u4E0D\u610F\u5473\u7740\uFF0C<code>\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F\u5C31\u6BD4\u89C2\u5BDF\u8005\u6A21\u5F0F\u201C\u9AD8\u7EA7\u201D</code>\u3002\u5728\u5B9E\u9645\u5F00\u53D1\u4E2D\uFF0C\u6211\u4EEC\u7684\u6A21\u5757\u89E3\u8026\u8BC9\u6C42<strong>\u5E76\u975E\u603B\u662F\u9700\u8981\u5B83\u4EEC\u5B8C\u5168\u89E3\u8026</strong>\u3002\u5982\u679C\u4E24\u4E2A\u6A21\u5757\u4E4B\u95F4\u672C\u8EAB\u5B58\u5728\u5173\u8054\uFF0C\u4E14\u8FD9\u79CD\u5173\u8054\u662F\u7A33\u5B9A\u7684\u3001\u5FC5\u8981\u7684\uFF0C\u90A3\u4E48\u6211\u4EEC\u4F7F\u7528\u89C2\u5BDF\u8005\u6A21\u5F0F\u5C31\u8DB3\u591F\u4E86\u3002\u800C\u5728\u6A21\u5757\u4E0E\u6A21\u5757\u4E4B\u95F4\u72EC\u7ACB\u6027\u8F83\u5F3A\u3001\u4E14\u6CA1\u6709\u5FC5\u8981\u5355\u7EAF\u4E3A\u4E86\u6570\u636E\u901A\u4FE1\u800C\u5F3A\u884C\u4E3A\u4E24\u8005\u5236\u9020\u4F9D\u8D56\u7684\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u5F80\u5F80\u4F1A\u503E\u5411\u4E8E\u4F7F\u7528<code>\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F</code>\u3002</p></blockquote>',13),F4n={id:"_9-\u884C\u4E3A\u578B-\u8FED\u4EE3\u5668\u6A21\u5F0F",tabindex:"-1"},P4n=n("a",{class:"header-anchor",href:"#_9-\u884C\u4E3A\u578B-\u8FED\u4EE3\u5668\u6A21\u5F0F","aria-hidden":"true"},"#",-1),T4n=s(),N4n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_9-%E8%A1%8C%E4%B8%BA%E5%9E%8B-%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},M4n=s("#"),O4n=s("9 \u884C\u4E3A\u578B-\u8FED\u4EE3\u5668\u6A21\u5F0F"),I4n=n("blockquote",null,[n("p",null,"\u8FED\u4EE3\u5668\u6A21\u5F0F\u63D0\u4F9B\u4E00\u79CD\u65B9\u6CD5\u987A\u5E8F\u8BBF\u95EE\u4E00\u4E2A\u805A\u5408\u5BF9\u8C61\u4E2D\u7684\u5404\u4E2A\u5143\u7D20\uFF0C\u800C\u53C8\u4E0D\u66B4\u9732\u8BE5\u5BF9\u8C61\u7684\u5185\u90E8\u8868\u793A\u3002 \u2014\u2014\u300A\u8BBE\u8BA1\u6A21\u5F0F\uFF1A\u53EF\u590D\u7528\u9762\u5411\u5BF9\u8C61\u8F6F\u4EF6\u7684\u57FA\u7840\u300B")],-1),R4n=n("p",null,[s("\u8FED\u4EE3\u5668\u6A21\u5F0F\u662F\u8BBE\u8BA1\u6A21\u5F0F\u4E2D\u5C11\u6709\u7684"),n("strong",null,"\u76EE\u7684\u6027\u6781\u5F3A\u7684\u6A21\u5F0F"),s("\u3002\u6240\u8C13\u201C\u76EE\u7684\u6027\u6781\u5F3A\u201D\u5C31\u662F\u8BF4\u5B83\u4E0D\u64CD\u5FC3\u522B\u7684\uFF0C\u5B83\u5C31\u89E3\u51B3\u8FD9\u4E00\u4E2A\u95EE\u9898\u2014\u2014\u904D\u5386\u3002")],-1),V4n={id:"_9-1-\u516C\u5143\u524D-\u7684\u8FED\u4EE3\u5668\u6A21\u5F0F",tabindex:"-1"},H4n=n("a",{class:"header-anchor",href:"#_9-1-\u516C\u5143\u524D-\u7684\u8FED\u4EE3\u5668\u6A21\u5F0F","aria-hidden":"true"},"#",-1),L4n=s(),U4n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_9-1-%E5%85%AC%E5%85%83%E5%89%8D-%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},J4n=s("#"),W4n=s("9.1 \u201C\u516C\u5143\u524D\u201D\u7684\u8FED\u4EE3\u5668\u6A21\u5F0F"),z4n=t(`<blockquote><p>\u904D\u5386\u4F5C\u4E3A\u4E00\u79CD\u5408\u7406\u3001\u9AD8\u9891\u7684\u4F7F\u7528\u9700\u6C42\uFF0C\u51E0\u4E4E\u6CA1\u6709\u8BED\u8A00\u4F1A\u8981\u6C42\u5B83\u7684\u5F00\u53D1\u8005\u624B\u52A8\u53BB\u5B9E\u73B0\u3002\u5728JS\u4E2D\uFF0C\u672C\u8EAB\u4E5F\u5185\u7F6E\u4E86\u4E00\u4E2A\u6BD4\u8F83\u7B80\u964B\u7684\u6570\u7EC4\u8FED\u4EE3\u5668\u7684\u5B9E\u73B0\u2014\u2014 <code>Array.prototype.forEach</code></p></blockquote><p>\u901A\u8FC7\u8C03\u7528<code>forEach</code>\u65B9\u6CD5\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8F7B\u677E\u5730\u904D\u5386\u4E00\u4E2A\u6570\u7EC4\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u7D22\u5F15\u4E3A</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u7684\u5143\u7D20\u662F</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u4F46<code>forEach</code>\u65B9\u6CD5\u5E76\u4E0D\u662F\u4E07\u80FD\u7684\uFF0C\u6BD4\u5982\u4E0B\u9762\u8FD9\u79CD\u573A\u666F\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u4E8B\u4EF6\u4EE3\u7406<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u94FE\u63A51\u53F7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u94FE\u63A52\u53F7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u94FE\u63A53\u53F7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u94FE\u63A54\u53F7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u94FE\u63A55\u53F7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u94FE\u63A56\u53F7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>\u6211\u60F3\u62FF\u5230\u6240\u6709\u7684a\u6807\u7B7E\uFF0C\u6211\u53EF\u4EE5\u8FD9\u6837\u505A\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> aNodes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;aNodes are&#39;</span><span class="token punctuation">,</span> aNodes<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u6211\u60F3\u53D6\u5176\u4E2D\u4E00\u4E2A<code>a</code>\u6807\u7B7E\uFF0C\u53EF\u4EE5\u8FD9\u6837\u505A\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> aNode <span class="token operator">=</span> aNodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5728\u8FD9\u4E2A\u64CD\u4F5C\u7684\u6620\u886C\u4E0B\uFF0C<code>aNodes</code>\u770B\u4E0A\u53BB\u591A\u4E48\u50CF\u4E00\u4E2A\u6570\u7EC4\u554A\uFF01\u4F46\u5F53\u4F60\u5C1D\u8BD5\u7528\u6570\u7EC4\u7684\u539F\u578B\u65B9\u6CD5\u53BB\u904D\u5386\u5B83\u65F6\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>aNodes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>aNode<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aNode<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u4F60\u53D1\u73B0\u62A5\u9519\u4E86\uFF1A</p><p><img src="http://img-repo.poetries.top/images/20210327212411.png" alt="img"></p><p>\u539F\u6765\u8FD9\u4E2A<code>aNodes</code>\u662F\u4E2A\u5047\u6570\u7EC4\uFF01\u51C6\u786E\u5730\u8BF4\uFF0C\u5B83\u662F\u4E00\u4E2A<strong>\u7C7B\u6570\u7EC4</strong>\u5BF9\u8C61\uFF0C\u5E76\u6CA1\u6709\u4E3A\u4F60\u5B9E\u73B0\u597D\u7528\u7684<code>forEach</code>\u65B9\u6CD5\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u8981\u60F3\u5B9E\u73B0\u7C7B\u6570\u7EC4\u7684\u904D\u5386\uFF0C\u4F60\u5F97\u53E6\u8BF7\u9AD8\u660E\u3002</p><p>\u73B0\u5728\u95EE\u9898\u5C31\u51FA\u73B0\u4E86\uFF1A\u666E\u901A\u6570\u7EC4\u662F\u4E0D\u662F\u96C6\u5408\uFF1F\u662F\uFF01<code>aNodes</code>\u662F\u4E0D\u662F\u96C6\u5408\uFF1F\u662F\uFF01\u540C\u6837\u662F\u96C6\u5408\uFF0C\u540C\u6837\u6709\u904D\u5386\u9700\u6C42\uFF0C\u6211\u4EEC\u5374\u8981\u9488\u5BF9\u4E0D\u540C\u7684\u6570\u636E\u7ED3\u6784\u6267\u884C\u4E0D\u540C\u7684\u904D\u5386\u624B\u6BB5\uFF0C\u597D\u7D2F\uFF01\u518D\u56DE\u5934\u770B\u770B\u8FED\u4EE3\u5668\u7684\u5B9A\u4E49\u662F\u4EC0\u4E48\u2014\u2014\u904D\u5386\u96C6\u5408\u7684\u540C\u65F6\uFF0C\u6211\u4EEC<strong>\u4E0D\u9700\u8981\u5173\u5FC3\u96C6\u5408\u7684\u5185\u90E8\u7ED3\u6784</strong>\u3002\u800C<code>forEach</code>\u53EA\u80FD\u505A\u5230\u5141\u8BB8\u6211\u4EEC\u4E0D\u5173\u5FC3\u6570\u7EC4\u8FD9\u4E00\u79CD\u96C6\u5408\u7684\u5185\u90E8\u7ED3\u6784\uFF0C\u770B\u6765\u60F3\u8981\u4E00\u5957\u7EDF\u4E00\u7684\u904D\u5386\u65B9\u6848\uFF0C\u6211\u4EEC\u975E\u5F97\u8BF7\u51FA\u4E00\u4E2A<strong>\u66F4\u5F3A\u7684\u901A\u7528\u8FED\u4EE3\u5668</strong>\u4E0D\u53EF\u4E86\u3002</p><p>\u8FD9\u4E2A\u5C0F\u8282\u7684\u6807\u9898\u5B9A\u8BED\u91CC\u6709\u4E09\u4E2A\u5B57\u201C\u516C\u5143\u524D\u201D\uFF0C\u8FD9\u4E2A\u201C\u516C\u5143\u524D\u201D\u600E\u4E48\u5B9A\u4E49\u5462\uFF1F\u5176\u5B9E\u5B83\u8BF4\u7684\u5C31\u662FES\u6807\u51C6\u5185\u7F6E\u8FED\u4EE3\u5668\u4E4B\u524D\u7684\u90A3\u4E9B\u65E5\u5B50\u2014\u2014\u5DEE\u4E0D\u591A\u56DB\u4E94\u5E74\u4E4B\u524D\uFF0C\u5F7C\u65F6\u8FD8\u6CA1\u6709\u8FD9\u4E48\u591A\u8F6E\u5B50\uFF0C<code>jQuery</code>\u98CE\u5934\u6B63\u76DB\u3002\u5F53\u65F6\u9762\u8BD5\u53EF\u4E0D\u95EE\u4EC0\u4E48<code>Vue</code>\u539F\u7406\u3001<code>React</code>\u539F\u7406\u3001<code>Webpack</code>\u8FD9\u4E9B\uFF0C\u5F53\u65F6\u95EE\u7684\u6700\u591A\u7684\u662F<strong>\u4F60\u8BFB\u8FC7jQuery\u6E90\u7801\u5417</strong>\uFF1F\u7B54\u8BFB\u8FC7\uFF0C\u597D\uFF0C\u90A3\u54B1\u4EEC\u5C31\u6709\u7684\u804A\u4E86\u3002\u7B54\u6CA1\u6709\uFF1Ffine\uFF0C\u770B\u6765\u4F60\u53EA\u662F\u4E2A\u8C03\u5305\u4FA0\uFF0C\u56DE\u89C1\u5427\u2014\u2014\u56E0\u4E3A\u524D\u7AEF\u7684\u6280\u672F\u70B9\u5728\u90A3\u65F6\u8FD8\u5F88\u6709\u9650\uFF0C\u6240\u4EE5\u53EF\u8003\u5BDF\u7684\u4E1C\u897F\u4E5F\u5C31\u8FD9\u4E48\u70B9\uFF0C\u8BFBjQuery\u6E90\u7801\u7684\u7A0B\u5E8F\u5458\u548C\u4E0D\u8BFBjQuery\u6E90\u7801\u7684\u7A0B\u5E8F\u5458\u5728\u9762\u8BD5\u5B98\u773C\u91CC\u6709\u7740\u8D28\u7684\u533A\u522B\u3002\u4F46\u8FD9\u4E5F\u4ECE\u4E00\u4E2A\u4FA7\u9762\u53CD\u6620\u51FA\u6765\uFF0CjQuery\u8FD9\u4E2A\u5E93\u5176\u5B9E\u662F\u975E\u5E38\u4F18\u79C0\u7684\uFF0C\u81F3\u5C11jQuery\u91CC\u6709\u592A\u591A\u4F18\u79C0\u7684\u8BBE\u8BA1\u6A21\u5F0F\u53EF\u4EE5\u62FF\u6765\u8003\u8003\u4F60\u3002\u5C31\u5305\u62EC\u54B1\u4EEC\u5F53\u5E74\u60F3\u7528\u4E00\u4E2A\u771F\xB7\u8FED\u4EE3\u5668\u53C8\u4E0D\u60F3\u81EA\u5DF1\u641E\u7684\u65F6\u5019\uFF0C\u4E5F\u662F\u8BF7jQuery\u5B9E\u73B0\u7684\u8FED\u4EE3\u5668\u6765\u5E2E\u5FD9\uFF1A</p><p>\u9996\u5148\u6211\u4EEC\u8981\u5728\u9875\u9762\u91CC\u5F15\u5165jQuery\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  &lt;script src=&quot;https://cdn.bootcss.com/jquery/3.3.0/jquery.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u501F\u52A9<code>jQuery</code>\u7684<code>each</code>\u65B9\u6CD5\uFF0C\u6211\u4EEC\u53EF\u4EE5\u7528\u540C\u4E00\u5957\u904D\u5386\u89C4\u5219\u904D\u5386\u4E0D\u540C\u7684\u96C6\u5408\u5BF9\u8C61\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> aNodes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span>

$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u6570\u7EC4\u7684\u7B2C</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u4E2A\u5143\u7D20\u662F</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>aNodes<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> aNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">DOM\u7C7B\u6570\u7EC4\u7684\u7B2C</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u4E2A\u5143\u7D20\u662F</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>aNode<span class="token punctuation">.</span>innerText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u8F93\u51FA\u7ED3\u679C\u5B8C\u5168\u6CA1\u95EE\u9898\uFF1A</p><p><img src="https://user-gold-cdn.xitu.io/2019/4/5/169ec0943e93c3cd?w=653&amp;h=346&amp;f=png&amp;s=195823" alt="img"></p><p>\u5F53\u7136\u5566\uFF0C\u904D\u5386<code>jQuery</code>\u81EA\u5DF1\u7684\u96C6\u5408\u5BF9\u8C61\u4E5F\u4E0D\u5728\u8BDD\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> jQNodes <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span>
$<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>jQNodes<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> aNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">jQuery\u96C6\u5408\u7684\u7B2C</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u4E2A\u5143\u7D20\u662F</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>aNode<span class="token punctuation">.</span>innerText<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u8F93\u51FA\u7ED3\u679C\u4ECD\u7136\u6CA1\u95EE\u9898\uFF1A</p><p><img src="http://img-repo.poetries.top/images/20210327212836.png" alt="img"></p><blockquote><p>\u53EF\u4EE5\u770B\u51FA\uFF0C<code>jQuery</code>\u7684\u8FED\u4EE3\u5668\u4E3A\u6211\u4EEC\u7EDF\u4E00\u4E86\u4E0D\u540C\u7C7B\u578B\u96C6\u5408\u7684\u904D\u5386\u65B9\u5F0F\uFF0C\u4F7F\u6211\u4EEC\u5728\u8BBF\u95EE\u96C6\u5408\u5185\u6BCF\u4E00\u4E2A\u6210\u5458\u65F6\u4E0D\u7528\u53BB\u5173\u5FC3\u96C6\u5408\u672C\u8EAB\u7684\u5185\u90E8\u7ED3\u6784\u4EE5\u53CA\u96C6\u5408\u4E0E\u96C6\u5408\u95F4\u7684\u5DEE\u5F02\uFF0C\u8FD9\u5C31\u662F\u8FED\u4EE3\u5668\u5B58\u5728\u7684\u4EF7\u503C~</p></blockquote>`,27),G4n={id:"_9-2-es6\u5BF9\u8FED\u4EE3\u5668\u7684\u5B9E\u73B0",tabindex:"-1"},$4n=n("a",{class:"header-anchor",href:"#_9-2-es6\u5BF9\u8FED\u4EE3\u5668\u7684\u5B9E\u73B0","aria-hidden":"true"},"#",-1),X4n=s(),K4n={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_9-2-es6%E5%AF%B9%E8%BF%AD%E4%BB%A3%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0",target:"_blank",rel:"noopener noreferrer"},Q4n=s("#"),Y4n=s("9.2 ES6\u5BF9\u8FED\u4EE3\u5668\u7684\u5B9E\u73B0"),Z4n=t(`<p>\u5728\u201C\u516C\u5143\u524D\u201D\uFF0CJS\u539F\u751F\u7684\u96C6\u5408\u7C7B\u578B\u6570\u636E\u7ED3\u6784\uFF0C\u53EA\u6709<code>Array</code>\uFF08\u6570\u7EC4\uFF09\u548C<code>Object</code>\uFF08\u5BF9\u8C61\uFF09\uFF1B\u800C<code>ES6</code>\u4E2D\uFF0C\u53C8\u65B0\u589E\u4E86<code>Map</code>\u548C<code>Set</code>\u3002\u56DB\u79CD\u6570\u636E\u7ED3\u6784\u5404\u81EA\u6709\u7740\u81EA\u5DF1\u7279\u522B\u7684\u5185\u90E8\u5B9E\u73B0\uFF0C\u4F46\u6211\u4EEC\u4ECD\u671F\u5F85\u4EE5\u540C\u6837\u7684\u4E00\u5957\u89C4\u5219\u53BB\u904D\u5386\u5B83\u4EEC\uFF0C\u6240\u4EE5<code>ES6</code>\u5728\u63A8\u51FA\u65B0\u6570\u636E\u7ED3\u6784\u7684\u540C\u65F6\u4E5F\u63A8\u51FA\u4E86\u4E00\u5957<strong>\u7EDF\u4E00\u7684\u63A5\u53E3\u673A\u5236</strong>\u2014\u2014\u8FED\u4EE3\u5668\uFF08<code>Iterator</code>\uFF09\u3002</p><blockquote><p><code>ES6</code>\u7EA6\u5B9A\uFF0C\u4EFB\u4F55\u6570\u636E\u7ED3\u6784\u53EA\u8981\u5177\u5907<code>Symbol.iterator</code>\u5C5E\u6027\uFF08\u8FD9\u4E2A\u5C5E\u6027\u5C31\u662F<code>Iterator</code>\u7684\u5177\u4F53\u5B9E\u73B0\uFF0C\u5B83\u672C\u8D28\u4E0A\u662F\u5F53\u524D\u6570\u636E\u7ED3\u6784\u9ED8\u8BA4\u7684\u8FED\u4EE3\u5668\u751F\u6210\u51FD\u6570\uFF09\uFF0C\u5C31\u53EF\u4EE5\u88AB\u904D\u5386\u2014\u2014\u51C6\u786E\u5730\u8BF4\uFF0C\u662F\u88AB<code>for...of...</code>\u5FAA\u73AF\u548C\u8FED\u4EE3\u5668\u7684next\u65B9\u6CD5\u904D\u5386\u3002 \u4E8B\u5B9E\u4E0A\uFF0C<code>for...of...</code>\u7684\u80CC\u540E\u6B63\u662F\u5BF9<code>next</code>\u65B9\u6CD5\u7684\u53CD\u590D\u8C03\u7528\u3002</p></blockquote><p>\u5728ES6\u4E2D\uFF0C\u9488\u5BF9<code>Array</code>\u3001<code>Map</code>\u3001<code>Set</code>\u3001<code>String</code>\u3001<code>TypedArray</code>\u3001\u51FD\u6570\u7684 <code>arguments</code> \u5BF9\u8C61\u3001<code>NodeList</code> \u5BF9\u8C61\u8FD9\u4E9B\u539F\u751F\u7684\u6570\u636E\u7ED3\u6784\u90FD\u53EF\u4EE5\u901A\u8FC7<code>for...of...</code>\u8FDB\u884C\u904D\u5386\u3002\u539F\u7406\u90FD\u662F\u4E00\u6837\u7684\uFF0C\u6B64\u5904\u6211\u4EEC\u62FF\u6700\u7B80\u5355\u7684\u6570\u7EC4\u8FDB\u884C\u4E3E\u4F8B\uFF0C\u5F53\u6211\u4EEC\u7528<code>for...of...</code>\u904D\u5386\u6570\u7EC4\u65F6\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length
<span class="token keyword">for</span><span class="token punctuation">(</span>item <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u5F53\u524D\u5143\u7D20\u662F</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u4E4B\u6240\u4EE5\u80FD\u591F\u6309\u987A\u5E8F\u4E00\u6B21\u4E00\u6B21\u5730\u62FF\u5230\u6570\u7EC4\u91CC\u7684\u6BCF\u4E00\u4E2A\u6210\u5458\uFF0C\u662F\u56E0\u4E3A\u6211\u4EEC\u501F\u52A9\u6570\u7EC4\u7684<code>Symbol.iterator</code>\u751F\u6210\u4E86\u5B83\u5BF9\u5E94\u7684\u8FED\u4EE3\u5668\u5BF9\u8C61\uFF0C\u901A\u8FC7\u53CD\u590D\u8C03\u7528\u8FED\u4EE3\u5668\u5BF9\u8C61\u7684<code>next</code>\u65B9\u6CD5\u8BBF\u95EE\u4E86\u6570\u7EC4\u6210\u5458\uFF0C\u50CF\u8FD9\u6837\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token comment">// \u901A\u8FC7\u8C03\u7528iterator\uFF0C\u62FF\u5230\u8FED\u4EE3\u5668\u5BF9\u8C61</span>
<span class="token keyword">const</span> iterator <span class="token operator">=</span> arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u5BF9\u8FED\u4EE3\u5668\u5BF9\u8C61\u6267\u884Cnext\uFF0C\u5C31\u80FD\u9010\u4E2A\u8BBF\u95EE\u96C6\u5408\u7684\u6210\u5458</span>
iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u4E22\u8FDB\u63A7\u5236\u53F0\uFF0C\u6211\u4EEC\u53EF\u4EE5\u770B\u5230<code>next</code>\u6BCF\u6B21\u4F1A\u6309\u987A\u5E8F\u5E2E\u6211\u4EEC\u8BBF\u95EE\u4E00\u4E2A\u96C6\u5408\u6210\u5458\uFF1A</p><p><img src="http://img-repo.poetries.top/images/20210327213037.png" alt="img"></p><blockquote><p>\u800C<code>for...of...</code>\u505A\u7684\u4E8B\u60C5\uFF0C\u57FA\u672C\u7B49\u4EF7\u4E8E\u4E0B\u9762\u8FD9\u901A\u64CD\u4F5C\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u901A\u8FC7\u8C03\u7528iterator\uFF0C\u62FF\u5230\u8FED\u4EE3\u5668\u5BF9\u8C61</span>
<span class="token keyword">const</span> iterator <span class="token operator">=</span> arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// \u521D\u59CB\u5316\u4E00\u4E2A\u8FED\u4EE3\u7ED3\u679C</span>
<span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>

<span class="token comment">// \u5FAA\u73AF\u5F80\u5916\u8FED\u4EE3\u6210\u5458</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>now<span class="token punctuation">.</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    now <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>now<span class="token punctuation">.</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u73B0\u5728\u904D\u5386\u5230\u4E86</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>now<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>\u53EF\u4EE5\u770B\u51FA\uFF0C<code>for...of...</code>\u5176\u5B9E\u5C31\u662F<code>iterator</code>\u5FAA\u73AF\u8C03\u7528\u6362\u4E86\u79CD\u5199\u6CD5\u3002\u5728ES6\u4E2D\u6211\u4EEC\u4E4B\u6240\u4EE5\u80FD\u591F\u5F00\u5FC3\u5730\u7528<code>for...of...</code>\u904D\u5386\u5404\u79CD\u5404\u79CD\u7684\u96C6\u5408\uFF0C\u5168\u9760\u8FED\u4EE3\u5668\u6A21\u5F0F\u5728\u80CC\u540E\u7ED9\u529B\u3002</p></blockquote>`,11),nwn=s("ps\uFF1A\u6B64\u5904\u63A8\u8350\u9605\u8BFB"),swn={href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols",target:"_blank",rel:"noopener noreferrer"},awn=s("\u8FED\u4EE3\u534F\u8BAE (opens new window)"),ewn=s("\uFF0C\u76F8\u4FE1\u5927\u5BB6\u8BFB\u8FC7\u540E\u4F1A\u5BF9\u8FED\u4EE3\u5668\u5728ES6\u4E2D\u7684\u5B9E\u73B0\u6709\u66F4\u6DF1\u7684\u7406\u89E3\u3002"),twn={id:"_9-3-\u5B9E\u73B0\u4E00\u4E2A\u8FED\u4EE3\u5668\u751F\u6210\u51FD\u6570",tabindex:"-1"},pwn=n("a",{class:"header-anchor",href:"#_9-3-\u5B9E\u73B0\u4E00\u4E2A\u8FED\u4EE3\u5668\u751F\u6210\u51FD\u6570","aria-hidden":"true"},"#",-1),own=s(),cwn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_9-3-%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E8%BF%AD%E4%BB%A3%E5%99%A8%E7%94%9F%E6%88%90%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},lwn=s("#"),rwn=s("9.3 \u5B9E\u73B0\u4E00\u4E2A\u8FED\u4EE3\u5668\u751F\u6210\u51FD\u6570"),iwn=t(`<p>ok\uFF0C\u770B\u8FC7\u4E86\u8FED\u4EE3\u5668\u4ECE\u53E4\u81F3\u4ECA\u7684\u64CD\u4F5C\uFF0C\u6211\u4EEC\u4E00\u8D77\u6765\u5B9E\u73B0\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7684\u8FED\u4EE3\u5668\u3002</p><p>\u697C\u4E0A\u6211\u4EEC\u8BF4<strong>\u8FED\u4EE3\u5668\u5BF9\u8C61</strong>\u5168\u51ED<strong>\u8FED\u4EE3\u5668\u751F\u6210\u51FD\u6570</strong>\u5E2E\u6211\u4EEC\u751F\u6210\u3002\u5728<code>ES6</code>\u4E2D\uFF0C\u5B9E\u73B0\u4E00\u4E2A\u8FED\u4EE3\u5668\u751F\u6210\u51FD\u6570\u5E76\u4E0D\u662F\u4EC0\u4E48\u96BE\u4E8B\u513F\uFF0C\u56E0\u4E3AES6\u65E9\u5E2E\u6211\u4EEC\u8003\u8651\u597D\u4E86\u5168\u5957\u7684\u89E3\u51B3\u65B9\u6848\uFF0C\u5185\u7F6E\u4E86\u8D34\u5FC3\u7684<strong>\u751F\u6210\u5668</strong>\uFF08<code>Generator</code>\uFF09\u4F9B\u6211\u4EEC\u4F7F\u7528\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7F16\u5199\u4E00\u4E2A\u8FED\u4EE3\u5668\u751F\u6210\u51FD\u6570</span>
<span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">iteratorGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token string">&#39;1\u53F7\u9009\u624B&#39;</span>
    <span class="token keyword">yield</span> <span class="token string">&#39;2\u53F7\u9009\u624B&#39;</span>
    <span class="token keyword">yield</span> <span class="token string">&#39;3\u53F7\u9009\u624B&#39;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> iterator <span class="token operator">=</span> <span class="token function">iteratorGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>\u4E22\u8FDB\u63A7\u5236\u53F0\uFF0C\u4E0D\u8D1F\u4F17\u671B\uFF1A</p><p><img src="http://img-repo.poetries.top/images/20210327213223.png" alt="img"></p><p>\u5199\u4E00\u4E2A\u751F\u6210\u5668\u51FD\u6570\u5E76\u6CA1\u6709\u4EC0\u4E48\u96BE\u5EA6\uFF0C\u4F46\u5728\u9762\u8BD5\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u9762\u8BD5\u5B98\u5F80\u5F80\u5BF9\u751F\u6210\u5668\u8FD9\u79CD\u8BED\u6CD5\u7CD6\u80CC\u540E\u7684\u5B9E\u73B0\u903B\u8F91\u66F4\u611F\u5174\u8DA3\u3002\u4E0B\u9762\u6211\u4EEC\u8981\u505A\u7684\uFF0C\u4E0D\u4EC5\u4EC5\u662F\u5199\u4E00\u4E2A\u8FED\u4EE3\u5668\u5BF9\u8C61\uFF0C\u800C\u662F\u7528<code>ES5</code>\u53BB\u5199\u4E00\u4E2A\u80FD\u591F\u751F\u6210\u8FED\u4EE3\u5668\u5BF9\u8C61\u7684\u8FED\u4EE3\u5668\u751F\u6210\u51FD\u6570\uFF08\u89E3\u6790\u5728\u6CE8\u91CA\u91CC\uFF09\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B9A\u4E49\u751F\u6210\u5668\u51FD\u6570\uFF0C\u5165\u53C2\u662F\u4EFB\u610F\u96C6\u5408</span>
<span class="token keyword">function</span> <span class="token function">iteratorGenerator</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// idx\u8BB0\u5F55\u5F53\u524D\u8BBF\u95EE\u7684\u7D22\u5F15</span>
    <span class="token keyword">var</span> idx <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">// len\u8BB0\u5F55\u4F20\u5165\u96C6\u5408\u7684\u957F\u5EA6</span>
    <span class="token keyword">var</span> len <span class="token operator">=</span> list<span class="token punctuation">.</span>length
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u81EA\u5B9A\u4E49next\u65B9\u6CD5</span>
        <span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u5982\u679C\u7D22\u5F15\u8FD8\u6CA1\u6709\u8D85\u51FA\u96C6\u5408\u957F\u5EA6\uFF0Cdone\u4E3Afalse</span>
            <span class="token keyword">var</span> done <span class="token operator">=</span> idx <span class="token operator">&gt;=</span> len
            <span class="token comment">// \u5982\u679Cdone\u4E3Afalse\uFF0C\u5219\u53EF\u4EE5\u7EE7\u7EED\u53D6\u503C</span>
            <span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token operator">!</span>done <span class="token operator">?</span> list<span class="token punctuation">[</span>idx<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">undefined</span>
            
            <span class="token comment">// \u5C06\u5F53\u524D\u503C\u4E0E\u904D\u5386\u662F\u5426\u5B8C\u6BD5\uFF08done\uFF09\u8FD4\u56DE</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">done</span><span class="token operator">:</span> done<span class="token punctuation">,</span>
                <span class="token literal-property property">value</span><span class="token operator">:</span> value
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> iterator <span class="token operator">=</span> <span class="token function">iteratorGenerator</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;1\u53F7\u9009\u624B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2\u53F7\u9009\u624B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;3\u53F7\u9009\u624B&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>\u6B64\u5904\u4E3A\u4E86\u8BB0\u5F55\u6BCF\u6B21\u904D\u5386\u7684\u4F4D\u7F6E\uFF0C\u6211\u4EEC\u5B9E\u73B0\u4E86\u4E00\u4E2A\u95ED\u5305\uFF0C\u501F\u52A9\u81EA\u7531\u53D8\u91CF\u6765\u505A\u6211\u4EEC\u7684\u8FED\u4EE3\u8FC7\u7A0B\u4E2D\u7684\u201C\u6E38\u6807\u201D\u3002</p><p>\u8FD0\u884C\u4E00\u4E0B\u6211\u4EEC\u81EA\u5B9A\u4E49\u7684\u8FED\u4EE3\u5668\uFF0C\u7ED3\u679C\u7B26\u5408\u9884\u671F\uFF1A</p><p><img src="http://img-repo.poetries.top/images/20210327213700.png" alt="img"></p><p>\u8FED\u4EE3\u5668\u6A21\u5F0F\u6BD4\u8F83\u7279\u522B\uFF0C\u5B83\u975E\u5E38\u91CD\u8981\uFF0C\u91CD\u8981\u5230\u8BED\u8A00\u548C\u6846\u67B6\u90FD\u4E89\u7740\u62A2\u7740\u5E2E\u6211\u4EEC\u5B9E\u73B0\u3002\u4F46\u4E5F\u6B63\u56E0\u4E3A\u5982\u6B64\uFF0C\u5927\u5BB6\u4E1A\u52A1\u5F00\u53D1\u4E2D\u9700\u8981\u624B\u52A8\u5199\u8FED\u4EE3\u5668\u7684\u573A\u666F\u51E0\u4E4E\u6CA1\u6709\uFF0C\u6240\u4EE5\u5F88\u5C11\u6709\u540C\u5B66\u4F1A\u53BB\u523B\u610F\u7559\u610F\u8FED\u4EE3\u5668\u6A21\u5F0F\u3001\u601D\u8003\u5B83\u80CC\u540E\u7684\u5B9E\u73B0\u673A\u5236\u3002\u901A\u8FC7\u9605\u8BFB\u672C\u8282\uFF0C\u5E0C\u671B\u5927\u5BB6\u53EF\u4EE5\u9886\u7565\u8FED\u4EE3\u5668\u6A21\u5F0F\u7684\u5999\u5904\uFF08\u4E3A\u4EC0\u4E48\u4F1A\u6709\uFF0C\u4E3A\u4EC0\u4E48\u8981\u7528\uFF09\u548C\u8FED\u4EE3\u5668\u6A21\u5F0F\u7684\u5B9E\u73B0\u601D\u8DEF\uFF08\u65B9\u4FBF\u9762\u8BD5\uFF09\u3002</p>`,11),uwn={id:"_10-\u4E2D\u4ECB\u8005\u6A21\u5F0F",tabindex:"-1"},kwn=n("a",{class:"header-anchor",href:"#_10-\u4E2D\u4ECB\u8005\u6A21\u5F0F","aria-hidden":"true"},"#",-1),dwn=s(),bwn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_10-%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},mwn=s("#"),hwn=s("10 \u4E2D\u4ECB\u8005\u6A21\u5F0F"),_wn=t(`<blockquote><p>\u5B9A\u4E49\uFF1A\u5BF9\u8C61\u4E0E\u5BF9\u8C61\u4E4B\u95F4\u501F\u52A9\u7B2C\u4E09\u65B9\u4E2D\u4ECB\u8005\u901A\u4FE1</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Player</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>playerMiddle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PlayerMiddle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>playerMiddle<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">win</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>playerMiddle<span class="token punctuation">.</span><span class="token function">win</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">lose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>playerMiddle<span class="token punctuation">.</span><span class="token function">lose</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u4E2D\u4ECB\u8005</span>
<span class="token keyword">class</span> <span class="token class-name">PlayerMiddle</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>players <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>winArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>loseArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>players<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">win</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>winArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>winArr<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>loseArr<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>players<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">lose</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>loseArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>winArr<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>loseArr<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>players<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> winner <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>winArr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>winner <span class="token operator">+</span> <span class="token string">&#39;\u6311\u6218\u6210\u529F;&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> loser <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>loseArr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>loser <span class="token operator">+</span> <span class="token string">&#39;\u6311\u6218\u5931\u8D25;&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Player</span><span class="token punctuation">(</span><span class="token string">&#39;A \u9009\u624B&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Player</span><span class="token punctuation">(</span><span class="token string">&#39;B \u9009\u624B&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Player</span><span class="token punctuation">(</span><span class="token string">&#39;C \u9009\u624B&#39;</span><span class="token punctuation">)</span>

a<span class="token punctuation">.</span><span class="token function">win</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
b<span class="token punctuation">.</span><span class="token function">win</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
c<span class="token punctuation">.</span><span class="token function">lose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div>`,2),gwn={id:"_11-\u4EAB\u5143\u6A21\u5F0F",tabindex:"-1"},Ewn=n("a",{class:"header-anchor",href:"#_11-\u4EAB\u5143\u6A21\u5F0F","aria-hidden":"true"},"#",-1),fwn=s(),vwn={href:"http://interview.poetries.top/excellent-docs/15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#_11-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},wwn=s("#"),ywn=s("11 \u4EAB\u5143\u6A21\u5F0F"),xwn=t(`<blockquote><p>\u5B9A\u4E49\uFF1A\u4E00\u79CD\u4F18\u5316\u7A0B\u5E8F\u6027\u80FD\u7684\u6A21\u5F0F, \u672C\u8D28\u4E3A\u51CF\u5C11\u5BF9\u8C61\u521B\u5EFA\u7684\u4E2A\u6570\u3002</p></blockquote><p>\u4EE5\u4E0B\u60C5\u51B5\u53EF\u4EE5\u4F7F\u7528\u4EAB\u5143\u6A21\u5F0F</p><ol><li>\u6709\u5927\u91CF\u76F8\u4F3C\u7684\u5BF9\u8C61\uFF0C\u5360\u7528\u4E86\u5927\u91CF\u5185\u5B58</li><li>\u5BF9\u8C61\u4E2D\u5927\u90E8\u5206\u72B6\u6001\u53EF\u4EE5\u62BD\u79BB\u4E3A\u5916\u90E8\u72B6\u6001</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u9898\u76EE\uFF1A\u67D0\u5546\u5BB6\u6709 50 \u79CD\u7537\u6B3E\u5185\u8863\u548C 50 \u79CD\u6B3E\u5973\u6B3E\u5185\u8863, \u8981\u5C55\u793A\u5B83\u4EEC\uFF01</span>

<span class="token keyword">class</span> <span class="token class-name">Model</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">gender</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>gender <span class="token operator">=</span> gender
        <span class="token comment">// this.underwear = &#39;&#39;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">/* \u65B9\u6CD5\u4E00 */</span>
    <span class="token comment">// takePhoto() {</span>
    <span class="token comment">//     console.log(\`\${this.gender}\u7A7F\u7740\${this.underwear}\`)</span>
    <span class="token comment">// }</span>
    
   <span class="token comment">/* \u65B9\u6CD5\u4E8C */</span>
    <span class="token function">takePhoto</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>gender<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u7A7F\u7740</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\u6B3E\u8863\u670D</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>

<span class="token keyword">const</span> maleModel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Model</span><span class="token punctuation">(</span><span class="token string">&#39;male&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> femaleModel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Model</span><span class="token punctuation">(</span><span class="token string">&#39;female&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">51</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// maleModel.underwear = \`\u7B2C\${i}\u6B3E\u8863\u670D\`</span>
    <span class="token comment">// maleModel.takePhoto()</span>

    maleModel<span class="token punctuation">.</span><span class="token function">takePhoto</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">51</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// femaleModel.underwear = \`\u7B2C\${i}\u6B3E\u8863\u670D\`</span>
    <span class="token comment">// femaleModel.takePhoto()</span>

    maleModel<span class="token punctuation">.</span><span class="token function">takePhoto</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h1 id="_16-\u6846\u67B6\u901A\u8BC6" tabindex="-1"><a class="header-anchor" href="#_16-\u6846\u67B6\u901A\u8BC6" aria-hidden="true">#</a> 16 \u6846\u67B6\u901A\u8BC6</h1><h2 id="_1-mvvm" tabindex="-1"><a class="header-anchor" href="#_1-mvvm" aria-hidden="true">#</a> 1 MVVM</h2><blockquote><p><code>MVVM</code> \u7531\u4EE5\u4E0B\u4E09\u4E2A\u5185\u5BB9\u7EC4\u6210</p></blockquote><ul><li><code>View</code>\uFF1A\u754C\u9762</li><li><code>Model</code>\uFF1A\u6570\u636E\u6A21\u578B</li><li><code>ViewModel</code>\uFF1A\u4F5C\u4E3A\u6865\u6881\u8D1F\u8D23\u6C9F\u901A <code>View</code> \u548C <code>Model</code></li></ul><blockquote><p>\u5728 <code>JQuery</code> \u65F6\u671F\uFF0C\u5982\u679C\u9700\u8981\u5237\u65B0 <code>UI</code> \u65F6\uFF0C\u9700\u8981\u5148\u53D6\u5230\u5BF9\u5E94\u7684 <code>DOM</code> \u518D\u66F4\u65B0 <code>UI</code>\uFF0C\u8FD9\u6837\u6570\u636E\u548C\u4E1A\u52A1\u7684\u903B\u8F91\u5C31\u548C\u9875\u9762\u6709\u5F3A\u8026\u5408\u3002</p></blockquote><p>MVVM</p><p>\u5728 <code>MVVM</code> \u4E2D\uFF0C<code>UI</code> \u662F\u901A\u8FC7\u6570\u636E\u9A71\u52A8\u7684\uFF0C\u6570\u636E\u4E00\u65E6\u6539\u53D8\u5C31\u4F1A\u76F8\u5E94\u7684\u5237\u65B0\u5BF9\u5E94\u7684 <code>UI</code>\uFF0C<code>UI</code> \u5982\u679C\u6539\u53D8\uFF0C\u4E5F\u4F1A\u6539\u53D8\u5BF9\u5E94\u7684\u6570\u636E\u3002\u8FD9\u79CD\u65B9\u5F0F\u5C31\u53EF\u4EE5\u5728\u4E1A\u52A1\u5904\u7406\u4E2D\u53EA\u5173\u5FC3\u6570\u636E\u7684\u6D41\u8F6C\uFF0C\u800C\u65E0\u9700\u76F4\u63A5\u548C\u9875\u9762\u6253\u4EA4\u9053\u3002<code>ViewModel</code> \u53EA\u5173\u5FC3\u6570\u636E\u548C\u4E1A\u52A1\u7684\u5904\u7406\uFF0C\u4E0D\u5173\u5FC3 <code>View</code> \u5982\u4F55\u5904\u7406\u6570\u636E\uFF0C\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C<code>View</code> \u548C <code>Model</code> \u90FD\u53EF\u4EE5\u72EC\u7ACB\u51FA\u6765\uFF0C\u4EFB\u4F55\u4E00\u65B9\u6539\u53D8\u4E86\u4E5F\u4E0D\u4E00\u5B9A\u9700\u8981\u6539\u53D8\u53E6\u4E00\u65B9\uFF0C\u5E76\u4E14\u53EF\u4EE5\u5C06\u4E00\u4E9B\u53EF\u590D\u7528\u7684\u903B\u8F91\u653E\u5728\u4E00\u4E2A <code>ViewModel</code> \u4E2D\uFF0C\u8BA9\u591A\u4E2A <code>View</code>\u590D\u7528\u8FD9\u4E2A <code>ViewModel</code>\u3002</p><ul><li>\u5728 <code>MVVM</code> \u4E2D\uFF0C\u6700\u6838\u5FC3\u7684\u4E5F\u5C31\u662F\u6570\u636E\u53CC\u5411\u7ED1\u5B9A\uFF0C\u4F8B\u5982 <code>Angluar</code> \u7684\u810F\u6570\u636E\u68C0\u6D4B\uFF0C<code>Vue</code> \u4E2D\u7684\u6570\u636E\u52AB\u6301\u3002</li></ul><p><strong>\u810F\u6570\u636E\u68C0\u6D4B</strong></p><blockquote><p>\u5F53\u89E6\u53D1\u4E86\u6307\u5B9A\u4E8B\u4EF6\u540E\u4F1A\u8FDB\u5165\u810F\u6570\u636E\u68C0\u6D4B\uFF0C\u8FD9\u65F6\u4F1A\u8C03\u7528 <code>$digest</code> \u5FAA\u73AF\u904D\u5386\u6240\u6709\u7684\u6570\u636E\u89C2\u5BDF\u8005\uFF0C\u5224\u65AD\u5F53\u524D\u503C\u662F\u5426\u548C\u5148\u524D\u7684\u503C\u6709\u533A\u522B\uFF0C\u5982\u679C\u68C0\u6D4B\u5230\u53D8\u5316\u7684\u8BDD\uFF0C\u4F1A\u8C03\u7528 <code>$watch</code> \u51FD\u6570\uFF0C\u7136\u540E\u518D\u6B21\u8C03\u7528 <code>$digest</code> \u5FAA\u73AF\u76F4\u5230\u53D1\u73B0\u6CA1\u6709\u53D8\u5316\u3002\u5FAA\u73AF\u81F3\u5C11\u4E3A\u4E8C\u6B21 \uFF0C\u81F3\u591A\u4E3A\u5341\u6B21\u3002</p></blockquote><blockquote><p>\u810F\u6570\u636E\u68C0\u6D4B\u867D\u7136\u5B58\u5728\u4F4E\u6548\u7684\u95EE\u9898\uFF0C\u4F46\u662F\u4E0D\u5173\u5FC3\u6570\u636E\u662F\u901A\u8FC7\u4EC0\u4E48\u65B9\u5F0F\u6539\u53D8\u7684\uFF0C\u90FD\u53EF\u4EE5\u5B8C\u6210\u4EFB\u52A1\uFF0C\u4F46\u662F\u8FD9\u5728 <code>Vue</code> \u4E2D\u7684\u53CC\u5411\u7ED1\u5B9A\u662F\u5B58\u5728\u95EE\u9898\u7684\u3002\u5E76\u4E14\u810F\u6570\u636E\u68C0\u6D4B\u53EF\u4EE5\u5B9E\u73B0\u6279\u91CF\u68C0\u6D4B\u51FA\u66F4\u65B0\u7684\u503C\uFF0C\u518D\u53BB\u7EDF\u4E00\u66F4\u65B0 <code>UI</code>\uFF0C\u5927\u5927\u51CF\u5C11\u4E86\u64CD\u4F5C <code>DOM</code> \u7684\u6B21\u6570\u3002\u6240\u4EE5\u4F4E\u6548\u4E5F\u662F\u76F8\u5BF9\u7684\uFF0C\u8FD9\u5C31\u4EC1\u8005\u89C1\u4EC1\u667A\u8005\u89C1\u667A\u4E86\u3002</p></blockquote><p><strong>\u6570\u636E\u52AB\u6301</strong></p><blockquote><p><code>Vue</code> \u5185\u90E8\u4F7F\u7528\u4E86 <code>Object.defineProperty()</code> \u6765\u5B9E\u73B0\u53CC\u5411\u7ED1\u5B9A\uFF0C\u901A\u8FC7\u8FD9\u4E2A\u51FD\u6570\u53EF\u4EE5\u76D1\u542C\u5230 <code>set</code> \u548C <code>get</code> \u7684\u4E8B\u4EF6\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;yck&#39;</span> <span class="token punctuation">}</span>
<span class="token function">observe</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> data<span class="token punctuation">.</span>name <span class="token comment">// -&gt; get value</span>
data<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;yyy&#39;</span> <span class="token comment">// -&gt; change value</span>

<span class="token keyword">function</span> <span class="token function">observe</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5224\u65AD\u7C7B\u578B</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>obj <span class="token operator">||</span> <span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">defineReactive</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u9012\u5F52\u5B50\u5C5E\u6027</span>
  <span class="token function">observe</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveGetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;get value&#39;</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> val
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveSetter</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;change value&#39;</span><span class="token punctuation">)</span>
      val <span class="token operator">=</span> newVal
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u4EE3\u7801\u7B80\u5355\u7684\u5B9E\u73B0\u4E86\u5982\u4F55\u76D1\u542C\u6570\u636E\u7684 <code>set</code> \u548C <code>get</code> \u7684\u4E8B\u4EF6\uFF0C\u4F46\u662F\u4EC5\u4EC5\u5982\u6B64\u662F\u4E0D\u591F\u7684\uFF0C\u8FD8\u9700\u8981\u5728\u9002\u5F53\u7684\u65F6\u5019\u7ED9\u5C5E\u6027\u6DFB\u52A0\u53D1\u5E03\u8BA2\u9605</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    {{name}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>\u5728\u89E3\u6790\u5982\u4E0A\u6A21\u677F\u4EE3\u7801\u65F6\uFF0C\u9047\u5230 <code>{name}</code> \u5C31\u4F1A\u7ED9\u5C5E\u6027 <code>name</code> \u6DFB\u52A0\u53D1\u5E03\u8BA2\u9605\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u901A\u8FC7 Dep \u89E3\u8026</span>
<span class="token keyword">class</span> <span class="token class-name">Dep</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">addSub</span><span class="token punctuation">(</span><span class="token parameter">sub</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// sub \u662F Watcher \u5B9E\u4F8B</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">sub</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      sub<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u5168\u5C40\u5C5E\u6027\uFF0C\u901A\u8FC7\u8BE5\u5C5E\u6027\u914D\u7F6E Watcher</span>
Dep<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">null</span>

<span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> value
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Watcher</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5C06 Dep.target \u6307\u5411\u81EA\u5DF1</span>
    <span class="token comment">// \u7136\u540E\u89E6\u53D1\u5C5E\u6027\u7684 getter \u6DFB\u52A0\u76D1\u542C</span>
    <span class="token comment">// \u6700\u540E\u5C06 Dep.target \u7F6E\u7A7A</span>
    Dep<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cb <span class="token operator">=</span> cb
    <span class="token keyword">this</span><span class="token punctuation">.</span>obj <span class="token operator">=</span> obj
    <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    Dep<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
  <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u83B7\u5F97\u65B0\u503C</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">]</span>
    <span class="token comment">// \u8C03\u7528 update \u65B9\u6CD5\u66F4\u65B0 Dom</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">cb</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;yck&#39;</span> <span class="token punctuation">}</span>
<span class="token function">observe</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token comment">// \u6A21\u62DF\u89E3\u6790\u5230 \`{{name}}\` \u89E6\u53D1\u7684\u64CD\u4F5C</span>
<span class="token keyword">new</span> <span class="token class-name">Watcher</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> update<span class="token punctuation">)</span>
<span class="token comment">// update Dom innerText</span>
data<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;yyy&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><blockquote><p>\u63A5\u4E0B\u6765,\u5BF9 <code>defineReactive</code> \u51FD\u6570\u8FDB\u884C\u6539\u9020</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u9012\u5F52\u5B50\u5C5E\u6027</span>
  <span class="token function">observe</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  <span class="token keyword">let</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveGetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;get value&#39;</span><span class="token punctuation">)</span>
      <span class="token comment">// \u5C06 Watcher \u6DFB\u52A0\u5230\u8BA2\u9605</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Dep<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        dp<span class="token punctuation">.</span><span class="token function">addSub</span><span class="token punctuation">(</span>Dep<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> val
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveSetter</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;change value&#39;</span><span class="token punctuation">)</span>
      val <span class="token operator">=</span> newVal
      <span class="token comment">// \u6267\u884C watcher \u7684 update \u65B9\u6CD5</span>
      dp<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u5B9E\u73B0\u4E86\u4E00\u4E2A\u7B80\u6613\u7684\u53CC\u5411\u7ED1\u5B9A\uFF0C\u6838\u5FC3\u601D\u8DEF\u5C31\u662F\u624B\u52A8\u89E6\u53D1\u4E00\u6B21\u5C5E\u6027\u7684 <code>getter</code> \u6765\u5B9E\u73B0\u53D1\u5E03\u8BA2\u9605\u7684\u6DFB\u52A0</p></blockquote><p><strong>Proxy \u4E0E Object.defineProperty \u5BF9\u6BD4</strong></p><blockquote><p><code>Object.defineProperty</code> \u867D\u7136\u5DF2\u7ECF\u80FD\u591F\u5B9E\u73B0\u53CC\u5411\u7ED1\u5B9A\u4E86\uFF0C\u4F46\u662F\u4ED6\u8FD8\u662F\u6709\u7F3A\u9677\u7684\u3002</p></blockquote><ul><li>\u53EA\u80FD\u5BF9\u5C5E\u6027\u8FDB\u884C\u6570\u636E\u52AB\u6301\uFF0C\u6240\u4EE5\u9700\u8981\u6DF1\u5EA6\u904D\u5386\u6574\u4E2A\u5BF9\u8C61 \u5BF9\u4E8E\u6570\u7EC4\u4E0D\u80FD\u76D1\u542C\u5230\u6570\u636E\u7684\u53D8\u5316</li><li>\u867D\u7136 <code>Vue</code> \u4E2D\u786E\u5B9E\u80FD\u68C0\u6D4B\u5230\u6570\u7EC4\u6570\u636E\u7684\u53D8\u5316\uFF0C\u4F46\u662F\u5176\u5B9E\u662F\u4F7F\u7528\u4E86 <code>hack</code>\u7684\u529E\u6CD5\uFF0C\u5E76\u4E14\u4E5F\u662F\u6709\u7F3A\u9677\u7684\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> arrayProto <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype
<span class="token keyword">export</span> <span class="token keyword">const</span> arrayMethods <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>arrayProto<span class="token punctuation">)</span>
<span class="token comment">// hack \u4EE5\u4E0B\u51E0\u4E2A\u51FD\u6570</span>
<span class="token keyword">const</span> methodsToPatch <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">&#39;push&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;pop&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;shift&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;unshift&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;splice&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;sort&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;reverse&#39;</span>
<span class="token punctuation">]</span>
methodsToPatch<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">method</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u83B7\u5F97\u539F\u751F\u51FD\u6570</span>
  <span class="token keyword">const</span> original <span class="token operator">=</span> arrayProto<span class="token punctuation">[</span>method<span class="token punctuation">]</span>
  <span class="token function">def</span><span class="token punctuation">(</span>arrayMethods<span class="token punctuation">,</span> method<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">mutator</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8C03\u7528\u539F\u751F\u51FD\u6570</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">original</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token keyword">const</span> ob <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>__ob__
    <span class="token keyword">let</span> inserted
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>method<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&#39;push&#39;</span><span class="token operator">:</span>
      <span class="token keyword">case</span> <span class="token string">&#39;unshift&#39;</span><span class="token operator">:</span>
        inserted <span class="token operator">=</span> args
        <span class="token keyword">break</span>
      <span class="token keyword">case</span> <span class="token string">&#39;splice&#39;</span><span class="token operator">:</span>
        inserted <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>inserted<span class="token punctuation">)</span> ob<span class="token punctuation">.</span><span class="token function">observeArray</span><span class="token punctuation">(</span>inserted<span class="token punctuation">)</span>
    <span class="token comment">// \u89E6\u53D1\u66F4\u65B0</span>
    ob<span class="token punctuation">.</span>dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><blockquote><p>\u53CD\u89C2 <code>Proxy</code>\u5C31\u6CA1\u4EE5\u4E0A\u7684\u95EE\u9898\uFF0C\u539F\u751F\u652F\u6301\u76D1\u542C\u6570\u7EC4\u53D8\u5316\uFF0C\u5E76\u4E14\u53EF\u4EE5\u76F4\u63A5\u5BF9\u6574\u4E2A\u5BF9\u8C61\u8FDB\u884C\u62E6\u622A\uFF0C\u6240\u4EE5 <code>Vue</code> \u4E5F\u5C06\u5728\u4E0B\u4E2A\u5927\u7248\u672C\u4E2D\u4F7F\u7528 <code>Proxy</code> \u66FF\u6362 <code>Object.defineProperty</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">onWatch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> setBind<span class="token punctuation">,</span> getLogger</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">getLogger</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">)</span>
      <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setBind</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> value
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token function">onWatch</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  value <span class="token operator">=</span> v
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> property</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Get &#39;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>property<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39; = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>target<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">// bind \`value\` to \`2\`</span>
p<span class="token punctuation">.</span>a <span class="token comment">// -&gt; Get &#39;a&#39; = 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div>`,31),Awn={id:"_2-\u8DEF\u7531\u539F\u7406",tabindex:"-1"},Bwn=n("a",{class:"header-anchor",href:"#_2-\u8DEF\u7531\u539F\u7406","aria-hidden":"true"},"#",-1),qwn=s(),jwn={href:"http://interview.poetries.top/excellent-docs/16-%E6%A1%86%E6%9E%B6%E9%80%9A%E8%AF%86.html#_2-%E8%B7%AF%E7%94%B1%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},Swn=s("#"),Cwn=s("2 \u8DEF\u7531\u539F\u7406"),Dwn=t('<blockquote><p>\u524D\u7AEF\u8DEF\u7531\u5B9E\u73B0\u8D77\u6765\u5176\u5B9E\u5F88\u7B80\u5355\uFF0C\u672C\u8D28\u5C31\u662F\u76D1\u542C <code>URL</code> \u7684\u53D8\u5316\uFF0C\u7136\u540E\u5339\u914D\u8DEF\u7531\u89C4\u5219\uFF0C\u663E\u793A\u76F8\u5E94\u7684\u9875\u9762\uFF0C\u5E76\u4E14\u65E0\u987B\u5237\u65B0\u3002\u76EE\u524D\u5355\u9875\u9762\u4F7F\u7528\u7684\u8DEF\u7531\u5C31\u53EA\u6709\u4E24\u79CD\u5B9E\u73B0\u65B9\u5F0F</p></blockquote><ul><li><code>hash</code> \u6A21\u5F0F</li><li><code>history</code> \u6A21\u5F0F</li></ul><blockquote><p><code>www.test.com/##/</code> \u5C31\u662F <code>Hash URL</code>\uFF0C\u5F53 <code>##</code> \u540E\u9762\u7684\u54C8\u5E0C\u503C\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u4E0D\u4F1A\u5411\u670D\u52A1\u5668\u8BF7\u6C42\u6570\u636E\uFF0C\u53EF\u4EE5\u901A\u8FC7 <code>hashchange</code> \u4E8B\u4EF6\u6765\u76D1\u542C\u5230 <code>URL</code> \u7684\u53D8\u5316\uFF0C\u4ECE\u800C\u8FDB\u884C\u8DF3\u8F6C\u9875\u9762\u3002</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/09/99.png" alt="img"></p><blockquote><p><code>History</code>\u6A21\u5F0F\u662F <code>HTML5</code> \u65B0\u63A8\u51FA\u7684\u529F\u80FD\uFF0C\u6BD4\u4E4B <code>Hash URL</code> \u66F4\u52A0\u7F8E\u89C2</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/09/100.png" alt="img"></p>',6),Fwn={id:"_3-virtual-dom",tabindex:"-1"},Pwn=n("a",{class:"header-anchor",href:"#_3-virtual-dom","aria-hidden":"true"},"#",-1),Twn=s(),Nwn={href:"http://interview.poetries.top/excellent-docs/16-%E6%A1%86%E6%9E%B6%E9%80%9A%E8%AF%86.html#_3-virtual-dom",target:"_blank",rel:"noopener noreferrer"},Mwn=s("#"),Own=s("3 Virtual Dom"),Iwn=t(`<p><strong>\u4E3A\u4EC0\u4E48\u9700\u8981 Virtual Dom</strong></p><blockquote><p>\u4F17\u6240\u5468\u77E5\uFF0C\u64CD\u4F5C <code>DOM</code> \u662F\u5F88\u8017\u8D39\u6027\u80FD\u7684\u4E00\u4EF6\u4E8B\u60C5\uFF0C\u65E2\u7136\u5982\u6B64\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8003\u8651\u901A\u8FC7 <code>JS</code> \u5BF9\u8C61\u6765\u6A21\u62DF <code>DOM</code> \u5BF9\u8C61\uFF0C\u6BD5\u7ADF\u64CD\u4F5C <code>JS</code> \u5BF9\u8C61\u6BD4\u64CD\u4F5C <code>DOM</code> \u7701\u65F6\u7684\u591A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5047\u8BBE\u8FD9\u91CC\u6A21\u62DF\u4E00\u4E2A ul\uFF0C\u5176\u4E2D\u5305\u542B\u4E86 5 \u4E2A li</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token comment">// \u8FD9\u91CC\u66FF\u6362\u4E0A\u9762\u7684 li</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>\u4ECE\u4E0A\u8FF0\u4F8B\u5B50\u4E2D\uFF0C\u6211\u4EEC\u4E00\u773C\u5C31\u53EF\u4EE5\u770B\u51FA\u5148\u524D\u7684 <code>ul</code> \u4E2D\u7684\u7B2C\u4E09\u4E2A <code>li</code> \u88AB\u79FB\u9664\u4E86\uFF0C\u56DB\u4E94\u66FF\u6362\u4E86\u4F4D\u7F6E\u3002</p></blockquote><ul><li>\u5982\u679C\u4EE5\u4E0A\u64CD\u4F5C\u5BF9\u5E94\u5230 <code>DOM</code> \u4E2D\uFF0C\u90A3\u4E48\u5C31\u662F\u4EE5\u4E0B\u4EE3\u7801</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5220\u9664\u7B2C\u4E09\u4E2A li</span>
ul<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// \u5C06\u7B2C\u56DB\u4E2A li \u548C\u7B2C\u4E94\u4E2A\u4EA4\u6362\u4F4D\u7F6E</span>
<span class="token keyword">let</span> fromNode <span class="token operator">=</span> ul<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> toNode <span class="token operator">=</span> node<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> cloneFromNode <span class="token operator">=</span> fromNode<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> cloenToNode <span class="token operator">=</span> toNode<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
ul<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>cloneFromNode<span class="token punctuation">,</span> toNode<span class="token punctuation">)</span>
ul<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>cloenToNode<span class="token punctuation">,</span> fromNode<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>\u5F53\u7136\u5728\u5B9E\u9645\u64CD\u4F5C\u4E2D\uFF0C\u6211\u4EEC\u8FD8\u9700\u8981\u7ED9\u6BCF\u4E2A\u8282\u70B9\u4E00\u4E2A\u6807\u8BC6\uFF0C\u4F5C\u4E3A\u5224\u65AD\u662F\u540C\u4E00\u4E2A\u8282\u70B9\u7684\u4F9D\u636E\u3002\u6240\u4EE5\u8FD9\u4E5F\u662F <code>Vue</code> \u548C <code>React</code> \u4E2D\u5B98\u65B9\u63A8\u8350\u5217\u8868\u91CC\u7684\u8282\u70B9\u4F7F\u7528\u552F\u4E00\u7684 <code>key</code> \u6765\u4FDD\u8BC1\u6027\u80FD\u3002</p></blockquote><ul><li>\u90A3\u4E48\u65E2\u7136 <code>DOM</code> \u5BF9\u8C61\u53EF\u4EE5\u901A\u8FC7 <code>JS</code> \u5BF9\u8C61\u6765\u6A21\u62DF\uFF0C\u53CD\u4E4B\u4E5F\u53EF\u4EE5\u901A\u8FC7 <code>JS</code> \u5BF9\u8C61\u6765\u6E32\u67D3\u51FA\u5BF9\u5E94\u7684 <code>DOM</code></li><li>\u4EE5\u4E0B\u662F\u4E00\u4E2A <code>JS</code> \u5BF9\u8C61\u6A21\u62DF <code>DOM</code> \u5BF9\u8C61\u7684\u7B80\u5355\u5B9E\u73B0</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Element</span> <span class="token punctuation">{</span>
  <span class="token doc-comment comment">/**
   * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>String<span class="token punctuation">}</span></span> <span class="token parameter">tag</span> &#39;div&#39;
   * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Object<span class="token punctuation">}</span></span> <span class="token parameter">props</span> <span class="token punctuation">{</span> class: &#39;item&#39; <span class="token punctuation">}</span>
   * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Array<span class="token punctuation">}</span></span> <span class="token parameter">children</span> [ Element1, &#39;text&#39;]
   * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>String<span class="token punctuation">}</span></span> <span class="token parameter">key</span> option
   */</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span> props<span class="token punctuation">,</span> children<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tag <span class="token operator">=</span> tag
    <span class="token keyword">this</span><span class="token punctuation">.</span>props <span class="token operator">=</span> props
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>children<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>children <span class="token operator">=</span> children
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isString</span><span class="token punctuation">(</span>children<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> children
      <span class="token keyword">this</span><span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key
  <span class="token punctuation">}</span>
  <span class="token comment">// \u6E32\u67D3</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> root <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_createElement</span><span class="token punctuation">(</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>tag<span class="token punctuation">,</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">,</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>children<span class="token punctuation">,</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>key
    <span class="token punctuation">)</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span>
    <span class="token keyword">return</span> root
  <span class="token punctuation">}</span>
  <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_createElement</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tag<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>children<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u521B\u5EFA\u8282\u70B9</span>
  <span class="token function">_createElement</span><span class="token punctuation">(</span><span class="token parameter">tag<span class="token punctuation">,</span> props<span class="token punctuation">,</span> child<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u901A\u8FC7 tag \u521B\u5EFA\u8282\u70B9</span>
    <span class="token keyword">let</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span>
    <span class="token comment">// \u8BBE\u7F6E\u8282\u70B9\u5C5E\u6027</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> value <span class="token operator">=</span> props<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
        el<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      el<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;key&#39;</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u9012\u5F52\u6DFB\u52A0\u5B50\u8282\u70B9</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>child<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      child<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">element</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> child
        <span class="token keyword">if</span> <span class="token punctuation">(</span>element <span class="token keyword">instanceof</span> <span class="token class-name">Element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          child <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_createElement</span><span class="token punctuation">(</span>
            element<span class="token punctuation">.</span>tag<span class="token punctuation">,</span>
            element<span class="token punctuation">.</span>props<span class="token punctuation">,</span>
            element<span class="token punctuation">.</span>children<span class="token punctuation">,</span>
            element<span class="token punctuation">.</span>key
          <span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          child <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> el
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div><p><strong>Virtual Dom \u7B97\u6CD5\u7B80\u8FF0</strong></p><ul><li>\u65E2\u7136\u6211\u4EEC\u5DF2\u7ECF\u901A\u8FC7 <code>JS</code> \u6765\u6A21\u62DF\u5B9E\u73B0\u4E86 <code>DOM</code>\uFF0C\u90A3\u4E48\u63A5\u4E0B\u6765\u7684\u96BE\u70B9\u5C31\u5728\u4E8E\u5982\u4F55\u5224\u65AD\u65E7\u7684\u5BF9\u8C61\u548C\u65B0\u7684\u5BF9\u8C61\u4E4B\u95F4\u7684\u5DEE\u5F02\u3002</li><li><code>DOM</code> \u662F\u591A\u53C9\u6811\u7684\u7ED3\u6784\uFF0C\u5982\u679C\u9700\u8981\u5B8C\u6574\u7684\u5BF9\u6BD4\u4E24\u9897\u6811\u7684\u5DEE\u5F02\uFF0C\u90A3\u4E48\u9700\u8981\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u4F1A\u662F <code>O(n ^ 3)</code>\uFF0C\u8FD9\u4E2A\u590D\u6742\u5EA6\u80AF\u5B9A\u662F\u4E0D\u80FD\u63A5\u53D7\u7684\u3002\u4E8E\u662F <code>React</code>\u56E2\u961F\u4F18\u5316\u4E86\u7B97\u6CD5\uFF0C\u5B9E\u73B0\u4E86 <code>O(n)</code> \u7684\u590D\u6742\u5EA6\u6765\u5BF9\u6BD4\u5DEE\u5F02\u3002</li><li>\u5B9E\u73B0<code>O(n)</code> \u590D\u6742\u5EA6\u7684\u5173\u952E\u5C31\u662F\u53EA\u5BF9\u6BD4\u540C\u5C42\u7684\u8282\u70B9\uFF0C\u800C\u4E0D\u662F\u8DE8\u5C42\u5BF9\u6BD4\uFF0C\u8FD9\u4E5F\u662F\u8003\u8651\u5230\u5728\u5B9E\u9645\u4E1A\u52A1\u4E2D\u5F88\u5C11\u4F1A\u53BB\u8DE8\u5C42\u7684\u79FB\u52A8 <code>DOM</code> \u5143\u7D20</li></ul><blockquote><p>\u6240\u4EE5\u5224\u65AD\u5DEE\u5F02\u7684\u7B97\u6CD5\u5C31\u5206\u4E3A\u4E86\u4E24\u6B65</p></blockquote><ul><li>\u9996\u5148\u4ECE\u4E0A\u81F3\u4E0B\uFF0C\u4ECE\u5DE6\u5F80\u53F3\u904D\u5386\u5BF9\u8C61\uFF0C\u4E5F\u5C31\u662F\u6811\u7684\u6DF1\u5EA6\u904D\u5386\uFF0C\u8FD9\u4E00\u6B65\u4E2D\u4F1A\u7ED9\u6BCF\u4E2A\u8282\u70B9\u6DFB\u52A0\u7D22\u5F15\uFF0C\u4FBF\u4E8E\u6700\u540E\u6E32\u67D3\u5DEE\u5F02</li><li>\u4E00\u65E6\u8282\u70B9\u6709\u5B50\u5143\u7D20\uFF0C\u5C31\u53BB\u5224\u65AD\u5B50\u5143\u7D20\u662F\u5426\u6709\u4E0D\u540C</li></ul><p><strong>Virtual Dom \u7B97\u6CD5\u5B9E\u73B0</strong></p><p><strong>\u6811\u7684\u9012\u5F52</strong></p><ul><li>\u9996\u5148\u6211\u4EEC\u6765\u5B9E\u73B0\u6811\u7684\u9012\u5F52\u7B97\u6CD5\uFF0C\u5728\u5B9E\u73B0\u8BE5\u7B97\u6CD5\u524D\uFF0C\u5148\u6765\u8003\u8651\u4E0B\u4E24\u4E2A\u8282\u70B9\u5BF9\u6BD4\u4F1A\u6709\u51E0\u79CD\u60C5\u51B5</li><li>\u65B0\u7684\u8282\u70B9\u7684 <code>tagName</code> \u6216\u8005 <code>key</code> \u548C\u65E7\u7684\u4E0D\u540C\uFF0C\u8FD9\u79CD\u60C5\u51B5\u4EE3\u8868\u9700\u8981\u66FF\u6362\u65E7\u7684\u8282\u70B9\uFF0C\u5E76\u4E14\u4E5F\u4E0D\u518D\u9700\u8981\u904D\u5386\u65B0\u65E7\u8282\u70B9\u7684\u5B50\u5143\u7D20\u4E86\uFF0C\u56E0\u4E3A\u6574\u4E2A\u65E7\u8282\u70B9\u90FD\u88AB\u5220\u6389\u4E86</li><li>\u65B0\u7684\u8282\u70B9\u7684 <code>tagName</code> \u548C <code>key</code>\uFF08\u53EF\u80FD\u90FD\u6CA1\u6709\uFF09\u548C\u65E7\u7684\u76F8\u540C\uFF0C\u5F00\u59CB\u904D\u5386\u5B50\u6811</li><li>\u6CA1\u6709\u65B0\u7684\u8282\u70B9\uFF0C\u90A3\u4E48\u4EC0\u4E48\u90FD\u4E0D\u7528\u505A</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> StateEnums<span class="token punctuation">,</span> isString<span class="token punctuation">,</span> move <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./util&#39;</span>
<span class="token keyword">import</span> Element <span class="token keyword">from</span> <span class="token string">&#39;./element&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">diff</span><span class="token punctuation">(</span><span class="token parameter">oldDomTree<span class="token punctuation">,</span> newDomTree</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u7528\u4E8E\u8BB0\u5F55\u5DEE\u5F02</span>
  <span class="token keyword">let</span> pathchs <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token comment">// \u4E00\u5F00\u59CB\u7684\u7D22\u5F15\u4E3A 0</span>
  <span class="token function">dfs</span><span class="token punctuation">(</span>oldDomTree<span class="token punctuation">,</span> newDomTree<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> pathchs<span class="token punctuation">)</span>
  <span class="token keyword">return</span> pathchs
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token parameter">oldNode<span class="token punctuation">,</span> newNode<span class="token punctuation">,</span> index<span class="token punctuation">,</span> patches</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u7528\u4E8E\u4FDD\u5B58\u5B50\u6811\u7684\u66F4\u6539</span>
  <span class="token keyword">let</span> curPatches <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token comment">// \u9700\u8981\u5224\u65AD\u4E09\u79CD\u60C5\u51B5</span>
  <span class="token comment">// 1.\u6CA1\u6709\u65B0\u7684\u8282\u70B9\uFF0C\u90A3\u4E48\u4EC0\u4E48\u90FD\u4E0D\u7528\u505A</span>
  <span class="token comment">// 2.\u65B0\u7684\u8282\u70B9\u7684 tagName \u548C \`key\` \u548C\u65E7\u7684\u4E0D\u540C\uFF0C\u5C31\u66FF\u6362</span>
  <span class="token comment">// 3.\u65B0\u7684\u8282\u70B9\u7684 tagName \u548C key\uFF08\u53EF\u80FD\u90FD\u6CA1\u6709\uFF09 \u548C\u65E7\u7684\u76F8\u540C\uFF0C\u5F00\u59CB\u904D\u5386\u5B50\u6811</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>newNode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>newNode<span class="token punctuation">.</span>tag <span class="token operator">===</span> oldNode<span class="token punctuation">.</span>tag <span class="token operator">&amp;&amp;</span> newNode<span class="token punctuation">.</span>key <span class="token operator">===</span> oldNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5224\u65AD\u5C5E\u6027\u662F\u5426\u53D8\u66F4</span>
    <span class="token keyword">let</span> props <span class="token operator">=</span> <span class="token function">diffProps</span><span class="token punctuation">(</span>oldNode<span class="token punctuation">.</span>props<span class="token punctuation">,</span> newNode<span class="token punctuation">.</span>props<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>length<span class="token punctuation">)</span> curPatches<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> StateEnums<span class="token punctuation">.</span>ChangeProps<span class="token punctuation">,</span> props <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// \u904D\u5386\u5B50\u6811</span>
    <span class="token function">diffChildren</span><span class="token punctuation">(</span>oldNode<span class="token punctuation">.</span>children<span class="token punctuation">,</span> newNode<span class="token punctuation">.</span>children<span class="token punctuation">,</span> index<span class="token punctuation">,</span> patches<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8282\u70B9\u4E0D\u540C\uFF0C\u9700\u8981\u66FF\u6362</span>
    curPatches<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> StateEnums<span class="token punctuation">.</span>Replace<span class="token punctuation">,</span> <span class="token literal-property property">node</span><span class="token operator">:</span> newNode <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>curPatches<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>patches<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      patches<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> patches<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>curPatches<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      patches<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> curPatches
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p><strong>\u5224\u65AD\u5C5E\u6027\u7684\u66F4\u6539</strong></p><blockquote><p>\u5224\u65AD\u5C5E\u6027\u7684\u66F4\u6539\u4E5F\u5206\u4E09\u4E2A\u6B65\u9AA4</p></blockquote><ul><li>\u904D\u5386\u65E7\u7684\u5C5E\u6027\u5217\u8868\uFF0C\u67E5\u770B\u6BCF\u4E2A\u5C5E\u6027\u662F\u5426\u8FD8\u5B58\u5728\u4E8E\u65B0\u7684\u5C5E\u6027\u5217\u8868\u4E2D</li><li>\u904D\u5386\u65B0\u7684\u5C5E\u6027\u5217\u8868\uFF0C\u5224\u65AD\u4E24\u4E2A\u5217\u8868\u4E2D\u90FD\u5B58\u5728\u7684\u5C5E\u6027\u7684\u503C\u662F\u5426\u6709\u53D8\u5316</li><li>\u5728\u7B2C\u4E8C\u6B65\u4E2D\u540C\u65F6\u67E5\u770B\u662F\u5426\u6709\u5C5E\u6027\u4E0D\u5B58\u5728\u4E0E\u65E7\u7684\u5C5E\u6027\u5217\u5217\u8868\u4E2D</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">diffProps</span><span class="token punctuation">(</span><span class="token parameter">oldProps<span class="token punctuation">,</span> newProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5224\u65AD Props \u5206\u4EE5\u4E0B\u4E09\u6B65\u9AA4</span>
  <span class="token comment">// \u5148\u904D\u5386 oldProps \u67E5\u770B\u662F\u5426\u5B58\u5728\u5220\u9664\u7684\u5C5E\u6027</span>
  <span class="token comment">// \u7136\u540E\u904D\u5386 newProps \u67E5\u770B\u662F\u5426\u6709\u5C5E\u6027\u503C\u88AB\u4FEE\u6539</span>
  <span class="token comment">// \u6700\u540E\u67E5\u770B\u662F\u5426\u6709\u5C5E\u6027\u65B0\u589E</span>
  <span class="token keyword">let</span> change <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> oldProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldProps<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>newProps<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      change<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">prop</span><span class="token operator">:</span> key
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> newProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>newProps<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> prop <span class="token operator">=</span> newProps<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>oldProps<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> oldProps<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">!==</span> newProps<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        change<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> key<span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> newProps<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>oldProps<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        change<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> key<span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> newProps<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> change
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p><strong>\u5224\u65AD\u5217\u8868\u5DEE\u5F02\u7B97\u6CD5\u5B9E\u73B0</strong></p><blockquote><p>\u8FD9\u4E2A\u7B97\u6CD5\u662F\u6574\u4E2A <code>Virtual Dom</code> \u4E2D\u6700\u6838\u5FC3\u7684\u7B97\u6CD5\uFF0C\u4E14\u8BA9\u6211\u4E00\u4E00\u4E3A\u4F60\u9053\u6765\u3002 \u8FD9\u91CC\u7684\u4E3B\u8981\u6B65\u9AA4\u5176\u5B9E\u548C\u5224\u65AD\u5C5E\u6027\u5DEE\u5F02\u662F\u7C7B\u4F3C\u7684\uFF0C\u4E5F\u662F\u5206\u4E3A\u4E09\u6B65</p></blockquote><ul><li>\u904D\u5386\u65E7\u7684\u8282\u70B9\u5217\u8868\uFF0C\u67E5\u770B\u6BCF\u4E2A\u8282\u70B9\u662F\u5426\u8FD8\u5B58\u5728\u4E8E\u65B0\u7684\u8282\u70B9\u5217\u8868\u4E2D</li><li>\u904D\u5386\u65B0\u7684\u8282\u70B9\u5217\u8868\uFF0C\u5224\u65AD\u662F\u5426\u6709\u65B0\u7684\u8282\u70B9</li><li>\u5728\u7B2C\u4E8C\u6B65\u4E2D\u540C\u65F6\u5224\u65AD\u8282\u70B9\u662F\u5426\u6709\u79FB\u52A8</li></ul><blockquote><p>PS\uFF1A\u8BE5\u7B97\u6CD5\u53EA\u5BF9\u6709 <code>key</code> \u7684\u8282\u70B9\u505A\u5904\u7406</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">listDiff</span><span class="token punctuation">(</span><span class="token parameter">oldList<span class="token punctuation">,</span> newList<span class="token punctuation">,</span> index<span class="token punctuation">,</span> patches</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u4E3A\u4E86\u904D\u5386\u65B9\u4FBF\uFF0C\u5148\u53D6\u51FA\u4E24\u4E2A list \u7684\u6240\u6709 keys</span>
  <span class="token keyword">let</span> oldKeys <span class="token operator">=</span> <span class="token function">getKeys</span><span class="token punctuation">(</span>oldList<span class="token punctuation">)</span>
  <span class="token keyword">let</span> newKeys <span class="token operator">=</span> <span class="token function">getKeys</span><span class="token punctuation">(</span>newList<span class="token punctuation">)</span>
  <span class="token keyword">let</span> changes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

  <span class="token comment">// \u7528\u4E8E\u4FDD\u5B58\u53D8\u66F4\u540E\u7684\u8282\u70B9\u6570\u636E</span>
  <span class="token comment">// \u4F7F\u7528\u8BE5\u6570\u7EC4\u4FDD\u5B58\u6709\u4EE5\u4E0B\u597D\u5904</span>
  <span class="token comment">// 1.\u53EF\u4EE5\u6B63\u786E\u83B7\u5F97\u88AB\u5220\u9664\u8282\u70B9\u7D22\u5F15</span>
  <span class="token comment">// 2.\u4EA4\u6362\u8282\u70B9\u4F4D\u7F6E\u53EA\u9700\u8981\u64CD\u4F5C\u4E00\u904D DOM</span>
  <span class="token comment">// 3.\u7528\u4E8E \`diffChildren\` \u51FD\u6570\u4E2D\u7684\u5224\u65AD\uFF0C\u53EA\u9700\u8981\u904D\u5386</span>
  <span class="token comment">// \u4E24\u4E2A\u6811\u4E2D\u90FD\u5B58\u5728\u7684\u8282\u70B9\uFF0C\u800C\u5BF9\u4E8E\u65B0\u589E\u6216\u8005\u5220\u9664\u7684\u8282\u70B9\u6765\u8BF4\uFF0C\u5B8C\u5168\u6CA1\u5FC5\u8981</span>
  <span class="token comment">// \u518D\u53BB\u5224\u65AD\u4E00\u904D</span>
  <span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  oldList <span class="token operator">&amp;&amp;</span>
    oldList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> key <span class="token operator">=</span> item<span class="token punctuation">.</span>key
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isString</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        key <span class="token operator">=</span> item
      <span class="token punctuation">}</span>
      <span class="token comment">// \u5BFB\u627E\u65B0\u7684 children \u4E2D\u662F\u5426\u542B\u6709\u5F53\u524D\u8282\u70B9</span>
      <span class="token comment">// \u6CA1\u6709\u7684\u8BDD\u9700\u8981\u5220\u9664</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> newKeys<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// \u904D\u5386\u53D8\u66F4\u540E\u7684\u6570\u7EC4</span>
  <span class="token keyword">let</span> length <span class="token operator">=</span> list<span class="token punctuation">.</span>length
  <span class="token comment">// \u56E0\u4E3A\u5220\u9664\u6570\u7EC4\u5143\u7D20\u662F\u4F1A\u66F4\u6539\u7D22\u5F15\u7684</span>
  <span class="token comment">// \u6240\u6709\u4ECE\u540E\u5F80\u524D\u5220\u53EF\u4EE5\u4FDD\u8BC1\u7D22\u5F15\u4E0D\u53D8</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5224\u65AD\u5F53\u524D\u5143\u7D20\u662F\u5426\u4E3A\u7A7A\uFF0C\u4E3A\u7A7A\u8868\u793A\u9700\u8981\u5220\u9664</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      list<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
      changes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> StateEnums<span class="token punctuation">.</span>Remove<span class="token punctuation">,</span>
        <span class="token literal-property property">index</span><span class="token operator">:</span> i
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u904D\u5386\u65B0\u7684 list\uFF0C\u5224\u65AD\u662F\u5426\u6709\u8282\u70B9\u65B0\u589E\u6216\u79FB\u52A8</span>
  <span class="token comment">// \u540C\u65F6\u4E5F\u5BF9 \`list\` \u505A\u8282\u70B9\u65B0\u589E\u548C\u79FB\u52A8\u8282\u70B9\u7684\u64CD\u4F5C</span>
  newList <span class="token operator">&amp;&amp;</span>
    newList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> key <span class="token operator">=</span> item<span class="token punctuation">.</span>key
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isString</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        key <span class="token operator">=</span> item
      <span class="token punctuation">}</span>
      <span class="token comment">// \u5BFB\u627E\u65E7\u7684 children \u4E2D\u662F\u5426\u542B\u6709\u5F53\u524D\u8282\u70B9</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
      <span class="token comment">// \u6CA1\u627E\u5230\u4EE3\u8868\u65B0\u8282\u70B9\uFF0C\u9700\u8981\u63D2\u5165</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> key <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        changes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> StateEnums<span class="token punctuation">.</span>Insert<span class="token punctuation">,</span>
          <span class="token literal-property property">node</span><span class="token operator">:</span> item<span class="token punctuation">,</span>
          <span class="token literal-property property">index</span><span class="token operator">:</span> i
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        list<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u627E\u5230\u4E86\uFF0C\u9700\u8981\u5224\u65AD\u662F\u5426\u9700\u8981\u79FB\u52A8</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!==</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          changes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> StateEnums<span class="token punctuation">.</span>Move<span class="token punctuation">,</span>
            <span class="token literal-property property">from</span><span class="token operator">:</span> index<span class="token punctuation">,</span>
            <span class="token literal-property property">to</span><span class="token operator">:</span> i
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token function">move</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> index<span class="token punctuation">,</span> i<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> changes<span class="token punctuation">,</span> list <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getKeys</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> keys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">let</span> text
  list <span class="token operator">&amp;&amp;</span>
    list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> key
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isString</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        key <span class="token operator">=</span> <span class="token punctuation">[</span>item<span class="token punctuation">]</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token keyword">instanceof</span> <span class="token class-name">Element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        key <span class="token operator">=</span> item<span class="token punctuation">.</span>key
      <span class="token punctuation">}</span>
      keys<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> keys
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br></div></div><p><strong>\u904D\u5386\u5B50\u5143\u7D20\u6253\u6807\u8BC6</strong></p><blockquote><p>\u5BF9\u4E8E\u8FD9\u4E2A\u51FD\u6570\u6765\u8BF4\uFF0C\u4E3B\u8981\u529F\u80FD\u5C31\u4E24\u4E2A</p></blockquote><ul><li>\u5224\u65AD\u4E24\u4E2A\u5217\u8868\u5DEE\u5F02 <ul><li>\u7ED9\u8282\u70B9\u6253\u4E0A\u6807\u8BB0</li><li>\u603B\u4F53\u6765\u8BF4\uFF0C\u8BE5\u51FD\u6570\u5B9E\u73B0\u7684\u529F\u80FD\u5F88\u7B80\u5355</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">diffChildren</span><span class="token punctuation">(</span><span class="token parameter">oldChild<span class="token punctuation">,</span> newChild<span class="token punctuation">,</span> index<span class="token punctuation">,</span> patches</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token punctuation">{</span> changes<span class="token punctuation">,</span> list <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">listDiff</span><span class="token punctuation">(</span>oldChild<span class="token punctuation">,</span> newChild<span class="token punctuation">,</span> index<span class="token punctuation">,</span> patches<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>changes<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>patches<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      patches<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> patches<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>changes<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      patches<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> changes
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u8BB0\u5F55\u4E0A\u4E00\u4E2A\u904D\u5386\u8FC7\u7684\u8282\u70B9</span>
  <span class="token keyword">let</span> last <span class="token operator">=</span> <span class="token keyword">null</span>
  oldChild <span class="token operator">&amp;&amp;</span>
    oldChild<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> child <span class="token operator">=</span> item <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>children
      <span class="token keyword">if</span> <span class="token punctuation">(</span>child<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        index <span class="token operator">=</span>
          last <span class="token operator">&amp;&amp;</span> last<span class="token punctuation">.</span>children <span class="token operator">?</span> index <span class="token operator">+</span> last<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">:</span> index <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">let</span> keyIndex <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>key<span class="token punctuation">)</span>
        <span class="token keyword">let</span> node <span class="token operator">=</span> newChild<span class="token punctuation">[</span>keyIndex<span class="token punctuation">]</span>
        <span class="token comment">// \u53EA\u904D\u5386\u65B0\u65E7\u4E2D\u90FD\u5B58\u5728\u7684\u8282\u70B9\uFF0C\u5176\u4ED6\u65B0\u589E\u6216\u8005\u5220\u9664\u7684\u6CA1\u5FC5\u8981\u904D\u5386</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">dfs</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> node<span class="token punctuation">,</span> index<span class="token punctuation">,</span> patches<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> index <span class="token operator">+=</span> <span class="token number">1</span>
      last <span class="token operator">=</span> item
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><strong>\u6E32\u67D3\u5DEE\u5F02</strong></p><blockquote><p>\u901A\u8FC7\u4E4B\u524D\u7684\u7B97\u6CD5\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u53EF\u4EE5\u5F97\u51FA\u4E24\u4E2A\u6811\u7684\u5DEE\u5F02\u4E86\u3002\u65E2\u7136\u77E5\u9053\u4E86\u5DEE\u5F02\uFF0C\u5C31\u9700\u8981\u5C40\u90E8\u53BB\u66F4\u65B0 <code>DOM</code> \u4E86\uFF0C\u4E0B\u9762\u5C31\u8BA9\u6211\u4EEC\u6765\u770B\u770B <code>Virtual Dom</code> \u7B97\u6CD5\u7684\u6700\u540E\u4E00\u6B65\u9AA4</p></blockquote><p><strong>\u8FD9\u4E2A\u51FD\u6570\u4E3B\u8981\u4E24\u4E2A\u529F\u80FD</strong></p><ul><li>\u6DF1\u5EA6\u904D\u5386\u6811\uFF0C\u5C06\u9700\u8981\u505A\u53D8\u66F4\u64CD\u4F5C\u7684\u53D6\u51FA\u6765</li><li>\u5C40\u90E8\u66F4\u65B0 <code>DOM</code></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">patch</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> patchs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> changes <span class="token operator">=</span> patchs<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
  <span class="token keyword">let</span> childNodes <span class="token operator">=</span> node <span class="token operator">&amp;&amp;</span> node<span class="token punctuation">.</span>childNodes
  <span class="token comment">// \u8FD9\u91CC\u7684\u6DF1\u5EA6\u904D\u5386\u548C diff \u4E2D\u662F\u4E00\u6837\u7684</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>childNodes<span class="token punctuation">)</span> index <span class="token operator">+=</span> <span class="token number">1</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>changes <span class="token operator">&amp;&amp;</span> changes<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> patchs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">changeDom</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> changes<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> last <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>childNodes <span class="token operator">&amp;&amp;</span> childNodes<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    childNodes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      index <span class="token operator">=</span>
        last <span class="token operator">&amp;&amp;</span> last<span class="token punctuation">.</span>children <span class="token operator">?</span> index <span class="token operator">+</span> last<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">:</span> index <span class="token operator">+</span> <span class="token number">1</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> patchs<span class="token punctuation">)</span>
      last <span class="token operator">=</span> item
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">changeDom</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> changes<span class="token punctuation">,</span> noChild</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  changes <span class="token operator">&amp;&amp;</span>
    changes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">change</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> <span class="token punctuation">{</span> type <span class="token punctuation">}</span> <span class="token operator">=</span> change
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> StateEnums<span class="token punctuation">.</span>ChangeProps<span class="token operator">:</span>
          <span class="token keyword">let</span> <span class="token punctuation">{</span> props <span class="token punctuation">}</span> <span class="token operator">=</span> change
          props<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              node<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>prop<span class="token punctuation">,</span> item<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              node<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>prop<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token keyword">break</span>
        <span class="token keyword">case</span> StateEnums<span class="token punctuation">.</span>Remove<span class="token operator">:</span>
          node<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span>change<span class="token punctuation">.</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token keyword">break</span>
        <span class="token keyword">case</span> StateEnums<span class="token punctuation">.</span>Insert<span class="token operator">:</span>
          <span class="token keyword">let</span> dom
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isString</span><span class="token punctuation">(</span>change<span class="token punctuation">.</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>change<span class="token punctuation">.</span>node<span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>change<span class="token punctuation">.</span>node <span class="token keyword">instanceof</span> <span class="token class-name">Element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            dom <span class="token operator">=</span> change<span class="token punctuation">.</span>node<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
          node<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>dom<span class="token punctuation">,</span> node<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span>change<span class="token punctuation">.</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token keyword">break</span>
        <span class="token keyword">case</span> StateEnums<span class="token punctuation">.</span>Replace<span class="token operator">:</span>
          node<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>change<span class="token punctuation">.</span>node<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> node<span class="token punctuation">)</span>
          <span class="token keyword">break</span>
        <span class="token keyword">case</span> StateEnums<span class="token punctuation">.</span>Move<span class="token operator">:</span>
          <span class="token keyword">let</span> fromNode <span class="token operator">=</span> node<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span>change<span class="token punctuation">.</span>from<span class="token punctuation">]</span>
          <span class="token keyword">let</span> toNode <span class="token operator">=</span> node<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span>change<span class="token punctuation">.</span>to<span class="token punctuation">]</span>
          <span class="token keyword">let</span> cloneFromNode <span class="token operator">=</span> fromNode<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
          <span class="token keyword">let</span> cloenToNode <span class="token operator">=</span> toNode<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
          node<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>cloneFromNode<span class="token punctuation">,</span> toNode<span class="token punctuation">)</span>
          node<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>cloenToNode<span class="token punctuation">,</span> fromNode<span class="token punctuation">)</span>
          <span class="token keyword">break</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
          <span class="token keyword">break</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><p><strong>Virtual Dom \u7B97\u6CD5\u7684\u5B9E\u73B0\u4E5F\u5C31\u662F\u4EE5\u4E0B\u4E09\u6B65</strong></p><ul><li>\u901A\u8FC7 <code>JS</code> \u6765\u6A21\u62DF\u521B\u5EFA <code>DOM</code> \u5BF9\u8C61</li><li>\u5224\u65AD\u4E24\u4E2A\u5BF9\u8C61\u7684\u5DEE\u5F02</li><li>\u6E32\u67D3\u5DEE\u5F02</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> test4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Element</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">&#39;my-div&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;test4&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> test5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Element</span><span class="token punctuation">(</span><span class="token string">&#39;ul&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">&#39;my-div&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;test5&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> test1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Element</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">&#39;my-div&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>test4<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> test2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Element</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;11&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>test5<span class="token punctuation">,</span> test4<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> root <span class="token operator">=</span> test1<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> pathchs <span class="token operator">=</span> <span class="token function">diff</span><span class="token punctuation">(</span>test1<span class="token punctuation">,</span> test2<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pathchs<span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u5F00\u59CB\u66F4\u65B0&#39;</span><span class="token punctuation">)</span>
  <span class="token function">patch</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> pathchs<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u7ED3\u675F\u66F4\u65B0&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div>`,38),Rwn={id:"_4-diff\u7B97\u6CD5",tabindex:"-1"},Vwn=n("a",{class:"header-anchor",href:"#_4-diff\u7B97\u6CD5","aria-hidden":"true"},"#",-1),Hwn=s(),Lwn={href:"http://interview.poetries.top/excellent-docs/16-%E6%A1%86%E6%9E%B6%E9%80%9A%E8%AF%86.html#_4-diff%E7%AE%97%E6%B3%95",target:"_blank",rel:"noopener noreferrer"},Uwn=s("#"),Jwn=s("4 Diff\u7B97\u6CD5"),Wwn={id:"_4-1-react-diff",tabindex:"-1"},zwn=n("a",{class:"header-anchor",href:"#_4-1-react-diff","aria-hidden":"true"},"#",-1),Gwn=s(),$wn={href:"http://interview.poetries.top/excellent-docs/16-%E6%A1%86%E6%9E%B6%E9%80%9A%E8%AF%86.html#_4-1-react-diff",target:"_blank",rel:"noopener noreferrer"},Xwn=s("#"),Kwn=s("4.1 React-Diff"),Qwn=t(`<p>React\u7684\u601D\u8DEF\u662F\u9012\u589E\u6CD5\u3002\u901A\u8FC7\u5BF9\u6BD4\u65B0\u7684\u5217\u8868\u4E2D\u7684\u8282\u70B9\uFF0C\u5728\u539F\u672C\u7684\u5217\u8868\u4E2D\u7684\u4F4D\u7F6E\u662F\u5426\u662F\u9012\u589E\uFF0C\u6765\u5224\u65AD\u5F53\u524D\u8282\u70B9\u662F\u5426\u9700\u8981\u79FB\u52A8\u3002</p><p><strong>1. \u5B9E\u73B0\u539F\u7406</strong></p><p>\u6765\u770B\u8FD9\u6837\u4E00\u4E2A\u4F8B\u5B50\u3002</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7cc8e69cb5b04387b7b259622a91bbe6~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p><code>nextList</code>\u4E3A\u65B0\u7684\u5217\u8868\uFF0C<code>prevList</code>\u4E3A\u65E7\u5217\u8868\u3002\u8FD9\u4E2A\u4F8B\u5B50\u6211\u4EEC\u4E00\u773C\u80FD\u770B\u51FA\u6765\uFF0C\u65B0\u5217\u8868\u662F\u4E0D\u9700\u8981\u8FDB\u884C\u79FB\u52A8\u7684\u3002\u4E0B\u9762\u6211\u7528<code>react</code>\u7684\u9012\u589E\u601D\u60F3\uFF0C\u89E3\u91CA\u4E00\u4E0B\u4E3A\u4EC0\u4E48\u65B0\u5217\u8868\u4E2D\u7684\u8282\u70B9\u4E0D\u9700\u8981\u79FB\u52A8\u3002</p><p>\u6211\u4EEC\u9996\u5148\u904D\u5386<code>nextList</code>\uFF0C\u5E76\u4E14\u627E\u5230\u6BCF\u4E00\u4E2A\u8282\u70B9\uFF0C\u5728<code>prevList</code>\u4E2D\u7684\u4F4D\u7F6E\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">prevList<span class="token punctuation">,</span> nextList</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nextList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> nextItem <span class="token operator">=</span> nextList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> prevList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> prevItem <span class="token operator">=</span> prevList<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nextItem <span class="token operator">===</span> prevItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>\u627E\u5230\u4F4D\u7F6E\u4EE5\u540E\uFF0C\u4E0E\u4E0A\u4E00\u4E2A\u8282\u70B9\u7684\u4F4D\u7F6E\u8FDB\u884C\u5BF9\u6BD4\uFF0C\u5982\u679C\u5F53\u524D\u7684\u4F4D\u7F6E\u5927\u4E8E\u4E0A\u4E00\u4E2A\u4F4D\u7F6E\uFF0C\u8BF4\u660E\u5F53\u524D\u8282\u70B9\u4E0D\u9700\u8981\u79FB\u52A8\u3002\u56E0\u6B64\u6211\u4EEC\u8981\u5B9A\u4E49\u4E00\u4E2A<code>lastIndex</code>\u6765\u8BB0\u5F55\u4E0A\u4E00\u4E2A\u8282\u70B9\u7684\u4F4D\u7F6E\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">prevList<span class="token punctuation">,</span> nextList</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> lastIndex <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nextList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> nextItem <span class="token operator">=</span> nextList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> prevList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> prevItem <span class="token operator">=</span> prevList<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nextItem <span class="token operator">===</span> prevItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> lastIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// \u9700\u8981\u79FB\u52A8\u8282\u70B9</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token comment">// \u4E0D\u9700\u8981\u79FB\u52A8\u8282\u70B9\uFF0C\u8BB0\u5F55\u5F53\u524D\u4F4D\u7F6E\uFF0C\u4E0E\u4E4B\u540E\u7684\u8282\u70B9\u8FDB\u884C\u5BF9\u6BD4</span>
                    lastIndex <span class="token operator">=</span> j
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>\u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0C<code>nextList</code>\u6BCF\u4E2A\u8282\u70B9\u5728<code>prevList</code>\u7684\u4F4D\u7F6E\u4E3A<code>0 1 2 3</code>\u3002\u6BCF\u4E00\u9879\u90FD\u8981\u6BD4\u524D\u4E00\u9879\u8981\u5927\uFF0C\u6240\u4EE5\u4E0D\u9700\u8981\u79FB\u52A8\uFF0C\u8FD9\u5C31\u662F<code>react</code>\u7684<code>diff</code>\u7B97\u6CD5\u7684\u539F\u7406\u3002</p><p><strong>2. \u627E\u5230\u9700\u8981\u79FB\u52A8\u7684\u8282\u70B9</strong></p><p>\u5728\u4E0A\u4E00\u5C0F\u8282\u4E2D\uFF0C\u6211\u4EEC\u662F\u901A\u8FC7\u5BF9\u6BD4\u503C\u662F\u5426\u76F8\u7B49\uFF0C\u67E5\u627E\u7684\u5BF9\u5E94\u4F4D\u7F6E\u3002\u4F46\u662F\u5728vdom\u4E2D\uFF0C\u6BCF\u4E00\u4E2A\u8282\u70B9\u90FD\u662F\u4E00\u4E2AvNode\uFF0C\u6211\u4EEC\u5E94\u8BE5\u5982\u4F55\u8FDB\u884C\u5224\u65AD\u5462\uFF1F</p><p>\u7B54\u6848\u5C31\u662F<code>key</code>\uFF0C\u6211\u4EEC\u901A\u8FC7\u5BF9\u6BCF\u4E2A\u8282\u70B9\u7684<code>key</code>\u8FDB\u884C\u8D4B\u503C\uFF0C\u5E76\u4E14\u8BA9\u5904\u4E8E\u540C\u4E00<code>children</code>\u6570\u7EC4\u4E0B\u7684<code>vnode</code>\u7684<code>key</code>\u90FD\u4E0D\u76F8\u540C\uFF0C\u4EE5\u6B64\u6765\u786E\u5B9A\u6BCF\u4E2A\u8282\u70B9\u7684\u552F\u4E00\u6027\uFF0C\u5E76\u8FDB\u884C\u65B0\u65E7\u5217\u8868\u7684\u5BF9\u6BD4\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">reactDiff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> lastIndex <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nextChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> nextChild <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> prevChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> prevChild <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nextChild<span class="token punctuation">.</span>key <span class="token operator">===</span> prevChild<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">patch</span><span class="token punctuation">(</span>prevChild<span class="token punctuation">,</span> nextChild<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> lastIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// \u9700\u8981\u79FB\u52A8\u8282\u70B9</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token comment">// \u4E0D\u9700\u8981\u79FB\u52A8\u8282\u70B9\uFF0C\u8BB0\u5F55\u5F53\u524D\u4F4D\u7F6E\uFF0C\u4E0E\u4E4B\u540E\u7684\u8282\u70B9\u8FDB\u884C\u5BF9\u6BD4</span>
                    lastIndex <span class="token operator">=</span> j
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>3. \u79FB\u52A8\u8282\u70B9</strong></p><p>\u9996\u5148\u6211\u4EEC\u5148\u660E\u786E\u4E00\u70B9\uFF0C\u79FB\u52A8\u8282\u70B9\u6240\u6307\u7684\u8282\u70B9\u662F<code>DOM</code>\u8282\u70B9\u3002<code>vnode.el</code>\u6307\u5411\u8BE5\u8282\u70B9\u5BF9\u5E94\u7684\u771F\u5B9E<code>DOM</code>\u8282\u70B9\u3002<code>patch</code>\u65B9\u6CD5\u4F1A\u5C06\u66F4\u65B0\u8FC7\u540E\u7684<code>DOM</code>\u8282\u70B9\uFF0C\u8D4B\u503C\u7ED9<strong>\u65B0\u7684</strong><code>vnode</code>\u7684<code>el</code>\u5C5E\u6027\u3002</p><blockquote><p>\u4E3A\u4E86\u753B\u56FE\u65B9\u4FBF\uFF0C\u6211\u4EEC\u7528<code>key</code>\u7684\u503C\u6765\u8868\u793A<code>vnode</code>\u8282\u70B9\u3002\u4E3A\u4E86\u884C\u6587\u65B9\u4FBF\uFF0C\u6211\u4EEC\u628A<code>key</code>\u503C\u4E3A<code>a</code>\u7684<code>vnode</code>\u7B80\u5199\u4E3A<code>vnode-a</code>\uFF0C<code>vnode-a</code>\u5BF9\u5E94\u7684\u771F\u5B9EDOM\u8282\u70B9\u4E3A<code>DOM-A</code></p></blockquote><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab3a37a997a84b95af9f39326bf2a24f~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u6211\u4EEC\u6765\u5C06\u4E0A\u56FE\u7684\u4F8B\u5B50\u4EE3\u5165<code>reactDiff</code>\u4E2D\u6267\u884C\u3002\u6211\u4EEC\u904D\u5386<strong>\u65B0\u5217\u8868</strong>\uFF0C\u5E76\u67E5\u627E<code>vnode</code>\u5728<strong>\u65E7\u5217\u8868</strong>\u4E2D\u7684\u4F4D\u7F6E\u3002\u5F53\u904D\u5386\u5230<code>vnode-d</code>\u65F6\uFF0C\u4E4B\u524D\u904D\u5386\u5728<strong>\u65E7\u5217\u8868</strong>\u7684\u4F4D\u7F6E\u4E3A<code>0 &lt; 2 &lt; 3</code>\uFF0C\u8BF4\u660E<code>A C D</code>\u8FD9\u4E09\u4E2A\u8282\u70B9\u90FD\u662F\u4E0D\u9700\u8981\u79FB\u52A8\u7684\u3002\u6B64\u65F6<code>lastIndex = 3</code>, \u5E76\u8FDB\u5165\u4E0B\u4E00\u6B21\u5FAA\u73AF\uFF0C\u53D1\u73B0<code>vnode-b</code>\u5728<strong>\u65E7\u5217\u8868</strong>\u7684<code>index</code>\u4E3A<code>1</code>\uFF0C<code>1 &lt; 3</code>\uFF0C\u8BF4\u660E<code>DOM-B</code>\u8981\u79FB\u52A8\u3002</p><p>\u901A\u8FC7\u89C2\u5BDF\u6211\u4EEC\u80FD\u53D1\u73B0\uFF0C\u53EA\u9700\u8981\u628A<code>DOM-B</code>\u79FB\u52A8\u5230<code>DOM-D</code>\u4E4B\u540E\u5C31\u53EF\u4EE5\u4E86\u3002\u4E5F\u5C31\u662F<strong>\u627E\u5230\u9700\u8981\u79FB\u52A8\u7684VNode\uFF0C\u6211\u4EEC\u79F0\u8BE5VNode\u4E3A\u03B1\uFF0C\u5C06\u03B1\u5BF9\u5E94\u7684\u771F\u5B9E\u7684DOM\u8282\u70B9\u79FB\u52A8\u5230\uFF0C\u03B1\u5728<code>\u65B0\u5217\u8868</code>\u4E2D\u7684\u524D\u4E00\u4E2AVNode\u5BF9\u5E94\u7684\u771F\u5B9EDOM\u7684\u540E\u9762\u3002</strong></p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6e757d546440478b83e938f3824f9364~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u5728\u4E0A\u8FF0\u7684\u4F8B\u5B50\u4E2D\uFF0C\u5C31\u662F\u5C06<code>vnode-b</code>\u5BF9\u5E94\u7684\u771F\u5B9EDOM\u8282\u70B9<code>DOM-B</code>, \u79FB\u52A8\u5230<code>vnode-b</code>\u5728\u65B0\u5217\u8868\u4E2D\u7684\u524D\u4E00\u4E2A<code>VNode</code>\u2014\u2014<code>vnode-d</code>\u5BF9\u5E94\u7684\u771F\u5B9EDOM\u8282\u70B9<code>DOM-D</code>\u7684\u540E\u9762</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">reactDiff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> lastIndex <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nextChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> nextChild <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> prevChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> prevChild <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nextChild<span class="token punctuation">.</span>key <span class="token operator">===</span> prevChild<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">patch</span><span class="token punctuation">(</span>prevChild<span class="token punctuation">,</span> nextChild<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> lastIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// \u79FB\u52A8\u5230\u524D\u4E00\u4E2A\u8282\u70B9\u7684\u540E\u9762</span>
                    <span class="token keyword">let</span> refNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>nextSibling<span class="token punctuation">;</span>
                    parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>nextChild<span class="token punctuation">.</span>el<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token comment">// \u4E0D\u9700\u8981\u79FB\u52A8\u8282\u70B9\uFF0C\u8BB0\u5F55\u5F53\u524D\u4F4D\u7F6E\uFF0C\u4E0E\u4E4B\u540E\u7684\u8282\u70B9\u8FDB\u884C\u5BF9\u6BD4</span>
                    lastIndex <span class="token operator">=</span> j
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>\u4E3A\u4EC0\u4E48\u662F\u8FD9\u6837\u79FB\u52A8\u7684\u5462\uFF1F\u9996\u5148\u6211\u4EEC\u5217\u8868\u662F<code>\u4ECE\u5934\u5230\u5C3E</code>\u904D\u5386\u7684\u3002\u8FD9\u5C31\u610F\u5473\u7740\u5BF9\u4E8E\u5F53\u524D<code>VNode</code>\u8282\u70B9\u6765\u8BF4\uFF0C\u8BE5\u8282\u70B9\u4E4B\u524D\u7684\u6240\u6709\u8282\u70B9\u90FD\u662F\u6392\u597D\u5E8F\u7684\uFF0C\u5982\u679C\u8BE5\u8282\u70B9\u9700\u8981\u79FB\u52A8\uFF0C\u90A3\u4E48\u53EA\u9700\u8981\u5C06DOM\u8282\u70B9\u79FB\u52A8\u5230\u524D\u4E00\u4E2A<code>vnode</code>\u8282\u70B9\u4E4B\u540E\u5C31\u53EF\u4EE5\uFF0C\u56E0\u4E3A\u5728<strong>\u65B0\u5217\u8868</strong>\u4E2D<code>vnode</code>\u7684\u987A\u5E8F\u5C31\u662F\u8FD9\u6837\u7684\u3002</p><p><strong>4. \u6DFB\u52A0\u8282\u70B9</strong></p><p>\u4E0A\u4E00\u5C0F\u8282\u6211\u4EEC\u53EA\u8BB2\u4E86\u5982\u4F55\u79FB\u52A8\u8282\u70B9\uFF0C\u4F46\u662F\u5FFD\u7565\u4E86\u53E6\u5916\u4E00\u79CD\u60C5\u51B5\uFF0C\u5C31\u662F\u5728<strong>\u65B0\u5217\u8868</strong>\u4E2D\u6709\u5168\u65B0\u7684<code>VNode</code>\u8282\u70B9\uFF0C\u5728<strong>\u65E7\u5217\u8868</strong>\u4E2D\u627E\u4E0D\u5230\u3002\u9047\u5230\u8FD9\u79CD\u60C5\u51B5\uFF0C\u6211\u4EEC\u9700\u8981\u6839\u636E\u65B0\u7684<code>VNode</code>\u8282\u70B9\u751F\u6210<code>DOM</code>\u8282\u70B9\uFF0C\u5E76\u63D2\u5165<code>DOM</code>\u6811\u4E2D\u3002</p><p>\u81F3\u6B64\uFF0C\u6211\u4EEC\u9762\u4E34\u4E24\u4E2A\u95EE\u9898\uFF1A1.\u5982\u4F55\u53D1\u73B0\u5168\u65B0\u7684\u8282\u70B9\u30012. \u751F\u6210\u7684<code>DOM</code>\u8282\u70B9\u63D2\u5165\u5230\u54EA\u91CC</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f7f3ae4ecace400a801b35c156e2edfc~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u6211\u4EEC\u5148\u6765\u89E3\u51B3\u7B2C\u4E00\u4E2A\u95EE\u9898\uFF0C\u627E\u8282\u70B9\u8FD8\u662F\u6BD4\u8F83\u7B80\u5355\u7684\uFF0C\u6211\u4EEC\u5B9A\u4E49\u4E00\u4E2A<code>find</code>\u53D8\u91CF\u503C\u4E3A<code>false</code>\u3002\u5982\u679C\u5728<strong>\u65E7\u5217\u8868</strong>\u627E\u5230\u4E86<code>key</code> \u76F8\u540C\u7684<code>vnode</code>\uFF0C\u5C31\u5C06<code>find</code>\u7684\u503C\u6539\u4E3A<code>true</code>\u3002\u5F53\u904D\u5386\u7ED3\u675F\u540E\u5224\u65AD<code>find</code>\u503C\uFF0C\u5982\u679C\u4E3A<code>false</code>\uFF0C\u8BF4\u660E\u5F53\u524D\u8282\u70B9\u4E3A\u65B0\u8282\u70B9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">reactDiff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> lastIndex <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nextChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> nextChild <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
            find <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> prevChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> prevChild <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nextChild<span class="token punctuation">.</span>key <span class="token operator">===</span> prevChild<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                find <span class="token operator">=</span> <span class="token boolean">true</span>
                <span class="token function">patch</span><span class="token punctuation">(</span>prevChild<span class="token punctuation">,</span> nextChild<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> lastIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// \u79FB\u52A8\u5230\u524D\u4E00\u4E2A\u8282\u70B9\u7684\u540E\u9762</span>
                    <span class="token keyword">let</span> refNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>nextSibling<span class="token punctuation">;</span>
                    parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>nextChild<span class="token punctuation">.</span>el<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token comment">// \u4E0D\u9700\u8981\u79FB\u52A8\u8282\u70B9\uFF0C\u8BB0\u5F55\u5F53\u524D\u4F4D\u7F6E\uFF0C\u4E0E\u4E4B\u540E\u7684\u8282\u70B9\u8FDB\u884C\u5BF9\u6BD4</span>
                    lastIndex <span class="token operator">=</span> j
                <span class="token punctuation">}</span>
                <span class="token keyword">break</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>find<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u63D2\u5165\u65B0\u8282\u70B9</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>\u627E\u5230\u65B0\u8282\u70B9\u540E\uFF0C\u4E0B\u4E00\u6B65\u5C31\u662F\u63D2\u5165\u5230\u54EA\u91CC\u4E86\uFF0C\u8FD9\u91CC\u7684\u903B\u8F91\u5176\u5B9E\u662F\u548C\u79FB\u52A8\u8282\u70B9\u7684\u903B\u8F91\u662F\u4E00\u6837\u7684\u3002\u6211\u4EEC\u89C2\u5BDF\u4E0A\u56FE\u53EF\u4EE5\u53D1\u73B0\uFF0C\u65B0\u7684<code>vnode-c</code>\u662F\u7D27\u8DDF\u5728<code>vnode-b</code>\u540E\u9762\u7684\uFF0C\u5E76\u4E14<code>vnode-b</code>\u7684DOM\u8282\u70B9\u2014\u2014<code>DOM-B</code>\u662F\u5DF2\u7ECF\u6392\u597D\u5E8F\u7684\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EA\u9700\u8981\u5C06<code>vnode-c</code>\u751F\u6210\u7684DOM\u8282\u70B9\u63D2\u5165\u5230<code>DOM-B</code>\u4E4B\u540E\u5C31\u53EF\u4EE5\u4E86\u3002</p><p>\u4F46\u662F\u8FD9\u91CC\u6709\u4E00\u79CD\u7279\u6B8A\u60C5\u51B5\u9700\u8981\u6CE8\u610F\uFF0C\u5C31\u662F\u65B0\u7684\u8282\u70B9\u4F4D\u4E8E<strong>\u65B0\u5217\u8868</strong>\u7684\u7B2C\u4E00\u4E2A\uFF0C\u8FD9\u65F6\u5019\u6211\u4EEC\u9700\u8981\u627E\u5230<strong>\u65E7\u5217\u8868</strong>\u7B2C\u4E00\u4E2A\u8282\u70B9\uFF0C\u5C06\u65B0\u8282\u70B9\u63D2\u5165\u5230\u539F\u6765\u7B2C\u4E00\u4E2A\u8282\u70B9\u4E4B\u524D\u5C31\u53EF\u4EE5\u4E86\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">reactDiff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> lastIndex <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nextChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> nextChild <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
            find <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> prevChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> prevChild <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nextChild<span class="token punctuation">.</span>key <span class="token operator">===</span> prevChild<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                find <span class="token operator">=</span> <span class="token boolean">true</span>
                <span class="token function">patch</span><span class="token punctuation">(</span>prevChild<span class="token punctuation">,</span> nextChild<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> lastIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// \u79FB\u52A8\u5230\u524D\u4E00\u4E2A\u8282\u70B9\u7684\u540E\u9762</span>
                    <span class="token keyword">let</span> refNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>nextSibling<span class="token punctuation">;</span>
                    parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>nextChild<span class="token punctuation">.</span>el<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token comment">// \u4E0D\u9700\u8981\u79FB\u52A8\u8282\u70B9\uFF0C\u8BB0\u5F55\u5F53\u524D\u4F4D\u7F6E\uFF0C\u4E0E\u4E4B\u540E\u7684\u8282\u70B9\u8FDB\u884C\u5BF9\u6BD4</span>
                    lastIndex <span class="token operator">=</span> j
                <span class="token punctuation">}</span>
                <span class="token keyword">break</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>find<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u63D2\u5165\u65B0\u8282\u70B9</span>
            <span class="token keyword">let</span> refNode <span class="token operator">=</span> i <span class="token operator">&lt;=</span> <span class="token number">0</span>
                            <span class="token operator">?</span> prevChildren<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>el
                            <span class="token operator">:</span> nextChildren<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>nextSibling
            <span class="token function">mount</span><span class="token punctuation">(</span>nextChild<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p><strong>5. \u79FB\u9664\u8282\u70B9</strong></p><p>\u6709\u589E\u5C31\u6709\u51CF\uFF0C\u5F53\u65E7\u7684\u8282\u70B9\u4E0D\u5728<strong>\u65B0\u5217\u8868</strong>\u4E2D\u65F6\uFF0C\u6211\u4EEC\u5C31\u5C06\u5176\u5BF9\u5E94\u7684DOM\u8282\u70B9\u79FB\u9664\u3002</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9cf836312b6345d98b4ea8c9efe80a9a~tplv-k3u1fbpfcp-watermark.image?imageslim" alt="img"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">reactDiff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> lastIndex <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nextChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> nextChild <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
            find <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> prevChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> prevChild <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nextChild<span class="token punctuation">.</span>key <span class="token operator">===</span> prevChild<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                find <span class="token operator">=</span> <span class="token boolean">true</span>
                <span class="token function">patch</span><span class="token punctuation">(</span>prevChild<span class="token punctuation">,</span> nextChild<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> lastIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// \u79FB\u52A8\u5230\u524D\u4E00\u4E2A\u8282\u70B9\u7684\u540E\u9762</span>
                    <span class="token keyword">let</span> refNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>nextSibling<span class="token punctuation">;</span>
                    parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>nextChild<span class="token punctuation">.</span>el<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token comment">// \u4E0D\u9700\u8981\u79FB\u52A8\u8282\u70B9\uFF0C\u8BB0\u5F55\u5F53\u524D\u4F4D\u7F6E\uFF0C\u4E0E\u4E4B\u540E\u7684\u8282\u70B9\u8FDB\u884C\u5BF9\u6BD4</span>
                    lastIndex <span class="token operator">=</span> j
                <span class="token punctuation">}</span>
                <span class="token keyword">break</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>find<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u63D2\u5165\u65B0\u8282\u70B9</span>
            <span class="token keyword">let</span> refNode <span class="token operator">=</span> i <span class="token operator">&lt;=</span> <span class="token number">0</span>
                            <span class="token operator">?</span> prevChildren<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>el
                            <span class="token operator">:</span> nextChildren<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>nextSibling
            <span class="token function">mount</span><span class="token punctuation">(</span>nextChild<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> prevChildren<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> prevChild <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
            key <span class="token operator">=</span> prevChild<span class="token punctuation">.</span>key<span class="token punctuation">,</span>
            has <span class="token operator">=</span> nextChildren<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>key <span class="token operator">===</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>has<span class="token punctuation">)</span> parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>prevChild<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p><strong>6. \u4F18\u5316\u4E0E\u4E0D\u8DB3</strong></p><p>\u4EE5\u4E0A\u5C31\u662FReact\u7684diff\u7B97\u6CD5\u7684\u601D\u8DEF\u3002</p>`,39),Ywn=s("\u76EE\u524D\u7684"),Zwn=n("code",null,"reactDiff",-1),nyn=s("\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A"),syn=n("code",null,"O(m*n)",-1),ayn=s("\uFF0C\u6211\u4EEC\u53EF\u4EE5\u7528\u7A7A\u95F4\u6362\u65F6\u95F4\uFF0C\u628A"),eyn=n("code",null,"key",-1),tyn=s("\u4E0E"),pyn=n("code",null,"index",-1),oyn=s("\u7684\u5173\u7CFB\u7EF4\u62A4\u6210\u4E00\u4E2A"),cyn=n("code",null,"Map",-1),lyn=s("\uFF0C\u4ECE\u800C\u5C06\u65F6\u95F4\u590D\u6742\u5EA6\u964D\u4F4E\u4E3A"),ryn=n("code",null,"O(n)",-1),iyn=s("\uFF0C\u5177\u4F53\u7684\u4EE3\u7801\u53EF\u4EE5"),uyn={href:"https://github.com/sunyanzhe/virtual-dom/blob/master/src/diff/react-diff.js",target:"_blank",rel:"noopener noreferrer"},kyn=s("\u67E5\u770B\u6B64\u9879\u76EE (opens new window)"),dyn=s("\u3002"),byn=t('<p>\u6211\u4EEC\u63A5\u4E0B\u6765\u770B\u8FD9\u6837\u4E00\u4E2A\u4F8B\u5B50</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/aed2a562a9674f5293e4e51a1b8b9005~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u6839\u636E<code>reactDiff</code>\u7684\u601D\u8DEF\uFF0C\u6211\u4EEC\u9700\u8981\u5148\u5C06<code>DOM-A</code>\u79FB\u52A8\u5230<code>DOM-C</code>\u4E4B\u540E\uFF0C\u7136\u540E\u518D\u5C06<code>DOM-B</code>\u79FB\u52A8\u5230<code>DOM-A</code>\u4E4B\u540E\uFF0C\u5B8C\u6210<code>Diff</code>\u3002\u4F46\u662F\u6211\u4EEC\u901A\u8FC7\u89C2\u5BDF\u53EF\u4EE5\u53D1\u73B0\uFF0C\u53EA\u8981\u5C06<code>DOM-C</code>\u79FB\u52A8\u5230<code>DOM-A</code>\u4E4B\u524D\u5C31\u53EF\u4EE5\u5B8C\u6210<code>Diff</code>\u3002</p><p>\u8FD9\u91CC\u662F\u6709\u53EF\u4F18\u5316\u7684\u7A7A\u95F4\u7684\uFF0C\u63A5\u4E0B\u6765\u6211\u4EEC\u4ECB\u7ECD<code>vue2.x</code>\u4E2D\u7684<code>diff</code>\u7B97\u6CD5\u2014\u2014<code>\u53CC\u7AEF\u6BD4\u8F83</code>\uFF0C\u8BE5\u7B97\u6CD5\u89E3\u51B3\u4E86\u4E0A\u8FF0\u7684\u95EE\u9898</p>',4),myn={id:"_4-2-vue2-x-diff-\u2014\u2014-\u53CC\u7AEF\u6BD4\u8F83",tabindex:"-1"},hyn=n("a",{class:"header-anchor",href:"#_4-2-vue2-x-diff-\u2014\u2014-\u53CC\u7AEF\u6BD4\u8F83","aria-hidden":"true"},"#",-1),_yn=s(),gyn={href:"http://interview.poetries.top/excellent-docs/16-%E6%A1%86%E6%9E%B6%E9%80%9A%E8%AF%86.html#_4-2-vue2-x-diff-%E5%8F%8C%E7%AB%AF%E6%AF%94%E8%BE%83",target:"_blank",rel:"noopener noreferrer"},Eyn=s("#"),fyn=s("4.2 Vue2.X Diff \u2014\u2014 \u53CC\u7AEF\u6BD4\u8F83"),vyn=t(`<p>\u6240\u8C13<code>\u53CC\u7AEF\u6BD4\u8F83</code>\u5C31\u662F<strong>\u65B0\u5217\u8868</strong>\u548C<strong>\u65E7\u5217\u8868</strong>\u4E24\u4E2A\u5217\u8868\u7684\u5934\u4E0E\u5C3E\u4E92\u76F8\u5BF9\u6BD4\uFF0C\uFF0C\u5728\u5BF9\u6BD4\u7684\u8FC7\u7A0B\u4E2D\u6307\u9488\u4F1A\u9010\u6E10\u5411\u5185\u9760\u62E2\uFF0C\u76F4\u5230\u67D0\u4E00\u4E2A\u5217\u8868\u7684\u8282\u70B9\u5168\u90E8\u904D\u5386\u8FC7\uFF0C\u5BF9\u6BD4\u505C\u6B62\u3002</p><p><strong>1. \u5B9E\u73B0\u539F\u7406</strong></p><p>\u6211\u4EEC\u5148\u7528\u56DB\u4E2A\u6307\u9488\u6307\u5411\u4E24\u4E2A\u5217\u8868\u7684\u5934\u5C3E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue2Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> oldStartIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    oldEndIndex <span class="token operator">=</span> prevChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
    newStartIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    newEndIndex <span class="token operator">=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> oldStartNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    oldEndNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldEndIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>nextStartIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    newEndNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>nextEndIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u6211\u4EEC\u6839\u636E\u56DB\u4E2A\u6307\u9488\u627E\u5230\u56DB\u4E2A\u8282\u70B9\uFF0C\u7136\u540E\u8FDB\u884C\u5BF9\u6BD4\uFF0C\u90A3\u4E48\u5982\u4F55\u5BF9\u6BD4\u5462\uFF1F\u6211\u4EEC\u6309\u7167\u4EE5\u4E0B\u56DB\u4E2A\u6B65\u9AA4\u8FDB\u884C\u5BF9\u6BD4</p><ol><li>\u4F7F\u7528<strong>\u65E7\u5217\u8868</strong>\u7684\u5934\u4E00\u4E2A\u8282\u70B9<code>oldStartNode</code>\u4E0E<strong>\u65B0\u5217\u8868</strong>\u7684\u5934\u4E00\u4E2A\u8282\u70B9<code>newStartNode</code>\u5BF9\u6BD4</li><li>\u4F7F\u7528<strong>\u65E7\u5217\u8868</strong>\u7684\u6700\u540E\u4E00\u4E2A\u8282\u70B9<code>oldEndNode</code>\u4E0E<strong>\u65B0\u5217\u8868</strong>\u7684\u6700\u540E\u4E00\u4E2A\u8282\u70B9<code>newEndNode</code>\u5BF9\u6BD4</li><li>\u4F7F\u7528<strong>\u65E7\u5217\u8868</strong>\u7684\u5934\u4E00\u4E2A\u8282\u70B9<code>oldStartNode</code>\u4E0E<strong>\u65B0\u5217\u8868</strong>\u7684\u6700\u540E\u4E00\u4E2A\u8282\u70B9<code>newEndNode</code>\u5BF9\u6BD4</li><li>\u4F7F\u7528<strong>\u65E7\u5217\u8868</strong>\u7684\u6700\u540E\u4E00\u4E2A\u8282\u70B9<code>oldEndNode</code>\u4E0E<strong>\u65B0\u5217\u8868</strong>\u7684\u5934\u4E00\u4E2A\u8282\u70B9<code>newStartNode</code>\u5BF9\u6BD4</li></ol><p>\u4F7F\u7528\u4EE5\u4E0A\u56DB\u6B65\u8FDB\u884C\u5BF9\u6BD4\uFF0C\u53BB\u5BFB\u627E<code>key</code>\u76F8\u540C\u7684\u53EF\u590D\u7528\u7684\u8282\u70B9\uFF0C\u5F53\u5728\u67D0\u4E00\u6B65\u4E2D\u627E\u5230\u4E86\u5219\u505C\u6B62\u540E\u9762\u7684\u5BFB\u627E\u3002\u5177\u4F53\u5BF9\u6BD4\u987A\u5E8F\u5982\u4E0B\u56FE</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/847306f303ab4177891b56cccff1ebd3~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u5BF9\u6BD4\u987A\u5E8F\u4EE3\u7801\u7ED3\u6784\u5982\u4E0B:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue2Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> oldStartIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    oldEndIndex <span class="token operator">=</span> prevChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
    newStartIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    newEndIndex <span class="token operator">=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> oldStartNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    oldEndNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldEndIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    newEndNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newEndIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
  
  <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>\u5F53\u5BF9\u6BD4\u65F6\u627E\u5230\u4E86\u53EF\u590D\u7528\u7684\u8282\u70B9\uFF0C\u6211\u4EEC\u8FD8\u662F\u5148<code>patch</code>\u7ED9\u5143\u7D20\u6253\u8865\u4E01\uFF0C\u7136\u540E\u5C06\u6307\u9488\u8FDB\u884C<code>\u524D/\u540E\u79FB</code>\u4E00\u4F4D\u6307\u9488\u3002\u6839\u636E\u5BF9\u6BD4\u8282\u70B9\u7684\u4E0D\u540C\uFF0C\u6211\u4EEC\u79FB\u52A8\u7684<strong>\u6307\u9488</strong>\u548C<strong>\u65B9\u5411</strong>\u4E5F\u4E0D\u540C\uFF0C\u5177\u4F53\u89C4\u5219\u5982\u4E0B\uFF1A</p><ol><li>\u5F53<strong>\u65E7\u5217\u8868</strong>\u7684\u5934\u4E00\u4E2A\u8282\u70B9<code>oldStartNode</code>\u4E0E<strong>\u65B0\u5217\u8868</strong>\u7684\u5934\u4E00\u4E2A\u8282\u70B9<code>newStartNode</code>\u5BF9\u6BD4\u65F6<code>key</code>\u76F8\u540C\u3002\u90A3\u4E48<strong>\u65E7\u5217\u8868</strong>\u7684\u5934\u6307\u9488<code>oldStartIndex</code>\u4E0E<strong>\u65B0\u5217\u8868</strong>\u7684\u5934\u6307\u9488<code>newStartIndex</code>\u540C\u65F6\u5411<strong>\u540E</strong>\u79FB\u52A8\u4E00\u4F4D\u3002</li><li>\u5F53<strong>\u65E7\u5217\u8868</strong>\u7684\u6700\u540E\u4E00\u4E2A\u8282\u70B9<code>oldEndNode</code>\u4E0E<strong>\u65B0\u5217\u8868</strong>\u7684\u6700\u540E\u4E00\u4E2A\u8282\u70B9<code>newEndNode</code>\u5BF9\u6BD4\u65F6<code>key</code>\u76F8\u540C\u3002\u90A3\u4E48<strong>\u65E7\u5217\u8868</strong>\u7684\u5C3E\u6307\u9488<code>oldEndIndex</code>\u4E0E<strong>\u65B0\u5217\u8868</strong>\u7684\u5C3E\u6307\u9488<code>newEndIndex</code>\u540C\u65F6\u5411<strong>\u524D</strong>\u79FB\u52A8\u4E00\u4F4D\u3002</li><li>\u5F53<strong>\u65E7\u5217\u8868</strong>\u7684\u5934\u4E00\u4E2A\u8282\u70B9<code>oldStartNode</code>\u4E0E<strong>\u65B0\u5217\u8868</strong>\u7684\u6700\u540E\u4E00\u4E2A\u8282\u70B9<code>newEndNode</code>\u5BF9\u6BD4\u65F6<code>key</code>\u76F8\u540C\u3002\u90A3\u4E48<strong>\u65E7\u5217\u8868</strong>\u7684\u5934\u6307\u9488<code>oldStartIndex</code>\u5411<strong>\u540E</strong>\u79FB\u52A8\u4E00\u4F4D\uFF1B<strong>\u65B0\u5217\u8868</strong>\u7684\u5C3E\u6307\u9488<code>newEndIndex</code>\u5411<strong>\u524D</strong>\u79FB\u52A8\u4E00\u4F4D\u3002</li><li>\u5F53<strong>\u65E7\u5217\u8868</strong>\u7684\u6700\u540E\u4E00\u4E2A\u8282\u70B9<code>oldEndNode</code>\u4E0E<strong>\u65B0\u5217\u8868</strong>\u7684\u5934\u4E00\u4E2A\u8282\u70B9<code>newStartNode</code>\u5BF9\u6BD4\u65F6<code>key</code>\u76F8\u540C\u3002\u90A3\u4E48<strong>\u65E7\u5217\u8868</strong>\u7684\u5C3E\u6307\u9488<code>oldEndIndex</code>\u5411<strong>\u524D</strong>\u79FB\u52A8\u4E00\u4F4D\uFF1B<strong>\u65B0\u5217\u8868</strong>\u7684\u5934\u6307\u9488<code>newStartIndex</code>\u5411<strong>\u540E</strong>\u79FB\u52A8\u4E00\u4F4D\u3002</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue2Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> oldStartIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    oldEndIndex <span class="token operator">=</span> prevChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
    newStartIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    newEndIndex <span class="token operator">=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> oldStartNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    oldEndNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldEndIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    newEndNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newEndIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">patch</span><span class="token punctuation">(</span>oldvStartNode<span class="token punctuation">,</span> newStartNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>

    oldStartIndex<span class="token operator">++</span>
    newStartIndex<span class="token operator">++</span>
    oldStartNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span>
    newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">patch</span><span class="token punctuation">(</span>oldEndNode<span class="token punctuation">,</span> newEndNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>

    oldEndIndex<span class="token operator">--</span>
    newEndIndex<span class="token operator">--</span>
    oldEndNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldEndIndex<span class="token punctuation">]</span>
    newEndNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newEndIndex<span class="token punctuation">]</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">patch</span><span class="token punctuation">(</span>oldStartNode<span class="token punctuation">,</span> newEndNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>

    oldStartIndex<span class="token operator">++</span>
    newEndIndex<span class="token operator">--</span>
    oldStartNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span>
    newEndNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newEndIndex<span class="token punctuation">]</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">patch</span><span class="token punctuation">(</span>oldEndNode<span class="token punctuation">,</span> newStartNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>

    oldEndIndex<span class="token operator">--</span>
    nextStartIndex<span class="token operator">++</span>
    oldEndNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldEndIndex<span class="token punctuation">]</span>
    newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p>\u5728\u5C0F\u8282\u7684\u5F00\u5934\uFF0C\u63D0\u5230\u4E86\u8981\u8BA9\u6307\u9488\u5411\u5185\u9760\u62E2\uFF0C\u6240\u4EE5\u6211\u4EEC\u9700\u8981\u5FAA\u73AF\u3002\u5FAA\u73AF\u505C\u6B62\u7684\u6761\u4EF6\u662F\u5F53\u5176\u4E2D\u4E00\u4E2A\u5217\u8868\u7684\u8282\u70B9\u5168\u90E8\u904D\u5386\u5B8C\u6210\uFF0C\u4EE3\u7801\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue2Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> oldStartIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    oldEndIndex <span class="token operator">=</span> prevChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
    newStartIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    newEndIndex <span class="token operator">=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> oldStartNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    oldEndNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldEndIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    newEndNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newEndIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>oldStartIndex <span class="token operator">&lt;=</span> oldEndIndex <span class="token operator">&amp;&amp;</span> newStartIndex <span class="token operator">&lt;=</span> newEndIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>oldStartNode<span class="token punctuation">,</span> newStartNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>

      oldStartIndex<span class="token operator">++</span>
      newStartIndex<span class="token operator">++</span>
      oldStartNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span>
      newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>oldEndNode<span class="token punctuation">,</span> newEndNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>

      oldEndIndex<span class="token operator">--</span>
      newndIndex<span class="token operator">--</span>
      oldEndNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldEndIndex<span class="token punctuation">]</span>
      newEndNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newEndIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>oldvStartNode<span class="token punctuation">,</span> newEndNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>

      oldStartIndex<span class="token operator">++</span>
      newEndIndex<span class="token operator">--</span>
      oldStartNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span>
      newEndNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newEndIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>oldEndNode<span class="token punctuation">,</span> newStartNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>

      oldEndIndex<span class="token operator">--</span>
      newStartIndex<span class="token operator">++</span>
      oldEndNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldEndIndex<span class="token punctuation">]</span>
      newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>\u81F3\u6B64\u6574\u4F53\u7684\u5FAA\u73AF\u6211\u4EEC\u5C31\u5168\u90E8\u5B8C\u6210\u4E86\uFF0C\u4E0B\u9762\u6211\u4EEC\u9700\u8981\u8003\u8651\u8FD9\u6837\u4E24\u4E2A\u95EE\u9898\uFF1A</p><ul><li>\u4EC0\u4E48\u60C5\u51B5\u4E0B<code>DOM</code>\u8282\u70B9\u9700\u8981\u79FB\u52A8</li><li><code>DOM</code>\u8282\u70B9\u5982\u4F55\u79FB\u52A8</li></ul><p>\u6211\u4EEC\u6765\u89E3\u51B3\u7B2C\u4E00\u4E2A\u95EE\u9898\uFF1A<strong>\u4EC0\u4E48\u60C5\u51B5\u4E0B\u9700\u8981\u79FB\u52A8</strong>\uFF0C\u6211\u4EEC\u8FD8\u662F\u4EE5\u4E0A\u56FE\u4E3A\u4F8B\u3002</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d8c96a75e48346aea2c7de1d8bfa6f67~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u5F53\u6211\u4EEC\u5728\u7B2C\u4E00\u4E2A\u5FAA\u73AF\u65F6\uFF0C\u5728<code>\u7B2C\u56DB\u6B65</code>\u53D1\u73B0<strong>\u65E7\u5217\u8868\u7684\u5C3E\u8282\u70B9</strong><code>oldEndNode</code>\u4E0E<strong>\u65B0\u5217\u8868\u7684\u5934\u8282\u70B9</strong><code>newStartNode</code>\u7684<code>key</code>\u76F8\u540C\uFF0C\u662F\u53EF\u590D\u7528\u7684<code>DOM</code>\u8282\u70B9\u3002\u901A\u8FC7\u89C2\u5BDF\u6211\u4EEC\u53EF\u4EE5\u53D1\u73B0\uFF0C<strong>\u539F\u672C\u5728\u65E7\u5217\u8868\u672B\u5C3E\u7684\u8282\u70B9\uFF0C\u5374\u662F\u65B0\u5217\u8868\u4E2D\u7684\u5F00\u5934\u8282\u70B9\uFF0C\u6CA1\u6709\u4EBA\u6BD4\u4ED6\u66F4\u9760\u524D\uFF0C\u56E0\u4E3A\u4ED6\u662F\u7B2C\u4E00\u4E2A\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EA\u9700\u8981\u628A\u5F53\u524D\u7684\u8282\u70B9\u79FB\u52A8\u5230\u539F\u672C\u65E7\u5217\u8868\u4E2D\u7684\u7B2C\u4E00\u4E2A\u8282\u70B9\u4E4B\u524D\uFF0C\u8BA9\u5B83\u6210\u4E3A\u7B2C\u4E00\u4E2A\u8282\u70B9\u5373\u53EF</strong>\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue2Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment">// ...</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>oldStartIndex <span class="token operator">&lt;=</span> oldEndIndex <span class="token operator">&amp;&amp;</span> newStartIndex <span class="token operator">&lt;=</span> newEndIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">// ...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>oldEndNode<span class="token punctuation">,</span> newStartNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
      <span class="token comment">// \u79FB\u52A8\u5230\u65E7\u5217\u8868\u5934\u8282\u70B9\u4E4B\u524D</span>
      parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>el<span class="token punctuation">,</span> oldStartNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
      
      oldEndIndex<span class="token operator">--</span>
      newStartIndex<span class="token operator">++</span>
      oldEndNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldEndIndex<span class="token punctuation">]</span>
      newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c7f3368a5a5744bcb2b356d7424093a6~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u7136\u540E\u6211\u4EEC\u8FDB\u5165\u7B2C\u4E8C\u6B21\u5FAA\u73AF\uFF0C\u6211\u4EEC\u5728<code>\u7B2C\u4E8C\u6B65</code>\u53D1\u73B0\uFF0C<strong>\u65E7\u5217\u8868\u7684\u5C3E\u8282\u70B9</strong><code>oldEndNode</code>\u548C<strong>\u65B0\u5217\u8868\u7684\u5C3E\u8282\u70B9</strong><code>newEndNode</code>\u4E3A\u590D\u7528\u8282\u70B9\u3002<strong>\u539F\u672C\u5728\u65E7\u5217\u8868\u4E2D\u5C31\u662F\u5C3E\u8282\u70B9\uFF0C\u5728\u65B0\u5217\u8868\u4E2D\u4E5F\u662F\u5C3E\u8282\u70B9\uFF0C\u8BF4\u660E\u8BE5\u8282\u70B9\u4E0D\u9700\u8981\u79FB\u52A8</strong>\uFF0C\u6240\u4EE5\u6211\u4EEC\u4EC0\u4E48\u90FD\u4E0D\u9700\u8981\u505A\u3002</p><p>\u540C\u7406\uFF0C\u5982\u679C\u662F<strong>\u65E7\u5217\u8868\u7684\u5934\u8282\u70B9</strong><code>oldStartNode</code>\u548C<strong>\u65B0\u5217\u8868\u7684\u5934\u8282\u70B9</strong><code>newStartNode</code>\u4E3A\u590D\u7528\u8282\u70B9\uFF0C\u6211\u4EEC\u4E5F\u4EC0\u4E48\u90FD\u4E0D\u9700\u8981\u505A\u3002</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2520c8511aad44589947be3616f7f50b~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u8FDB\u5165\u7B2C\u4E09\u6B21\u5FAA\u73AF\uFF0C\u6211\u4EEC\u5728<code>\u7B2C\u4E09\u90E8</code>\u53D1\u73B0\uFF0C<strong>\u65E7\u5217\u8868\u7684\u5934\u8282\u70B9</strong><code>oldStartNode</code>\u548C<strong>\u65B0\u5217\u8868\u7684\u5C3E\u8282\u70B9</strong><code>newEndNode</code>\u4E3A\u590D\u7528\u8282\u70B9\u3002\u5230\u8FD9\u4E00\u6B65\u806A\u660E\u5982\u4F60\u80AF\u5B9A\u5C31\u4E00\u773C\u53EF\u4EE5\u770B\u51FA\u6765\u4E86\uFF0C\u6211\u4EEC\u53EA\u8981\u5C06<code>DOM-A</code>\u79FB\u52A8\u5230<code>DOM-B</code>\u540E\u9762\u5C31\u53EF\u4EE5\u4E86\u3002</p><p>\u4F9D\u7167\u60EF\u4F8B\u6211\u4EEC\u8FD8\u662F\u89E3\u91CA\u4E00\u4E0B\uFF0C<strong>\u539F\u672C\u65E7\u5217\u8868\u4E2D\u662F\u5934\u8282\u70B9\uFF0C\u7136\u540E\u5728\u65B0\u5217\u8868\u4E2D\u662F\u5C3E\u8282\u70B9\u3002\u90A3\u4E48\u53EA\u8981\u5728\u65E7\u5217\u8868\u4E2D\u628A\u5F53\u524D\u7684\u8282\u70B9\u79FB\u52A8\u5230\u539F\u672C\u5C3E\u8282\u70B9\u7684\u540E\u9762\uFF0C\u5C31\u53EF\u4EE5\u4E86</strong>\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue2Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>oldStartIndex <span class="token operator">&lt;=</span> oldEndIndex <span class="token operator">&amp;&amp;</span> newStartIndex <span class="token operator">&lt;=</span> newEndIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>oldStartNode<span class="token punctuation">,</span> newEndNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
      parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>el<span class="token punctuation">,</span> oldEndNode<span class="token punctuation">.</span>el<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span>

      oldStartIndex<span class="token operator">++</span>
      newEndIndex<span class="token operator">--</span>
      oldStartNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span>
      newEndNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newEndIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">//...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d0a744cac8045fc9ae4f593a153cc72~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>OK\uFF0C\u8FDB\u5165\u6700\u540E\u4E00\u4E2A\u5FAA\u73AF\u3002\u5728<code>\u7B2C\u4E00\u6B65</code><strong>\u65E7\u5217\u8868</strong>\u5934\u8282\u70B9<code>oldStartNode</code>\u4E0E<strong>\u65B0\u5217\u8868</strong>\u5934\u8282\u70B9<code>newStartNode</code>\u4F4D\u7F6E\u76F8\u540C\uFF0C\u6240\u4EE5\u5565\u4E5F\u4E0D\u7528\u505A\u3002\u7136\u540E\u7ED3\u675F\u5FAA\u73AF\uFF0C\u8FD9\u5C31\u662F<code>Vue2 \u53CC\u7AEF\u6BD4\u8F83</code>\u7684\u539F\u7406\u3002</p><p><strong>2. \u975E\u7406\u60F3\u60C5\u51B5</strong></p><p>\u4E0A\u4E00\u5C0F\u8282\uFF0C\u6211\u4EEC\u8BB2\u4E86<code>\u53CC\u7AEF\u6BD4\u8F83</code>\u7684\u539F\u7406\uFF0C\u4F46\u662F\u6709\u4E00\u79CD\u7279\u6B8A\u60C5\u51B5\uFF0C\u5F53\u56DB\u6B21\u5BF9\u6BD4\u90FD<strong>\u6CA1\u627E\u5230</strong>\u590D\u7528\u8282\u70B9\u65F6\uFF0C\u6211\u4EEC\u53EA\u80FD\u62FF<strong>\u65B0\u5217\u8868</strong>\u7684\u7B2C\u4E00\u4E2A\u8282\u70B9\u53BB<strong>\u65E7\u5217\u8868</strong>\u4E2D\u627E\u4E0E\u5176<code>key</code>\u76F8\u540C\u7684\u8282\u70B9\u3002</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2dea77f7267b406ca0dc8600096c4dc1~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue2Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>oldStartIndex <span class="token operator">&lt;=</span> oldEndIndex <span class="token operator">&amp;&amp;</span> newStartIndex <span class="token operator">&lt;=</span> newEndIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5728\u65E7\u5217\u8868\u4E2D\u627E\u5230 \u548C\u65B0\u5217\u8868\u5934\u8282\u70B9key \u76F8\u540C\u7684\u8282\u70B9</span>
      <span class="token keyword">let</span> newKey <span class="token operator">=</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">,</span>
        oldIndex <span class="token operator">=</span> prevChildren<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">child</span> <span class="token operator">=&gt;</span> child<span class="token punctuation">.</span>key <span class="token operator">===</span> newKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
      
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>\u627E\u8282\u70B9\u7684\u65F6\u5019\u5176\u5B9E\u4F1A\u6709\u4E24\u79CD\u60C5\u51B5\uFF1A\u4E00\u79CD\u5728<strong>\u65E7\u5217\u8868</strong>\u4E2D\u627E\u5230\u4E86\uFF0C\u53E6\u4E00\u79CD\u60C5\u51B5\u662F\u6CA1\u627E\u5230\u3002\u6211\u4EEC\u5148\u4EE5\u4E0A\u56FE\u4E3A\u4F8B\uFF0C\u8BF4\u4E00\u4E0B\u627E\u5230\u7684\u60C5\u51B5\u3002</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a74e61a47abb4e3ca85ffee65410340d~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u5F53\u6211\u4EEC\u5728\u65E7\u5217\u8868\u4E2D\u627E\u5230\u5BF9\u5E94\u7684<code>VNode</code>\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u5C06\u627E\u5230\u7684\u8282\u70B9\u7684<code>DOM</code>\u5143\u7D20\uFF0C\u79FB\u52A8\u5230\u5F00\u5934\u5C31\u53EF\u4EE5\u4E86\u3002\u8FD9\u91CC\u7684\u903B\u8F91\u5176\u5B9E\u548C<code>\u7B2C\u56DB\u6B65</code>\u7684\u903B\u8F91\u662F\u4E00\u6837\u7684\uFF0C\u53EA\u4E0D\u8FC7<code>\u7B2C\u56DB\u6B65</code>\u662F\u79FB\u52A8\u7684\u5C3E\u8282\u70B9\uFF0C\u8FD9\u91CC\u662F\u79FB\u52A8\u627E\u5230\u7684\u8282\u70B9\u3002<code>DOM</code>\u79FB\u52A8\u540E\uFF0C\u7531\u6211\u4EEC\u5C06<strong>\u65E7\u5217\u8868</strong>\u4E2D\u7684\u8282\u70B9\u6539\u4E3A<code>undefined</code>\uFF0C\u8FD9\u662F<strong>\u81F3\u5173\u91CD\u8981</strong>\u7684\u4E00\u6B65\uFF0C\u56E0\u4E3A\u6211\u4EEC\u5DF2\u7ECF\u505A\u4E86\u8282\u70B9\u7684\u79FB\u52A8\u4E86\u6240\u4EE5\u6211\u4EEC\u4E0D\u9700\u8981\u8FDB\u884C\u518D\u6B21\u7684\u5BF9\u6BD4\u4E86\u3002\u6700\u540E\u6211\u4EEC\u5C06\u5934\u6307\u9488<code>newStartIndex</code>\u5411\u540E\u79FB\u4E00\u4F4D\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue2Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>oldStartIndex <span class="token operator">&lt;=</span> oldEndIndex <span class="token operator">&amp;&amp;</span> newStartIndex <span class="token operator">&lt;=</span> newEndIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5728\u65E7\u5217\u8868\u4E2D\u627E\u5230 \u548C\u65B0\u5217\u8868\u5934\u8282\u70B9key \u76F8\u540C\u7684\u8282\u70B9</span>
      <span class="token keyword">let</span> newtKey <span class="token operator">=</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">,</span>
        oldIndex <span class="token operator">=</span> prevChildren<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">child</span> <span class="token operator">=&gt;</span> child<span class="token punctuation">.</span>key <span class="token operator">===</span> newKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
      
      <span class="token keyword">if</span> <span class="token punctuation">(</span>oldIndex <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> oldNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">patch</span><span class="token punctuation">(</span>oldNode<span class="token punctuation">,</span> newStartNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
        parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>oldNode<span class="token punctuation">.</span>el<span class="token punctuation">,</span> oldStartNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
        prevChildren<span class="token punctuation">[</span>oldIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>
      <span class="token punctuation">}</span>
      newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span><span class="token operator">++</span>newStartIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>\u5982\u679C\u5728<strong>\u65E7\u5217\u8868</strong>\u4E2D\u6CA1\u6709\u627E\u5230\u590D\u7528\u8282\u70B9\u5462\uFF1F\u5F88\u7B80\u5355\uFF0C\u76F4\u63A5\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u8282\u70B9\u653E\u5230\u6700\u524D\u9762\u5C31\u53EF\u4EE5\u4E86\uFF0C\u7136\u540E\u540E\u79FB\u5934\u6307\u9488<code>newStartIndex</code>\u3002</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4bbefb16b2bf4d52bb9b2a5f5ea86ec1~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue2Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>oldStartIndex <span class="token operator">&lt;=</span> oldEndIndex <span class="token operator">&amp;&amp;</span> newStartIndex <span class="token operator">&lt;=</span> newEndIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5728\u65E7\u5217\u8868\u4E2D\u627E\u5230 \u548C\u65B0\u5217\u8868\u5934\u8282\u70B9key \u76F8\u540C\u7684\u8282\u70B9</span>
      <span class="token keyword">let</span> newtKey <span class="token operator">=</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">,</span>
        oldIndex <span class="token operator">=</span> prevChildren<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">child</span> <span class="token operator">=&gt;</span> child<span class="token punctuation">.</span>key <span class="token operator">===</span> newKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
      
      <span class="token keyword">if</span> <span class="token punctuation">(</span>oldIndex <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> oldNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">patch</span><span class="token punctuation">(</span>oldNode<span class="token punctuation">,</span> newStartNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
        parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>oldNode<span class="token punctuation">.</span>el<span class="token punctuation">,</span> oldStartNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
        prevChildren<span class="token punctuation">[</span>oldIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      	<span class="token function">mount</span><span class="token punctuation">(</span>newStartNode<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> oldStartNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span><span class="token operator">++</span>newStartIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>\u6700\u540E\u5F53<strong>\u65E7\u5217\u8868</strong>\u904D\u5386\u5230<code>undefind</code>\u65F6\u5C31\u8DF3\u8FC7\u5F53\u524D\u8282\u70B9\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue2Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>oldStartIndex <span class="token operator">&lt;=</span> oldEndIndex <span class="token operator">&amp;&amp;</span> newStartIndex <span class="token operator">&lt;=</span> newEndIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode <span class="token operator">===</span> undefind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	oldStartNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span><span class="token operator">++</span>oldStartIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode <span class="token operator">===</span> undefind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	oldEndNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span><span class="token operator">--</span>oldEndIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>3. \u6DFB\u52A0\u8282\u70B9</strong></p><p>\u6211\u4EEC\u5148\u6765\u770B\u4E00\u4E2A\u4F8B\u5B50</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/85517a9eb0a34165832394b9d4e7627d~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u8FD9\u4E2A\u4F8B\u5B50\u975E\u5E38\u7B80\u5355\uFF0C\u51E0\u6B21\u5FAA\u73AF\u90FD\u662F\u5C3E\u8282\u70B9\u76F8\u540C\uFF0C\u5C3E\u6307\u9488\u4E00\u76F4\u5411\u524D\u79FB\u52A8\uFF0C\u76F4\u5230\u5FAA\u73AF\u7ED3\u675F\uFF0C\u5982\u4E0B\u56FE</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/668208458312440cae49139534fd6d59~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u6B64\u65F6<code>oldEndIndex</code>\u4EE5\u53CA\u5C0F\u4E8E\u4E86<code>oldStartIndex</code>\uFF0C\u4F46\u662F<strong>\u65B0\u5217\u8868</strong>\u4E2D\u8FD8\u6709\u5269\u4F59\u7684\u8282\u70B9\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u5C06\u5269\u4F59\u7684\u8282\u70B9\u4F9D\u6B21\u63D2\u5165\u5230<code>oldStartNode</code>\u7684<code>DOM</code>\u4E4B\u524D\u5C31\u53EF\u4EE5\u4E86\u3002\u4E3A\u4EC0\u4E48\u662F\u63D2\u5165<code>oldStartNode</code>\u4E4B\u524D\u5462\uFF1F\u539F\u56E0\u662F\u5269\u4F59\u7684\u8282\u70B9\u5728<strong>\u65B0\u5217\u8868</strong>\u7684\u4F4D\u7F6E\u662F\u4F4D\u4E8E<code>oldStartNode</code>\u4E4B\u524D\u7684\uFF0C\u5982\u679C\u5269\u4F59\u8282\u70B9\u662F\u5728<code>oldStartNode</code>\u4E4B\u540E\uFF0C<code>oldStartNode</code>\u5C31\u4F1A\u5148\u884C\u5BF9\u6BD4\uFF0C\u8FD9\u4E2A\u9700\u8981\u601D\u8003\u4E00\u4E0B\uFF0C\u5176\u5B9E\u8FD8\u662F\u4E0E<code>\u7B2C\u56DB\u6B65</code>\u7684\u601D\u8DEF\u4E00\u6837\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue2Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>oldStartIndex <span class="token operator">&lt;=</span> oldEndIndex <span class="token operator">&amp;&amp;</span> newStartIndex <span class="token operator">&lt;=</span> newEndIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndIndex <span class="token operator">&lt;</span> oldStartIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> newStartIndex<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> newEndIndex<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">mount</span><span class="token punctuation">(</span>nextChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> parent<span class="token punctuation">,</span> prevStartNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>4. \u79FB\u9664\u8282\u70B9</strong></p><p>\u4E0E\u4E0A\u4E00\u5C0F\u8282\u7684\u60C5\u51B5\u76F8\u53CD\uFF0C\u5F53<strong>\u65B0\u5217\u8868</strong>\u7684<code>newEndIndex</code>\u5C0F\u4E8E<code>newStartIndex</code>\u65F6\uFF0C\u6211\u4EEC\u5C06<strong>\u65E7\u5217\u8868</strong>\u5269\u4F59\u7684\u8282\u70B9\u5220\u9664\u5373\u53EF\u3002\u8FD9\u91CC\u6211\u4EEC\u9700\u8981\u6CE8\u610F\uFF0C<strong>\u65E7\u5217\u8868</strong>\u7684<code>undefind</code>\u3002\u5728\u7B2C\u4E8C\u5C0F\u8282\u4E2D\u6211\u4EEC\u63D0\u5230\u8FC7\uFF0C\u5F53\u5934\u5C3E\u8282\u70B9\u90FD\u4E0D\u76F8\u540C\u65F6\uFF0C\u6211\u4EEC\u4F1A\u53BB<strong>\u65E7\u5217\u8868</strong>\u4E2D\u627E<strong>\u65B0\u5217\u8868</strong>\u7684\u7B2C\u4E00\u4E2A\u8282\u70B9\uFF0C\u79FB\u52A8\u5B8CDOM\u8282\u70B9\u540E\uFF0C\u5C06<strong>\u65E7\u5217\u8868</strong>\u7684\u90A3\u4E2A\u8282\u70B9\u6539\u4E3A<code>undefind</code>\u3002\u6240\u4EE5\u6211\u4EEC\u5728\u6700\u540E\u7684\u5220\u9664\u65F6\uFF0C\u9700\u8981\u6CE8\u610F\u8FD9\u4E9B<code>undefind</code>\uFF0C\u9047\u5230\u7684\u8BDD\u8DF3\u8FC7\u5F53\u524D\u5FAA\u73AF\u5373\u53EF\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue2Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>oldStartIndex <span class="token operator">&lt;=</span> oldEndIndex <span class="token operator">&amp;&amp;</span> newStartIndex <span class="token operator">&lt;=</span> newEndIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndIndex <span class="token operator">&lt;</span> oldStartIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> newStartIndex<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> newEndIndex<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">mount</span><span class="token punctuation">(</span>nextChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> parent<span class="token punctuation">,</span> prevStartNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>newEndIndex <span class="token operator">&lt;</span> newStartIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> oldStartIndex<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> oldEndIndex<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>prevChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        partent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>5. \u5C0F\u7ED3</strong></p><p>\u81F3\u6B64<code>\u53CC\u7AEF\u6BD4\u8F83</code>\u5168\u90E8\u5B8C\u6210\uFF0C\u4EE5\u4E0B\u662F\u5168\u90E8\u4EE3\u7801\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue2diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> oldStartIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    newStartIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    oldStartIndex <span class="token operator">=</span> prevChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
    newStartIndex <span class="token operator">=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
    oldStartNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    oldEndNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span><span class="token punctuation">,</span>
    newEndNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>oldStartIndex <span class="token operator">&lt;=</span> oldStartIndex <span class="token operator">&amp;&amp;</span> newStartIndex <span class="token operator">&lt;=</span> newStartIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      oldStartNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span><span class="token operator">++</span>oldStartIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      oldEndNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span><span class="token operator">--</span>oldStartIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>oldStartNode<span class="token punctuation">,</span> newStartNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>

      oldStartIndex<span class="token operator">++</span>
      newStartIndex<span class="token operator">++</span>
      oldStartNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span>
      newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>oldEndNode<span class="token punctuation">,</span> newEndNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>

      oldStartIndex<span class="token operator">--</span>
      newStartIndex<span class="token operator">--</span>
      oldEndNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span>
      newEndNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newEndNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>oldStartNode<span class="token punctuation">,</span> newEndNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
      parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>oldStartNode<span class="token punctuation">.</span>el<span class="token punctuation">,</span> oldEndNode<span class="token punctuation">.</span>el<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span>
      oldStartIndex<span class="token operator">++</span>
      newStartIndex<span class="token operator">--</span>
      oldStartNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span>
      newEndNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>key <span class="token operator">===</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>oldEndNode<span class="token punctuation">,</span> newStartNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
      parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>oldEndNode<span class="token punctuation">.</span>el<span class="token punctuation">,</span> oldStartNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
      oldStartIndex<span class="token operator">--</span>
      newStartIndex<span class="token operator">++</span>
      oldEndNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span>
      newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> newKey <span class="token operator">=</span> newStartNode<span class="token punctuation">.</span>key<span class="token punctuation">,</span>
        oldIndex <span class="token operator">=</span> prevChildren<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">child</span> <span class="token operator">=&gt;</span> child <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>child<span class="token punctuation">.</span>key <span class="token operator">===</span> newKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>oldIndex <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">mount</span><span class="token punctuation">(</span>newStartNode<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> oldStartNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>oldIndex<span class="token punctuation">]</span>
        <span class="token function">patch</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">,</span> newStartNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
        parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">.</span>el<span class="token punctuation">,</span> oldStartNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
        prevChildren<span class="token punctuation">[</span>oldIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>
      <span class="token punctuation">}</span>
      newStartIndex<span class="token operator">++</span>
      newStartNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>newStartIndex <span class="token operator">&gt;</span> newStartIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>oldStartIndex <span class="token operator">&lt;=</span> oldStartIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        oldStartIndex<span class="token operator">++</span>
        <span class="token keyword">continue</span>
      <span class="token punctuation">}</span>
      parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">[</span>oldStartIndex<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldStartIndex <span class="token operator">&gt;</span> oldStartIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>newStartIndex <span class="token operator">&lt;=</span> newStartIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">mount</span><span class="token punctuation">(</span>nextChildren<span class="token punctuation">[</span>newStartIndex<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> parent<span class="token punctuation">,</span> oldStartNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div>`,56),wyn={id:"_4-3-vue3-diff-\u2014\u2014-\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217",tabindex:"-1"},yyn=n("a",{class:"header-anchor",href:"#_4-3-vue3-diff-\u2014\u2014-\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217","aria-hidden":"true"},"#",-1),xyn=s(),Ayn={href:"http://interview.poetries.top/excellent-docs/16-%E6%A1%86%E6%9E%B6%E9%80%9A%E8%AF%86.html#_4-3-vue3-diff-%E6%9C%80%E9%95%BF%E9%80%92%E5%A2%9E%E5%AD%90%E5%BA%8F%E5%88%97",target:"_blank",rel:"noopener noreferrer"},Byn=s("#"),qyn=s("4.3 Vue3 Diff \u2014\u2014 \u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217"),jyn=n("code",null,"vue3",-1),Syn=s("\u7684"),Cyn=n("code",null,"diff",-1),Dyn=s("\u501F\u9274\u4E8E"),Fyn={href:"https://github.com/infernojs/inferno",target:"_blank",rel:"noopener noreferrer"},Pyn=s("inferno (opens new window)"),Tyn=s("\uFF0C\u8BE5\u7B97\u6CD5\u5176\u4E2D\u6709\u4E24\u4E2A\u7406\u5FF5\u3002\u7B2C\u4E00\u4E2A\u662F\u76F8\u540C\u7684\u524D\u7F6E\u4E0E\u540E\u7F6E\u5143\u7D20\u7684\u9884\u5904\u7406\uFF1B\u7B2C\u4E8C\u4E2A\u5219\u662F\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\uFF0C\u6B64\u601D\u60F3\u4E0E"),Nyn=n("code",null,"React",-1),Myn=s("\u7684"),Oyn=n("code",null,"diff",-1),Iyn=s("\u7C7B\u4F3C\u53C8\u4E0D\u5C3D\u76F8\u540C\u3002\u4E0B\u9762\u6211\u4EEC\u6765\u4E00\u4E00\u4ECB\u7ECD\u3002"),Ryn=t(`<p><strong>1. \u524D\u7F6E\u4E0E\u540E\u7F6E\u7684\u9884\u5904\u7406</strong></p><p>\u6211\u4EEC\u770B\u8FD9\u4E24\u6BB5\u6587\u5B57</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Hello World
Hey World
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5176\u5B9E\u5C31\u7B80\u5355\u7684\u770B\u4E00\u773C\u6211\u4EEC\u5C31\u80FD\u53D1\u73B0\uFF0C\u8FD9\u4E24\u6BB5\u6587\u5B57\u662F\u6709\u4E00\u90E8\u5206\u662F\u76F8\u540C\u7684\uFF0C<strong>\u8FD9\u4E9B\u6587\u5B57\u662F\u4E0D\u9700\u8981\u4FEE\u6539\u4E5F\u4E0D\u9700\u8981\u79FB\u52A8\u7684</strong>\uFF0C\u771F\u6B63\u9700\u8981\u8FDB\u884C\u4FEE\u6539\u4E2D\u95F4\u7684\u51E0\u4E2A\u5B57\u6BCD\uFF0C\u6240\u4EE5<code>diff</code>\u5C31\u53D8\u6210\u4EE5\u4E0B\u90E8\u5206</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>text1: &#39;llo&#39;
text2: &#39;y&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u63A5\u4E0B\u6765\u6362\u6210<code>vnode</code>\uFF0C\u6211\u4EEC\u4EE5\u4E0B\u56FE\u4E3A\u4F8B\u3002</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/90a27b4fa05b434889d99ae6fe832b4d~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u56FE\u4E2D\u7684\u88AB\u7EFF\u8272\u6846\u8D77\u6765\u7684\u8282\u70B9\uFF0C\u4ED6\u4EEC\u662F\u4E0D\u9700\u8981\u79FB\u52A8\u7684\uFF0C\u53EA\u9700\u8981\u8FDB\u884C\u6253\u8865\u4E01<code>patch</code>\u5C31\u53EF\u4EE5\u4E86\u3002\u6211\u4EEC\u628A\u8BE5\u903B\u8F91\u5199\u6210\u4EE3\u7801\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    prevEnd <span class="token operator">=</span> prevChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
    nextEnd <span class="token operator">=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
    prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>
    nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>prevNode<span class="token punctuation">.</span>key <span class="token operator">===</span> nextNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">patch</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">,</span> nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
    j<span class="token operator">++</span>
    prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
    nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  
  prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>prevEnd<span class="token punctuation">]</span>
  nextNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>nextEnd<span class="token punctuation">]</span>
  
  <span class="token keyword">while</span> <span class="token punctuation">(</span>prevNode<span class="token punctuation">.</span>key <span class="token operator">===</span> nextNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">patch</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">,</span> nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
    prevEnd<span class="token operator">--</span>
    nextEnd<span class="token operator">--</span>
    prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>prevEnd<span class="token punctuation">]</span>
    nextNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>nextEnd<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>\u8FD9\u65F6\u5019\uFF0C\u6211\u4EEC\u5C31\u9700\u8981\u8003\u8651\u8FB9\u754C\u60C5\u51B5\u4E86\uFF0C\u8FD9\u91CC\u6709\u4E24\u79CD\u60C5\u51B5\u3002\u4E00\u79CD\u662F<code>j &gt; prevEnd</code>\uFF1B\u53E6\u4E00\u79CD\u662F<code>j &gt; nextEnd</code>\u3002</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/52779ed5f26a451d8098e945709132cf~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u6211\u4EEC\u4EE5\u8FD9\u5F20\u56FE\u4E3A\u4F8B\uFF0C\u6B64\u65F6<code>j &gt; prevEnd</code>\u4E14<code>j &lt;= nextEnd</code>\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u628A<strong>\u65B0\u5217\u8868</strong>\u4E2D<code>j</code>\u5230<code>nextEnd</code>\u4E4B\u95F4\u5269\u4E0B\u7684\u8282\u70B9<strong>\u63D2\u5165</strong>\u8FDB\u53BB\u5C31\u53EF\u4EE5\u4E86\u3002\u76F8\u53CD\uFF0C \u5982\u679C<code>j &gt; nextEnd</code>\u65F6\uFF0C\u6211\u4EEC\u628A<strong>\u65E7\u5217\u8868</strong>\u4E2D<code>j</code>\u5230<code>prevEnd</code>\u4E4B\u95F4\u7684\u8282\u70B9<strong>\u5220\u9664</strong>\u5C31\u53EF\u4EE5\u4E86\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> prevEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> nextpos <span class="token operator">=</span> nextEnd <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
      refNode <span class="token operator">=</span> nextpos <span class="token operator">&gt;=</span> nextChildren<span class="token punctuation">.</span>length
                <span class="token operator">?</span> <span class="token keyword">null</span>
                <span class="token operator">:</span> nextChildren<span class="token punctuation">[</span>nextpos<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">)</span> <span class="token function">mount</span><span class="token punctuation">(</span>nextChildren<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> parent<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
    
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> nextEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">)</span> parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u6211\u4EEC\u518D\u7EE7\u7EED\u601D\u8003\uFF0C\u5728\u6211\u4EEC<code>while</code>\u5FAA\u73AF\u65F6\uFF0C\u6307\u9488\u662F\u4ECE\u4E24\u7AEF\u5411\u5185\u9010\u6E10\u9760\u62E2\u7684\uFF0C\u6240\u4EE5\u6211\u4EEC\u5E94\u8BE5\u5728\u5FAA\u73AF\u4E2D\u5C31\u5E94\u8BE5\u53BB\u5224\u65AD\u8FB9\u754C\u60C5\u51B5\uFF0C\u6211\u4EEC\u4F7F\u7528<code>label</code>\u8BED\u6CD5\uFF0C\u5F53\u6211\u4EEC\u89E6\u53D1\u8FB9\u754C\u60C5\u51B5\u65F6\uFF0C\u9000\u51FA\u5168\u90E8\u7684\u5FAA\u73AF\uFF0C\u76F4\u63A5\u8FDB\u5165\u5224\u65AD\u3002\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    prevEnd <span class="token operator">=</span> prevChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
    nextEnd <span class="token operator">=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
    prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>
    nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// label\u8BED\u6CD5</span>
  <span class="token literal-property property">outer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>prevNode<span class="token punctuation">.</span>key <span class="token operator">===</span> nextNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">,</span> nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
      j<span class="token operator">++</span>
      <span class="token comment">// \u5FAA\u73AF\u4E2D\u5982\u679C\u89E6\u53D1\u8FB9\u754C\u60C5\u51B5\uFF0C\u76F4\u63A5break\uFF0C\u6267\u884Couter\u4E4B\u540E\u7684\u5224\u65AD</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> prevEnd <span class="token operator">||</span> j <span class="token operator">&gt;</span> nextEnd<span class="token punctuation">)</span> <span class="token keyword">break</span> outer
      prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
      nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

    prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>prevEnd<span class="token punctuation">]</span>
    nextNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>nextEnd<span class="token punctuation">]</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>prevNode<span class="token punctuation">.</span>key <span class="token operator">===</span> nextNode<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">,</span> nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span>
      prevEnd<span class="token operator">--</span>
      nextEnd<span class="token operator">--</span>
      <span class="token comment">// \u5FAA\u73AF\u4E2D\u5982\u679C\u89E6\u53D1\u8FB9\u754C\u60C5\u51B5\uFF0C\u76F4\u63A5break\uFF0C\u6267\u884Couter\u4E4B\u540E\u7684\u5224\u65AD</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> prevEnd <span class="token operator">||</span> j <span class="token operator">&gt;</span> nextEnd<span class="token punctuation">)</span> <span class="token keyword">break</span> outer
      prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>prevEnd<span class="token punctuation">]</span>
      nextNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>nextEnd<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// \u8FB9\u754C\u60C5\u51B5\u7684\u5224\u65AD</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> prevEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> nextpos <span class="token operator">=</span> nextEnd <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
      refNode <span class="token operator">=</span> nextpos <span class="token operator">&gt;=</span> nextChildren<span class="token punctuation">.</span>length
                <span class="token operator">?</span> <span class="token keyword">null</span>
                <span class="token operator">:</span> nextChildren<span class="token punctuation">[</span>nextpos<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">)</span> <span class="token function">mount</span><span class="token punctuation">(</span>nextChildren<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> parent<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
    
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> nextEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">)</span> parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>prevChildren<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p><strong>2. \u5224\u65AD\u662F\u5426\u9700\u8981\u79FB\u52A8</strong></p><p>\u5176\u5B9E\u51E0\u4E2A\u7B97\u6CD5\u770B\u4E0B\u6765\uFF0C\u5957\u8DEF\u5DF2\u7ECF\u5F88\u660E\u663E\u4E86\uFF0C\u5C31\u662F\u627E\u5230\u79FB\u52A8\u7684\u8282\u70B9\uFF0C\u7136\u540E\u7ED9\u4ED6\u79FB\u52A8\u5230\u6B63\u786E\u7684\u4F4D\u7F6E\u3002\u628A\u8BE5\u52A0\u7684\u65B0\u8282\u70B9\u6DFB\u52A0\u597D\uFF0C\u628A\u8BE5\u5220\u7684\u65E7\u8282\u70B9\u5220\u4E86\uFF0C\u6574\u4E2A\u7B97\u6CD5\u5C31\u7ED3\u675F\u4E86\u3002\u8FD9\u4E2A\u7B97\u6CD5\u4E5F\u4E0D\u4F8B\u5916\uFF0C\u6211\u4EEC\u63A5\u4E0B\u6765\u770B\u4E00\u4E0B\u5B83\u662F\u5982\u4F55\u505A\u7684\u3002</p><p>\u5F53<code>\u524D/\u540E\u7F6E</code>\u7684\u9884\u5904\u7406\u7ED3\u675F\u540E\uFF0C\u6211\u4EEC\u8FDB\u5165\u771F\u6B63\u7684<code>diff</code>\u73AF\u8282\u3002\u9996\u5148\uFF0C\u6211\u4EEC\u5148\u6839\u636E<strong>\u65B0\u5217\u8868</strong>\u5269\u4F59\u7684\u8282\u70B9\u6570\u91CF\uFF0C\u521B\u5EFA\u4E00\u4E2A<code>source</code>\u6570\u7EC4\uFF0C\u5E76\u5C06\u6570\u7EC4\u586B\u6EE1<code>-1</code>\u3002</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/75944ec3b6a245989a0eaf7e474ef174~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u6211\u4EEC\u5148\u5199\u8FD9\u5757\u903B\u8F91\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token literal-property property">outer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// \u8FB9\u754C\u60C5\u51B5\u7684\u5224\u65AD</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> prevEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> nextEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> prevStart <span class="token operator">=</span> j<span class="token punctuation">,</span>
      nextStart <span class="token operator">=</span> j<span class="token punctuation">,</span>
      nextLeft <span class="token operator">=</span> nextEnd <span class="token operator">-</span> nextStart <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>     <span class="token comment">// \u65B0\u5217\u8868\u4E2D\u5269\u4F59\u7684\u8282\u70B9\u957F\u5EA6</span>
      source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>nextLeft<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// \u521B\u5EFA\u6570\u7EC4\uFF0C\u586B\u6EE1-1</span>
     
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>\u90A3\u4E48\u8FD9\u4E2A<code>source</code>\u6570\u7EC4\uFF0C\u662F\u8981\u505A\u4EC0\u4E48\u7684\u5462\uFF1F\u4ED6\u5C31\u662F\u6765\u505A\u65B0\u65E7\u8282\u70B9\u7684\u5BF9\u5E94\u5173\u7CFB\u7684\uFF0C\u6211\u4EEC\u5C06<strong>\u65B0\u8282\u70B9</strong>\u5728<strong>\u65E7\u5217\u8868</strong>\u7684\u4F4D\u7F6E\u5B58\u50A8\u5728\u8BE5\u6570\u7EC4\u4E2D\uFF0C\u6211\u4EEC\u5728\u6839\u636E<code>source</code>\u8BA1\u7B97\u51FA\u5B83\u7684<code>\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217</code>\u7528\u4E8E\u79FB\u52A8DOM\u8282\u70B9\u3002\u4E3A\u6B64\uFF0C\u6211\u4EEC\u5148\u5EFA\u7ACB\u4E00\u4E2A\u5BF9\u8C61\u5B58\u50A8\u5F53\u524D<strong>\u65B0\u5217\u8868</strong>\u4E2D\u7684<code>\u8282\u70B9</code>\u4E0E<code>index</code>\u7684\u5173\u7CFB\uFF0C\u518D\u53BB<strong>\u65E7\u5217\u8868</strong>\u4E2D\u53BB\u627E\u4F4D\u7F6E\u3002</p><p>\u5728\u627E\u8282\u70B9\u65F6\u8981\u6CE8\u610F\uFF0C<strong>\u5982\u679C\u65E7\u8282\u70B9\u5728\u65B0\u5217\u8868\u4E2D\u6CA1\u6709\u7684\u8BDD\uFF0C\u76F4\u63A5\u5220\u9664\u5C31\u597D</strong>\u3002\u9664\u6B64\u4E4B\u5916\uFF0C\u6211\u4EEC\u8FD8\u9700\u8981\u4E00\u4E2A\u6570\u91CF\u8868\u793A\u8BB0\u5F55\u6211\u4EEC\u5DF2\u7ECF<code>patch</code>\u8FC7\u7684\u8282\u70B9\uFF0C\u5982\u679C\u6570\u91CF\u5DF2\u7ECF\u4E0E<strong>\u65B0\u5217\u8868</strong>\u5269\u4F59\u7684\u8282\u70B9\u6570\u91CF\u4E00\u6837\uFF0C\u90A3\u4E48\u5269\u4E0B\u7684<code>\u65E7\u8282\u70B9</code>\u6211\u4EEC\u5C31\u76F4\u63A5\u5220\u9664\u4E86\u5C31\u53EF\u4EE5\u4E86</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token literal-property property">outer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// \u8FB9\u754C\u60C5\u51B5\u7684\u5224\u65AD</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> prevEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> nextEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> prevStart <span class="token operator">=</span> j<span class="token punctuation">,</span>
      nextStart <span class="token operator">=</span> j<span class="token punctuation">,</span>
      nextLeft <span class="token operator">=</span> nextEnd <span class="token operator">-</span> nextStart <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>     <span class="token comment">// \u65B0\u5217\u8868\u4E2D\u5269\u4F59\u7684\u8282\u70B9\u957F\u5EA6</span>
      source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>nextLeft<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// \u521B\u5EFA\u6570\u7EC4\uFF0C\u586B\u6EE1-1</span>
      nextIndexMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>                      <span class="token comment">// \u65B0\u5217\u8868\u8282\u70B9\u4E0Eindex\u7684\u6620\u5C04</span>
      patched <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                            <span class="token comment">// \u5DF2\u66F4\u65B0\u8FC7\u7684\u8282\u70B9\u7684\u6570\u91CF</span>
      
    <span class="token comment">// \u4FDD\u5B58\u6620\u5C04\u5173\u7CFB  </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> nextStart<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> key <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>key
      nextIndexMap<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> i
    <span class="token punctuation">}</span> 
    
    <span class="token comment">// \u53BB\u65E7\u5217\u8868\u627E\u4F4D\u7F6E</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> prevStart<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
      	prevKey <span class="token operator">=</span> prevNode<span class="token punctuation">.</span>key<span class="token punctuation">,</span>
        nextIndex <span class="token operator">=</span> nextIndexMap<span class="token punctuation">[</span>prevKey<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">// \u65B0\u5217\u8868\u4E2D\u6CA1\u6709\u8BE5\u8282\u70B9 \u6216\u8005 \u5DF2\u7ECF\u66F4\u65B0\u4E86\u5168\u90E8\u7684\u65B0\u8282\u70B9\uFF0C\u76F4\u63A5\u5220\u9664\u65E7\u8282\u70B9</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>nextIndex <span class="token operator">===</span> undefind <span class="token operator">||</span> patched <span class="token operator">&gt;=</span> nextLeft<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
        <span class="token keyword">continue</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// \u627E\u5230\u5BF9\u5E94\u7684\u8282\u70B9</span>
      <span class="token keyword">let</span> nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>nextIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">,</span> nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u7ED9source\u8D4B\u503C</span>
      source<span class="token punctuation">[</span>nextIndex <span class="token operator">-</span> nextStart<span class="token punctuation">]</span> <span class="token operator">=</span> i
      patched<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/01f5d145e4a84e3f922b4d39f80bcb6a~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u627E\u5230\u4F4D\u7F6E\u540E\uFF0C\u6211\u4EEC\u89C2\u5BDF\u8FD9\u4E2A\u91CD\u65B0\u8D4B\u503C\u540E\u7684<code>source</code>\uFF0C\u6211\u4EEC\u53EF\u4EE5\u770B\u51FA\uFF0C\u5982\u679C\u662F\u5168\u65B0\u7684\u8282\u70B9\u7684\u8BDD\uFF0C\u5176\u5728<code>source</code>\u6570\u7EC4\u4E2D\u5BF9\u5E94\u7684\u503C\u5C31\u662F\u521D\u59CB\u7684<code>-1</code>\uFF0C\u901A\u8FC7\u8FD9\u4E00\u6B65\u6211\u4EEC\u53EF\u4EE5\u533A\u5206\u51FA\u6765\u54EA\u4E2A\u4E3A\u5168\u65B0\u7684\u8282\u70B9\uFF0C\u54EA\u4E2A\u662F\u53EF\u590D\u7528\u7684\u3002</p><p>\u5176\u6B21\uFF0C\u6211\u4EEC\u8981\u5224\u65AD\u662F\u5426\u9700\u8981\u79FB\u52A8\u3002\u90A3\u4E48\u5982\u4F55\u5224\u65AD\u79FB\u52A8\u5462\uFF1F\u5F88\u7B80\u5355\uFF0C\u548C<code>React</code>\u4E00\u6837\u6211\u4EEC\u7528\u9012\u589E\u6CD5\uFF0C\u5982\u679C\u6211\u4EEC\u627E\u5230\u7684<code>index</code>\u662F\u4E00\u76F4\u9012\u589E\u7684\uFF0C\u8BF4\u660E\u4E0D\u9700\u8981\u79FB\u52A8\u4EFB\u4F55\u8282\u70B9\u3002\u6211\u4EEC\u901A\u8FC7\u8BBE\u7F6E\u4E00\u4E2A\u53D8\u91CF\u6765\u4FDD\u5B58\u662F\u5426\u9700\u8981\u79FB\u52A8\u7684\u72B6\u6001\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token literal-property property">outer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// \u8FB9\u754C\u60C5\u51B5\u7684\u5224\u65AD</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> prevEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;</span> nextEnd <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> prevStart <span class="token operator">=</span> j<span class="token punctuation">,</span>
      nextStart <span class="token operator">=</span> j<span class="token punctuation">,</span>
      nextLeft <span class="token operator">=</span> nextEnd <span class="token operator">-</span> nextStart <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>     <span class="token comment">// \u65B0\u5217\u8868\u4E2D\u5269\u4F59\u7684\u8282\u70B9\u957F\u5EA6</span>
      source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>nextLeft<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// \u521B\u5EFA\u6570\u7EC4\uFF0C\u586B\u6EE1-1</span>
      nextIndexMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>                      <span class="token comment">// \u65B0\u5217\u8868\u8282\u70B9\u4E0Eindex\u7684\u6620\u5C04</span>
      patched <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
      move <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>                           <span class="token comment">// \u662F\u5426\u79FB\u52A8</span>
      lastIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                          <span class="token comment">// \u8BB0\u5F55\u4E0A\u4E00\u6B21\u7684\u4F4D\u7F6E</span>
      
    <span class="token comment">// \u4FDD\u5B58\u6620\u5C04\u5173\u7CFB  </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> nextStart<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> nextEnd<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> key <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>key
      nextIndexMap<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> i
    <span class="token punctuation">}</span> 
    
    <span class="token comment">// \u53BB\u65E7\u5217\u8868\u627E\u4F4D\u7F6E</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> prevStart<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> prevEnd<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> prevNode <span class="token operator">=</span> prevChildren<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
      	prevKey <span class="token operator">=</span> prevNode<span class="token punctuation">.</span>key<span class="token punctuation">,</span>
        nextIndex <span class="token operator">=</span> nextIndexMap<span class="token punctuation">[</span>prevKey<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">// \u65B0\u5217\u8868\u4E2D\u6CA1\u6709\u8BE5\u8282\u70B9 \u6216\u8005 \u5DF2\u7ECF\u66F4\u65B0\u4E86\u5168\u90E8\u7684\u65B0\u8282\u70B9\uFF0C\u76F4\u63A5\u5220\u9664\u65E7\u8282\u70B9</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>nextIndex <span class="token operator">===</span> undefind <span class="token operator">||</span> patched <span class="token operator">&gt;=</span> nextLeft<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">.</span>el<span class="token punctuation">)</span>
        <span class="token keyword">continue</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// \u627E\u5230\u5BF9\u5E94\u7684\u8282\u70B9</span>
      <span class="token keyword">let</span> nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>nextIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token function">patch</span><span class="token punctuation">(</span>prevNode<span class="token punctuation">,</span> nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u7ED9source\u8D4B\u503C</span>
      source<span class="token punctuation">[</span>nextIndex <span class="token operator">-</span> nextStart<span class="token punctuation">]</span> <span class="token operator">=</span> i
      patched<span class="token operator">++</span>
      
      <span class="token comment">// \u9012\u589E\u65B9\u6CD5\uFF0C\u5224\u65AD\u662F\u5426\u9700\u8981\u79FB\u52A8</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>nextIndex <span class="token operator">&lt;</span> lastIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      	move <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      	lastIndex <span class="token operator">=</span> nextIndex
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span>move<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// \u9700\u8981\u79FB\u52A8</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
	
    <span class="token comment">//\u4E0D\u9700\u8981\u79FB\u52A8</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div><p><strong>3. DOM\u5982\u4F55\u79FB\u52A8</strong></p><p>\u5224\u65AD\u5B8C\u662F\u5426\u9700\u8981\u79FB\u52A8\u540E\uFF0C\u6211\u4EEC\u5C31\u9700\u8981\u8003\u8651\u5982\u4F55\u79FB\u52A8\u4E86\u3002\u4E00\u65E6\u9700\u8981\u8FDB\u884CDOM\u79FB\u52A8\uFF0C\u6211\u4EEC\u9996\u5148\u8981\u505A\u7684\u5C31\u662F\u627E\u5230<code>source</code>\u7684<strong>\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217</strong>\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>move<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> seq <span class="token operator">=</span> <span class="token function">lis</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 1]</span>
  <span class="token comment">// \u9700\u8981\u79FB\u52A8</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

  <span class="token comment">//\u4E0D\u9700\u8981\u79FB\u52A8</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>\u4EC0\u4E48\u662F\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\uFF1A\u7ED9\u5B9A\u4E00\u4E2A\u6570\u503C\u5E8F\u5217\uFF0C\u627E\u5230\u5B83\u7684\u4E00\u4E2A\u5B50\u5E8F\u5217\uFF0C\u5E76\u4E14\u5B50\u5E8F\u5217\u4E2D\u7684\u503C\u662F\u9012\u589E\u7684\uFF0C\u5B50\u5E8F\u5217\u4E2D\u7684\u5143\u7D20\u5728\u539F\u5E8F\u5217\u4E2D\u4E0D\u4E00\u5B9A\u8FDE\u7EED\u3002</p><p>\u4F8B\u5982\u7ED9\u5B9A\u6570\u503C\u5E8F\u5217\u4E3A\uFF1A[ 0, 8, 4, 12 ]\u3002</p><p>\u90A3\u4E48\u5B83\u7684\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u5C31\u662F\uFF1A[0, 8, 12]\u3002</p><p>\u5F53\u7136\u7B54\u6848\u53EF\u80FD\u6709\u591A\u79CD\u60C5\u51B5\uFF0C\u4F8B\u5982\uFF1A[0, 4, 12] \u4E5F\u662F\u53EF\u4EE5\u7684\u3002</p></blockquote><p>\u4E0A\u9762\u7684\u4EE3\u7801\u4E2D\uFF0C\u6211\u4EEC\u8C03\u7528<code>lis</code> \u51FD\u6570\u6C42\u51FA\u6570\u7EC4<code>source</code>\u7684\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u4E3A<code>[ 0, 1 ]</code>\u3002\u6211\u4EEC\u77E5\u9053 source \u6570\u7EC4\u7684\u503C\u4E3A <code>[2, 3, 1, -1]</code>\uFF0C\u5F88\u663E\u7136\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u5E94\u8BE5\u662F<code>[ 2, 3 ]</code>\uFF0C\u4F46\u4E3A\u4EC0\u4E48\u8BA1\u7B97\u51FA\u7684\u7ED3\u679C\u662F<code>[ 0, 1 ]</code>\u5462\uFF1F\u5176\u5B9E<code>[ 0, 1 ]</code>\u4EE3\u8868\u7684\u662F\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u4E2D\u7684\u5404\u4E2A\u5143\u7D20\u5728<code>source</code>\u6570\u7EC4\u4E2D\u7684\u4F4D\u7F6E\u7D22\u5F15\uFF0C\u5982\u4E0B\u56FE\u6240\u793A\uFF1A</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/81c80851ea784e03b3c995234c70e9a3~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u6211\u4EEC\u6839\u636E<code>source</code>\uFF0C\u5BF9<strong>\u65B0\u5217\u8868</strong>\u8FDB\u884C\u91CD\u65B0\u7F16\u53F7\uFF0C\u5E76\u627E\u51FA\u4E86<code>\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217</code>\u3002</p><p>\u6211\u4EEC\u4ECE\u540E\u5411\u524D\u8FDB\u884C\u904D\u5386<code>source</code>\u6BCF\u4E00\u9879\u3002\u6B64\u65F6\u4F1A\u51FA\u73B0\u4E09\u79CD\u60C5\u51B5\uFF1A</p><ol><li>\u5F53\u524D\u7684\u503C\u4E3A<code>-1</code>\uFF0C\u8FD9\u8BF4\u660E\u8BE5\u8282\u70B9\u662F\u5168\u65B0\u7684\u8282\u70B9\uFF0C\u53C8\u7531\u4E8E\u6211\u4EEC\u662F<strong>\u4ECE\u540E\u5411\u524D</strong>\u904D\u5386\uFF0C\u6211\u4EEC\u76F4\u63A5\u521B\u5EFA\u597DDOM\u8282\u70B9\u63D2\u5165\u5230\u961F\u5C3E\u5C31\u53EF\u4EE5\u4E86\u3002</li><li>\u5F53\u524D\u7684\u7D22\u5F15\u4E3A<code>\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217</code>\u4E2D\u7684\u503C\uFF0C\u4E5F\u5C31\u662F<code>i === seq[j]</code>\uFF0C\u8FD9\u8BF4\u8BF4\u660E\u8BE5\u8282\u70B9\u4E0D\u9700\u8981\u79FB\u52A8</li><li>\u5F53\u524D\u7684\u7D22\u5F15\u4E0D\u662F<code>\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217</code>\u4E2D\u7684\u503C\uFF0C\u90A3\u4E48\u8BF4\u660E\u8BE5DOM\u8282\u70B9\u9700\u8981\u79FB\u52A8\uFF0C\u8FD9\u91CC\u4E5F\u5F88\u597D\u7406\u89E3\uFF0C\u6211\u4EEC\u4E5F\u662F\u76F4\u63A5\u5C06DOM\u8282\u70B9\u63D2\u5165\u5230\u961F\u5C3E\u5C31\u53EF\u4EE5\u4E86\uFF0C\u56E0\u4E3A\u961F\u5C3E\u662F\u6392\u597D\u5E8F\u7684</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>move<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// \u9700\u8981\u79FB\u52A8</span>
	<span class="token keyword">const</span> seq <span class="token operator">=</span> <span class="token function">lis</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 1]</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> seq<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// \u6700\u957F\u5B50\u5E8F\u5217\u7684\u6307\u9488</span>
    <span class="token comment">// \u4ECE\u540E\u5411\u524D\u904D\u5386</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> nextLeft <span class="token operator">-</span> <span class="token number">1</span>\uFF1B i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> pos <span class="token operator">=</span> nextStart <span class="token operator">+</span> i<span class="token punctuation">,</span> <span class="token comment">// \u5BF9\u5E94\u65B0\u5217\u8868\u7684index</span>
        nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">,</span>	<span class="token comment">// \u627E\u5230vnode</span>
      	nextPos <span class="token operator">=</span> pos <span class="token operator">+</span> <span class="token number">1</span>\uFF0C    <span class="token comment">// \u4E0B\u4E00\u4E2A\u8282\u70B9\u7684\u4F4D\u7F6E\uFF0C\u7528\u4E8E\u79FB\u52A8DOM</span>
        refNode <span class="token operator">=</span> nextPos <span class="token operator">&gt;=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> nextChildren<span class="token punctuation">[</span>nextPos<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">,</span> <span class="token comment">//DOM\u8282\u70B9</span>
        cur <span class="token operator">=</span> source<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// \u5F53\u524Dsource\u7684\u503C\uFF0C\u7528\u6765\u5224\u65AD\u8282\u70B9\u662F\u5426\u9700\u8981\u79FB\u52A8</span>
    
      <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u60C5\u51B51\uFF0C\u8BE5\u8282\u70B9\u662F\u5168\u65B0\u8282\u70B9</span>
      	<span class="token function">mount</span><span class="token punctuation">(</span>nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">===</span> seq<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u60C5\u51B52\uFF0C\u662F\u9012\u589E\u5B50\u5E8F\u5217\uFF0C\u8BE5\u8282\u70B9\u4E0D\u9700\u8981\u79FB\u52A8</span>
        <span class="token comment">// \u8BA9j\u6307\u5411\u4E0B\u4E00\u4E2A</span>
        j<span class="token operator">--</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u60C5\u51B53\uFF0C\u4E0D\u662F\u9012\u589E\u5B50\u5E8F\u5217\uFF0C\u8BE5\u8282\u70B9\u9700\u8981\u79FB\u52A8</span>
        parent<span class="token punctuation">.</span><span class="token function">insetBefore</span><span class="token punctuation">(</span>nextNode<span class="token punctuation">.</span>el<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
 
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">//\u4E0D\u9700\u8981\u79FB\u52A8</span>
  
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>\u8BF4\u5B8C\u4E86\u9700\u8981\u79FB\u52A8\u7684\u60C5\u51B5\uFF0C\u518D\u8BF4\u8BF4\u4E0D\u9700\u8981\u79FB\u52A8\u7684\u60C5\u51B5\u3002\u5982\u679C\u4E0D\u9700\u8981\u79FB\u52A8\u7684\u8BDD\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u5224\u65AD\u662F\u5426\u6709\u5168\u65B0\u7684\u8282\u70B9\u7ED9\u4ED6\u6DFB\u52A0\u8FDB\u53BB\u5C31\u53EF\u4EE5\u4E86\u3002\u5177\u4F53\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">vue3Diff</span><span class="token punctuation">(</span><span class="token parameter">prevChildren<span class="token punctuation">,</span> nextChildren<span class="token punctuation">,</span> parent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>move<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> seq <span class="token operator">=</span> <span class="token function">lis</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 1]</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> seq<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// \u6700\u957F\u5B50\u5E8F\u5217\u7684\u6307\u9488</span>
    <span class="token comment">// \u4ECE\u540E\u5411\u524D\u904D\u5386</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> nextLeft <span class="token operator">-</span> <span class="token number">1</span>\uFF1B i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> pos <span class="token operator">=</span> nextStart <span class="token operator">+</span> i<span class="token punctuation">,</span> <span class="token comment">// \u5BF9\u5E94\u65B0\u5217\u8868\u7684index</span>
        nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">,</span>	<span class="token comment">// \u627E\u5230vnode</span>
      	nextPos <span class="token operator">=</span> pos <span class="token operator">+</span> <span class="token number">1</span>\uFF0C    <span class="token comment">// \u4E0B\u4E00\u4E2A\u8282\u70B9\u7684\u4F4D\u7F6E\uFF0C\u7528\u4E8E\u79FB\u52A8DOM</span>
        refNode <span class="token operator">=</span> nextPos <span class="token operator">&gt;=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> nextChildren<span class="token punctuation">[</span>nextPos<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">,</span> <span class="token comment">//DOM\u8282\u70B9</span>
        cur <span class="token operator">=</span> source<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// \u5F53\u524Dsource\u7684\u503C\uFF0C\u7528\u6765\u5224\u65AD\u8282\u70B9\u662F\u5426\u9700\u8981\u79FB\u52A8</span>
    
      <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u60C5\u51B51\uFF0C\u8BE5\u8282\u70B9\u662F\u5168\u65B0\u8282\u70B9</span>
      	<span class="token function">mount</span><span class="token punctuation">(</span>nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">===</span> seq<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u60C5\u51B52\uFF0C\u662F\u9012\u589E\u5B50\u5E8F\u5217\uFF0C\u8BE5\u8282\u70B9\u4E0D\u9700\u8981\u79FB\u52A8</span>
        <span class="token comment">// \u8BA9j\u6307\u5411\u4E0B\u4E00\u4E2A</span>
        j<span class="token operator">--</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u60C5\u51B53\uFF0C\u4E0D\u662F\u9012\u589E\u5B50\u5E8F\u5217\uFF0C\u8BE5\u8282\u70B9\u9700\u8981\u79FB\u52A8</span>
        parent<span class="token punctuation">.</span><span class="token function">insetBefore</span><span class="token punctuation">(</span>nextNode<span class="token punctuation">.</span>el<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">//\u4E0D\u9700\u8981\u79FB\u52A8</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> nextLeft <span class="token operator">-</span> <span class="token number">1</span>\uFF1B i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> cur <span class="token operator">=</span> source<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// \u5F53\u524Dsource\u7684\u503C\uFF0C\u7528\u6765\u5224\u65AD\u8282\u70B9\u662F\u5426\u9700\u8981\u79FB\u52A8</span>
    
      <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">let</span> pos <span class="token operator">=</span> nextStart <span class="token operator">+</span> i<span class="token punctuation">,</span> <span class="token comment">// \u5BF9\u5E94\u65B0\u5217\u8868\u7684index</span>
          nextNode <span class="token operator">=</span> nextChildren<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">,</span>	<span class="token comment">// \u627E\u5230vnode</span>
          nextPos <span class="token operator">=</span> pos <span class="token operator">+</span> <span class="token number">1</span>\uFF0C    <span class="token comment">// \u4E0B\u4E00\u4E2A\u8282\u70B9\u7684\u4F4D\u7F6E\uFF0C\u7528\u4E8E\u79FB\u52A8DOM</span>
          refNode <span class="token operator">=</span> nextPos <span class="token operator">&gt;=</span> nextChildren<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> nextChildren<span class="token punctuation">[</span>nextPos<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">,</span> <span class="token comment">//DOM\u8282\u70B9</span>
      	<span class="token function">mount</span><span class="token punctuation">(</span>nextNode<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p>\u81F3\u6B64<code>vue3.0</code>\u7684diff\u5B8C\u6210\u3002</p><p><strong>4. \u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217</strong></p><p>\u6211\u4EEC\u4EE5\u8BE5\u6570\u7EC4\u4E3A\u4F8B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u52A8\u6001\u89C4\u5212\u7684\u601D\u60F3\u8003\u8651\u8FD9\u4E2A\u95EE\u9898\u3002\u52A8\u6001\u89C4\u5212\u7684\u601D\u60F3\u662F\u5C06\u4E00\u4E2A\u5927\u7684\u95EE\u9898\u5206\u89E3\u6210\u591A\u4E2A\u5C0F\u7684\u5B50\u95EE\u9898\uFF0C\u5E76\u5C1D\u8BD5\u5F97\u5230\u8FD9\u4E9B\u5B50\u95EE\u9898\u7684\u6700\u4F18\u89E3\uFF0C\u5B50\u95EE\u9898\u7684\u6700\u4F18\u89E3\u6709\u53EF\u80FD\u4F1A\u5728\u66F4\u5927\u7684\u95EE\u9898\u4E2D\u88AB\u5229\u7528\uFF0C\u8FD9\u6837\u901A\u8FC7\u5C0F\u95EE\u9898\u7684\u6700\u4F18\u89E3\u6700\u7EC8\u6C42\u5F97\u5927\u95EE\u9898\u7684\u6700\u4F18\u89E3\u3002</p><p>\u6211\u4EEC\u5148\u5047\u8BBE\u53EA\u6709\u4E00\u4E2A\u503C\u7684\u6570\u7EC4<code>[13]</code>\uFF0C\u90A3\u4E48\u8BE5\u6570\u7EC4\u7684\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u5C31\u662F<code>[13]</code>\u81EA\u5DF1\u672C\u8EAB\uFF0C\u5176\u957F\u5EA6\u4E3A<code>1</code>\u3002<strong>\u90A3\u4E48\u6211\u4EEC\u8BA4\u4E3A\u6BCF\u4E00\u9879\u7684\u9012\u589E\u5E8F\u5217\u7684\u957F\u5EA6\u503C\u5747\u4E3A1</strong></p><p>\u90A3\u4E48\u6211\u4EEC\u8FD9\u6B21\u7ED9\u6570\u7EC4\u589E\u52A0\u4E00\u4E2A\u503C<code>[7, 13]</code>, \u7531\u4E8E<code>7 &lt; 13</code>\uFF0C\u6240\u4EE5\u8BE5\u6570\u7EC4\u7684\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u662F<code>[7, 13]</code>\uFF0C\u90A3\u4E48\u8BE5\u957F\u5EA6\u4E3A<code>2</code>\u3002<strong>\u90A3\u4E48\u6211\u4EEC\u662F\u5426\u53EF\u4EE5\u8BA4\u4E3A\uFF0C\u5F53<code>[7]</code>\u5C0F\u4E8E<code>[13]</code>\u65F6\uFF0C\u4EE5<code>[7]</code>\u4E3A\u5934\u7684\u9012\u589E\u5E8F\u5217\u7684\u957F\u5EA6\u662F\uFF0C<code>[7]</code>\u7684\u957F\u5EA6\u548C<code>[13]</code>\u7684\u957F\u5EA6\u7684\u548C</strong>\uFF0C\u5373<code>1 + 1 = 2</code>\u3002</p><p>ok\uFF0C\u6211\u4EEC\u57FA\u4E8E\u8FD9\u79CD\u601D\u60F3\u6765\u7ED9\u8BA1\u7B97\u4E00\u4E0B\u8BE5\u6570\u7EC4\u3002\u6211\u4EEC\u5148\u5C06\u6BCF\u4E2A\u503C\u7684\u521D\u59CB\u8D4B\u503C\u4E3A<code>1</code></p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b62114779ce647db906d73ab1a737298~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u9996\u5148 <code>7 &lt; 13</code> \u90A3\u4E48<code>7</code>\u5BF9\u5E94\u7684\u957F\u5EA6\u5C31\u662F<code>13</code>\u7684\u957F\u5EA6\u518D\u52A01\uFF0C<code>1 + 1 = 2</code></p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/80dc121621324857ab806f8220f264b4~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u7EE7\u7EED\uFF0C\u6211\u4EEC\u5BF9\u6BD4<code>8</code>\u3002\u6211\u4EEC\u9996\u5148\u548C<code>7</code>\u6BD4\uFF0C\u53D1\u73B0\u4E0D\u6EE1\u8DB3\u9012\u589E\uFF0C\u4F46\u662F\u6CA1\u5173\u7CFB\u6211\u4EEC\u8FD8\u53EF\u4EE5\u7EE7\u7EED\u548C<code>13</code>\u6BD4\uFF0C<code>8 &lt; 13</code>\u6EE1\u8DB3\u9012\u589E\uFF0C\u90A3\u4E48<code>8</code>\u7684\u957F\u5EA6\u4E5F\u662F<code>13</code>\u7684\u957F\u5EA6\u5728\u52A0\u4E00\uFF0C\u957F\u5EA6\u4E3A<code>2</code></p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2782096530ba4f76ae05d4eece27298f~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u6211\u4EEC\u518D\u5BF9\u6BD4<code>3</code>\uFF0C\u6211\u4EEC\u5148\u8BA9\u5176\u4E0E<code>8</code>\u8FDB\u884C\u5BF9\u6BD4\uFF0C<code>3 &lt; 8</code>\uFF0C\u90A3\u4E48<code>3</code>\u7684\u957F\u5EA6\u662F<code>8</code>\u7684\u957F\u5EA6\u52A0\u4E00\uFF0C\u6B64\u65F6<code>3</code>\u7684\u957F\u5EA6\u4E3A<code>3</code>\u3002\u4F46\u662F\u8FD8\u6CA1\u7ED3\u675F\uFF0C\u6211\u4EEC\u8FD8\u9700\u8981\u8BA9<code>3</code>\u4E0E<code>7</code>\u5BF9\u6BD4\u3002\u540C\u6837<code>3 &lt; 7</code>\uFF0C\u6B64\u65F6\u6211\u4EEC\u9700\u8981\u5728\u8BA1\u7B97\u51FA\u4E00\u4E2A\u957F\u5EA6\u662F<code>7</code>\u7684\u957F\u5EA6\u52A0\u4E00\u540C\u6837\u662F<code>3</code>\uFF0C\u6211\u4EEC\u5BF9\u6BD4\u4E24\u4E2A\u957F\u5EA6\uFF0C<strong>\u5982\u679C\u539F\u672C\u7684\u957F\u5EA6\u6CA1\u6709\u672C\u6B21\u8BA1\u7B97\u51FA\u7684\u957F\u5EA6\u503C\u5927\u7684\u8BDD\uFF0C\u6211\u4EEC\u8FDB\u884C\u66FF\u6362\uFF0C\u53CD\u4E4B\u5219\u6211\u4EEC\u4FDD\u7559\u539F\u672C\u7684\u503C</strong>\u3002\u7531\u4E8E<code>3 === 3</code>\uFF0C\u6211\u4EEC\u9009\u62E9\u4E0D\u66FF\u6362\u3002\u6700\u540E\uFF0C\u6211\u4EEC\u8BA9<code>3</code>\u4E0E<code>13</code>\u8FDB\u884C\u5BF9\u6BD4\uFF0C\u540C\u6837\u7684<code>3 &lt; 13</code>\uFF0C\u6B64\u65F6\u8BA1\u7B97\u51FA\u7684\u957F\u5EA6\u4E3A<code>2</code>\uFF0C\u6BD4\u539F\u672C\u7684\u957F\u5EA6<code>3</code>\u8981\u5C0F\uFF0C\u6211\u4EEC\u9009\u62E9\u4FDD\u7559\u539F\u672C\u7684\u503C\u3002</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cca21599c47c429ab0067c093c9e8bd0~tplv-k3u1fbpfcp-watermark.image" alt="img"></p><p>\u4E4B\u540E\u7684\u8BA1\u7B97\u4F9D\u6B21\u7C7B\u63A8\uFF0C\u6700\u540E\u7684\u7ED3\u679C\u662F\u8FD9\u6837\u7684</p><p><img src="http://img-repo.poetries.top/images/image-20210220201751694.png" alt="image-20210220201751694"></p><p>\u6211\u4EEC\u4ECE\u4E2D\u53D6\u6700\u5927\u7684\u503C<code>4</code>\uFF0C\u8BE5\u503C\u4EE3\u8868\u7684<strong>\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u7684\u4E2A\u6570</strong>\u3002\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">lis</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
    dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u7528\u4E8E\u4FDD\u5B58\u957F\u5EA6</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> cur <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> next <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
      <span class="token comment">// \u5982\u679C\u662F\u9012\u589E \u53D6\u66F4\u5927\u7684\u957F\u5EA6\u503C</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">&lt;</span> next<span class="token punctuation">)</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>dp<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u81F3\u6B64\u4E3A\u6B62\uFF0C\u6211\u4EEC\u8BB2\u5B8C\u4E86\u57FA\u7840\u7684\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u3002\u7136\u800C\u5728<code>vue3.0</code>\u4E2D\uFF0C\u6211\u4EEC\u9700\u8981\u7684\u662F\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u5728\u539F\u672C\u6570\u7EC4\u4E2D\u7684\u7D22\u5F15\u3002\u6240\u4EE5\u6211\u4EEC\u8FD8\u9700\u8981\u5728\u521B\u5EFA\u4E00\u4E2A\u6570\u7EC4\u7528\u4E8E\u4FDD\u5B58\u6BCF\u4E2A\u503C\u7684\u6700\u957F\u5B50\u5E8F\u5217\u6240\u5BF9\u5E94\u5728\u6570\u7EC4\u4E2D\u7684<code>index</code>\u3002\u5177\u4F53\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">lis</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
    res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u5B58\u9ED8\u8BA4index</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> cur <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
      nextIndex <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5982\u679C\u4E3A-1 \u76F4\u63A5\u8DF3\u8FC7\uFF0C\u56E0\u4E3A-1\u4EE3\u8868\u7684\u662F\u65B0\u8282\u70B9\uFF0C\u4E0D\u9700\u8981\u8FDB\u884C\u6392\u5E8F</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">continue</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> next <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
      <span class="token comment">// \u6EE1\u8DB3\u9012\u589E\u6761\u4EF6</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">&lt;</span> next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> max <span class="token operator">=</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token comment">// \u5F53\u524D\u957F\u5EA6\u662F\u5426\u6BD4\u539F\u672C\u7684\u957F\u5EA6\u8981\u5927</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>max <span class="token operator">&gt;</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> max
          nextIndex <span class="token operator">=</span> j
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u8BB0\u5F55\u6EE1\u8DB3\u6761\u4EF6\u7684\u503C\uFF0C\u5BF9\u5E94\u5728\u6570\u7EC4\u4E2D\u7684index</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nextIndex <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> res<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>res<span class="token punctuation">[</span>nextIndex<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> index <span class="token operator">=</span> dp<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> i<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> cur <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>prev<span class="token punctuation">]</span> <span class="token operator">?</span> i <span class="token operator">:</span> prev<span class="token punctuation">,</span> dp<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token comment">// \u8FD4\u56DE\u6700\u957F\u7684\u9012\u589E\u5B50\u5E8F\u5217\u7684index</span>
  <span class="token keyword">return</span> result<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h1 id="_17-\u6392\u5E8F\u7B97\u6CD5" tabindex="-1"><a class="header-anchor" href="#_17-\u6392\u5E8F\u7B97\u6CD5" aria-hidden="true">#</a> 17 \u6392\u5E8F\u7B97\u6CD5</h1><p><img src="http://img-repo.poetries.top/images/20210330120838.png" alt="img"></p>`,63),Vyn={id:"\u5192\u6CE1\u6392\u5E8F",tabindex:"-1"},Hyn=n("a",{class:"header-anchor",href:"#\u5192\u6CE1\u6392\u5E8F","aria-hidden":"true"},"#",-1),Lyn=s(),Uyn={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},Jyn=s("#"),Wyn=s("\u5192\u6CE1\u6392\u5E8F"),zyn=n("blockquote",null,[n("p",null,"\u901A\u8FC7\u76F8\u90BB\u5143\u7D20\u6BD4\u8F83\u548C\u4EA4\u6362\uFF0C\u4F7F\u5F97\u6BCF\u4E00\u8D9F\u5FAA\u73AF\u90FD\u80FD\u627E\u5230\u672A\u6392\u5E8F\u7684\u5B50\u6570\u7EC4\u3002")],-1),Gyn={id:"\u5B9E\u73B0",tabindex:"-1"},$yn=n("a",{class:"header-anchor",href:"#\u5B9E\u73B0","aria-hidden":"true"},"#",-1),Xyn=s(),Kyn={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%AE%9E%E7%8E%B0",target:"_blank",rel:"noopener noreferrer"},Qyn=s("#"),Yyn=s("\u5B9E\u73B0"),Zyn=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> n <span class="token operator">=</span> list<span class="token punctuation">.</span>length
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>n<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> list<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> temp <span class="token operator">=</span> list<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span>
        list<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
        list<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> list
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div>`,1),n7n={id:"\u4F18\u5316",tabindex:"-1"},s7n=n("a",{class:"header-anchor",href:"#\u4F18\u5316","aria-hidden":"true"},"#",-1),a7n=s(),e7n={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},t7n=s("#"),p7n=s("\u4F18\u5316"),o7n={id:"\u5355\u5411\u5192\u6CE1",tabindex:"-1"},c7n=n("a",{class:"header-anchor",href:"#\u5355\u5411\u5192\u6CE1","aria-hidden":"true"},"#",-1),l7n=s(),r7n={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%8D%95%E5%90%91%E5%86%92%E6%B3%A1",target:"_blank",rel:"noopener noreferrer"},i7n=s("#"),u7n=s("\u5355\u5411\u5192\u6CE1"),k7n=t(`<blockquote><p>\u6807\u8BB0\u5728\u4E00\u8F6E\u6BD4\u8F83\u6C47\u603B\u4E2D\uFF0C\u5982\u679C\u6CA1\u6709\u9700\u8981\u4EA4\u6362\u7684\u6570\u636E\uFF0C\u8BF4\u660E\u6570\u7EC4\u5DF2\u7ECF\u662F\u6709\u5E8F\u7684\uFF0C\u53EF\u4EE5\u51CF\u5C11\u6392\u5E8F\u5FAA\u73AF\u7684\u6B21\u6570\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> n <span class="token operator">=</span> list<span class="token punctuation">.</span>length
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>n<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> mark <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// \u5982\u679C\u5728\u4E00\u8F6E\u6BD4\u8F83\u4E2D\u6CA1\u6709\u51FA\u73B0\u9700\u8981\u4EA4\u6362\u7684\u6570\u636E\uFF0C\u8BF4\u660E\u6570\u7EC4\u5DF2\u7ECF\u662F\u6709\u5E8F\u7684</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> list<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> temp <span class="token operator">=</span> list<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span>
        list<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
        list<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp
        mark <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>mark<span class="token punctuation">)</span> <span class="token keyword">break</span> 
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> list
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div>`,2),d7n={id:"\u53CC\u5411\u5192\u6CE1",tabindex:"-1"},b7n=n("a",{class:"header-anchor",href:"#\u53CC\u5411\u5192\u6CE1","aria-hidden":"true"},"#",-1),m7n=s(),h7n={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%8F%8C%E5%90%91%E5%86%92%E6%B3%A1",target:"_blank",rel:"noopener noreferrer"},_7n=s("#"),g7n=s("\u53CC\u5411\u5192\u6CE1"),E7n=t(`<blockquote><p>\u666E\u901A\u5192\u6CE1\u6392\u5E8F\u4E00\u8F6E\u53EA\u627E\u5230\u6700\u5927\u503C\u6216\u6700\u5C0F\u503C\u5176\u4E2D\u4E4B\u4E00\uFF0C\u53CC\u5411\u5192\u6CE1\u5219\u591A\u4E00\u8F6E\u7B5B\u9009\uFF0C\u65E2\u53EF\u4EE5\u627E\u5230\u6700\u5927\u503C\uFF0C\u4E5F\u53EF\u4EE5\u627E\u5230\u6700\u5C0F\u503C\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> low <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">var</span> high <span class="token operator">=</span> list<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>low <span class="token operator">&lt;</span> high<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> mark <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token comment">// \u627E\u5230\u6700\u5927\u503C\u653E\u5728\u53F3\u8FB9</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> low<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> high<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> list<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> temp <span class="token operator">=</span> list<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span>
        list<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp
        mark <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    high<span class="token operator">--</span>
    <span class="token comment">// \u627E\u5230\u6700\u5C0F\u503C\u653E\u5728\u5DE6\u8FB9</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> high<span class="token punctuation">;</span> j <span class="token operator">&gt;</span> low<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> list<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> temp <span class="token operator">=</span> list<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
        list<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
        list<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp
        mark <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    low<span class="token operator">++</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>mark<span class="token punctuation">)</span> <span class="token keyword">break</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> list
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div>`,2),f7n={id:"\u9009\u62E9\u6392\u5E8F",tabindex:"-1"},v7n=n("a",{class:"header-anchor",href:"#\u9009\u62E9\u6392\u5E8F","aria-hidden":"true"},"#",-1),w7n=s(),y7n={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},x7n=s("#"),A7n=s("\u9009\u62E9\u6392\u5E8F"),B7n=n("blockquote",null,[n("p",null,"\u4F9D\u6B21\u627E\u5230\u5269\u4F59\u5143\u7D20\u7684\u6700\u5C0F\u503C\u6216\u8005\u6700\u5927\u503C\uFF0C\u653E\u7F6E\u672B\u5C3E\u6216\u8005\u5F00\u5934\u3002")],-1),q7n={id:"\u5B9E\u73B0-1",tabindex:"-1"},j7n=n("a",{class:"header-anchor",href:"#\u5B9E\u73B0-1","aria-hidden":"true"},"#",-1),S7n=s(),C7n={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%AE%9E%E7%8E%B0-2",target:"_blank",rel:"noopener noreferrer"},D7n=s("#"),F7n=s("\u5B9E\u73B0"),P7n=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">selectSort</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> n <span class="token operator">=</span> list<span class="token punctuation">.</span>length
  <span class="token keyword">var</span> minIndex
  
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    minIndex <span class="token operator">=</span> i
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> list<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        minIndex <span class="token operator">=</span> j
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> temp <span class="token operator">=</span> list<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
		list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span>
    list<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span> <span class="token operator">=</span> temp
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> list
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div>`,1),T7n={id:"\u63D2\u5165\u6392\u5E8F",tabindex:"-1"},N7n=n("a",{class:"header-anchor",href:"#\u63D2\u5165\u6392\u5E8F","aria-hidden":"true"},"#",-1),M7n=s(),O7n={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},I7n=s("#"),R7n=s("\u63D2\u5165\u6392\u5E8F"),V7n=n("blockquote",null,[n("p",null,"\u4EE5\u7B2C\u4E00\u4E2A\u5143\u7D20\u4E3A\u6709\u5E8F\u6570\u7EC4\uFF0C\u5176\u540E\u7684\u5143\u7D20\u901A\u8FC7\u5728\u8FD9\u4E2A\u5DF2\u6709\u5E8F\u7684\u6570\u7EC4\u4E2D\u627E\u5230\u5408\u9002\u7684\u5143\u7D20\u5E76\u63D2\u5165\u3002")],-1),H7n={id:"\u5B9E\u73B0-2",tabindex:"-1"},L7n=n("a",{class:"header-anchor",href:"#\u5B9E\u73B0-2","aria-hidden":"true"},"#",-1),U7n=s(),J7n={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%AE%9E%E7%8E%B0-3",target:"_blank",rel:"noopener noreferrer"},W7n=s("#"),z7n=s("\u5B9E\u73B0"),G7n=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">insertSort</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> n <span class="token operator">=</span> list<span class="token punctuation">.</span>length
  <span class="token keyword">var</span> preIndex
  <span class="token keyword">var</span> current
  
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    preIndex <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span>
    current <span class="token operator">=</span> list<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    
    <span class="token keyword">while</span><span class="token punctuation">(</span>preIndex <span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> list<span class="token punctuation">[</span>preIndex<span class="token punctuation">]</span> <span class="token operator">&gt;</span> current<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      list<span class="token punctuation">[</span>preIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">[</span>preIndex<span class="token punctuation">]</span>
      preIndex<span class="token operator">--</span>
    <span class="token punctuation">}</span>
    list<span class="token punctuation">[</span>preIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> current
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> list
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div>`,1),$7n={id:"\u4F18\u5316-1",tabindex:"-1"},X7n=n("a",{class:"header-anchor",href:"#\u4F18\u5316-1","aria-hidden":"true"},"#",-1),K7n=s(),Q7n={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E4%BC%98%E5%8C%96-2",target:"_blank",rel:"noopener noreferrer"},Y7n=s("#"),Z7n=s("\u4F18\u5316"),nxn={id:"\u62C6\u534A\u63D2\u5165",tabindex:"-1"},sxn=n("a",{class:"header-anchor",href:"#\u62C6\u534A\u63D2\u5165","aria-hidden":"true"},"#",-1),axn=s(),exn={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E6%8B%86%E5%8D%8A%E6%8F%92%E5%85%A5",target:"_blank",rel:"noopener noreferrer"},txn=s("#"),pxn=s("\u62C6\u534A\u63D2\u5165"),oxn=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">insertSort</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> low
  <span class="token keyword">var</span> high
  <span class="token keyword">var</span> j
  <span class="token keyword">var</span> temp
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> list<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      temp <span class="token operator">=</span> list<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
      low <span class="token operator">=</span> <span class="token number">0</span>
      high <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;=</span> high<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> mid <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>low <span class="token operator">+</span> high<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">&gt;</span> list<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          low <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          high <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&gt;</span> low<span class="token punctuation">;</span> <span class="token operator">--</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
      list<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> list
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div>`,1),cxn={id:"\u5E0C\u5C14\u6392\u5E8F",tabindex:"-1"},lxn=n("a",{class:"header-anchor",href:"#\u5E0C\u5C14\u6392\u5E8F","aria-hidden":"true"},"#",-1),rxn=s(),ixn={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},uxn=s("#"),kxn=s("\u5E0C\u5C14\u6392\u5E8F"),dxn=t(`<blockquote><p>\u901A\u8FC7\u67D0\u4E2A\u589E\u91CF gap\uFF0C\u5C06\u6574\u4E2A\u5E8F\u5217\u5206\u7ED9\u82E5\u5E72\u7EC4\uFF0C\u4ECE\u540E\u5F80\u524D\u8FDB\u884C\u7EC4\u5185\u6210\u5458\u7684\u6BD4\u8F83\u548C\u4EA4\u6362\uFF0C\u968F\u540E\u9010\u6B65\u7F29\u5C0F\u589E\u91CF\u81F3 1\u3002\u5E0C\u5C14\u6392\u5E8F\u7C7B\u4F3C\u4E8E\u63D2\u5165\u6392\u5E8F\uFF0C\u53EA\u662F\u4E00\u5F00\u59CB\u5411\u524D\u79FB\u52A8\u7684\u6B65\u6570\u4ECE 1 \u53D8\u6210\u4E86 gap\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">shellSort</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> n <span class="token operator">=</span> list<span class="token punctuation">.</span>length
  <span class="token keyword">var</span> gap <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// \u521D\u59CB\u5316\u6B65\u6570</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>gap<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// \u9010\u6B65\u7F29\u5C0F\u6B65\u6570</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> gap<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u9010\u6B65\u548C\u524D\u9762\u5176\u4ED6\u6210\u5458\u6BD4\u8F83\u4EA4\u6362</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> i <span class="token operator">-</span> gap<span class="token punctuation">;</span> j <span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">-=</span> gap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> list<span class="token punctuation">[</span>j <span class="token operator">+</span> gap<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> temp <span class="token operator">=</span> list<span class="token punctuation">[</span>j <span class="token operator">+</span> gap<span class="token punctuation">]</span>
          list<span class="token punctuation">[</span>j <span class="token operator">+</span> gap<span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
          list<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    gap <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>gap <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div>`,2),bxn={id:"\u5F52\u5E76\u6392\u5E8F",tabindex:"-1"},mxn=n("a",{class:"header-anchor",href:"#\u5F52\u5E76\u6392\u5E8F","aria-hidden":"true"},"#",-1),hxn=s(),_xn={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},gxn=s("#"),Exn=s("\u5F52\u5E76\u6392\u5E8F"),fxn=t(`<blockquote><p>\u9012\u5F52\u5C06\u6570\u7EC4\u5206\u6210\u4E24\u4E2A\u5E8F\u5217\uFF0C\u6709\u5E8F\u5408\u5E76\u8FD9\u4E24\u4E2A\u5E8F\u5217\u3002\u4F5C\u4E3A\u4E00\u79CD\u5178\u578B\u7684\u5206\u6CBB\u6CD5\u601D\u60F3\u7B97\u6CD5\u5E94\u7528\uFF0C\u5F52\u5E76\u6392\u5E8F\u7684\u5B9E\u73B0\u6709\u4E24\u79CD\u65B9\u6CD5\uFF1A</p><ul><li>\u81EA\u4E0A\u800C\u4E0B\u7684\u9012\u5F52</li><li>\u81EA\u4E0B\u800C\u4E0A\u7684\u8FED\u4EE3</li></ul></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> n <span class="token operator">=</span> list<span class="token punctuation">.</span>length
  <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> list
  
  <span class="token keyword">var</span> mid <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> left <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> mid<span class="token punctuation">)</span>
  <span class="token keyword">var</span> right <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span>
  
  <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token function">mergeSort</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> right<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> right<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>left<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>right<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>left<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>left<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>right<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>right<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div>`,2),vxn={id:"\u5FEB\u901F\u6392\u5E8F",tabindex:"-1"},wxn=n("a",{class:"header-anchor",href:"#\u5FEB\u901F\u6392\u5E8F","aria-hidden":"true"},"#",-1),yxn=s(),xxn={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},Axn=s("#"),Bxn=s("\u5FEB\u901F\u6392\u5E8F"),qxn=n("blockquote",null,[n("p",null,"\u9009\u62E9\u4E00\u4E2A\u5143\u7D20\u4F5C\u4E3A\u57FA\u6570\uFF0C\u628A\u6BD4\u57FA\u6570\u5C0F\u7684\u5143\u7D20\u653E\u5728\u5B83\u5DE6\u8FB9\uFF0C\u6BD4\u5B83\u5927\u7684\u653E\u5728\u53F3\u8FB9\uFF08\u76F8\u5F53\u4E8E\u4E8C\u5206\uFF09\uFF0C\u518D\u4E0D\u65AD\u9012\u5F52\u57FA\u6570\u5DE6\u53F3\u7684\u5E8F\u5217\u3002\u5FEB\u901F\u6392\u5E8F\u662F\u4E00\u79CD\u5206\u800C\u6CBB\u4E4B\u601D\u60F3\u5728\u6392\u5E8F\u7B97\u6CD5\u4E0A\u7684\u5178\u578B\u5E94\u7528\u3002\u672C\u8D28\u4E0A\u6765\u770B\uFF0C\u5FEB\u901F\u6392\u5E8F\u5E94\u8BE5\u7B97\u662F\u5728\u5192\u6CE1\u6392\u5E8F\u57FA\u7840\u4E0A\u9012\u5F52\u5206\u6CBB\u6CD5\u3002\u5FEB\u901F\u6392\u5E8F\u7684\u540D\u5B57\u8D77\u7684\u662F\u7B80\u5355\u7C97\u66B4\uFF0C\u56E0\u4E3A\u4E00\u542C\u5230\u8FD9\u4E2A\u540D\u5B57\u4F60\u5C31\u77E5\u9053\u5B83\u5B58\u5728\u7684\u610F\u4E49\uFF0C\u5B83\u662F\u5904\u7406\u5927\u6570\u636E\u6700\u5FEB\u7684\u6392\u5E8F\u7B97\u6CD5\u4E4B\u4E00\u3002")],-1),jxn={id:"\u5B9E\u73B0\u4E00",tabindex:"-1"},Sxn=n("a",{class:"header-anchor",href:"#\u5B9E\u73B0\u4E00","aria-hidden":"true"},"#",-1),Cxn=s(),Dxn={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%AE%9E%E7%8E%B0%E4%B8%80",target:"_blank",rel:"noopener noreferrer"},Fxn=s("#"),Pxn=s("\u5B9E\u73B0\u4E00"),Txn=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> n <span class="token operator">=</span> list<span class="token punctuation">.</span>length
  <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> list
  
  <span class="token keyword">var</span> pivotIndex <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> pivot <span class="token operator">=</span> list<span class="token punctuation">[</span>pivotIndex<span class="token punctuation">]</span>
  <span class="token keyword">var</span> left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">var</span> right <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">===</span> pivotIndex<span class="token punctuation">)</span> <span class="token keyword">continue</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      left<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      right<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token function">quickSort</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div>`,1),Nxn={id:"\u5B9E\u73B0\u4E8C",tabindex:"-1"},Mxn=n("a",{class:"header-anchor",href:"#\u5B9E\u73B0\u4E8C","aria-hidden":"true"},"#",-1),Oxn=s(),Ixn={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%AE%9E%E7%8E%B0%E4%BA%8C",target:"_blank",rel:"noopener noreferrer"},Rxn=s("#"),Vxn=s("\u5B9E\u73B0\u4E8C"),Hxn=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">list<span class="token punctuation">,</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> list<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> n <span class="token operator">=</span> list<span class="token punctuation">.</span>length
	<span class="token keyword">if</span><span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> index <span class="token operator">=</span> left <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> left<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> right<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> list<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        index<span class="token operator">++</span>
        <span class="token keyword">var</span> temp <span class="token operator">=</span> list<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
        list<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">quickSort</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> left<span class="token punctuation">,</span> index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">quickSort</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> list
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div>`,1),Lxn={id:"\u5806\u6392\u5E8F",tabindex:"-1"},Uxn=n("a",{class:"header-anchor",href:"#\u5806\u6392\u5E8F","aria-hidden":"true"},"#",-1),Jxn=s(),Wxn={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%A0%86%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},zxn=s("#"),Gxn=s("\u5806\u6392\u5E8F"),$xn=n("blockquote",null,[n("p",null,"\u8BF4\u5230\u5806\u6392\u5E8F\uFF0C\u9996\u5148\u9700\u8981\u4E86\u89E3\u4E00\u79CD\u6570\u636E\u7ED3\u6784--\u5806\u3002\u5806\u662F\u4E00\u79CD\u5B8C\u5168\u4E8C\u53C9\u6811\uFF0C\u8FD9\u79CD\u7ED3\u6784\u901A\u5E38\u53EF\u4EE5\u7528\u6570\u7EC4\u8868\u793A\u3002\u5728\u5B9E\u9645\u5E94\u7528\u4E2D\uFF0C\u5806\u53C8\u53EF\u4EE5\u5206\u4E3A\u6700\u5C0F\u5806\u548C\u6700\u5927\u5806\uFF0C\u4E24\u8005\u533A\u522B\u5982\u4E0B\uFF1A"),n("ul",null,[n("li",null,"-max-heap property\uFF1A\u5BF9\u4E8E\u6240\u6709\u9664\u4E86\u6839\u8282\u70B9\u7684\u8282\u70B9i\uFF0CA[Parent(i)] >= A[i]"),n("li",null,"-min-heap property\uFF1A\u5BF9\u4E8E\u9664\u4E86\u6839\u8282\u70B9\u7684\u8282\u70B9i\uFF0CA[Parent(i)] <= A[i]")]),n("p",null,"\u5806\u6392\u5E8F\u53EF\u4EE5\u8BF4\u662F\u4E00\u79CD\u5229\u7528\u5806\u7684\u6982\u5FF5\u6765\u6392\u5E8F\u7684\u9009\u62E9\u6392\u5E8F\uFF0C\u5206\u4E3A\u4E24\u79CD\u65B9\u6CD5\uFF1A"),n("ul",null,[n("li",null,"\u5927\u9876\u5806\uFF1A\u6BCF\u4E2A\u8282\u70B9\u7684\u503C\u90FD\u5927\u4E8E\u6216\u7B49\u4E8E\u5176\u5B50\u8282\u70B9\u7684\u503C\uFF0C\u5728\u5806\u6392\u5E8F\u7B97\u6CD5\u4E2D\u7528\u4E8E\u5347\u5E8F\u6392\u5E8F\uFF1B"),n("li",null,"\u5C0F\u9876\u5806\uFF1A\u6BCF\u4E2A\u8282\u70B9\u7684\u503C\u90FD\u5C0F\u4E8E\u6216\u7B49\u4E8E\u5176\u5B50\u8282\u70B9\u7684\u503C\uFF0C\u5728\u5806\u6392\u5E8F\u7B97\u6CD5\u4E2D\u7528\u4E8E\u964D\u5E8F\u6392\u5E8F\u3002")])],-1),Xxn={id:"\u5B9E\u73B0-3",tabindex:"-1"},Kxn=n("a",{class:"header-anchor",href:"#\u5B9E\u73B0-3","aria-hidden":"true"},"#",-1),Qxn=s(),Yxn={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%AE%9E%E7%8E%B0-4",target:"_blank",rel:"noopener noreferrer"},Zxn=s("#"),n0n=s("\u5B9E\u73B0"),s0n=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">heapSort</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">buildHeap</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span> 
  <span class="token comment">// \u5FAA\u73AF n-1 \u6B21\uFF0C\u6BCF\u6B21\u5FAA\u73AF\u540E\u4EA4\u6362\u5806\u9876\u5143\u7D20\u548C\u5806\u5E95\u5143\u7D20\u5E76\u91CD\u65B0\u8C03\u6574\u5806\u7ED3\u6784</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> list<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>
    <span class="token function">adjustHeap</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> list
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">buildHeap</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u6CE8\u610F\u8FD9\u91CC\u7684\u5934\u8282\u70B9\u662F\u4ECE0\u5F00\u59CB\u7684\uFF0C\u6240\u4EE5\u6700\u540E\u4E00\u4E2A\u975E\u53F6\u5B50\u8282\u70B9\u7ED3\u679C\u662F parseInt(nums.length / 2) - 1</span>
  <span class="token keyword">var</span> start <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
  <span class="token keyword">var</span> size <span class="token operator">=</span> nums<span class="token punctuation">.</span>length
  <span class="token comment">// \u4ECE\u6700\u540E\u4E00\u4E2A\u975E\u53F6\u5B50\u8282\u70B9\u5F00\u59CB\u8C03\u6574\uFF0C\u76F4\u81F3\u5806\u9876</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">adjustHeap</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> i<span class="token punctuation">,</span> size<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">adjustHeap</span><span class="token punctuation">(</span><span class="token parameter">nums<span class="token punctuation">,</span> index<span class="token punctuation">,</span> size</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u4EA4\u6362\u540E\u53EF\u80FD\u4F1A\u7834\u574F\u5806\u7ED3\u6784\uFF0C\u9700\u8981\u5FAA\u73AF\u4F7F\u5F97\u6BCF\u4E00\u4E2A\u7236\u8282\u70B9\u90FD\u5927\u4E8E\u5DE6\u53F3\u8282\u70B9</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> max <span class="token operator">=</span> index
    <span class="token keyword">var</span> left <span class="token operator">=</span> index <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// \u5DE6\u8282\u70B9</span>
    <span class="token keyword">var</span> right <span class="token operator">=</span> index <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token comment">// \u53F3\u8282\u70B9</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>left <span class="token operator">&lt;</span> size <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>max<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span> max <span class="token operator">=</span> left
    <span class="token keyword">if</span><span class="token punctuation">(</span>right <span class="token operator">&lt;</span> size <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>max<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span> max <span class="token operator">=</span> right
    <span class="token comment">// \u5982\u679C\u5DE6\u53F3\u8282\u70B9\u5927\u96E8\u5F53\u524D\u8282\u70B9\u5219\u4EA4\u6362\uFF0C\u5E76\u5728\u5FAA\u73AF\u4E00\u904D\u5224\u65AD\u4EA4\u6362\u540E\u662F\u5426\u7834\u574F\u5806\u7ED3\u6784</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>index <span class="token operator">!==</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">[</span>nums<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>max<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>nums<span class="token punctuation">[</span>max<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span>
      index <span class="token operator">=</span> max
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div>`,1),a0n={id:"\u8BA1\u6570\u6392\u5E8F",tabindex:"-1"},e0n=n("a",{class:"header-anchor",href:"#\u8BA1\u6570\u6392\u5E8F","aria-hidden":"true"},"#",-1),t0n=s(),p0n={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},o0n=s("#"),c0n=s("\u8BA1\u6570\u6392\u5E8F"),l0n=n("blockquote",null,[n("p",null,"\u4EE5\u6570\u7EC4\u5143\u7D20\u503C\u4E3A\u952E\uFF0C\u51FA\u73B0\u6B21\u6570\u4E3A\u503C\u5B58\u8FDB\u4E00\u4E2A\u4E34\u65F6\u6570\u7EC4\uFF0C\u6700\u540E\u518D\u904D\u5386\u8FD9\u4E2A\u4E34\u65F6\u6570\u7EC4\u8FD8\u539F\u56DE\u539F\u6570\u7EC4\u3002\u56E0\u4E3A JS \u7684\u6570\u7EC4\u4E0B\u6807\u662F\u4EE5\u5B57\u7B26\u4E32\u5F62\u5F0F\u5B58\u50A8\u7684\uFF0C\u6240\u4EE5\u8BA1\u6570\u6392\u5E8F\u53EF\u4EE5\u7528\u6765\u6392\u5217\u8D1F\u6570\uFF0C\u4F46\u662F\u4E0D\u53EF\u4EE5\u6392\u5217\u5C0F\u6570\u3002")],-1),r0n={id:"\u5B9E\u73B0-4",tabindex:"-1"},i0n=n("a",{class:"header-anchor",href:"#\u5B9E\u73B0-4","aria-hidden":"true"},"#",-1),u0n=s(),k0n={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%AE%9E%E7%8E%B0-5",target:"_blank",rel:"noopener noreferrer"},d0n=s("#"),b0n=s("\u5B9E\u73B0"),m0n=t(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">countingSort</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">var</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>nums<span class="token punctuation">)</span>
  <span class="token keyword">var</span> min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>nums<span class="token punctuation">)</span>
  
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> temp <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    list<span class="token punctuation">[</span>temp<span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">[</span>temp<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">||</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> min<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> max<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      nums<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> i
      list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">--</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> list
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div>`,1),h0n={id:"\u6876\u6392\u5E8F",tabindex:"-1"},_0n=n("a",{class:"header-anchor",href:"#\u6876\u6392\u5E8F","aria-hidden":"true"},"#",-1),g0n=s(),E0n={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E6%A1%B6%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},f0n=s("#"),v0n=s("\u6876\u6392\u5E8F"),w0n=t(`<blockquote><p>\u53D6 n \u4E2A\u6876\uFF0C\u6839\u636E\u6570\u7EC4\u7684\u6700\u5927\u503C\u548C\u6700\u5C0F\u503C\u786E\u8BA4\u6BCF\u4E2A\u6876\u5B58\u653E\u7684\u6570\u7684\u533A\u95F4\uFF0C\u5C06\u5143\u7D20\u63D2\u5165\u5230\u76F8\u5E94\u7684\u6876\u91CC\uFF0C\u6700\u540E\u518D\u5408\u5E76\u5404\u4E2A\u6876\u3002</p><p>\u6876\u6392\u5E8F\u662F\u8BA1\u6570\u6392\u5E8F\u7684\u5347\u7EA7\u7248\u3002\u5B83\u5229\u7528\u4E86\u51FD\u6570\u7684\u6620\u5C04\u5173\u7CFB\uFF0C\u9AD8\u6548\u4E0E\u5426\u7684\u5173\u952E\u5C31\u5728\u4E8E\u8FD9\u4E2A\u6620\u5C04\u51FD\u6570\u7684\u786E\u5B9A\u3002 \u4E3A\u4E86\u4F7F\u6876\u6392\u5E8F\u66F4\u52A0\u9AD8\u6548\uFF0C\u6211\u4EEC\u9700\u8981\u505A\u5230\u8FD9\u4E24\u70B9\uFF1A</p><ul><li>\u5728\u989D\u5916\u7A7A\u95F4\u5145\u8DB3\u7684\u60C5\u51B5\u4E0B\uFF0C\u5C3D\u91CF\u589E\u5927\u6876\u7684\u6570\u91CF\u3002</li><li>\u4F7F\u7528\u7684\u6620\u5C04\u51FD\u6570\u80FD\u591F\u5C06\u8F93\u5165\u7684N\u4E2A\u6570\u636E\u5747\u5300\u7684\u5206\u914D\u5230K\u4E2A\u6876\u4E2D\u3002</li></ul></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bucketSort</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u6876\u7684\u4E2A\u6570\uFF0C\u53EA\u8981\u662F\u6B63\u6570\u90FD\u884C</span>
  <span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">5</span>
  <span class="token keyword">var</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>nums<span class="token punctuation">)</span>
  <span class="token keyword">var</span> min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>nums<span class="token punctuation">)</span>
  <span class="token comment">// \u8BA1\u7B97\u6BCF\u4E2A\u6876\u5B58\u653E\u7684\u6570\u503C\u8303\u56F4\uFF0C\u81F3\u5C11\u4E3A 1</span>
  <span class="token keyword">var</span> range <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">(</span>max <span class="token operator">-</span> min<span class="token punctuation">)</span> <span class="token operator">/</span> num<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">1</span>
  <span class="token comment">// \u521B\u5EFA\u4E8C\u7EF4\u6570\u7EC4\uFF0C\u7B2C\u4E00\u7EF4\u8868\u793A\u7B2C\u51E0\u4E2A\u6876\uFF0C\u7B2C\u4E8C\u7EF4\u8868\u793A\u6876\u91CC\u653E\u7684\u6570</span>
	<span class="token keyword">var</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token function">Array</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  nums<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  	<span class="token comment">// \u8BA1\u7B97\u5143\u7D20\u5E94\u8BE5\u5206\u5E03\u5728\u54EA\u4E2A\u6876</span>
   	<span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>val <span class="token operator">-</span> min<span class="token punctuation">)</span> <span class="token operator">/</span> range<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u9632\u6B62index\u8D8A\u754C\uFF0C\u4F8B\u5982\u5F53[5,1,1,2,0,0]\u65F6index\u4F1A\u51FA\u73B05</span>
    index <span class="token operator">=</span> index <span class="token operator">&gt;=</span> num <span class="token operator">?</span> num <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">:</span> index<span class="token punctuation">;</span>
    <span class="token keyword">let</span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// \u63D2\u5165\u6392\u5E8F\uFF0C\u5C06\u5143\u7D20\u6709\u5E8F\u63D2\u5165\u5230\u6876\u4E2D</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> temp<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> val <span class="token operator">&lt;</span> temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	temp<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
      j<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    temp<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u4FEE\u6539\u56DE\u539F\u6570\u7EC4</span>
  <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  nums<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  	nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> res<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> nums<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div>`,2),y0n={id:"\u57FA\u6570\u6392\u5E8F",tabindex:"-1"},x0n=n("a",{class:"header-anchor",href:"#\u57FA\u6570\u6392\u5E8F","aria-hidden":"true"},"#",-1),A0n=s(),B0n={href:"http://interview.poetries.top/excellent-docs/17-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html#%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},q0n=s("#"),j0n=s("\u57FA\u6570\u6392\u5E8F"),S0n=t(`<blockquote><p>\u4F7F\u7528\u5341\u4E2A\u6876 0-9\uFF0C\u628A\u6BCF\u4E2A\u6570\u4ECE\u4F4E\u4F4D\u5230\u9AD8\u4F4D\u6839\u636E\u4F4D\u6570\u653E\u5230\u76F8\u5E94\u7684\u6876\u91CC\uFF0C\u4EE5\u6B64\u5FAA\u73AF\u6700\u5927\u503C\u7684\u4F4D\u6570\u6B21\u3002\u4F46\u53EA\u80FD\u6392\u5217\u6B63\u6574\u6570\uFF0C\u56E0\u4E3A\u9047\u5230\u8D1F\u53F7\u548C\u5C0F\u6570\u70B9\u65E0\u6CD5\u8FDB\u884C\u6BD4\u8F83\u3002</p><p>\u57FA\u6570\u6392\u5E8F\u6709\u4E24\u79CD\u65B9\u6CD5\uFF1A</p><ul><li>MSD \u4ECE\u9AD8\u4F4D\u5F00\u59CB\u8FDB\u884C\u6392\u5E8F</li><li>LSD \u4ECE\u4F4E\u4F4D\u5F00\u59CB\u8FDB\u884C\u6392\u5E8F</li></ul><p>\u57FA\u6570\u6392\u5E8F vs \u8BA1\u6570\u6392\u5E8F vs \u6876\u6392\u5E8F\uFF1A</p><p>\u8FD9\u4E09\u79CD\u6392\u5E8F\u7B97\u6CD5\u90FD\u5229\u7528\u4E86\u6876\u7684\u6982\u5FF5\uFF0C\u4F46\u5BF9\u6876\u7684\u4F7F\u7528\u65B9\u6CD5\u4E0A\u6709\u660E\u663E\u5DEE\u5F02\uFF1A</p><ul><li>\u57FA\u6570\u6392\u5E8F\uFF1A\u6839\u636E\u952E\u503C\u7684\u6BCF\u4F4D\u6570\u5B57\u6765\u5206\u914D\u6876</li><li>\u8BA1\u6570\u6392\u5E8F\uFF1A\u6BCF\u4E2A\u6876\u53EA\u5B58\u50A8\u5355\u4E00\u952E\u503C</li><li>\u6876\u6392\u5E8F\uFF1A\u6BCF\u4E2A\u6876\u5B58\u50A8\u4E00\u5B9A\u8303\u56F4\u7684\u6570\u503C</li></ul></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">radixSort</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8BA1\u7B97\u4F4D\u6570</span>
  <span class="token keyword">function</span> <span class="token function">getDigits</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	sum<span class="token operator">++</span><span class="token punctuation">;</span>
      n <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>n <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u7B2C\u4E00\u7EF4\u8868\u793A\u4F4D\u6570\u53730-9\uFF0C\u7B2C\u4E8C\u7EF4\u8868\u793A\u91CC\u9762\u5B58\u653E\u7684\u503C</span>
  <span class="token keyword">var</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> maxDigits <span class="token operator">=</span> <span class="token function">getDigits</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token comment">// \u75280\u628A\u6BCF\u4E00\u4E2A\u6570\u90FD\u586B\u5145\u6210\u76F8\u540C\u7684\u4F4D\u6570</span>
    nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span>maxDigits<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5148\u6839\u636E\u4E2A\u4F4D\u6570\u628A\u6BCF\u4E00\u4E2A\u6570\u653E\u5230\u76F8\u5E94\u7684\u6876\u91CC</span>
    <span class="token keyword">var</span> temp <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span>temp<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5FAA\u73AF\u5224\u65AD\u6BCF\u4E2A\u4F4D\u6570</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> maxDigits <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token comment">// \u5FAA\u73AF\u6BCF\u4E00\u4E2A\u6876</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">9</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">var</span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
      <span class="token keyword">var</span> len <span class="token operator">=</span> temp<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
      <span class="token comment">// \u6839\u636E\u5F53\u524D\u7684\u4F4D\u6570i\u628A\u6876\u91CC\u7684\u6570\u653E\u5230\u76F8\u5E94\u7684\u6876\u91CC</span>
      	<span class="token keyword">while</span> <span class="token punctuation">(</span>len<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> str <span class="token operator">=</span> temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          temp<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          arr<span class="token punctuation">[</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
       	<span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u4FEE\u6539\u56DE\u539F\u6570\u7EC4</span>
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    nums<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    	nums<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">+</span>res<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> nums<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h1 id="_18-\u8BA1\u7B97\u673A\u901A\u8BC6" tabindex="-1"><a class="header-anchor" href="#_18-\u8BA1\u7B97\u673A\u901A\u8BC6" aria-hidden="true">#</a> 18 \u8BA1\u7B97\u673A\u901A\u8BC6</h1><h1 id="\u8BA1\u7B97\u673A\u57FA\u7840" tabindex="-1"><a class="header-anchor" href="#\u8BA1\u7B97\u673A\u57FA\u7840" aria-hidden="true">#</a> \u8BA1\u7B97\u673A\u57FA\u7840</h1>`,4),C0n={id:"\u4E00\u3001\u7F51\u7EDC",tabindex:"-1"},D0n=n("a",{class:"header-anchor",href:"#\u4E00\u3001\u7F51\u7EDC","aria-hidden":"true"},"#",-1),F0n=s(),P0n={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#%E4%B8%80%E3%80%81%E7%BD%91%E7%BB%9C",target:"_blank",rel:"noopener noreferrer"},T0n=s("#"),N0n=s("\u4E00\u3001\u7F51\u7EDC"),M0n={id:"_1-udp",tabindex:"-1"},O0n=n("a",{class:"header-anchor",href:"#_1-udp","aria-hidden":"true"},"#",-1),I0n=s(),R0n={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#_1-udp",target:"_blank",rel:"noopener noreferrer"},V0n=s("#"),H0n=s("1 UDP"),L0n=t('<p><strong>1.1 \u9762\u5411\u62A5\u6587</strong></p><blockquote><p><code>UDP</code> \u662F\u4E00\u4E2A\u9762\u5411\u62A5\u6587\uFF08\u62A5\u6587\u53EF\u4EE5\u7406\u89E3\u4E3A\u4E00\u6BB5\u6BB5\u7684\u6570\u636E\uFF09\u7684\u534F\u8BAE\u3002\u610F\u601D\u5C31\u662F <code>UDP</code> \u53EA\u662F\u62A5\u6587\u7684\u642C\u8FD0\u5DE5\uFF0C\u4E0D\u4F1A\u5BF9\u62A5\u6587\u8FDB\u884C\u4EFB\u4F55\u62C6\u5206\u548C\u62FC\u63A5\u64CD\u4F5C</p></blockquote><p>\u5177\u4F53\u6765\u8BF4</p><ul><li>\u5728\u53D1\u9001\u7AEF\uFF0C\u5E94\u7528\u5C42\u5C06\u6570\u636E\u4F20\u9012\u7ED9\u4F20\u8F93\u5C42\u7684 <code>UDP</code> \u534F\u8BAE\uFF0C<code>UDP</code> \u53EA\u4F1A\u7ED9\u6570\u636E\u589E\u52A0\u4E00\u4E2A <code>UDP</code> \u5934\u6807\u8BC6\u4E0B\u662F <code>UDP</code> \u534F\u8BAE\uFF0C\u7136\u540E\u5C31\u4F20\u9012\u7ED9\u7F51\u7EDC\u5C42\u4E86</li><li>\u5728\u63A5\u6536\u7AEF\uFF0C\u7F51\u7EDC\u5C42\u5C06\u6570\u636E\u4F20\u9012\u7ED9\u4F20\u8F93\u5C42\uFF0C<code>UDP</code> \u53EA\u53BB\u9664 <code>IP</code> \u62A5\u6587\u5934\u5C31\u4F20\u9012\u7ED9\u5E94\u7528\u5C42\uFF0C\u4E0D\u4F1A\u4EFB\u4F55\u62FC\u63A5\u64CD\u4F5C</li></ul><p><strong>1.2 \u4E0D\u53EF\u9760\u6027</strong></p><ul><li><code>UDP</code> \u662F\u65E0\u8FDE\u63A5\u7684\uFF0C\u4E5F\u5C31\u662F\u8BF4\u901A\u4FE1\u4E0D\u9700\u8981\u5EFA\u7ACB\u548C\u65AD\u5F00\u8FDE\u63A5\u3002</li><li><code>UDP</code> \u4E5F\u662F\u4E0D\u53EF\u9760\u7684\u3002\u534F\u8BAE\u6536\u5230\u4EC0\u4E48\u6570\u636E\u5C31\u4F20\u9012\u4EC0\u4E48\u6570\u636E\uFF0C\u5E76\u4E14\u4E5F\u4E0D\u4F1A\u5907\u4EFD\u6570\u636E\uFF0C\u5BF9\u65B9\u80FD\u4E0D\u80FD\u6536\u5230\u662F\u4E0D\u5173\u5FC3\u7684</li><li><code>UDP</code> \u6CA1\u6709\u62E5\u585E\u63A7\u5236\uFF0C\u4E00\u76F4\u4F1A\u4EE5\u6052\u5B9A\u7684\u901F\u5EA6\u53D1\u9001\u6570\u636E\u3002\u5373\u4F7F\u7F51\u7EDC\u6761\u4EF6\u4E0D\u597D\uFF0C\u4E5F\u4E0D\u4F1A\u5BF9\u53D1\u9001\u901F\u7387\u8FDB\u884C\u8C03\u6574\u3002\u8FD9\u6837\u5B9E\u73B0\u7684\u5F0A\u7AEF\u5C31\u662F\u5728\u7F51\u7EDC\u6761\u4EF6\u4E0D\u597D\u7684\u60C5\u51B5\u4E0B\u53EF\u80FD\u4F1A\u5BFC\u81F4\u4E22\u5305\uFF0C\u4F46\u662F\u4F18\u70B9\u4E5F\u5F88\u660E\u663E\uFF0C\u5728\u67D0\u4E9B\u5B9E\u65F6\u6027\u8981\u6C42\u9AD8\u7684\u573A\u666F\uFF08\u6BD4\u5982\u7535\u8BDD\u4F1A\u8BAE\uFF09\u5C31\u9700\u8981\u4F7F\u7528 UDP \u800C\u4E0D\u662F <code>TCP</code></li></ul><p><strong>1.3 \u9AD8\u6548</strong></p><ul><li>\u56E0\u4E3A <code>UDP</code> \u6CA1\u6709 <code>TCP</code> \u90A3\u4E48\u590D\u6742\uFF0C\u9700\u8981\u4FDD\u8BC1\u6570\u636E\u4E0D\u4E22\u5931\u4E14\u6709\u5E8F\u5230\u8FBE\u3002\u6240\u4EE5 <code>UDP</code> \u7684\u5934\u90E8\u5F00\u9500\u5C0F\uFF0C\u53EA\u6709\u516B\u5B57\u8282\uFF0C\u76F8\u6BD4 <code>TCP</code> \u7684\u81F3\u5C11\u4E8C\u5341\u5B57\u8282\u8981\u5C11\u5F97\u591A\uFF0C\u5728\u4F20\u8F93\u6570\u636E\u62A5\u6587\u65F6\u662F\u5F88\u9AD8\u6548\u7684</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/09/226.png" alt="img"></p><p><strong>\u5934\u90E8\u5305\u542B\u4E86\u4EE5\u4E0B\u51E0\u4E2A\u6570\u636E</strong></p><ul><li>\u4E24\u4E2A\u5341\u516D\u4F4D\u7684\u7AEF\u53E3\u53F7\uFF0C\u5206\u522B\u4E3A\u6E90\u7AEF\u53E3\uFF08\u53EF\u9009\u5B57\u6BB5\uFF09\u548C\u76EE\u6807\u7AEF\u53E3 \u6574\u4E2A\u6570\u636E\u62A5\u6587\u7684\u957F\u5EA6</li><li>\u6574\u4E2A\u6570\u636E\u62A5\u6587\u7684\u68C0\u9A8C\u548C\uFF08<code>IPv4</code> \u53EF\u9009 \u5B57\u6BB5\uFF09\uFF0C\u8BE5\u5B57\u6BB5\u7528\u4E8E\u53D1\u73B0\u5934\u90E8\u4FE1\u606F\u548C\u6570\u636E\u4E2D\u7684\u9519\u8BEF</li></ul><p><strong>1.4 \u4F20\u8F93\u65B9\u5F0F</strong></p><blockquote><p><code>UDP</code> \u4E0D\u6B62\u652F\u6301\u4E00\u5BF9\u4E00\u7684\u4F20\u8F93\u65B9\u5F0F\uFF0C\u540C\u6837\u652F\u6301\u4E00\u5BF9\u591A\uFF0C\u591A\u5BF9\u591A\uFF0C\u591A\u5BF9\u4E00\u7684\u65B9\u5F0F\uFF0C\u4E5F\u5C31\u662F\u8BF4 UDP \u63D0\u4F9B\u4E86\u5355\u64AD\uFF0C\u591A\u64AD\uFF0C\u5E7F\u64AD\u7684\u529F\u80FD</p></blockquote>',13),U0n={id:"_2-tcp",tabindex:"-1"},J0n=n("a",{class:"header-anchor",href:"#_2-tcp","aria-hidden":"true"},"#",-1),W0n=s(),z0n={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#_2-tcp",target:"_blank",rel:"noopener noreferrer"},G0n=s("#"),$0n=s("2 TCP"),X0n=t('<p><strong>2.1 \u5934\u90E8</strong></p><blockquote><p><code>TCP</code> \u5934\u90E8\u6BD4 <code>UDP</code> \u5934\u90E8\u590D\u6742\u7684\u591A</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/09/227.png" alt="img"></p><blockquote><p>\u5BF9\u4E8E <code>TCP</code> \u5934\u90E8\u6765\u8BF4\uFF0C\u4EE5\u4E0B\u51E0\u4E2A\u5B57\u6BB5\u662F\u5F88\u91CD\u8981\u7684</p></blockquote><ul><li><code>Sequence number</code>\uFF0C\u8FD9\u4E2A\u5E8F\u53F7\u4FDD\u8BC1\u4E86 <code>TCP</code> \u4F20\u8F93\u7684\u62A5\u6587\u90FD\u662F\u6709\u5E8F\u7684\uFF0C\u5BF9\u7AEF\u53EF\u4EE5\u901A\u8FC7\u5E8F\u53F7\u987A\u5E8F\u7684\u62FC\u63A5\u62A5\u6587</li><li><code>Acknowledgement Number</code>\uFF0C\u8FD9\u4E2A\u5E8F\u53F7\u8868\u793A\u6570\u636E\u63A5\u6536\u7AEF\u671F\u671B\u63A5\u6536\u7684\u4E0B\u4E00\u4E2A\u5B57\u8282\u7684\u7F16\u53F7\u662F\u591A\u5C11\uFF0C\u540C\u65F6\u4E5F\u8868\u793A\u4E0A\u4E00\u4E2A\u5E8F\u53F7\u7684\u6570\u636E\u5DF2\u7ECF\u6536\u5230</li><li><code>Window Size</code>\uFF0C\u7A97\u53E3\u5927\u5C0F\uFF0C\u8868\u793A\u8FD8\u80FD\u63A5\u6536\u591A\u5C11\u5B57\u8282\u7684\u6570\u636E\uFF0C\u7528\u4E8E\u6D41\u91CF\u63A7\u5236</li></ul><p><strong>\u6807\u8BC6\u7B26</strong></p><ul><li><code>URG=1</code>\uFF1A\u8BE5\u5B57\u6BB5\u4E3A\u4E00\u8868\u793A\u672C\u6570\u636E\u62A5\u7684\u6570\u636E\u90E8\u5206\u5305\u542B\u7D27\u6025\u4FE1\u606F\uFF0C\u662F\u4E00\u4E2A\u9AD8\u4F18\u5148\u7EA7\u6570\u636E\u62A5\u6587\uFF0C\u6B64\u65F6\u7D27\u6025\u6307\u9488\u6709\u6548\u3002\u7D27\u6025\u6570\u636E\u4E00\u5B9A\u4F4D\u4E8E\u5F53\u524D\u6570\u636E\u5305\u6570\u636E\u90E8\u5206\u7684\u6700\u524D\u9762\uFF0C\u7D27\u6025\u6307\u9488\u6807\u660E\u4E86\u7D27\u6025\u6570\u636E\u7684\u5C3E\u90E8\u3002</li><li><code>ACK=1</code>\uFF1A\u8BE5\u5B57\u6BB5\u4E3A\u4E00\u8868\u793A\u786E\u8BA4\u53F7\u5B57\u6BB5\u6709\u6548\u3002\u6B64\u5916\uFF0C<code>TCP</code> \u8FD8\u89C4\u5B9A\u5728\u8FDE\u63A5\u5EFA\u7ACB\u540E\u4F20\u9001\u7684\u6240\u6709\u62A5\u6587\u6BB5\u90FD\u5FC5\u987B\u628A <code>ACK</code> \u7F6E\u4E3A\u4E00 <code>PSH=1</code>\uFF1A\u8BE5\u5B57\u6BB5\u4E3A\u4E00\u8868\u793A\u63A5\u6536\u7AEF\u5E94\u8BE5\u7ACB\u5373\u5C06\u6570\u636E push \u7ED9\u5E94\u7528\u5C42\uFF0C\u800C\u4E0D\u662F\u7B49\u5230\u7F13\u51B2\u533A\u6EE1\u540E\u518D\u63D0\u4EA4\u3002</li><li><code>RST=1</code>\uFF1A\u8BE5\u5B57\u6BB5\u4E3A\u4E00\u8868\u793A\u5F53\u524D <code>TCP</code> \u8FDE\u63A5\u51FA\u73B0\u4E25\u91CD\u95EE\u9898\uFF0C\u53EF\u80FD\u9700\u8981\u91CD\u65B0\u5EFA\u7ACB <code>TCP</code> \u8FDE\u63A5\uFF0C\u4E5F\u53EF\u4EE5\u7528\u4E8E\u62D2\u7EDD\u975E\u6CD5\u7684\u62A5\u6587\u6BB5\u548C\u62D2\u7EDD\u8FDE\u63A5\u8BF7\u6C42\u3002</li><li><code>SYN=1</code>\uFF1A\u5F53<code>SYN=1</code>\uFF0C<code>ACK=0</code>\u65F6\uFF0C\u8868\u793A\u5F53\u524D\u62A5\u6587\u6BB5\u662F\u4E00\u4E2A\u8FDE\u63A5\u8BF7\u6C42\u62A5\u6587\u3002\u5F53<code>SYN=1</code>\uFF0C<code>ACK=1</code>\u65F6\uFF0C\u8868\u793A\u5F53\u524D\u62A5\u6587\u6BB5\u662F\u4E00\u4E2A\u540C\u610F\u5EFA\u7ACB\u8FDE\u63A5\u7684\u5E94\u7B54\u62A5\u6587\u3002</li><li><code>FIN=1</code>\uFF1A\u8BE5\u5B57\u6BB5\u4E3A\u4E00\u8868\u793A\u6B64\u62A5\u6587\u6BB5\u662F\u4E00\u4E2A\u91CA\u653E\u8FDE\u63A5\u7684\u8BF7\u6C42\u62A5\u6587</li></ul><p><strong>2.2 \u72B6\u6001\u673A</strong></p><blockquote><p><code>HTTP</code> \u662F\u65E0\u8FDE\u63A5\u7684\uFF0C\u6240\u4EE5\u4F5C\u4E3A\u4E0B\u5C42\u7684 <code>TCP</code> \u534F\u8BAE\u4E5F\u662F\u65E0\u8FDE\u63A5\u7684\uFF0C\u867D\u7136\u770B\u4F3C <code>TCP</code> \u5C06\u4E24\u7AEF\u8FDE\u63A5\u4E86\u8D77\u6765\uFF0C\u4F46\u662F\u5176\u5B9E\u53EA\u662F\u4E24\u7AEF\u5171\u540C\u7EF4\u62A4\u4E86\u4E00\u4E2A\u72B6\u6001</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/09/228.png" alt="img"></p><ul><li><code>TCP</code> \u7684\u72B6\u6001\u673A\u662F\u5F88\u590D\u6742\u7684\uFF0C\u5E76\u4E14\u4E0E\u5EFA\u7ACB\u65AD\u5F00\u8FDE\u63A5\u65F6\u7684\u63E1\u624B\u606F\u606F\u76F8\u5173\uFF0C\u63A5\u4E0B\u6765\u5C31\u6765\u8BE6\u7EC6\u63CF\u8FF0\u4E0B\u4E24\u79CD\u63E1\u624B\u3002</li><li>\u5728\u8FD9\u4E4B\u524D\u9700\u8981\u4E86\u89E3\u4E00\u4E2A\u91CD\u8981\u7684\u6027\u80FD\u6307\u6807 RTT\u3002\u8BE5\u6307\u6807\u8868\u793A\u53D1\u9001\u7AEF\u53D1\u9001\u6570\u636E\u5230\u63A5\u6536\u5230\u5BF9\u7AEF\u6570\u636E\u6240\u9700\u7684\u5F80\u8FD4\u65F6\u95F4</li></ul><p><strong>\u5EFA\u7ACB\u8FDE\u63A5\u4E09\u6B21\u63E1\u624B</strong></p><p><img src="https://poetries1.gitee.io/img-repo/2020/09/229.png" alt="img"></p><ul><li>\u5728 <code>TCP</code> \u534F\u8BAE\u4E2D\uFF0C\u4E3B\u52A8\u53D1\u8D77\u8BF7\u6C42\u7684\u4E00\u7AEF\u4E3A\u5BA2\u6237\u7AEF\uFF0C\u88AB\u52A8\u8FDE\u63A5\u7684\u4E00\u7AEF\u79F0\u4E3A\u670D\u52A1\u7AEF\u3002\u4E0D\u7BA1\u662F\u5BA2\u6237\u7AEF\u8FD8\u662F\u670D\u52A1\u7AEF\uFF0C<code>TCP</code>\u8FDE\u63A5\u5EFA\u7ACB\u5B8C\u540E\u90FD\u80FD\u53D1\u9001\u548C\u63A5\u6536\u6570\u636E\uFF0C\u6240\u4EE5 <code>TCP</code> \u4E5F\u662F\u4E00\u4E2A\u5168\u53CC\u5DE5\u7684\u534F\u8BAE\u3002</li><li>\u8D77\u521D\uFF0C\u4E24\u7AEF\u90FD\u4E3A <code>CLOSED</code> \u72B6\u6001\u3002\u5728\u901A\u4FE1\u5F00\u59CB\u524D\uFF0C\u53CC\u65B9\u90FD\u4F1A\u521B\u5EFA <code>TCB</code>\u3002 \u670D\u52A1\u5668\u521B\u5EFA\u5B8C <code>TCB</code> \u540E\u904D\u8FDB\u5165 <code>LISTEN</code> \u72B6\u6001\uFF0C\u6B64\u65F6\u5F00\u59CB\u7B49\u5F85\u5BA2\u6237\u7AEF\u53D1\u9001\u6570\u636E</li></ul><p><strong>\u7B2C\u4E00\u6B21\u63E1\u624B</strong></p><blockquote><p>\u5BA2\u6237\u7AEF\u5411\u670D\u52A1\u7AEF\u53D1\u9001\u8FDE\u63A5\u8BF7\u6C42\u62A5\u6587\u6BB5\u3002\u8BE5\u62A5\u6587\u6BB5\u4E2D\u5305\u542B\u81EA\u8EAB\u7684\u6570\u636E\u901A\u8BAF\u521D\u59CB\u5E8F\u53F7\u3002\u8BF7\u6C42\u53D1\u9001\u540E\uFF0C\u5BA2\u6237\u7AEF\u4FBF\u8FDB\u5165 SYN-SENT \u72B6\u6001\uFF0Cx \u8868\u793A\u5BA2\u6237\u7AEF\u7684\u6570\u636E\u901A\u4FE1\u521D\u59CB\u5E8F\u53F7\u3002</p></blockquote><p><strong>\u7B2C\u4E8C\u6B21\u63E1\u624B</strong></p><blockquote><p>\u670D\u52A1\u7AEF\u6536\u5230\u8FDE\u63A5\u8BF7\u6C42\u62A5\u6587\u6BB5\u540E\uFF0C\u5982\u679C\u540C\u610F\u8FDE\u63A5\uFF0C\u5219\u4F1A\u53D1\u9001\u4E00\u4E2A\u5E94\u7B54\uFF0C\u8BE5\u5E94\u7B54\u4E2D\u4E5F\u4F1A\u5305\u542B\u81EA\u8EAB\u7684\u6570\u636E\u901A\u8BAF\u521D\u59CB\u5E8F\u53F7\uFF0C\u53D1\u9001\u5B8C\u6210\u540E\u4FBF\u8FDB\u5165 <code>SYN-RECEIVED</code> \u72B6\u6001\u3002</p></blockquote><p><strong>\u7B2C\u4E09\u6B21\u63E1\u624B</strong></p><blockquote><p>\u5F53\u5BA2\u6237\u7AEF\u6536\u5230\u8FDE\u63A5\u540C\u610F\u7684\u5E94\u7B54\u540E\uFF0C\u8FD8\u8981\u5411\u670D\u52A1\u7AEF\u53D1\u9001\u4E00\u4E2A\u786E\u8BA4\u62A5\u6587\u3002\u5BA2\u6237\u7AEF\u53D1\u5B8C\u8FD9\u4E2A\u62A5\u6587\u6BB5\u540E\u4FBF\u8FDB\u5165<code>ESTABLISHED</code> \u72B6\u6001\uFF0C\u670D\u52A1\u7AEF\u6536\u5230\u8FD9\u4E2A\u5E94\u7B54\u540E\u4E5F\u8FDB\u5165 <code>ESTABLISHED</code>\u72B6\u6001\uFF0C\u6B64\u65F6\u8FDE\u63A5\u5EFA\u7ACB\u6210\u529F\u3002</p></blockquote><ul><li>PS\uFF1A\u7B2C\u4E09\u6B21\u63E1\u624B\u53EF\u4EE5\u5305\u542B\u6570\u636E\uFF0C\u901A\u8FC7 <code>TCP</code> \u5FEB\u901F\u6253\u5F00\uFF08<code>TFO</code>\uFF09\u6280\u672F\u3002\u5176\u5B9E\u53EA\u8981\u6D89\u53CA\u5230\u63E1\u624B\u7684\u534F\u8BAE\uFF0C\u90FD\u53EF\u4EE5\u4F7F\u7528\u7C7B\u4F3C <code>TFO</code> \u7684\u65B9\u5F0F\uFF0C\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u5B58\u50A8\u76F8\u540C <code>cookie</code>\uFF0C\u4E0B\u6B21\u63E1\u624B\u65F6\u53D1\u51FA <code>cookie</code>\u8FBE\u5230\u51CF\u5C11 <code>RTT</code> \u7684\u76EE\u7684</li></ul><p><strong>\u4F60\u662F\u5426\u6709\u7591\u60D1\u660E\u660E\u4E24\u6B21\u63E1\u624B\u5C31\u53EF\u4EE5\u5EFA\u7ACB\u8D77\u8FDE\u63A5\uFF0C\u4E3A\u4EC0\u4E48\u8FD8\u9700\u8981\u7B2C\u4E09\u6B21\u5E94\u7B54\uFF1F</strong></p><ul><li>\u56E0\u4E3A\u8FD9\u662F\u4E3A\u4E86\u9632\u6B62\u5931\u6548\u7684\u8FDE\u63A5\u8BF7\u6C42\u62A5\u6587\u6BB5\u88AB\u670D\u52A1\u7AEF\u63A5\u6536\uFF0C\u4ECE\u800C\u4EA7\u751F\u9519\u8BEF</li></ul><blockquote><p>\u53EF\u4EE5\u60F3\u8C61\u5982\u4E0B\u573A\u666F\u3002\u5BA2\u6237\u7AEF\u53D1\u9001\u4E86\u4E00\u4E2A\u8FDE\u63A5\u8BF7\u6C42 A\uFF0C\u4F46\u662F\u56E0\u4E3A\u7F51\u7EDC\u539F\u56E0\u9020\u6210\u4E86\u8D85\u65F6\uFF0C\u8FD9\u65F6 TCP \u4F1A\u542F\u52A8\u8D85\u65F6\u91CD\u4F20\u7684\u673A\u5236\u518D\u6B21\u53D1\u9001\u4E00\u4E2A\u8FDE\u63A5\u8BF7\u6C42 B\u3002\u6B64\u65F6\u8BF7\u6C42\u987A\u5229\u5230\u8FBE\u670D\u52A1\u7AEF\uFF0C\u670D\u52A1\u7AEF\u5E94\u7B54\u5B8C\u5C31\u5EFA\u7ACB\u4E86\u8BF7\u6C42\u3002\u5982\u679C\u8FDE\u63A5\u8BF7\u6C42 A \u5728\u4E24\u7AEF\u5173\u95ED\u540E\u7EC8\u4E8E\u62B5\u8FBE\u4E86\u670D\u52A1\u7AEF\uFF0C\u90A3\u4E48\u8FD9\u65F6\u670D\u52A1\u7AEF\u4F1A\u8BA4\u4E3A\u5BA2\u6237\u7AEF\u53C8\u9700\u8981\u5EFA\u7ACB TCP \u8FDE\u63A5\uFF0C\u4ECE\u800C\u5E94\u7B54\u4E86\u8BE5\u8BF7\u6C42\u5E76\u8FDB\u5165 <code>ESTABLISHED</code> \u72B6\u6001\u3002\u6B64\u65F6\u5BA2\u6237\u7AEF\u5176\u5B9E\u662F CLOSED \u72B6\u6001\uFF0C\u90A3\u4E48\u5C31\u4F1A\u5BFC\u81F4\u670D\u52A1\u7AEF\u4E00\u76F4\u7B49\u5F85\uFF0C\u9020\u6210\u8D44\u6E90\u7684\u6D6A\u8D39</p></blockquote><blockquote><p>PS\uFF1A\u5728\u5EFA\u7ACB\u8FDE\u63A5\u4E2D\uFF0C\u4EFB\u610F\u4E00\u7AEF\u6389\u7EBF\uFF0CTCP \u90FD\u4F1A\u91CD\u53D1 SYN \u5305\uFF0C\u4E00\u822C\u4F1A\u91CD\u8BD5\u4E94\u6B21\uFF0C\u5728\u5EFA\u7ACB\u8FDE\u63A5\u4E2D\u53EF\u80FD\u4F1A\u9047\u5230 SYN FLOOD \u653B\u51FB\u3002\u9047\u5230\u8FD9\u79CD\u60C5\u51B5\u4F60\u53EF\u4EE5\u9009\u62E9\u8C03\u4F4E\u91CD\u8BD5\u6B21\u6570\u6216\u8005\u5E72\u8106\u5728\u4E0D\u80FD\u5904\u7406\u7684\u60C5\u51B5\u4E0B\u62D2\u7EDD\u8BF7\u6C42</p></blockquote><p><strong>\u65AD\u5F00\u94FE\u63A5\u56DB\u6B21\u63E1\u624B</strong></p><p><img src="https://poetries1.gitee.io/img-repo/2020/09/230.png" alt="img"></p><blockquote><p><code>TCP</code> \u662F\u5168\u53CC\u5DE5\u7684\uFF0C\u5728\u65AD\u5F00\u8FDE\u63A5\u65F6\u4E24\u7AEF\u90FD\u9700\u8981\u53D1\u9001 <code>FIN</code> \u548C <code>ACK</code>\u3002</p></blockquote><p><strong>\u7B2C\u4E00\u6B21\u63E1\u624B</strong></p><blockquote><p>\u82E5\u5BA2\u6237\u7AEF A \u8BA4\u4E3A\u6570\u636E\u53D1\u9001\u5B8C\u6210\uFF0C\u5219\u5B83\u9700\u8981\u5411\u670D\u52A1\u7AEF B \u53D1\u9001\u8FDE\u63A5\u91CA\u653E\u8BF7\u6C42\u3002</p></blockquote><p><strong>\u7B2C\u4E8C\u6B21\u63E1\u624B</strong></p><blockquote><p>B \u6536\u5230\u8FDE\u63A5\u91CA\u653E\u8BF7\u6C42\u540E\uFF0C\u4F1A\u544A\u8BC9\u5E94\u7528\u5C42\u8981\u91CA\u653E TCP \u94FE\u63A5\u3002\u7136\u540E\u4F1A\u53D1\u9001 ACK \u5305\uFF0C\u5E76\u8FDB\u5165 CLOSE_WAIT \u72B6\u6001\uFF0C\u8868\u793A A \u5230 B \u7684\u8FDE\u63A5\u5DF2\u7ECF\u91CA\u653E\uFF0C\u4E0D\u63A5\u6536 A \u53D1\u7684\u6570\u636E\u4E86\u3002\u4F46\u662F\u56E0\u4E3A TCP \u8FDE\u63A5\u65F6\u53CC\u5411\u7684\uFF0C\u6240\u4EE5 B \u4ECD\u65E7\u53EF\u4EE5\u53D1\u9001\u6570\u636E\u7ED9 A\u3002</p></blockquote><p><strong>\u7B2C\u4E09\u6B21\u63E1\u624B</strong></p><blockquote><p>B \u5982\u679C\u6B64\u65F6\u8FD8\u6709\u6CA1\u53D1\u5B8C\u7684\u6570\u636E\u4F1A\u7EE7\u7EED\u53D1\u9001\uFF0C\u5B8C\u6BD5\u540E\u4F1A\u5411 A \u53D1\u9001\u8FDE\u63A5\u91CA\u653E\u8BF7\u6C42\uFF0C\u7136\u540E B \u4FBF\u8FDB\u5165 LAST-ACK \u72B6\u6001\u3002</p></blockquote><blockquote><p>PS\uFF1A\u901A\u8FC7\u5EF6\u8FDF\u786E\u8BA4\u7684\u6280\u672F\uFF08\u901A\u5E38\u6709\u65F6\u95F4\u9650\u5236\uFF0C\u5426\u5219\u5BF9\u65B9\u4F1A\u8BEF\u8BA4\u4E3A\u9700\u8981\u91CD\u4F20\uFF09\uFF0C\u53EF\u4EE5\u5C06\u7B2C\u4E8C\u6B21\u548C\u7B2C\u4E09\u6B21\u63E1\u624B\u5408\u5E76\uFF0C\u5EF6\u8FDF ACK \u5305\u7684\u53D1\u9001\u3002</p></blockquote><p><strong>\u7B2C\u56DB\u6B21\u63E1\u624B</strong></p><ul><li>A \u6536\u5230\u91CA\u653E\u8BF7\u6C42\u540E\uFF0C\u5411 B \u53D1\u9001\u786E\u8BA4\u5E94\u7B54\uFF0C\u6B64\u65F6 A \u8FDB\u5165 TIME-WAIT \u72B6\u6001\u3002\u8BE5\u72B6\u6001\u4F1A\u6301\u7EED 2MSL\uFF08\u6700\u5927\u6BB5\u751F\u5B58\u671F\uFF0C\u6307\u62A5\u6587\u6BB5\u5728\u7F51\u7EDC\u4E2D\u751F\u5B58\u7684\u65F6\u95F4\uFF0C\u8D85\u65F6\u4F1A\u88AB\u629B\u5F03\uFF09 \u65F6\u95F4\uFF0C\u82E5\u8BE5\u65F6\u95F4\u6BB5\u5185\u6CA1\u6709 B \u7684\u91CD\u53D1\u8BF7\u6C42\u7684\u8BDD\uFF0C\u5C31\u8FDB\u5165 CLOSED \u72B6\u6001\u3002\u5F53 B \u6536\u5230\u786E\u8BA4\u5E94\u7B54\u540E\uFF0C\u4E5F\u4FBF\u8FDB\u5165 CLOSED \u72B6\u6001\u3002</li></ul><blockquote><p>\u4E3A\u4EC0\u4E48 A \u8981\u8FDB\u5165 TIME-WAIT \u72B6\u6001\uFF0C\u7B49\u5F85 2MSL \u65F6\u95F4\u540E\u624D\u8FDB\u5165 CLOSED \u72B6\u6001\uFF1F</p></blockquote><ul><li>\u4E3A\u4E86\u4FDD\u8BC1 B \u80FD\u6536\u5230 A \u7684\u786E\u8BA4\u5E94\u7B54\u3002\u82E5 A \u53D1\u5B8C\u786E\u8BA4\u5E94\u7B54\u540E\u76F4\u63A5\u8FDB\u5165 CLOSED \u72B6\u6001\uFF0C\u5982\u679C\u786E\u8BA4\u5E94\u7B54\u56E0\u4E3A\u7F51\u7EDC\u95EE\u9898\u4E00\u76F4\u6CA1\u6709\u5230\u8FBE\uFF0C\u90A3\u4E48\u4F1A\u9020\u6210 B \u4E0D\u80FD\u6B63\u5E38\u5173\u95ED</li></ul>',39),K0n={id:"_3-http",tabindex:"-1"},Q0n=n("a",{class:"header-anchor",href:"#_3-http","aria-hidden":"true"},"#",-1),Y0n=s(),Z0n={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#_3-http",target:"_blank",rel:"noopener noreferrer"},nAn=s("#"),sAn=s("3 HTTP"),aAn=t("<blockquote><p><code>HTTP</code> \u534F\u8BAE\u662F\u4E2A\u65E0\u72B6\u6001\u534F\u8BAE\uFF0C\u4E0D\u4F1A\u4FDD\u5B58\u72B6\u6001</p></blockquote><p><strong>3.1 Post \u548C Get \u7684\u533A\u522B</strong></p><ul><li><code>Get</code>\u8BF7\u6C42\u80FD\u7F13\u5B58\uFF0C<code>Post</code> \u4E0D\u80FD</li><li><code>Post</code> \u76F8\u5BF9 <code>Get</code>\u5B89\u5168\u4E00\u70B9\u70B9\uFF0C\u56E0\u4E3A<code>Get</code> \u8BF7\u6C42\u90FD\u5305\u542B\u5728 <code>URL</code> \u91CC\uFF0C\u4E14\u4F1A\u88AB\u6D4F\u89C8\u5668\u4FDD\u5B58\u5386\u53F2\u7EAA\u5F55\uFF0C<code>Post</code> \u4E0D\u4F1A\uFF0C\u4F46\u662F\u5728\u6293\u5305\u7684\u60C5\u51B5\u4E0B\u90FD\u662F\u4E00\u6837\u7684\u3002</li><li><code>Post</code> \u53EF\u4EE5\u901A\u8FC7 <code>request body</code>\u6765\u4F20\u8F93\u6BD4 <code>Get</code> \u66F4\u591A\u7684\u6570\u636E\uFF0C<code>Get</code>\u6CA1\u6709\u8FD9\u4E2A\u6280\u672F</li><li><code>URL</code>\u6709\u957F\u5EA6\u9650\u5236\uFF0C\u4F1A\u5F71\u54CD <code>Get</code>\u8BF7\u6C42\uFF0C\u4F46\u662F\u8FD9\u4E2A\u957F\u5EA6\u9650\u5236\u662F\u6D4F\u89C8\u5668\u89C4\u5B9A\u7684\uFF0C\u4E0D\u662F <code>RFC</code> \u89C4\u5B9A\u7684</li><li><code>Post</code> \u652F\u6301\u66F4\u591A\u7684\u7F16\u7801\u7C7B\u578B\u4E14\u4E0D\u5BF9\u6570\u636E\u7C7B\u578B\u9650\u5236</li></ul><p><strong>3.2 \u5E38\u89C1\u72B6\u6001\u7801</strong></p><p><strong>2XX \u6210\u529F</strong></p><ul><li><code>200 OK</code>\uFF0C\u8868\u793A\u4ECE\u5BA2\u6237\u7AEF\u53D1\u6765\u7684\u8BF7\u6C42\u5728\u670D\u52A1\u5668\u7AEF\u88AB\u6B63\u786E\u5904\u7406</li><li><code>204 No content</code>\uFF0C\u8868\u793A\u8BF7\u6C42\u6210\u529F\uFF0C\u4F46\u54CD\u5E94\u62A5\u6587\u4E0D\u542B\u5B9E\u4F53\u7684\u4E3B\u4F53\u90E8\u5206</li><li><code>205 Reset Content</code>\uFF0C\u8868\u793A\u8BF7\u6C42\u6210\u529F\uFF0C\u4F46\u54CD\u5E94\u62A5\u6587\u4E0D\u542B\u5B9E\u4F53\u7684\u4E3B\u4F53\u90E8\u5206\uFF0C\u4F46\u662F\u4E0E <code>204</code> \u54CD\u5E94\u4E0D\u540C\u5728\u4E8E\u8981\u6C42\u8BF7\u6C42\u65B9\u91CD\u7F6E\u5185\u5BB9</li><li><code>206 Partial Content</code>\uFF0C\u8FDB\u884C\u8303\u56F4\u8BF7\u6C42</li></ul><p><strong>3XX \u91CD\u5B9A\u5411</strong></p><ul><li><code>301 moved permanently</code>\uFF0C\u6C38\u4E45\u6027\u91CD\u5B9A\u5411\uFF0C\u8868\u793A\u8D44\u6E90\u5DF2\u88AB\u5206\u914D\u4E86\u65B0\u7684 URL</li><li><code>302 found</code>\uFF0C\u4E34\u65F6\u6027\u91CD\u5B9A\u5411\uFF0C\u8868\u793A\u8D44\u6E90\u4E34\u65F6\u88AB\u5206\u914D\u4E86\u65B0\u7684 URL</li><li><code>303 see other</code>\uFF0C\u8868\u793A\u8D44\u6E90\u5B58\u5728\u7740\u53E6\u4E00\u4E2A URL\uFF0C\u5E94\u4F7F\u7528 GET \u65B9\u6CD5\u4E01\u9999\u83B7\u53D6\u8D44\u6E90</li><li><code>304 not modified</code>\uFF0C\u8868\u793A\u670D\u52A1\u5668\u5141\u8BB8\u8BBF\u95EE\u8D44\u6E90\uFF0C\u4F46\u56E0\u53D1\u751F\u8BF7\u6C42\u672A\u6EE1\u8DB3\u6761\u4EF6\u7684\u60C5\u51B5</li><li><code>307 temporary redirect</code>\uFF0C\u4E34\u65F6\u91CD\u5B9A\u5411\uFF0C\u548C302\u542B\u4E49\u7C7B\u4F3C\uFF0C\u4F46\u662F\u671F\u671B\u5BA2\u6237\u7AEF\u4FDD\u6301\u8BF7\u6C42\u65B9\u6CD5\u4E0D\u53D8\u5411\u65B0\u7684\u5730\u5740\u53D1\u51FA\u8BF7\u6C42</li></ul><p><strong>4XX \u5BA2\u6237\u7AEF\u9519\u8BEF</strong></p><ul><li><code>400 bad request</code>\uFF0C\u8BF7\u6C42\u62A5\u6587\u5B58\u5728\u8BED\u6CD5\u9519\u8BEF</li><li><code>401 unauthorized</code>\uFF0C\u8868\u793A\u53D1\u9001\u7684\u8BF7\u6C42\u9700\u8981\u6709\u901A\u8FC7 <code>HTTP</code>\u8BA4\u8BC1\u7684\u8BA4\u8BC1\u4FE1\u606F</li><li><code>403 forbidden</code>\uFF0C\u8868\u793A\u5BF9\u8BF7\u6C42\u8D44\u6E90\u7684\u8BBF\u95EE\u88AB\u670D\u52A1\u5668\u62D2\u7EDD</li><li><code>404 not found</code>\uFF0C\u8868\u793A\u5728\u670D\u52A1\u5668\u4E0A\u6CA1\u6709\u627E\u5230\u8BF7\u6C42\u7684\u8D44\u6E90</li></ul><p><strong>5XX \u670D\u52A1\u5668\u9519\u8BEF</strong></p><ul><li><code>500 internal sever error</code>\uFF0C\u8868\u793A\u670D\u52A1\u5668\u7AEF\u5728\u6267\u884C\u8BF7\u6C42\u65F6\u53D1\u751F\u4E86\u9519\u8BEF</li><li><code>501 Not Implemented</code>\uFF0C\u8868\u793A\u670D\u52A1\u5668\u4E0D\u652F\u6301\u5F53\u524D\u8BF7\u6C42\u6240\u9700\u8981\u7684\u67D0\u4E2A\u529F\u80FD</li><li><code>503 service unavailable</code>\uFF0C\u8868\u660E\u670D\u52A1\u5668\u6682\u65F6\u5904\u4E8E\u8D85\u8D1F\u8F7D\u6216\u6B63\u5728\u505C\u673A\u7EF4\u62A4\uFF0C\u65E0\u6CD5\u5904\u7406\u8BF7\u6C42</li></ul><p><strong>3.3 HTTP \u9996\u90E8</strong></p><table><thead><tr><th>\u901A\u7528\u5B57\u6BB5</th><th>\u4F5C\u7528</th></tr></thead><tbody><tr><td><code>Cache-Control</code></td><td>\u63A7\u5236\u7F13\u5B58\u7684\u884C\u4E3A</td></tr><tr><td><code>Connection</code></td><td>\u6D4F\u89C8\u5668\u60F3\u8981\u4F18\u5148\u4F7F\u7528\u7684\u8FDE\u63A5\u7C7B\u578B\uFF0C\u6BD4\u5982 <code>keep-alive</code></td></tr><tr><td><code>Date</code></td><td>\u521B\u5EFA\u62A5\u6587\u65F6\u95F4</td></tr><tr><td><code>Pragma</code></td><td>\u62A5\u6587\u6307\u4EE4</td></tr><tr><td><code>Via</code></td><td>\u4EE3\u7406\u670D\u52A1\u5668\u76F8\u5173\u4FE1\u606F</td></tr><tr><td><code>Transfer-Encoding</code></td><td>\u4F20\u8F93\u7F16\u7801\u65B9\u5F0F</td></tr><tr><td><code>Upgrade</code></td><td>\u8981\u6C42\u5BA2\u6237\u7AEF\u5347\u7EA7\u534F\u8BAE</td></tr><tr><td><code>Warning</code></td><td>\u5728\u5185\u5BB9\u4E2D\u53EF\u80FD\u5B58\u5728\u9519\u8BEF</td></tr></tbody></table><table><thead><tr><th>\u8BF7\u6C42\u5B57\u6BB5</th><th>\u4F5C\u7528</th></tr></thead><tbody><tr><td><code>Accept</code></td><td>\u80FD\u6B63\u786E\u63A5\u6536\u7684\u5A92\u4F53\u7C7B\u578B</td></tr><tr><td><code>Accept-Charset</code></td><td>\u80FD\u6B63\u786E\u63A5\u6536\u7684\u5B57\u7B26\u96C6</td></tr><tr><td><code>Accept-Encoding</code></td><td>\u80FD\u6B63\u786E\u63A5\u6536\u7684\u7F16\u7801\u683C\u5F0F\u5217\u8868</td></tr><tr><td><code>Accept-Language</code></td><td>\u80FD\u6B63\u786E\u63A5\u6536\u7684\u8BED\u8A00\u5217\u8868</td></tr><tr><td><code>Expect</code></td><td>\u671F\u5F85\u670D\u52A1\u7AEF\u7684\u6307\u5B9A\u884C\u4E3A</td></tr><tr><td><code>From</code></td><td>\u8BF7\u6C42\u65B9\u90AE\u7BB1\u5730\u5740</td></tr><tr><td><code>Host</code></td><td>\u670D\u52A1\u5668\u7684\u57DF\u540D</td></tr><tr><td><code>If-Match</code></td><td>\u4E24\u7AEF\u8D44\u6E90\u6807\u8BB0\u6BD4\u8F83</td></tr><tr><td><code>If-Modified-Since</code></td><td>\u672C\u5730\u8D44\u6E90\u672A\u4FEE\u6539\u8FD4\u56DE 304\uFF08\u6BD4\u8F83\u65F6\u95F4\uFF09</td></tr><tr><td><code>If-None-Match</code></td><td>\u672C\u5730\u8D44\u6E90\u672A\u4FEE\u6539\u8FD4\u56DE 304\uFF08\u6BD4\u8F83\u6807\u8BB0\uFF09</td></tr><tr><td><code>User-Agent</code></td><td>\u5BA2\u6237\u7AEF\u4FE1\u606F</td></tr><tr><td><code>Max-Forwards</code></td><td>\u9650\u5236\u53EF\u88AB\u4EE3\u7406\u53CA\u7F51\u5173\u8F6C\u53D1\u7684\u6B21\u6570</td></tr><tr><td><code>Proxy-Authorization</code></td><td>\u5411\u4EE3\u7406\u670D\u52A1\u5668\u53D1\u9001\u9A8C\u8BC1\u4FE1\u606F</td></tr><tr><td><code>Range</code></td><td>\u8BF7\u6C42\u67D0\u4E2A\u5185\u5BB9\u7684\u4E00\u90E8\u5206</td></tr><tr><td><code>Referer</code></td><td>\u8868\u793A\u6D4F\u89C8\u5668\u6240\u8BBF\u95EE\u7684\u524D\u4E00\u4E2A\u9875\u9762</td></tr><tr><td><code>TE</code></td><td>\u4F20\u8F93\u7F16\u7801\u65B9\u5F0F</td></tr></tbody></table><table><thead><tr><th>\u54CD\u5E94\u5B57\u6BB5</th><th>\u4F5C\u7528</th></tr></thead><tbody><tr><td><code>Accept-Ranges</code></td><td>\u662F\u5426\u652F\u6301\u67D0\u4E9B\u79CD\u7C7B\u7684\u8303\u56F4</td></tr><tr><td><code>Age</code></td><td>\u8D44\u6E90\u5728\u4EE3\u7406\u7F13\u5B58\u4E2D\u5B58\u5728\u7684\u65F6\u95F4</td></tr><tr><td><code>ETag</code></td><td>\u8D44\u6E90\u6807\u8BC6</td></tr><tr><td><code>Location</code></td><td>\u5BA2\u6237\u7AEF\u91CD\u5B9A\u5411\u5230\u67D0\u4E2A <code>URL</code></td></tr><tr><td><code>Proxy-Authenticate</code></td><td>\u5411\u4EE3\u7406\u670D\u52A1\u5668\u53D1\u9001\u9A8C\u8BC1\u4FE1\u606F</td></tr><tr><td><code>Server</code></td><td>\u670D\u52A1\u5668\u540D\u5B57</td></tr><tr><td><code>WWW-Authenticate</code></td><td>\u83B7\u53D6\u8D44\u6E90\u9700\u8981\u7684\u9A8C\u8BC1\u4FE1\u606F</td></tr></tbody></table><table><thead><tr><th>\u5B9E\u4F53\u5B57\u6BB5</th><th>\u4F5C\u7528</th></tr></thead><tbody><tr><td><code>Allow</code></td><td>\u8D44\u6E90\u7684\u6B63\u786E\u8BF7\u6C42\u65B9\u5F0F</td></tr><tr><td><code>Content-Encoding</code></td><td>\u5185\u5BB9\u7684\u7F16\u7801\u683C\u5F0F</td></tr><tr><td><code>Content-Language</code></td><td>\u5185\u5BB9\u4F7F\u7528\u7684\u8BED\u8A00</td></tr><tr><td><code>Content-Length</code></td><td><code>request body</code> \u957F\u5EA6</td></tr><tr><td><code>Content-Location</code></td><td>\u8FD4\u56DE\u6570\u636E\u7684\u5907\u7528\u5730\u5740</td></tr><tr><td><code>Content-MD5</code></td><td><code>Base64</code>\u52A0\u5BC6\u683C\u5F0F\u7684\u5185\u5BB9<code>MD5</code>\u68C0\u9A8C\u503C</td></tr><tr><td><code>Content-Range</code></td><td>\u5185\u5BB9\u7684\u4F4D\u7F6E\u8303\u56F4</td></tr><tr><td><code>Content-Type</code></td><td>\u5185\u5BB9\u7684\u5A92\u4F53\u7C7B\u578B</td></tr><tr><td><code>Expires</code></td><td>\u5185\u5BB9\u7684\u8FC7\u671F\u65F6\u95F4</td></tr><tr><td><code>Last_modified</code></td><td>\u5185\u5BB9\u7684\u6700\u540E\u4FEE\u6539\u65F6\u95F4</td></tr></tbody></table>",17),eAn={id:"_4-dns",tabindex:"-1"},tAn=n("a",{class:"header-anchor",href:"#_4-dns","aria-hidden":"true"},"#",-1),pAn=s(),oAn={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#_4-dns",target:"_blank",rel:"noopener noreferrer"},cAn=s("#"),lAn=s("4 DNS"),rAn=t("<blockquote><p>DNS \u7684\u4F5C\u7528\u5C31\u662F\u901A\u8FC7\u57DF\u540D\u67E5\u8BE2\u5230\u5177\u4F53\u7684 IP\u3002</p></blockquote><ul><li>\u56E0\u4E3A IP \u5B58\u5728\u6570\u5B57\u548C\u82F1\u6587\u7684\u7EC4\u5408\uFF08IPv6\uFF09\uFF0C\u5F88\u4E0D\u5229\u4E8E\u4EBA\u7C7B\u8BB0\u5FC6\uFF0C\u6240\u4EE5\u5C31\u51FA\u73B0\u4E86\u57DF\u540D\u3002\u4F60\u53EF\u4EE5\u628A\u57DF\u540D\u770B\u6210\u662F\u67D0\u4E2A IP \u7684\u522B\u540D\uFF0CDNS \u5C31\u662F\u53BB\u67E5\u8BE2\u8FD9\u4E2A\u522B\u540D\u7684\u771F\u6B63\u540D\u79F0\u662F\u4EC0\u4E48</li></ul><blockquote><p>\u5728 <code>TCP</code> \u63E1\u624B\u4E4B\u524D\u5C31\u5DF2\u7ECF\u8FDB\u884C\u4E86 <code>DNS</code> \u67E5\u8BE2\uFF0C\u8FD9\u4E2A\u67E5\u8BE2\u662F\u64CD\u4F5C\u7CFB\u7EDF\u81EA\u5DF1\u505A\u7684\u3002\u5F53\u4F60\u5728\u6D4F\u89C8\u5668\u4E2D\u60F3\u8BBF\u95EE <code>www.google.com</code> \u65F6\uFF0C\u4F1A\u8FDB\u884C\u4E00\u4E0B\u64CD\u4F5C</p></blockquote><ul><li>\u64CD\u4F5C\u7CFB\u7EDF\u4F1A\u9996\u5148\u5728\u672C\u5730\u7F13\u5B58\u4E2D\u67E5\u8BE2</li><li>\u6CA1\u6709\u7684\u8BDD\u4F1A\u53BB\u7CFB\u7EDF\u914D\u7F6E\u7684 DNS \u670D\u52A1\u5668\u4E2D\u67E5\u8BE2</li><li>\u5982\u679C\u8FD9\u65F6\u5019\u8FD8\u6CA1\u5F97\u8BDD\uFF0C\u4F1A\u76F4\u63A5\u53BB DNS \u6839\u670D\u52A1\u5668\u67E5\u8BE2\uFF0C\u8FD9\u4E00\u6B65\u67E5\u8BE2\u4F1A\u627E\u51FA\u8D1F\u8D23 com \u8FD9\u4E2A\u4E00\u7EA7\u57DF\u540D\u7684\u670D\u52A1\u5668</li><li>\u7136\u540E\u53BB\u8BE5\u670D\u52A1\u5668\u67E5\u8BE2 google \u8FD9\u4E2A\u4E8C\u7EA7\u57DF\u540D</li><li>\u63A5\u4E0B\u6765\u4E09\u7EA7\u57DF\u540D\u7684\u67E5\u8BE2\u5176\u5B9E\u662F\u6211\u4EEC\u914D\u7F6E\u7684\uFF0C\u4F60\u53EF\u4EE5\u7ED9 www \u8FD9\u4E2A\u57DF\u540D\u914D\u7F6E\u4E00\u4E2A IP\uFF0C\u7136\u540E\u8FD8\u53EF\u4EE5\u7ED9\u522B\u7684\u4E09\u7EA7\u57DF\u540D\u914D\u7F6E\u4E00\u4E2A IP</li></ul><blockquote><p>\u4EE5\u4E0A\u4ECB\u7ECD\u7684\u662F DNS \u8FED\u4EE3\u67E5\u8BE2\uFF0C\u8FD8\u6709\u79CD\u662F\u9012\u5F52\u67E5\u8BE2\uFF0C\u533A\u522B\u5C31\u662F\u524D\u8005\u662F\u7531\u5BA2\u6237\u7AEF\u53BB\u505A\u8BF7\u6C42\uFF0C\u540E\u8005\u662F\u7531\u7CFB\u7EDF\u914D\u7F6E\u7684 DNS \u670D\u52A1\u5668\u505A\u8BF7\u6C42\uFF0C\u5F97\u5230\u7ED3\u679C\u540E\u5C06\u6570\u636E\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF\u3002</p></blockquote>",5),iAn={id:"\u4E8C\u3001\u6570\u636E\u7ED3\u6784",tabindex:"-1"},uAn=n("a",{class:"header-anchor",href:"#\u4E8C\u3001\u6570\u636E\u7ED3\u6784","aria-hidden":"true"},"#",-1),kAn=s(),dAn={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#%E4%BA%8C%E3%80%81%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84",target:"_blank",rel:"noopener noreferrer"},bAn=s("#"),mAn=s("\u4E8C\u3001\u6570\u636E\u7ED3\u6784"),hAn={id:"_2-1-\u6808",tabindex:"-1"},_An=n("a",{class:"header-anchor",href:"#_2-1-\u6808","aria-hidden":"true"},"#",-1),gAn=s(),EAn={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#_2-1-%E6%A0%88",target:"_blank",rel:"noopener noreferrer"},fAn=s("#"),vAn=s("2.1 \u6808"),wAn=t(`<p><strong>\u6982\u5FF5</strong></p><ul><li>\u6808\u662F\u4E00\u4E2A\u7EBF\u6027\u7ED3\u6784\uFF0C\u5728\u8BA1\u7B97\u673A\u4E2D\u662F\u4E00\u4E2A\u76F8\u5F53\u5E38\u89C1\u7684\u6570\u636E\u7ED3\u6784\u3002</li><li>\u6808\u7684\u7279\u70B9\u662F\u53EA\u80FD\u5728\u67D0\u4E00\u7AEF\u6DFB\u52A0\u6216\u5220\u9664\u6570\u636E\uFF0C\u9075\u5FAA\u5148\u8FDB\u540E\u51FA\u7684\u539F\u5219</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/09/231.png" alt="img"></p><p><strong>\u5B9E\u73B0</strong></p><blockquote><p>\u6BCF\u79CD\u6570\u636E\u7ED3\u6784\u90FD\u53EF\u4EE5\u7528\u5F88\u591A\u79CD\u65B9\u5F0F\u6765\u5B9E\u73B0\uFF0C\u5176\u5B9E\u53EF\u4EE5\u628A\u6808\u770B\u6210\u662F\u6570\u7EC4\u7684\u4E00\u4E2A\u5B50\u96C6\uFF0C\u6240\u4EE5\u8FD9\u91CC\u4F7F\u7528\u6570\u7EC4\u6765\u5B9E\u73B0</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Stack</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>\u5E94\u7528</strong></p><blockquote><p>\u5339\u914D\u62EC\u53F7\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6808\u7684\u7279\u6027\u6765\u5B8C\u6210</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">isValid</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;(&#39;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;)&#39;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;[&#39;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;]&#39;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;{&#39;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;}&#39;</span><span class="token operator">:</span> <span class="token number">3</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> last <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>last<span class="token punctuation">]</span> <span class="token operator">+</span> map<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div>`,9),yAn={id:"_2-2-\u961F\u5217",tabindex:"-1"},xAn=n("a",{class:"header-anchor",href:"#_2-2-\u961F\u5217","aria-hidden":"true"},"#",-1),AAn=s(),BAn={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#_2-2-%E9%98%9F%E5%88%97",target:"_blank",rel:"noopener noreferrer"},qAn=s("#"),jAn=s("2.2 \u961F\u5217"),SAn=t(`<p><strong>\u6982\u5FF5</strong></p><blockquote><p>\u961F\u5217\u4E00\u4E2A\u7EBF\u6027\u7ED3\u6784\uFF0C\u7279\u70B9\u662F\u5728\u67D0\u4E00\u7AEF\u6DFB\u52A0\u6570\u636E\uFF0C\u5728\u53E6\u4E00\u7AEF\u5220\u9664\u6570\u636E\uFF0C\u9075\u5FAA\u5148\u8FDB\u5148\u51FA\u7684\u539F\u5219</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/09/232.png" alt="img"></p><p><strong>\u5B9E\u73B0</strong></p><blockquote><p>\u8FD9\u91CC\u4F1A\u8BB2\u89E3\u4E24\u79CD\u5B9E\u73B0\u961F\u5217\u7684\u65B9\u5F0F\uFF0C\u5206\u522B\u662F\u5355\u94FE\u961F\u5217\u548C\u5FAA\u73AF\u961F\u5217</p></blockquote><ul><li><strong>\u5355\u94FE\u961F\u5217</strong></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Queue</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">enQueue</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">deQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><blockquote><p>\u56E0\u4E3A\u5355\u94FE\u961F\u5217\u5728\u51FA\u961F\u64CD\u4F5C\u7684\u65F6\u5019\u9700\u8981 <code>O(n)</code> \u7684\u65F6\u95F4\u590D\u6742\u5EA6\uFF0C\u6240\u4EE5\u5F15\u5165\u4E86\u5FAA\u73AF\u961F\u5217\u3002\u5FAA\u73AF\u961F\u5217\u7684\u51FA\u961F\u64CD\u4F5C\u5E73\u5747\u662F <code>O(1)</code> \u7684\u65F6\u95F4\u590D\u6742\u5EA6</p></blockquote><ul><li><strong>\u5FAA\u73AF\u961F\u5217</strong></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">SqQueue</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment">// \u961F\u5934</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">// \u961F\u5C3E</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">// \u5F53\u524D\u961F\u5217\u5927\u5C0F</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">enQueue</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5224\u65AD\u961F\u5C3E + 1 \u662F\u5426\u4E3A\u961F\u5934</span>
    <span class="token comment">// \u5982\u679C\u662F\u5C31\u4EE3\u8868\u9700\u8981\u6269\u5BB9\u6570\u7EC4</span>
    <span class="token comment">// % this.queue.length \u662F\u4E3A\u4E86\u9632\u6B62\u6570\u7EC4\u8D8A\u754C</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">===</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>last<span class="token punctuation">]</span> <span class="token operator">=</span> item
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token function">deQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Queue is empty&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">--</span>
    <span class="token comment">// \u5224\u65AD\u5F53\u524D\u961F\u5217\u5927\u5C0F\u662F\u5426\u8FC7\u5C0F</span>
    <span class="token comment">// \u4E3A\u4E86\u4FDD\u8BC1\u4E0D\u6D6A\u8D39\u7A7A\u95F4\uFF0C\u5728\u961F\u5217\u7A7A\u95F4\u7B49\u4E8E\u603B\u957F\u5EA6\u56DB\u5206\u4E4B\u4E00\u65F6</span>
    <span class="token comment">// \u4E14\u4E0D\u4E3A 2 \u65F6\u7F29\u5C0F\u603B\u957F\u5EA6\u4E3A\u5F53\u524D\u7684\u4E00\u534A</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> r
  <span class="token punctuation">}</span>
  <span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Queue is empty&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>last
  <span class="token punctuation">}</span>
  <span class="token function">resize</span><span class="token punctuation">(</span><span class="token parameter">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> q <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      q<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue <span class="token operator">=</span> q
    <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div>`,10),CAn={id:"_2-3-\u94FE\u8868",tabindex:"-1"},DAn=n("a",{class:"header-anchor",href:"#_2-3-\u94FE\u8868","aria-hidden":"true"},"#",-1),FAn=s(),PAn={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#_2-3-%E9%93%BE%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"},TAn=s("#"),NAn=s("2.3 \u94FE\u8868"),MAn=t(`<p><strong>\u6982\u5FF5</strong></p><blockquote><p>\u94FE\u8868\u662F\u4E00\u4E2A\u7EBF\u6027\u7ED3\u6784\uFF0C\u540C\u65F6\u4E5F\u662F\u4E00\u4E2A\u5929\u7136\u7684\u9012\u5F52\u7ED3\u6784\u3002\u94FE\u8868\u7ED3\u6784\u53EF\u4EE5\u5145\u5206\u5229\u7528\u8BA1\u7B97\u673A\u5185\u5B58\u7A7A\u95F4\uFF0C\u5B9E\u73B0\u7075\u6D3B\u7684\u5185\u5B58\u52A8\u6001\u7BA1\u7406\u3002\u4F46\u662F\u94FE\u8868\u5931\u53BB\u4E86\u6570\u7EC4\u968F\u673A\u8BFB\u53D6\u7684\u4F18\u70B9\uFF0C\u540C\u65F6\u94FE\u8868\u7531\u4E8E\u589E\u52A0\u4E86\u7ED3\u70B9\u7684\u6307\u9488\u57DF\uFF0C\u7A7A\u95F4\u5F00\u9500\u6BD4\u8F83\u5927</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/09/233.png" alt="img"></p><p><strong>\u5B9E\u73B0</strong></p><ul><li><strong>\u5355\u5411\u94FE\u8868</strong></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> v
    <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> next
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">LinkList</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u94FE\u8868\u957F\u5EA6</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">// \u865A\u62DF\u5934\u90E8</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dummyNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">header<span class="token punctuation">,</span> index<span class="token punctuation">,</span> currentIndex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> currentIndex<span class="token punctuation">)</span> <span class="token keyword">return</span> header
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>header<span class="token punctuation">.</span>next<span class="token punctuation">,</span> index<span class="token punctuation">,</span> currentIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">addNode</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    <span class="token comment">// \u5F53\u5F80\u94FE\u8868\u672B\u5C3E\u63D2\u5165\u65F6\uFF0Cprev.next \u4E3A\u7A7A</span>
    <span class="token comment">// \u5176\u4ED6\u60C5\u51B5\u65F6\uFF0C\u56E0\u4E3A\u8981\u63D2\u5165\u8282\u70B9\uFF0C\u6240\u4EE5\u63D2\u5165\u7684\u8282\u70B9</span>
    <span class="token comment">// \u7684 next \u5E94\u8BE5\u662F prev.next</span>
    <span class="token comment">// \u7136\u540E\u8BBE\u7F6E prev.next \u4E3A\u63D2\u5165\u7684\u8282\u70B9</span>
    <span class="token keyword">let</span> prev <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dummyNode<span class="token punctuation">,</span> index<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    prev<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> prev<span class="token punctuation">.</span>next<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
    <span class="token keyword">return</span> prev<span class="token punctuation">.</span>next
  <span class="token punctuation">}</span>
  <span class="token function">insertNode</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addNode</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">addToFirst</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addNode</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">addToLast</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addNode</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeNode</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> isLast</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    index <span class="token operator">=</span> isLast <span class="token operator">?</span> index <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">:</span> index
    <span class="token keyword">let</span> prev <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dummyNode<span class="token punctuation">,</span> index<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> prev<span class="token punctuation">.</span>next
    prev<span class="token punctuation">.</span>next <span class="token operator">=</span> node<span class="token punctuation">.</span>next
    node<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">--</span>
    <span class="token keyword">return</span> node
  <span class="token punctuation">}</span>
  <span class="token function">removeFirstNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeNode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeLastNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeNode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">checkIndex</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> index <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Index error&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getNode</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dummyNode<span class="token punctuation">,</span> index<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>next
  <span class="token punctuation">}</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div>`,6),OAn={id:"_2-4-\u6811",tabindex:"-1"},IAn=n("a",{class:"header-anchor",href:"#_2-4-\u6811","aria-hidden":"true"},"#",-1),RAn=s(),VAn={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#_2-4-%E6%A0%91",target:"_blank",rel:"noopener noreferrer"},HAn=s("#"),LAn=s("2.4 \u6811"),UAn=t(`<p><strong>\u4E8C\u53C9\u6811</strong></p><ul><li>\u6811\u62E5\u6709\u5F88\u591A\u79CD\u7ED3\u6784\uFF0C\u4E8C\u53C9\u6811\u662F\u6811\u4E2D\u6700\u5E38\u7528\u7684\u7ED3\u6784\uFF0C\u540C\u65F6\u4E5F\u662F\u4E00\u4E2A\u5929\u7136\u7684\u9012\u5F52\u7ED3\u6784\u3002</li><li>\u4E8C\u53C9\u6811\u62E5\u6709\u4E00\u4E2A\u6839\u8282\u70B9\uFF0C\u6BCF\u4E2A\u8282\u70B9\u81F3\u591A\u62E5\u6709\u4E24\u4E2A\u5B50\u8282\u70B9\uFF0C\u5206\u522B\u4E3A\uFF1A\u5DE6\u8282\u70B9\u548C\u53F3\u8282\u70B9\u3002\u6811\u7684\u6700\u5E95\u90E8\u8282\u70B9\u79F0\u4E4B\u4E3A\u53F6\u8282\u70B9\uFF0C\u5F53\u4E00\u9897\u6811\u7684\u53F6\u6570\u91CF\u6570\u91CF\u4E3A\u6EE1\u65F6\uFF0C\u8BE5\u6811\u53EF\u4EE5\u79F0\u4E4B\u4E3A\u6EE1\u4E8C\u53C9\u6811</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/09/234.png" alt="img"></p><p><strong>\u4E8C\u5206\u641C\u7D22\u6811</strong></p><ul><li>\u4E8C\u5206\u641C\u7D22\u6811\u4E5F\u662F\u4E8C\u53C9\u6811\uFF0C\u62E5\u6709\u4E8C\u53C9\u6811\u7684\u7279\u6027\u3002\u4F46\u662F\u533A\u522B\u5728\u4E8E\u4E8C\u5206\u641C\u7D22\u6811\u6BCF\u4E2A\u8282\u70B9\u7684\u503C\u90FD\u6BD4\u4ED6\u7684\u5DE6\u5B50\u6811\u7684\u503C\u5927\uFF0C\u6BD4\u53F3\u5B50\u6811\u7684\u503C\u5C0F</li><li>\u8FD9\u79CD\u5B58\u50A8\u65B9\u5F0F\u5F88\u9002\u5408\u4E8E\u6570\u636E\u641C\u7D22\u3002\u5982\u4E0B\u56FE\u6240\u793A\uFF0C\u5F53\u9700\u8981\u67E5\u627E 6 \u7684\u65F6\u5019\uFF0C\u56E0\u4E3A\u9700\u8981\u67E5\u627E\u7684\u503C\u6BD4\u6839\u8282\u70B9\u7684\u503C\u5927\uFF0C\u6240\u4EE5\u53EA\u9700\u8981\u5728\u6839\u8282\u70B9\u7684\u53F3\u5B50\u6811\u4E0A\u5BFB\u627E\uFF0C\u5927\u5927\u63D0\u9AD8\u4E86\u641C\u7D22\u6548\u7387</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/09/235.png" alt="img"></p><ul><li><strong>\u5B9E\u73B0</strong></li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>class Node {
  constructor(value) {
    this.value = value
    this.left = null
    this.right = null
  }
}
class BST {
  constructor() {
    this.root = null
    this.size = 0
  }
  getSize() {
    return this.size
  }
  isEmpty() {
    return this.size === 0
  }
  addNode(v) {
    this.root = this._addChild(this.root, v)
  }
  // \u6DFB\u52A0\u8282\u70B9\u65F6\uFF0C\u9700\u8981\u6BD4\u8F83\u6DFB\u52A0\u7684\u8282\u70B9\u503C\u548C\u5F53\u524D
  // \u8282\u70B9\u503C\u7684\u5927\u5C0F
  _addChild(node, v) {
    if (!node) {
      this.size++
      return new Node(v)
    }
    if (node.value &gt; v) {
      node.left = this._addChild(node.left, v)
    } else if (node.value &lt; v) {
      node.right = this._addChild(node.right, v)
    }
    return node
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><ul><li>\u4EE5\u4E0A\u662F\u6700\u57FA\u672C\u7684\u4E8C\u5206\u641C\u7D22\u6811\u5B9E\u73B0\uFF0C\u63A5\u4E0B\u6765\u5B9E\u73B0\u6811\u7684\u904D\u5386\u3002</li></ul><blockquote><p>\u5BF9\u4E8E\u6811\u7684\u904D\u5386\u6765\u8BF4\uFF0C\u6709\u4E09\u79CD\u904D\u5386\u65B9\u6CD5\uFF0C\u5206\u522B\u662F\u5148\u5E8F\u904D\u5386\u3001\u4E2D\u5E8F\u904D\u5386\u3001\u540E\u5E8F\u904D\u5386\u3002\u4E09\u79CD\u904D\u5386\u7684\u533A\u522B\u5728\u4E8E\u4F55\u65F6\u8BBF\u95EE\u8282\u70B9\u3002\u5728\u904D\u5386\u6811\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u6BCF\u4E2A\u8282\u70B9\u90FD\u4F1A\u904D\u5386\u4E09\u6B21\uFF0C\u5206\u522B\u662F\u904D\u5386\u5230\u81EA\u5DF1\uFF0C\u904D\u5386\u5DE6\u5B50\u6811\u548C\u904D\u5386\u53F3\u5B50\u6811\u3002\u5982\u679C\u9700\u8981\u5B9E\u73B0\u5148\u5E8F\u904D\u5386\uFF0C\u90A3\u4E48\u53EA\u9700\u8981\u7B2C\u4E00\u6B21\u904D\u5386\u5230\u8282\u70B9\u65F6\u8FDB\u884C\u64CD\u4F5C\u5373\u53EF</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5148\u5E8F\u904D\u5386\u53EF\u7528\u4E8E\u6253\u5370\u6811\u7684\u7ED3\u6784</span>
<span class="token comment">// \u5148\u5E8F\u904D\u5386\u5148\u8BBF\u95EE\u6839\u8282\u70B9\uFF0C\u7136\u540E\u8BBF\u95EE\u5DE6\u8282\u70B9\uFF0C\u6700\u540E\u8BBF\u95EE\u53F3\u8282\u70B9\u3002</span>
<span class="token function">preTraversal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_pre</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_pre</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_pre</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_pre</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u4E2D\u5E8F\u904D\u5386\u53EF\u7528\u4E8E\u6392\u5E8F</span>
<span class="token comment">// \u5BF9\u4E8E BST \u6765\u8BF4\uFF0C\u4E2D\u5E8F\u904D\u5386\u53EF\u4EE5\u5B9E\u73B0\u4E00\u6B21\u904D\u5386\u5C31</span>
<span class="token comment">// \u5F97\u5230\u6709\u5E8F\u7684\u503C</span>
<span class="token comment">// \u4E2D\u5E8F\u904D\u5386\u8868\u793A\u5148\u8BBF\u95EE\u5DE6\u8282\u70B9\uFF0C\u7136\u540E\u8BBF\u95EE\u6839\u8282\u70B9\uFF0C\u6700\u540E\u8BBF\u95EE\u53F3\u8282\u70B9\u3002</span>
<span class="token function">midTraversal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_mid</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_mid</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_mid</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_mid</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u540E\u5E8F\u904D\u5386\u53EF\u7528\u4E8E\u5148\u64CD\u4F5C\u5B50\u8282\u70B9</span>
<span class="token comment">// \u518D\u64CD\u4F5C\u7236\u8282\u70B9\u7684\u573A\u666F</span>
<span class="token comment">// \u540E\u5E8F\u904D\u5386\u8868\u793A\u5148\u8BBF\u95EE\u5DE6\u8282\u70B9\uFF0C\u7136\u540E\u8BBF\u95EE\u53F3\u8282\u70B9\uFF0C\u6700\u540E\u8BBF\u95EE\u6839\u8282\u70B9\u3002</span>
<span class="token function">backTraversal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_back</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_back</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_back</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_back</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u7684\u8FD9\u51E0\u79CD\u904D\u5386\u90FD\u53EF\u4EE5\u79F0\u4E4B\u4E3A\u6DF1\u5EA6\u904D\u5386\uFF0C\u5BF9\u5E94\u7684\u8FD8\u6709\u79CD\u904D\u5386\u53EB\u505A\u5E7F\u5EA6\u904D\u5386\uFF0C\u4E5F\u5C31\u662F\u4E00\u5C42\u5C42\u5730\u904D\u5386\u6811\u3002\u5BF9\u4E8E\u5E7F\u5EA6\u904D\u5386\u6765\u8BF4\uFF0C\u6211\u4EEC\u9700\u8981\u5229\u7528\u4E4B\u524D\u8BB2\u8FC7\u7684\u961F\u5217\u7ED3\u6784\u6765\u5B8C\u6210</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">breadthTraversal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token keyword">let</span> q <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// \u5C06\u6839\u8282\u70B9\u5165\u961F</span>
  q<span class="token punctuation">.</span><span class="token function">enQueue</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
  <span class="token comment">// \u5FAA\u73AF\u5224\u65AD\u961F\u5217\u662F\u5426\u4E3A\u7A7A\uFF0C\u4E3A\u7A7A</span>
  <span class="token comment">// \u4EE3\u8868\u6811\u904D\u5386\u5B8C\u6BD5</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5C06\u961F\u9996\u51FA\u961F\uFF0C\u5224\u65AD\u662F\u5426\u6709\u5DE6\u53F3\u5B50\u6811</span>
    <span class="token comment">// \u6709\u7684\u8BDD\uFF0C\u5C31\u5148\u5DE6\u540E\u53F3\u5165\u961F</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">deQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>left<span class="token punctuation">)</span> q<span class="token punctuation">.</span><span class="token function">enQueue</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>right<span class="token punctuation">)</span> q<span class="token punctuation">.</span><span class="token function">enQueue</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>\u63A5\u4E0B\u6765\u5148\u4ECB\u7ECD\u5982\u4F55\u5728\u6811\u4E2D\u5BFB\u627E\u6700\u5C0F\u503C\u6216\u6700\u5927\u6570\u3002\u56E0\u4E3A\u4E8C\u5206\u641C\u7D22\u6811\u7684\u7279\u6027\uFF0C\u6240\u4EE5\u6700\u5C0F\u503C\u4E00\u5B9A\u5728\u6839\u8282\u70B9\u7684\u6700\u5DE6\u8FB9\uFF0C\u6700\u5927\u503C\u76F8\u53CD</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">getMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span><span class="token punctuation">.</span>value
<span class="token punctuation">}</span>
<span class="token function">_getMin</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">return</span> node
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">getMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMax</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span><span class="token punctuation">.</span>value
<span class="token punctuation">}</span>
<span class="token function">_getMax</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token keyword">return</span> node
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>\u5411\u4E0A\u53D6\u6574\u548C\u5411\u4E0B\u53D6\u6574\uFF0C\u8FD9\u4E24\u4E2A\u64CD\u4F5C\u662F\u76F8\u53CD\u7684\uFF0C\u6240\u4EE5\u4EE3\u7801\u4E5F\u662F\u7C7B\u4F3C\u7684\uFF0C\u8FD9\u91CC\u53EA\u4ECB\u7ECD\u5982\u4F55\u5411\u4E0B\u53D6\u6574\u3002\u65E2\u7136\u662F\u5411\u4E0B\u53D6\u6574\uFF0C\u90A3\u4E48\u6839\u636E\u4E8C\u5206\u641C\u7D22\u6811\u7684\u7279\u6027\uFF0C\u503C\u4E00\u5B9A\u5728\u6839\u8282\u70B9\u7684\u5DE6\u4FA7\u3002\u53EA\u9700\u8981\u4E00\u76F4\u904D\u5386\u5DE6\u5B50\u6811\u76F4\u5230\u5F53\u524D\u8282\u70B9\u7684\u503C\u4E0D\u518D\u5927\u4E8E\u7B49\u4E8E\u9700\u8981\u7684\u503C\uFF0C\u7136\u540E\u5224\u65AD\u8282\u70B9\u662F\u5426\u8FD8\u62E5\u6709\u53F3\u5B50\u6811\u3002\u5982\u679C\u6709\u7684\u8BDD\uFF0C\u7EE7\u7EED\u4E0A\u9762\u7684\u9012\u5F52\u5224\u65AD</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">floor</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_floor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token keyword">return</span> node <span class="token operator">?</span> node<span class="token punctuation">.</span>value <span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
<span class="token function">_floor</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">===</span> v<span class="token punctuation">)</span> <span class="token keyword">return</span> v
  <span class="token comment">// \u5982\u679C\u5F53\u524D\u8282\u70B9\u503C\u8FD8\u6BD4\u9700\u8981\u7684\u503C\u5927\uFF0C\u5C31\u7EE7\u7EED\u9012\u5F52</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_floor</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5224\u65AD\u5F53\u524D\u8282\u70B9\u662F\u5426\u62E5\u6709\u53F3\u5B50\u6811</span>
  <span class="token keyword">let</span> right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_floor</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>right<span class="token punctuation">)</span> <span class="token keyword">return</span> right
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>\u6392\u540D\uFF0C\u8FD9\u662F\u7528\u4E8E\u83B7\u53D6\u7ED9\u5B9A\u503C\u7684\u6392\u540D\u6216\u8005\u6392\u540D\u7B2C\u51E0\u7684\u8282\u70B9\u7684\u503C\uFF0C\u8FD9\u4E24\u4E2A\u64CD\u4F5C\u4E5F\u662F\u76F8\u53CD\u7684\uFF0C\u6240\u4EE5\u8FD9\u4E2A\u53EA\u4ECB\u7ECD\u5982\u4F55\u83B7\u53D6\u6392\u540D\u7B2C\u51E0\u7684\u8282\u70B9\u7684\u503C\u3002\u5BF9\u4E8E\u8FD9\u4E2A\u64CD\u4F5C\u800C\u8A00\uFF0C\u6211\u4EEC\u9700\u8981\u7565\u5FAE\u7684\u6539\u9020\u70B9\u4EE3\u7801\uFF0C\u8BA9\u6BCF\u4E2A\u8282\u70B9\u62E5\u6709\u4E00\u4E2A size \u5C5E\u6027\u3002\u8BE5\u5C5E\u6027\u8868\u793A\u8BE5\u8282\u70B9\u4E0B\u6709\u591A\u5C11\u5B50\u8282\u70B9\uFF08\u5305\u542B\u81EA\u8EAB\uFF09</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value
    <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token comment">// \u4FEE\u6539\u4EE3\u7801</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u65B0\u589E\u4EE3\u7801</span>
<span class="token function">_getSize</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> node <span class="token operator">?</span> node<span class="token punctuation">.</span>size <span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
<span class="token function">_addChild</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4FEE\u6539\u4EE3\u7801</span>
    node<span class="token punctuation">.</span>size<span class="token operator">++</span>
    node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4FEE\u6539\u4EE3\u7801</span>
    node<span class="token punctuation">.</span>size<span class="token operator">++</span>
    node<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
<span class="token function">select</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_select</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">,</span> k<span class="token punctuation">)</span>
  <span class="token keyword">return</span> node <span class="token operator">?</span> node<span class="token punctuation">.</span>value <span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
<span class="token function">_select</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token comment">// \u5148\u83B7\u53D6\u5DE6\u5B50\u6811\u4E0B\u6709\u51E0\u4E2A\u8282\u70B9</span>
  <span class="token keyword">let</span> size <span class="token operator">=</span> node<span class="token punctuation">.</span>left <span class="token operator">?</span> node<span class="token punctuation">.</span>left<span class="token punctuation">.</span>size <span class="token operator">:</span> <span class="token number">0</span>
  <span class="token comment">// \u5224\u65AD size \u662F\u5426\u5927\u4E8E k</span>
  <span class="token comment">// \u5982\u679C\u5927\u4E8E k\uFF0C\u4EE3\u8868\u6240\u9700\u8981\u7684\u8282\u70B9\u5728\u5DE6\u8282\u70B9</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">&gt;</span> k<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_select</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> k<span class="token punctuation">)</span>
  <span class="token comment">// \u5982\u679C\u5C0F\u4E8E k\uFF0C\u4EE3\u8868\u6240\u9700\u8981\u7684\u8282\u70B9\u5728\u53F3\u8282\u70B9</span>
  <span class="token comment">// \u6CE8\u610F\u8FD9\u91CC\u9700\u8981\u91CD\u65B0\u8BA1\u7B97 k\uFF0C\u51CF\u53BB\u6839\u8282\u70B9\u9664\u4E86\u53F3\u5B50\u6811\u7684\u8282\u70B9\u6570\u91CF</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">&lt;</span> k<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_select</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> k <span class="token operator">-</span> size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><blockquote><p>\u63A5\u4E0B\u6765\u8BB2\u89E3\u7684\u662F\u4E8C\u5206\u641C\u7D22\u6811\u4E2D\u6700\u96BE\u5B9E\u73B0\u7684\u90E8\u5206\uFF1A\u5220\u9664\u8282\u70B9\u3002\u56E0\u4E3A\u5BF9\u4E8E\u5220\u9664\u8282\u70B9\u6765\u8BF4\uFF0C\u4F1A\u5B58\u5728\u4EE5\u4E0B\u51E0\u79CD\u60C5\u51B5</p></blockquote><ul><li>\u9700\u8981\u5220\u9664\u7684\u8282\u70B9\u6CA1\u6709\u5B50\u6811</li><li>\u9700\u8981\u5220\u9664\u7684\u8282\u70B9\u53EA\u6709\u4E00\u6761\u5B50\u6811</li><li>\u9700\u8981\u5220\u9664\u7684\u8282\u70B9\u6709\u5DE6\u53F3\u4E24\u6761\u6811</li><li>\u5BF9\u4E8E\u524D\u4E24\u79CD\u60C5\u51B5\u5F88\u597D\u89E3\u51B3\uFF0C\u4F46\u662F\u7B2C\u4E09\u79CD\u60C5\u51B5\u5C31\u6709\u96BE\u5EA6\u4E86\uFF0C\u6240\u4EE5\u5148\u6765\u5B9E\u73B0\u76F8\u5BF9\u7B80\u5355\u7684\u64CD\u4F5C\uFF1A\u5220\u9664\u6700\u5C0F\u8282\u70B9\uFF0C\u5BF9\u4E8E\u5220\u9664\u6700\u5C0F\u8282\u70B9\u6765\u8BF4\uFF0C\u662F\u4E0D\u5B58\u5728\u7B2C\u4E09\u79CD\u60C5\u51B5\u7684\uFF0C\u5220\u9664\u6700\u5927\u8282\u70B9\u64CD\u4F5C\u662F\u548C\u5220\u9664\u6700\u5C0F\u8282\u70B9\u76F8\u53CD\u7684\uFF0C\u6240\u4EE5\u8FD9\u91CC\u4E5F\u5C31\u4E0D\u518D\u8D58\u8FF0</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">delectMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delectMin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_delectMin</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u4E00\u76F4\u9012\u5F52\u5DE6\u5B50\u6811</span>
  <span class="token comment">// \u5982\u679C\u5DE6\u5B50\u6811\u4E3A\u7A7A\uFF0C\u5C31\u5224\u65AD\u8282\u70B9\u662F\u5426\u62E5\u6709\u53F3\u5B50\u6811</span>
  <span class="token comment">// \u6709\u53F3\u5B50\u6811\u7684\u8BDD\u5C31\u628A\u9700\u8981\u5220\u9664\u7684\u8282\u70B9\u66FF\u6362\u4E3A\u53F3\u5B50\u6811</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>node <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token operator">!</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">return</span> node<span class="token punctuation">.</span>right
  node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delectMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
  <span class="token comment">// \u6700\u540E\u9700\u8981\u91CD\u65B0\u7EF4\u62A4\u4E0B\u8282\u70B9\u7684 \`size\`</span>
  node<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getSize</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getSize</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>\u6700\u540E\u8BB2\u89E3\u7684\u5C31\u662F\u5982\u4F55\u5220\u9664\u4EFB\u610F\u8282\u70B9\u4E86\u3002\u5BF9\u4E8E\u8FD9\u4E2A\u64CD\u4F5C\uFF0C<code>T.Hibbard</code> \u5728 <code>1962</code>\u5E74\u63D0\u51FA\u4E86\u89E3\u51B3\u8FD9\u4E2A\u96BE\u9898\u7684\u529E\u6CD5\uFF0C\u4E5F\u5C31\u662F\u5982\u4F55\u89E3\u51B3\u7B2C\u4E09\u79CD\u60C5\u51B5\u3002</li><li>\u5F53\u9047\u5230\u8FD9\u79CD\u60C5\u51B5\u65F6\uFF0C\u9700\u8981\u53D6\u51FA\u5F53\u524D\u8282\u70B9\u7684\u540E\u7EE7\u8282\u70B9\uFF08\u4E5F\u5C31\u662F\u5F53\u524D\u8282\u70B9\u53F3\u5B50\u6811\u7684\u6700\u5C0F\u8282\u70B9\uFF09\u6765\u66FF\u6362\u9700\u8981\u5220\u9664\u7684\u8282\u70B9\u3002\u7136\u540E\u5C06\u9700\u8981\u5220\u9664\u8282\u70B9\u7684\u5DE6\u5B50\u6811\u8D4B\u503C\u7ED9\u540E\u7EE7\u7ED3\u70B9\uFF0C\u53F3\u5B50\u6811\u5220\u9664\u540E\u7EE7\u7ED3\u70B9\u540E\u8D4B\u503C\u7ED9\u4ED6\u3002</li><li>\u4F60\u5982\u679C\u5BF9\u4E8E\u8FD9\u4E2A\u89E3\u51B3\u529E\u6CD5\u6709\u7591\u95EE\u7684\u8BDD\uFF0C\u53EF\u4EE5\u8FD9\u6837\u8003\u8651\u3002\u56E0\u4E3A\u4E8C\u5206\u641C\u7D22\u6811\u7684\u7279\u6027\uFF0C\u7236\u8282\u70B9\u4E00\u5B9A\u6BD4\u6240\u6709\u5DE6\u5B50\u8282\u70B9\u5927\uFF0C\u6BD4\u6240\u6709\u53F3\u5B50\u8282\u70B9\u5C0F\u3002\u90A3\u4E48\u5F53\u9700\u8981\u5220\u9664\u7236\u8282\u70B9\u65F6\uFF0C\u52BF\u5FC5\u9700\u8981\u62FF\u51FA\u4E00\u4E2A\u6BD4\u7236\u8282\u70B9\u5927\u7684\u8282\u70B9\u6765\u66FF\u6362\u7236\u8282\u70B9\u3002\u8FD9\u4E2A\u8282\u70B9\u80AF\u5B9A\u4E0D\u5B58\u5728\u4E8E\u5DE6\u5B50\u6811\uFF0C\u5FC5\u7136\u5B58\u5728\u4E8E\u53F3\u5B50\u6811\u3002\u7136\u540E\u53C8\u9700\u8981\u4FDD\u6301\u7236\u8282\u70B9\u90FD\u662F\u6BD4\u53F3\u5B50\u8282\u70B9\u5C0F\u7684\uFF0C\u90A3\u4E48\u5C31\u53EF\u4EE5\u53D6\u51FA\u53F3\u5B50\u6811\u4E2D\u6700\u5C0F\u7684\u90A3\u4E2A\u8282\u70B9\u6765\u66FF\u6362\u7236\u8282\u70B9</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">delect</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_delect</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token comment">// \u5BFB\u627E\u7684\u8282\u70B9\u6BD4\u5F53\u524D\u8282\u70B9\u5C0F\uFF0C\u53BB\u5DE6\u5B50\u6811\u627E</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    node<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delect</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5BFB\u627E\u7684\u8282\u70B9\u6BD4\u5F53\u524D\u8282\u70B9\u5927\uFF0C\u53BB\u53F3\u5B50\u6811\u627E</span>
    node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delect</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8FDB\u5165\u8FD9\u4E2A\u6761\u4EF6\u8BF4\u660E\u5DF2\u7ECF\u627E\u5230\u8282\u70B9</span>
    <span class="token comment">// \u5148\u5224\u65AD\u8282\u70B9\u662F\u5426\u62E5\u6709\u62E5\u6709\u5DE6\u53F3\u5B50\u6811\u4E2D\u7684\u4E00\u4E2A</span>
    <span class="token comment">// \u662F\u7684\u8BDD\uFF0C\u5C06\u5B50\u6811\u8FD4\u56DE\u51FA\u53BB\uFF0C\u8FD9\u91CC\u548C \`_delectMin\` \u7684\u64CD\u4F5C\u4E00\u6837</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">return</span> node<span class="token punctuation">.</span>right
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token keyword">return</span> node<span class="token punctuation">.</span>left
    <span class="token comment">// \u8FDB\u5165\u8FD9\u91CC\uFF0C\u4EE3\u8868\u8282\u70B9\u62E5\u6709\u5DE6\u53F3\u5B50\u6811</span>
    <span class="token comment">// \u5148\u53D6\u51FA\u5F53\u524D\u8282\u70B9\u7684\u540E\u7EE7\u7ED3\u70B9\uFF0C\u4E5F\u5C31\u662F\u53D6\u5F53\u524D\u8282\u70B9\u53F3\u5B50\u6811\u7684\u6700\u5C0F\u503C</span>
    <span class="token keyword">let</span> min <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
    <span class="token comment">// \u53D6\u51FA\u6700\u5C0F\u503C\u540E\uFF0C\u5220\u9664\u6700\u5C0F\u503C</span>
    <span class="token comment">// \u7136\u540E\u628A\u5220\u9664\u8282\u70B9\u540E\u7684\u5B50\u6811\u8D4B\u503C\u7ED9\u6700\u5C0F\u503C\u8282\u70B9</span>
    min<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delectMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
    <span class="token comment">// \u5DE6\u5B50\u6811\u4E0D\u52A8</span>
    min<span class="token punctuation">.</span>left <span class="token operator">=</span> node<span class="token punctuation">.</span>left
    node <span class="token operator">=</span> min
  <span class="token punctuation">}</span>
  <span class="token comment">// \u7EF4\u62A4 size</span>
  node<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getSize</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getSize</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div>`,24),JAn={id:"_2-5-\u5806",tabindex:"-1"},WAn=n("a",{class:"header-anchor",href:"#_2-5-\u5806","aria-hidden":"true"},"#",-1),zAn=s(),GAn={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#_2-5-%E5%A0%86",target:"_blank",rel:"noopener noreferrer"},$An=s("#"),XAn=s("2.5 \u5806"),KAn=t(`<p><strong>\u6982\u5FF5</strong></p><ul><li>\u5806\u901A\u5E38\u662F\u4E00\u4E2A\u53EF\u4EE5\u88AB\u770B\u505A\u4E00\u68F5\u6811\u7684\u6570\u7EC4\u5BF9\u8C61\u3002</li><li>\u5806\u7684\u5B9E\u73B0\u901A\u8FC7\u6784\u9020\u4E8C\u53C9\u5806\uFF0C\u5B9E\u4E3A\u4E8C\u53C9\u6811\u7684\u4E00\u79CD\u3002\u8FD9\u79CD\u6570\u636E\u7ED3\u6784\u5177\u6709\u4EE5\u4E0B\u6027\u8D28\u3002</li><li>\u4EFB\u610F\u8282\u70B9\u5C0F\u4E8E\uFF08\u6216\u5927\u4E8E\uFF09\u5B83\u7684\u6240\u6709\u5B50\u8282\u70B9 \u5806\u603B\u662F\u4E00\u68F5\u5B8C\u5168\u6811\u3002\u5373\u9664\u4E86\u6700\u5E95\u5C42\uFF0C\u5176\u4ED6\u5C42\u7684\u8282\u70B9\u90FD\u88AB\u5143\u7D20\u586B\u6EE1\uFF0C\u4E14\u6700\u5E95\u5C42\u4ECE\u5DE6\u5230\u53F3\u586B\u5165\u3002</li><li>\u5C06\u6839\u8282\u70B9\u6700\u5927\u7684\u5806\u53EB\u505A\u6700\u5927\u5806\u6216\u5927\u6839\u5806\uFF0C\u6839\u8282\u70B9\u6700\u5C0F\u7684\u5806\u53EB\u505A\u6700\u5C0F\u5806\u6216\u5C0F\u6839\u5806\u3002</li><li>\u4F18\u5148\u961F\u5217\u4E5F\u5B8C\u5168\u53EF\u4EE5\u7528\u5806\u6765\u5B9E\u73B0\uFF0C\u64CD\u4F5C\u662F\u4E00\u6A21\u4E00\u6837\u7684\u3002</li></ul><p><strong>\u5B9E\u73B0\u5927\u6839\u5806</strong></p><blockquote><p>\u5806\u7684\u6BCF\u4E2A\u8282\u70B9\u7684\u5DE6\u8FB9\u5B50\u8282\u70B9\u7D22\u5F15\u662F <code>i * 2 + 1</code>\uFF0C\u53F3\u8FB9\u662F <code>i * 2 + 2</code>\uFF0C\u7236\u8282\u70B9\u662F <code>(i - 1) /2</code>\u3002</p></blockquote><ul><li>\u5806\u6709\u4E24\u4E2A\u6838\u5FC3\u7684\u64CD\u4F5C\uFF0C\u5206\u522B\u662F <code>shiftUp</code> \u548C <code>shiftDown</code> \u3002\u524D\u8005\u7528\u4E8E\u6DFB\u52A0\u5143\u7D20\uFF0C\u540E\u8005\u7528\u4E8E\u5220\u9664\u6839\u8282\u70B9\u3002</li><li><code>shiftUp</code> \u7684\u6838\u5FC3\u601D\u8DEF\u662F\u4E00\u8DEF\u5C06\u8282\u70B9\u4E0E\u7236\u8282\u70B9\u5BF9\u6BD4\u5927\u5C0F\uFF0C\u5982\u679C\u6BD4\u7236\u8282\u70B9\u5927\uFF0C\u5C31\u548C\u7236\u8282\u70B9\u4EA4\u6362\u4F4D\u7F6E\u3002</li><li><code>shiftDown</code> \u7684\u6838\u5FC3\u601D\u8DEF\u662F\u5148\u5C06\u6839\u8282\u70B9\u548C\u672B\u5C3E\u4EA4\u6362\u4F4D\u7F6E\uFF0C\u7136\u540E\u79FB\u9664\u672B\u5C3E\u5143\u7D20\u3002\u63A5\u4E0B\u6765\u5FAA\u73AF\u5224\u65AD\u7236\u8282\u70B9\u548C\u4E24\u4E2A\u5B50\u8282\u70B9\u7684\u5927\u5C0F\uFF0C\u5982\u679C\u5B50\u8282\u70B9\u5927\uFF0C\u5C31\u628A\u6700\u5927\u7684\u5B50\u8282\u70B9\u548C\u7236\u8282\u70B9\u4EA4\u6362</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/09/236.png" alt="img"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">MaxHeap</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_shiftUp</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_shiftDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getParentIndex</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getLeftIndex</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> k <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token function">_shiftUp</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5982\u679C\u5F53\u524D\u8282\u70B9\u6BD4\u7236\u8282\u70B9\u5927\uFF0C\u5C31\u4EA4\u6362</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getParentIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_swap</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getParentIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token comment">// \u5C06\u7D22\u5F15\u53D8\u6210\u7236\u8282\u70B9</span>
      k <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getParentIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">_shiftDown</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4EA4\u6362\u9996\u4F4D\u5E76\u5220\u9664\u672B\u5C3E</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_swap</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment">// \u5224\u65AD\u8282\u70B9\u662F\u5426\u6709\u5DE6\u5B69\u5B50\uFF0C\u56E0\u4E3A\u4E8C\u53C9\u5806\u7684\u7279\u6027\uFF0C\u6709\u53F3\u5FC5\u6709\u5DE6</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLeftIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLeftIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
      <span class="token comment">// \u5224\u65AD\u662F\u5426\u6709\u53F3\u5B69\u5B50\uFF0C\u5E76\u4E14\u53F3\u5B69\u5B50\u662F\u5426\u5927\u4E8E\u5DE6\u5B69\u5B50</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> j<span class="token operator">++</span>
      <span class="token comment">// \u5224\u65AD\u7236\u8282\u70B9\u662F\u5426\u5DF2\u7ECF\u6BD4\u5B50\u8282\u70B9\u90FD\u5927</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">break</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_swap</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
      k <span class="token operator">=</span> j
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">_swap</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> rightValue <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>right<span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">=</span> rightValue
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div>`,7),QAn={id:"\u4E09\u3001\u7B97\u6CD5",tabindex:"-1"},YAn=n("a",{class:"header-anchor",href:"#\u4E09\u3001\u7B97\u6CD5","aria-hidden":"true"},"#",-1),ZAn=s(),nBn={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#%E4%B8%89%E3%80%81%E7%AE%97%E6%B3%95",target:"_blank",rel:"noopener noreferrer"},sBn=s("#"),aBn=s("\u4E09\u3001\u7B97\u6CD5"),eBn={id:"_3-1-\u65F6\u95F4\u590D\u6742\u5EA6",tabindex:"-1"},tBn=n("a",{class:"header-anchor",href:"#_3-1-\u65F6\u95F4\u590D\u6742\u5EA6","aria-hidden":"true"},"#",-1),pBn=s(),oBn={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#_3-1-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6",target:"_blank",rel:"noopener noreferrer"},cBn=s("#"),lBn=s("3.1 \u65F6\u95F4\u590D\u6742\u5EA6"),rBn=t("<ul><li>\u901A\u5E38\u4F7F\u7528\u6700\u5DEE\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u6765\u8861\u91CF\u4E00\u4E2A\u7B97\u6CD5\u7684\u597D\u574F\u3002</li><li>\u5E38\u6570\u65F6\u95F4 <code>O(1)</code> \u4EE3\u8868\u8FD9\u4E2A\u64CD\u4F5C\u548C\u6570\u636E\u91CF\u6CA1\u5173\u7CFB\uFF0C\u662F\u4E00\u4E2A\u56FA\u5B9A\u65F6\u95F4\u7684\u64CD\u4F5C\uFF0C\u6BD4\u5982\u8BF4\u56DB\u5219\u8FD0\u7B97\u3002</li><li>\u5BF9\u4E8E\u4E00\u4E2A\u7B97\u6CD5\u6765\u8BF4\uFF0C\u53EF\u80FD\u4F1A\u8BA1\u7B97\u51FA\u5982\u4E0B\u64CD\u4F5C\u6B21\u6570 <code>aN +</code>1\uFF0C<code>N</code> \u4EE3\u8868\u6570\u636E\u91CF\u3002\u90A3\u4E48\u8BE5\u7B97\u6CD5\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u5C31\u662F <code>O(N)</code>\u3002\u56E0\u4E3A\u6211\u4EEC\u5728\u8BA1\u7B97\u65F6\u95F4\u590D\u6742\u5EA6\u7684\u65F6\u5019\uFF0C\u6570\u636E\u91CF\u901A\u5E38\u662F\u975E\u5E38\u5927\u7684\uFF0C\u8FD9\u65F6\u5019\u4F4E\u9636\u9879\u548C\u5E38\u6570\u9879\u53EF\u4EE5\u5FFD\u7565\u4E0D\u8BA1\u3002</li><li>\u5F53\u7136\u53EF\u80FD\u4F1A\u51FA\u73B0\u4E24\u4E2A\u7B97\u6CD5\u90FD\u662F <code>O(N)</code> \u7684\u65F6\u95F4\u590D\u6742\u5EA6\uFF0C\u90A3\u4E48\u5BF9\u6BD4\u4E24\u4E2A\u7B97\u6CD5\u7684\u597D\u574F\u5C31\u8981\u901A\u8FC7\u5BF9\u6BD4\u4F4E\u9636\u9879\u548C\u5E38\u6570\u9879\u4E86</li></ul>",1),iBn={id:"_3-2-\u4F4D\u8FD0\u7B97",tabindex:"-1"},uBn=n("a",{class:"header-anchor",href:"#_3-2-\u4F4D\u8FD0\u7B97","aria-hidden":"true"},"#",-1),kBn=s(),dBn={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#_3-2-%E4%BD%8D%E8%BF%90%E7%AE%97",target:"_blank",rel:"noopener noreferrer"},bBn=s("#"),mBn=s("3.2 \u4F4D\u8FD0\u7B97"),hBn=t(`<ul><li>\u4F4D\u8FD0\u7B97\u5728\u7B97\u6CD5\u4E2D\u5F88\u6709\u7528\uFF0C\u901F\u5EA6\u53EF\u4EE5\u6BD4\u56DB\u5219\u8FD0\u7B97\u5FEB\u5F88\u591A\u3002</li><li>\u5728\u5B66\u4E60\u4F4D\u8FD0\u7B97\u4E4B\u524D\u5E94\u8BE5\u77E5\u9053\u5341\u8FDB\u5236\u5982\u4F55\u8F6C\u4E8C\u8FDB\u5236\uFF0C\u4E8C\u8FDB\u5236\u5982\u4F55\u8F6C\u5341\u8FDB\u5236\u3002\u8FD9\u91CC\u8BF4\u660E\u4E0B\u7B80\u5355\u7684\u8BA1\u7B97\u65B9\u5F0F</li><li>\u5341\u8FDB\u5236 <code>33</code> \u53EF\u4EE5\u770B\u6210\u662F <code>32 + 1</code> \uFF0C\u5E76\u4E14 <code>33</code> \u5E94\u8BE5\u662F\u516D\u4F4D\u4E8C\u8FDB\u5236\u7684\uFF08\u56E0\u4E3A <code>33</code>\u8FD1\u4F3C <code>32</code>\uFF0C\u800C <code>32</code> \u662F <code>2</code>\u7684\u4E94\u6B21\u65B9\uFF0C\u6240\u4EE5\u662F\u516D\u4F4D\uFF09\uFF0C\u90A3\u4E48 \u5341\u8FDB\u5236 <code>33</code> \u5C31\u662F <code>100001</code> \uFF0C\u53EA\u8981\u662F 2 \u7684\u6B21\u65B9\uFF0C\u90A3\u4E48\u5C31\u662F <code>1</code>\u5426\u5219\u90FD\u4E3A <code>0</code> \u90A3\u4E48\u4E8C\u8FDB\u5236 <code>100001</code> \u540C\u7406\uFF0C\u9996\u4F4D\u662F <code>2^5</code>\uFF0C\u672B\u4F4D\u662F <code>2^0</code> \uFF0C\u76F8\u52A0\u5F97\u51FA <code>33</code></li></ul><p><strong>\u5DE6\u79FB &lt;&lt;</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>10 &lt;&lt; 1 // -&gt; 20
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u5DE6\u79FB\u5C31\u662F\u5C06\u4E8C\u8FDB\u5236\u5168\u90E8\u5F80\u5DE6\u79FB\u52A8\uFF0C<code>10</code>\u5728\u4E8C\u8FDB\u5236\u4E2D\u8868\u793A\u4E3A <code>1010</code> \uFF0C\u5DE6\u79FB\u4E00\u4F4D\u540E\u53D8\u6210 <code>10100</code> \uFF0C\u8F6C\u6362\u4E3A\u5341\u8FDB\u5236\u4E5F\u5C31\u662F <code>20</code>\uFF0C\u6240\u4EE5\u57FA\u672C\u53EF\u4EE5\u628A\u5DE6\u79FB\u770B\u6210\u4EE5\u4E0B\u516C\u5F0F <code>a * (2 ^ b)</code></p></blockquote><p><strong>\u7B97\u6570\u53F3\u79FB &gt;&gt;</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>10 &gt;&gt; 1 // -&gt; 5
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u7B97\u6570\u53F3\u79FB\u5C31\u662F\u5C06\u4E8C\u8FDB\u5236\u5168\u90E8\u5F80\u53F3\u79FB\u52A8\u5E76\u53BB\u9664\u591A\u4F59\u7684\u53F3\u8FB9\uFF0C10 \u5728\u4E8C\u8FDB\u5236\u4E2D\u8868\u793A\u4E3A <code>1010</code> \uFF0C\u53F3\u79FB\u4E00\u4F4D\u540E\u53D8\u6210 <code>101</code> \uFF0C\u8F6C\u6362\u4E3A\u5341\u8FDB\u5236\u4E5F\u5C31\u662F <code>5</code>\uFF0C\u6240\u4EE5\u57FA\u672C\u53EF\u4EE5\u628A\u53F3\u79FB\u770B\u6210\u4EE5\u4E0B\u516C\u5F0F <code>int v = a / (2 ^ b)</code></li><li>\u53F3\u79FB\u5F88\u597D\u7528\uFF0C\u6BD4\u5982\u53EF\u4EE5\u7528\u5728\u4E8C\u5206\u7B97\u6CD5\u4E2D\u53D6\u4E2D\u95F4\u503C</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>13 &gt;&gt; 1 // -&gt; 6
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>\u6309\u4F4D\u64CD\u4F5C</strong></p><ul><li><strong>\u6309\u4F4D\u4E0E</strong></li></ul><blockquote><p>\u6BCF\u4E00\u4F4D\u90FD\u4E3A 1\uFF0C\u7ED3\u679C\u624D\u4E3A 1</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>8 &amp; 7 // -&gt; 0
// 1000 &amp; 0111 -&gt; 0000 -&gt; 0
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong>\u6309\u4F4D\u6216</strong></li></ul><blockquote><p>\u5176\u4E2D\u4E00\u4F4D\u4E3A 1\uFF0C\u7ED3\u679C\u5C31\u662F 1</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>8 | 7 // -&gt; 15
// 1000 | 0111 -&gt; 1111 -&gt; 15
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong>\u6309\u4F4D\u5F02\u6216</strong></li></ul><blockquote><p>\u6BCF\u4E00\u4F4D\u90FD\u4E0D\u540C\uFF0C\u7ED3\u679C\u624D\u4E3A 1</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>8 ^ 7 // -&gt; 15
8 ^ 8 // -&gt; 0
// 1000 ^ 0111 -&gt; 1111 -&gt; 15
// 1000 ^ 1000 -&gt; 0000 -&gt; 0
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>\u9762\u8BD5\u9898\uFF1A\u4E24\u4E2A\u6570\u4E0D\u4F7F\u7528\u56DB\u5219\u8FD0\u7B97\u5F97\u51FA\u548C</strong></p><blockquote><p>\u8FD9\u9053\u9898\u4E2D\u53EF\u4EE5\u6309\u4F4D\u5F02\u6216\uFF0C\u56E0\u4E3A\u6309\u4F4D\u5F02\u6216\u5C31\u662F\u4E0D\u8FDB\u4F4D\u52A0\u6CD5\uFF0C<code>8 ^ 8 = 0</code> \u5982\u679C\u8FDB\u4F4D\u4E86\uFF0C\u5C31\u662F <code>16</code> \u4E86\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EA\u9700\u8981\u5C06\u4E24\u4E2A\u6570\u8FDB\u884C\u5F02\u6216\u64CD\u4F5C\uFF0C\u7136\u540E\u8FDB\u4F4D\u3002\u90A3\u4E48\u4E5F\u5C31\u662F\u8BF4\u4E24\u4E2A\u4E8C\u8FDB\u5236\u90FD\u662F 1 \u7684\u4F4D\u7F6E\uFF0C\u5DE6\u8FB9\u5E94\u8BE5\u6709\u4E00\u4E2A\u8FDB\u4F4D <code>1</code>\uFF0C\u6240\u4EE5\u53EF\u4EE5\u5F97\u51FA\u4EE5\u4E0B\u516C\u5F0F <code>a + b = (a ^ b) + ((a &amp; b) &lt;&lt; 1)</code> \uFF0C\u7136\u540E\u901A\u8FC7\u8FED\u4EE3\u7684\u65B9\u5F0F\u6A21\u62DF\u52A0\u6CD5</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> b
    <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> a
    <span class="token keyword">let</span> newA <span class="token operator">=</span> a <span class="token operator">^</span> b
    <span class="token keyword">let</span> newB <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span>
    <span class="token keyword">return</span> <span class="token function">sum</span><span class="token punctuation">(</span>newA<span class="token punctuation">,</span> newB<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,21),_Bn={id:"_3-3-\u6392\u5E8F",tabindex:"-1"},gBn=n("a",{class:"header-anchor",href:"#_3-3-\u6392\u5E8F","aria-hidden":"true"},"#",-1),EBn=s(),fBn={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#_3-3-%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},vBn=s("#"),wBn=s("3.3 \u6392\u5E8F"),yBn=t(`<p><strong>\u5192\u6CE1\u6392\u5E8F</strong></p><blockquote><p>\u5192\u6CE1\u6392\u5E8F\u7684\u539F\u7406\u5982\u4E0B\uFF0C\u4ECE\u7B2C\u4E00\u4E2A\u5143\u7D20\u5F00\u59CB\uFF0C\u628A\u5F53\u524D\u5143\u7D20\u548C\u4E0B\u4E00\u4E2A\u7D22\u5F15\u5143\u7D20\u8FDB\u884C\u6BD4\u8F83\u3002\u5982\u679C\u5F53\u524D\u5143\u7D20\u5927\uFF0C\u90A3\u4E48\u5C31\u4EA4\u6362\u4F4D\u7F6E\uFF0C\u91CD\u590D\u64CD\u4F5C\u76F4\u5230\u6BD4\u8F83\u5230\u6700\u540E\u4E00\u4E2A\u5143\u7D20\uFF0C\u90A3\u4E48\u6B64\u65F6\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u5C31\u662F\u8BE5\u6570\u7EC4\u4E2D\u6700\u5927\u7684\u6570\u3002\u4E0B\u4E00\u8F6E\u91CD\u590D\u4EE5\u4E0A\u64CD\u4F5C\uFF0C\u4F46\u662F\u6B64\u65F6\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u5DF2\u7ECF\u662F\u6700\u5927\u6570\u4E86\uFF0C\u6240\u4EE5\u4E0D\u9700\u8981\u518D\u6BD4\u8F83\u6700\u540E\u4E00\u4E2A\u5143\u7D20\uFF0C\u53EA\u9700\u8981\u6BD4\u8F83\u5230 <code>length - 1</code> \u7684\u4F4D\u7F6E</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/09/237.png" alt="img"></p><blockquote><p>\u4EE5\u4E0B\u662F\u5B9E\u73B0\u8BE5\u7B97\u6CD5\u7684\u4EE3\u7801</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bubble</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">checkArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4ECE 0 \u5230 \`length - 1\` \u904D\u5386</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> j<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>\u8BE5\u7B97\u6CD5\u7684\u64CD\u4F5C\u6B21\u6570\u662F\u4E00\u4E2A\u7B49\u5DEE\u6570\u5217 <code>n + (n - 1) + (n - 2) + 1</code> \uFF0C\u53BB\u6389\u5E38\u6570\u9879\u4EE5\u540E\u5F97\u51FA\u65F6\u95F4\u590D\u6742\u5EA6\u662F<code>O(n * n)</code></p></blockquote><p><strong>\u63D2\u5165\u6392\u5E8F</strong></p><blockquote><p>\u5165\u6392\u5E8F\u7684\u539F\u7406\u5982\u4E0B\u3002\u7B2C\u4E00\u4E2A\u5143\u7D20\u9ED8\u8BA4\u662F\u5DF2\u6392\u5E8F\u5143\u7D20\uFF0C\u53D6\u51FA\u4E0B\u4E00\u4E2A\u5143\u7D20\u548C\u5F53\u524D\u5143\u7D20\u6BD4\u8F83\uFF0C\u5982\u679C\u5F53\u524D\u5143\u7D20\u5927\u5C31\u4EA4\u6362\u4F4D\u7F6E\u3002\u90A3\u4E48\u6B64\u65F6\u7B2C\u4E00\u4E2A\u5143\u7D20\u5C31\u662F\u5F53\u524D\u7684\u6700\u5C0F\u6570\uFF0C\u6240\u4EE5\u4E0B\u6B21\u53D6\u51FA\u64CD\u4F5C\u4ECE\u7B2C\u4E09\u4E2A\u5143\u7D20\u5F00\u59CB\uFF0C\u5411\u524D\u5BF9\u6BD4\uFF0C\u91CD\u590D\u4E4B\u524D\u7684\u64CD\u4F5C</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/09/238.png" alt="img"></p><p>\u4EE5\u4E0B\u662F\u5B9E\u73B0\u8BE5\u7B97\u6CD5\u7684\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">insertion</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">checkArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span>
      <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> j<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>\u8BE5\u7B97\u6CD5\u7684\u64CD\u4F5C\u6B21\u6570\u662F\u4E00\u4E2A\u7B49\u5DEE\u6570\u5217 <code>n + (n - 1) + (n - 2) + 1</code> \uFF0C\u53BB\u6389\u5E38\u6570\u9879\u4EE5\u540E\u5F97\u51FA\u65F6\u95F4\u590D\u6742\u5EA6\u662F <code>O(n * n)</code></p></blockquote><p><strong>\u9009\u62E9\u6392\u5E8F</strong></p><blockquote><p>\u9009\u62E9\u6392\u5E8F\u7684\u539F\u7406\u5982\u4E0B\u3002\u904D\u5386\u6570\u7EC4\uFF0C\u8BBE\u7F6E\u6700\u5C0F\u503C\u7684\u7D22\u5F15\u4E3A 0\uFF0C\u5982\u679C\u53D6\u51FA\u7684\u503C\u6BD4\u5F53\u524D\u6700\u5C0F\u503C\u5C0F\uFF0C\u5C31\u66FF\u6362\u6700\u5C0F\u503C\u7D22\u5F15\uFF0C\u904D\u5386\u5B8C\u6210\u540E\uFF0C\u5C06\u7B2C\u4E00\u4E2A\u5143\u7D20\u548C\u6700\u5C0F\u503C\u7D22\u5F15\u4E0A\u7684\u503C\u4EA4\u6362\u3002\u5982\u4E0A\u64CD\u4F5C\u540E\uFF0C\u7B2C\u4E00\u4E2A\u5143\u7D20\u5C31\u662F\u6570\u7EC4\u4E2D\u7684\u6700\u5C0F\u503C\uFF0C\u4E0B\u6B21\u904D\u5386\u5C31\u53EF\u4EE5\u4ECE\u7D22\u5F15 1 \u5F00\u59CB\u91CD\u590D\u4E0A\u8FF0\u64CD\u4F5C</p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2018/4/13/162bc8ea14567e2e?w=670&amp;h=508&amp;f=gif&amp;s=965636" alt="img"></p><p>\u4EE5\u4E0B\u662F\u5B9E\u73B0\u8BE5\u7B97\u6CD5\u7684\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">selection</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">checkArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> minIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      minIndex <span class="token operator">=</span> array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span> <span class="token operator">?</span> j <span class="token operator">:</span> minIndex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> i<span class="token punctuation">,</span> minIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>\u8BE5\u7B97\u6CD5\u7684\u64CD\u4F5C\u6B21\u6570\u662F\u4E00\u4E2A\u7B49\u5DEE\u6570\u5217 <code>n + (n - 1) + (n - 2) + 1</code> \uFF0C\u53BB\u6389\u5E38\u6570\u9879\u4EE5\u540E\u5F97\u51FA\u65F6\u95F4\u590D\u6742\u5EA6\u662F <code>O(n * n)</code></p></blockquote><p><strong>\u5F52\u5E76\u6392\u5E8F</strong></p><blockquote><p>\u5F52\u5E76\u6392\u5E8F\u7684\u539F\u7406\u5982\u4E0B\u3002\u9012\u5F52\u7684\u5C06\u6570\u7EC4\u4E24\u4E24\u5206\u5F00\u76F4\u5230\u6700\u591A\u5305\u542B\u4E24\u4E2A\u5143\u7D20\uFF0C\u7136\u540E\u5C06\u6570\u7EC4\u6392\u5E8F\u5408\u5E76\uFF0C\u6700\u7EC8\u5408\u5E76\u4E3A\u6392\u5E8F\u597D\u7684\u6570\u7EC4\u3002\u5047\u8BBE\u6211\u6709\u4E00\u7EC4\u6570\u7EC4 <code>[3, 1, 2, 8, 9, 7, 6]</code>\uFF0C\u4E2D\u95F4\u6570\u7D22\u5F15\u662F 3\uFF0C\u5148\u6392\u5E8F\u6570\u7EC4 <code>[3, 1, 2, 8]</code> \u3002\u5728\u8FD9\u4E2A\u5DE6\u8FB9\u6570\u7EC4\u4E0A\uFF0C\u7EE7\u7EED\u62C6\u5206\u76F4\u5230\u53D8\u6210\u6570\u7EC4\u5305\u542B\u4E24\u4E2A\u5143\u7D20\uFF08\u5982\u679C\u6570\u7EC4\u957F\u5EA6\u662F\u5947\u6570\u7684\u8BDD\uFF0C\u4F1A\u6709\u4E00\u4E2A\u62C6\u5206\u6570\u7EC4\u53EA\u5305\u542B\u4E00\u4E2A\u5143\u7D20\uFF09\u3002\u7136\u540E\u6392\u5E8F\u6570\u7EC4 <code>[3, 1]</code> \u548C <code>[2, 8]</code> \uFF0C\u7136\u540E\u518D\u6392\u5E8F\u6570\u7EC4 <code>[1, 3, 2, 8]</code> \uFF0C\u8FD9\u6837\u5DE6\u8FB9\u6570\u7EC4\u5C31\u6392\u5E8F\u5B8C\u6210\uFF0C\u7136\u540E\u6309\u7167\u4EE5\u4E0A\u601D\u8DEF\u6392\u5E8F\u53F3\u8FB9\u6570\u7EC4\uFF0C\u6700\u540E\u5C06\u6570\u7EC4 <code>[1, 2, 3, 8]</code> \u548C <code>[6, 7, 9]</code> \u6392\u5E8F</p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2018/4/13/162be13c7e30bd86?w=896&amp;h=1008&amp;f=gif&amp;s=937952" alt="img"></p><p>\u4EE5\u4E0B\u662F\u5B9E\u73B0\u8BE5\u7B97\u6CD5\u7684\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">checkArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">mergeSort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5DE6\u53F3\u7D22\u5F15\u76F8\u540C\u8BF4\u660E\u5DF2\u7ECF\u53EA\u6709\u4E00\u4E2A\u6570</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">===</span> right<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token comment">// \u7B49\u540C\u4E8E \`left + (right - left) / 2\`</span>
  <span class="token comment">// \u76F8\u6BD4 \`(left + right) / 2\` \u6765\u8BF4\u66F4\u52A0\u5B89\u5168\uFF0C\u4E0D\u4F1A\u6EA2\u51FA</span>
  <span class="token comment">// \u4F7F\u7528\u4F4D\u8FD0\u7B97\u662F\u56E0\u4E3A\u4F4D\u8FD0\u7B97\u6BD4\u56DB\u5219\u8FD0\u7B97\u5FEB</span>
  <span class="token keyword">let</span> mid <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>left <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>right <span class="token operator">-</span> left<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">mergeSort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> left<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">mergeSort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> help <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> p1 <span class="token operator">=</span> left<span class="token punctuation">;</span>
  <span class="token keyword">let</span> p2 <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>p1 <span class="token operator">&lt;=</span> mid <span class="token operator">&amp;&amp;</span> p2 <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    help<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>p1<span class="token punctuation">]</span> <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>p2<span class="token punctuation">]</span> <span class="token operator">?</span> array<span class="token punctuation">[</span>p1<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">:</span> array<span class="token punctuation">[</span>p2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>p1 <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    help<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>p1<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>p2 <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    help<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>p2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> help<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    array<span class="token punctuation">[</span>left <span class="token operator">+</span> i<span class="token punctuation">]</span> <span class="token operator">=</span> help<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u7B97\u6CD5\u4F7F\u7528\u4E86\u9012\u5F52\u7684\u601D\u60F3\u3002\u9012\u5F52\u7684\u672C\u8D28\u5C31\u662F\u538B\u6808\uFF0C\u6BCF\u9012\u5F52\u6267\u884C\u4E00\u6B21\u51FD\u6570\uFF0C\u5C31\u5C06\u8BE5\u51FD\u6570\u7684\u4FE1\u606F\uFF08\u6BD4\u5982\u53C2\u6570\uFF0C\u5185\u90E8\u7684\u53D8\u91CF\uFF0C\u6267\u884C\u5230\u7684\u884C\u6570\uFF09\u538B\u6808\uFF0C\u76F4\u5230\u9047\u5230\u7EC8\u6B62\u6761\u4EF6\uFF0C\u7136\u540E\u51FA\u6808\u5E76\u7EE7\u7EED\u6267\u884C\u51FD\u6570\u3002\u5BF9\u4E8E\u4EE5\u4E0A\u9012\u5F52\u51FD\u6570\u7684\u8C03\u7528\u8F68\u8FF9\u5982\u4E0B</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">mergeSort</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token comment">// mid = 3</span>
  <span class="token function">mergeSort</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// mid = 1</span>
    <span class="token function">mergeSort</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// mid = 0</span>
      <span class="token function">mergeSort</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// \u9047\u5230\u7EC8\u6B62\uFF0C\u56DE\u9000\u5230\u4E0A\u4E00\u6B65</span>
    <span class="token function">mergeSort</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// \u9047\u5230\u7EC8\u6B62\uFF0C\u56DE\u9000\u5230\u4E0A\u4E00\u6B65</span>
    <span class="token comment">// \u6392\u5E8F p1 = 0, p2 = mid + 1 = 1</span>
    <span class="token comment">// \u56DE\u9000\u5230 \`mergeSort(data, 0, 3)\` \u6267\u884C\u4E0B\u4E00\u4E2A\u9012\u5F52</span>
  <span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// mid = 2</span>
    <span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// \u9047\u5230\u7EC8\u6B62\uFF0C\u56DE\u9000\u5230\u4E0A\u4E00\u6B65</span>
  <span class="token comment">// \u6392\u5E8F p1 = 2, p2 = mid + 1 = 3</span>
  <span class="token comment">// \u56DE\u9000\u5230 \`mergeSort(data, 0, 3)\` \u6267\u884C\u5408\u5E76\u903B\u8F91</span>
  <span class="token comment">// \u6392\u5E8F p1 = 0, p2 = mid + 1 = 2</span>
  <span class="token comment">// \u6267\u884C\u5B8C\u6BD5\u56DE\u9000</span>
  <span class="token comment">// \u5DE6\u8FB9\u6570\u7EC4\u6392\u5E8F\u5B8C\u6BD5\uFF0C\u53F3\u8FB9\u4E5F\u662F\u5982\u4E0A\u8F68\u8FF9</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>\u8BE5\u7B97\u6CD5\u7684\u64CD\u4F5C\u6B21\u6570\u662F\u53EF\u4EE5\u8FD9\u6837\u8BA1\u7B97\uFF1A\u9012\u5F52\u4E86\u4E24\u6B21\uFF0C\u6BCF\u6B21\u6570\u636E\u91CF\u662F\u6570\u7EC4\u7684\u4E00\u534A\uFF0C\u5E76\u4E14\u6700\u540E\u628A\u6574\u4E2A\u6570\u7EC4\u8FED\u4EE3\u4E86\u4E00\u6B21\uFF0C\u6240\u4EE5\u5F97\u51FA\u8868\u8FBE\u5F0F <code>2T(N / 2) + T(N)</code> \uFF08<code>T</code> \u4EE3\u8868\u65F6\u95F4\uFF0C<code>N</code> \u4EE3\u8868\u6570\u636E\u91CF\uFF09\u3002\u6839\u636E\u8BE5\u8868\u8FBE\u5F0F\u53EF\u4EE5\u5957\u7528 \u8BE5\u516C\u5F0F \u5F97\u51FA\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A <code>O(N * logN)</code></p></blockquote><p><strong>\u5FEB\u6392</strong></p><blockquote><p>\u5FEB\u6392\u7684\u539F\u7406\u5982\u4E0B\u3002\u968F\u673A\u9009\u53D6\u4E00\u4E2A\u6570\u7EC4\u4E2D\u7684\u503C\u4F5C\u4E3A\u57FA\u51C6\u503C\uFF0C\u4ECE\u5DE6\u81F3\u53F3\u53D6\u503C\u4E0E\u57FA\u51C6\u503C\u5BF9\u6BD4\u5927\u5C0F\u3002\u6BD4\u57FA\u51C6\u503C\u5C0F\u7684\u653E\u6570\u7EC4\u5DE6\u8FB9\uFF0C\u5927\u7684\u653E\u53F3\u8FB9\uFF0C\u5BF9\u6BD4\u5B8C\u6210\u540E\u5C06\u57FA\u51C6\u503C\u548C\u7B2C\u4E00\u4E2A\u6BD4\u57FA\u51C6\u503C\u5927\u7684\u503C\u4EA4\u6362\u4F4D\u7F6E\u3002\u7136\u540E\u5C06\u6570\u7EC4\u4EE5\u57FA\u51C6\u503C\u7684\u4F4D\u7F6E\u5206\u4E3A\u4E24\u90E8\u5206\uFF0C\u7EE7\u7EED\u9012\u5F52\u4EE5\u4E0A\u64CD\u4F5C\u3002</p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2018/4/16/162cd23e69ca9ea3?w=824&amp;h=506&amp;f=gif&amp;s=867744" alt="img"></p><p>\u4EE5\u4E0B\u662F\u5B9E\u73B0\u8BE5\u7B97\u6CD5\u7684\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">checkArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">quickSort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token punctuation">,</span> right<span class="token punctuation">)</span>
    <span class="token comment">// \u968F\u673A\u53D6\u503C\uFF0C\u7136\u540E\u548C\u672B\u5C3E\u4EA4\u6362\uFF0C\u8FD9\u6837\u505A\u6BD4\u56FA\u5B9A\u53D6\u4E00\u4E2A\u4F4D\u7F6E\u7684\u590D\u6742\u5EA6\u7565\u4F4E</span>
    <span class="token keyword">let</span> indexs <span class="token operator">=</span> <span class="token function">part</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">quickSort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> left<span class="token punctuation">,</span> indexs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">quickSort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> indexs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">part</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> less <span class="token operator">=</span> left <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> more <span class="token operator">=</span> right<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> more<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5F53\u524D\u503C\u6BD4\u57FA\u51C6\u503C\u5C0F\uFF0C\`less\` \u548C \`left\` \u90FD\u52A0\u4E00</span>
	   <span class="token operator">++</span>less<span class="token punctuation">;</span>
       <span class="token operator">++</span>left<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5F53\u524D\u503C\u6BD4\u57FA\u51C6\u503C\u5927\uFF0C\u5C06\u5F53\u524D\u503C\u548C\u53F3\u8FB9\u7684\u503C\u4EA4\u6362</span>
      <span class="token comment">// \u5E76\u4E14\u4E0D\u6539\u53D8 \`left\`\uFF0C\u56E0\u4E3A\u5F53\u524D\u6362\u8FC7\u6765\u7684\u503C\u8FD8\u6CA1\u6709\u5224\u65AD\u8FC7\u5927\u5C0F</span>
      <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token operator">--</span>more<span class="token punctuation">,</span> left<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u548C\u57FA\u51C6\u503C\u76F8\u540C\uFF0C\u53EA\u79FB\u52A8\u4E0B\u6807</span>
      left<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5C06\u57FA\u51C6\u503C\u548C\u6BD4\u57FA\u51C6\u503C\u5927\u7684\u7B2C\u4E00\u4E2A\u503C\u4EA4\u6362\u4F4D\u7F6E</span>
  <span class="token comment">// \u8FD9\u6837\u6570\u7EC4\u5C31\u53D8\u6210 \`[\u6BD4\u57FA\u51C6\u503C\u5C0F, \u57FA\u51C6\u503C, \u6BD4\u57FA\u51C6\u503C\u5927]\`</span>
  <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> right<span class="token punctuation">,</span> more<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>less<span class="token punctuation">,</span> more<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><blockquote><p>\u8BE5\u7B97\u6CD5\u7684\u590D\u6742\u5EA6\u548C\u5F52\u5E76\u6392\u5E8F\u662F\u76F8\u540C\u7684\uFF0C\u4F46\u662F\u989D\u5916\u7A7A\u95F4\u590D\u6742\u5EA6\u6BD4\u5F52\u5E76\u6392\u5E8F\u5C11\uFF0C\u53EA\u9700 <code>O(logN)</code>\uFF0C\u5E76\u4E14\u76F8\u6BD4\u5F52\u5E76\u6392\u5E8F\u6765\u8BF4\uFF0C\u6240\u9700\u7684\u5E38\u6570\u65F6\u95F4\u4E5F\u66F4\u5C11</p></blockquote><p><strong>\u9762\u8BD5\u9898</strong></p><blockquote><p>Sort Colors\uFF1A\u8BE5\u9898\u76EE\u6765\u81EA LeetCode\uFF0C\u9898\u76EE\u9700\u8981\u6211\u4EEC\u5C06 <code>[2,0,2,1,1,0]</code> \u6392\u5E8F\u6210 <code>[0,0,1,1,2,2]</code>\uFF0C\u8FD9\u4E2A\u95EE\u9898\u5C31\u53EF\u4EE5\u4F7F\u7528\u4E09\u8DEF\u5FEB\u6392\u7684\u601D\u60F3</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">sortColors</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> left <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> right <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token comment">// \u4E0B\u6807\u5982\u679C\u9047\u5230 right\uFF0C\u8BF4\u660E\u5DF2\u7ECF\u6392\u5E8F\u5B8C\u6210</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">swap</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> i<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token operator">++</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">swap</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token operator">--</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div>`,35),xBn={id:"_3-4-\u94FE\u8868",tabindex:"-1"},ABn=n("a",{class:"header-anchor",href:"#_3-4-\u94FE\u8868","aria-hidden":"true"},"#",-1),BBn=s(),qBn={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#_3-4-%E9%93%BE%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"},jBn=s("#"),SBn=s("3.4 \u94FE\u8868"),CBn=t(`<p><strong>\u53CD\u8F6C\u5355\u5411\u94FE\u8868</strong></p><blockquote><p>\u8BE5\u9898\u76EE\u6765\u81EA LeetCode\uFF0C\u9898\u76EE\u9700\u8981\u5C06\u4E00\u4E2A\u5355\u5411\u94FE\u8868\u53CD\u8F6C\u3002\u601D\u8DEF\u5F88\u7B80\u5355\uFF0C\u4F7F\u7528\u4E09\u4E2A\u53D8\u91CF\u5206\u522B\u8868\u793A\u5F53\u524D\u8282\u70B9\u548C\u5F53\u524D\u8282\u70B9\u7684\u524D\u540E\u8282\u70B9\uFF0C\u867D\u7136\u8FD9\u9898\u5F88\u7B80\u5355\uFF0C\u4F46\u662F\u5374\u662F\u4E00\u9053\u9762\u8BD5\u5E38\u8003\u9898</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">reverseList</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">head</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5224\u65AD\u4E0B\u53D8\u91CF\u8FB9\u754C\u95EE\u9898</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>head <span class="token operator">||</span> <span class="token operator">!</span>head<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token keyword">return</span> head
    <span class="token comment">// \u521D\u59CB\u8BBE\u7F6E\u4E3A\u7A7A\uFF0C\u56E0\u4E3A\u7B2C\u4E00\u4E2A\u8282\u70B9\u53CD\u8F6C\u540E\u5C31\u662F\u5C3E\u90E8\uFF0C\u5C3E\u90E8\u8282\u70B9\u6307\u5411 null</span>
    <span class="token keyword">let</span> pre <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> head
    <span class="token keyword">let</span> next
    <span class="token comment">// \u5224\u65AD\u5F53\u524D\u8282\u70B9\u662F\u5426\u4E3A\u7A7A</span>
    <span class="token comment">// \u4E0D\u4E3A\u7A7A\u5C31\u5148\u83B7\u53D6\u5F53\u524D\u8282\u70B9\u7684\u4E0B\u4E00\u8282\u70B9</span>
    <span class="token comment">// \u7136\u540E\u628A\u5F53\u524D\u8282\u70B9\u7684 next \u8BBE\u4E3A\u4E0A\u4E00\u4E2A\u8282\u70B9</span>
    <span class="token comment">// \u7136\u540E\u628A current \u8BBE\u4E3A\u4E0B\u4E00\u4E2A\u8282\u70B9\uFF0Cpre \u8BBE\u4E3A\u5F53\u524D\u8282\u70B9</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        next <span class="token operator">=</span> current<span class="token punctuation">.</span>next
        current<span class="token punctuation">.</span>next <span class="token operator">=</span> pre
        pre <span class="token operator">=</span> current
        current <span class="token operator">=</span> next
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> pre
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div>`,3),DBn={id:"_3-5-\u6811",tabindex:"-1"},FBn=n("a",{class:"header-anchor",href:"#_3-5-\u6811","aria-hidden":"true"},"#",-1),PBn=s(),TBn={href:"http://interview.poetries.top/excellent-docs/18-%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html#_3-5-%E6%A0%91",target:"_blank",rel:"noopener noreferrer"},NBn=s("#"),MBn=s("3.5 \u6811"),OBn=t(`<p><strong>\u4E8C\u53C9\u6811\u7684\u5148\u5E8F\uFF0C\u4E2D\u5E8F\uFF0C\u540E\u5E8F\u904D\u5386</strong></p><ul><li>\u5148\u5E8F\u904D\u5386\u8868\u793A\u5148\u8BBF\u95EE\u6839\u8282\u70B9\uFF0C\u7136\u540E\u8BBF\u95EE\u5DE6\u8282\u70B9\uFF0C\u6700\u540E\u8BBF\u95EE\u53F3\u8282\u70B9\u3002</li><li>\u4E2D\u5E8F\u904D\u5386\u8868\u793A\u5148\u8BBF\u95EE\u5DE6\u8282\u70B9\uFF0C\u7136\u540E\u8BBF\u95EE\u6839\u8282\u70B9\uFF0C\u6700\u540E\u8BBF\u95EE\u53F3\u8282\u70B9\u3002</li><li>\u540E\u5E8F\u904D\u5386\u8868\u793A\u5148\u8BBF\u95EE\u5DE6\u8282\u70B9\uFF0C\u7136\u540E\u8BBF\u95EE\u53F3\u8282\u70B9\uFF0C\u6700\u540E\u8BBF\u95EE\u6839\u8282\u70B9</li></ul><p><strong>\u9012\u5F52\u5B9E\u73B0</strong></p><p>\u9012\u5F52\u5B9E\u73B0\u76F8\u5F53\u7B80\u5355\uFF0C\u4EE3\u7801\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">TreeNode</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> val<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token function-variable function">traversal</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5148\u5E8F</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">traversal</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u4E2D\u5E8F</span>
    <span class="token comment">// console.log(root);</span>
    <span class="token function">traversal</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u540E\u5E8F</span>
    <span class="token comment">// console.log(root);</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u9012\u5F52\u7684\u5B9E\u73B0\u6765\u8BF4\uFF0C\u53EA\u9700\u8981\u7406\u89E3\u6BCF\u4E2A\u8282\u70B9\u90FD\u4F1A\u88AB\u8BBF\u95EE\u4E09\u6B21\u5C31\u660E\u767D\u4E3A\u4EC0\u4E48\u8FD9\u6837\u5B9E\u73B0\u4E86</p></blockquote><p><strong>\u975E\u9012\u5F52\u5B9E\u73B0</strong></p><blockquote><p>\u975E\u9012\u5F52\u5B9E\u73B0\u4F7F\u7528\u4E86\u6808\u7684\u7ED3\u6784\uFF0C\u901A\u8FC7\u6808\u7684\u5148\u8FDB\u540E\u51FA\u6A21\u62DF\u9012\u5F52\u5B9E\u73B0\u3002</p></blockquote><p>\u4EE5\u4E0B\u662F\u5148\u5E8F\u904D\u5386\u4EE3\u7801\u5B9E\u73B0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">pre</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5148\u5C06\u6839\u8282\u70B9 push</span>
    stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5224\u65AD\u6808\u4E2D\u662F\u5426\u4E3A\u7A7A</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5F39\u51FA\u6808\u9876\u5143\u7D20</span>
      root <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u56E0\u4E3A\u5148\u5E8F\u904D\u5386\u662F\u5148\u5DE6\u540E\u53F3\uFF0C\u6808\u662F\u5148\u8FDB\u540E\u51FA\u7ED3\u6784</span>
      <span class="token comment">// \u6240\u4EE5\u5148 push \u53F3\u8FB9\u518D push \u5DE6\u8FB9</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>\u4EE5\u4E0B\u662F\u4E2D\u5E8F\u904D\u5386\u4EE3\u7801\u5B9E\u73B0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">mid</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// \u4E2D\u5E8F\u904D\u5386\u662F\u5148\u5DE6\u518D\u6839\u6700\u540E\u53F3</span>
    <span class="token comment">// \u6240\u4EE5\u9996\u5148\u5E94\u8BE5\u5148\u628A\u6700\u5DE6\u8FB9\u8282\u70B9\u904D\u5386\u5230\u5E95\u4F9D\u6B21 push \u8FDB\u6808</span>
    <span class="token comment">// \u5F53\u5DE6\u8FB9\u6CA1\u6709\u8282\u70B9\u65F6\uFF0C\u5C31\u6253\u5370\u6808\u9876\u5143\u7D20\uFF0C\u7136\u540E\u5BFB\u627E\u53F3\u8282\u70B9</span>
    <span class="token comment">// \u5BF9\u4E8E\u6700\u5DE6\u8FB9\u7684\u53F6\u8282\u70B9\u6765\u8BF4\uFF0C\u53EF\u4EE5\u628A\u5B83\u770B\u6210\u662F\u4E24\u4E2A null \u8282\u70B9\u7684\u7236\u8282\u70B9</span>
    <span class="token comment">// \u5DE6\u8FB9\u6253\u5370\u4E0D\u51FA\u4E1C\u897F\u5C31\u628A\u7236\u8282\u70B9\u62FF\u51FA\u6765\u6253\u5370\uFF0C\u7136\u540E\u518D\u770B\u53F3\u8282\u70B9</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">||</span> root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
        root <span class="token operator">=</span> root<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        root <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
        root <span class="token operator">=</span> root<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><blockquote><p>\u4EE5\u4E0B\u662F\u540E\u5E8F\u904D\u5386\u4EE3\u7801\u5B9E\u73B0\uFF0C\u8BE5\u4EE3\u7801\u4F7F\u7528\u4E86\u4E24\u4E2A\u6808\u6765\u5B9E\u73B0\u904D\u5386\uFF0C\u76F8\u6BD4\u4E00\u4E2A\u6808\u7684\u904D\u5386\u6765\u8BF4\u8981\u5BB9\u6613\u7406\u89E3\u5F88\u591A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">pos</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> stack1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> stack2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// \u540E\u5E8F\u904D\u5386\u662F\u5148\u5DE6\u518D\u53F3\u6700\u540E\u6839</span>
	<span class="token comment">// \u6240\u4EE5\u5BF9\u4E8E\u4E00\u4E2A\u6808\u6765\u8BF4\uFF0C\u5E94\u8BE5\u5148 push \u6839\u8282\u70B9</span>
    <span class="token comment">// \u7136\u540E push \u53F3\u8282\u70B9\uFF0C\u6700\u540E push \u5DE6\u8282\u70B9</span>
    stack1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>stack1<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      root <span class="token operator">=</span> stack1<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      stack2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stack1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stack1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>stack2<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>\u4E2D\u5E8F\u904D\u5386\u7684\u524D\u9A71\u540E\u7EE7\u8282\u70B9</strong></p><blockquote><p>\u5B9E\u73B0\u8FD9\u4E2A\u7B97\u6CD5\u7684\u524D\u63D0\u662F\u8282\u70B9\u6709\u4E00\u4E2A <code>parent</code> \u7684\u6307\u9488\u6307\u5411\u7236\u8282\u70B9\uFF0C\u6839\u8282\u70B9\u6307\u5411 <code>null</code></p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2018/4/24/162f61ad8e8588b7?w=682&amp;h=486&amp;f=png&amp;s=41027" alt="img"></p><blockquote><p>\u5982\u56FE\u6240\u793A\uFF0C\u8BE5\u6811\u7684\u4E2D\u5E8F\u904D\u5386\u7ED3\u679C\u662F <code>4, 2, 5, 1, 6, 3, 7</code></p></blockquote><p><strong>\u524D\u9A71\u8282\u70B9</strong></p><blockquote><p>\u5BF9\u4E8E\u8282\u70B9 2 \u6765\u8BF4\uFF0C\u4ED6\u7684\u524D\u9A71\u8282\u70B9\u5C31\u662F 4 \uFF0C\u6309\u7167\u4E2D\u5E8F\u904D\u5386\u539F\u5219\uFF0C\u53EF\u4EE5\u5F97\u51FA\u4EE5\u4E0B\u7ED3\u8BBA</p></blockquote><ul><li>\u5982\u679C\u9009\u53D6\u7684\u8282\u70B9\u7684\u5DE6\u8282\u70B9\u4E0D\u4E3A\u7A7A\uFF0C\u5C31\u627E\u8BE5\u5DE6\u8282\u70B9\u6700\u53F3\u7684\u8282\u70B9\u3002\u5BF9\u4E8E\u8282\u70B9 1 \u6765\u8BF4\uFF0C\u4ED6\u6709\u5DE6\u8282\u70B9 2 \uFF0C\u90A3\u4E48\u8282\u70B9 2 \u7684\u6700\u53F3\u8282\u70B9\u5C31\u662F 5</li><li>\u5982\u679C\u5DE6\u8282\u70B9\u4E3A\u7A7A\uFF0C\u4E14\u76EE\u6807\u8282\u70B9\u662F\u7236\u8282\u70B9\u7684\u53F3\u8282\u70B9\uFF0C\u90A3\u4E48\u524D\u9A71\u8282\u70B9\u4E3A\u7236\u8282\u70B9\u3002\u5BF9\u4E8E\u8282\u70B9 5 \u6765\u8BF4\uFF0C\u6CA1\u6709\u5DE6\u8282\u70B9\uFF0C\u4E14\u662F\u8282\u70B9 2 \u7684\u53F3\u8282\u70B9\uFF0C\u6240\u4EE5\u8282\u70B9 2 \u662F\u524D\u9A71\u8282\u70B9</li><li>\u5982\u679C\u5DE6\u8282\u70B9\u4E3A\u7A7A\uFF0C\u4E14\u76EE\u6807\u8282\u70B9\u662F\u7236\u8282\u70B9\u7684\u5DE6\u8282\u70B9\uFF0C\u5411\u4E0A\u5BFB\u627E\u5230\u7B2C\u4E00\u4E2A\u662F\u7236\u8282\u70B9\u7684\u53F3\u8282\u70B9\u7684\u8282\u70B9\u3002\u5BF9\u4E8E\u8282\u70B9 6 \u6765\u8BF4\uFF0C\u6CA1\u6709\u5DE6\u8282\u70B9\uFF0C\u4E14\u662F\u8282\u70B9 3 \u7684\u5DE6\u8282\u70B9\uFF0C\u6240\u4EE5\u5411\u4E0A\u5BFB\u627E\u5230\u8282\u70B9 1 \uFF0C\u53D1\u73B0\u8282\u70B9 3 \u662F\u8282\u70B9 1 \u7684\u53F3\u8282\u70B9\uFF0C\u6240\u4EE5\u8282\u70B9 1 \u662F\u8282\u70B9 6 \u7684\u524D\u9A71\u8282\u70B9</li></ul><p>\u4EE5\u4E0B\u662F\u7B97\u6CD5\u5B9E\u73B0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">predecessor</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span>
  <span class="token comment">// \u7ED3\u8BBA 1</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">getRight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> parent <span class="token operator">=</span> node<span class="token punctuation">.</span>parent
    <span class="token comment">// \u7ED3\u8BBA 2 3 \u7684\u5224\u65AD</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token punctuation">.</span>right <span class="token operator">===</span> node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node <span class="token operator">=</span> parent
      parent <span class="token operator">=</span> node<span class="token punctuation">.</span>parent
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> parent
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getRight</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span>
  node <span class="token operator">=</span> node<span class="token punctuation">.</span>right
  <span class="token keyword">while</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> node <span class="token operator">=</span> node<span class="token punctuation">.</span>right
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>\u540E\u7EE7\u8282\u70B9</strong></p><blockquote><p>\u5BF9\u4E8E\u8282\u70B9 2 \u6765\u8BF4\uFF0C\u4ED6\u7684\u540E\u7EE7\u8282\u70B9\u5C31\u662F 5 \uFF0C\u6309\u7167\u4E2D\u5E8F\u904D\u5386\u539F\u5219\uFF0C\u53EF\u4EE5\u5F97\u51FA\u4EE5\u4E0B\u7ED3\u8BBA</p></blockquote><ul><li>\u5982\u679C\u6709\u53F3\u8282\u70B9\uFF0C\u5C31\u627E\u5230\u8BE5\u53F3\u8282\u70B9\u7684\u6700\u5DE6\u8282\u70B9\u3002\u5BF9\u4E8E\u8282\u70B9 1 \u6765\u8BF4\uFF0C\u4ED6\u6709\u53F3\u8282\u70B9 3 \uFF0C\u90A3\u4E48\u8282\u70B9 3 \u7684\u6700\u5DE6\u8282\u70B9\u5C31\u662F 6</li><li>\u5982\u679C\u6CA1\u6709\u53F3\u8282\u70B9\uFF0C\u5C31\u5411\u4E0A\u904D\u5386\u76F4\u5230\u627E\u5230\u4E00\u4E2A\u8282\u70B9\u662F\u7236\u8282\u70B9\u7684\u5DE6\u8282\u70B9\u3002\u5BF9\u4E8E\u8282\u70B9 5 \u6765\u8BF4\uFF0C\u6CA1\u6709\u53F3\u8282\u70B9\uFF0C\u5C31\u5411\u4E0A\u5BFB\u627E\u5230\u8282\u70B9 2 \uFF0C\u8BE5\u8282\u70B9\u662F\u7236\u8282\u70B9 1 \u7684\u5DE6\u8282\u70B9\uFF0C\u6240\u4EE5\u8282\u70B9 1 \u662F\u540E\u7EE7\u8282\u70B9 \u4EE5\u4E0B\u662F\u7B97\u6CD5\u5B9E\u73B0</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">successor</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span>
  <span class="token comment">// \u7ED3\u8BBA 1</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">getLeft</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u7ED3\u8BBA 2</span>
    <span class="token keyword">let</span> parent <span class="token operator">=</span> node<span class="token punctuation">.</span>parent
    <span class="token comment">// \u5224\u65AD parent \u4E3A\u7A7A</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token punctuation">.</span>left <span class="token operator">===</span> node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node <span class="token operator">=</span> parent
      parent <span class="token operator">=</span> node<span class="token punctuation">.</span>parent
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> parent
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getLeft</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span>
  node <span class="token operator">=</span> node<span class="token punctuation">.</span>left
  <span class="token keyword">while</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> node <span class="token operator">=</span> node<span class="token punctuation">.</span>left
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><strong>\u6811\u7684\u6DF1\u5EA6</strong></p><blockquote><p>\u6811\u7684\u6700\u5927\u6DF1\u5EA6\uFF1A\u8BE5\u9898\u76EE\u6765\u81EA Leetcode\uFF0C\u9898\u76EE\u9700\u8981\u6C42\u51FA\u4E00\u9897\u4E8C\u53C9\u6811\u7684\u6700\u5927\u6DF1\u5EA6</p></blockquote><p>\u4EE5\u4E0B\u662F\u7B97\u6CD5\u5B9E\u73B0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">maxDepth</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>root<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token function">maxDepth</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">maxDepth</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u8BE5\u9012\u5F52\u51FD\u6570\u53EF\u4EE5\u8FD9\u6837\u7406\u89E3\uFF1A\u4E00\u65E6\u6CA1\u6709\u627E\u5230\u8282\u70B9\u5C31\u4F1A\u8FD4\u56DE 0\uFF0C\u6BCF\u5F39\u51FA\u4E00\u6B21\u9012\u5F52\u51FD\u6570\u5C31\u4F1A\u52A0\u4E00\uFF0C\u6811\u6709\u4E09\u5C42\u5C31\u4F1A\u5F97\u52303</p></blockquote>`,32);function IBn(RBn,VBn){const a=p("ExternalLinkIcon");return o(),c(r,null,[k,n("h2",d,[b,m,n("a",h,[_,e(a)]),g]),E,n("h2",f,[v,w,n("a",y,[x,e(a)]),A]),B,n("h2",q,[j,S,n("a",C,[D,e(a)]),F]),P,n("h2",T,[N,M,n("a",O,[I,e(a)]),R]),V,n("h2",H,[L,U,n("a",J,[W,e(a)]),z]),G,n("h2",$,[X,K,n("a",Q,[Y,e(a)]),Z]),nn,n("h2",sn,[an,en,n("a",tn,[pn,e(a)]),on]),cn,n("h2",ln,[rn,un,n("a",kn,[dn,e(a)]),bn,mn,hn,_n,gn]),En,n("h2",fn,[vn,wn,n("a",yn,[xn,e(a)]),An]),Bn,n("h2",qn,[jn,Sn,n("a",Cn,[Dn,e(a)]),Fn]),Pn,n("h2",Tn,[Nn,Mn,n("a",On,[In,e(a)]),Rn]),Vn,n("h2",Hn,[Ln,Un,n("a",Jn,[Wn,e(a)]),zn]),Gn,n("h2",$n,[Xn,Kn,n("a",Qn,[Yn,e(a)]),Zn]),ns,n("h2",ss,[as,es,n("a",ts,[ps,e(a)]),os]),cs,n("h2",ls,[rs,is,n("a",us,[ks,e(a)]),ds]),bs,ms,n("h2",hs,[_s,gs,n("a",Es,[fs,e(a)]),vs]),ws,n("h2",ys,[xs,As,n("a",Bs,[qs,e(a)]),js]),Ss,n("h2",Cs,[Ds,Fs,n("a",Ps,[Ts,e(a)]),Ns]),Ms,n("h2",Os,[Is,Rs,n("a",Vs,[Hs,e(a)]),Ls]),Us,n("h2",Js,[Ws,zs,n("a",Gs,[$s,e(a)]),Xs]),Ks,Qs,n("h2",Ys,[Zs,na,n("a",sa,[aa,e(a)]),ea]),ta,n("h2",pa,[oa,ca,n("a",la,[ra,e(a)]),ia]),ua,n("h2",ka,[da,ba,n("a",ma,[ha,e(a)]),_a]),ga,n("h2",Ea,[fa,va,n("a",wa,[ya,e(a)]),xa]),Aa,n("h2",Ba,[qa,ja,n("a",Sa,[Ca,e(a)]),Da]),Fa,n("h2",Pa,[Ta,Na,n("a",Ma,[Oa,e(a)]),Ia]),Ra,n("h2",Va,[Ha,La,n("a",Ua,[Ja,e(a)]),Wa]),n("h3",za,[Ga,$a,n("a",Xa,[Ka,e(a)]),Qa]),Ya,n("h3",Za,[ne,se,n("a",ae,[ee,e(a)]),te]),pe,n("h2",oe,[ce,le,n("a",re,[ie,e(a)]),ue]),ke,n("h2",de,[be,me,n("a",he,[_e,e(a)]),ge]),Ee,n("h2",fe,[ve,we,n("a",ye,[xe,e(a)]),Ae]),Be,n("h2",qe,[je,Se,n("a",Ce,[De,e(a)]),Fe]),Pe,n("h2",Te,[Ne,Me,n("a",Oe,[Ie,e(a)]),Re]),n("h3",Ve,[He,Le,n("a",Ue,[Je,e(a)]),We]),ze,n("h3",Ge,[$e,Xe,n("a",Ke,[Qe,e(a)]),Ye]),Ze,n("h3",nt,[st,at,n("a",et,[tt,e(a)]),pt]),ot,ct,n("h3",lt,[rt,it,n("a",ut,[kt,e(a)]),dt]),bt,n("h3",mt,[ht,_t,n("a",gt,[Et,e(a)]),ft]),vt,n("h2",wt,[yt,xt,n("a",At,[Bt,e(a)]),qt]),jt,n("h2",St,[Ct,Dt,n("a",Ft,[Pt,e(a)]),Tt]),Nt,n("h2",Mt,[Ot,It,n("a",Rt,[Vt,e(a)]),Ht]),n("h3",Lt,[Ut,Jt,n("a",Wt,[zt,e(a)]),Gt]),$t,n("h2",Xt,[Kt,Qt,n("a",Yt,[Zt,e(a)]),np]),sp,n("h2",ap,[ep,tp,n("a",pp,[op,e(a)]),cp]),lp,n("h2",rp,[ip,up,n("a",kp,[dp,e(a)]),bp]),mp,n("h2",hp,[_p,gp,n("a",Ep,[fp,e(a)]),vp]),wp,n("h2",yp,[xp,Ap,n("a",Bp,[qp,e(a)]),jp]),Sp,n("h2",Cp,[Dp,Fp,n("a",Pp,[Tp,e(a)]),Np]),Mp,Op,n("h2",Ip,[Rp,Vp,n("a",Hp,[Lp,e(a)]),Up]),Jp,n("h2",Wp,[zp,Gp,n("a",$p,[Xp,e(a)]),Kp]),Qp,n("h2",Yp,[Zp,no,n("a",so,[ao,e(a)]),eo]),to,n("h2",po,[oo,co,n("a",lo,[ro,e(a)]),io]),uo,n("h2",ko,[bo,mo,n("a",ho,[_o,e(a)]),go]),Eo,n("h2",fo,[vo,wo,n("a",yo,[xo,e(a)]),Ao]),Bo,n("h2",qo,[jo,So,n("a",Co,[Do,e(a)]),Fo]),Po,n("h2",To,[No,Mo,n("a",Oo,[Io,e(a)]),Ro]),Vo,n("h2",Ho,[Lo,Uo,n("a",Jo,[Wo,e(a)]),zo]),Go,n("h2",$o,[Xo,Ko,n("a",Qo,[Yo,e(a)]),Zo]),nc,n("h2",sc,[ac,ec,n("a",tc,[pc,e(a)]),oc]),cc,n("h2",lc,[rc,ic,n("a",uc,[kc,e(a)]),dc]),bc,n("h2",mc,[hc,_c,n("a",gc,[Ec,e(a)]),fc]),vc,n("h2",wc,[yc,xc,n("a",Ac,[Bc,e(a)]),qc]),jc,n("h2",Sc,[Cc,Dc,n("a",Fc,[Pc,e(a)]),Tc]),n("h3",Nc,[Mc,Oc,n("a",Ic,[Rc,e(a)]),Vc]),Hc,n("h3",Lc,[Uc,Jc,n("a",Wc,[zc,e(a)]),Gc]),$c,n("h3",Xc,[Kc,Qc,n("a",Yc,[Zc,e(a)]),nl]),sl,n("h3",al,[el,tl,n("a",pl,[ol,e(a)]),cl]),ll,n("h3",rl,[il,ul,n("a",kl,[dl,e(a)]),bl]),ml,n("h3",hl,[_l,gl,n("a",El,[fl,e(a)]),vl]),wl,n("h3",yl,[xl,Al,n("a",Bl,[ql,e(a)]),jl]),Sl,n("h3",Cl,[Dl,Fl,n("a",Pl,[Tl,e(a)]),Nl]),Ml,n("h3",Ol,[Il,Rl,n("a",Vl,[Hl,e(a)]),Ll]),Ul,n("h3",Jl,[Wl,zl,n("a",Gl,[$l,e(a)]),Xl]),Kl,n("h3",Ql,[Yl,Zl,n("a",nr,[sr,e(a)]),ar]),er,tr,n("h3",pr,[or,cr,n("a",lr,[rr,e(a)]),ir]),ur,n("h3",kr,[dr,br,n("a",mr,[hr,e(a)]),_r]),gr,n("h3",Er,[fr,vr,n("a",wr,[yr,e(a)]),xr]),Ar,n("h2",Br,[qr,jr,n("a",Sr,[Cr,e(a)]),Dr]),n("h3",Fr,[Pr,Tr,n("a",Nr,[Mr,e(a)]),Or]),Ir,n("h3",Rr,[Vr,Hr,n("a",Lr,[Ur,e(a)]),Jr]),Wr,n("h3",zr,[Gr,$r,n("a",Xr,[Kr,e(a)]),Qr]),Yr,n("h3",Zr,[ni,si,n("a",ai,[ei,e(a)]),ti]),pi,n("h2",oi,[ci,li,n("a",ri,[ii,e(a)]),ui]),ki,n("h3",di,[bi,mi,n("a",hi,[_i,e(a)]),gi]),Ei,n("h3",fi,[vi,wi,n("a",yi,[xi,e(a)]),Ai]),Bi,n("h3",qi,[ji,Si,n("a",Ci,[Di,e(a)]),Fi]),Pi,n("h3",Ti,[Ni,Mi,n("a",Oi,[Ii,e(a)]),Ri]),Vi,n("h3",Hi,[Li,Ui,n("a",Ji,[Wi,e(a)]),zi]),Gi,n("h3",$i,[Xi,Ki,n("a",Qi,[Yi,e(a)]),Zi]),nu,n("h3",su,[au,eu,n("a",tu,[pu,e(a)]),ou]),cu,n("h3",lu,[ru,iu,n("a",uu,[ku,e(a)]),du]),bu,n("h2",mu,[hu,_u,n("a",gu,[Eu,e(a)]),fu]),vu,wu,n("h3",yu,[xu,Au,n("a",Bu,[qu,e(a)]),ju]),Su,n("h3",Cu,[Du,Fu,n("a",Pu,[Tu,e(a)]),Nu]),Mu,n("h3",Ou,[Iu,Ru,n("a",Vu,[Hu,e(a)]),Lu]),Uu,n("h2",Ju,[Wu,zu,n("a",Gu,[$u,e(a)]),Xu]),n("h3",Ku,[Qu,Yu,n("a",Zu,[nk,e(a)]),sk]),ak,n("h3",ek,[tk,pk,n("a",ok,[ck,e(a)]),lk]),rk,ik,n("h3",uk,[kk,dk,n("a",bk,[mk,e(a)]),hk]),_k,n("h2",gk,[Ek,fk,n("a",vk,[wk,e(a)]),yk]),n("h3",xk,[Ak,Bk,n("a",qk,[jk,e(a)]),Sk]),Ck,n("h3",Dk,[Fk,Pk,n("a",Tk,[Nk,e(a)]),Mk]),Ok,n("h3",Ik,[Rk,Vk,n("a",Hk,[Lk,e(a)]),Uk]),Jk,n("h3",Wk,[zk,Gk,n("a",$k,[Xk,e(a)]),Kk]),Qk,n("h3",Yk,[Zk,nd,n("a",sd,[ad,e(a)]),ed]),td,n("h3",pd,[od,cd,n("a",ld,[rd,e(a)]),id]),ud,n("h3",kd,[dd,bd,n("a",md,[hd,e(a)]),_d]),gd,n("h3",Ed,[fd,vd,n("a",wd,[yd,e(a)]),xd]),Ad,n("h2",Bd,[qd,jd,n("a",Sd,[Cd,e(a)]),Dd]),Fd,n("h2",Pd,[Td,Nd,n("a",Md,[Od,e(a)]),Id]),Rd,n("h2",Vd,[Hd,Ld,n("a",Ud,[Jd,e(a)]),Wd]),zd,n("h3",Gd,[$d,Xd,n("a",Kd,[Qd,e(a)]),Yd]),Zd,n("h2",nb,[sb,ab,n("a",eb,[tb,e(a)]),pb]),ob,n("h2",cb,[lb,rb,n("a",ib,[ub,e(a)]),kb]),db,n("h2",bb,[mb,hb,n("a",_b,[gb,e(a)]),Eb]),fb,n("h2",vb,[wb,yb,n("a",xb,[Ab,e(a)]),Bb]),qb,n("h2",jb,[Sb,Cb,n("a",Db,[Fb,e(a)]),Pb]),Tb,n("h2",Nb,[Mb,Ob,n("a",Ib,[Rb,e(a)]),Vb]),Hb,n("h2",Lb,[Ub,Jb,n("a",Wb,[zb,e(a)]),Gb]),$b,n("h2",Xb,[Kb,Qb,n("a",Yb,[Zb,e(a)]),nm]),sm,n("h2",am,[em,tm,n("a",pm,[om,e(a)]),cm]),lm,n("h2",rm,[im,um,n("a",km,[dm,e(a)]),bm]),mm,n("h2",hm,[_m,gm,n("a",Em,[fm,e(a)]),vm]),n("h3",wm,[ym,xm,n("a",Am,[Bm,e(a)]),qm]),jm,n("h3",Sm,[Cm,Dm,n("a",Fm,[Pm,e(a)]),Tm]),Nm,n("h3",Mm,[Om,Im,n("a",Rm,[Vm,e(a)]),Hm]),Lm,n("h3",Um,[Jm,Wm,n("a",zm,[Gm,e(a)]),$m]),Xm,n("h3",Km,[Qm,Ym,n("a",Zm,[nh,e(a)]),sh]),ah,n("h2",eh,[th,ph,n("a",oh,[ch,e(a)]),lh]),rh,n("h3",ih,[uh,kh,n("a",dh,[bh,e(a)]),mh]),hh,n("h3",_h,[gh,Eh,n("a",fh,[vh,e(a)]),wh]),yh,n("h3",xh,[Ah,Bh,n("a",qh,[jh,e(a)]),Sh]),Ch,n("h3",Dh,[Fh,Ph,n("a",Th,[Nh,e(a)]),Mh]),Oh,n("h2",Ih,[Rh,Vh,n("a",Hh,[Lh,e(a)]),Uh]),Jh,n("h2",Wh,[zh,Gh,n("a",$h,[Xh,e(a)]),Kh]),n("h3",Qh,[Yh,Zh,n("a",n_,[s_,e(a)]),a_]),e_,n("h3",t_,[p_,o_,n("a",c_,[l_,e(a)]),r_]),i_,n("h3",u_,[k_,d_,n("a",b_,[m_,e(a)]),h_]),__,n("h3",g_,[E_,f_,n("a",v_,[w_,e(a)]),y_]),x_,n("h2",A_,[B_,q_,n("a",j_,[S_,e(a)]),C_]),D_,n("h3",F_,[P_,T_,n("a",N_,[M_,e(a)]),O_]),I_,n("h3",R_,[V_,H_,n("a",L_,[U_,e(a)]),J_]),W_,n("h3",z_,[G_,$_,n("a",X_,[K_,e(a)]),Q_]),Y_,n("h3",Z_,[n1,s1,n("a",a1,[e1,e(a)]),t1]),p1,n("h3",o1,[c1,l1,n("a",r1,[i1,e(a)]),u1]),k1,n("h3",d1,[b1,m1,n("a",h1,[_1,e(a)]),g1]),E1,n("h2",f1,[v1,w1,n("a",y1,[x1,e(a)]),A1]),n("h3",B1,[q1,j1,n("a",S1,[C1,e(a)]),D1]),F1,n("h3",P1,[T1,N1,n("a",M1,[O1,e(a)]),I1]),R1,n("h3",V1,[H1,L1,n("a",U1,[J1,e(a)]),W1]),z1,n("h3",G1,[$1,X1,n("a",K1,[Q1,e(a)]),Y1]),Z1,n("h3",ng,[sg,ag,n("a",eg,[tg,e(a)]),pg]),og,n("h3",cg,[lg,rg,n("a",ig,[ug,e(a)]),kg]),dg,n("h2",bg,[mg,hg,n("a",_g,[gg,e(a)]),Eg]),fg,n("h2",vg,[wg,yg,n("a",xg,[Ag,e(a)]),Bg]),qg,n("h2",jg,[Sg,Cg,n("a",Dg,[Fg,e(a)]),Pg]),Tg,n("h2",Ng,[Mg,Og,n("a",Ig,[Rg,e(a)]),Vg]),Hg,n("h2",Lg,[Ug,Jg,n("a",Wg,[zg,e(a)]),Gg]),$g,n("h2",Xg,[Kg,Qg,n("a",Yg,[Zg,e(a)]),n8]),n("h3",s8,[a8,e8,n("a",t8,[p8,e(a)]),o8]),c8,n("h3",l8,[r8,i8,n("a",u8,[k8,e(a)]),d8]),b8,n("h3",m8,[h8,_8,n("a",g8,[E8,e(a)]),f8]),v8,n("h2",w8,[y8,x8,n("a",A8,[B8,e(a)]),q8]),j8,S8,C8,n("h2",D8,[F8,P8,n("a",T8,[N8,e(a)]),M8]),O8,n("h2",I8,[R8,V8,n("a",H8,[L8,e(a)]),U8]),J8,n("h2",W8,[z8,G8,n("a",$8,[X8,e(a)]),K8]),Q8,n("h2",Y8,[Z8,nE,n("a",sE,[aE,e(a)]),eE]),n("h3",tE,[pE,oE,n("a",cE,[lE,e(a)]),rE]),iE,n("h3",uE,[kE,dE,n("a",bE,[mE,e(a)]),hE]),_E,n("h3",gE,[EE,fE,n("a",vE,[wE,e(a)]),yE]),xE,n("h2",AE,[BE,qE,n("a",jE,[SE,e(a)]),CE]),DE,n("h2",FE,[PE,TE,n("a",NE,[ME,e(a)]),OE]),n("ul",null,[n("li",null,[n("a",IE,[RE,e(a)])])]),VE,n("h2",HE,[LE,UE,n("a",JE,[WE,e(a)]),zE]),GE,n("h2",$E,[XE,KE,n("a",QE,[YE,e(a)]),ZE]),n9,n("h2",s9,[a9,e9,n("a",t9,[p9,e(a)]),o9]),c9,n("h2",l9,[r9,i9,n("a",u9,[k9,e(a)]),d9]),b9,n("h2",m9,[h9,_9,n("a",g9,[E9,e(a)]),f9]),v9,n("h2",w9,[y9,x9,n("a",A9,[B9,e(a)]),q9]),j9,n("h2",S9,[C9,D9,n("a",F9,[P9,e(a)]),T9]),N9,n("h2",M9,[O9,I9,n("a",R9,[V9,e(a)]),H9]),L9,n("h2",U9,[J9,W9,n("a",z9,[G9,e(a)]),$9]),X9,n("h3",K9,[Q9,Y9,n("a",Z9,[nf,e(a)]),sf]),af,n("h2",ef,[tf,pf,n("a",of,[cf,e(a)]),lf]),rf,n("h2",uf,[kf,df,n("a",bf,[mf,e(a)]),hf]),_f,n("h2",gf,[Ef,ff,n("a",vf,[wf,e(a)]),yf]),xf,n("h2",Af,[Bf,qf,n("a",jf,[Sf,e(a)]),Cf]),Df,n("h2",Ff,[Pf,Tf,n("a",Nf,[Mf,e(a)]),Of]),If,n("h2",Rf,[Vf,Hf,n("a",Lf,[Uf,e(a)]),Jf]),Wf,n("h2",zf,[Gf,$f,n("a",Xf,[Kf,e(a)]),Qf]),Yf,n("h3",Zf,[n3,s3,n("a",a3,[e3,e(a)]),t3]),p3,n("h3",o3,[c3,l3,n("a",r3,[i3,e(a)]),u3]),k3,n("h2",d3,[b3,m3,n("a",h3,[_3,e(a)]),g3]),E3,n("h2",f3,[v3,w3,n("a",y3,[x3,e(a)]),A3]),B3,n("h2",q3,[j3,S3,n("a",C3,[D3,e(a)]),F3]),P3,n("h2",T3,[N3,M3,n("a",O3,[I3,e(a)]),R3]),V3,n("h2",H3,[L3,U3,n("a",J3,[W3,e(a)]),z3]),G3,n("h2",$3,[X3,K3,n("a",Q3,[Y3,e(a)]),Z3]),n2,n("h2",s2,[a2,e2,n("a",t2,[p2,e(a)]),o2]),c2,n("h2",l2,[r2,i2,n("a",u2,[k2,e(a)]),d2]),b2,n("h2",m2,[h2,_2,n("a",g2,[E2,e(a)]),f2]),v2,n("h2",w2,[y2,x2,n("a",A2,[B2,e(a)]),q2]),j2,n("h2",S2,[C2,D2,n("a",F2,[P2,e(a)]),T2]),N2,M2,O2,n("h2",I2,[R2,V2,n("a",H2,[L2,e(a)]),U2]),J2,n("h2",W2,[z2,G2,n("a",$2,[X2,e(a)]),K2]),Q2,n("h2",Y2,[Z2,nv,n("a",sv,[av,e(a)]),ev]),tv,n("h2",pv,[ov,cv,n("a",lv,[rv,e(a)]),iv]),uv,n("h2",kv,[dv,bv,n("a",mv,[hv,e(a)]),_v]),gv,n("h2",Ev,[fv,vv,n("a",wv,[yv,e(a)]),xv]),n("h3",Av,[Bv,qv,n("a",jv,[Sv,e(a)]),Cv]),Dv,n("h3",Fv,[Pv,Tv,n("a",Nv,[Mv,e(a)]),Ov]),Iv,n("h2",Rv,[Vv,Hv,n("a",Lv,[Uv,e(a)]),Jv]),Wv,n("h2",zv,[Gv,$v,n("a",Xv,[Kv,e(a)]),Qv]),n("h3",Yv,[Zv,n5,n("a",s5,[a5,e(a)]),e5]),t5,n("h3",p5,[o5,c5,n("a",l5,[r5,e(a)]),i5]),u5,n("h3",k5,[d5,b5,n("a",m5,[h5,e(a)]),_5]),g5,n("h3",E5,[f5,v5,n("a",w5,[y5,e(a)]),x5]),A5,n("h3",B5,[q5,j5,n("a",S5,[C5,e(a)]),D5]),F5,n("h2",P5,[T5,N5,n("a",M5,[O5,e(a)]),I5]),R5,V5,n("h3",H5,[L5,U5,n("a",J5,[W5,e(a)]),z5]),G5,n("h3",$5,[X5,K5,n("a",Q5,[Y5,e(a)]),Z5]),n6,n("h3",s6,[a6,e6,n("a",t6,[p6,e(a)]),o6]),c6,n("h3",l6,[r6,i6,n("a",u6,[k6,e(a)]),d6]),b6,n("h2",m6,[h6,_6,n("a",g6,[E6,e(a)]),f6]),v6,n("h3",w6,[y6,x6,n("a",A6,[B6,e(a)]),q6]),j6,n("h3",S6,[C6,D6,n("a",F6,[P6,e(a)]),T6]),N6,n("h3",M6,[O6,I6,n("a",R6,[V6,e(a)]),H6]),L6,n("h3",U6,[J6,W6,n("a",z6,[G6,e(a)]),$6]),X6,n("h3",K6,[Q6,Y6,n("a",Z6,[n4,e(a)]),s4]),a4,n("h3",e4,[t4,p4,n("a",o4,[c4,e(a)]),l4]),r4,n("h3",i4,[u4,k4,n("a",d4,[b4,e(a)]),m4]),h4,n("h2",_4,[g4,E4,n("a",f4,[v4,e(a)]),w4]),y4,n("h2",x4,[A4,B4,n("a",q4,[j4,e(a)]),S4]),n("h3",C4,[D4,F4,n("a",P4,[T4,e(a)]),N4]),M4,n("h3",O4,[I4,R4,n("a",V4,[H4,e(a)]),L4]),U4,n("h3",J4,[W4,z4,n("a",G4,[$4,e(a)]),X4]),K4,n("h4",Q4,[Y4,Z4,n("a",nw,[sw,e(a)]),aw]),ew,n("h4",tw,[pw,ow,n("a",cw,[lw,e(a)]),rw]),iw,n("h4",uw,[kw,dw,n("a",bw,[mw,e(a)]),hw]),_w,n("h4",gw,[Ew,fw,n("a",vw,[ww,e(a)]),yw]),xw,Aw,n("h4",Bw,[qw,jw,n("a",Sw,[Cw,e(a)]),Dw]),Fw,n("h4",Pw,[Tw,Nw,n("a",Mw,[Ow,e(a)]),Iw]),Rw,n("h4",Vw,[Hw,Lw,n("a",Uw,[Jw,e(a)]),Ww]),n("blockquote",null,[n("p",null,[zw,Gw,$w,Xw,Kw,Qw,Yw,n("a",Zw,[ny,e(a)])])]),sy,n("h2",ay,[ey,ty,n("a",py,[oy,e(a)]),cy]),n("h3",ly,[ry,iy,n("a",uy,[ky,e(a)]),dy]),by,my,hy,n("h3",_y,[gy,Ey,n("a",fy,[vy,e(a)]),wy]),yy,n("h3",xy,[Ay,By,n("a",qy,[jy,e(a)]),Sy]),Cy,n("h3",Dy,[Fy,Py,n("a",Ty,[Ny,e(a)]),My]),Oy,n("h3",Iy,[Ry,Vy,n("a",Hy,[Ly,e(a)]),Uy]),Jy,n("h3",Wy,[zy,Gy,n("a",$y,[Xy,e(a)]),Ky]),Qy,n("h2",Yy,[Zy,n7,n("a",s7,[a7,e(a)]),e7]),t7,n("h2",p7,[o7,c7,n("a",l7,[r7,e(a)]),i7]),n("h3",u7,[k7,d7,n("a",b7,[m7,e(a)]),h7]),_7,n("h2",g7,[E7,f7,n("a",v7,[w7,e(a)]),y7]),x7,n("h2",A7,[B7,q7,n("a",j7,[S7,e(a)]),C7]),D7,n("h2",F7,[P7,T7,n("a",N7,[M7,e(a)]),O7]),I7,n("h2",R7,[V7,H7,n("a",L7,[U7,e(a)]),J7]),W7,n("h2",z7,[G7,$7,n("a",X7,[K7,e(a)]),Q7]),Y7,n("h2",Z7,[nx,sx,n("a",ax,[ex,e(a)]),tx]),px,n("h2",ox,[cx,lx,n("a",rx,[ix,e(a)]),ux]),kx,n("h2",dx,[bx,mx,n("a",hx,[_x,e(a)]),gx]),Ex,n("h2",fx,[vx,wx,n("a",yx,[xx,e(a)]),Ax]),Bx,n("h2",qx,[jx,Sx,n("a",Cx,[Dx,e(a)]),Fx]),Px,n("h2",Tx,[Nx,Mx,n("a",Ox,[Ix,e(a)]),Rx]),Vx,n("h3",Hx,[Lx,Ux,n("a",Jx,[Wx,e(a)]),zx]),Gx,n("h2",$x,[Xx,Kx,n("a",Qx,[Yx,e(a)]),Zx]),n0,n("h2",s0,[a0,e0,n("a",t0,[p0,e(a)]),o0]),c0,n("h2",l0,[r0,i0,n("a",u0,[k0,e(a)]),d0]),b0,n("h2",m0,[h0,_0,n("a",g0,[E0,e(a)]),f0]),v0,n("h2",w0,[y0,x0,n("a",A0,[B0,e(a)]),q0]),j0,n("h2",S0,[C0,D0,n("a",F0,[P0,e(a)]),T0]),N0,n("h2",M0,[O0,I0,n("a",R0,[V0,e(a)]),H0]),L0,n("h2",U0,[J0,W0,n("a",z0,[G0,e(a)]),$0]),X0,n("h2",K0,[Q0,Y0,n("a",Z0,[nA,e(a)]),sA]),aA,n("h2",eA,[tA,pA,n("a",oA,[cA,e(a)]),lA]),rA,n("h2",iA,[uA,kA,n("a",dA,[bA,e(a)]),mA]),hA,n("h2",_A,[gA,EA,n("a",fA,[vA,e(a)]),wA,yA,xA,AA,BA]),qA,n("h2",jA,[SA,CA,n("a",DA,[FA,e(a)]),PA]),TA,n("h2",NA,[MA,OA,n("a",IA,[RA,e(a)]),VA]),HA,n("h2",LA,[UA,JA,n("a",WA,[zA,e(a)]),GA]),$A,n("h2",XA,[KA,QA,n("a",YA,[ZA,e(a)]),nB]),sB,n("h2",aB,[eB,tB,n("a",pB,[oB,e(a)]),cB]),lB,n("h2",rB,[iB,uB,n("a",kB,[dB,e(a)]),bB]),mB,n("h2",hB,[_B,gB,n("a",EB,[fB,e(a)]),vB]),wB,n("h2",yB,[xB,AB,n("a",BB,[qB,e(a)]),jB]),SB,n("h2",CB,[DB,FB,n("a",PB,[TB,e(a)]),NB]),MB,n("h2",OB,[IB,RB,n("a",VB,[HB,e(a)]),LB]),UB,n("h2",JB,[WB,zB,n("a",GB,[$B,e(a)]),XB]),KB,n("h2",QB,[YB,ZB,n("a",nq,[sq,e(a)]),aq]),eq,tq,n("h2",pq,[oq,cq,n("a",lq,[rq,e(a)]),iq]),uq,kq,dq,n("h2",bq,[mq,hq,n("a",_q,[gq,e(a)]),Eq]),fq,n("h2",vq,[wq,yq,n("a",xq,[Aq,e(a)]),Bq]),qq,n("h3",jq,[Sq,Cq,n("a",Dq,[Fq,e(a)]),Pq]),Tq,Nq,Mq,n("h3",Oq,[Iq,Rq,n("a",Vq,[Hq,e(a)]),Lq]),Uq,Jq,n("h3",Wq,[zq,Gq,n("a",$q,[Xq,e(a)]),Kq]),Qq,n("h2",Yq,[Zq,nj,n("a",sj,[aj,e(a)]),ej]),tj,pj,oj,n("h2",cj,[lj,rj,n("a",ij,[uj,e(a)]),kj]),dj,n("h2",bj,[mj,hj,n("a",_j,[gj,e(a)]),Ej]),fj,vj,wj,n("h2",yj,[xj,Aj,n("a",Bj,[qj,e(a)]),jj]),Sj,n("h2",Cj,[Dj,Fj,n("a",Pj,[Tj,e(a)]),Nj]),Mj,n("h2",Oj,[Ij,Rj,n("a",Vj,[Hj,e(a)]),Lj]),Uj,n("h2",Jj,[Wj,zj,n("a",Gj,[$j,e(a)]),Xj]),Kj,Qj,n("h2",Yj,[Zj,nS,n("a",sS,[aS,e(a)]),eS]),tS,pS,oS,n("h2",cS,[lS,rS,n("a",iS,[uS,e(a)]),kS]),dS,bS,n("h2",mS,[hS,_S,n("a",gS,[ES,e(a)]),fS]),vS,n("h2",wS,[yS,xS,n("a",AS,[BS,e(a)]),qS]),jS,SS,CS,DS,n("h2",FS,[PS,TS,n("a",NS,[MS,e(a)]),OS]),IS,n("h2",RS,[VS,HS,n("a",LS,[US,e(a)]),JS]),WS,n("h2",zS,[GS,$S,n("a",XS,[KS,e(a)]),QS]),YS,n("h2",ZS,[nC,sC,n("a",aC,[eC,e(a)]),tC]),pC,n("h2",oC,[cC,lC,n("a",rC,[iC,e(a)]),uC]),kC,n("h2",dC,[bC,mC,n("a",hC,[_C,e(a)]),gC]),EC,n("h2",fC,[vC,wC,n("a",yC,[xC,e(a)]),AC]),BC,n("h2",qC,[jC,SC,n("a",CC,[DC,e(a)]),FC]),PC,n("h2",TC,[NC,MC,n("a",OC,[IC,e(a)]),RC]),VC,n("h2",HC,[LC,UC,n("a",JC,[WC,e(a)]),zC]),GC,n("h2",$C,[XC,KC,n("a",QC,[YC,e(a)]),ZC]),nD,n("h2",sD,[aD,eD,n("a",tD,[pD,e(a)]),oD]),cD,n("h2",lD,[rD,iD,n("a",uD,[kD,e(a)]),dD]),bD,n("h3",mD,[hD,_D,n("a",gD,[ED,e(a)]),fD]),vD,n("h3",wD,[yD,xD,n("a",AD,[BD,e(a)]),qD]),jD,SD,CD,n("h3",DD,[FD,PD,n("a",TD,[ND,e(a)]),MD]),OD,n("h2",ID,[RD,VD,n("a",HD,[LD,e(a)]),UD]),JD,n("h2",WD,[zD,GD,n("a",$D,[XD,e(a)]),KD]),QD,n("h2",YD,[ZD,nF,n("a",sF,[aF,e(a)]),eF]),tF,n("h2",pF,[oF,cF,n("a",lF,[rF,e(a)]),iF]),uF,n("h2",kF,[dF,bF,n("a",mF,[hF,e(a)]),_F]),gF,n("h2",EF,[fF,vF,n("a",wF,[yF,e(a)]),xF]),AF,n("h2",BF,[qF,jF,n("a",SF,[CF,e(a)]),DF]),FF,n("h2",PF,[TF,NF,n("a",MF,[OF,e(a)]),IF]),RF,n("h2",VF,[HF,LF,n("a",UF,[JF,e(a)]),WF]),zF,n("h2",GF,[$F,XF,n("a",KF,[QF,e(a)]),YF]),ZF,n("h2",nP,[sP,aP,n("a",eP,[tP,e(a)]),pP]),oP,n("h2",cP,[lP,rP,n("a",iP,[uP,e(a)]),kP]),n("h3",dP,[bP,mP,n("a",hP,[_P,e(a)]),gP]),EP,n("h3",fP,[vP,wP,n("a",yP,[xP,e(a)]),AP]),BP,n("h3",qP,[jP,SP,n("a",CP,[DP,e(a)]),FP]),PP,n("h3",TP,[NP,MP,n("a",OP,[IP,e(a)]),RP]),VP,n("h2",HP,[LP,UP,n("a",JP,[WP,e(a)]),zP]),GP,n("h2",$P,[XP,KP,n("a",QP,[YP,e(a)]),ZP]),n("ul",null,[nT,n("li",null,[sT,n("code",null,l(),1),aT,eT,tT,pT,oT,cT,lT,rT,iT,uT,kT])]),n("h2",dT,[bT,mT,n("a",hT,[_T,e(a)]),gT]),ET,n("h2",fT,[vT,wT,n("a",yT,[xT,e(a)]),AT]),BT,n("h2",qT,[jT,ST,n("a",CT,[DT,e(a)]),FT]),PT,n("h2",TT,[NT,MT,n("a",OT,[IT,e(a)]),RT]),VT,n("h2",HT,[LT,UT,n("a",JT,[WT,e(a)]),zT]),GT,n("h2",$T,[XT,KT,n("a",QT,[YT,e(a)]),ZT,nN,sN,aN,eN]),tN,n("h2",pN,[oN,cN,n("a",lN,[rN,e(a)]),iN]),uN,n("h2",kN,[dN,bN,n("a",mN,[hN,e(a)]),_N,gN,EN]),fN,n("h2",vN,[wN,yN,n("a",xN,[AN,e(a)]),BN]),qN,n("h2",jN,[SN,CN,n("a",DN,[FN,e(a)]),PN]),TN,n("h2",NN,[MN,ON,n("a",IN,[RN,e(a)]),VN]),HN,n("h2",LN,[UN,JN,n("a",WN,[zN,e(a)]),GN]),$N,n("h2",XN,[KN,QN,n("a",YN,[ZN,e(a)]),nM]),sM,n("h2",aM,[eM,tM,n("a",pM,[oM,e(a)]),cM]),lM,n("h2",rM,[iM,uM,n("a",kM,[dM,e(a)]),bM]),mM,n("h2",hM,[_M,gM,n("a",EM,[fM,e(a)]),vM]),wM,n("h2",yM,[xM,AM,n("a",BM,[qM,e(a)]),jM]),SM,n("h2",CM,[DM,FM,n("a",PM,[TM,e(a)]),NM]),MM,n("h2",OM,[IM,RM,n("a",VM,[HM,e(a)]),LM]),UM,n("h2",JM,[WM,zM,n("a",GM,[$M,e(a)]),XM]),KM,n("h2",QM,[YM,ZM,n("a",nO,[sO,e(a)]),aO]),eO,n("h2",tO,[pO,oO,n("a",cO,[lO,e(a)]),rO]),iO,n("h2",uO,[kO,dO,n("a",bO,[mO,e(a)]),hO]),_O,n("h2",gO,[EO,fO,n("a",vO,[wO,e(a)]),yO]),xO,n("h2",AO,[BO,qO,n("a",jO,[SO,e(a)]),CO]),DO,n("h2",FO,[PO,TO,n("a",NO,[MO,e(a)]),OO]),IO,n("h2",RO,[VO,HO,n("a",LO,[UO,e(a)]),JO]),WO,n("h2",zO,[GO,$O,n("a",XO,[KO,e(a)]),QO]),YO,n("h2",ZO,[nI,sI,n("a",aI,[eI,e(a)]),tI]),pI,n("h2",oI,[cI,lI,n("a",rI,[iI,e(a)]),uI]),kI,n("h2",dI,[bI,mI,n("a",hI,[_I,e(a)]),gI]),EI,n("h2",fI,[vI,wI,n("a",yI,[xI,e(a)]),AI]),BI,n("h2",qI,[jI,SI,n("a",CI,[DI,e(a)]),FI]),PI,n("h2",TI,[NI,MI,n("a",OI,[II,e(a)]),RI]),VI,n("h2",HI,[LI,UI,n("a",JI,[WI,e(a)]),zI]),GI,n("h2",$I,[XI,KI,n("a",QI,[YI,e(a)]),ZI]),nR,n("h2",sR,[aR,eR,n("a",tR,[pR,e(a)]),oR]),cR,n("h2",lR,[rR,iR,n("a",uR,[kR,e(a)]),dR]),bR,n("h2",mR,[hR,_R,n("a",gR,[ER,e(a)]),fR]),vR,n("h2",wR,[yR,xR,n("a",AR,[BR,e(a)]),qR]),jR,SR,CR,DR,n("h2",FR,[PR,TR,n("a",NR,[MR,e(a)]),OR]),IR,RR,VR,n("h2",HR,[LR,UR,n("a",JR,[WR,e(a)]),zR]),GR,$R,n("h2",XR,[KR,QR,n("a",YR,[ZR,e(a)]),nV]),sV,aV,eV,tV,n("h2",pV,[oV,cV,n("a",lV,[rV,e(a)]),iV]),uV,n("h2",kV,[dV,bV,n("a",mV,[hV,e(a)]),_V]),gV,n("h2",EV,[fV,vV,n("a",wV,[yV,e(a)]),xV]),AV,n("h2",BV,[qV,jV,n("a",SV,[CV,e(a)]),DV]),FV,n("h2",PV,[TV,NV,n("a",MV,[OV,e(a)]),IV]),RV,n("h2",VV,[HV,LV,n("a",UV,[JV,e(a)]),WV]),zV,n("h2",GV,[$V,XV,n("a",KV,[QV,e(a)]),YV]),ZV,n("h2",nH,[sH,aH,n("a",eH,[tH,e(a)]),pH]),oH,n("h2",cH,[lH,rH,n("a",iH,[uH,e(a)]),kH]),dH,n("h2",bH,[mH,hH,n("a",_H,[gH,e(a)]),EH]),fH,n("h2",vH,[wH,yH,n("a",xH,[AH,e(a)]),BH]),qH,n("h2",jH,[SH,CH,n("a",DH,[FH,e(a)]),PH]),TH,n("h2",NH,[MH,OH,n("a",IH,[RH,e(a)]),VH]),HH,n("h2",LH,[UH,JH,n("a",WH,[zH,e(a)]),GH]),$H,n("h2",XH,[KH,QH,n("a",YH,[ZH,e(a)]),nL]),sL,n("h2",aL,[eL,tL,n("a",pL,[oL,e(a)]),cL]),lL,n("h2",rL,[iL,uL,n("a",kL,[dL,e(a)]),bL]),mL,n("h2",hL,[_L,gL,n("a",EL,[fL,e(a)]),vL]),wL,n("h2",yL,[xL,AL,n("a",BL,[qL,e(a)]),jL]),SL,n("h2",CL,[DL,FL,n("a",PL,[TL,e(a)]),NL]),ML,n("h2",OL,[IL,RL,n("a",VL,[HL,e(a)]),LL]),UL,n("h2",JL,[WL,zL,n("a",GL,[$L,e(a)]),XL]),KL,n("h2",QL,[YL,ZL,n("a",nU,[sU,e(a)]),aU]),eU,n("h2",tU,[pU,oU,n("a",cU,[lU,e(a)]),rU]),iU,n("h2",uU,[kU,dU,n("a",bU,[mU,e(a)]),hU]),_U,n("h2",gU,[EU,fU,n("a",vU,[wU,e(a)]),yU]),xU,n("h2",AU,[BU,qU,n("a",jU,[SU,e(a)]),CU]),DU,n("h2",FU,[PU,TU,n("a",NU,[MU,e(a)]),OU]),n("h3",IU,[RU,VU,n("a",HU,[LU,e(a)]),UU]),JU,n("h3",WU,[zU,GU,n("a",$U,[XU,e(a)]),KU]),QU,n("h3",YU,[ZU,nJ,n("a",sJ,[aJ,e(a)]),eJ]),tJ,n("h2",pJ,[oJ,cJ,n("a",lJ,[rJ,e(a)]),iJ]),uJ,kJ,n("h2",dJ,[bJ,mJ,n("a",hJ,[_J,e(a)]),gJ]),EJ,n("h2",fJ,[vJ,wJ,n("a",yJ,[xJ,e(a)]),AJ]),BJ,n("h2",qJ,[jJ,SJ,n("a",CJ,[DJ,e(a)]),FJ]),PJ,n("h2",TJ,[NJ,MJ,n("a",OJ,[IJ,e(a)]),RJ]),VJ,n("h2",HJ,[LJ,UJ,n("a",JJ,[WJ,e(a)]),zJ]),GJ,n("h2",$J,[XJ,KJ,n("a",QJ,[YJ,e(a)]),ZJ]),nW,n("h2",sW,[aW,eW,n("a",tW,[pW,e(a)]),oW]),cW,n("h2",lW,[rW,iW,n("a",uW,[kW,e(a)]),dW]),bW,n("h2",mW,[hW,_W,n("a",gW,[EW,e(a)]),fW]),vW,n("h2",wW,[yW,xW,n("a",AW,[BW,e(a)]),qW]),jW,n("h2",SW,[CW,DW,n("a",FW,[PW,e(a)]),TW]),NW,n("h2",MW,[OW,IW,n("a",RW,[VW,e(a)]),HW]),LW,n("h2",UW,[JW,WW,n("a",zW,[GW,e(a)]),$W]),XW,KW,n("h2",QW,[YW,ZW,n("a",nz,[sz,e(a)]),az]),ez,n("h2",tz,[pz,oz,n("a",cz,[lz,e(a)]),rz]),iz,n("h2",uz,[kz,dz,n("a",bz,[mz,e(a)]),hz]),_z,n("h2",gz,[Ez,fz,n("a",vz,[wz,e(a)]),yz]),xz,n("h2",Az,[Bz,qz,n("a",jz,[Sz,e(a)]),Cz]),Dz,n("h2",Fz,[Pz,Tz,n("a",Nz,[Mz,e(a)]),Oz]),Iz,n("h2",Rz,[Vz,Hz,n("a",Lz,[Uz,e(a)]),Jz]),Wz,n("h2",zz,[Gz,$z,n("a",Xz,[Kz,e(a)]),Qz]),Yz,n("h2",Zz,[nG,sG,n("a",aG,[eG,e(a)]),tG]),pG,n("h2",oG,[cG,lG,n("a",rG,[iG,e(a)]),uG]),kG,n("h2",dG,[bG,mG,n("a",hG,[_G,e(a)]),gG]),EG,n("h2",fG,[vG,wG,n("a",yG,[xG,e(a)]),AG]),BG,n("h2",qG,[jG,SG,n("a",CG,[DG,e(a)]),FG]),PG,n("h2",TG,[NG,MG,n("a",OG,[IG,e(a)]),RG]),VG,n("h2",HG,[LG,UG,n("a",JG,[WG,e(a)]),zG]),GG,n("h2",$G,[XG,KG,n("a",QG,[YG,e(a)]),ZG]),n$,n("h2",s$,[a$,e$,n("a",t$,[p$,e(a)]),o$]),c$,n("h2",l$,[r$,i$,n("a",u$,[k$,e(a)]),d$]),b$,n("h2",m$,[h$,_$,n("a",g$,[E$,e(a)]),f$]),v$,n("h2",w$,[y$,x$,n("a",A$,[B$,e(a)]),q$]),n("h3",j$,[S$,C$,n("a",D$,[F$,e(a)]),P$]),T$,n("h3",N$,[M$,O$,n("a",I$,[R$,e(a)]),V$]),H$,n("h3",L$,[U$,J$,n("a",W$,[z$,e(a)]),G$]),$$,n("h2",X$,[K$,Q$,n("a",Y$,[Z$,e(a)]),nX]),sX,n("h2",aX,[eX,tX,n("a",pX,[oX,e(a)]),cX]),lX,n("h2",rX,[iX,uX,n("a",kX,[dX,e(a)]),bX]),mX,n("h2",hX,[_X,gX,n("a",EX,[fX,e(a)]),vX]),n("h3",wX,[yX,xX,n("a",AX,[BX,e(a)]),qX]),jX,SX,n("h3",CX,[DX,FX,n("a",PX,[TX,e(a)]),NX]),MX,n("h3",OX,[IX,RX,n("a",VX,[HX,e(a)]),LX]),UX,n("h2",JX,[WX,zX,n("a",GX,[$X,e(a)]),XX]),n("h3",KX,[QX,YX,n("a",ZX,[nK,e(a)]),sK]),aK,n("h3",eK,[tK,pK,n("a",oK,[cK,e(a)]),lK]),rK,n("h3",iK,[uK,kK,n("a",dK,[bK,e(a)]),mK]),hK,n("h2",_K,[gK,EK,n("a",fK,[vK,e(a)]),wK]),n("h3",yK,[xK,AK,n("a",BK,[qK,e(a)]),jK]),SK,n("h3",CK,[DK,FK,n("a",PK,[TK,e(a)]),NK]),MK,n("h3",OK,[IK,RK,n("a",VK,[HK,e(a)]),LK]),UK,n("h3",JK,[WK,zK,n("a",GK,[$K,e(a)]),XK]),KK,n("h2",QK,[YK,ZK,n("a",nQ,[sQ,e(a)]),aQ]),n("h3",eQ,[tQ,pQ,n("a",oQ,[cQ,e(a)]),lQ]),rQ,n("h3",iQ,[uQ,kQ,n("a",dQ,[bQ,e(a)]),mQ]),hQ,n("h2",_Q,[gQ,EQ,n("a",fQ,[vQ,e(a)]),wQ]),n("h3",yQ,[xQ,AQ,n("a",BQ,[qQ,e(a)]),jQ]),SQ,n("h3",CQ,[DQ,FQ,n("a",PQ,[TQ,e(a)]),NQ]),MQ,n("h3",OQ,[IQ,RQ,n("a",VQ,[HQ,e(a)]),LQ]),UQ,n("h3",JQ,[WQ,zQ,n("a",GQ,[$Q,e(a)]),XQ]),KQ,n("h2",QQ,[YQ,ZQ,n("a",nY,[sY,e(a)]),aY]),n("h3",eY,[tY,pY,n("a",oY,[cY,e(a)]),lY]),rY,n("h3",iY,[uY,kY,n("a",dY,[bY,e(a)]),mY]),hY,n("h3",_Y,[gY,EY,n("a",fY,[vY,e(a)]),wY]),yY,n("h3",xY,[AY,BY,n("a",qY,[jY,e(a)]),SY]),CY,DY,n("h3",FY,[PY,TY,n("a",NY,[MY,e(a)]),OY]),IY,n("h3",RY,[VY,HY,n("a",LY,[UY,e(a)]),JY]),WY,n("h3",zY,[GY,$Y,n("a",XY,[KY,e(a)]),QY]),YY,n("h3",ZY,[nZ,sZ,n("a",aZ,[eZ,e(a)]),tZ]),pZ,n("h2",oZ,[cZ,lZ,n("a",rZ,[iZ,e(a)]),uZ]),kZ,n("h2",dZ,[bZ,mZ,n("a",hZ,[_Z,e(a)]),gZ]),EZ,n("h2",fZ,[vZ,wZ,n("a",yZ,[xZ,e(a)]),AZ]),BZ,n("h3",qZ,[jZ,SZ,n("a",CZ,[DZ,e(a)]),FZ]),PZ,n("h2",TZ,[NZ,MZ,n("a",OZ,[IZ,e(a)]),RZ]),VZ,n("h3",HZ,[LZ,UZ,n("a",JZ,[WZ,e(a)]),zZ]),GZ,n("h2",$Z,[XZ,KZ,n("a",QZ,[YZ,e(a)]),ZZ]),n("h3",nnn,[snn,ann,n("a",enn,[tnn,e(a)]),pnn]),onn,n("h3",cnn,[lnn,rnn,n("a",inn,[unn,e(a)]),knn]),dnn,n("h2",bnn,[mnn,hnn,n("a",_nn,[gnn,e(a)]),Enn]),fnn,n("h3",vnn,[wnn,ynn,n("a",xnn,[Ann,e(a)]),Bnn]),qnn,n("h2",jnn,[Snn,Cnn,n("a",Dnn,[Fnn,e(a)]),Pnn]),Tnn,n("h3",Nnn,[Mnn,Onn,n("a",Inn,[Rnn,e(a)]),Vnn]),Hnn,n("h2",Lnn,[Unn,Jnn,n("a",Wnn,[znn,e(a)]),Gnn]),$nn,n("h2",Xnn,[Knn,Qnn,n("a",Ynn,[Znn,e(a)]),nsn]),ssn,n("h2",asn,[esn,tsn,n("a",psn,[osn,e(a)]),csn]),lsn,n("p",null,[n("a",rsn,[isn,e(a)])]),n("h2",usn,[ksn,dsn,n("a",bsn,[msn,e(a)]),hsn]),_sn,n("h2",gsn,[Esn,fsn,n("a",vsn,[wsn,e(a)]),ysn]),xsn,n("h2",Asn,[Bsn,qsn,n("a",jsn,[Ssn,e(a)]),Csn]),n("h3",Dsn,[Fsn,Psn,n("a",Tsn,[Nsn,e(a)]),Msn]),Osn,n("h3",Isn,[Rsn,Vsn,n("a",Hsn,[Lsn,e(a)]),Usn]),Jsn,n("h2",Wsn,[zsn,Gsn,n("a",$sn,[Xsn,e(a)]),Ksn]),Qsn,n("h3",Ysn,[Zsn,nan,n("a",san,[aan,e(a)]),ean]),tan,n("h2",pan,[oan,can,n("a",lan,[ran,e(a)]),ian]),uan,n("h2",kan,[dan,ban,n("a",man,[han,e(a)]),_an]),gan,n("h2",Ean,[fan,van,n("a",wan,[yan,e(a)]),xan]),Aan,n("h2",Ban,[qan,jan,n("a",San,[Can,e(a)]),Dan]),Fan,n("h2",Pan,[Tan,Nan,n("a",Man,[Oan,e(a)]),Ian]),n("h3",Ran,[Van,Han,n("a",Lan,[Uan,e(a)]),Jan]),Wan,n("h3",zan,[Gan,$an,n("a",Xan,[Kan,e(a)]),Qan]),Yan,n("h3",Zan,[nen,sen,n("a",aen,[een,e(a)]),ten]),pen,n("h3",oen,[cen,len,n("a",ren,[ien,e(a)]),uen]),ken,n("h3",den,[ben,men,n("a",hen,[_en,e(a)]),gen]),Een,n("h3",fen,[ven,wen,n("a",yen,[xen,e(a)]),Aen]),Ben,n("h3",qen,[jen,Sen,n("a",Cen,[Den,e(a)]),Fen]),Pen,n("h2",Ten,[Nen,Men,n("a",Oen,[Ien,e(a)]),Ren]),Ven,n("h2",Hen,[Len,Uen,n("a",Jen,[Wen,e(a)]),zen]),Gen,n("h2",$en,[Xen,Ken,n("a",Qen,[Yen,e(a)]),Zen]),ntn,n("h2",stn,[atn,etn,n("a",ttn,[ptn,e(a)]),otn]),ctn,n("h2",ltn,[rtn,itn,n("a",utn,[ktn,e(a)]),dtn]),btn,n("h2",mtn,[htn,_tn,n("a",gtn,[Etn,e(a)]),ftn]),vtn,n("h2",wtn,[ytn,xtn,n("a",Atn,[Btn,e(a)]),qtn]),jtn,n("h2",Stn,[Ctn,Dtn,n("a",Ftn,[Ptn,e(a)]),Ttn]),Ntn,n("h2",Mtn,[Otn,Itn,n("a",Rtn,[Vtn,e(a)]),Htn]),Ltn,n("h2",Utn,[Jtn,Wtn,n("a",ztn,[Gtn,e(a)]),$tn]),Xtn,n("h3",Ktn,[Qtn,Ytn,n("a",Ztn,[npn,e(a)]),spn]),apn,n("h3",epn,[tpn,ppn,n("a",opn,[cpn,e(a)]),lpn]),rpn,n("h3",ipn,[upn,kpn,n("a",dpn,[bpn,e(a)]),mpn]),hpn,_pn,n("h2",gpn,[Epn,fpn,n("a",vpn,[wpn,e(a)]),ypn]),xpn,n("h3",Apn,[Bpn,qpn,n("a",jpn,[Spn,e(a)]),Cpn]),Dpn,n("h3",Fpn,[Ppn,Tpn,n("a",Npn,[Mpn,e(a)]),Opn]),Ipn,n("h3",Rpn,[Vpn,Hpn,n("a",Lpn,[Upn,e(a)]),Jpn]),Wpn,n("h2",zpn,[Gpn,$pn,n("a",Xpn,[Kpn,e(a)]),Qpn]),n("h3",Ypn,[Zpn,non,n("a",son,[aon,e(a)]),eon]),ton,n("table",null,[pon,n("tbody",null,[n("tr",null,[n("td",null,[n("a",oon,[con,e(a)])]),lon]),ron,ion,uon,kon])]),n("h3",don,[bon,mon,n("a",hon,[_on,e(a)]),gon]),Eon,n("h3",fon,[von,won,n("a",yon,[xon,e(a)]),Aon]),Bon,n("h3",qon,[jon,Son,n("a",Con,[Don,e(a)]),Fon]),Pon,n("h2",Ton,[Non,Mon,n("a",Oon,[Ion,e(a)]),Ron]),Von,n("h3",Hon,[Lon,Uon,n("a",Jon,[Won,e(a)]),zon]),Gon,n("h3",$on,[Xon,Kon,n("a",Qon,[Yon,e(a)]),Zon]),ncn,n("h3",scn,[acn,ecn,n("a",tcn,[pcn,e(a)]),ocn]),ccn,n("h2",lcn,[rcn,icn,n("a",ucn,[kcn,e(a)]),dcn]),bcn,n("h3",mcn,[hcn,_cn,n("a",gcn,[Ecn,e(a)]),fcn]),vcn,n("h3",wcn,[ycn,xcn,n("a",Acn,[Bcn,e(a)]),qcn]),jcn,n("h3",Scn,[Ccn,Dcn,n("a",Fcn,[Pcn,e(a)]),Tcn]),Ncn,n("h3",Mcn,[Ocn,Icn,n("a",Rcn,[Vcn,e(a)]),Hcn]),Lcn,n("h3",Ucn,[Jcn,Wcn,n("a",zcn,[Gcn,e(a)]),$cn]),Xcn,n("h3",Kcn,[Qcn,Ycn,n("a",Zcn,[nln,e(a)]),sln]),aln,n("h3",eln,[tln,pln,n("a",oln,[cln,e(a)]),lln]),rln,n("h3",iln,[uln,kln,n("a",dln,[bln,e(a)]),mln]),hln,n("h2",_ln,[gln,Eln,n("a",fln,[vln,e(a)]),wln]),yln,n("h2",xln,[Aln,Bln,n("a",qln,[jln,e(a)]),Sln]),Cln,n("h2",Dln,[Fln,Pln,n("a",Tln,[Nln,e(a)]),Mln]),Oln,n("h3",Iln,[Rln,Vln,n("a",Hln,[Lln,e(a)]),Uln]),Jln,n("h3",Wln,[zln,Gln,n("a",$ln,[Xln,e(a)]),Kln]),Qln,n("h2",Yln,[Zln,nrn,n("a",srn,[arn,e(a)]),ern]),n("h3",trn,[prn,orn,n("a",crn,[lrn,e(a)]),rrn]),irn,urn,n("h3",krn,[drn,brn,n("a",mrn,[hrn,e(a)]),_rn]),grn,n("h2",Ern,[frn,vrn,n("a",wrn,[yrn,e(a)]),xrn]),Arn,n("h2",Brn,[qrn,jrn,n("a",Srn,[Crn,e(a)]),Drn]),Frn,n("h2",Prn,[Trn,Nrn,n("a",Mrn,[Orn,e(a)]),Irn]),n("h3",Rrn,[Vrn,Hrn,n("a",Lrn,[Urn,e(a)]),Jrn]),Wrn,n("h3",zrn,[Grn,$rn,n("a",Xrn,[Krn,e(a)]),Qrn]),Yrn,n("h3",Zrn,[nin,sin,n("a",ain,[ein,e(a)]),tin]),pin,n("h2",oin,[cin,lin,n("a",rin,[iin,e(a)]),uin]),n("h3",kin,[din,bin,n("a",min,[hin,e(a)]),_in]),gin,n("h3",Ein,[fin,vin,n("a",win,[yin,e(a)]),xin]),Ain,n("h3",Bin,[qin,jin,n("a",Sin,[Cin,e(a)]),Din]),Fin,n("h3",Pin,[Tin,Nin,n("a",Min,[Oin,e(a)]),Iin]),Rin,n("h3",Vin,[Hin,Lin,n("a",Uin,[Jin,e(a)]),Win]),zin,n("h2",Gin,[$in,Xin,n("a",Kin,[Qin,e(a)]),Yin]),n("h3",Zin,[nun,sun,n("a",aun,[eun,e(a)]),tun]),pun,oun,n("h3",cun,[lun,run,n("a",iun,[uun,e(a)]),kun]),dun,bun,n("h3",mun,[hun,_un,n("a",gun,[Eun,e(a)]),fun]),vun,n("h2",wun,[yun,xun,n("a",Aun,[Bun,e(a)]),qun]),jun,n("h2",Sun,[Cun,Dun,n("a",Fun,[Pun,e(a)]),Tun]),n("h3",Nun,[Mun,Oun,n("a",Iun,[Run,e(a)]),Vun]),Hun,n("h3",Lun,[Uun,Jun,n("a",Wun,[zun,e(a)]),Gun]),$un,n("h2",Xun,[Kun,Qun,n("a",Yun,[Zun,e(a)]),nkn]),n("h3",skn,[akn,ekn,n("a",tkn,[pkn,e(a)]),okn]),ckn,lkn,n("h3",rkn,[ikn,ukn,n("a",kkn,[dkn,e(a)]),bkn]),mkn,n("h3",hkn,[_kn,gkn,n("a",Ekn,[fkn,e(a)]),vkn]),wkn,n("h3",ykn,[xkn,Akn,n("a",Bkn,[qkn,e(a)]),jkn]),Skn,Ckn,n("h3",Dkn,[Fkn,Pkn,n("a",Tkn,[Nkn,e(a)]),Mkn]),Okn,n("h3",Ikn,[Rkn,Vkn,n("a",Hkn,[Lkn,e(a)]),Ukn]),Jkn,n("h2",Wkn,[zkn,Gkn,n("a",$kn,[Xkn,e(a)]),Kkn]),n("h3",Qkn,[Ykn,Zkn,n("a",ndn,[sdn,e(a)]),adn]),edn,n("h3",tdn,[pdn,odn,n("a",cdn,[ldn,e(a)]),rdn]),idn,n("h3",udn,[kdn,ddn,n("a",bdn,[mdn,e(a)]),hdn]),_dn,gdn,Edn,n("h3",fdn,[vdn,wdn,n("a",ydn,[xdn,e(a)]),Adn]),Bdn,n("h3",qdn,[jdn,Sdn,n("a",Cdn,[Ddn,e(a)]),Fdn]),Pdn,n("h2",Tdn,[Ndn,Mdn,n("a",Odn,[Idn,e(a)]),Rdn]),Vdn,Hdn,Ldn,n("h3",Udn,[Jdn,Wdn,n("a",zdn,[Gdn,e(a)]),$dn]),Xdn,Kdn,Qdn,n("h3",Ydn,[Zdn,nbn,n("a",sbn,[abn,e(a)]),ebn]),tbn,n("h3",pbn,[obn,cbn,n("a",lbn,[rbn,e(a)]),ibn]),ubn,n("h3",kbn,[dbn,bbn,n("a",mbn,[hbn,e(a)]),_bn]),gbn,n("h3",Ebn,[fbn,vbn,n("a",wbn,[ybn,e(a)]),xbn]),Abn,Bbn,qbn,jbn,n("h3",Sbn,[Cbn,Dbn,n("a",Fbn,[Pbn,e(a)]),Tbn]),Nbn,n("h3",Mbn,[Obn,Ibn,n("a",Rbn,[Vbn,e(a)]),Hbn]),Lbn,Ubn,Jbn,n("h3",Wbn,[zbn,Gbn,n("a",$bn,[Xbn,e(a)]),Kbn]),Qbn,n("h3",Ybn,[Zbn,nmn,n("a",smn,[amn,e(a)]),emn]),tmn,n("h3",pmn,[omn,cmn,n("a",lmn,[rmn,e(a)]),imn]),umn,kmn,dmn,n("h3",bmn,[mmn,hmn,n("a",_mn,[gmn,e(a)]),Emn]),fmn,vmn,wmn,ymn,xmn,Amn,n("h3",Bmn,[qmn,jmn,n("a",Smn,[Cmn,e(a)]),Dmn]),Fmn,n("h3",Pmn,[Tmn,Nmn,n("a",Mmn,[Omn,e(a)]),Imn]),Rmn,Vmn,Hmn,Lmn,n("h3",Umn,[Jmn,Wmn,n("a",zmn,[Gmn,e(a)]),$mn]),Xmn,n("h3",Kmn,[Qmn,Ymn,n("a",Zmn,[nhn,e(a)]),shn]),ahn,n("h3",ehn,[thn,phn,n("a",ohn,[chn,e(a)]),lhn]),rhn,ihn,n("h3",uhn,[khn,dhn,n("a",bhn,[mhn,e(a)]),hhn]),_hn,ghn,Ehn,fhn,n("h3",vhn,[whn,yhn,n("a",xhn,[Ahn,e(a)]),Bhn]),qhn,jhn,Shn,Chn,Dhn,n("h3",Fhn,[Phn,Thn,n("a",Nhn,[Mhn,e(a)]),Ohn]),Ihn,n("h3",Rhn,[Vhn,Hhn,n("a",Lhn,[Uhn,e(a)]),Jhn]),Whn,n("h2",zhn,[Ghn,$hn,n("a",Xhn,[Khn,e(a)]),Qhn]),Yhn,n("h3",Zhn,[n_n,s_n,n("a",a_n,[e_n,e(a)]),t_n]),p_n,n("h3",o_n,[c_n,l_n,n("a",r_n,[i_n,e(a)]),u_n]),k_n,n("h3",d_n,[b_n,m_n,n("a",h_n,[__n,e(a)]),g_n]),E_n,n("h2",f_n,[v_n,w_n,n("a",y_n,[x_n,e(a)]),A_n]),n("h3",B_n,[q_n,j_n,n("a",S_n,[C_n,e(a)]),D_n]),F_n,n("h3",P_n,[T_n,N_n,n("a",M_n,[O_n,e(a)]),I_n]),R_n,n("h3",V_n,[H_n,L_n,n("a",U_n,[J_n,e(a)]),W_n]),z_n,n("h2",G_n,[$_n,X_n,n("a",K_n,[Q_n,e(a)]),Y_n]),Z_n,n1n,s1n,n("h2",a1n,[e1n,t1n,n("a",p1n,[o1n,e(a)]),c1n]),l1n,n("h2",r1n,[i1n,u1n,n("a",k1n,[d1n,e(a)]),b1n]),m1n,n("h2",h1n,[_1n,g1n,n("a",E1n,[f1n,e(a)]),v1n]),w1n,n("h2",y1n,[x1n,A1n,n("a",B1n,[q1n,e(a)]),j1n]),S1n,n("h2",C1n,[D1n,F1n,n("a",P1n,[T1n,e(a)]),N1n]),M1n,n("h2",O1n,[I1n,R1n,n("a",V1n,[H1n,e(a)]),L1n]),U1n,n("h2",J1n,[W1n,z1n,n("a",G1n,[$1n,e(a)]),X1n]),K1n,Q1n,Y1n,n("h2",Z1n,[ngn,sgn,n("a",agn,[egn,e(a)]),tgn]),pgn,n("h2",ogn,[cgn,lgn,n("a",rgn,[ign,e(a)]),ugn]),kgn,dgn,n("h2",bgn,[mgn,hgn,n("a",_gn,[ggn,e(a)]),Egn]),fgn,vgn,n("ol",null,[wgn,ygn,n("li",null,[xgn,n("a",Agn,[Bgn,e(a)]),qgn,n("a",jgn,[Sgn,e(a)]),Cgn,n("a",Dgn,[Fgn,e(a)]),Pgn]),n("li",null,[Tgn,n("a",Ngn,[Mgn,e(a)]),Ogn,n("a",Ign,[Rgn,e(a)]),Vgn,n("a",Hgn,[Lgn,e(a)]),Ugn,n("a",Jgn,[Wgn,e(a)]),zgn,n("a",Ggn,[$gn,e(a)]),Xgn]),n("li",null,[Kgn,n("a",Qgn,[Ygn,e(a)]),Zgn,n("a",n8n,[s8n,e(a)]),a8n])]),e8n,n("h3",t8n,[p8n,o8n,n("a",c8n,[l8n,e(a)]),r8n]),i8n,n("h2",u8n,[k8n,d8n,n("a",b8n,[m8n,e(a)]),h8n]),_8n,g8n,E8n,n("h3",f8n,[v8n,w8n,n("a",y8n,[x8n,e(a)]),A8n]),B8n,n("h2",q8n,[j8n,S8n,n("a",C8n,[D8n,e(a)]),F8n]),P8n,n("p",null,[T8n,N8n,n("a",M8n,[O8n,I8n,e(a)]),R8n]),n("h3",V8n,[H8n,L8n,n("a",U8n,[J8n,e(a)]),W8n]),z8n,n("ul",null,[G8n,n("li",null,[$8n,n("a",X8n,[K8n,Q8n,e(a)]),Y8n,n("a",Z8n,[nEn,sEn,e(a)]),aEn,n("a",eEn,[tEn,pEn,e(a)]),oEn]),n("li",null,[cEn,n("a",lEn,[rEn,iEn,e(a)]),uEn])]),kEn,n("h3",dEn,[bEn,mEn,n("a",hEn,[_En,e(a)]),gEn]),EEn,n("h3",fEn,[vEn,wEn,n("a",yEn,[xEn,e(a)]),AEn]),BEn,n("h3",qEn,[jEn,SEn,n("a",CEn,[DEn,e(a)]),FEn]),PEn,n("h3",TEn,[NEn,MEn,n("a",OEn,[IEn,e(a)]),REn]),n("p",null,[VEn,n("a",HEn,[LEn,UEn,e(a)]),JEn,n("a",WEn,[zEn,e(a)]),GEn,$En,XEn,KEn,QEn]),YEn,n("h3",ZEn,[n9n,s9n,n("a",a9n,[e9n,e(a)]),t9n]),p9n,n("h2",o9n,[c9n,l9n,n("a",r9n,[i9n,e(a)]),u9n]),k9n,n("h2",d9n,[b9n,m9n,n("a",h9n,[_9n,e(a)]),g9n]),E9n,n("h2",f9n,[v9n,w9n,n("a",y9n,[x9n,e(a)]),A9n]),B9n,n("h2",q9n,[j9n,S9n,n("a",C9n,[D9n,e(a)]),F9n]),P9n,n("h2",T9n,[N9n,M9n,n("a",O9n,[I9n,e(a)]),R9n]),V9n,H9n,L9n,U9n,n("p",null,[J9n,n("a",W9n,[z9n,e(a)]),G9n]),$9n,X9n,K9n,Q9n,Y9n,n("h2",Z9n,[nfn,sfn,n("a",afn,[efn,e(a)]),tfn]),pfn,n("h3",ofn,[cfn,lfn,n("a",rfn,[ifn,e(a)]),ufn]),kfn,n("h3",dfn,[bfn,mfn,n("a",hfn,[_fn,e(a)]),gfn]),Efn,n("h2",ffn,[vfn,wfn,n("a",yfn,[xfn,e(a)]),Afn]),Bfn,n("h3",qfn,[jfn,Sfn,n("a",Cfn,[Dfn,e(a)]),Ffn]),Pfn,n("h3",Tfn,[Nfn,Mfn,n("a",Ofn,[Ifn,e(a)]),Rfn]),Vfn,n("h3",Hfn,[Lfn,Ufn,n("a",Jfn,[Wfn,e(a)]),zfn]),Gfn,n("h3",$fn,[Xfn,Kfn,n("a",Qfn,[Yfn,e(a)]),Zfn]),n3n,n("h2",s3n,[a3n,e3n,n("a",t3n,[p3n,e(a)]),o3n]),c3n,n("h3",l3n,[r3n,i3n,n("a",u3n,[k3n,e(a)]),d3n]),b3n,n("h3",m3n,[h3n,_3n,n("a",g3n,[E3n,e(a)]),f3n]),v3n,n("h3",w3n,[y3n,x3n,n("a",A3n,[B3n,e(a)]),q3n]),j3n,n("h3",S3n,[C3n,D3n,n("a",F3n,[P3n,e(a)]),T3n]),N3n,n("h3",M3n,[O3n,I3n,n("a",R3n,[V3n,e(a)]),H3n]),L3n,n("h3",U3n,[J3n,W3n,n("a",z3n,[G3n,e(a)]),$3n]),X3n,n("blockquote",null,[n("p",null,[K3n,n("a",Q3n,[Y3n,e(a)]),Z3n,n2n,s2n,a2n,e2n])]),n("h2",t2n,[p2n,o2n,n("a",c2n,[l2n,e(a)]),r2n]),n("h3",i2n,[u2n,k2n,n("a",d2n,[b2n,e(a)]),m2n]),h2n,n("h3",_2n,[g2n,E2n,n("a",f2n,[v2n,e(a)]),w2n]),n("blockquote",null,[n("p",null,[y2n,x2n,A2n,n("a",B2n,[q2n,e(a)]),j2n,S2n,C2n])]),D2n,n("blockquote",null,[n("p",null,[F2n,n("a",P2n,[T2n,e(a)]),N2n,n("a",M2n,[O2n,e(a)]),I2n])]),R2n,n("blockquote",null,[n("p",null,[V2n,n("a",H2n,[L2n,U2n,e(a)]),J2n,W2n,z2n])]),G2n,n("blockquote",null,[n("p",null,[$2n,n("a",X2n,[K2n,e(a)]),Q2n])]),Y2n,n("h2",Z2n,[nvn,svn,n("a",avn,[evn,e(a)]),tvn]),pvn,ovn,n("h3",cvn,[lvn,rvn,n("a",ivn,[uvn,e(a)]),kvn]),dvn,n("h3",bvn,[mvn,hvn,n("a",_vn,[gvn,e(a)]),Evn]),fvn,n("h3",vvn,[wvn,yvn,n("a",xvn,[Avn,e(a)]),Bvn]),qvn,n("h3",jvn,[Svn,Cvn,n("a",Dvn,[Fvn,e(a)]),Pvn]),Tvn,n("h3",Nvn,[Mvn,Ovn,n("a",Ivn,[Rvn,e(a)]),Vvn]),Hvn,n("h2",Lvn,[Uvn,Jvn,n("a",Wvn,[zvn,e(a)]),Gvn]),$vn,n("h3",Xvn,[Kvn,Qvn,n("a",Yvn,[Zvn,e(a)]),n5n]),s5n,n("h3",a5n,[e5n,t5n,n("a",p5n,[o5n,e(a)]),c5n]),l5n,n("h3",r5n,[i5n,u5n,n("a",k5n,[d5n,e(a)]),b5n]),m5n,n("h3",h5n,[_5n,g5n,n("a",E5n,[f5n,e(a)]),v5n]),w5n,y5n,x5n,A5n,B5n,q5n,n("h2",j5n,[S5n,C5n,n("a",D5n,[F5n,e(a)]),P5n]),n("h3",T5n,[N5n,M5n,n("a",O5n,[I5n,e(a)]),R5n]),V5n,n("h3",H5n,[L5n,U5n,n("a",J5n,[W5n,e(a)]),z5n]),G5n,n("h3",$5n,[X5n,K5n,n("a",Q5n,[Y5n,e(a)]),Z5n]),n6n,n("h3",s6n,[a6n,e6n,n("a",t6n,[p6n,e(a)]),o6n]),c6n,n("h3",l6n,[r6n,i6n,n("a",u6n,[k6n,e(a)]),d6n]),b6n,m6n,h6n,_6n,g6n,E6n,n("h2",f6n,[v6n,w6n,n("a",y6n,[x6n,e(a)]),A6n]),B6n,q6n,j6n,n("h3",S6n,[C6n,D6n,n("a",F6n,[P6n,e(a)]),T6n]),N6n,n("h3",M6n,[O6n,I6n,n("a",R6n,[V6n,e(a)]),H6n]),L6n,n("h3",U6n,[J6n,W6n,n("a",z6n,[G6n,e(a)]),$6n]),X6n,n("p",null,[K6n,n("a",Q6n,[Y6n,e(a)]),Z6n]),n4n,s4n,n("p",null,[a4n,n("a",e4n,[t4n,e(a)]),p4n,n("a",o4n,[c4n,e(a)]),l4n]),r4n,n("h3",i4n,[u4n,k4n,n("a",d4n,[b4n,e(a)]),m4n]),h4n,n("blockquote",null,[n("p",null,[_4n,g4n,E4n,f4n,v4n,n("a",w4n,[y4n,e(a)]),x4n])]),n("h3",A4n,[B4n,q4n,n("a",j4n,[S4n,e(a)]),C4n]),D4n,n("h2",F4n,[P4n,T4n,n("a",N4n,[M4n,e(a)]),O4n]),I4n,R4n,n("h3",V4n,[H4n,L4n,n("a",U4n,[J4n,e(a)]),W4n]),z4n,n("h3",G4n,[$4n,X4n,n("a",K4n,[Q4n,e(a)]),Y4n]),Z4n,n("p",null,[nwn,n("a",swn,[awn,e(a)]),ewn]),n("h3",twn,[pwn,own,n("a",cwn,[lwn,e(a)]),rwn]),iwn,n("h2",uwn,[kwn,dwn,n("a",bwn,[mwn,e(a)]),hwn]),_wn,n("h2",gwn,[Ewn,fwn,n("a",vwn,[wwn,e(a)]),ywn]),xwn,n("h2",Awn,[Bwn,qwn,n("a",jwn,[Swn,e(a)]),Cwn]),Dwn,n("h2",Fwn,[Pwn,Twn,n("a",Nwn,[Mwn,e(a)]),Own]),Iwn,n("h2",Rwn,[Vwn,Hwn,n("a",Lwn,[Uwn,e(a)]),Jwn]),n("h3",Wwn,[zwn,Gwn,n("a",$wn,[Xwn,e(a)]),Kwn]),Qwn,n("p",null,[Ywn,Zwn,nyn,syn,ayn,eyn,tyn,pyn,oyn,cyn,lyn,ryn,iyn,n("a",uyn,[kyn,e(a)]),dyn]),byn,n("h3",myn,[hyn,_yn,n("a",gyn,[Eyn,e(a)]),fyn]),vyn,n("h3",wyn,[yyn,xyn,n("a",Ayn,[Byn,e(a)]),qyn]),n("p",null,[jyn,Syn,Cyn,Dyn,n("a",Fyn,[Pyn,e(a)]),Tyn,Nyn,Myn,Oyn,Iyn]),Ryn,n("h2",Vyn,[Hyn,Lyn,n("a",Uyn,[Jyn,e(a)]),Wyn]),zyn,n("h3",Gyn,[$yn,Xyn,n("a",Kyn,[Qyn,e(a)]),Yyn]),Zyn,n("h3",n7n,[s7n,a7n,n("a",e7n,[t7n,e(a)]),p7n]),n("h4",o7n,[c7n,l7n,n("a",r7n,[i7n,e(a)]),u7n]),k7n,n("h4",d7n,[b7n,m7n,n("a",h7n,[_7n,e(a)]),g7n]),E7n,n("h2",f7n,[v7n,w7n,n("a",y7n,[x7n,e(a)]),A7n]),B7n,n("h3",q7n,[j7n,S7n,n("a",C7n,[D7n,e(a)]),F7n]),P7n,n("h2",T7n,[N7n,M7n,n("a",O7n,[I7n,e(a)]),R7n]),V7n,n("h3",H7n,[L7n,U7n,n("a",J7n,[W7n,e(a)]),z7n]),G7n,n("h3",$7n,[X7n,K7n,n("a",Q7n,[Y7n,e(a)]),Z7n]),n("h4",nxn,[sxn,axn,n("a",exn,[txn,e(a)]),pxn]),oxn,n("h2",cxn,[lxn,rxn,n("a",ixn,[uxn,e(a)]),kxn]),dxn,n("h2",bxn,[mxn,hxn,n("a",_xn,[gxn,e(a)]),Exn]),fxn,n("h2",vxn,[wxn,yxn,n("a",xxn,[Axn,e(a)]),Bxn]),qxn,n("h3",jxn,[Sxn,Cxn,n("a",Dxn,[Fxn,e(a)]),Pxn]),Txn,n("h3",Nxn,[Mxn,Oxn,n("a",Ixn,[Rxn,e(a)]),Vxn]),Hxn,n("h2",Lxn,[Uxn,Jxn,n("a",Wxn,[zxn,e(a)]),Gxn]),$xn,n("h3",Xxn,[Kxn,Qxn,n("a",Yxn,[Zxn,e(a)]),n0n]),s0n,n("h2",a0n,[e0n,t0n,n("a",p0n,[o0n,e(a)]),c0n]),l0n,n("h3",r0n,[i0n,u0n,n("a",k0n,[d0n,e(a)]),b0n]),m0n,n("h2",h0n,[_0n,g0n,n("a",E0n,[f0n,e(a)]),v0n]),w0n,n("h2",y0n,[x0n,A0n,n("a",B0n,[q0n,e(a)]),j0n]),S0n,n("h2",C0n,[D0n,F0n,n("a",P0n,[T0n,e(a)]),N0n]),n("h3",M0n,[O0n,I0n,n("a",R0n,[V0n,e(a)]),H0n]),L0n,n("h3",U0n,[J0n,W0n,n("a",z0n,[G0n,e(a)]),$0n]),X0n,n("h3",K0n,[Q0n,Y0n,n("a",Z0n,[nAn,e(a)]),sAn]),aAn,n("h3",eAn,[tAn,pAn,n("a",oAn,[cAn,e(a)]),lAn]),rAn,n("h2",iAn,[uAn,kAn,n("a",dAn,[bAn,e(a)]),mAn]),n("h3",hAn,[_An,gAn,n("a",EAn,[fAn,e(a)]),vAn]),wAn,n("h3",yAn,[xAn,AAn,n("a",BAn,[qAn,e(a)]),jAn]),SAn,n("h3",CAn,[DAn,FAn,n("a",PAn,[TAn,e(a)]),NAn]),MAn,n("h3",OAn,[IAn,RAn,n("a",VAn,[HAn,e(a)]),LAn]),UAn,n("h3",JAn,[WAn,zAn,n("a",GAn,[$An,e(a)]),XAn]),KAn,n("h2",QAn,[YAn,ZAn,n("a",nBn,[sBn,e(a)]),aBn]),n("h3",eBn,[tBn,pBn,n("a",oBn,[cBn,e(a)]),lBn]),rBn,n("h3",iBn,[uBn,kBn,n("a",dBn,[bBn,e(a)]),mBn]),hBn,n("h3",_Bn,[gBn,EBn,n("a",fBn,[vBn,e(a)]),wBn]),yBn,n("h3",xBn,[ABn,BBn,n("a",qBn,[jBn,e(a)]),SBn]),CBn,n("h3",DBn,[FBn,PBn,n("a",TBn,[NBn,e(a)]),MBn]),OBn],64)}var UBn=i(u,[["render",IBn]]);export{UBn as default};
