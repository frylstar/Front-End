import{r as t,o,c,a as n,e as p,F as l,b as s,d as e}from"./app.aacdb10a.js";import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";const r={},i=n("h1",{id:"\u9AD8\u9891\u8003\u70B9",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u9AD8\u9891\u8003\u70B9","aria-hidden":"true"},"#"),s(" \u9AD8\u9891\u8003\u70B9")],-1),k={id:"_1-typeof\u7C7B\u578B\u5224\u65AD",tabindex:"-1"},d=n("a",{class:"header-anchor",href:"#_1-typeof\u7C7B\u578B\u5224\u65AD","aria-hidden":"true"},"#",-1),b=s(),m={href:"http://interview.poetries.top/docs/excellent.html#_1-typeof%E7%B1%BB%E5%9E%8B%E5%88%A4%E6%96%AD",target:"_blank",rel:"noopener noreferrer"},h=s("#"),g=s("1 typeof\u7C7B\u578B\u5224\u65AD"),_=e(`<blockquote><p><code>typeof</code> \u662F\u5426\u80FD\u6B63\u786E\u5224\u65AD\u7C7B\u578B\uFF1F<code>instanceof</code> \u80FD\u6B63\u786E\u5224\u65AD\u5BF9\u8C61\u7684\u539F\u7406\u662F\u4EC0\u4E48</p></blockquote><ul><li><code>typeof</code> \u5BF9\u4E8E\u539F\u59CB\u7C7B\u578B\u6765\u8BF4\uFF0C\u9664\u4E86 <code>null</code> \u90FD\u53EF\u4EE5\u663E\u793A\u6B63\u786E\u7684\u7C7B\u578B</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">typeof</span> <span class="token number">1</span> <span class="token comment">// &#39;number&#39;</span>
<span class="token keyword">typeof</span> <span class="token string">&#39;1&#39;</span> <span class="token comment">// &#39;string&#39;</span>
<span class="token keyword">typeof</span> <span class="token keyword">undefined</span> <span class="token comment">// &#39;undefined&#39;</span>
<span class="token keyword">typeof</span> <span class="token boolean">true</span> <span class="token comment">// &#39;boolean&#39;</span>
<span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &#39;symbol&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p><code>typeof</code> \u5BF9\u4E8E\u5BF9\u8C61\u6765\u8BF4\uFF0C\u9664\u4E86\u51FD\u6570\u90FD\u4F1A\u663E\u793A <code>object</code>\uFF0C\u6240\u4EE5\u8BF4 <code>typeof</code> \u5E76\u4E0D\u80FD\u51C6\u786E\u5224\u65AD\u53D8\u91CF\u5230\u5E95\u662F\u4EC0\u4E48\u7C7B\u578B</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// &#39;object&#39;</span>
<span class="token keyword">typeof</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// &#39;object&#39;</span>
<span class="token keyword">typeof</span> console<span class="token punctuation">.</span>log <span class="token comment">// &#39;function&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>\u5982\u679C\u6211\u4EEC\u60F3\u5224\u65AD\u4E00\u4E2A\u5BF9\u8C61\u7684\u6B63\u786E\u7C7B\u578B\uFF0C\u8FD9\u65F6\u5019\u53EF\u4EE5\u8003\u8651\u4F7F\u7528 <code>instanceof</code>\uFF0C\u56E0\u4E3A\u5185\u90E8\u673A\u5236\u662F\u901A\u8FC7\u539F\u578B\u94FE\u6765\u5224\u65AD\u7684</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
p1 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span> <span class="token comment">// true</span>

<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&#39;hello world&#39;</span>
str <span class="token keyword">instanceof</span> <span class="token class-name">String</span> <span class="token comment">// false</span>

<span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&#39;hello world&#39;</span><span class="token punctuation">)</span>
str1 <span class="token keyword">instanceof</span> <span class="token class-name">String</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u539F\u59CB\u7C7B\u578B\u6765\u8BF4\uFF0C\u4F60\u60F3\u76F4\u63A5\u901A\u8FC7 <code>instanceof</code>\u6765\u5224\u65AD\u7C7B\u578B\u662F\u4E0D\u884C\u7684</p></blockquote>`,8),f={id:"_2-\u7C7B\u578B\u8F6C\u6362",tabindex:"-1"},y=n("a",{class:"header-anchor",href:"#_2-\u7C7B\u578B\u8F6C\u6362","aria-hidden":"true"},"#",-1),v=s(),w={href:"http://interview.poetries.top/docs/excellent.html#_2-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2",target:"_blank",rel:"noopener noreferrer"},x=s("#"),q=s("2 \u7C7B\u578B\u8F6C\u6362"),E=e(`<blockquote><p>\u9996\u5148\u6211\u4EEC\u8981\u77E5\u9053\uFF0C\u5728 <code>JS</code> \u4E2D\u7C7B\u578B\u8F6C\u6362\u53EA\u6709\u4E09\u79CD\u60C5\u51B5\uFF0C\u5206\u522B\u662F\uFF1A</p></blockquote><ul><li>\u8F6C\u6362\u4E3A\u5E03\u5C14\u503C</li><li>\u8F6C\u6362\u4E3A\u6570\u5B57</li><li>\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/1.png" alt="img"></p><p><strong>\u8F6CBoolean</strong></p><blockquote><p>\u5728\u6761\u4EF6\u5224\u65AD\u65F6\uFF0C\u9664\u4E86 <code>undefined</code>\uFF0C<code>null</code>\uFF0C <code>false</code>\uFF0C <code>NaN</code>\uFF0C <code>&#39;&#39;</code>\uFF0C <code>0</code>\uFF0C <code>-0</code>\uFF0C\u5176\u4ED6\u6240\u6709\u503C\u90FD\u8F6C\u4E3A <code>true</code>\uFF0C\u5305\u62EC\u6240\u6709\u5BF9\u8C61</p></blockquote><p><strong>\u5BF9\u8C61\u8F6C\u539F\u59CB\u7C7B\u578B</strong></p><blockquote><p>\u5BF9\u8C61\u5728\u8F6C\u6362\u7C7B\u578B\u7684\u65F6\u5019\uFF0C\u4F1A\u8C03\u7528\u5185\u7F6E\u7684 <code>[[ToPrimitive]]</code> \u51FD\u6570\uFF0C\u5BF9\u4E8E\u8BE5\u51FD\u6570\u6765\u8BF4\uFF0C\u7B97\u6CD5\u903B\u8F91\u4E00\u822C\u6765\u8BF4\u5982\u4E0B</p></blockquote><ul><li>\u5982\u679C\u5DF2\u7ECF\u662F\u539F\u59CB\u7C7B\u578B\u4E86\uFF0C\u90A3\u5C31\u4E0D\u9700\u8981\u8F6C\u6362\u4E86</li><li>\u8C03\u7528 <code>x.valueOf()</code>\uFF0C\u5982\u679C\u8F6C\u6362\u4E3A\u57FA\u7840\u7C7B\u578B\uFF0C\u5C31\u8FD4\u56DE\u8F6C\u6362\u7684\u503C</li><li>\u8C03\u7528 <code>x.toString()</code>\uFF0C\u5982\u679C\u8F6C\u6362\u4E3A\u57FA\u7840\u7C7B\u578B\uFF0C\u5C31\u8FD4\u56DE\u8F6C\u6362\u7684\u503C</li><li>\u5982\u679C\u90FD\u6CA1\u6709\u8FD4\u56DE\u539F\u59CB\u7C7B\u578B\uFF0C\u5C31\u4F1A\u62A5\u9519</li></ul><blockquote><p>\u5F53\u7136\u4F60\u4E5F\u53EF\u4EE5\u91CD\u5199 <code>Symbol.toPrimitive</code>\uFF0C\u8BE5\u65B9\u6CD5\u5728\u8F6C\u539F\u59CB\u7C7B\u578B\u65F6\u8C03\u7528\u4F18\u5148\u7EA7\u6700\u9AD8\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;1&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token number">1</span> <span class="token operator">+</span> a <span class="token comment">// =&gt; 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>\u56DB\u5219\u8FD0\u7B97\u7B26</strong></p><blockquote><p>\u5B83\u6709\u4EE5\u4E0B\u51E0\u4E2A\u7279\u70B9\uFF1A</p></blockquote><ul><li>\u8FD0\u7B97\u4E2D\u5176\u4E2D\u4E00\u65B9\u4E3A\u5B57\u7B26\u4E32\uFF0C\u90A3\u4E48\u5C31\u4F1A\u628A\u53E6\u4E00\u65B9\u4E5F\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32</li><li>\u5982\u679C\u4E00\u65B9\u4E0D\u662F\u5B57\u7B26\u4E32\u6216\u8005\u6570\u5B57\uFF0C\u90A3\u4E48\u4F1A\u5C06\u5B83\u8F6C\u6362\u4E3A\u6570\u5B57\u6216\u8005\u5B57\u7B26\u4E32</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">+</span> <span class="token string">&#39;1&#39;</span> <span class="token comment">// &#39;11&#39;</span>
<span class="token boolean">true</span> <span class="token operator">+</span> <span class="token boolean">true</span> <span class="token comment">// 2</span>
<span class="token number">4</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment">// &quot;41,2,3&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>\u5BF9\u4E8E\u7B2C\u4E00\u884C\u4EE3\u7801\u6765\u8BF4\uFF0C\u89E6\u53D1\u7279\u70B9\u4E00\uFF0C\u6240\u4EE5\u5C06\u6570\u5B57 <code>1</code> \u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\uFF0C\u5F97\u5230\u7ED3\u679C <code>&#39;11&#39;</code></li><li>\u5BF9\u4E8E\u7B2C\u4E8C\u884C\u4EE3\u7801\u6765\u8BF4\uFF0C\u89E6\u53D1\u7279\u70B9\u4E8C\uFF0C\u6240\u4EE5\u5C06 <code>true</code> \u8F6C\u4E3A\u6570\u5B57 <code>1</code></li><li>\u5BF9\u4E8E\u7B2C\u4E09\u884C\u4EE3\u7801\u6765\u8BF4\uFF0C\u89E6\u53D1\u7279\u70B9\u4E8C\uFF0C\u6240\u4EE5\u5C06\u6570\u7EC4\u901A\u8FC7 <code>toString</code>\u8F6C\u4E3A\u5B57\u7B26\u4E32 <code>1,2,3</code>\uFF0C\u5F97\u5230\u7ED3\u679C <code>41,2,3</code></li></ul><blockquote><p>\u53E6\u5916\u5BF9\u4E8E\u52A0\u6CD5\u8FD8\u9700\u8981\u6CE8\u610F\u8FD9\u4E2A\u8868\u8FBE\u5F0F <code>&#39;a&#39; + + &#39;b&#39;</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&#39;a&#39; + + &#39;b&#39; // -&gt; &quot;aNaN&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u56E0\u4E3A <code>+ &#39;b&#39;</code> \u7B49\u4E8E <code>NaN</code>\uFF0C\u6240\u4EE5\u7ED3\u679C\u4E3A <code>&quot;aNaN&quot;</code>\uFF0C\u4F60\u53EF\u80FD\u4E5F\u4F1A\u5728\u4E00\u4E9B\u4EE3\u7801\u4E2D\u770B\u5230\u8FC7 <code>+ &#39;1&#39;</code>\u7684\u5F62\u5F0F\u6765\u5FEB\u901F\u83B7\u53D6 <code>number</code> \u7C7B\u578B\u3002</li><li>\u90A3\u4E48\u5BF9\u4E8E\u9664\u4E86\u52A0\u6CD5\u7684\u8FD0\u7B97\u7B26\u6765\u8BF4\uFF0C\u53EA\u8981\u5176\u4E2D\u4E00\u65B9\u662F\u6570\u5B57\uFF0C\u90A3\u4E48\u53E6\u4E00\u65B9\u5C31\u4F1A\u88AB\u8F6C\u4E3A\u6570\u5B57</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token number">4</span> <span class="token operator">*</span> <span class="token string">&#39;3&#39;</span> <span class="token comment">// 12</span>
<span class="token number">4</span> <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 0</span>
<span class="token number">4</span> <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// NaN</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>\u6BD4\u8F83\u8FD0\u7B97\u7B26</strong></p><ul><li>\u5982\u679C\u662F\u5BF9\u8C61\uFF0C\u5C31\u901A\u8FC7 <code>toPrimitive</code> \u8F6C\u6362\u5BF9\u8C61</li><li>\u5982\u679C\u662F\u5B57\u7B26\u4E32\uFF0C\u5C31\u901A\u8FC7 <code>unicode</code> \u5B57\u7B26\u7D22\u5F15\u6765\u6BD4\u8F83</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;1&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
a <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>\u5728\u4EE5\u4E0A\u4EE3\u7801\u4E2D\uFF0C\u56E0\u4E3A <code>a</code> \u662F\u5BF9\u8C61\uFF0C\u6240\u4EE5\u4F1A\u901A\u8FC7 <code>valueOf</code> \u8F6C\u6362\u4E3A\u539F\u59CB\u7C7B\u578B\u518D\u6BD4\u8F83\u503C\u3002</p></blockquote>`,23),j={id:"_3-this",tabindex:"-1"},C=n("a",{class:"header-anchor",href:"#_3-this","aria-hidden":"true"},"#",-1),S=s(),A={href:"http://interview.poetries.top/docs/excellent.html#_3-this",target:"_blank",rel:"noopener noreferrer"},B=s("#"),T=s("3 This"),P=e(`<blockquote><p>\u6211\u4EEC\u5148\u6765\u770B\u51E0\u4E2A\u51FD\u6570\u8C03\u7528\u7684\u573A\u666F</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> foo
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>\u5BF9\u4E8E\u76F4\u63A5\u8C03\u7528 <code>foo</code> \u6765\u8BF4\uFF0C\u4E0D\u7BA1 <code>foo</code> \u51FD\u6570\u88AB\u653E\u5728\u4E86\u4EC0\u4E48\u5730\u65B9\uFF0C<code>this</code> \u4E00\u5B9A\u662F<code>window</code></li><li>\u5BF9\u4E8E <code>obj.foo()</code> \u6765\u8BF4\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u8BB0\u4F4F\uFF0C\u8C01\u8C03\u7528\u4E86\u51FD\u6570\uFF0C\u8C01\u5C31\u662F <code>this</code>\uFF0C\u6240\u4EE5\u5728\u8FD9\u4E2A\u573A\u666F\u4E0B <code>foo</code> \u51FD\u6570\u4E2D\u7684 <code>this</code> \u5C31\u662F <code>obj</code> \u5BF9\u8C61</li><li>\u5BF9\u4E8E <code>new</code> \u7684\u65B9\u5F0F\u6765\u8BF4\uFF0C<code>this</code> \u88AB\u6C38\u8FDC\u7ED1\u5B9A\u5728\u4E86 <code>c</code> \u4E0A\u9762\uFF0C\u4E0D\u4F1A\u88AB\u4EFB\u4F55\u65B9\u5F0F\u6539\u53D8 <code>this</code></li></ul><blockquote><p>\u8BF4\u5B8C\u4E86\u4EE5\u4E0A\u51E0\u79CD\u60C5\u51B5\uFF0C\u5176\u5B9E\u5F88\u591A\u4EE3\u7801\u4E2D\u7684 <code>this</code> \u5E94\u8BE5\u5C31\u6CA1\u4EC0\u4E48\u95EE\u9898\u4E86\uFF0C\u4E0B\u9762\u8BA9\u6211\u4EEC\u770B\u770B\u7BAD\u5934\u51FD\u6570\u4E2D\u7684 <code>this</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>\u9996\u5148\u7BAD\u5934\u51FD\u6570\u5176\u5B9E\u662F\u6CA1\u6709 <code>this</code> \u7684\uFF0C\u7BAD\u5934\u51FD\u6570\u4E2D\u7684 <code>this</code> \u53EA\u53D6\u51B3\u5305\u88F9\u7BAD\u5934\u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u666E\u901A\u51FD\u6570\u7684 <code>this</code>\u3002\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u56E0\u4E3A\u5305\u88F9\u7BAD\u5934\u51FD\u6570\u7684\u7B2C\u4E00\u4E2A\u666E\u901A\u51FD\u6570\u662F <code>a</code>\uFF0C\u6240\u4EE5\u6B64\u65F6\u7684 <code>this</code> \u662F <code>window</code>\u3002\u53E6\u5916\u5BF9\u7BAD\u5934\u51FD\u6570\u4F7F\u7528 <code>bind</code>\u8FD9\u7C7B\u51FD\u6570\u662F\u65E0\u6548\u7684\u3002</li><li>\u6700\u540E\u79CD\u60C5\u51B5\u4E5F\u5C31\u662F <code>bind</code> \u8FD9\u4E9B\u6539\u53D8\u4E0A\u4E0B\u6587\u7684 <code>API</code> \u4E86\uFF0C\u5BF9\u4E8E\u8FD9\u4E9B\u51FD\u6570\u6765\u8BF4\uFF0C<code>this</code> \u53D6\u51B3\u4E8E\u7B2C\u4E00\u4E2A\u53C2\u6570\uFF0C\u5982\u679C\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E3A\u7A7A\uFF0C\u90A3\u4E48\u5C31\u662F <code>window</code>\u3002</li><li>\u90A3\u4E48\u8BF4\u5230 <code>bind</code>\uFF0C\u4E0D\u77E5\u9053\u5927\u5BB6\u662F\u5426\u8003\u8651\u8FC7\uFF0C\u5982\u679C\u5BF9\u4E00\u4E2A\u51FD\u6570\u8FDB\u884C\u591A\u6B21 <code>bind</code>\uFF0C\u90A3\u4E48\u4E0A\u4E0B\u6587\u4F1A\u662F\u4EC0\u4E48\u5462\uFF1F</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; ?</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>\u5982\u679C\u4F60\u8BA4\u4E3A\u8F93\u51FA\u7ED3\u679C\u662F <code>a</code>\uFF0C\u90A3\u4E48\u4F60\u5C31\u9519\u4E86\uFF0C\u5176\u5B9E\u6211\u4EEC\u53EF\u4EE5\u628A\u4E0A\u8FF0\u4EE3\u7801\u8F6C\u6362\u6210\u53E6\u4E00\u79CD\u5F62\u5F0F</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// fn.bind().bind(a) \u7B49\u4E8E</span>
<span class="token keyword">let</span> <span class="token function-variable function">fn2</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>\u53EF\u4EE5\u4ECE\u4E0A\u8FF0\u4EE3\u7801\u4E2D\u53D1\u73B0\uFF0C\u4E0D\u7BA1\u6211\u4EEC\u7ED9\u51FD\u6570 <code>bind</code> \u51E0\u6B21\uFF0C<code>fn</code> \u4E2D\u7684 <code>this</code> \u6C38\u8FDC\u7531\u7B2C\u4E00\u6B21 <code>bind</code> \u51B3\u5B9A\uFF0C\u6240\u4EE5\u7ED3\u679C\u6C38\u8FDC\u662F <code>window</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;poetries&#39;</span> <span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; &#39;poetries&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u5C31\u662F <code>this</code> \u7684\u89C4\u5219\u4E86\uFF0C\u4F46\u662F\u53EF\u80FD\u4F1A\u53D1\u751F\u591A\u4E2A\u89C4\u5219\u540C\u65F6\u51FA\u73B0\u7684\u60C5\u51B5\uFF0C\u8FD9\u65F6\u5019\u4E0D\u540C\u7684\u89C4\u5219\u4E4B\u95F4\u4F1A\u6839\u636E\u4F18\u5148\u7EA7\u6700\u9AD8\u7684\u6765\u51B3\u5B9A <code>this</code> \u6700\u7EC8\u6307\u5411\u54EA\u91CC\u3002</p></blockquote><blockquote><p>\u9996\u5148\uFF0C<code>new</code> \u7684\u65B9\u5F0F\u4F18\u5148\u7EA7\u6700\u9AD8\uFF0C\u63A5\u4E0B\u6765\u662F <code>bind</code> \u8FD9\u4E9B\u51FD\u6570\uFF0C\u7136\u540E\u662F <code>obj.foo()</code> \u8FD9\u79CD\u8C03\u7528\u65B9\u5F0F\uFF0C\u6700\u540E\u662F <code>foo</code> \u8FD9\u79CD\u8C03\u7528\u65B9\u5F0F\uFF0C\u540C\u65F6\uFF0C\u7BAD\u5934\u51FD\u6570\u7684 <code>this</code> \u4E00\u65E6\u88AB\u7ED1\u5B9A\uFF0C\u5C31\u4E0D\u4F1A\u518D\u88AB\u4EFB\u4F55\u65B9\u5F0F\u6240\u6539\u53D8\u3002</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/2.png" alt="image.png"></p>`,14),D={id:"_4-\u548C-\u6709\u4EC0\u4E48\u533A\u522B",tabindex:"-1"},M=n("a",{class:"header-anchor",href:"#_4-\u548C-\u6709\u4EC0\u4E48\u533A\u522B","aria-hidden":"true"},"#",-1),O=s(),R={href:"http://interview.poetries.top/docs/excellent.html#_4-%E5%92%8C-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},F=s("#"),N=s("4 == \u548C === \u6709\u4EC0\u4E48\u533A\u522B"),L=e(`<blockquote><p>\u5BF9\u4E8E <code>==</code> \u6765\u8BF4\uFF0C\u5982\u679C\u5BF9\u6BD4\u53CC\u65B9\u7684\u7C7B\u578B\u4E0D\u4E00\u6837\u7684\u8BDD\uFF0C\u5C31\u4F1A\u8FDB\u884C\u7C7B\u578B\u8F6C\u6362</p></blockquote><p><strong>\u5047\u5982\u6211\u4EEC\u9700\u8981\u5BF9\u6BD4 x \u548C y \u662F\u5426\u76F8\u540C\uFF0C\u5C31\u4F1A\u8FDB\u884C\u5982\u4E0B\u5224\u65AD\u6D41\u7A0B</strong></p><ol><li>\u9996\u5148\u4F1A\u5224\u65AD\u4E24\u8005\u7C7B\u578B\u662F\u5426\u76F8\u540C\u3002\u76F8\u540C\u7684\u8BDD\u5C31\u662F\u6BD4\u5927\u5C0F\u4E86</li><li>\u7C7B\u578B\u4E0D\u76F8\u540C\u7684\u8BDD\uFF0C\u90A3\u4E48\u5C31\u4F1A\u8FDB\u884C\u7C7B\u578B\u8F6C\u6362</li><li>\u4F1A\u5148\u5224\u65AD\u662F\u5426\u5728\u5BF9\u6BD4 <code>null</code> \u548C <code>undefined</code>\uFF0C\u662F\u7684\u8BDD\u5C31\u4F1A\u8FD4\u56DE <code>true</code></li><li>\u5224\u65AD\u4E24\u8005\u7C7B\u578B\u662F\u5426\u4E3A <code>string</code> \u548C <code>number</code>\uFF0C\u662F\u7684\u8BDD\u5C31\u4F1A\u5C06\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A <code>number</code></li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>1 == &#39;1&#39;
      \u2193
1 ==  1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol><li>\u5224\u65AD\u5176\u4E2D\u4E00\u65B9\u662F\u5426\u4E3A <code>boolean</code>\uFF0C\u662F\u7684\u8BDD\u5C31\u4F1A\u628A <code>boolean</code> \u8F6C\u4E3A <code>number</code> \u518D\u8FDB\u884C\u5224\u65AD</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&#39;1&#39; == true
        \u2193
&#39;1&#39; ==  1
        \u2193
 1  ==  1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol><li>\u5224\u65AD\u5176\u4E2D\u4E00\u65B9\u662F\u5426\u4E3A <code>object</code> \u4E14\u53E6\u4E00\u65B9\u4E3A <code>string</code>\u3001<code>number</code> \u6216\u8005 <code>symbol</code>\uFF0C\u662F\u7684\u8BDD\u5C31\u4F1A\u628A <code>object</code> \u8F6C\u4E3A\u539F\u59CB\u7C7B\u578B\u518D\u8FDB\u884C\u5224\u65AD</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&#39;1&#39; == { name: &#39;yck&#39; }
        \u2193
&#39;1&#39; == &#39;[object Object]&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://poetries1.gitee.io/img-repo/2020/07/3.png" alt="image.png"></p><blockquote><p>\u5BF9\u4E8E <code>===</code> \u6765\u8BF4\u5C31\u7B80\u5355\u591A\u4E86\uFF0C\u5C31\u662F\u5224\u65AD\u4E24\u8005\u7C7B\u578B\u548C\u503C\u662F\u5426\u76F8\u540C</p></blockquote>`,10),V={id:"_5-\u95ED\u5305",tabindex:"-1"},I=n("a",{class:"header-anchor",href:"#_5-\u95ED\u5305","aria-hidden":"true"},"#",-1),H=s(),J={href:"http://interview.poetries.top/docs/excellent.html#_5-%E9%97%AD%E5%8C%85",target:"_blank",rel:"noopener noreferrer"},U=s("#"),z=s("5 \u95ED\u5305"),W=e(`<blockquote><p>\u95ED\u5305\u7684\u5B9A\u4E49\u5176\u5B9E\u5F88\u7B80\u5355\uFF1A\u51FD\u6570 <code>A</code> \u5185\u90E8\u6709\u4E00\u4E2A\u51FD\u6570 <code>B</code>\uFF0C\u51FD\u6570 <code>B</code> \u53EF\u4EE5\u8BBF\u95EE\u5230\u51FD\u6570 <code>A</code> \u4E2D\u7684\u53D8\u91CF\uFF0C\u90A3\u4E48\u51FD\u6570 <code>B</code> \u5C31\u662F\u95ED\u5305</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span>
  window<span class="token punctuation">.</span><span class="token function-variable function">B</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token constant">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>\u95ED\u5305\u5B58\u5728\u7684\u610F\u4E49\u5C31\u662F\u8BA9\u6211\u4EEC\u53EF\u4EE5\u95F4\u63A5\u8BBF\u95EE\u51FD\u6570\u5185\u90E8\u7684\u53D8\u91CF</strong></p><blockquote><p>\u7ECF\u5178\u9762\u8BD5\u9898\uFF0C\u5FAA\u73AF\u4E2D\u4F7F\u7528\u95ED\u5305\u89E3\u51B3 <code>var</code> \u5B9A\u4E49\u51FD\u6570\u7684\u95EE\u9898</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> i <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u9996\u5148\u56E0\u4E3A <code>setTimeout</code> \u662F\u4E2A\u5F02\u6B65\u51FD\u6570\uFF0C\u6240\u4EE5\u4F1A\u5148\u628A\u5FAA\u73AF\u5168\u90E8\u6267\u884C\u5B8C\u6BD5\uFF0C\u8FD9\u65F6\u5019 <code>i</code>\u5C31\u662F <code>6</code> \u4E86\uFF0C\u6240\u4EE5\u4F1A\u8F93\u51FA\u4E00\u5806 <code>6</code></p></blockquote><p><strong>\u89E3\u51B3\u529E\u6CD5\u6709\u4E09\u79CD</strong></p><ol><li>\u7B2C\u4E00\u79CD\u662F\u4F7F\u7528\u95ED\u5305\u7684\u65B9\u5F0F</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> j <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>\u5728\u4E0A\u8FF0\u4EE3\u7801\u4E2D\uFF0C\u6211\u4EEC\u9996\u5148\u4F7F\u7528\u4E86\u7ACB\u5373\u6267\u884C\u51FD\u6570\u5C06 <code>i</code> \u4F20\u5165\u51FD\u6570\u5185\u90E8\uFF0C\u8FD9\u4E2A\u65F6\u5019\u503C\u5C31\u88AB\u56FA\u5B9A\u5728\u4E86\u53C2\u6570 <code>j</code> \u4E0A\u9762\u4E0D\u4F1A\u6539\u53D8\uFF0C\u5F53\u4E0B\u6B21\u6267\u884C <code>timer</code> \u8FD9\u4E2A\u95ED\u5305\u7684\u65F6\u5019\uFF0C\u5C31\u53EF\u4EE5\u4F7F\u7528\u5916\u90E8\u51FD\u6570\u7684\u53D8\u91CF <code>j</code>\uFF0C\u4ECE\u800C\u8FBE\u5230\u76EE\u7684</p></blockquote><ol><li>\u7B2C\u4E8C\u79CD\u5C31\u662F\u4F7F\u7528 <code>setTimeout</code> \u7684\u7B2C\u4E09\u4E2A\u53C2\u6570\uFF0C\u8FD9\u4E2A\u53C2\u6570\u4F1A\u88AB\u5F53\u6210 <code>timer</code> \u51FD\u6570\u7684\u53C2\u6570\u4F20\u5165</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>
    <span class="token keyword">function</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    i <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">,</span>
    i
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol><li>\u7B2C\u4E09\u79CD\u5C31\u662F\u4F7F\u7528 <code>let</code> \u5B9A\u4E49 <code>i</code> \u4E86\u6765\u89E3\u51B3\u95EE\u9898\u4E86\uFF0C\u8FD9\u4E2A\u4E5F\u662F\u6700\u4E3A\u63A8\u8350\u7684\u65B9\u5F0F</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> i <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,14),X={id:"_6-\u6DF1\u6D45\u62F7\u8D1D",tabindex:"-1"},G=n("a",{class:"header-anchor",href:"#_6-\u6DF1\u6D45\u62F7\u8D1D","aria-hidden":"true"},"#",-1),Q=s(),K={href:"http://interview.poetries.top/docs/excellent.html#_6-%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D",target:"_blank",rel:"noopener noreferrer"},$=s("#"),Y=s("6 \u6DF1\u6D45\u62F7\u8D1D"),Z=e(`<p><strong>\u6D45\u62F7\u8D1D</strong></p><blockquote><p>\u9996\u5148\u53EF\u4EE5\u901A\u8FC7 <code>Object.assign</code> \u6765\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0C\u5F88\u591A\u4EBA\u8BA4\u4E3A\u8FD9\u4E2A\u51FD\u6570\u662F\u7528\u6765\u6DF1\u62F7\u8D1D\u7684\u3002\u5176\u5B9E\u5E76\u4E0D\u662F\uFF0C<code>Object.assign</code> \u53EA\u4F1A\u62F7\u8D1D\u6240\u6709\u7684\u5C5E\u6027\u503C\u5230\u65B0\u7684\u5BF9\u8C61\u4E2D\uFF0C\u5982\u679C\u5C5E\u6027\u503C\u662F\u5BF9\u8C61\u7684\u8BDD\uFF0C\u62F7\u8D1D\u7684\u662F\u5730\u5740\uFF0C\u6240\u4EE5\u5E76\u4E0D\u662F\u6DF1\u62F7\u8D1D</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
a<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>\u53E6\u5916\u6211\u4EEC\u8FD8\u53EF\u4EE5\u901A\u8FC7\u5C55\u5F00\u8FD0\u7B97\u7B26 <code>...</code> \u6765\u5B9E\u73B0\u6D45\u62F7\u8D1D</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a <span class="token punctuation">}</span>
a<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>\u901A\u5E38\u6D45\u62F7\u8D1D\u5C31\u80FD\u89E3\u51B3\u5927\u90E8\u5206\u95EE\u9898\u4E86\uFF0C\u4F46\u662F\u5F53\u6211\u4EEC\u9047\u5230\u5982\u4E0B\u60C5\u51B5\u5C31\u53EF\u80FD\u9700\u8981\u4F7F\u7528\u5230\u6DF1\u62F7\u8D1D\u4E86</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">jobs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">first</span><span class="token operator">:</span> <span class="token string">&#39;FE&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a <span class="token punctuation">}</span>
a<span class="token punctuation">.</span>jobs<span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token string">&#39;native&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>jobs<span class="token punctuation">.</span>first<span class="token punctuation">)</span> <span class="token comment">// native</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>\u6D45\u62F7\u8D1D\u53EA\u89E3\u51B3\u4E86\u7B2C\u4E00\u5C42\u7684\u95EE\u9898\uFF0C\u5982\u679C\u63A5\u4E0B\u53BB\u7684\u503C\u4E2D\u8FD8\u6709\u5BF9\u8C61\u7684\u8BDD\uFF0C\u90A3\u4E48\u5C31\u53C8\u56DE\u5230\u6700\u5F00\u59CB\u7684\u8BDD\u9898\u4E86\uFF0C\u4E24\u8005\u4EAB\u6709\u76F8\u540C\u7684\u5730\u5740\u3002\u8981\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0C\u6211\u4EEC\u5C31\u5F97\u4F7F\u7528\u6DF1\u62F7\u8D1D\u4E86\u3002</p></blockquote><p><strong>\u6DF1\u62F7\u8D1D</strong></p><blockquote><p>\u8FD9\u4E2A\u95EE\u9898\u901A\u5E38\u53EF\u4EE5\u901A\u8FC7 <code>JSON.parse(JSON.stringify(object))</code> \u6765\u89E3\u51B3\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">jobs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">first</span><span class="token operator">:</span> <span class="token string">&#39;FE&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>jobs<span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token string">&#39;native&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>jobs<span class="token punctuation">.</span>first<span class="token punctuation">)</span> <span class="token comment">// FE</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>\u4F46\u662F\u8BE5\u65B9\u6CD5\u4E5F\u662F\u6709\u5C40\u9650\u6027\u7684</strong>\uFF1A</p><ul><li>\u4F1A\u5FFD\u7565 <code>undefined</code></li><li>\u4F1A\u5FFD\u7565 <code>symbol</code></li><li>\u4E0D\u80FD\u5E8F\u5217\u5316\u51FD\u6570</li><li>\u4E0D\u80FD\u89E3\u51B3\u5FAA\u73AF\u5F15\u7528\u7684\u5BF9\u8C61</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">d</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span>c <span class="token operator">=</span> obj<span class="token punctuation">.</span>b
obj<span class="token punctuation">.</span>e <span class="token operator">=</span> obj<span class="token punctuation">.</span>a
obj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c <span class="token operator">=</span> obj<span class="token punctuation">.</span>c
obj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>d <span class="token operator">=</span> obj<span class="token punctuation">.</span>b
obj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>e <span class="token operator">=</span> obj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c
<span class="token keyword">let</span> newObj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>\u66F4\u591A\u8BE6\u60C5 https://www.jianshu.com/p/2d8a26b3958f</p></blockquote>`,15),nn={id:"_7-\u539F\u578B",tabindex:"-1"},sn=n("a",{class:"header-anchor",href:"#_7-\u539F\u578B","aria-hidden":"true"},"#",-1),an=s(),pn={href:"http://interview.poetries.top/docs/excellent.html#_7-%E5%8E%9F%E5%9E%8B",target:"_blank",rel:"noopener noreferrer"},en=s("#"),tn=s("7 \u539F\u578B"),on=e('<blockquote><p>\u539F\u578B\u94FE\u5C31\u662F\u591A\u4E2A\u5BF9\u8C61\u901A\u8FC7 <code>__proto__</code> \u7684\u65B9\u5F0F\u8FDE\u63A5\u4E86\u8D77\u6765\u3002\u4E3A\u4EC0\u4E48 <code>obj</code> \u53EF\u4EE5\u8BBF\u95EE\u5230 <code>valueOf</code> \u51FD\u6570\uFF0C\u5C31\u662F\u56E0\u4E3A <code>obj</code> \u901A\u8FC7\u539F\u578B\u94FE\u627E\u5230\u4E86 <code>valueOf</code> \u51FD\u6570</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/1.png" alt="img"></p><ul><li><code>Object</code> \u662F\u6240\u6709\u5BF9\u8C61\u7684\u7238\u7238\uFF0C\u6240\u6709\u5BF9\u8C61\u90FD\u53EF\u4EE5\u901A\u8FC7 <code>__proto__</code>\u627E\u5230\u5B83</li><li><code>Function</code> \u662F\u6240\u6709\u51FD\u6570\u7684\u7238\u7238\uFF0C\u6240\u6709\u51FD\u6570\u90FD\u53EF\u4EE5\u901A\u8FC7 <code>__proto__</code> \u627E\u5230\u5B83</li><li>\u51FD\u6570\u7684 <code>prototype</code> \u662F\u4E00\u4E2A\u5BF9\u8C61</li><li>\u5BF9\u8C61\u7684<code>__proto__</code> \u5C5E\u6027\u6307\u5411\u539F\u578B\uFF0C <code>__proto__</code> \u5C06\u5BF9\u8C61\u548C\u539F\u578B\u8FDE\u63A5\u8D77\u6765\u7EC4\u6210\u4E86\u539F\u578B\u94FE</li></ul>',3),cn={id:"_8-var\u3001let-\u53CA-const-\u533A\u522B",tabindex:"-1"},ln=n("a",{class:"header-anchor",href:"#_8-var\u3001let-\u53CA-const-\u533A\u522B","aria-hidden":"true"},"#",-1),un=s(),rn={href:"http://interview.poetries.top/docs/excellent.html#_8-var%E3%80%81let-%E5%8F%8A-const-%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},kn=s("#"),dn=s("8 var\u3001let \u53CA const \u533A\u522B"),bn=e("<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u4EC0\u4E48\u662F\u63D0\u5347\uFF1F\u4EC0\u4E48\u662F\u6682\u65F6\u6027\u6B7B\u533A\uFF1Fvar\u3001let \u53CA const \u533A\u522B\uFF1F</p></blockquote><ul><li>\u51FD\u6570\u63D0\u5347\u4F18\u5148\u4E8E\u53D8\u91CF\u63D0\u5347\uFF0C\u51FD\u6570\u63D0\u5347\u4F1A\u628A\u6574\u4E2A\u51FD\u6570\u632A\u5230\u4F5C\u7528\u57DF\u9876\u90E8\uFF0C\u53D8\u91CF\u63D0\u5347\u53EA\u4F1A\u628A\u58F0\u660E\u632A\u5230\u4F5C\u7528\u57DF\u9876\u90E8</li><li><code>var</code> \u5B58\u5728\u63D0\u5347\uFF0C\u6211\u4EEC\u80FD\u5728\u58F0\u660E\u4E4B\u524D\u4F7F\u7528\u3002<code>let</code>\u3001<code>const</code> \u56E0\u4E3A\u6682\u65F6\u6027\u6B7B\u533A\u7684\u539F\u56E0\uFF0C\u4E0D\u80FD\u5728\u58F0\u660E\u524D\u4F7F\u7528</li><li><code>var</code> \u5728\u5168\u5C40\u4F5C\u7528\u57DF\u4E0B\u58F0\u660E\u53D8\u91CF\u4F1A\u5BFC\u81F4\u53D8\u91CF\u6302\u8F7D\u5728 <code>window</code>\u4E0A\uFF0C\u5176\u4ED6\u4E24\u8005\u4E0D\u4F1A</li><li><code>let</code> \u548C <code>const</code> \u4F5C\u7528\u57FA\u672C\u4E00\u81F4\uFF0C\u4F46\u662F\u540E\u8005\u58F0\u660E\u7684\u53D8\u91CF\u4E0D\u80FD\u518D\u6B21\u8D4B\u503C</li></ul>",2),mn={id:"_9-\u539F\u578B\u7EE7\u627F\u548C-class-\u7EE7\u627F",tabindex:"-1"},hn=n("a",{class:"header-anchor",href:"#_9-\u539F\u578B\u7EE7\u627F\u548C-class-\u7EE7\u627F","aria-hidden":"true"},"#",-1),gn=s(),_n={href:"http://interview.poetries.top/docs/excellent.html#_9-%E5%8E%9F%E5%9E%8B%E7%BB%A7%E6%89%BF%E5%92%8C-class-%E7%BB%A7%E6%89%BF",target:"_blank",rel:"noopener noreferrer"},fn=s("#"),yn=s("9 \u539F\u578B\u7EE7\u627F\u548C Class \u7EE7\u627F"),vn=e(`<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u539F\u578B\u5982\u4F55\u5B9E\u73B0\u7EE7\u627F\uFF1F<code>Class</code> \u5982\u4F55\u5B9E\u73B0\u7EE7\u627F\uFF1F<code>Class</code> \u672C\u8D28\u662F\u4EC0\u4E48\uFF1F</p></blockquote><p>\u9996\u5148\u5148\u6765\u8BB2\u4E0B <code>class</code>\uFF0C\u5176\u5B9E\u5728 <code>JS</code>\u4E2D\u5E76\u4E0D\u5B58\u5728\u7C7B\uFF0C<code>class</code> \u53EA\u662F\u8BED\u6CD5\u7CD6\uFF0C\u672C\u8D28\u8FD8\u662F\u51FD\u6570</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Person <span class="token keyword">instanceof</span> <span class="token class-name">Function</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>\u7EC4\u5408\u7EE7\u627F</strong></p><blockquote><p>\u7EC4\u5408\u7EE7\u627F\u662F\u6700\u5E38\u7528\u7684\u7EE7\u627F\u65B9\u5F0F</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> value
<span class="token punctuation">}</span>
<span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getValue</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>val<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Parent</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

child<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
child <span class="token keyword">instanceof</span> <span class="token class-name">Parent</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>\u4EE5\u4E0A\u7EE7\u627F\u7684\u65B9\u5F0F\u6838\u5FC3\u662F\u5728\u5B50\u7C7B\u7684\u6784\u9020\u51FD\u6570\u4E2D\u901A\u8FC7 <code>Parent.call(this)</code> \u7EE7\u627F\u7236\u7C7B\u7684\u5C5E\u6027\uFF0C\u7136\u540E\u6539\u53D8\u5B50\u7C7B\u7684\u539F\u578B\u4E3A <code>new Parent()</code> \u6765\u7EE7\u627F\u7236\u7C7B\u7684\u51FD\u6570\u3002</li><li>\u8FD9\u79CD\u7EE7\u627F\u65B9\u5F0F\u4F18\u70B9\u5728\u4E8E\u6784\u9020\u51FD\u6570\u53EF\u4EE5\u4F20\u53C2\uFF0C\u4E0D\u4F1A\u4E0E\u7236\u7C7B\u5F15\u7528\u5C5E\u6027\u5171\u4EAB\uFF0C\u53EF\u4EE5\u590D\u7528\u7236\u7C7B\u7684\u51FD\u6570\uFF0C\u4F46\u662F\u4E5F\u5B58\u5728\u4E00\u4E2A\u7F3A\u70B9\u5C31\u662F\u5728\u7EE7\u627F\u7236\u7C7B\u51FD\u6570\u7684\u65F6\u5019\u8C03\u7528\u4E86\u7236\u7C7B\u6784\u9020\u51FD\u6570\uFF0C\u5BFC\u81F4\u5B50\u7C7B\u7684\u539F\u578B\u4E0A\u591A\u4E86\u4E0D\u9700\u8981\u7684\u7236\u7C7B\u5C5E\u6027\uFF0C\u5B58\u5728\u5185\u5B58\u4E0A\u7684\u6D6A\u8D39</li></ul><p><strong>\u5BC4\u751F\u7EC4\u5408\u7EE7\u627F</strong></p><blockquote><p>\u8FD9\u79CD\u7EE7\u627F\u65B9\u5F0F\u5BF9\u7EC4\u5408\u7EE7\u627F\u8FDB\u884C\u4E86\u4F18\u5316\uFF0C\u7EC4\u5408\u7EE7\u627F\u7F3A\u70B9\u5728\u4E8E\u7EE7\u627F\u7236\u7C7B\u51FD\u6570\u65F6\u8C03\u7528\u4E86\u6784\u9020\u51FD\u6570\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u4F18\u5316\u6389\u8FD9\u70B9\u5C31\u884C\u4E86</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> value
<span class="token punctuation">}</span>
<span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getValue</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>val<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Parent</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">constructor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> Child<span class="token punctuation">,</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

child<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
child <span class="token keyword">instanceof</span> <span class="token class-name">Parent</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u7EE7\u627F\u5B9E\u73B0\u7684\u6838\u5FC3\u5C31\u662F\u5C06\u7236\u7C7B\u7684\u539F\u578B\u8D4B\u503C\u7ED9\u4E86\u5B50\u7C7B\uFF0C\u5E76\u4E14\u5C06\u6784\u9020\u51FD\u6570\u8BBE\u7F6E\u4E3A\u5B50\u7C7B\uFF0C\u8FD9\u6837\u65E2\u89E3\u51B3\u4E86\u65E0\u7528\u7684\u7236\u7C7B\u5C5E\u6027\u95EE\u9898\uFF0C\u8FD8\u80FD\u6B63\u786E\u7684\u627E\u5230\u5B50\u7C7B\u7684\u6784\u9020\u51FD\u6570\u3002</p></blockquote><p><strong>Class \u7EE7\u627F</strong></p><blockquote><p>\u4EE5\u4E0A\u4E24\u79CD\u7EE7\u627F\u65B9\u5F0F\u90FD\u662F\u901A\u8FC7\u539F\u578B\u53BB\u89E3\u51B3\u7684\uFF0C\u5728 ES6 \u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 class \u53BB\u5B9E\u73B0\u7EE7\u627F\uFF0C\u5E76\u4E14\u5B9E\u73B0\u8D77\u6765\u5F88\u7B80\u5355</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> value
  <span class="token punctuation">}</span>
  <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>val<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> value
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
child<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
child <span class="token keyword">instanceof</span> <span class="token class-name">Parent</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p><code>class</code> \u5B9E\u73B0\u7EE7\u627F\u7684\u6838\u5FC3\u5728\u4E8E\u4F7F\u7528 <code>extends</code> \u8868\u660E\u7EE7\u627F\u81EA\u54EA\u4E2A\u7236\u7C7B\uFF0C\u5E76\u4E14\u5728\u5B50\u7C7B\u6784\u9020\u51FD\u6570\u4E2D\u5FC5\u987B\u8C03\u7528 <code>super</code>\uFF0C\u56E0\u4E3A\u8FD9\u6BB5\u4EE3\u7801\u53EF\u4EE5\u770B\u6210 <code>Parent.call(this, value)</code>\u3002</p></blockquote>`,15),wn={id:"_10-\u6A21\u5757\u5316",tabindex:"-1"},xn=n("a",{class:"header-anchor",href:"#_10-\u6A21\u5757\u5316","aria-hidden":"true"},"#",-1),qn=s(),En={href:"http://interview.poetries.top/docs/excellent.html#_10-%E6%A8%A1%E5%9D%97%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},jn=s("#"),Cn=s("10 \u6A21\u5757\u5316"),Sn=e(`<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u6A21\u5757\u5316\uFF1F\u90FD\u6709\u54EA\u51E0\u79CD\u65B9\u5F0F\u53EF\u4EE5\u5B9E\u73B0\u6A21\u5757\u5316\uFF0C\u5404\u6709\u4EC0\u4E48\u7279\u70B9\uFF1F</p></blockquote><p>\u4F7F\u7528\u4E00\u4E2A\u6280\u672F\u80AF\u5B9A\u662F\u6709\u539F\u56E0\u7684\uFF0C\u90A3\u4E48\u4F7F\u7528\u6A21\u5757\u5316\u53EF\u4EE5\u7ED9\u6211\u4EEC\u5E26\u6765\u4EE5\u4E0B\u597D\u5904</p><ul><li>\u89E3\u51B3\u547D\u540D\u51B2\u7A81</li><li>\u63D0\u4F9B\u590D\u7528\u6027</li><li>\u63D0\u9AD8\u4EE3\u7801\u53EF\u7EF4\u62A4\u6027</li></ul><p><strong>\u7ACB\u5373\u6267\u884C\u51FD\u6570</strong></p><blockquote><p>\u5728\u65E9\u671F\uFF0C\u4F7F\u7528\u7ACB\u5373\u6267\u884C\u51FD\u6570\u5B9E\u73B0\u6A21\u5757\u5316\u662F\u5E38\u89C1\u7684\u624B\u6BB5\uFF0C\u901A\u8FC7\u51FD\u6570\u4F5C\u7528\u57DF\u89E3\u51B3\u4E86\u547D\u540D\u51B2\u7A81\u3001\u6C61\u67D3\u5168\u5C40\u4F5C\u7528\u57DF\u7684\u95EE\u9898</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>(function(globalVariable){
   globalVariable.test = function() {}
   // ... \u58F0\u660E\u5404\u79CD\u53D8\u91CF\u3001\u51FD\u6570\u90FD\u4E0D\u4F1A\u6C61\u67D3\u5168\u5C40\u4F5C\u7528\u57DF
})(globalVariable)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>AMD \u548C CMD</strong></p><blockquote><p>\u9274\u4E8E\u76EE\u524D\u8FD9\u4E24\u79CD\u5B9E\u73B0\u65B9\u5F0F\u5DF2\u7ECF\u5F88\u5C11\u89C1\u5230\uFF0C\u6240\u4EE5\u4E0D\u518D\u5BF9\u5177\u4F53\u7279\u6027\u7EC6\u804A\uFF0C\u53EA\u9700\u8981\u4E86\u89E3\u8FD9\u4E24\u8005\u662F\u5982\u4F55\u4F7F\u7528\u7684\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// AMD</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;./a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;./b&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u52A0\u8F7D\u6A21\u5757\u5B8C\u6BD5\u53EF\u4EE5\u4F7F\u7528</span>
  a<span class="token punctuation">.</span><span class="token function">do</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  b<span class="token punctuation">.</span><span class="token function">do</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// CMD</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u52A0\u8F7D\u6A21\u5757</span>
  <span class="token comment">// \u53EF\u4EE5\u628A require \u5199\u5728\u51FD\u6570\u4F53\u7684\u4EFB\u610F\u5730\u65B9\u5B9E\u73B0\u5EF6\u8FDF\u52A0\u8F7D</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./a&#39;</span><span class="token punctuation">)</span>
  a<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>CommonJS</strong></p><blockquote><p><code>CommonJS</code> \u6700\u65E9\u662F <code>Node</code> \u5728\u4F7F\u7528\uFF0C\u76EE\u524D\u4E5F\u4ECD\u7136\u5E7F\u6CDB\u4F7F\u7528\uFF0C\u6BD4\u5982\u5728 <code>Webpack</code> \u4E2D\u4F60\u5C31\u80FD\u89C1\u5230\u5B83\uFF0C\u5F53\u7136\u76EE\u524D\u5728 <code>Node</code> \u4E2D\u7684\u6A21\u5757\u7BA1\u7406\u5DF2\u7ECF\u548C <code>CommonJS</code>\u6709\u4E00\u4E9B\u533A\u522B\u4E86</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// a.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token comment">// or</span>
exports<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">// b.js</span>
<span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./a.js&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>a <span class="token comment">// -&gt; log 1</span>
ar module <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./a.js&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>a
<span class="token comment">// \u8FD9\u91CC\u5176\u5B9E\u5C31\u662F\u5305\u88C5\u4E86\u4E00\u5C42\u7ACB\u5373\u6267\u884C\u51FD\u6570\uFF0C\u8FD9\u6837\u5C31\u4E0D\u4F1A\u6C61\u67D3\u5168\u5C40\u53D8\u91CF\u4E86\uFF0C</span>
<span class="token comment">// \u91CD\u8981\u7684\u662F module \u8FD9\u91CC\uFF0Cmodule \u662F Node \u72EC\u6709\u7684\u4E00\u4E2A\u53D8\u91CF</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token comment">// module \u57FA\u672C\u5B9E\u73B0</span>
<span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;xxxx&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6211\u603B\u5F97\u77E5\u9053\u600E\u4E48\u53BB\u627E\u5230\u4ED6\u5427</span>
  <span class="token literal-property property">exports</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// exports \u5C31\u662F\u4E2A\u7A7A\u5BF9\u8C61</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u8FD9\u4E2A\u662F\u4E3A\u4EC0\u4E48 exports \u548C module.exports \u7528\u6CD5\u76F8\u4F3C\u7684\u539F\u56E0</span>
<span class="token keyword">var</span> exports <span class="token operator">=</span> module<span class="token punctuation">.</span>exports
<span class="token keyword">var</span> <span class="token function-variable function">load</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5BFC\u51FA\u7684\u4E1C\u897F</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> a
    <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// \u7136\u540E\u5F53\u6211 require \u7684\u65F6\u5019\u53BB\u627E\u5230\u72EC\u7279\u7684</span>
<span class="token comment">// id\uFF0C\u7136\u540E\u5C06\u8981\u4F7F\u7528\u7684\u4E1C\u897F\u7528\u7ACB\u5373\u6267\u884C\u51FD\u6570\u5305\u88C5\u4E0B\uFF0Cover</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><blockquote><p>\u53E6\u5916\u867D\u7136 <code>exports</code> \u548C <code>module.exports</code> \u7528\u6CD5\u76F8\u4F3C\uFF0C\u4F46\u662F\u4E0D\u80FD\u5BF9 <code>exports</code> \u76F4\u63A5\u8D4B\u503C\u3002\u56E0\u4E3A <code>var exports = module.exports</code> \u8FD9\u53E5\u4EE3\u7801\u8868\u660E\u4E86 <code>exports</code> \u548C <code>module.exports</code>\u4EAB\u6709\u76F8\u540C\u5730\u5740\uFF0C\u901A\u8FC7\u6539\u53D8\u5BF9\u8C61\u7684\u5C5E\u6027\u503C\u4F1A\u5BF9\u4E24\u8005\u90FD\u8D77\u6548\uFF0C\u4F46\u662F\u5982\u679C\u76F4\u63A5\u5BF9 <code>exports</code> \u8D4B\u503C\u5C31\u4F1A\u5BFC\u81F4\u4E24\u8005\u4E0D\u518D\u6307\u5411\u540C\u4E00\u4E2A\u5185\u5B58\u5730\u5740\uFF0C\u4FEE\u6539\u5E76\u4E0D\u4F1A\u5BF9 <code>module.exports</code> \u8D77\u6548</p></blockquote><p><strong>ES Module</strong></p><blockquote><p><code>ES Module</code> \u662F\u539F\u751F\u5B9E\u73B0\u7684\u6A21\u5757\u5316\u65B9\u6848\uFF0C\u4E0E <code>CommonJS</code> \u6709\u4EE5\u4E0B\u51E0\u4E2A\u533A\u522B</p></blockquote><ol><li><code>CommonJS</code> \u652F\u6301\u52A8\u6001\u5BFC\u5165\uFF0C\u4E5F\u5C31\u662F <code>require(\${path}/xx.js)</code>\uFF0C\u540E\u8005\u76EE\u524D\u4E0D\u652F\u6301\uFF0C\u4F46\u662F\u5DF2\u6709\u63D0\u6848</li><li><code>CommonJS</code> \u662F\u540C\u6B65\u5BFC\u5165\uFF0C\u56E0\u4E3A\u7528\u4E8E\u670D\u52A1\u7AEF\uFF0C\u6587\u4EF6\u90FD\u5728\u672C\u5730\uFF0C\u540C\u6B65\u5BFC\u5165\u5373\u4F7F\u5361\u4F4F\u4E3B\u7EBF\u7A0B\u5F71\u54CD\u4E5F\u4E0D\u5927\u3002\u800C\u540E\u8005\u662F\u5F02\u6B65\u5BFC\u5165\uFF0C\u56E0\u4E3A\u7528\u4E8E\u6D4F\u89C8\u5668\uFF0C\u9700\u8981\u4E0B\u8F7D\u6587\u4EF6\uFF0C\u5982\u679C\u4E5F\u91C7\u7528\u540C\u6B65\u5BFC\u5165\u4F1A\u5BF9\u6E32\u67D3\u6709\u5F88\u5927\u5F71\u54CD</li><li><code>CommonJS</code> \u5728\u5BFC\u51FA\u65F6\u90FD\u662F\u503C\u62F7\u8D1D\uFF0C\u5C31\u7B97\u5BFC\u51FA\u7684\u503C\u53D8\u4E86\uFF0C\u5BFC\u5165\u7684\u503C\u4E5F\u4E0D\u4F1A\u6539\u53D8\uFF0C\u6240\u4EE5\u5982\u679C\u60F3\u66F4\u65B0\u503C\uFF0C\u5FC5\u987B\u91CD\u65B0\u5BFC\u5165\u4E00\u6B21\u3002\u4F46\u662F <code>ES Module</code> \u91C7\u7528\u5B9E\u65F6\u7ED1\u5B9A\u7684\u65B9\u5F0F\uFF0C\u5BFC\u5165\u5BFC\u51FA\u7684\u503C\u90FD\u6307\u5411\u540C\u4E00\u4E2A\u5185\u5B58\u5730\u5740\uFF0C\u6240\u4EE5\u5BFC\u5165\u503C\u4F1A\u8DDF\u968F\u5BFC\u51FA\u503C\u53D8\u5316</li><li><code>ES Module</code> \u4F1A\u7F16\u8BD1\u6210 <code>require/exports</code>\u6765\u6267\u884C\u7684</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5F15\u5165\u6A21\u5757 API</span>
<span class="token keyword">import</span> <span class="token constant">XXX</span> <span class="token keyword">from</span> <span class="token string">&#39;./a.js&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">XXX</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./a.js&#39;</span>
<span class="token comment">// \u5BFC\u51FA\u6A21\u5757 API</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,17),An={id:"_11-\u5B9E\u73B0\u4E00\u4E2A\u7B80\u6D01\u7248\u7684promise",tabindex:"-1"},Bn=n("a",{class:"header-anchor",href:"#_11-\u5B9E\u73B0\u4E00\u4E2A\u7B80\u6D01\u7248\u7684promise","aria-hidden":"true"},"#",-1),Tn=s(),Pn={href:"http://interview.poetries.top/docs/excellent.html#_11-%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E6%B4%81%E7%89%88%E7%9A%84promise",target:"_blank",rel:"noopener noreferrer"},Dn=s("#"),Mn=s("11 \u5B9E\u73B0\u4E00\u4E2A\u7B80\u6D01\u7248\u7684promise"),On=e(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4E09\u4E2A\u5E38\u91CF\u7528\u4E8E\u8868\u793A\u72B6\u6001</span>
<span class="token keyword">const</span> <span class="token constant">PENDING</span> <span class="token operator">=</span> <span class="token string">&#39;pending&#39;</span>
<span class="token keyword">const</span> <span class="token constant">RESOLVED</span> <span class="token operator">=</span> <span class="token string">&#39;resolved&#39;</span>
<span class="token keyword">const</span> <span class="token constant">REJECTED</span> <span class="token operator">=</span> <span class="token string">&#39;rejected&#39;</span>

<span class="token keyword">function</span> <span class="token function">MyPromise</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token constant">PENDING</span>

    <span class="token comment">// value \u53D8\u91CF\u7528\u4E8E\u4FDD\u5B58 resolve \u6216\u8005 reject \u4E2D\u4F20\u5165\u7684\u503C</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span>

    <span class="token comment">// \u7528\u4E8E\u4FDD\u5B58 then \u4E2D\u7684\u56DE\u8C03\uFF0C\u56E0\u4E3A\u5F53\u6267\u884C\u5B8C Promise \u65F6\u72B6\u6001\u53EF\u80FD\u8FD8\u662F\u7B49\u5F85\u4E2D\uFF0C\u8FD9\u65F6\u5019\u5E94\u8BE5\u628A then \u4E2D\u7684\u56DE\u8C03\u4FDD\u5B58\u8D77\u6765\u7528\u4E8E\u72B6\u6001\u6539\u53D8\u65F6\u4F7F\u7528</span>
    that<span class="token punctuation">.</span>resolvedCallbacks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    that<span class="token punctuation">.</span>rejectedCallbacks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>


    <span class="token keyword">function</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment">// \u9996\u5148\u4E24\u4E2A\u51FD\u6570\u90FD\u5F97\u5224\u65AD\u5F53\u524D\u72B6\u6001\u662F\u5426\u4E3A\u7B49\u5F85\u4E2D</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token constant">PENDING</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            that<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token constant">RESOLVED</span>
            that<span class="token punctuation">.</span>value <span class="token operator">=</span> value

            <span class="token comment">// \u904D\u5386\u56DE\u8C03\u6570\u7EC4\u5E76\u6267\u884C</span>
            that<span class="token punctuation">.</span>resolvedCallbacks<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token operator">=&gt;</span><span class="token function">cb</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token constant">PENDING</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            that<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token constant">REJECTED</span>
            that<span class="token punctuation">.</span>value <span class="token operator">=</span> value
            that<span class="token punctuation">.</span>rejectedCallbacks<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token operator">=&gt;</span><span class="token function">cb</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u5B8C\u6210\u4EE5\u4E0A\u4E24\u4E2A\u51FD\u6570\u4EE5\u540E\uFF0C\u6211\u4EEC\u5C31\u8BE5\u5B9E\u73B0\u5982\u4F55\u6267\u884C Promise \u4E2D\u4F20\u5165\u7684\u51FD\u6570\u4E86</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token function">fn</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span>reject<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token function">cach</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u6700\u540E\u6211\u4EEC\u6765\u5B9E\u73B0\u8F83\u4E3A\u590D\u6742\u7684 then \u51FD\u6570</span>
<span class="token class-name">MyPromise</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">then</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">onFulfilled<span class="token punctuation">,</span>onRejected</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> that <span class="token operator">=</span> <span class="token keyword">this</span>

  <span class="token comment">// \u5224\u65AD\u4E24\u4E2A\u53C2\u6570\u662F\u5426\u4E3A\u51FD\u6570\u7C7B\u578B\uFF0C\u56E0\u4E3A\u8FD9\u4E24\u4E2A\u53C2\u6570\u662F\u53EF\u9009\u53C2\u6570</span>
  onFulfilled <span class="token operator">=</span> <span class="token keyword">typeof</span> onFulfilled <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span> <span class="token operator">?</span> <span class="token function-variable function">onFulfilled</span> <span class="token operator">:</span> <span class="token parameter">v</span><span class="token operator">=&gt;</span>v
  onRejected <span class="token operator">=</span> <span class="token keyword">typeof</span> onRejected <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span> <span class="token operator">?</span> <span class="token function-variable function">onRejected</span> <span class="token operator">:</span> <span class="token parameter">e</span><span class="token operator">=&gt;</span><span class="token keyword">throw</span> e

  <span class="token comment">// \u5F53\u72B6\u6001\u4E0D\u662F\u7B49\u5F85\u6001\u65F6\uFF0C\u5C31\u53BB\u6267\u884C\u76F8\u5BF9\u5E94\u7684\u51FD\u6570\u3002\u5982\u679C\u72B6\u6001\u662F\u7B49\u5F85\u6001\u7684\u8BDD\uFF0C\u5C31\u5F80\u56DE\u8C03\u51FD\u6570\u4E2D push \u51FD\u6570</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token constant">PENDING</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>resolvedCallbacks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>onFulfilled<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>rejectedCallbacks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>onRejected<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token constant">RESOLVED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">onFulfilled</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token constant">REJECTED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">onRejected</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div>`,1),Rn={id:"_12-event-loop",tabindex:"-1"},Fn=n("a",{class:"header-anchor",href:"#_12-event-loop","aria-hidden":"true"},"#",-1),Nn=s(),Ln={href:"http://interview.poetries.top/docs/excellent.html#_12-event-loop",target:"_blank",rel:"noopener noreferrer"},Vn=s("#"),In=s("12 Event Loop"),Hn={id:"_12-1-\u8FDB\u7A0B\u4E0E\u7EBF\u7A0B",tabindex:"-1"},Jn=n("a",{class:"header-anchor",href:"#_12-1-\u8FDB\u7A0B\u4E0E\u7EBF\u7A0B","aria-hidden":"true"},"#",-1),Un=s(),zn={href:"http://interview.poetries.top/docs/excellent.html#_12-1-%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},Wn=s("#"),Xn=s("12.1 \u8FDB\u7A0B\u4E0E\u7EBF\u7A0B"),Gn=e("<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u8FDB\u7A0B\u4E0E\u7EBF\u7A0B\u533A\u522B\uFF1F<code>JS</code> \u5355\u7EBF\u7A0B\u5E26\u6765\u7684\u597D\u5904\uFF1F</p></blockquote><ul><li><code>JS</code> \u662F\u5355\u7EBF\u7A0B\u6267\u884C\u7684\uFF0C\u4F46\u662F\u4F60\u662F\u5426\u7591\u60D1\u8FC7\u4EC0\u4E48\u662F\u7EBF\u7A0B\uFF1F</li><li>\u8BB2\u5230\u7EBF\u7A0B\uFF0C\u90A3\u4E48\u80AF\u5B9A\u4E5F\u5F97\u8BF4\u4E00\u4E0B\u8FDB\u7A0B\u3002\u672C\u8D28\u4E0A\u6765\u8BF4\uFF0C\u4E24\u4E2A\u540D\u8BCD\u90FD\u662F <code>CPU</code> \u5DE5\u4F5C\u65F6\u95F4\u7247\u7684\u4E00\u4E2A\u63CF\u8FF0\u3002</li><li>\u8FDB\u7A0B\u63CF\u8FF0\u4E86 <code>CPU</code> \u5728\u8FD0\u884C\u6307\u4EE4\u53CA\u52A0\u8F7D\u548C\u4FDD\u5B58\u4E0A\u4E0B\u6587\u6240\u9700\u7684\u65F6\u95F4\uFF0C\u653E\u5728\u5E94\u7528\u4E0A\u6765\u8BF4\u5C31\u4EE3\u8868\u4E86\u4E00\u4E2A\u7A0B\u5E8F\u3002\u7EBF\u7A0B\u662F\u8FDB\u7A0B\u4E2D\u7684\u66F4\u5C0F\u5355\u4F4D\uFF0C\u63CF\u8FF0\u4E86\u6267\u884C\u4E00\u6BB5\u6307\u4EE4\u6240\u9700\u7684\u65F6\u95F4</li></ul><blockquote><p>\u628A\u8FD9\u4E9B\u6982\u5FF5\u62FF\u5230\u6D4F\u89C8\u5668\u4E2D\u6765\u8BF4\uFF0C\u5F53\u4F60\u6253\u5F00\u4E00\u4E2A <code>Tab</code> \u9875\u65F6\uFF0C\u5176\u5B9E\u5C31\u662F\u521B\u5EFA\u4E86\u4E00\u4E2A\u8FDB\u7A0B\uFF0C\u4E00\u4E2A\u8FDB\u7A0B\u4E2D\u53EF\u4EE5\u6709\u591A\u4E2A\u7EBF\u7A0B\uFF0C\u6BD4\u5982\u6E32\u67D3\u7EBF\u7A0B\u3001<code>JS</code> \u5F15\u64CE\u7EBF\u7A0B\u3001<code>HTTP</code> \u8BF7\u6C42\u7EBF\u7A0B\u7B49\u7B49\u3002\u5F53\u4F60\u53D1\u8D77\u4E00\u4E2A\u8BF7\u6C42\u65F6\uFF0C\u5176\u5B9E\u5C31\u662F\u521B\u5EFA\u4E86\u4E00\u4E2A\u7EBF\u7A0B\uFF0C\u5F53\u8BF7\u6C42\u7ED3\u675F\u540E\uFF0C\u8BE5\u7EBF\u7A0B\u53EF\u80FD\u5C31\u4F1A\u88AB\u9500\u6BC1</p></blockquote><ul><li>\u4E0A\u6587\u8BF4\u5230\u4E86 <code>JS</code> \u5F15\u64CE\u7EBF\u7A0B\u548C\u6E32\u67D3\u7EBF\u7A0B\uFF0C\u5927\u5BB6\u5E94\u8BE5\u90FD\u77E5\u9053\uFF0C\u5728 <code>JS</code> \u8FD0\u884C\u7684\u65F6\u5019\u53EF\u80FD\u4F1A\u963B\u6B62 <code>UI</code> \u6E32\u67D3\uFF0C\u8FD9\u8BF4\u660E\u4E86\u4E24\u4E2A\u7EBF\u7A0B\u662F\u4E92\u65A5\u7684\u3002\u8FD9\u5176\u4E2D\u7684\u539F\u56E0\u662F\u56E0\u4E3A JS \u53EF\u4EE5\u4FEE\u6539 <code>DOM</code>\uFF0C\u5982\u679C\u5728 <code>JS</code> \u6267\u884C\u7684\u65F6\u5019 <code>UI</code> \u7EBF\u7A0B\u8FD8\u5728\u5DE5\u4F5C\uFF0C\u5C31\u53EF\u80FD\u5BFC\u81F4\u4E0D\u80FD\u5B89\u5168\u7684\u6E32\u67D3 <code>UI</code>\u3002\u8FD9\u5176\u5B9E\u4E5F\u662F\u4E00\u4E2A\u5355\u7EBF\u7A0B\u7684\u597D\u5904\uFF0C\u5F97\u76CA\u4E8E <code>JS</code> \u662F\u5355\u7EBF\u7A0B\u8FD0\u884C\u7684\uFF0C\u53EF\u4EE5\u8FBE\u5230\u8282\u7701\u5185\u5B58\uFF0C\u8282\u7EA6\u4E0A\u4E0B\u6587\u5207\u6362\u65F6\u95F4\uFF0C\u6CA1\u6709\u9501\u7684\u95EE\u9898\u7684\u597D\u5904</li></ul>",4),Qn={id:"_12-2-\u6267\u884C\u6808",tabindex:"-1"},Kn=n("a",{class:"header-anchor",href:"#_12-2-\u6267\u884C\u6808","aria-hidden":"true"},"#",-1),$n=s(),Yn={href:"http://interview.poetries.top/docs/excellent.html#_12-2-%E6%89%A7%E8%A1%8C%E6%A0%88",target:"_blank",rel:"noopener noreferrer"},Zn=s("#"),ns=s("12.2 \u6267\u884C\u6808"),ss=e(`<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u4EC0\u4E48\u662F\u6267\u884C\u6808\uFF1F</p></blockquote><p>\u53EF\u4EE5\u628A\u6267\u884C\u6808\u8BA4\u4E3A\u662F\u4E00\u4E2A\u5B58\u50A8\u51FD\u6570\u8C03\u7528\u7684\u6808\u7ED3\u6784\uFF0C\u9075\u5FAA\u5148\u8FDB\u540E\u51FA\u7684\u539F\u5219</p><p><img src="https://poetries1.gitee.io/img-repo/2020/09/102.png" alt="img"></p><blockquote><p>\u5F53\u5F00\u59CB\u6267\u884C <code>JS</code> \u4EE3\u7801\u65F6\uFF0C\u9996\u5148\u4F1A\u6267\u884C\u4E00\u4E2A <code>main</code> \u51FD\u6570\uFF0C\u7136\u540E\u6267\u884C\u6211\u4EEC\u7684\u4EE3\u7801\u3002\u6839\u636E\u5148\u8FDB\u540E\u51FA\u7684\u539F\u5219\uFF0C\u540E\u6267\u884C\u7684\u51FD\u6570\u4F1A\u5148\u5F39\u51FA\u6808\uFF0C\u5728\u56FE\u4E2D\u6211\u4EEC\u4E5F\u53EF\u4EE5\u53D1\u73B0\uFF0C<code>foo</code> \u51FD\u6570\u540E\u6267\u884C\uFF0C\u5F53\u6267\u884C\u5B8C\u6BD5\u540E\u5C31\u4ECE\u6808\u4E2D\u5F39\u51FA\u4E86</p></blockquote><p>\u5728\u5F00\u53D1\u4E2D\uFF0C\u5927\u5BB6\u4E5F\u53EF\u4EE5\u5728\u62A5\u9519\u4E2D\u627E\u5230\u6267\u884C\u6808\u7684\u75D5\u8FF9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/2.png" alt="img"></p><blockquote><p>\u5927\u5BB6\u53EF\u4EE5\u5728\u4E0A\u56FE\u6E05\u6670\u7684\u770B\u5230\u62A5\u9519\u5728 <code>foo</code> \u51FD\u6570\uFF0C<code>foo</code> \u51FD\u6570\u53C8\u662F\u5728 <code>bar</code> \u51FD\u6570\u4E2D\u8C03\u7528\u7684</p></blockquote><p>\u5F53\u6211\u4EEC\u4F7F\u7528\u9012\u5F52\u7684\u65F6\u5019\uFF0C\u56E0\u4E3A\u6808\u53EF\u5B58\u653E\u7684\u51FD\u6570\u662F\u6709\u9650\u5236\u7684\uFF0C\u4E00\u65E6\u5B58\u653E\u4E86\u8FC7\u591A\u7684\u51FD\u6570\u4E14\u6CA1\u6709\u5F97\u5230\u91CA\u653E\u7684\u8BDD\uFF0C\u5C31\u4F1A\u51FA\u73B0\u7206\u6808\u7684\u95EE\u9898</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/1.png" alt="img"></p>`,11),as={id:"_12-3-\u6D4F\u89C8\u5668\u4E2D\u7684-event-loop",tabindex:"-1"},ps=n("a",{class:"header-anchor",href:"#_12-3-\u6D4F\u89C8\u5668\u4E2D\u7684-event-loop","aria-hidden":"true"},"#",-1),es=s(),ts={href:"http://interview.poetries.top/docs/excellent.html#_12-3-%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84-event-loop",target:"_blank",rel:"noopener noreferrer"},os=s("#"),cs=s("12.3 \u6D4F\u89C8\u5668\u4E2D\u7684 Event Loop"),ls=e(`<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u5F02\u6B65\u4EE3\u7801\u6267\u884C\u987A\u5E8F\uFF1F\u89E3\u91CA\u4E00\u4E0B\u4EC0\u4E48\u662F <code>Event Loop</code> \uFF1F</p></blockquote><blockquote><p>\u4F17\u6240\u5468\u77E5 <code>JS</code> \u662F\u95E8\u975E\u963B\u585E\u5355\u7EBF\u7A0B\u8BED\u8A00\uFF0C\u56E0\u4E3A\u5728\u6700\u521D <code>JS</code> \u5C31\u662F\u4E3A\u4E86\u548C\u6D4F\u89C8\u5668\u4EA4\u4E92\u800C\u8BDE\u751F\u7684\u3002\u5982\u679C <code>JS</code> \u662F\u95E8\u591A\u7EBF\u7A0B\u7684\u8BED\u8A00\u8BDD\uFF0C\u6211\u4EEC\u5728\u591A\u4E2A\u7EBF\u7A0B\u4E2D\u5904\u7406 <code>DOM</code> \u5C31\u53EF\u80FD\u4F1A\u53D1\u751F\u95EE\u9898\uFF08\u4E00\u4E2A\u7EBF\u7A0B\u4E2D\u65B0\u52A0\u8282\u70B9\uFF0C\u53E6\u4E00\u4E2A\u7EBF\u7A0B\u4E2D\u5220\u9664\u8282\u70B9\uFF09</p></blockquote><ul><li><code>JS</code> \u5728\u6267\u884C\u7684\u8FC7\u7A0B\u4E2D\u4F1A\u4EA7\u751F\u6267\u884C\u73AF\u5883\uFF0C\u8FD9\u4E9B\u6267\u884C\u73AF\u5883\u4F1A\u88AB\u987A\u5E8F\u7684\u52A0\u5165\u5230\u6267\u884C\u6808\u4E2D\u3002\u5982\u679C\u9047\u5230\u5F02\u6B65\u7684\u4EE3\u7801\uFF0C\u4F1A\u88AB\u6302\u8D77\u5E76\u52A0\u5165\u5230 <code>Task</code>\uFF08\u6709\u591A\u79CD <code>task</code>\uFF09 \u961F\u5217\u4E2D\u3002\u4E00\u65E6\u6267\u884C\u6808\u4E3A\u7A7A\uFF0C<code>Event</code> <code>Loop</code> \u5C31\u4F1A\u4ECE <code>Task</code> \u961F\u5217\u4E2D\u62FF\u51FA\u9700\u8981\u6267\u884C\u7684\u4EE3\u7801\u5E76\u653E\u5165\u6267\u884C\u6808\u4E2D\u6267\u884C\uFF0C\u6240\u4EE5\u672C\u8D28\u4E0A\u6765\u8BF4 <code>JS</code> \u4E2D\u7684\u5F02\u6B65\u8FD8\u662F\u540C\u6B65\u884C\u4E3A</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/4.png" alt="img"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;script start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;setTimeout&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;script end&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>\u4E0D\u540C\u7684\u4EFB\u52A1\u6E90\u4F1A\u88AB\u5206\u914D\u5230\u4E0D\u540C\u7684 <code>Task</code> \u961F\u5217\u4E2D\uFF0C\u4EFB\u52A1\u6E90\u53EF\u4EE5\u5206\u4E3A \u5FAE\u4EFB\u52A1\uFF08<code>microtask</code>\uFF09 \u548C \u5B8F\u4EFB\u52A1\uFF08<code>macrotask</code>\uFF09\u3002\u5728 <code>ES6</code> \u89C4\u8303\u4E2D\uFF0C<code>microtask</code> \u79F0\u4E3A <code>jobs</code>\uFF0C<code>macrotask</code> \u79F0\u4E3A <code>task</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;script start&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;setTimeout&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Promise&#39;</span><span class="token punctuation">)</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;script end&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// script start =&gt; Promise =&gt; script end =&gt; promise1 =&gt; promise2 =&gt; setTimeout</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u4EE3\u7801\u867D\u7136 <code>setTimeout</code> \u5199\u5728 <code>Promise</code> \u4E4B\u524D\uFF0C\u4F46\u662F\u56E0\u4E3A <code>Promise</code> \u5C5E\u4E8E\u5FAE\u4EFB\u52A1\u800C <code>setTimeout</code> \u5C5E\u4E8E\u5B8F\u4EFB\u52A1</p></blockquote><p><strong>\u5FAE\u4EFB\u52A1</strong></p><ul><li><code>process.nextTick</code></li><li><code>promise</code></li><li><code>Object.observe</code></li><li><code>MutationObserver</code></li></ul><p><strong>\u5B8F\u4EFB\u52A1</strong></p><ul><li><code>script</code></li><li><code>setTimeout</code></li><li><code>setInterval</code></li><li><code>setImmediate</code></li><li><code>I/O</code></li><li><code>UI rendering</code></li></ul><blockquote><p>\u5B8F\u4EFB\u52A1\u4E2D\u5305\u62EC\u4E86 <code>script</code> \uFF0C\u6D4F\u89C8\u5668\u4F1A\u5148\u6267\u884C\u4E00\u4E2A\u5B8F\u4EFB\u52A1\uFF0C\u63A5\u4E0B\u6765\u6709\u5F02\u6B65\u4EE3\u7801\u7684\u8BDD\u5C31\u5148\u6267\u884C\u5FAE\u4EFB\u52A1</p></blockquote><p><strong>\u6240\u4EE5\u6B63\u786E\u7684\u4E00\u6B21 Event loop \u987A\u5E8F\u662F\u8FD9\u6837\u7684</strong></p><ul><li>\u6267\u884C\u540C\u6B65\u4EE3\u7801\uFF0C\u8FD9\u5C5E\u4E8E\u5B8F\u4EFB\u52A1</li><li>\u6267\u884C\u6808\u4E3A\u7A7A\uFF0C\u67E5\u8BE2\u662F\u5426\u6709\u5FAE\u4EFB\u52A1\u9700\u8981\u6267\u884C</li><li>\u6267\u884C\u6240\u6709\u5FAE\u4EFB\u52A1</li><li>\u5FC5\u8981\u7684\u8BDD\u6E32\u67D3 UI</li><li>\u7136\u540E\u5F00\u59CB\u4E0B\u4E00\u8F6E <code>Event loop</code>\uFF0C\u6267\u884C\u5B8F\u4EFB\u52A1\u4E2D\u7684\u5F02\u6B65\u4EE3\u7801</li></ul><blockquote><p>\u901A\u8FC7\u4E0A\u8FF0\u7684 <code>Event loop</code> \u987A\u5E8F\u53EF\u77E5\uFF0C\u5982\u679C\u5B8F\u4EFB\u52A1\u4E2D\u7684\u5F02\u6B65\u4EE3\u7801\u6709\u5927\u91CF\u7684\u8BA1\u7B97\u5E76\u4E14\u9700\u8981\u64CD\u4F5C <code>DOM</code> \u7684\u8BDD\uFF0C\u4E3A\u4E86\u66F4\u5FEB\u7684\u54CD\u5E94\u754C\u9762\u54CD\u5E94\uFF0C\u6211\u4EEC\u53EF\u4EE5\u628A\u64CD\u4F5C <code>DOM</code> \u653E\u5165\u5FAE\u4EFB\u52A1\u4E2D</p></blockquote>`,16),us={id:"_12-4-node-\u4E2D\u7684-event-loop",tabindex:"-1"},rs=n("a",{class:"header-anchor",href:"#_12-4-node-\u4E2D\u7684-event-loop","aria-hidden":"true"},"#",-1),is=s(),ks={href:"http://interview.poetries.top/docs/excellent.html#_12-4-node-%E4%B8%AD%E7%9A%84-event-loop",target:"_blank",rel:"noopener noreferrer"},ds=s("#"),bs=s("12.4 Node \u4E2D\u7684 Event loop"),ms=e(`<ul><li><code>Node</code> \u4E2D\u7684 <code>Event loop</code> \u548C\u6D4F\u89C8\u5668\u4E2D\u7684\u4E0D\u76F8\u540C\u3002</li><li><code>Node</code> \u7684 <code>Event loop</code> \u5206\u4E3A<code>6</code>\u4E2A\u9636\u6BB5\uFF0C\u5B83\u4EEC\u4F1A\u6309\u7167\u987A\u5E8F\u53CD\u590D\u8FD0\u884C</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510
\u250C\u2500&gt;\u2502        timers         \u2502
\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518
\u2502  \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510
\u2502  \u2502     I/O callbacks     \u2502
\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518
\u2502  \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510
\u2502  \u2502     idle, prepare     \u2502
\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510
\u2502  \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502   incoming:   \u2502
\u2502  \u2502         poll          \u2502&lt;\u2500\u2500connections\u2500\u2500\u2500     \u2502
\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502   data, etc.  \u2502
\u2502  \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518
\u2502  \u2502        check          \u2502
\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518
\u2502  \u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510
\u2514\u2500\u2500\u2524    close callbacks    \u2502
   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>timer</strong></p><ul><li><code>timers</code> \u9636\u6BB5\u4F1A\u6267\u884C <code>setTimeout</code> \u548C <code>setInterval</code></li><li>\u4E00\u4E2A timer \u6307\u5B9A\u7684\u65F6\u95F4\u5E76\u4E0D\u662F\u51C6\u786E\u65F6\u95F4\uFF0C\u800C\u662F\u5728\u8FBE\u5230\u8FD9\u4E2A\u65F6\u95F4\u540E\u5C3D\u5FEB\u6267\u884C\u56DE\u8C03\uFF0C\u53EF\u80FD\u4F1A\u56E0\u4E3A\u7CFB\u7EDF\u6B63\u5728\u6267\u884C\u522B\u7684\u4E8B\u52A1\u800C\u5EF6\u8FDF</li></ul><p><strong>I/O</strong></p><ul><li><code>I/O</code> \u9636\u6BB5\u4F1A\u6267\u884C\u9664\u4E86 <code>close</code> \u4E8B\u4EF6\uFF0C\u5B9A\u65F6\u5668\u548C <code>setImmediate</code> \u7684\u56DE\u8C03</li></ul><p><strong>poll</strong></p><ul><li><code>poll</code> \u9636\u6BB5\u5F88\u91CD\u8981\uFF0C\u8FD9\u4E00\u9636\u6BB5\u4E2D\uFF0C\u7CFB\u7EDF\u4F1A\u505A\u4E24\u4EF6\u4E8B\u60C5 <ul><li>\u6267\u884C\u5230\u70B9\u7684\u5B9A\u65F6\u5668</li><li>\u6267\u884C <code>poll</code> \u961F\u5217\u4E2D\u7684\u4E8B\u4EF6</li></ul></li><li>\u5E76\u4E14\u5F53 <code>poll</code> \u4E2D\u6CA1\u6709\u5B9A\u65F6\u5668\u7684\u60C5\u51B5\u4E0B\uFF0C\u4F1A\u53D1\u73B0\u4EE5\u4E0B\u4E24\u4EF6\u4E8B\u60C5 <ul><li>\u5982\u679C <code>poll</code> \u961F\u5217\u4E0D\u4E3A\u7A7A\uFF0C\u4F1A\u904D\u5386\u56DE\u8C03\u961F\u5217\u5E76\u540C\u6B65\u6267\u884C\uFF0C\u76F4\u5230\u961F\u5217\u4E3A\u7A7A\u6216\u8005\u7CFB\u7EDF\u9650\u5236</li><li>\u5982\u679C <code>poll</code> \u961F\u5217\u4E3A\u7A7A\uFF0C\u4F1A\u6709\u4E24\u4EF6\u4E8B\u53D1\u751F</li><li>\u5982\u679C\u6709 <code>setImmediate</code> \u9700\u8981\u6267\u884C\uFF0C<code>poll</code> \u9636\u6BB5\u4F1A\u505C\u6B62\u5E76\u4E14\u8FDB\u5165\u5230 <code>check</code> \u9636\u6BB5\u6267\u884C <code>setImmediate</code></li><li>\u5982\u679C\u6CA1\u6709 <code>setImmediate</code> \u9700\u8981\u6267\u884C\uFF0C\u4F1A\u7B49\u5F85\u56DE\u8C03\u88AB\u52A0\u5165\u5230\u961F\u5217\u4E2D\u5E76\u7ACB\u5373\u6267\u884C\u56DE\u8C03</li><li>\u5982\u679C\u6709\u522B\u7684\u5B9A\u65F6\u5668\u9700\u8981\u88AB\u6267\u884C\uFF0C\u4F1A\u56DE\u5230 <code>timer</code> \u9636\u6BB5\u6267\u884C\u56DE\u8C03\u3002</li></ul></li></ul><p><strong>check</strong></p><ul><li><code>check</code> \u9636\u6BB5\u6267\u884C <code>setImmediate</code></li></ul><p><strong>close callbacks</strong></p><ul><li><code>close callbacks</code> \u9636\u6BB5\u6267\u884C <code>close</code> \u4E8B\u4EF6</li><li>\u5E76\u4E14\u5728 <code>Node</code> \u4E2D\uFF0C\u6709\u4E9B\u60C5\u51B5\u4E0B\u7684\u5B9A\u65F6\u5668\u6267\u884C\u987A\u5E8F\u662F\u968F\u673A\u7684</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;setTimeout&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setImmediate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;setImmediate&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// \u8FD9\u91CC\u53EF\u80FD\u4F1A\u8F93\u51FA setTimeout\uFF0CsetImmediate</span>
<span class="token comment">// \u53EF\u80FD\u4E5F\u4F1A\u76F8\u53CD\u7684\u8F93\u51FA\uFF0C\u8FD9\u53D6\u51B3\u4E8E\u6027\u80FD</span>
<span class="token comment">// \u56E0\u4E3A\u53EF\u80FD\u8FDB\u5165 event loop \u7528\u4E86\u4E0D\u5230 1 \u6BEB\u79D2\uFF0C\u8FD9\u65F6\u5019\u4F1A\u6267\u884C setImmediate</span>
<span class="token comment">// \u5426\u5219\u4F1A\u6267\u884C setTimeout</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>\u4E0A\u9762\u4ECB\u7ECD\u7684\u90FD\u662F <code>macrotask</code> \u7684\u6267\u884C\u60C5\u51B5\uFF0C<code>microtask</code> \u4F1A\u5728\u4EE5\u4E0A\u6BCF\u4E2A\u9636\u6BB5\u5B8C\u6210\u540E\u7ACB\u5373\u6267\u884C</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer1&#39;</span><span class="token punctuation">)</span>

    Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise1&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;timer2&#39;</span><span class="token punctuation">)</span>

    Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;promise2&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">// \u4EE5\u4E0A\u4EE3\u7801\u5728\u6D4F\u89C8\u5668\u548C node \u4E2D\u6253\u5370\u60C5\u51B5\u662F\u4E0D\u540C\u7684</span>
<span class="token comment">// \u6D4F\u89C8\u5668\u4E2D\u4E00\u5B9A\u6253\u5370 timer1, promise1, timer2, promise2</span>
<span class="token comment">// node \u4E2D\u53EF\u80FD\u6253\u5370 timer1, timer2, promise1, promise2</span>
<span class="token comment">// \u4E5F\u53EF\u80FD\u6253\u5370 timer1, promise1, timer2, promise2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><blockquote><p><code>Node</code> \u4E2D\u7684 <code>process.nextTick</code> \u4F1A\u5148\u4E8E\u5176\u4ED6 <code>microtask</code> \u6267\u884C</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;timer1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;promise1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;nextTick&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// nextTick, timer1, promise1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>\u5BF9\u4E8E <code>microtask</code> \u6765\u8BF4\uFF0C\u5B83\u4F1A\u5728\u4EE5\u4E0A\u6BCF\u4E2A\u9636\u6BB5\u5B8C\u6210\u524D\u6E05\u7A7A <code>microtask</code> \u961F\u5217\uFF0C\u4E0B\u56FE\u4E2D\u7684 <code>Tick</code> \u5C31\u4EE3\u8868\u4E86 <code>microtask</code></p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/5.png" alt="img"></p>`,19),hs={id:"_13-\u624B\u5199-call\u3001apply-\u53CA-bind-\u51FD\u6570",tabindex:"-1"},gs=n("a",{class:"header-anchor",href:"#_13-\u624B\u5199-call\u3001apply-\u53CA-bind-\u51FD\u6570","aria-hidden":"true"},"#",-1),_s=s(),fs={href:"http://interview.poetries.top/docs/excellent.html#_13-%E6%89%8B%E5%86%99-call%E3%80%81apply-%E5%8F%8A-bind-%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},ys=s("#"),vs=s("13 \u624B\u5199 call\u3001apply \u53CA bind \u51FD\u6570"),ws=e(`<blockquote><p>\u9996\u5148\u4ECE\u4EE5\u4E0B\u51E0\u70B9\u6765\u8003\u8651\u5982\u4F55\u5B9E\u73B0\u8FD9\u51E0\u4E2A\u51FD\u6570</p></blockquote><ul><li>\u4E0D\u4F20\u5165\u7B2C\u4E00\u4E2A\u53C2\u6570\uFF0C\u90A3\u4E48\u4E0A\u4E0B\u6587\u9ED8\u8BA4\u4E3A <code>window</code></li><li>\u6539\u53D8\u4E86 <code>this</code> \u6307\u5411\uFF0C\u8BA9\u65B0\u7684\u5BF9\u8C61\u53EF\u4EE5\u6267\u884C\u8BE5\u51FD\u6570\uFF0C\u5E76\u80FD\u63A5\u53D7\u53C2\u6570</li></ul><p><strong>\u5B9E\u73B0 call</strong></p><ul><li>\u9996\u5148 <code>context</code>\u4E3A\u53EF\u9009\u53C2\u6570\uFF0C\u5982\u679C\u4E0D\u4F20\u7684\u8BDD\u9ED8\u8BA4\u4E0A\u4E0B\u6587\u4E3A <code>window</code></li><li>\u63A5\u4E0B\u6765\u7ED9 <code>context</code> \u521B\u5EFA\u4E00\u4E2A <code>fn</code> \u5C5E\u6027\uFF0C\u5E76\u5C06\u503C\u8BBE\u7F6E\u4E3A\u9700\u8981\u8C03\u7528\u7684\u51FD\u6570</li><li>\u56E0\u4E3A <code>call</code> \u53EF\u4EE5\u4F20\u5165\u591A\u4E2A\u53C2\u6570\u4F5C\u4E3A\u8C03\u7528\u51FD\u6570\u7684\u53C2\u6570\uFF0C\u6240\u4EE5\u9700\u8981\u5C06\u53C2\u6570\u5265\u79BB\u51FA\u6765</li><li>\u7136\u540E\u8C03\u7528\u51FD\u6570\u5E76\u5C06\u5BF9\u8C61\u4E0A\u7684\u51FD\u6570\u5220\u9664</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&#39;Error&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  context <span class="token operator">=</span> context <span class="token operator">||</span> window
  context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>apply\u5B9E\u73B0</strong></p><blockquote><p><code>apply</code> \u7684\u5B9E\u73B0\u4E5F\u7C7B\u4F3C\uFF0C\u533A\u522B\u5728\u4E8E\u5BF9\u53C2\u6570\u7684\u5904\u7406</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myApply</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&#39;Error&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  context <span class="token operator">=</span> context <span class="token operator">||</span> window
  context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">let</span> result
  <span class="token comment">// \u5904\u7406\u53C2\u6570\u548C call \u6709\u533A\u522B</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>bind \u7684\u5B9E\u73B0</strong></p><blockquote><p><code>bind</code> \u7684\u5B9E\u73B0\u5BF9\u6BD4\u5176\u4ED6\u4E24\u4E2A\u51FD\u6570\u7565\u5FAE\u5730\u590D\u6742\u4E86\u4E00\u70B9\uFF0C\u56E0\u4E3A <code>bind</code> \u9700\u8981\u8FD4\u56DE\u4E00\u4E2A\u51FD\u6570\uFF0C\u9700\u8981\u5224\u65AD\u4E00\u4E9B\u8FB9\u754C\u95EE\u9898\uFF0C\u4EE5\u4E0B\u662F <code>bind</code> \u7684\u5B9E\u73B0</p></blockquote><ul><li><code>bind</code> \u8FD4\u56DE\u4E86\u4E00\u4E2A\u51FD\u6570\uFF0C\u5BF9\u4E8E\u51FD\u6570\u6765\u8BF4\u6709\u4E24\u79CD\u65B9\u5F0F\u8C03\u7528\uFF0C\u4E00\u79CD\u662F\u76F4\u63A5\u8C03\u7528\uFF0C\u4E00\u79CD\u662F\u901A\u8FC7 <code>new</code> \u7684\u65B9\u5F0F\uFF0C\u6211\u4EEC\u5148\u6765\u8BF4\u76F4\u63A5\u8C03\u7528\u7684\u65B9\u5F0F</li><li>\u5BF9\u4E8E\u76F4\u63A5\u8C03\u7528\u6765\u8BF4\uFF0C\u8FD9\u91CC\u9009\u62E9\u4E86 <code>apply</code> \u7684\u65B9\u5F0F\u5B9E\u73B0\uFF0C\u4F46\u662F\u5BF9\u4E8E\u53C2\u6570\u9700\u8981\u6CE8\u610F\u4EE5\u4E0B\u60C5\u51B5\uFF1A\u56E0\u4E3A <code>bind</code> \u53EF\u4EE5\u5B9E\u73B0\u7C7B\u4F3C\u8FD9\u6837\u7684\u4EE3\u7801 <code>f.bind(obj, 1)(2)</code>\uFF0C\u6240\u4EE5\u6211\u4EEC\u9700\u8981\u5C06\u4E24\u8FB9\u7684\u53C2\u6570\u62FC\u63A5\u8D77\u6765\uFF0C\u4E8E\u662F\u5C31\u6709\u4E86\u8FD9\u6837\u7684\u5B9E\u73B0 <code>args.concat(...arguments)</code></li><li>\u6700\u540E\u6765\u8BF4\u901A\u8FC7 <code>new</code> \u7684\u65B9\u5F0F\uFF0C\u5728\u4E4B\u524D\u7684\u7AE0\u8282\u4E2D\u6211\u4EEC\u5B66\u4E60\u8FC7\u5982\u4F55\u5224\u65AD <code>this</code>\uFF0C\u5BF9\u4E8E <code>new</code> \u7684\u60C5\u51B5\u6765\u8BF4\uFF0C\u4E0D\u4F1A\u88AB\u4EFB\u4F55\u65B9\u5F0F\u6539\u53D8 <code>this</code>\uFF0C\u6240\u4EE5\u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\u6211\u4EEC\u9700\u8981\u5FFD\u7565\u4F20\u5165\u7684 <code>this</code></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myBind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&#39;Error&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> _this <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token comment">// \u8FD4\u56DE\u4E00\u4E2A\u51FD\u6570</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u56E0\u4E3A\u8FD4\u56DE\u4E86\u4E00\u4E2A\u51FD\u6570\uFF0C\u6211\u4EEC\u53EF\u4EE5 new F()\uFF0C\u6240\u4EE5\u9700\u8981\u5224\u65AD</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">F</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">_this</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">,</span> <span class="token operator">...</span>arguments<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">_this</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div>`,12),xs={id:"_14-new",tabindex:"-1"},qs=n("a",{class:"header-anchor",href:"#_14-new","aria-hidden":"true"},"#",-1),Es=s(),js={href:"http://interview.poetries.top/docs/excellent.html#_14-new",target:"_blank",rel:"noopener noreferrer"},Cs=s("#"),Ss=s("14 new"),As=e(`<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A<code>new</code> \u7684\u539F\u7406\u662F\u4EC0\u4E48\uFF1F\u901A\u8FC7 <code>new</code>\u7684\u65B9\u5F0F\u521B\u5EFA\u5BF9\u8C61\u548C\u901A\u8FC7\u5B57\u9762\u91CF\u521B\u5EFA\u6709\u4EC0\u4E48\u533A\u522B\uFF1F</p></blockquote><p><strong>\u5728\u8C03\u7528 new \u7684\u8FC7\u7A0B\u4E2D\u4F1A\u53D1\u751F\u56DB\u4EF6\u4E8B\u60C5</strong></p><ul><li>\u65B0\u751F\u6210\u4E86\u4E00\u4E2A\u5BF9\u8C61</li><li>\u94FE\u63A5\u5230\u539F\u578B</li><li>\u7ED1\u5B9A <code>this</code></li><li>\u8FD4\u56DE\u65B0\u5BF9\u8C61</li></ul><blockquote><p>\u6839\u636E\u4EE5\u4E0A\u51E0\u4E2A\u8FC7\u7A0B\uFF0C\u6211\u4EEC\u4E5F\u53EF\u4EE5\u8BD5\u7740\u6765\u81EA\u5DF1\u5B9E\u73B0\u4E00\u4E2A new</p></blockquote><ul><li>\u521B\u5EFA\u4E00\u4E2A\u7A7A\u5BF9\u8C61</li><li>\u83B7\u53D6\u6784\u9020\u51FD\u6570</li><li>\u8BBE\u7F6E\u7A7A\u5BF9\u8C61\u7684\u539F\u578B</li><li>\u7ED1\u5B9A <code>this</code> \u5E76\u6267\u884C\u6784\u9020\u51FD\u6570</li><li>\u786E\u4FDD\u8FD4\u56DE\u503C\u4E3A\u5BF9\u8C61</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">let</span> Con <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
  obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Con</span><span class="token punctuation">.</span>prototype
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">Con</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
  <span class="token keyword">return</span> result <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token operator">?</span> result <span class="token operator">:</span> obj
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>\u5BF9\u4E8E\u5BF9\u8C61\u6765\u8BF4\uFF0C\u5176\u5B9E\u90FD\u662F\u901A\u8FC7 <code>new</code> \u4EA7\u751F\u7684\uFF0C\u65E0\u8BBA\u662F <code>function Foo()</code> \u8FD8\u662F <code>let a = { b : 1 }</code>\u3002</li><li>\u5BF9\u4E8E\u521B\u5EFA\u4E00\u4E2A\u5BF9\u8C61\u6765\u8BF4\uFF0C\u66F4\u63A8\u8350\u4F7F\u7528\u5B57\u9762\u91CF\u7684\u65B9\u5F0F\u521B\u5EFA\u5BF9\u8C61\uFF08\u65E0\u8BBA\u6027\u80FD\u4E0A\u8FD8\u662F\u53EF\u8BFB\u6027\uFF09\u3002\u56E0\u4E3A\u4F60\u4F7F\u7528 <code>new Object()</code> \u7684\u65B9\u5F0F\u521B\u5EFA\u5BF9\u8C61\u9700\u8981\u901A\u8FC7\u4F5C\u7528\u57DF\u94FE\u4E00\u5C42\u5C42\u627E\u5230 <code>Object</code>\uFF0C\u4F46\u662F\u4F60\u4F7F\u7528\u5B57\u9762\u91CF\u7684\u65B9\u5F0F\u5C31\u6CA1\u8FD9\u4E2A\u95EE\u9898</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// function \u5C31\u662F\u4E2A\u8BED\u6CD5\u7CD6</span>
<span class="token comment">// \u5185\u90E8\u7B49\u540C\u4E8E new Function()</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token comment">// \u8FD9\u4E2A\u5B57\u9762\u91CF\u5185\u90E8\u4E5F\u662F\u4F7F\u7528\u4E86 new Object()</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,8),Bs={id:"_15-instanceof-\u7684\u539F\u7406",tabindex:"-1"},Ts=n("a",{class:"header-anchor",href:"#_15-instanceof-\u7684\u539F\u7406","aria-hidden":"true"},"#",-1),Ps=s(),Ds={href:"http://interview.poetries.top/docs/excellent.html#_15-instanceof-%E7%9A%84%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},Ms=s("#"),Os=s("15 instanceof \u7684\u539F\u7406"),Rs=e(`<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A<code>instanceof</code> \u7684\u539F\u7406\u662F\u4EC0\u4E48\uFF1F</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>instanceof\` \u53EF\u4EE5\u6B63\u786E\u7684\u5224\u65AD\u5BF9\u8C61\u7684\u7C7B\u578B\uFF0C\u56E0\u4E3A\u5185\u90E8\u673A\u5236\u662F\u901A\u8FC7\u5224\u65AD\u5BF9\u8C61\u7684\u539F\u578B\u94FE\u4E2D\u662F\u4E0D\u662F\u80FD\u627E\u5230\u7C7B\u578B\u7684 \`prototype
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>\u5B9E\u73B0\u4E00\u4E0B instanceof</strong></p><ul><li>\u9996\u5148\u83B7\u53D6\u7C7B\u578B\u7684\u539F\u578B</li><li>\u7136\u540E\u83B7\u5F97\u5BF9\u8C61\u7684\u539F\u578B</li><li>\u7136\u540E\u4E00\u76F4\u5FAA\u73AF\u5224\u65AD\u5BF9\u8C61\u7684\u539F\u578B\u662F\u5426\u7B49\u4E8E\u7C7B\u578B\u7684\u539F\u578B\uFF0C\u76F4\u5230\u5BF9\u8C61\u539F\u578B\u4E3A <code>null</code>\uFF0C\u56E0\u4E3A\u539F\u578B\u94FE\u6700\u7EC8\u4E3A <code>null</code></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">myInstanceof</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> prototype <span class="token operator">=</span> right<span class="token punctuation">.</span>prototype
  left <span class="token operator">=</span> left<span class="token punctuation">.</span>__proto__
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> left <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prototype <span class="token operator">===</span> left<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    left <span class="token operator">=</span> left<span class="token punctuation">.</span>__proto__
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,5),Fs={id:"_16-\u4E3A\u4EC0\u4E48-0-1-0-2-0-3",tabindex:"-1"},Ns=n("a",{class:"header-anchor",href:"#_16-\u4E3A\u4EC0\u4E48-0-1-0-2-0-3","aria-hidden":"true"},"#",-1),Ls=s(),Vs={href:"http://interview.poetries.top/docs/excellent.html#_16-%E4%B8%BA%E4%BB%80%E4%B9%88-0-1-0-2-0-3",target:"_blank",rel:"noopener noreferrer"},Is=s("#"),Hs=s("16 \u4E3A\u4EC0\u4E48 0.1 + 0.2 != 0.3"),Js=e(`<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u4E3A\u4EC0\u4E48 <code>0.1 + 0.2 != 0.3</code>\uFF1F\u5982\u4F55\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF1F</p></blockquote><p><strong>\u539F\u56E0</strong>\uFF0C\u56E0\u4E3A <code>JS</code> \u91C7\u7528 <code>IEEE 754</code>\u53CC\u7CBE\u5EA6\u7248\u672C\uFF08<code>64</code>\u4F4D\uFF09\uFF0C\u5E76\u4E14\u53EA\u8981\u91C7\u7528 <code>IEEE 754</code>\u7684\u8BED\u8A00\u90FD\u6709\u8BE5\u95EE\u9898</p><blockquote><p>\u6211\u4EEC\u90FD\u77E5\u9053\u8BA1\u7B97\u673A\u662F\u901A\u8FC7\u4E8C\u8FDB\u5236\u6765\u5B58\u50A8\u4E1C\u897F\u7684\uFF0C\u90A3\u4E48 <code>0.1</code> \u5728\u4E8C\u8FDB\u5236\u4E2D\u4F1A\u8868\u793A\u4E3A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// (0011) \u8868\u793A\u5FAA\u73AF</span>
<span class="token number">0.1</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token operator">^</span><span class="token operator">-</span><span class="token number">4</span> <span class="token operator">*</span> <span class="token number">1.10011</span><span class="token punctuation">(</span><span class="token number">0011</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>\u6211\u4EEC\u53EF\u4EE5\u53D1\u73B0\uFF0C<code>0.1</code> \u5728\u4E8C\u8FDB\u5236\u4E2D\u662F\u65E0\u9650\u5FAA\u73AF\u7684\u4E00\u4E9B\u6570\u5B57\uFF0C\u5176\u5B9E\u4E0D\u53EA\u662F <code>0.1</code>\uFF0C\u5176\u5B9E\u5F88\u591A\u5341\u8FDB\u5236\u5C0F\u6570\u7528\u4E8C\u8FDB\u5236\u8868\u793A\u90FD\u662F\u65E0\u9650\u5FAA\u73AF\u7684\u3002\u8FD9\u6837\u5176\u5B9E\u6CA1\u4EC0\u4E48\u95EE\u9898\uFF0C\u4F46\u662F <code>JS</code>\u91C7\u7528\u7684\u6D6E\u70B9\u6570\u6807\u51C6\u5374\u4F1A\u88C1\u526A\u6389\u6211\u4EEC\u7684\u6570\u5B57\u3002</p></blockquote><p><strong>IEEE 754 \u53CC\u7CBE\u5EA6\u7248\u672C\uFF0864\u4F4D\uFF09\u5C06 64 \u4F4D\u5206\u4E3A\u4E86\u4E09\u6BB5</strong></p><ul><li>\u7B2C\u4E00\u4F4D\u7528\u6765\u8868\u793A\u7B26\u53F7</li><li>\u63A5\u4E0B\u53BB\u7684 <code>11</code> \u4F4D\u7528\u6765\u8868\u793A\u6307\u6570</li><li>\u5176\u4ED6\u7684\u4F4D\u6570\u7528\u6765\u8868\u793A\u6709\u6548\u4F4D\uFF0C\u4E5F\u5C31\u662F\u7528\u4E8C\u8FDB\u5236\u8868\u793A <code>0.1</code> \u4E2D\u7684 <code>10011(0011)</code></li></ul><blockquote><p>\u90A3\u4E48\u8FD9\u4E9B\u5FAA\u73AF\u7684\u6570\u5B57\u88AB\u88C1\u526A\u4E86\uFF0C\u5C31\u4F1A\u51FA\u73B0\u7CBE\u5EA6\u4E22\u5931\u7684\u95EE\u9898\uFF0C\u4E5F\u5C31\u9020\u6210\u4E86 <code>0.1</code> \u4E0D\u518D\u662F <code>0.1</code> \u4E86\uFF0C\u800C\u662F\u53D8\u6210\u4E86 <code>0.100000000000000002</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>0.100000000000000002 === 0.1 // true
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u90A3\u4E48\u540C\u6837\u7684\uFF0C<code>0.2</code> \u5728\u4E8C\u8FDB\u5236\u4E5F\u662F\u65E0\u9650\u5FAA\u73AF\u7684\uFF0C\u88AB\u88C1\u526A\u540E\u4E5F\u5931\u53BB\u4E86\u7CBE\u5EA6\u53D8\u6210\u4E86 <code>0.200000000000000002</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>0.200000000000000002 === 0.2 // true
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u6240\u4EE5\u8FD9\u4E24\u8005\u76F8\u52A0\u4E0D\u7B49\u4E8E <code>0.3</code> \u800C\u662F <code>0.300000000000000004</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>0.1 + 0.2 === 0.30000000000000004 // true
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u90A3\u4E48\u53EF\u80FD\u4F60\u53C8\u4F1A\u6709\u4E00\u4E2A\u7591\u95EE\uFF0C\u65E2\u7136 <code>0.1</code> \u4E0D\u662F <code>0.1</code>\uFF0C\u90A3\u4E3A\u4EC0\u4E48 <code>console.log(0.1)</code> \u5374\u662F\u6B63\u786E\u7684\u5462\uFF1F</p></blockquote><blockquote><p>\u56E0\u4E3A\u5728\u8F93\u5165\u5185\u5BB9\u7684\u65F6\u5019\uFF0C\u4E8C\u8FDB\u5236\u88AB\u8F6C\u6362\u4E3A\u4E86\u5341\u8FDB\u5236\uFF0C\u5341\u8FDB\u5236\u53C8\u88AB\u8F6C\u6362\u4E3A\u4E86\u5B57\u7B26\u4E32\uFF0C\u5728\u8FD9\u4E2A\u8F6C\u6362\u7684\u8FC7\u7A0B\u4E2D\u53D1\u751F\u4E86\u53D6\u8FD1\u4F3C\u503C\u7684\u8FC7\u7A0B\uFF0C\u6240\u4EE5\u6253\u5370\u51FA\u6765\u7684\u5176\u5B9E\u662F\u4E00\u4E2A\u8FD1\u4F3C\u503C\uFF0C\u4F60\u4E5F\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u4EE3\u7801\u6765\u9A8C\u8BC1</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>console.log(0.100000000000000002) // 0.1
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>\u89E3\u51B3</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0.3</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,18),Us={id:"_17-\u4E8B\u4EF6\u673A\u5236",tabindex:"-1"},zs=n("a",{class:"header-anchor",href:"#_17-\u4E8B\u4EF6\u673A\u5236","aria-hidden":"true"},"#",-1),Ws=s(),Xs={href:"http://interview.poetries.top/docs/excellent.html#_17-%E4%BA%8B%E4%BB%B6%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"},Gs=s("#"),Qs=s("17 \u4E8B\u4EF6\u673A\u5236"),Ks=n("blockquote",null,[n("p",null,"\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u4E8B\u4EF6\u7684\u89E6\u53D1\u8FC7\u7A0B\u662F\u600E\u4E48\u6837\u7684\uFF1F\u77E5\u9053\u4EC0\u4E48\u662F\u4E8B\u4EF6\u4EE3\u7406\u561B\uFF1F")],-1),$s={id:"_17-1-\u4E8B\u4EF6\u89E6\u53D1\u4E09\u9636\u6BB5",tabindex:"-1"},Ys=n("a",{class:"header-anchor",href:"#_17-1-\u4E8B\u4EF6\u89E6\u53D1\u4E09\u9636\u6BB5","aria-hidden":"true"},"#",-1),Zs=s(),na={href:"http://interview.poetries.top/docs/excellent.html#_17-1-%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91%E4%B8%89%E9%98%B6%E6%AE%B5",target:"_blank",rel:"noopener noreferrer"},sa=s("#"),aa=s("17.1 \u4E8B\u4EF6\u89E6\u53D1\u4E09\u9636\u6BB5"),pa=e(`<p><strong>\u4E8B\u4EF6\u89E6\u53D1\u6709\u4E09\u4E2A\u9636\u6BB5</strong>\uFF1A</p><ul><li><code>window</code>\u5F80\u4E8B\u4EF6\u89E6\u53D1\u5904\u4F20\u64AD\uFF0C\u9047\u5230\u6CE8\u518C\u7684\u6355\u83B7\u4E8B\u4EF6\u4F1A\u89E6\u53D1</li><li>\u4F20\u64AD\u5230\u4E8B\u4EF6\u89E6\u53D1\u5904\u65F6\u89E6\u53D1\u6CE8\u518C\u7684\u4E8B\u4EF6</li><li>\u4ECE\u4E8B\u4EF6\u89E6\u53D1\u5904\u5F80 <code>window</code> \u4F20\u64AD\uFF0C\u9047\u5230\u6CE8\u518C\u7684\u5192\u6CE1\u4E8B\u4EF6\u4F1A\u89E6\u53D1</li></ul><blockquote><p>\u4E8B\u4EF6\u89E6\u53D1\u4E00\u822C\u6765\u8BF4\u4F1A\u6309\u7167\u4E0A\u9762\u7684\u987A\u5E8F\u8FDB\u884C\uFF0C\u4F46\u662F\u4E5F\u6709\u7279\u4F8B\uFF0C\u5982\u679C\u7ED9\u4E00\u4E2A <code>body</code> \u4E2D\u7684\u5B50\u8282\u70B9\u540C\u65F6\u6CE8\u518C\u5192\u6CE1\u548C\u6355\u83B7\u4E8B\u4EF6\uFF0C\u4E8B\u4EF6\u89E6\u53D1\u4F1A\u6309\u7167\u6CE8\u518C\u7684\u987A\u5E8F\u6267\u884C</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4EE5\u4E0B\u4F1A\u5148\u6253\u5370\u5192\u6CE1\u7136\u540E\u662F\u6355\u83B7</span>
node<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span>
  <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u5192\u6CE1&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span>
<span class="token punctuation">)</span>
node<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span>
  <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6355\u83B7 &#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">true</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div>`,4),ea={id:"_17-2-\u6CE8\u518C\u4E8B\u4EF6",tabindex:"-1"},ta=n("a",{class:"header-anchor",href:"#_17-2-\u6CE8\u518C\u4E8B\u4EF6","aria-hidden":"true"},"#",-1),oa=s(),ca={href:"http://interview.poetries.top/docs/excellent.html#_17-2-%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},la=s("#"),ua=s("17.2 \u6CE8\u518C\u4E8B\u4EF6"),ra=e(`<blockquote><p>\u901A\u5E38\u6211\u4EEC\u4F7F\u7528 <code>addEventListener</code> \u6CE8\u518C\u4E8B\u4EF6\uFF0C\u8BE5\u51FD\u6570\u7684\u7B2C\u4E09\u4E2A\u53C2\u6570\u53EF\u4EE5\u662F\u5E03\u5C14\u503C\uFF0C\u4E5F\u53EF\u4EE5\u662F\u5BF9\u8C61\u3002\u5BF9\u4E8E\u5E03\u5C14\u503C <code>useCapture</code> \u53C2\u6570\u6765\u8BF4\uFF0C\u8BE5\u53C2\u6570\u9ED8\u8BA4\u503C\u4E3A <code>false</code> \uFF0C<code>useCapture</code> \u51B3\u5B9A\u4E86\u6CE8\u518C\u7684\u4E8B\u4EF6\u662F\u6355\u83B7\u4E8B\u4EF6\u8FD8\u662F\u5192\u6CE1\u4E8B\u4EF6\u3002\u5BF9\u4E8E\u5BF9\u8C61\u53C2\u6570\u6765\u8BF4\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u51E0\u4E2A\u5C5E\u6027</p></blockquote><ul><li><code>capture</code>\uFF1A\u5E03\u5C14\u503C\uFF0C\u548C <code>useCapture</code> \u4F5C\u7528\u4E00\u6837</li><li><code>once</code>\uFF1A\u5E03\u5C14\u503C\uFF0C\u503C\u4E3A <code>true</code> \u8868\u793A\u8BE5\u56DE\u8C03\u53EA\u4F1A\u8C03\u7528\u4E00\u6B21\uFF0C\u8C03\u7528\u540E\u4F1A\u79FB\u9664\u76D1\u542C</li><li><code>passive</code>\uFF1A\u5E03\u5C14\u503C\uFF0C\u8868\u793A\u6C38\u8FDC\u4E0D\u4F1A\u8C03\u7528 <code>preventDefault</code></li></ul><blockquote><p>\u4E00\u822C\u6765\u8BF4\uFF0C\u5982\u679C\u6211\u4EEC\u53EA\u5E0C\u671B\u4E8B\u4EF6\u53EA\u89E6\u53D1\u5728\u76EE\u6807\u4E0A\uFF0C\u8FD9\u65F6\u5019\u53EF\u4EE5\u4F7F\u7528 <code>stopPropagation</code>\u6765\u963B\u6B62\u4E8B\u4EF6\u7684\u8FDB\u4E00\u6B65\u4F20\u64AD\u3002\u901A\u5E38\u6211\u4EEC\u8BA4\u4E3A <code>stopPropagation</code> \u662F\u7528\u6765\u963B\u6B62\u4E8B\u4EF6\u5192\u6CE1\u7684\uFF0C\u5176\u5B9E\u8BE5\u51FD\u6570\u4E5F\u53EF\u4EE5\u963B\u6B62\u6355\u83B7\u4E8B\u4EF6<code>\u3002stopImmediatePropagation</code>\u540C\u6837\u4E5F\u80FD\u5B9E\u73B0\u963B\u6B62\u4E8B\u4EF6\uFF0C\u4F46\u662F\u8FD8\u80FD\u963B\u6B62\u8BE5\u4E8B\u4EF6\u76EE\u6807\u6267\u884C\u522B\u7684\u6CE8\u518C\u4E8B\u4EF6\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>node<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span>
  <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">stopImmediatePropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u5192\u6CE1&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span>
<span class="token punctuation">)</span>
<span class="token comment">// \u70B9\u51FB node \u53EA\u4F1A\u6267\u884C\u4E0A\u9762\u7684\u51FD\u6570\uFF0C\u8BE5\u51FD\u6570\u4E0D\u4F1A\u6267\u884C</span>
node<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
  <span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span>
  <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6355\u83B7 &#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">true</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div>`,4),ia={id:"_17-3-\u4E8B\u4EF6\u4EE3\u7406",tabindex:"-1"},ka=n("a",{class:"header-anchor",href:"#_17-3-\u4E8B\u4EF6\u4EE3\u7406","aria-hidden":"true"},"#",-1),da=s(),ba={href:"http://interview.poetries.top/docs/excellent.html#_17-3-%E4%BA%8B%E4%BB%B6%E4%BB%A3%E7%90%86",target:"_blank",rel:"noopener noreferrer"},ma=s("#"),ha=s("17.3 \u4E8B\u4EF6\u4EE3\u7406"),ga=e(`<blockquote><p>\u5982\u679C\u4E00\u4E2A\u8282\u70B9\u4E2D\u7684\u5B50\u8282\u70B9\u662F\u52A8\u6001\u751F\u6210\u7684\uFF0C\u90A3\u4E48\u5B50\u8282\u70B9\u9700\u8981\u6CE8\u518C\u4E8B\u4EF6\u7684\u8BDD\u5E94\u8BE5\u6CE8\u518C\u5728\u7236\u8282\u70B9\u4E0A</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ul<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">let</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#ul&#39;</span><span class="token punctuation">)</span>
	ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>\u4E8B\u4EF6\u4EE3\u7406\u7684\u65B9\u5F0F\u76F8\u8F83\u4E8E\u76F4\u63A5\u7ED9\u76EE\u6807\u6CE8\u518C\u4E8B\u4EF6\u6765\u8BF4\uFF0C\u6709\u4EE5\u4E0B\u4F18\u70B9</strong>\uFF1A</p><ul><li>\u8282\u7701\u5185\u5B58</li><li>\u4E0D\u9700\u8981\u7ED9\u5B50\u8282\u70B9\u6CE8\u9500\u4E8B\u4EF6</li></ul>`,4),_a={id:"_18-\u8DE8\u57DF",tabindex:"-1"},fa=n("a",{class:"header-anchor",href:"#_18-\u8DE8\u57DF","aria-hidden":"true"},"#",-1),ya=s(),va={href:"http://interview.poetries.top/docs/excellent.html#_18-%E8%B7%A8%E5%9F%9F",target:"_blank",rel:"noopener noreferrer"},wa=s("#"),xa=s("18 \u8DE8\u57DF"),qa=e("<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u4EC0\u4E48\u662F\u8DE8\u57DF\uFF1F\u4E3A\u4EC0\u4E48\u6D4F\u89C8\u5668\u8981\u4F7F\u7528\u540C\u6E90\u7B56\u7565\uFF1F\u4F60\u6709\u51E0\u79CD\u65B9\u5F0F\u53EF\u4EE5\u89E3\u51B3\u8DE8\u57DF\u95EE\u9898\uFF1F\u4E86\u89E3\u9884\u68C0\u8BF7\u6C42\u561B\uFF1F</p></blockquote><ul><li>\u56E0\u4E3A\u6D4F\u89C8\u5668\u51FA\u4E8E\u5B89\u5168\u8003\u8651\uFF0C\u6709\u540C\u6E90\u7B56\u7565\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5982\u679C\u534F\u8BAE\u3001\u57DF\u540D\u6216\u8005\u7AEF\u53E3\u6709\u4E00\u4E2A\u4E0D\u540C\u5C31\u662F\u8DE8\u57DF\uFF0C<code>Ajax</code> \u8BF7\u6C42\u4F1A\u5931\u8D25\u3002</li><li>\u90A3\u4E48\u662F\u51FA\u4E8E\u4EC0\u4E48\u5B89\u5168\u8003\u8651\u624D\u4F1A\u5F15\u5165\u8FD9\u79CD\u673A\u5236\u5462\uFF1F \u5176\u5B9E\u4E3B\u8981\u662F\u7528\u6765\u9632\u6B62 <code>CSRF</code> \u653B\u51FB\u7684\u3002\u7B80\u5355\u70B9\u8BF4\uFF0C<code>CSRF</code> \u653B\u51FB\u662F\u5229\u7528\u7528\u6237\u7684\u767B\u5F55\u6001\u53D1\u8D77\u6076\u610F\u8BF7\u6C42\u3002</li><li>\u4E5F\u5C31\u662F\u8BF4\uFF0C\u6CA1\u6709\u540C\u6E90\u7B56\u7565\u7684\u60C5\u51B5\u4E0B\uFF0C<code>A</code> \u7F51\u7AD9\u53EF\u4EE5\u88AB\u4EFB\u610F\u5176\u4ED6\u6765\u6E90\u7684 <code>Ajax</code> \u8BBF\u95EE\u5230\u5185\u5BB9\u3002\u5982\u679C\u4F60\u5F53\u524D <code>A</code> \u7F51\u7AD9\u8FD8\u5B58\u5728\u767B\u5F55\u6001\uFF0C\u90A3\u4E48\u5BF9\u65B9\u5C31\u53EF\u4EE5\u901A\u8FC7 <code>Ajax</code> \u83B7\u5F97\u4F60\u7684\u4EFB\u4F55\u4FE1\u606F\u3002\u5F53\u7136\u8DE8\u57DF\u5E76\u4E0D\u80FD\u5B8C\u5168\u963B\u6B62 <code>CSRF</code>\u3002</li></ul><blockquote><p>\u7136\u540E\u6211\u4EEC\u6765\u8003\u8651\u4E00\u4E2A\u95EE\u9898\uFF0C\u8BF7\u6C42\u8DE8\u57DF\u4E86\uFF0C\u90A3\u4E48\u8BF7\u6C42\u5230\u5E95\u53D1\u51FA\u53BB\u6CA1\u6709\uFF1F \u8BF7\u6C42\u5FC5\u7136\u662F\u53D1\u51FA\u53BB\u4E86\uFF0C\u4F46\u662F\u6D4F\u89C8\u5668\u62E6\u622A\u4E86\u54CD\u5E94\u3002\u4F60\u53EF\u80FD\u4F1A\u7591\u95EE\u660E\u660E\u901A\u8FC7\u8868\u5355\u7684\u65B9\u5F0F\u53EF\u4EE5\u53D1\u8D77\u8DE8\u57DF\u8BF7\u6C42\uFF0C\u4E3A\u4EC0\u4E48 <code>Ajax</code>\u5C31\u4E0D\u4F1A\u3002\u56E0\u4E3A\u5F52\u6839\u7ED3\u5E95\uFF0C\u8DE8\u57DF\u662F\u4E3A\u4E86\u963B\u6B62\u7528\u6237\u8BFB\u53D6\u5230\u53E6\u4E00\u4E2A\u57DF\u540D\u4E0B\u7684\u5185\u5BB9\uFF0C<code>Ajax</code> \u53EF\u4EE5\u83B7\u53D6\u54CD\u5E94\uFF0C\u6D4F\u89C8\u5668\u8BA4\u4E3A\u8FD9\u4E0D\u5B89\u5168\uFF0C\u6240\u4EE5\u62E6\u622A\u4E86\u54CD\u5E94\u3002\u4F46\u662F\u8868\u5355\u5E76\u4E0D\u4F1A\u83B7\u53D6\u65B0\u7684\u5185\u5BB9\uFF0C\u6240\u4EE5\u53EF\u4EE5\u53D1\u8D77\u8DE8\u57DF\u8BF7\u6C42\u3002\u540C\u65F6\u4E5F\u8BF4\u660E\u4E86\u8DE8\u57DF\u5E76\u4E0D\u80FD\u5B8C\u5168\u963B\u6B62 <code>CSRF</code>\uFF0C\u56E0\u4E3A\u8BF7\u6C42\u6BD5\u7ADF\u662F\u53D1\u51FA\u53BB\u4E86\u3002</p></blockquote><p>\u63A5\u4E0B\u6765\u6211\u4EEC\u5C06\u6765\u5B66\u4E60\u51E0\u79CD\u5E38\u89C1\u7684\u65B9\u5F0F\u6765\u89E3\u51B3\u8DE8\u57DF\u7684\u95EE\u9898</p>",4),Ea={id:"_18-1-jsonp",tabindex:"-1"},ja=n("a",{class:"header-anchor",href:"#_18-1-jsonp","aria-hidden":"true"},"#",-1),Ca=s(),Sa={href:"http://interview.poetries.top/docs/excellent.html#_18-1-jsonp",target:"_blank",rel:"noopener noreferrer"},Aa=s("#"),Ba=s("18.1 JSONP"),Ta=e(`<blockquote><p><code>JSONP</code> \u7684\u539F\u7406\u5F88\u7B80\u5355\uFF0C\u5C31\u662F\u5229\u7528 <code>&lt;script&gt;</code> \u6807\u7B7E\u6CA1\u6709\u8DE8\u57DF\u9650\u5236\u7684\u6F0F\u6D1E\u3002\u901A\u8FC7 <code>&lt;script&gt;</code>\u6807\u7B7E\u6307\u5411\u4E00\u4E2A\u9700\u8981\u8BBF\u95EE\u7684\u5730\u5740\u5E76\u63D0\u4F9B\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\u6765\u63A5\u6536\u6570\u636E\u5F53\u9700\u8981\u901A\u8BAF\u65F6</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://domain/api?param1=a&amp;param2=b&amp;callback=jsonp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">jsonp</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>    
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p><code>JSONP</code> \u4F7F\u7528\u7B80\u5355\u4E14\u517C\u5BB9\u6027\u4E0D\u9519\uFF0C\u4F46\u662F\u53EA\u9650\u4E8E <code>get</code> \u8BF7\u6C42\u3002</p></blockquote><blockquote><p>\u5728\u5F00\u53D1\u4E2D\u53EF\u80FD\u4F1A\u9047\u5230\u591A\u4E2A <code>JSONP</code> \u8BF7\u6C42\u7684\u56DE\u8C03\u51FD\u6570\u540D\u662F\u76F8\u540C\u7684\uFF0C\u8FD9\u65F6\u5019\u5C31\u9700\u8981\u81EA\u5DF1\u5C01\u88C5\u4E00\u4E2A <code>JSONP</code>\uFF0C\u4EE5\u4E0B\u662F\u7B80\u5355\u5B9E\u73B0</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">jsonp</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> jsonpCallback<span class="token punctuation">,</span> success</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;script&#39;</span><span class="token punctuation">)</span>
  script<span class="token punctuation">.</span>src <span class="token operator">=</span> url
  script<span class="token punctuation">.</span>async <span class="token operator">=</span> <span class="token boolean">true</span>
  script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;text/javascript&#39;</span>
  window<span class="token punctuation">[</span>jsonpCallback<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    success <span class="token operator">&amp;&amp;</span> <span class="token function">success</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">jsonp</span><span class="token punctuation">(</span><span class="token string">&#39;http://xxx&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;callback&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div>`,5),Pa={id:"_18-2-cors",tabindex:"-1"},Da=n("a",{class:"header-anchor",href:"#_18-2-cors","aria-hidden":"true"},"#",-1),Ma=s(),Oa={href:"http://interview.poetries.top/docs/excellent.html#_18-2-cors",target:"_blank",rel:"noopener noreferrer"},Ra=s("#"),Fa=s("18.2 CORS"),Na=e(`<ul><li><code>CORS</code> \u9700\u8981\u6D4F\u89C8\u5668\u548C\u540E\u7AEF\u540C\u65F6\u652F\u6301\u3002<code>IE 8</code> \u548C <code>9</code> \u9700\u8981\u901A\u8FC7 <code>XDomainRequest</code> \u6765\u5B9E\u73B0\u3002</li><li>\u6D4F\u89C8\u5668\u4F1A\u81EA\u52A8\u8FDB\u884C <code>CORS</code> \u901A\u4FE1\uFF0C\u5B9E\u73B0 <code>CORS</code> \u901A\u4FE1\u7684\u5173\u952E\u662F\u540E\u7AEF\u3002\u53EA\u8981\u540E\u7AEF\u5B9E\u73B0\u4E86 <code>CORS</code>\uFF0C\u5C31\u5B9E\u73B0\u4E86\u8DE8\u57DF\u3002</li><li>\u670D\u52A1\u7AEF\u8BBE\u7F6E <code>Access-Control-Allow-Origin</code> \u5C31\u53EF\u4EE5\u5F00\u542F <code>CORS</code>\u3002 \u8BE5\u5C5E\u6027\u8868\u793A\u54EA\u4E9B\u57DF\u540D\u53EF\u4EE5\u8BBF\u95EE\u8D44\u6E90\uFF0C\u5982\u679C\u8BBE\u7F6E\u901A\u914D\u7B26\u5219\u8868\u793A\u6240\u6709\u7F51\u7AD9\u90FD\u53EF\u4EE5\u8BBF\u95EE\u8D44\u6E90\u3002 \u867D\u7136\u8BBE\u7F6E <code>CORS</code>\u548C\u524D\u7AEF\u6CA1\u4EC0\u4E48\u5173\u7CFB\uFF0C\u4F46\u662F\u901A\u8FC7\u8FD9\u79CD\u65B9\u5F0F\u89E3\u51B3\u8DE8\u57DF\u95EE\u9898\u7684\u8BDD\uFF0C\u4F1A\u5728\u53D1\u9001\u8BF7\u6C42\u65F6\u51FA\u73B0\u4E24\u79CD\u60C5\u51B5\uFF0C\u5206\u522B\u4E3A\u7B80\u5355\u8BF7\u6C42\u548C\u590D\u6742\u8BF7\u6C42\u3002</li></ul><p><strong>\u7B80\u5355\u8BF7\u6C42</strong></p><blockquote><p>\u4EE5 <code>Ajax</code> \u4E3A\u4F8B\uFF0C\u5F53\u6EE1\u8DB3\u4EE5\u4E0B\u6761\u4EF6\u65F6\uFF0C\u4F1A\u89E6\u53D1\u7B80\u5355\u8BF7\u6C42</p></blockquote><ol><li>\u4F7F\u7528\u4E0B\u5217\u65B9\u6CD5\u4E4B\u4E00\uFF1A</li></ol><ul><li><code>GET</code></li><li><code>HEAD</code></li><li><code>POST</code></li></ul><ol><li><code>Content-Type</code> \u7684\u503C\u4EC5\u9650\u4E8E\u4E0B\u5217\u4E09\u8005\u4E4B\u4E00\uFF1A</li></ol><ul><li>text/plain</li><li><code>multipart/form-data</code></li><li><code>application/x-www-form-urlencoded</code></li></ul><blockquote><p>\u8BF7\u6C42\u4E2D\u7684\u4EFB\u610F <code>XMLHttpRequestUpload</code> \u5BF9\u8C61\u5747\u6CA1\u6709\u6CE8\u518C\u4EFB\u4F55\u4E8B\u4EF6\u76D1\u542C\u5668\uFF1B <code>XMLHttpRequestUpload</code> \u5BF9\u8C61\u53EF\u4EE5\u4F7F\u7528 <code>XMLHttpRequest.upload</code> \u5C5E\u6027\u8BBF\u95EE</p></blockquote><p><strong>\u590D\u6742\u8BF7\u6C42</strong></p><blockquote><p>\u5BF9\u4E8E\u590D\u6742\u8BF7\u6C42\u6765\u8BF4\uFF0C\u9996\u5148\u4F1A\u53D1\u8D77\u4E00\u4E2A\u9884\u68C0\u8BF7\u6C42\uFF0C\u8BE5\u8BF7\u6C42\u662F <code>option</code> \u65B9\u6CD5\u7684\uFF0C\u901A\u8FC7\u8BE5\u8BF7\u6C42\u6765\u77E5\u9053\u670D\u52A1\u7AEF\u662F\u5426\u5141\u8BB8\u8DE8\u57DF\u8BF7\u6C42\u3002</p></blockquote><p>\u5BF9\u4E8E\u9884\u68C0\u8BF7\u6C42\u6765\u8BF4\uFF0C\u5982\u679C\u4F60\u4F7F\u7528\u8FC7 <code>Node</code> \u6765\u8BBE\u7F6E <code>CORS</code> \u7684\u8BDD\uFF0C\u53EF\u80FD\u4F1A\u9047\u5230\u8FC7\u8FD9\u4E48\u4E00\u4E2A\u5751\u3002</p><p>\u4EE5\u4E0B\u4EE5 <code>express</code>\u6846\u67B6\u4E3E\u4F8B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&#39;Access-Control-Allow-Origin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&#39;Access-Control-Allow-Methods&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;PUT, GET, POST, DELETE, OPTIONS&#39;</span><span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span>
    <span class="token string">&#39;Access-Control-Allow-Headers&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Origin, X-Requested-With, Content-Type, Accept, Authorization, Access-Control-Allow-Credentials&#39;</span>
  <span class="token punctuation">)</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>\u8BE5\u8BF7\u6C42\u4F1A\u9A8C\u8BC1\u4F60\u7684 <code>Authorization</code> \u5B57\u6BB5\uFF0C\u6CA1\u6709\u7684\u8BDD\u5C31\u4F1A\u62A5\u9519\u3002</li><li>\u5F53\u524D\u7AEF\u53D1\u8D77\u4E86\u590D\u6742\u8BF7\u6C42\u540E\uFF0C\u4F60\u4F1A\u53D1\u73B0\u5C31\u7B97\u4F60\u4EE3\u7801\u662F\u6B63\u786E\u7684\uFF0C\u8FD4\u56DE\u7ED3\u679C\u4E5F\u6C38\u8FDC\u662F\u62A5\u9519\u7684\u3002\u56E0\u4E3A\u9884\u68C0\u8BF7\u6C42\u4E5F\u4F1A\u8FDB\u5165\u56DE\u8C03\u4E2D\uFF0C\u4E5F\u4F1A\u89E6\u53D1 <code>next</code> \u65B9\u6CD5\uFF0C\u56E0\u4E3A\u9884\u68C0\u8BF7\u6C42\u5E76\u4E0D\u5305\u542B <code>Authorization</code> \u5B57\u6BB5\uFF0C\u6240\u4EE5\u670D\u52A1\u7AEF\u4F1A\u62A5\u9519\u3002</li></ul><blockquote><p>\u60F3\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u5F88\u7B80\u5355\uFF0C\u53EA\u9700\u8981\u5728\u56DE\u8C03\u4E2D\u8FC7\u6EE4 <code>option</code> \u65B9\u6CD5\u5373\u53EF</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>res<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">204</span>
res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&#39;Content-Length&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span>
res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,16),La={id:"_18-3-document-domain",tabindex:"-1"},Va=n("a",{class:"header-anchor",href:"#_18-3-document-domain","aria-hidden":"true"},"#",-1),Ia=s(),Ha={href:"http://interview.poetries.top/docs/excellent.html#_18-3-document-domain",target:"_blank",rel:"noopener noreferrer"},Ja=s("#"),Ua=s("18.3 document.domain"),za=n("ul",null,[n("li",null,[s("\u8BE5\u65B9\u5F0F\u53EA\u80FD\u7528\u4E8E\u4E3B\u57DF\u540D\u76F8\u540C\u7684\u60C5\u51B5\u4E0B\uFF0C\u6BD4\u5982 "),n("code",null,"a.test.com"),s(" \u548C "),n("code",null,"b.test.com"),s(" \u9002\u7528\u4E8E\u8BE5\u65B9\u5F0F\u3002")]),n("li",null,[s("\u53EA\u9700\u8981\u7ED9\u9875\u9762\u6DFB\u52A0 "),n("code",null,"document.domain = 'test.com'"),s(" \u8868\u793A\u4E3B\u57DF\u540D\u90FD\u76F8\u540C\u5C31\u53EF\u4EE5\u5B9E\u73B0\u8DE8\u57DF")])],-1),Wa={id:"_18-4-postmessage",tabindex:"-1"},Xa=n("a",{class:"header-anchor",href:"#_18-4-postmessage","aria-hidden":"true"},"#",-1),Ga=s(),Qa={href:"http://interview.poetries.top/docs/excellent.html#_18-4-postmessage",target:"_blank",rel:"noopener noreferrer"},Ka=s("#"),$a=s("18.4 postMessage"),Ya=e(`<blockquote><p>\u8FD9\u79CD\u65B9\u5F0F\u901A\u5E38\u7528\u4E8E\u83B7\u53D6\u5D4C\u5165\u9875\u9762\u4E2D\u7684\u7B2C\u4E09\u65B9\u9875\u9762\u6570\u636E\u3002\u4E00\u4E2A\u9875\u9762\u53D1\u9001\u6D88\u606F\uFF0C\u53E6\u4E00\u4E2A\u9875\u9762\u5224\u65AD\u6765\u6E90\u5E76\u63A5\u6536\u6D88\u606F</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u53D1\u9001\u6D88\u606F\u7AEF</span>
window<span class="token punctuation">.</span>parent<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;http://test.com&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u63A5\u6536\u6D88\u606F\u7AEF</span>
<span class="token keyword">var</span> mc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
mc<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> origin <span class="token operator">=</span> event<span class="token punctuation">.</span>origin <span class="token operator">||</span> event<span class="token punctuation">.</span>originalEvent<span class="token punctuation">.</span>origin
  <span class="token keyword">if</span> <span class="token punctuation">(</span>origin <span class="token operator">===</span> <span class="token string">&#39;http://test.com&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u9A8C\u8BC1\u901A\u8FC7&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div>`,2),Za={id:"_19-\u5B58\u50A8",tabindex:"-1"},np=n("a",{class:"header-anchor",href:"#_19-\u5B58\u50A8","aria-hidden":"true"},"#",-1),sp=s(),ap={href:"http://interview.poetries.top/docs/excellent.html#_19-%E5%AD%98%E5%82%A8",target:"_blank",rel:"noopener noreferrer"},pp=s("#"),ep=s("19 \u5B58\u50A8"),tp=e(`<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u6709\u51E0\u79CD\u65B9\u5F0F\u53EF\u4EE5\u5B9E\u73B0\u5B58\u50A8\u529F\u80FD\uFF0C\u5206\u522B\u6709\u4EC0\u4E48\u4F18\u7F3A\u70B9\uFF1F\u4EC0\u4E48\u662F <code>Service Worker</code>\uFF1F</p></blockquote><p><strong>cookie\uFF0ClocalStorage\uFF0CsessionStorage\uFF0CindexDB</strong></p><table><thead><tr><th>\u7279\u6027</th><th>cookie</th><th>localStorage</th><th>sessionStorage</th><th>indexDB</th></tr></thead><tbody><tr><td>\u6570\u636E\u751F\u547D\u5468\u671F</td><td>\u4E00\u822C\u7531\u670D\u52A1\u5668\u751F\u6210\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\u8FC7\u671F\u65F6\u95F4</td><td>\u9664\u975E\u88AB\u6E05\u7406\uFF0C\u5426\u5219\u4E00\u76F4\u5B58\u5728</td><td>\u9875\u9762\u5173\u95ED\u5C31\u6E05\u7406</td><td>\u9664\u975E\u88AB\u6E05\u7406\uFF0C\u5426\u5219\u4E00\u76F4\u5B58\u5728</td></tr><tr><td>\u6570\u636E\u5B58\u50A8\u5927\u5C0F</td><td><code>4K</code></td><td><code>5M</code></td><td><code>5M</code></td><td>\u65E0\u9650</td></tr><tr><td>\u4E0E\u670D\u52A1\u7AEF\u901A\u4FE1</td><td>\u6BCF\u6B21\u90FD\u4F1A\u643A\u5E26\u5728 <code>header</code> \u4E2D\uFF0C\u5BF9\u4E8E\u8BF7\u6C42\u6027\u80FD\u5F71\u54CD</td><td>\u4E0D\u53C2\u4E0E</td><td>\u4E0D\u53C2\u4E0E</td><td>\u4E0D\u53C2\u4E0E</td></tr></tbody></table><blockquote><p>\u4ECE\u4E0A\u8868\u53EF\u4EE5\u770B\u5230\uFF0C<code>cookie</code> \u5DF2\u7ECF\u4E0D\u5EFA\u8BAE\u7528\u4E8E\u5B58\u50A8\u3002\u5982\u679C\u6CA1\u6709\u5927\u91CF\u6570\u636E\u5B58\u50A8\u9700\u6C42\u7684\u8BDD\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>localStorage</code> \u548C <code>sessionStorage</code> \u3002\u5BF9\u4E8E\u4E0D\u600E\u4E48\u6539\u53D8\u7684\u6570\u636E\u5C3D\u91CF\u4F7F\u7528 <code>localStorage</code> \u5B58\u50A8\uFF0C\u5426\u5219\u53EF\u4EE5\u7528 <code>sessionStorage</code>\u5B58\u50A8</p></blockquote><p><strong>\u5BF9\u4E8E cookie \u6765\u8BF4\uFF0C\u6211\u4EEC\u8FD8\u9700\u8981\u6CE8\u610F\u5B89\u5168\u6027\u3002</strong></p><table><thead><tr><th>\u5C5E\u6027</th><th>\u4F5C\u7528</th></tr></thead><tbody><tr><td><code>value</code></td><td>\u5982\u679C\u7528\u4E8E\u4FDD\u5B58\u7528\u6237\u767B\u5F55\u6001\uFF0C\u5E94\u8BE5\u5C06\u8BE5\u503C\u52A0\u5BC6\uFF0C\u4E0D\u80FD\u4F7F\u7528\u660E\u6587\u7684\u7528\u6237\u6807\u8BC6</td></tr><tr><td><code>http-only</code></td><td>\u4E0D\u80FD\u901A\u8FC7 <code>JS</code> \u8BBF\u95EE <code>Cookie</code>\uFF0C\u51CF\u5C11 <code>XSS</code> \u653B\u51FB</td></tr><tr><td><code>secure</code></td><td>\u53EA\u80FD\u5728\u534F\u8BAE\u4E3A <code>HTTPS</code> \u7684\u8BF7\u6C42\u4E2D\u643A\u5E26</td></tr><tr><td><code>same-site</code></td><td>\u89C4\u5B9A\u6D4F\u89C8\u5668\u4E0D\u80FD\u5728\u8DE8\u57DF\u8BF7\u6C42\u4E2D\u643A\u5E26 <code>Cookie</code>\uFF0C\u51CF\u5C11 <code>CSRF</code> \u653B\u51FB</td></tr></tbody></table><p><strong>Service Worker</strong></p><ul><li><code>Service Worker</code> \u662F\u8FD0\u884C\u5728\u6D4F\u89C8\u5668\u80CC\u540E\u7684\u72EC\u7ACB\u7EBF\u7A0B\uFF0C\u4E00\u822C\u53EF\u4EE5\u7528\u6765\u5B9E\u73B0\u7F13\u5B58\u529F\u80FD\u3002\u4F7F\u7528 <code>Service Worker</code>\u7684\u8BDD\uFF0C\u4F20\u8F93\u534F\u8BAE\u5FC5\u987B\u4E3A <code>HTTPS</code>\u3002\u56E0\u4E3A <code>Service Worker</code> \u4E2D\u6D89\u53CA\u5230\u8BF7\u6C42\u62E6\u622A\uFF0C\u6240\u4EE5\u5FC5\u987B\u4F7F\u7528 <code>HTTPS</code> \u534F\u8BAE\u6765\u4FDD\u969C\u5B89\u5168</li><li><code>Service Worker</code> \u5B9E\u73B0\u7F13\u5B58\u529F\u80FD\u4E00\u822C\u5206\u4E3A\u4E09\u4E2A\u6B65\u9AA4\uFF1A\u9996\u5148\u9700\u8981\u5148\u6CE8\u518C <code>Service Worker</code>\uFF0C\u7136\u540E\u76D1\u542C\u5230 <code>install</code> \u4E8B\u4EF6\u4EE5\u540E\u5C31\u53EF\u4EE5\u7F13\u5B58\u9700\u8981\u7684\u6587\u4EF6\uFF0C\u90A3\u4E48\u5728\u4E0B\u6B21\u7528\u6237\u8BBF\u95EE\u7684\u65F6\u5019\u5C31\u53EF\u4EE5\u901A\u8FC7\u62E6\u622A\u8BF7\u6C42\u7684\u65B9\u5F0F\u67E5\u8BE2\u662F\u5426\u5B58\u5728\u7F13\u5B58\uFF0C\u5B58\u5728\u7F13\u5B58\u7684\u8BDD\u5C31\u53EF\u4EE5\u76F4\u63A5\u8BFB\u53D6\u7F13\u5B58\u6587\u4EF6\uFF0C\u5426\u5219\u5C31\u53BB\u8BF7\u6C42\u6570\u636E\u3002\u4EE5\u4E0B\u662F\u8FD9\u4E2A\u6B65\u9AA4\u7684\u5B9E\u73B0\uFF1A</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  navigator<span class="token punctuation">.</span>serviceWorker
    <span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&#39;sw.js&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;service worker \u6CE8\u518C\u6210\u529F&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;servcie worker \u6CE8\u518C\u5931\u8D25&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// sw.js</span>
<span class="token comment">// \u76D1\u542C \`install\` \u4E8B\u4EF6\uFF0C\u56DE\u8C03\u4E2D\u7F13\u5B58\u6240\u9700\u6587\u4EF6</span>
self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;install&#39;</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>
    caches<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;my-cache&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cache</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;./index.js&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u62E6\u622A\u6240\u6709\u8BF7\u6C42\u4E8B\u4EF6</span>
<span class="token comment">// \u5982\u679C\u7F13\u5B58\u4E2D\u5DF2\u7ECF\u6709\u8BF7\u6C42\u7684\u6570\u636E\u5C31\u76F4\u63A5\u7528\u7F13\u5B58\uFF0C\u5426\u5219\u53BB\u8BF7\u6C42\u6570\u636E</span>
self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;fetch&#39;</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">respondWith</span><span class="token punctuation">(</span>
    caches<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> response
      <span class="token punctuation">}</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;fetch source&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><blockquote><p>\u6253\u5F00\u9875\u9762\uFF0C\u53EF\u4EE5\u5728\u5F00\u53D1\u8005\u5DE5\u5177\u4E2D\u7684 <code>Application</code> \u770B\u5230 <code>Service Worker</code> \u5DF2\u7ECF\u542F\u52A8\u4E86</p></blockquote><blockquote><p>\u5728 <code>Cache</code> \u4E2D\u4E5F\u53EF\u4EE5\u53D1\u73B0\u6211\u4EEC\u6240\u9700\u7684\u6587\u4EF6\u5DF2\u88AB\u7F13\u5B58</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/6.png" alt="img"></p><blockquote><p>\u5F53\u6211\u4EEC\u91CD\u65B0\u5237\u65B0\u9875\u9762\u53EF\u4EE5\u53D1\u73B0\u6211\u4EEC\u7F13\u5B58\u7684\u6570\u636E\u662F\u4ECE <code>Service Worker</code> \u4E2D\u8BFB\u53D6\u7684</p></blockquote>`,13),op={id:"_20-\u6D4F\u89C8\u5668\u7F13\u5B58\u673A\u5236",tabindex:"-1"},cp=n("a",{class:"header-anchor",href:"#_20-\u6D4F\u89C8\u5668\u7F13\u5B58\u673A\u5236","aria-hidden":"true"},"#",-1),lp=s(),up={href:"http://interview.poetries.top/docs/excellent.html#_20-%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"},rp=s("#"),ip=s("20 \u6D4F\u89C8\u5668\u7F13\u5B58\u673A\u5236"),kp=n("blockquote",null,[n("p",null,"\u6CE8\u610F\uFF1A\u8BE5\u77E5\u8BC6\u70B9\u5C5E\u4E8E\u6027\u80FD\u4F18\u5316\u9886\u57DF\uFF0C\u5E76\u4E14\u6574\u4E00\u7AE0\u8282\u90FD\u662F\u4E00\u4E2A\u9762\u8BD5\u9898")],-1),dp=n("ul",null,[n("li",null,"\u7F13\u5B58\u53EF\u4EE5\u8BF4\u662F\u6027\u80FD\u4F18\u5316\u4E2D\u7B80\u5355\u9AD8\u6548\u7684\u4E00\u79CD\u4F18\u5316\u65B9\u5F0F\u4E86\uFF0C\u5B83\u53EF\u4EE5\u663E\u8457\u51CF\u5C11\u7F51\u7EDC\u4F20\u8F93\u6240\u5E26\u6765\u7684\u635F\u8017\u3002"),n("li",null,"\u5BF9\u4E8E\u4E00\u4E2A\u6570\u636E\u8BF7\u6C42\u6765\u8BF4\uFF0C\u53EF\u4EE5\u5206\u4E3A\u53D1\u8D77\u7F51\u7EDC\u8BF7\u6C42\u3001\u540E\u7AEF\u5904\u7406\u3001\u6D4F\u89C8\u5668\u54CD\u5E94\u4E09\u4E2A\u6B65\u9AA4\u3002\u6D4F\u89C8\u5668\u7F13\u5B58\u53EF\u4EE5\u5E2E\u52A9\u6211\u4EEC\u5728\u7B2C\u4E00\u548C\u7B2C\u4E09\u6B65\u9AA4\u4E2D\u4F18\u5316\u6027\u80FD\u3002\u6BD4\u5982\u8BF4\u76F4\u63A5\u4F7F\u7528\u7F13\u5B58\u800C\u4E0D\u53D1\u8D77\u8BF7\u6C42\uFF0C\u6216\u8005\u53D1\u8D77\u4E86\u8BF7\u6C42\u4F46\u540E\u7AEF\u5B58\u50A8\u7684\u6570\u636E\u548C\u524D\u7AEF\u4E00\u81F4\uFF0C\u90A3\u4E48\u5C31\u6CA1\u6709\u5FC5\u8981\u518D\u5C06\u6570\u636E\u56DE\u4F20\u56DE\u6765\uFF0C\u8FD9\u6837\u5C31\u51CF\u5C11\u4E86\u54CD\u5E94\u6570\u636E\u3002")],-1),bp=n("blockquote",null,[n("p",null,"\u63A5\u4E0B\u6765\u7684\u5185\u5BB9\u4E2D\u6211\u4EEC\u5C06\u901A\u8FC7\u4EE5\u4E0B\u51E0\u4E2A\u90E8\u5206\u6765\u63A2\u8BA8\u6D4F\u89C8\u5668\u7F13\u5B58\u673A\u5236\uFF1A")],-1),mp=n("ul",null,[n("li",null,"\u7F13\u5B58\u4F4D\u7F6E"),n("li",null,"\u7F13\u5B58\u7B56\u7565"),n("li",null,"\u5B9E\u9645\u573A\u666F\u5E94\u7528\u7F13\u5B58\u7B56\u7565")],-1),hp={id:"_20-1-\u7F13\u5B58\u4F4D\u7F6E",tabindex:"-1"},gp=n("a",{class:"header-anchor",href:"#_20-1-\u7F13\u5B58\u4F4D\u7F6E","aria-hidden":"true"},"#",-1),_p=s(),fp={href:"http://interview.poetries.top/docs/excellent.html#_20-1-%E7%BC%93%E5%AD%98%E4%BD%8D%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"},yp=s("#"),vp=s("20.1 \u7F13\u5B58\u4F4D\u7F6E"),wp=e('<blockquote><p>\u4ECE\u7F13\u5B58\u4F4D\u7F6E\u4E0A\u6765\u8BF4\u5206\u4E3A\u56DB\u79CD\uFF0C\u5E76\u4E14\u5404\u81EA\u6709\u4F18\u5148\u7EA7\uFF0C\u5F53\u4F9D\u6B21\u67E5\u627E\u7F13\u5B58\u4E14\u90FD\u6CA1\u6709\u547D\u4E2D\u7684\u65F6\u5019\uFF0C\u624D\u4F1A\u53BB\u8BF7\u6C42\u7F51\u7EDC</p></blockquote><ol><li><code>Service Worker</code></li><li><code>Memory Cache</code></li><li><code>Disk Cache</code></li><li><code>Push Cache</code></li><li>\u7F51\u7EDC\u8BF7\u6C42</li></ol><p><strong>1. Service Worker</strong></p><ul><li><code>service Worker</code> \u7684\u7F13\u5B58\u4E0E\u6D4F\u89C8\u5668\u5176\u4ED6\u5185\u5EFA\u7684\u7F13\u5B58\u673A\u5236\u4E0D\u540C\uFF0C\u5B83\u53EF\u4EE5\u8BA9\u6211\u4EEC\u81EA\u7531\u63A7\u5236\u7F13\u5B58\u54EA\u4E9B\u6587\u4EF6\u3001\u5982\u4F55\u5339\u914D\u7F13\u5B58\u3001\u5982\u4F55\u8BFB\u53D6\u7F13\u5B58\uFF0C\u5E76\u4E14\u7F13\u5B58\u662F\u6301\u7EED\u6027\u7684\u3002</li><li>\u5F53 <code>Service Worker</code> \u6CA1\u6709\u547D\u4E2D\u7F13\u5B58\u7684\u65F6\u5019\uFF0C\u6211\u4EEC\u9700\u8981\u53BB\u8C03\u7528 <code>fetch</code> \u51FD\u6570\u83B7\u53D6\u6570\u636E\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5982\u679C\u6211\u4EEC\u6CA1\u6709\u5728 <code>Service Worker</code> \u547D\u4E2D\u7F13\u5B58\u7684\u8BDD\uFF0C\u4F1A\u6839\u636E\u7F13\u5B58\u67E5\u627E\u4F18\u5148\u7EA7\u53BB\u67E5\u627E\u6570\u636E\u3002\u4F46\u662F\u4E0D\u7BA1\u6211\u4EEC\u662F\u4ECE <code>Memory Cache</code> \u4E2D\u8FD8\u662F\u4ECE\u7F51\u7EDC\u8BF7\u6C42\u4E2D\u83B7\u53D6\u7684\u6570\u636E\uFF0C\u6D4F\u89C8\u5668\u90FD\u4F1A\u663E\u793A\u6211\u4EEC\u662F\u4ECE <code>Service Worker</code> \u4E2D\u83B7\u53D6\u7684\u5185\u5BB9\u3002</li></ul><p><strong>2. Memory Cache</strong></p><ul><li><code>Memory Cache</code> \u4E5F\u5C31\u662F\u5185\u5B58\u4E2D\u7684\u7F13\u5B58\uFF0C\u8BFB\u53D6\u5185\u5B58\u4E2D\u7684\u6570\u636E\u80AF\u5B9A\u6BD4\u78C1\u76D8\u5FEB\u3002\u4F46\u662F\u5185\u5B58\u7F13\u5B58\u867D\u7136\u8BFB\u53D6\u9AD8\u6548\uFF0C\u53EF\u662F\u7F13\u5B58\u6301\u7EED\u6027\u5F88\u77ED\uFF0C\u4F1A\u968F\u7740\u8FDB\u7A0B\u7684\u91CA\u653E\u800C\u91CA\u653E\u3002 \u4E00\u65E6\u6211\u4EEC\u5173\u95ED <code>Tab</code> \u9875\u9762\uFF0C\u5185\u5B58\u4E2D\u7684\u7F13\u5B58\u4E5F\u5C31\u88AB\u91CA\u653E\u4E86\u3002</li><li>\u5F53\u6211\u4EEC\u8BBF\u95EE\u8FC7\u9875\u9762\u4EE5\u540E\uFF0C\u518D\u6B21\u5237\u65B0\u9875\u9762\uFF0C\u53EF\u4EE5\u53D1\u73B0\u5F88\u591A\u6570\u636E\u90FD\u6765\u81EA\u4E8E\u5185\u5B58\u7F13\u5B58</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/7.png" alt="img"></p><blockquote><p>\u90A3\u4E48\u65E2\u7136\u5185\u5B58\u7F13\u5B58\u8FD9\u4E48\u9AD8\u6548\uFF0C\u6211\u4EEC\u662F\u4E0D\u662F\u80FD\u8BA9\u6570\u636E\u90FD\u5B58\u653E\u5728\u5185\u5B58\u4E2D\u5462\uFF1F</p></blockquote><ul><li>\u5148\u8BF4\u7ED3\u8BBA\uFF0C\u8FD9\u662F\u4E0D\u53EF\u80FD\u7684\u3002\u9996\u5148\u8BA1\u7B97\u673A\u4E2D\u7684\u5185\u5B58\u4E00\u5B9A\u6BD4\u786C\u76D8\u5BB9\u91CF\u5C0F\u5F97\u591A\uFF0C\u64CD\u4F5C\u7CFB\u7EDF\u9700\u8981\u7CBE\u6253\u7EC6\u7B97\u5185\u5B58\u7684\u4F7F\u7528\uFF0C\u6240\u4EE5\u80FD\u8BA9\u6211\u4EEC\u4F7F\u7528\u7684\u5185\u5B58\u5FC5\u7136\u4E0D\u591A\u3002\u5185\u5B58\u4E2D\u5176\u5B9E\u53EF\u4EE5\u5B58\u50A8\u5927\u90E8\u5206\u7684\u6587\u4EF6\uFF0C\u6BD4\u5982\u8BF4 <code>JS</code>\u3001<code>HTML</code>\u3001<code>CSS</code>\u3001\u56FE\u7247\u7B49\u7B49</li><li>\u5F53\u7136\uFF0C\u6211\u901A\u8FC7\u4E00\u4E9B\u5B9E\u8DF5\u548C\u731C\u6D4B\u4E5F\u5F97\u51FA\u4E86\u4E00\u4E9B\u7ED3\u8BBA\uFF1A</li><li>\u5BF9\u4E8E\u5927\u6587\u4EF6\u6765\u8BF4\uFF0C\u5927\u6982\u7387\u662F\u4E0D\u5B58\u50A8\u5728\u5185\u5B58\u4E2D\u7684\uFF0C\u53CD\u4E4B\u4F18\u5148\u5F53\u524D\u7CFB\u7EDF\u5185\u5B58\u4F7F\u7528\u7387\u9AD8\u7684\u8BDD\uFF0C\u6587\u4EF6\u4F18\u5148\u5B58\u50A8\u8FDB\u786C\u76D8</li></ul><p><strong>3. Disk Cache</strong></p><ul><li><code>Disk Cache</code> \u4E5F\u5C31\u662F\u5B58\u50A8\u5728\u786C\u76D8\u4E2D\u7684\u7F13\u5B58\uFF0C\u8BFB\u53D6\u901F\u5EA6\u6162\u70B9\uFF0C\u4F46\u662F\u4EC0\u4E48\u90FD\u80FD\u5B58\u50A8\u5230\u78C1\u76D8\u4E2D\uFF0C\u6BD4\u4E4B <code>Memory Cache</code> \u80DC\u5728\u5BB9\u91CF\u548C\u5B58\u50A8\u65F6\u6548\u6027\u4E0A\u3002</li><li>\u5728\u6240\u6709\u6D4F\u89C8\u5668\u7F13\u5B58\u4E2D\uFF0C<code>Disk Cache</code> \u8986\u76D6\u9762\u57FA\u672C\u662F\u6700\u5927\u7684\u3002\u5B83\u4F1A\u6839\u636E \xB7HTTP Herder\xB7 \u4E2D\u7684\u5B57\u6BB5\u5224\u65AD\u54EA\u4E9B\u8D44\u6E90\u9700\u8981\u7F13\u5B58\uFF0C\u54EA\u4E9B\u8D44\u6E90\u53EF\u4EE5\u4E0D\u8BF7\u6C42\u76F4\u63A5\u4F7F\u7528\uFF0C\u54EA\u4E9B\u8D44\u6E90\u5DF2\u7ECF\u8FC7\u671F\u9700\u8981\u91CD\u65B0\u8BF7\u6C42\u3002\u5E76\u4E14\u5373\u4F7F\u5728\u8DE8\u7AD9\u70B9\u7684\u60C5\u51B5\u4E0B\uFF0C\u76F8\u540C\u5730\u5740\u7684\u8D44\u6E90\u4E00\u65E6\u88AB\u786C\u76D8\u7F13\u5B58\u4E0B\u6765\uFF0C\u5C31\u4E0D\u4F1A\u518D\u6B21\u53BB\u8BF7\u6C42\u6570\u636E</li></ul><p><strong>4. Push Cache</strong></p><ul><li><code>Push Cache</code> \u662F <code>HTTP/2</code> \u4E2D\u7684\u5185\u5BB9\uFF0C\u5F53\u4EE5\u4E0A\u4E09\u79CD\u7F13\u5B58\u90FD\u6CA1\u6709\u547D\u4E2D\u65F6\uFF0C\u5B83\u624D\u4F1A\u88AB\u4F7F\u7528\u3002\u5E76\u4E14\u7F13\u5B58\u65F6\u95F4\u4E5F\u5F88\u77ED\u6682\uFF0C\u53EA\u5728\u4F1A\u8BDD\uFF08<code>Session</code>\uFF09\u4E2D\u5B58\u5728\uFF0C\u4E00\u65E6\u4F1A\u8BDD\u7ED3\u675F\u5C31\u88AB\u91CA\u653E\u3002</li><li><code>Push Cache</code> \u5728\u56FD\u5185\u80FD\u591F\u67E5\u5230\u7684\u8D44\u6599\u5F88\u5C11\uFF0C\u4E5F\u662F\u56E0\u4E3A <code>HTTP/2</code> \u5728\u56FD\u5185\u4E0D\u591F\u666E\u53CA\uFF0C\u4F46\u662F <code>HTTP/2</code> \u5C06\u4F1A\u662F\u65E5\u540E\u7684\u4E00\u4E2A\u8D8B\u52BF</li></ul><blockquote><p>\u7ED3\u8BBA</p></blockquote><ul><li>\u6240\u6709\u7684\u8D44\u6E90\u90FD\u80FD\u88AB\u63A8\u9001\uFF0C\u4F46\u662F <code>Edge</code> \u548C <code>Safari</code> \u6D4F\u89C8\u5668\u517C\u5BB9\u6027\u4E0D\u600E\u4E48\u597D</li><li>\u53EF\u4EE5\u63A8\u9001 <code>no-cache</code> \u548C <code>no-store</code> \u7684\u8D44\u6E90</li><li>\u4E00\u65E6\u8FDE\u63A5\u88AB\u5173\u95ED\uFF0C<code>Push Cache</code> \u5C31\u88AB\u91CA\u653E</li><li>\u591A\u4E2A\u9875\u9762\u53EF\u4EE5\u4F7F\u7528\u76F8\u540C\u7684 <code>HTTP/2</code> \u8FDE\u63A5\uFF0C\u4E5F\u5C31\u662F\u8BF4\u80FD\u4F7F\u7528\u540C\u6837\u7684\u7F13\u5B58</li><li><code>Push Cache</code> \u4E2D\u7684\u7F13\u5B58\u53EA\u80FD\u88AB\u4F7F\u7528\u4E00\u6B21</li><li>\u6D4F\u89C8\u5668\u53EF\u4EE5\u62D2\u7EDD\u63A5\u53D7\u5DF2\u7ECF\u5B58\u5728\u7684\u8D44\u6E90\u63A8\u9001</li><li>\u4F60\u53EF\u4EE5\u7ED9\u5176\u4ED6\u57DF\u540D\u63A8\u9001\u8D44\u6E90</li></ul><p><strong>5. \u7F51\u7EDC\u8BF7\u6C42</strong></p><ul><li>\u5982\u679C\u6240\u6709\u7F13\u5B58\u90FD\u6CA1\u6709\u547D\u4E2D\u7684\u8BDD\uFF0C\u90A3\u4E48\u53EA\u80FD\u53D1\u8D77\u8BF7\u6C42\u6765\u83B7\u53D6\u8D44\u6E90\u4E86\u3002</li><li>\u90A3\u4E48\u4E3A\u4E86\u6027\u80FD\u4E0A\u7684\u8003\u8651\uFF0C\u5927\u90E8\u5206\u7684\u63A5\u53E3\u90FD\u5E94\u8BE5\u9009\u62E9\u597D\u7F13\u5B58\u7B56\u7565\uFF0C\u63A5\u4E0B\u6765\u6211\u4EEC\u5C31\u6765\u5B66\u4E60\u7F13\u5B58\u7B56\u7565\u8FD9\u90E8\u5206\u7684\u5185\u5BB9</li></ul>',17),xp={id:"_20-2-\u7F13\u5B58\u7B56\u7565",tabindex:"-1"},qp=n("a",{class:"header-anchor",href:"#_20-2-\u7F13\u5B58\u7B56\u7565","aria-hidden":"true"},"#",-1),Ep=s(),jp={href:"http://interview.poetries.top/docs/excellent.html#_20-2-%E7%BC%93%E5%AD%98%E7%AD%96%E7%95%A5",target:"_blank",rel:"noopener noreferrer"},Cp=s("#"),Sp=s("20.2 \u7F13\u5B58\u7B56\u7565"),Ap=n("blockquote",null,[n("p",null,[s("\u901A\u5E38\u6D4F\u89C8\u5668\u7F13\u5B58\u7B56\u7565\u5206\u4E3A\u4E24\u79CD\uFF1A\u5F3A\u7F13\u5B58\u548C\u534F\u5546\u7F13\u5B58\uFF0C\u5E76\u4E14\u7F13\u5B58\u7B56\u7565\u90FD\u662F\u901A\u8FC7\u8BBE\u7F6E "),n("code",null,"HTTP Header"),s(" \u6765\u5B9E\u73B0\u7684")])],-1),Bp={id:"_20-2-1-\u5F3A\u7F13\u5B58",tabindex:"-1"},Tp=n("a",{class:"header-anchor",href:"#_20-2-1-\u5F3A\u7F13\u5B58","aria-hidden":"true"},"#",-1),Pp=s(),Dp={href:"http://interview.poetries.top/docs/excellent.html#_20-2-1-%E5%BC%BA%E7%BC%93%E5%AD%98",target:"_blank",rel:"noopener noreferrer"},Mp=s("#"),Op=s("20.2.1 \u5F3A\u7F13\u5B58"),Rp=e(`<blockquote><p>\u5F3A\u7F13\u5B58\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E\u4E24\u79CD <code>HTTP Header</code> \u5B9E\u73B0\uFF1A<code>Expires</code> \u548C <code>Cache-Control</code> \u3002\u5F3A\u7F13\u5B58\u8868\u793A\u5728\u7F13\u5B58\u671F\u95F4\u4E0D\u9700\u8981\u8BF7\u6C42\uFF0C<code>state code</code>\u4E3A <code>200</code></p></blockquote><p><strong>Expires</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Expires: Wed, 22 Oct 2018 08:41:00 GMT
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p><code>Expires</code> \u662F <code>HTTP/1</code> \u7684\u4EA7\u7269\uFF0C\u8868\u793A\u8D44\u6E90\u4F1A\u5728 <code>Wed, 22 Oct 2018 08:41:00 GMT</code> \u540E\u8FC7\u671F\uFF0C\u9700\u8981\u518D\u6B21\u8BF7\u6C42\u3002\u5E76\u4E14 <code>Expires</code> \u53D7\u9650\u4E8E\u672C\u5730\u65F6\u95F4\uFF0C\u5982\u679C\u4FEE\u6539\u4E86\u672C\u5730\u65F6\u95F4\uFF0C\u53EF\u80FD\u4F1A\u9020\u6210\u7F13\u5B58\u5931\u6548\u3002</p></blockquote><p><strong>Cache-control</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Cache-control: max-age=30
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>Cache-Control</code> \u51FA\u73B0\u4E8E <code>HTTP/1.1</code>\uFF0C\u4F18\u5148\u7EA7\u9AD8\u4E8E <code>Expires</code> \u3002\u8BE5\u5C5E\u6027\u503C\u8868\u793A\u8D44\u6E90\u4F1A\u5728 <code>30</code> \u79D2\u540E\u8FC7\u671F\uFF0C\u9700\u8981\u518D\u6B21\u8BF7\u6C42\u3002</li><li><code>Cache-Control</code> \u53EF\u4EE5\u5728\u8BF7\u6C42\u5934\u6216\u8005\u54CD\u5E94\u5934\u4E2D\u8BBE\u7F6E\uFF0C\u5E76\u4E14\u53EF\u4EE5\u7EC4\u5408\u4F7F\u7528\u591A\u79CD\u6307\u4EE4</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/8.png" alt="img"></p><blockquote><p>\u4ECE\u56FE\u4E2D\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C06\u591A\u4E2A\u6307\u4EE4\u914D\u5408\u8D77\u6765\u4E00\u8D77\u4F7F\u7528\uFF0C\u8FBE\u5230\u591A\u4E2A\u76EE\u7684\u3002\u6BD4\u5982\u8BF4\u6211\u4EEC\u5E0C\u671B\u8D44\u6E90\u80FD\u88AB\u7F13\u5B58\u4E0B\u6765\uFF0C\u5E76\u4E14\u662F\u5BA2\u6237\u7AEF\u548C\u4EE3\u7406\u670D\u52A1\u5668\u90FD\u80FD\u7F13\u5B58\uFF0C\u8FD8\u80FD\u8BBE\u7F6E\u7F13\u5B58\u5931\u6548\u65F6\u95F4\u7B49</p></blockquote><p><strong>\u4E00\u4E9B\u5E38\u89C1\u6307\u4EE4\u7684\u4F5C\u7528</strong></p><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/9.png" alt="img"></p>`,11),Fp={id:"_20-2-2-\u534F\u5546\u7F13\u5B58",tabindex:"-1"},Np=n("a",{class:"header-anchor",href:"#_20-2-2-\u534F\u5546\u7F13\u5B58","aria-hidden":"true"},"#",-1),Lp=s(),Vp={href:"http://interview.poetries.top/docs/excellent.html#_20-2-2-%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98",target:"_blank",rel:"noopener noreferrer"},Ip=s("#"),Hp=s("20.2.2 \u534F\u5546\u7F13\u5B58"),Jp=e('<ul><li>\u5982\u679C\u7F13\u5B58\u8FC7\u671F\u4E86\uFF0C\u5C31\u9700\u8981\u53D1\u8D77\u8BF7\u6C42\u9A8C\u8BC1\u8D44\u6E90\u662F\u5426\u6709\u66F4\u65B0\u3002\u534F\u5546\u7F13\u5B58\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E\u4E24\u79CD <code>HTTP Header</code> \u5B9E\u73B0\uFF1A<code>Last-Modified</code> \u548C <code>ETag</code></li><li>\u5F53\u6D4F\u89C8\u5668\u53D1\u8D77\u8BF7\u6C42\u9A8C\u8BC1\u8D44\u6E90\u65F6\uFF0C\u5982\u679C\u8D44\u6E90\u6CA1\u6709\u505A\u6539\u53D8\uFF0C\u90A3\u4E48\u670D\u52A1\u7AEF\u5C31\u4F1A\u8FD4\u56DE <code>304</code> \u72B6\u6001\u7801\uFF0C\u5E76\u4E14\u66F4\u65B0\u6D4F\u89C8\u5668\u7F13\u5B58\u6709\u6548\u671F\u3002</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/10.png" alt="img"></p><p><strong>Last-Modified \u548C If-Modified-Since</strong></p><blockquote><p><code>Last-Modified</code> \u8868\u793A\u672C\u5730\u6587\u4EF6\u6700\u540E\u4FEE\u6539\u65E5\u671F\uFF0C<code>If-Modified-Since</code> \u4F1A\u5C06 <code>Last-Modified</code> \u7684\u503C\u53D1\u9001\u7ED9\u670D\u52A1\u5668\uFF0C\u8BE2\u95EE\u670D\u52A1\u5668\u5728\u8BE5\u65E5\u671F\u540E\u8D44\u6E90\u662F\u5426\u6709\u66F4\u65B0\uFF0C\u6709\u66F4\u65B0\u7684\u8BDD\u5C31\u4F1A\u5C06\u65B0\u7684\u8D44\u6E90\u53D1\u9001\u56DE\u6765\uFF0C\u5426\u5219\u8FD4\u56DE <code>304</code> \u72B6\u6001\u7801\u3002</p></blockquote><p>\u4F46\u662F <code>Last-Modified</code>\u5B58\u5728\u4E00\u4E9B\u5F0A\u7AEF\uFF1A</p><ul><li>\u5982\u679C\u672C\u5730\u6253\u5F00\u7F13\u5B58\u6587\u4EF6\uFF0C\u5373\u4F7F\u6CA1\u6709\u5BF9\u6587\u4EF6\u8FDB\u884C\u4FEE\u6539\uFF0C\u4F46\u8FD8\u662F\u4F1A\u9020\u6210 <code>Last-Modified</code> \u88AB\u4FEE\u6539\uFF0C\u670D\u52A1\u7AEF\u4E0D\u80FD\u547D\u4E2D\u7F13\u5B58\u5BFC\u81F4\u53D1\u9001\u76F8\u540C\u7684\u8D44\u6E90</li><li>\u56E0\u4E3A <code>Last-Modified</code> \u53EA\u80FD\u4EE5\u79D2\u8BA1\u65F6\uFF0C\u5982\u679C\u5728\u4E0D\u53EF\u611F\u77E5\u7684\u65F6\u95F4\u5185\u4FEE\u6539\u5B8C\u6210\u6587\u4EF6\uFF0C\u90A3\u4E48\u670D\u52A1\u7AEF\u4F1A\u8BA4\u4E3A\u8D44\u6E90\u8FD8\u662F\u547D\u4E2D\u4E86\uFF0C\u4E0D\u4F1A\u8FD4\u56DE\u6B63\u786E\u7684\u8D44\u6E90 \u56E0\u4E3A\u4EE5\u4E0A\u8FD9\u4E9B\u5F0A\u7AEF\uFF0C\u6240\u4EE5\u5728 <code>HTTP / 1.1</code> \u51FA\u73B0\u4E86 <code>ETag</code></li></ul><p><strong>ETag \u548C If-None-Match</strong></p><ul><li><code>ETag</code> \u7C7B\u4F3C\u4E8E\u6587\u4EF6\u6307\u7EB9\uFF0C<code>If-None-Match</code> \u4F1A\u5C06\u5F53\u524D <code>ETag</code> \u53D1\u9001\u7ED9\u670D\u52A1\u5668\uFF0C\u8BE2\u95EE\u8BE5\u8D44\u6E90 <code>ETag</code> \u662F\u5426\u53D8\u52A8\uFF0C\u6709\u53D8\u52A8\u7684\u8BDD\u5C31\u5C06\u65B0\u7684\u8D44\u6E90\u53D1\u9001\u56DE\u6765\u3002\u5E76\u4E14 <code>ETag</code>\u4F18\u5148\u7EA7\u6BD4 <code>Last-Modified</code> \u9AD8\u3002</li></ul><blockquote><p>\u4EE5\u4E0A\u5C31\u662F\u7F13\u5B58\u7B56\u7565\u7684\u6240\u6709\u5185\u5BB9\u4E86\uFF0C\u770B\u5230\u8FD9\u91CC\uFF0C\u4E0D\u77E5\u9053\u4F60\u662F\u5426\u5B58\u5728\u8FD9\u6837\u4E00\u4E2A\u7591\u95EE\u3002\u5982\u679C\u4EC0\u4E48\u7F13\u5B58\u7B56\u7565\u90FD\u6CA1\u8BBE\u7F6E\uFF0C\u90A3\u4E48\u6D4F\u89C8\u5668\u4F1A\u600E\u4E48\u5904\u7406\uFF1F</p></blockquote><p>\u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\uFF0C\u6D4F\u89C8\u5668\u4F1A\u91C7\u7528\u4E00\u4E2A\u542F\u53D1\u5F0F\u7684\u7B97\u6CD5\uFF0C\u901A\u5E38\u4F1A\u53D6\u54CD\u5E94\u5934\u4E2D\u7684 <code>Date</code> \u51CF\u53BB <code>Last-Modified</code> \u503C\u7684 <code>10%</code> \u4F5C\u4E3A\u7F13\u5B58\u65F6\u95F4\u3002</p>',10),Up={id:"_20-3-\u5B9E\u9645\u573A\u666F\u5E94\u7528\u7F13\u5B58\u7B56\u7565",tabindex:"-1"},zp=n("a",{class:"header-anchor",href:"#_20-3-\u5B9E\u9645\u573A\u666F\u5E94\u7528\u7F13\u5B58\u7B56\u7565","aria-hidden":"true"},"#",-1),Wp=s(),Xp={href:"http://interview.poetries.top/docs/excellent.html#_20-3-%E5%AE%9E%E9%99%85%E5%9C%BA%E6%99%AF%E5%BA%94%E7%94%A8%E7%BC%93%E5%AD%98%E7%AD%96%E7%95%A5",target:"_blank",rel:"noopener noreferrer"},Gp=s("#"),Qp=s("20.3 \u5B9E\u9645\u573A\u666F\u5E94\u7528\u7F13\u5B58\u7B56\u7565"),Kp=e("<p><strong>\u9891\u7E41\u53D8\u52A8\u7684\u8D44\u6E90</strong></p><blockquote><p>\u5BF9\u4E8E\u9891\u7E41\u53D8\u52A8\u7684\u8D44\u6E90\uFF0C\u9996\u5148\u9700\u8981\u4F7F\u7528 <code>Cache-Control: no-cache</code> \u4F7F\u6D4F\u89C8\u5668\u6BCF\u6B21\u90FD\u8BF7\u6C42\u670D\u52A1\u5668\uFF0C\u7136\u540E\u914D\u5408 <code>ETag</code> \u6216\u8005 <code>Last-Modified</code> \u6765\u9A8C\u8BC1\u8D44\u6E90\u662F\u5426\u6709\u6548\u3002\u8FD9\u6837\u7684\u505A\u6CD5\u867D\u7136\u4E0D\u80FD\u8282\u7701\u8BF7\u6C42\u6570\u91CF\uFF0C\u4F46\u662F\u80FD\u663E\u8457\u51CF\u5C11\u54CD\u5E94\u6570\u636E\u5927\u5C0F\u3002</p></blockquote><p><strong>\u4EE3\u7801\u6587\u4EF6</strong></p><blockquote><p>\u8FD9\u91CC\u7279\u6307\u9664\u4E86 <code>HTML</code> \u5916\u7684\u4EE3\u7801\u6587\u4EF6\uFF0C\u56E0\u4E3A <code>HTML</code> \u6587\u4EF6\u4E00\u822C\u4E0D\u7F13\u5B58\u6216\u8005\u7F13\u5B58\u65F6\u95F4\u5F88\u77ED\u3002</p></blockquote><p>\u4E00\u822C\u6765\u8BF4\uFF0C\u73B0\u5728\u90FD\u4F1A\u4F7F\u7528\u5DE5\u5177\u6765\u6253\u5305\u4EE3\u7801\uFF0C\u90A3\u4E48\u6211\u4EEC\u5C31\u53EF\u4EE5\u5BF9\u6587\u4EF6\u540D\u8FDB\u884C\u54C8\u5E0C\u5904\u7406\uFF0C\u53EA\u6709\u5F53\u4EE3\u7801\u4FEE\u6539\u540E\u624D\u4F1A\u751F\u6210\u65B0\u7684\u6587\u4EF6\u540D\u3002\u57FA\u4E8E\u6B64\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u7ED9\u4EE3\u7801\u6587\u4EF6\u8BBE\u7F6E\u7F13\u5B58\u6709\u6548\u671F\u4E00\u5E74 <code>Cache-Control: max-age=31536000</code>\uFF0C\u8FD9\u6837\u53EA\u6709\u5F53 <code>HTML</code> \u6587\u4EF6\u4E2D\u5F15\u5165\u7684\u6587\u4EF6\u540D\u53D1\u751F\u4E86\u6539\u53D8\u624D\u4F1A\u53BB\u4E0B\u8F7D\u6700\u65B0\u7684\u4EE3\u7801\u6587\u4EF6\uFF0C\u5426\u5219\u5C31\u4E00\u76F4\u4F7F\u7528\u7F13\u5B58</p><blockquote><p>\u66F4\u591A\u7F13\u5B58\u77E5\u8BC6\u8BE6\u89E3 http://blog.poetries.top/2019/01/02/browser-cache</p></blockquote>",6),$p={id:"_21-\u6D4F\u89C8\u5668\u6E32\u67D3\u539F\u7406",tabindex:"-1"},Yp=n("a",{class:"header-anchor",href:"#_21-\u6D4F\u89C8\u5668\u6E32\u67D3\u539F\u7406","aria-hidden":"true"},"#",-1),Zp=s(),ne={href:"http://interview.poetries.top/docs/excellent.html#_21-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},se=s("#"),ae=s("21 \u6D4F\u89C8\u5668\u6E32\u67D3\u539F\u7406"),pe=n("blockquote",null,[n("p",null,"\u6CE8\u610F\uFF1A\u8BE5\u7AE0\u8282\u90FD\u662F\u4E00\u4E2A\u9762\u8BD5\u9898\u3002")],-1),ee={id:"_21-1-\u6E32\u67D3\u8FC7\u7A0B",tabindex:"-1"},te=n("a",{class:"header-anchor",href:"#_21-1-\u6E32\u67D3\u8FC7\u7A0B","aria-hidden":"true"},"#",-1),oe=s(),ce={href:"http://interview.poetries.top/docs/excellent.html#_21-1-%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},le=s("#"),ue=s("21.1 \u6E32\u67D3\u8FC7\u7A0B"),re=e(`<p><strong>1. \u6D4F\u89C8\u5668\u63A5\u6536\u5230 HTML \u6587\u4EF6\u5E76\u8F6C\u6362\u4E3A DOM \u6811</strong></p><blockquote><p>\u5F53\u6211\u4EEC\u6253\u5F00\u4E00\u4E2A\u7F51\u9875\u65F6\uFF0C\u6D4F\u89C8\u5668\u90FD\u4F1A\u53BB\u8BF7\u6C42\u5BF9\u5E94\u7684 <code>HTML</code> \u6587\u4EF6\u3002\u867D\u7136\u5E73\u65F6\u6211\u4EEC\u5199\u4EE3\u7801\u65F6\u90FD\u4F1A\u5206\u4E3A <code>JS</code>\u3001<code>CSS</code>\u3001<code>HTML</code> \u6587\u4EF6\uFF0C\u4E5F\u5C31\u662F\u5B57\u7B26\u4E32\uFF0C\u4F46\u662F\u8BA1\u7B97\u673A\u786C\u4EF6\u662F\u4E0D\u7406\u89E3\u8FD9\u4E9B\u5B57\u7B26\u4E32\u7684\uFF0C\u6240\u4EE5\u5728\u7F51\u7EDC\u4E2D\u4F20\u8F93\u7684\u5185\u5BB9\u5176\u5B9E\u90FD\u662F <code>0</code> \u548C <code>1</code> \u8FD9\u4E9B\u5B57\u8282\u6570\u636E\u3002\u5F53\u6D4F\u89C8\u5668\u63A5\u6536\u5230\u8FD9\u4E9B\u5B57\u8282\u6570\u636E\u4EE5\u540E\uFF0C\u5B83\u4F1A\u5C06\u8FD9\u4E9B\u5B57\u8282\u6570\u636E\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\uFF0C\u4E5F\u5C31\u662F\u6211\u4EEC\u5199\u7684\u4EE3\u7801\u3002</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/11.png" alt="img"></p><blockquote><p>\u5F53\u6570\u636E\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\u4EE5\u540E\uFF0C\u6D4F\u89C8\u5668\u4F1A\u5148\u5C06\u8FD9\u4E9B\u5B57\u7B26\u4E32\u901A\u8FC7\u8BCD\u6CD5\u5206\u6790\u8F6C\u6362\u4E3A\u6807\u8BB0\uFF08<code>token</code>\uFF09\uFF0C\u8FD9\u4E00\u8FC7\u7A0B\u5728\u8BCD\u6CD5\u5206\u6790\u4E2D\u53EB\u505A\u6807\u8BB0\u5316\uFF08<code>tokenization</code>\uFF09</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/12.png" alt="img"></p><blockquote><p>\u90A3\u4E48\u4EC0\u4E48\u662F\u6807\u8BB0\u5462\uFF1F\u8FD9\u5176\u5B9E\u5C5E\u4E8E\u7F16\u8BD1\u539F\u7406\u8FD9\u4E00\u5757\u7684\u5185\u5BB9\u4E86\u3002\u7B80\u5355\u6765\u8BF4\uFF0C\u6807\u8BB0\u8FD8\u662F\u5B57\u7B26\u4E32\uFF0C\u662F\u6784\u6210\u4EE3\u7801\u7684\u6700\u5C0F\u5355\u4F4D\u3002\u8FD9\u4E00\u8FC7\u7A0B\u4F1A\u5C06\u4EE3\u7801\u5206\u62C6\u6210\u4E00\u5757\u5757\uFF0C\u5E76\u7ED9\u8FD9\u4E9B\u5185\u5BB9\u6253\u4E0A\u6807\u8BB0\uFF0C\u4FBF\u4E8E\u7406\u89E3\u8FD9\u4E9B\u6700\u5C0F\u5355\u4F4D\u7684\u4EE3\u7801\u662F\u4EC0\u4E48\u610F\u601D</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/13.png" alt="img"></p><blockquote><p>\u5F53\u7ED3\u675F\u6807\u8BB0\u5316\u540E\uFF0C\u8FD9\u4E9B\u6807\u8BB0\u4F1A\u7D27\u63A5\u7740\u8F6C\u6362\u4E3A <code>Node</code>\uFF0C\u6700\u540E\u8FD9\u4E9B <code>Node</code> \u4F1A\u6839\u636E\u4E0D\u540C <code>Node</code> \u4E4B\u524D\u7684\u8054\u7CFB\u6784\u5EFA\u4E3A\u4E00\u9897 <code>DOM</code> \u6811</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/14.png" alt="img"></p><blockquote><p>\u4EE5\u4E0A\u5C31\u662F\u6D4F\u89C8\u5668\u4ECE\u7F51\u7EDC\u4E2D\u63A5\u6536\u5230 <code>HTML</code> \u6587\u4EF6\u7136\u540E\u4E00\u7CFB\u5217\u7684\u8F6C\u6362\u8FC7\u7A0B</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/15.png" alt="img"></p><blockquote><p>\u5F53\u7136\uFF0C\u5728\u89E3\u6790 <code>HTML</code> \u6587\u4EF6\u7684\u65F6\u5019\uFF0C\u6D4F\u89C8\u5668\u8FD8\u4F1A\u9047\u5230 <code>CSS</code> \u548C <code>JS</code> \u6587\u4EF6\uFF0C\u8FD9\u65F6\u5019\u6D4F\u89C8\u5668\u4E5F\u4F1A\u53BB\u4E0B\u8F7D\u5E76\u89E3\u6790\u8FD9\u4E9B\u6587\u4EF6\uFF0C\u63A5\u4E0B\u6765\u5C31\u8BA9\u6211\u4EEC\u5148\u6765\u5B66\u4E60\u6D4F\u89C8\u5668\u5982\u4F55\u89E3\u6790 <code>CSS</code> \u6587\u4EF6</p></blockquote><p><strong>2. \u5C06 CSS \u6587\u4EF6\u8F6C\u6362\u4E3A CSSOM \u6811</strong></p><blockquote><p>\u5176\u5B9E\u8F6C\u6362 <code>CSS</code> \u5230 <code>CSSOM</code> \u6811\u7684\u8FC7\u7A0B\u548C\u4E0A\u4E00\u5C0F\u8282\u7684\u8FC7\u7A0B\u662F\u6781\u5176\u7C7B\u4F3C\u7684</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/16.png" alt="img"></p><ul><li>\u5728\u8FD9\u4E00\u8FC7\u7A0B\u4E2D\uFF0C\u6D4F\u89C8\u5668\u4F1A\u786E\u5B9A\u4E0B\u6BCF\u4E00\u4E2A\u8282\u70B9\u7684\u6837\u5F0F\u5230\u5E95\u662F\u4EC0\u4E48\uFF0C\u5E76\u4E14\u8FD9\u4E00\u8FC7\u7A0B\u5176\u5B9E\u662F\u5F88\u6D88\u8017\u8D44\u6E90\u7684\u3002\u56E0\u4E3A\u6837\u5F0F\u4F60\u53EF\u4EE5\u81EA\u884C\u8BBE\u7F6E\u7ED9\u67D0\u4E2A\u8282\u70B9\uFF0C\u4E5F\u53EF\u4EE5\u901A\u8FC7\u7EE7\u627F\u83B7\u5F97\u3002\u5728\u8FD9\u4E00\u8FC7\u7A0B\u4E2D\uFF0C\u6D4F\u89C8\u5668\u5F97\u9012\u5F52 <code>CSSOM</code> \u6811\uFF0C\u7136\u540E\u786E\u5B9A\u5177\u4F53\u7684\u5143\u7D20\u5230\u5E95\u662F\u4EC0\u4E48\u6837\u5F0F\u3002</li></ul><p>\u5982\u679C\u4F60\u6709\u70B9\u4E0D\u7406\u89E3\u4E3A\u4EC0\u4E48\u4F1A\u6D88\u8017\u8D44\u6E90\u7684\u8BDD\uFF0C\u6211\u8FD9\u91CC\u4E3E\u4E2A\u4F8B\u5B50</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">span</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">div &gt; a &gt; span</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u7B2C\u4E00\u79CD\u8BBE\u7F6E\u6837\u5F0F\u7684\u65B9\u5F0F\u6765\u8BF4\uFF0C\u6D4F\u89C8\u5668\u53EA\u9700\u8981\u627E\u5230\u9875\u9762\u4E2D\u6240\u6709\u7684 <code>span</code> \u6807\u7B7E\u7136\u540E\u8BBE\u7F6E\u989C\u8272\uFF0C\u4F46\u662F\u5BF9\u4E8E\u7B2C\u4E8C\u79CD\u8BBE\u7F6E\u6837\u5F0F\u7684\u65B9\u5F0F\u6765\u8BF4\uFF0C\u6D4F\u89C8\u5668\u9996\u5148\u9700\u8981\u627E\u5230\u6240\u6709\u7684 <code>span</code> \u6807\u7B7E\uFF0C\u7136\u540E\u627E\u5230 <code>span</code> \u6807\u7B7E\u4E0A\u7684 <code>a</code> \u6807\u7B7E\uFF0C\u6700\u540E\u518D\u53BB\u627E\u5230 <code>div</code> \u6807\u7B7E\uFF0C\u7136\u540E\u7ED9\u7B26\u5408\u8FD9\u79CD\u6761\u4EF6\u7684 <code>span</code> \u6807\u7B7E\u8BBE\u7F6E\u989C\u8272\uFF0C\u8FD9\u6837\u7684\u9012\u5F52\u8FC7\u7A0B\u5C31\u5F88\u590D\u6742\u3002\u6240\u4EE5\u6211\u4EEC\u5E94\u8BE5\u5C3D\u53EF\u80FD\u7684\u907F\u514D\u5199\u8FC7\u4E8E\u5177\u4F53\u7684 <code>CSS</code> \u9009\u62E9\u5668\uFF0C\u7136\u540E\u5BF9\u4E8E <code>HTML</code> \u6765\u8BF4\u4E5F\u5C3D\u91CF\u5C11\u7684\u6DFB\u52A0\u65E0\u610F\u4E49\u6807\u7B7E\uFF0C\u4FDD\u8BC1\u5C42\u7EA7\u6241\u5E73</p></blockquote><p><strong>3. \u751F\u6210\u6E32\u67D3\u6811</strong></p><blockquote><p>\u5F53\u6211\u4EEC\u751F\u6210 <code>DOM</code> \u6811\u548C <code>CSSOM</code> \u6811\u4EE5\u540E\uFF0C\u5C31\u9700\u8981\u5C06\u8FD9\u4E24\u68F5\u6811\u7EC4\u5408\u4E3A\u6E32\u67D3\u6811</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/17.png" alt="img"></p><ul><li>\u5728\u8FD9\u4E00\u8FC7\u7A0B\u4E2D\uFF0C\u4E0D\u662F\u7B80\u5355\u7684\u5C06\u4E24\u8005\u5408\u5E76\u5C31\u884C\u4E86\u3002\u6E32\u67D3\u6811\u53EA\u4F1A\u5305\u62EC\u9700\u8981\u663E\u793A\u7684\u8282\u70B9\u548C\u8FD9\u4E9B\u8282\u70B9\u7684\u6837\u5F0F\u4FE1\u606F\uFF0C\u5982\u679C\u67D0\u4E2A\u8282\u70B9\u662F <code>display: none</code> \u7684\uFF0C\u90A3\u4E48\u5C31\u4E0D\u4F1A\u5728\u6E32\u67D3\u6811\u4E2D\u663E\u793A\u3002</li><li>\u5F53\u6D4F\u89C8\u5668\u751F\u6210\u6E32\u67D3\u6811\u4EE5\u540E\uFF0C\u5C31\u4F1A\u6839\u636E\u6E32\u67D3\u6811\u6765\u8FDB\u884C\u5E03\u5C40\uFF08\u4E5F\u53EF\u4EE5\u53EB\u505A\u56DE\u6D41\uFF09\uFF0C\u7136\u540E\u8C03\u7528 <code>GPU</code>\u7ED8\u5236\uFF0C\u5408\u6210\u56FE\u5C42\uFF0C\u663E\u793A\u5728\u5C4F\u5E55\u4E0A\u3002\u5BF9\u4E8E\u8FD9\u4E00\u90E8\u5206\u7684\u5185\u5BB9\u56E0\u4E3A\u8FC7\u4E8E\u5E95\u5C42\uFF0C\u8FD8\u6D89\u53CA\u5230\u4E86\u786C\u4EF6\u76F8\u5173\u7684\u77E5\u8BC6\uFF0C\u8FD9\u91CC\u5C31\u4E0D\u518D\u7EE7\u7EED\u5C55\u5F00\u5185\u5BB9\u4E86\u3002</li></ul>`,23),ie={id:"_21-2-\u4E3A\u4EC0\u4E48\u64CD\u4F5C-dom-\u6162",tabindex:"-1"},ke=n("a",{class:"header-anchor",href:"#_21-2-\u4E3A\u4EC0\u4E48\u64CD\u4F5C-dom-\u6162","aria-hidden":"true"},"#",-1),de=s(),be={href:"http://interview.poetries.top/docs/excellent.html#_21-2-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%93%8D%E4%BD%9C-dom-%E6%85%A2",target:"_blank",rel:"noopener noreferrer"},me=s("#"),he=s("21.2 \u4E3A\u4EC0\u4E48\u64CD\u4F5C DOM \u6162"),ge=e('<blockquote><p>\u60F3\u5FC5\u5927\u5BB6\u90FD\u542C\u8FC7\u64CD\u4F5C DOM \u6027\u80FD\u5F88\u5DEE\uFF0C\u4F46\u662F\u8FD9\u5176\u4E2D\u7684\u539F\u56E0\u662F\u4EC0\u4E48\u5462\uFF1F</p></blockquote><ul><li>\u56E0\u4E3A <code>DOM</code>\u662F\u5C5E\u4E8E\u6E32\u67D3\u5F15\u64CE\u4E2D\u7684\u4E1C\u897F\uFF0C\u800C <code>JS</code> \u53C8\u662F <code>JS</code> \u5F15\u64CE\u4E2D\u7684\u4E1C\u897F\u3002\u5F53\u6211\u4EEC\u901A\u8FC7 <code>JS</code> \u64CD\u4F5C <code>DOM</code> \u7684\u65F6\u5019\uFF0C\u5176\u5B9E\u8FD9\u4E2A\u64CD\u4F5C\u6D89\u53CA\u5230\u4E86\u4E24\u4E2A\u7EBF\u7A0B\u4E4B\u95F4\u7684\u901A\u4FE1\uFF0C\u90A3\u4E48\u52BF\u5FC5\u4F1A\u5E26\u6765\u4E00\u4E9B\u6027\u80FD\u4E0A\u7684\u635F\u8017\u3002\u64CD\u4F5C <code>DOM</code> \u6B21\u6570\u4E00\u591A\uFF0C\u4E5F\u5C31\u7B49\u540C\u4E8E\u4E00\u76F4\u5728\u8FDB\u884C\u7EBF\u7A0B\u4E4B\u95F4\u7684\u901A\u4FE1\uFF0C\u5E76\u4E14\u64CD\u4F5C <code>DOM</code> \u53EF\u80FD\u8FD8\u4F1A\u5E26\u6765\u91CD\u7ED8\u56DE\u6D41\u7684\u60C5\u51B5\uFF0C\u6240\u4EE5\u4E5F\u5C31\u5BFC\u81F4\u4E86\u6027\u80FD\u4E0A\u7684\u95EE\u9898\u3002</li></ul><blockquote><p>\u7ECF\u5178\u9762\u8BD5\u9898\uFF1A\u63D2\u5165\u51E0\u4E07\u4E2A DOM\uFF0C\u5982\u4F55\u5B9E\u73B0\u9875\u9762\u4E0D\u5361\u987F\uFF1F</p></blockquote><ul><li>\u5BF9\u4E8E\u8FD9\u9053\u9898\u76EE\u6765\u8BF4\uFF0C\u9996\u5148\u6211\u4EEC\u80AF\u5B9A\u4E0D\u80FD\u4E00\u6B21\u6027\u628A\u51E0\u4E07\u4E2A <code>DOM</code> \u5168\u90E8\u63D2\u5165\uFF0C\u8FD9\u6837\u80AF\u5B9A\u4F1A\u9020\u6210\u5361\u987F\uFF0C\u6240\u4EE5\u89E3\u51B3\u95EE\u9898\u7684\u91CD\u70B9\u5E94\u8BE5\u662F\u5982\u4F55\u5206\u6279\u6B21\u90E8\u5206\u6E32\u67D3 <code>DOM</code>\u3002\u5927\u90E8\u5206\u4EBA\u5E94\u8BE5\u53EF\u4EE5\u60F3\u5230\u901A\u8FC7 <code>requestAnimationFrame</code> \u7684\u65B9\u5F0F\u53BB\u5FAA\u73AF\u7684\u63D2\u5165 <code>DOM</code>\uFF0C\u5176\u5B9E\u8FD8\u6709\u79CD\u65B9\u5F0F\u53BB\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF1A\u865A\u62DF\u6EDA\u52A8\uFF08<code>virtualized scroller</code>\uFF09\u3002</li><li>\u8FD9\u79CD\u6280\u672F\u7684\u539F\u7406\u5C31\u662F\u53EA\u6E32\u67D3\u53EF\u89C6\u533A\u57DF\u5185\u7684\u5185\u5BB9\uFF0C\u975E\u53EF\u89C1\u533A\u57DF\u7684\u90A3\u5C31\u5B8C\u5168\u4E0D\u6E32\u67D3\u4E86\uFF0C\u5F53\u7528\u6237\u5728\u6EDA\u52A8\u7684\u65F6\u5019\u5C31\u5B9E\u65F6\u53BB\u66FF\u6362\u6E32\u67D3\u7684\u5185\u5BB9</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/18.png" alt="img"></p><blockquote><p>\u4ECE\u4E0A\u56FE\u4E2D\u6211\u4EEC\u53EF\u4EE5\u53D1\u73B0\uFF0C\u5373\u4F7F\u5217\u8868\u5F88\u957F\uFF0C\u4F46\u662F\u6E32\u67D3\u7684 <code>DOM</code> \u5143\u7D20\u6C38\u8FDC\u53EA\u6709\u90A3\u4E48\u51E0\u4E2A\uFF0C\u5F53\u6211\u4EEC\u6EDA\u52A8\u9875\u9762\u7684\u65F6\u5019\u5C31\u4F1A\u5B9E\u65F6\u53BB\u66F4\u65B0 <code>DOM</code>\uFF0C\u8FD9\u4E2A\u6280\u672F\u5C31\u80FD\u987A\u5229\u89E3\u51B3\u8FD9\u9053\u7ECF\u5178\u9762\u8BD5\u9898</p></blockquote>',6),_e={id:"_21-3-\u4EC0\u4E48\u60C5\u51B5\u963B\u585E\u6E32\u67D3",tabindex:"-1"},fe=n("a",{class:"header-anchor",href:"#_21-3-\u4EC0\u4E48\u60C5\u51B5\u963B\u585E\u6E32\u67D3","aria-hidden":"true"},"#",-1),ye=s(),ve={href:"http://interview.poetries.top/docs/excellent.html#_21-3-%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E9%98%BB%E5%A1%9E%E6%B8%B2%E6%9F%93",target:"_blank",rel:"noopener noreferrer"},we=s("#"),xe=s("21.3 \u4EC0\u4E48\u60C5\u51B5\u963B\u585E\u6E32\u67D3"),qe=e("<ul><li>\u9996\u5148\u6E32\u67D3\u7684\u524D\u63D0\u662F\u751F\u6210\u6E32\u67D3\u6811\uFF0C\u6240\u4EE5 <code>HTML</code> \u548C <code>CSS</code> \u80AF\u5B9A\u4F1A\u963B\u585E\u6E32\u67D3\u3002\u5982\u679C\u4F60\u60F3\u6E32\u67D3\u7684\u8D8A\u5FEB\uFF0C\u4F60\u8D8A\u5E94\u8BE5\u964D\u4F4E\u4E00\u5F00\u59CB\u9700\u8981\u6E32\u67D3\u7684\u6587\u4EF6\u5927\u5C0F\uFF0C\u5E76\u4E14\u6241\u5E73\u5C42\u7EA7\uFF0C\u4F18\u5316\u9009\u62E9\u5668\u3002</li><li>\u7136\u540E\u5F53\u6D4F\u89C8\u5668\u5728\u89E3\u6790\u5230 <code>script</code> \u6807\u7B7E\u65F6\uFF0C\u4F1A\u6682\u505C\u6784\u5EFA <code>DOM</code>\uFF0C\u5B8C\u6210\u540E\u624D\u4F1A\u4ECE\u6682\u505C\u7684\u5730\u65B9\u91CD\u65B0\u5F00\u59CB\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5982\u679C\u4F60\u60F3\u9996\u5C4F\u6E32\u67D3\u7684\u8D8A\u5FEB\uFF0C\u5C31\u8D8A\u4E0D\u5E94\u8BE5\u5728\u9996\u5C4F\u5C31\u52A0\u8F7D <code>JS</code>\u6587\u4EF6\uFF0C\u8FD9\u4E5F\u662F\u90FD\u5EFA\u8BAE\u5C06 <code>script</code> \u6807\u7B7E\u653E\u5728 <code>body</code> \u6807\u7B7E\u5E95\u90E8\u7684\u539F\u56E0\u3002</li><li>\u5F53\u7136\u5728\u5F53\u4E0B\uFF0C\u5E76\u4E0D\u662F\u8BF4 <code>script</code> \u6807\u7B7E\u5FC5\u987B\u653E\u5728\u5E95\u90E8\uFF0C\u56E0\u4E3A\u4F60\u53EF\u4EE5\u7ED9 <code>script</code> \u6807\u7B7E\u6DFB\u52A0 <code>defer</code> \u6216\u8005 <code>async</code> \u5C5E\u6027\u3002</li><li>\u5F53 <code>script</code> \u6807\u7B7E\u52A0\u4E0A <code>defer</code> \u5C5E\u6027\u4EE5\u540E\uFF0C\u8868\u793A\u8BE5 <code>JS</code> \u6587\u4EF6\u4F1A\u5E76\u884C\u4E0B\u8F7D\uFF0C\u4F46\u662F\u4F1A\u653E\u5230 <code>HTML</code> \u89E3\u6790\u5B8C\u6210\u540E\u987A\u5E8F\u6267\u884C\uFF0C\u6240\u4EE5\u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\u4F60\u53EF\u4EE5\u628A <code>script</code>\u6807\u7B7E\u653E\u5728\u4EFB\u610F\u4F4D\u7F6E\u3002</li><li>\u5BF9\u4E8E\u6CA1\u6709\u4EFB\u4F55\u4F9D\u8D56\u7684 <code>JS</code> \u6587\u4EF6\u53EF\u4EE5\u52A0\u4E0A <code>async</code> \u5C5E\u6027\uFF0C\u8868\u793A <code>JS</code> \u6587\u4EF6\u4E0B\u8F7D\u548C\u89E3\u6790\u4E0D\u4F1A\u963B\u585E\u6E32\u67D3\u3002</li></ul>",1),Ee={id:"_21-4-\u91CD\u7ED8-repaint-\u548C\u56DE\u6D41-reflow",tabindex:"-1"},je=n("a",{class:"header-anchor",href:"#_21-4-\u91CD\u7ED8-repaint-\u548C\u56DE\u6D41-reflow","aria-hidden":"true"},"#",-1),Ce=s(),Se={href:"http://interview.poetries.top/docs/excellent.html#_21-4-%E9%87%8D%E7%BB%98-repaint-%E5%92%8C%E5%9B%9E%E6%B5%81-reflow",target:"_blank",rel:"noopener noreferrer"},Ae=s("#"),Be=s("21.4 \u91CD\u7ED8\uFF08Repaint\uFF09\u548C\u56DE\u6D41\uFF08Reflow\uFF09"),Te=e("<blockquote><p>\u91CD\u7ED8\u548C\u56DE\u6D41\u4F1A\u5728\u6211\u4EEC\u8BBE\u7F6E\u8282\u70B9\u6837\u5F0F\u65F6\u9891\u7E41\u51FA\u73B0\uFF0C\u540C\u65F6\u4E5F\u4F1A\u5F88\u5927\u7A0B\u5EA6\u4E0A\u5F71\u54CD\u6027\u80FD\u3002</p></blockquote><ul><li>\u91CD\u7ED8\u662F\u5F53\u8282\u70B9\u9700\u8981\u66F4\u6539\u5916\u89C2\u800C\u4E0D\u4F1A\u5F71\u54CD\u5E03\u5C40\u7684\uFF0C\u6BD4\u5982\u6539\u53D8 <code>color</code> \u5C31\u53EB\u79F0\u4E3A\u91CD\u7ED8</li><li>\u56DE\u6D41\u662F\u5E03\u5C40\u6216\u8005\u51E0\u4F55\u5C5E\u6027\u9700\u8981\u6539\u53D8\u5C31\u79F0\u4E3A\u56DE\u6D41\u3002</li><li>\u56DE\u6D41\u5FC5\u5B9A\u4F1A\u53D1\u751F\u91CD\u7ED8\uFF0C\u91CD\u7ED8\u4E0D\u4E00\u5B9A\u4F1A\u5F15\u53D1\u56DE\u6D41\u3002\u56DE\u6D41\u6240\u9700\u7684\u6210\u672C\u6BD4\u91CD\u7ED8\u9AD8\u7684\u591A\uFF0C\u6539\u53D8\u7236\u8282\u70B9\u91CC\u7684\u5B50\u8282\u70B9\u5F88\u53EF\u80FD\u4F1A\u5BFC\u81F4\u7236\u8282\u70B9\u7684\u4E00\u7CFB\u5217\u56DE\u6D41\u3002</li></ul><p><strong>\u4EE5\u4E0B\u51E0\u4E2A\u52A8\u4F5C\u53EF\u80FD\u4F1A\u5BFC\u81F4\u6027\u80FD\u95EE\u9898</strong>\uFF1A</p><ul><li>\u6539\u53D8 <code>window</code> \u5927\u5C0F</li><li>\u6539\u53D8\u5B57\u4F53</li><li>\u6DFB\u52A0\u6216\u5220\u9664\u6837\u5F0F</li><li>\u6587\u5B57\u6539\u53D8</li><li>\u5B9A\u4F4D\u6216\u8005\u6D6E\u52A8</li><li>\u76D2\u6A21\u578B</li></ul><blockquote><p>\u5E76\u4E14\u5F88\u591A\u4EBA\u4E0D\u77E5\u9053\u7684\u662F\uFF0C\u91CD\u7ED8\u548C\u56DE\u6D41\u5176\u5B9E\u4E5F\u548C <code>Eventloop</code> \u6709\u5173\u3002</p></blockquote><ul><li>\u5F53 <code>Eventloop</code> \u6267\u884C\u5B8C <code>Microtasks</code> \u540E\uFF0C\u4F1A\u5224\u65AD <code>document</code> \u662F\u5426\u9700\u8981\u66F4\u65B0\uFF0C\u56E0\u4E3A\u6D4F\u89C8\u5668\u662F <code>60Hz</code> \u7684\u5237\u65B0\u7387\uFF0C\u6BCF <code>16.6ms</code> \u624D\u4F1A\u66F4\u65B0\u4E00\u6B21\u3002</li><li>\u7136\u540E\u5224\u65AD\u662F\u5426\u6709 <code>resize</code> \u6216\u8005 <code>scroll</code> \u4E8B\u4EF6\uFF0C\u6709\u7684\u8BDD\u4F1A\u53BB\u89E6\u53D1\u4E8B\u4EF6\uFF0C\u6240\u4EE5 <code>resize</code> \u548C <code>scroll</code> \u4E8B\u4EF6\u4E5F\u662F\u81F3\u5C11 <code>16ms</code> \u624D\u4F1A\u89E6\u53D1\u4E00\u6B21\uFF0C\u5E76\u4E14\u81EA\u5E26\u8282\u6D41\u529F\u80FD\u3002</li><li>\u5224\u65AD\u662F\u5426\u89E6\u53D1\u4E86 <code>media query</code></li><li>\u66F4\u65B0\u52A8\u753B\u5E76\u4E14\u53D1\u9001\u4E8B\u4EF6</li><li>\u5224\u65AD\u662F\u5426\u6709\u5168\u5C4F\u64CD\u4F5C\u4E8B\u4EF6</li><li>\u6267\u884C <code>requestAnimationFrame</code>\u56DE\u8C03</li><li>\u6267\u884C <code>IntersectionObserver</code> \u56DE\u8C03\uFF0C\u8BE5\u65B9\u6CD5\u7528\u4E8E\u5224\u65AD\u5143\u7D20\u662F\u5426\u53EF\u89C1\uFF0C\u53EF\u4EE5\u7528\u4E8E\u61D2\u52A0\u8F7D\u4E0A\uFF0C\u4F46\u662F\u517C\u5BB9\u6027\u4E0D\u597D \u66F4\u65B0\u754C\u9762</li><li>\u4EE5\u4E0A\u5C31\u662F\u4E00\u5E27\u4E2D\u53EF\u80FD\u4F1A\u505A\u7684\u4E8B\u60C5\u3002\u5982\u679C\u5728\u4E00\u5E27\u4E2D\u6709\u7A7A\u95F2\u65F6\u95F4\uFF0C\u5C31\u4F1A\u53BB\u6267\u884C <code>requestIdleCallback</code>\u56DE\u8C03</li></ul>",6),Pe={id:"_21-5-\u51CF\u5C11\u91CD\u7ED8\u548C\u56DE\u6D41",tabindex:"-1"},De=n("a",{class:"header-anchor",href:"#_21-5-\u51CF\u5C11\u91CD\u7ED8\u548C\u56DE\u6D41","aria-hidden":"true"},"#",-1),Me=s(),Oe={href:"http://interview.poetries.top/docs/excellent.html#_21-5-%E5%87%8F%E5%B0%91%E9%87%8D%E7%BB%98%E5%92%8C%E5%9B%9E%E6%B5%81",target:"_blank",rel:"noopener noreferrer"},Re=s("#"),Fe=s("21.5 \u51CF\u5C11\u91CD\u7ED8\u548C\u56DE\u6D41"),Ne=e(`<ol><li>\u4F7F\u7528 <code>transform</code> \u66FF\u4EE3 <code>top</code></li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.test</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5F15\u8D77\u56DE\u6D41</span>
    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;.test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token string">&#39;100px&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ol><li>\u4F7F\u7528 <code>visibility</code> \u66FF\u6362<code>display: none</code> \uFF0C\u56E0\u4E3A\u524D\u8005\u53EA\u4F1A\u5F15\u8D77\u91CD\u7ED8\uFF0C\u540E\u8005\u4F1A\u5F15\u53D1\u56DE\u6D41\uFF08\u6539\u53D8\u4E86\u5E03\u5C40\uFF09</li><li>\u4E0D\u8981\u628A\u8282\u70B9\u7684\u5C5E\u6027\u503C\u653E\u5728\u4E00\u4E2A\u5FAA\u73AF\u91CC\u5F53\u6210\u5FAA\u73AF\u91CC\u7684\u53D8\u91CF</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u83B7\u53D6 offsetTop \u4F1A\u5BFC\u81F4\u56DE\u6D41\uFF0C\u56E0\u4E3A\u9700\u8981\u53BB\u83B7\u53D6\u6B63\u786E\u7684\u503C</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;.test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>offsetTop<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol><li>\u4E0D\u8981\u4F7F\u7528 <code>table</code> \u5E03\u5C40\uFF0C\u53EF\u80FD\u5F88\u5C0F\u7684\u4E00\u4E2A\u5C0F\u6539\u52A8\u4F1A\u9020\u6210\u6574\u4E2A <code>table</code> \u7684\u91CD\u65B0\u5E03\u5C40</li><li>\u52A8\u753B\u5B9E\u73B0\u7684\u901F\u5EA6\u7684\u9009\u62E9\uFF0C\u52A8\u753B\u901F\u5EA6\u8D8A\u5FEB\uFF0C\u56DE\u6D41\u6B21\u6570\u8D8A\u591A\uFF0C\u4E5F\u53EF\u4EE5\u9009\u62E9\u4F7F\u7528 <code>requestAnimationFrame</code></li><li><code>CSS</code> \u9009\u62E9\u7B26\u4ECE\u53F3\u5F80\u5DE6\u5339\u914D\u67E5\u627E\uFF0C\u907F\u514D\u8282\u70B9\u5C42\u7EA7\u8FC7\u591A</li><li>\u5C06\u9891\u7E41\u91CD\u7ED8\u6216\u8005\u56DE\u6D41\u7684\u8282\u70B9\u8BBE\u7F6E\u4E3A\u56FE\u5C42\uFF0C\u56FE\u5C42\u80FD\u591F\u963B\u6B62\u8BE5\u8282\u70B9\u7684\u6E32\u67D3\u884C\u4E3A\u5F71\u54CD\u522B\u7684\u8282\u70B9\u3002\u6BD4\u5982\u5BF9\u4E8E <code>video</code> \u6807\u7B7E\u6765\u8BF4\uFF0C\u6D4F\u89C8\u5668\u4F1A\u81EA\u52A8\u5C06\u8BE5\u8282\u70B9\u53D8\u4E3A\u56FE\u5C42\u3002</li></ol><blockquote><p>\u8BBE\u7F6E\u8282\u70B9\u4E3A\u56FE\u5C42\u7684\u65B9\u5F0F\u6709\u5F88\u591A\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u51E0\u4E2A\u5E38\u7528\u5C5E\u6027\u53EF\u4EE5\u751F\u6210\u65B0\u56FE\u5C42</p></blockquote><ul><li><code>will-change</code></li><li><code>video</code>\u3001<code>iframe</code> \u6807\u7B7E</li></ul>`,7),Le={id:"_22-\u5B89\u5168\u9632\u8303",tabindex:"-1"},Ve=n("a",{class:"header-anchor",href:"#_22-\u5B89\u5168\u9632\u8303","aria-hidden":"true"},"#",-1),Ie=s(),He={href:"http://interview.poetries.top/docs/excellent.html#_22-%E5%AE%89%E5%85%A8%E9%98%B2%E8%8C%83",target:"_blank",rel:"noopener noreferrer"},Je=s("#"),Ue=s("22 \u5B89\u5168\u9632\u8303"),ze={id:"_22-1-xss",tabindex:"-1"},We=n("a",{class:"header-anchor",href:"#_22-1-xss","aria-hidden":"true"},"#",-1),Xe=s(),Ge={href:"http://interview.poetries.top/docs/excellent.html#_22-1-xss",target:"_blank",rel:"noopener noreferrer"},Qe=s("#"),Ke=s("22.1 XSS"),$e=e(`<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u4EC0\u4E48\u662F <code>XSS</code> \u653B\u51FB\uFF1F\u5982\u4F55\u9632\u8303 <code>XSS</code> \u653B\u51FB\uFF1F\u4EC0\u4E48\u662F <code>CSP</code>\uFF1F</p></blockquote><ul><li><code>XSS</code> \u7B80\u5355\u70B9\u6765\u8BF4\uFF0C\u5C31\u662F\u653B\u51FB\u8005\u60F3\u5C3D\u4E00\u5207\u529E\u6CD5\u5C06\u53EF\u4EE5\u6267\u884C\u7684\u4EE3\u7801\u6CE8\u5165\u5230\u7F51\u9875\u4E2D\u3002</li><li><code>XSS</code> \u53EF\u4EE5\u5206\u4E3A\u591A\u79CD\u7C7B\u578B\uFF0C\u4F46\u662F\u603B\u4F53\u4E0A\u6211\u8BA4\u4E3A\u5206\u4E3A\u4E24\u7C7B\uFF1A\u6301\u4E45\u578B\u548C\u975E\u6301\u4E45\u578B\u3002</li><li>\u6301\u4E45\u578B\u4E5F\u5C31\u662F\u653B\u51FB\u7684\u4EE3\u7801\u88AB\u670D\u52A1\u7AEF\u5199\u5165\u8FDB\u6570\u636E\u5E93\u4E2D\uFF0C\u8FD9\u79CD\u653B\u51FB\u5371\u5BB3\u6027\u5F88\u5927\uFF0C\u56E0\u4E3A\u5982\u679C\u7F51\u7AD9\u8BBF\u95EE\u91CF\u5F88\u5927\u7684\u8BDD\uFF0C\u5C31\u4F1A\u5BFC\u81F4\u5927\u91CF\u6B63\u5E38\u8BBF\u95EE\u9875\u9762\u7684\u7528\u6237\u90FD\u53D7\u5230\u653B\u51FB\u3002</li></ul><blockquote><p>\u4E3E\u4E2A\u4F8B\u5B50\uFF0C\u5BF9\u4E8E\u8BC4\u8BBA\u529F\u80FD\u6765\u8BF4\uFF0C\u5C31\u5F97\u9632\u8303\u6301\u4E45\u578B <code>XSS</code> \u653B\u51FB\uFF0C\u56E0\u4E3A\u6211\u53EF\u4EE5\u5728\u8BC4\u8BBA\u4E2D\u8F93\u5165\u4EE5\u4E0B\u5185\u5BB9</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/4.png" alt="image.png"></p><ul><li>\u8FD9\u79CD\u60C5\u51B5\u5982\u679C\u524D\u540E\u7AEF\u6CA1\u6709\u505A\u597D\u9632\u5FA1\u7684\u8BDD\uFF0C\u8FD9\u6BB5\u8BC4\u8BBA\u5C31\u4F1A\u88AB\u5B58\u50A8\u5230\u6570\u636E\u5E93\u4E2D\uFF0C\u8FD9\u6837\u6BCF\u4E2A\u6253\u5F00\u8BE5\u9875\u9762\u7684\u7528\u6237\u90FD\u4F1A\u88AB\u653B\u51FB\u5230\u3002</li><li>\u975E\u6301\u4E45\u578B\u76F8\u6BD4\u4E8E\u524D\u8005\u5371\u5BB3\u5C31\u5C0F\u7684\u591A\u4E86\uFF0C\u4E00\u822C\u901A\u8FC7\u4FEE\u6539 <code>URL</code> \u53C2\u6570\u7684\u65B9\u5F0F\u52A0\u5165\u653B\u51FB\u4EE3\u7801\uFF0C\u8BF1\u5BFC\u7528\u6237\u8BBF\u95EE\u94FE\u63A5\u4ECE\u800C\u8FDB\u884C\u653B\u51FB\u3002</li></ul><blockquote><p>\u4E3E\u4E2A\u4F8B\u5B50\uFF0C\u5982\u679C\u9875\u9762\u9700\u8981\u4ECE <code>URL</code> \u4E2D\u83B7\u53D6\u67D0\u4E9B\u53C2\u6570\u4F5C\u4E3A\u5185\u5BB9\u7684\u8BDD\uFF0C\u4E0D\u7ECF\u8FC7\u8FC7\u6EE4\u5C31\u4F1A\u5BFC\u81F4\u653B\u51FB\u4EE3\u7801\u88AB\u6267\u884C</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- http://www.domain.com?name=&lt;script&gt;alert(1)&lt;/script&gt; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>                                                  
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>\u4F46\u662F\u5BF9\u4E8E\u8FD9\u79CD\u653B\u51FB\u65B9\u5F0F\u6765\u8BF4\uFF0C\u5982\u679C\u7528\u6237\u4F7F\u7528 <code>Chrome</code> \u8FD9\u7C7B\u6D4F\u89C8\u5668\u7684\u8BDD\uFF0C\u6D4F\u89C8\u5668\u5C31\u80FD\u81EA\u52A8\u5E2E\u52A9\u7528\u6237\u9632\u5FA1\u653B\u51FB\u3002\u4F46\u662F\u6211\u4EEC\u4E0D\u80FD\u56E0\u6B64\u5C31\u4E0D\u9632\u5FA1\u6B64\u7C7B\u653B\u51FB\u4E86\uFF0C\u56E0\u4E3A\u6211\u4E0D\u80FD\u786E\u4FDD\u7528\u6237\u90FD\u4F7F\u7528\u4E86\u8BE5\u7C7B\u6D4F\u89C8\u5668\u3002</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/19.png" alt="img"></p><blockquote><p>\u5BF9\u4E8E <code>XSS</code> \u653B\u51FB\u6765\u8BF4\uFF0C\u901A\u5E38\u6709\u4E24\u79CD\u65B9\u5F0F\u53EF\u4EE5\u7528\u6765\u9632\u5FA1\u3002</p></blockquote><ol><li><strong>\u8F6C\u4E49\u5B57\u7B26</strong></li></ol><blockquote><p>\u9996\u5148\uFF0C\u5BF9\u4E8E\u7528\u6237\u7684\u8F93\u5165\u5E94\u8BE5\u662F\u6C38\u8FDC\u4E0D\u4FE1\u4EFB\u7684\u3002\u6700\u666E\u904D\u7684\u505A\u6CD5\u5C31\u662F\u8F6C\u4E49\u8F93\u5165\u8F93\u51FA\u7684\u5185\u5BB9\uFF0C\u5BF9\u4E8E\u5F15\u53F7\u3001\u5C16\u62EC\u53F7\u3001\u659C\u6760\u8FDB\u884C\u8F6C\u4E49</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">escape</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&amp;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&amp;amp;&#39;</span><span class="token punctuation">)</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&amp;lt;&#39;</span><span class="token punctuation">)</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&amp;gt;&#39;</span><span class="token punctuation">)</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&quot;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&amp;quto;&#39;</span><span class="token punctuation">)</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&#39;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&amp;#39;&#39;</span><span class="token punctuation">)</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\`</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&amp;#96;&#39;</span><span class="token punctuation">)</span>
  str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\/</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&amp;#x2F;&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> str
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>\u901A\u8FC7\u8F6C\u4E49\u53EF\u4EE5\u5C06\u653B\u51FB\u4EE3\u7801 <code>&lt;script&gt;alert(1)&lt;/script&gt;</code> \u53D8\u6210</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// -&gt; &amp;lt;script&amp;gt;alert(1)&amp;lt;&amp;#x2F;script&amp;gt;</span>
<span class="token function">escape</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;script&gt;alert(1)&lt;/script&gt;&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>\u4F46\u662F\u5BF9\u4E8E\u663E\u793A\u5BCC\u6587\u672C\u6765\u8BF4\uFF0C\u663E\u7136\u4E0D\u80FD\u901A\u8FC7\u4E0A\u9762\u7684\u529E\u6CD5\u6765\u8F6C\u4E49\u6240\u6709\u5B57\u7B26\uFF0C\u56E0\u4E3A\u8FD9\u6837\u4F1A\u628A\u9700\u8981\u7684\u683C\u5F0F\u4E5F\u8FC7\u6EE4\u6389\u3002\u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\uFF0C\u901A\u5E38\u91C7\u7528\u767D\u540D\u5355\u8FC7\u6EE4\u7684\u529E\u6CD5\uFF0C\u5F53\u7136\u4E5F\u53EF\u4EE5\u901A\u8FC7\u9ED1\u540D\u5355\u8FC7\u6EE4\uFF0C\u4F46\u662F\u8003\u8651\u5230\u9700\u8981\u8FC7\u6EE4\u7684\u6807\u7B7E\u548C\u6807\u7B7E\u5C5E\u6027\u5B9E\u5728\u592A\u591A\uFF0C\u66F4\u52A0\u63A8\u8350\u4F7F\u7528\u767D\u540D\u5355\u7684\u65B9\u5F0F</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> xss <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;xss&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> html <span class="token operator">=</span> <span class="token function">xss</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;h1 id=&quot;title&quot;&gt;XSS Demo&lt;/h1&gt;&lt;script&gt;alert(&quot;xss&quot;);&lt;/script&gt;&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// -&gt; &lt;h1&gt;XSS Demo&lt;/h1&gt;&amp;lt;script&amp;gt;alert(&quot;xss&quot;);&amp;lt;/script&amp;gt;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u793A\u4F8B\u4F7F\u7528\u4E86 <code>js-xss</code> \u6765\u5B9E\u73B0\uFF0C\u53EF\u4EE5\u770B\u5230\u5728\u8F93\u51FA\u4E2D\u4FDD\u7559\u4E86 <code>h1</code> \u6807\u7B7E\u4E14\u8FC7\u6EE4\u4E86 <code>script</code>\u6807\u7B7E</p></blockquote><ol><li><strong>CSP</strong></li></ol><blockquote><p><code>CSP</code> \u672C\u8D28\u4E0A\u5C31\u662F\u5EFA\u7ACB\u767D\u540D\u5355\uFF0C\u5F00\u53D1\u8005\u660E\u786E\u544A\u8BC9\u6D4F\u89C8\u5668\u54EA\u4E9B\u5916\u90E8\u8D44\u6E90\u53EF\u4EE5\u52A0\u8F7D\u548C\u6267\u884C\u3002\u6211\u4EEC\u53EA\u9700\u8981\u914D\u7F6E\u89C4\u5219\uFF0C\u5982\u4F55\u62E6\u622A\u662F\u7531\u6D4F\u89C8\u5668\u81EA\u5DF1\u5B9E\u73B0\u7684\u3002\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u8FD9\u79CD\u65B9\u5F0F\u6765\u5C3D\u91CF\u51CF\u5C11 <code>XSS</code> \u653B\u51FB\u3002</p></blockquote><p><strong>\u901A\u5E38\u53EF\u4EE5\u901A\u8FC7\u4E24\u79CD\u65B9\u5F0F\u6765\u5F00\u542F CSP</strong>\uFF1A</p><ul><li>\u8BBE\u7F6E <code>HTTP Header</code> \u4E2D\u7684 <code>Content-Security-Policy</code></li><li>\u8BBE\u7F6E <code>meta</code> \u6807\u7B7E\u7684\u65B9\u5F0F <code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot;&gt;</code></li></ul><p>\u8FD9\u91CC\u4EE5\u8BBE\u7F6E <code>HTTP Header</code> \u6765\u4E3E\u4F8B</p><p><strong>\u53EA\u5141\u8BB8\u52A0\u8F7D\u672C\u7AD9\u8D44\u6E90</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Content-Security-Policy: default-src \u2018self\u2019
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>\u53EA\u5141\u8BB8\u52A0\u8F7D HTTPS \u534F\u8BAE\u56FE\u7247</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Content-Security-Policy: img-src https://*
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>\u5141\u8BB8\u52A0\u8F7D\u4EFB\u4F55\u6765\u6E90\u6846\u67B6</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Content-Security-Policy: child-src &#39;none&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,29),Ye=s("\u5F53\u7136\u53EF\u4EE5\u8BBE\u7F6E\u7684\u5C5E\u6027\u8FDC\u4E0D\u6B62\u8FD9\u4E9B\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7\u67E5\u9605 "),Ze={href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy",target:"_blank",rel:"noopener noreferrer"},nt=s("\u6587\u6863 (opens new window)"),st=s("\u7684\u65B9\u5F0F\u6765\u5B66\u4E60\uFF0C\u8FD9\u91CC\u5C31\u4E0D\u8FC7\u591A\u8D58\u8FF0\u5176\u4ED6\u7684\u5C5E\u6027\u4E86\u3002"),at=n("blockquote",null,[n("p",null,[s("\u5BF9\u4E8E\u8FD9\u79CD\u65B9\u5F0F\u6765\u8BF4\uFF0C\u53EA\u8981\u5F00\u53D1\u8005\u914D\u7F6E\u4E86\u6B63\u786E\u7684\u89C4\u5219\uFF0C\u90A3\u4E48\u5373\u4F7F\u7F51\u7AD9\u5B58\u5728\u6F0F\u6D1E\uFF0C\u653B\u51FB\u8005\u4E5F\u4E0D\u80FD\u6267\u884C\u5B83\u7684\u653B\u51FB\u4EE3\u7801\uFF0C\u5E76\u4E14 "),n("code",null,"CSP"),s(" \u7684\u517C\u5BB9\u6027\u4E5F\u4E0D\u9519\u3002")])],-1),pt=n("p",null,[n("img",{src:"https://poetries1.gitee.io/img-repo/2020/07/fe/20.png",alt:"img"})],-1),et={id:"_22-2-csrf",tabindex:"-1"},tt=n("a",{class:"header-anchor",href:"#_22-2-csrf","aria-hidden":"true"},"#",-1),ot=s(),ct={href:"http://interview.poetries.top/docs/excellent.html#_22-2-csrf",target:"_blank",rel:"noopener noreferrer"},lt=s("#"),ut=s("22.2 CSRF"),rt=e(`<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u4EC0\u4E48\u662F <code>CSRF</code> \u653B\u51FB\uFF1F\u5982\u4F55\u9632\u8303 <code>CSRF</code> \u653B\u51FB\uFF1F</p></blockquote><blockquote><p><code>CSRF</code> \u4E2D\u6587\u540D\u4E3A\u8DE8\u7AD9\u8BF7\u6C42\u4F2A\u9020\u3002\u539F\u7406\u5C31\u662F\u653B\u51FB\u8005\u6784\u9020\u51FA\u4E00\u4E2A\u540E\u7AEF\u8BF7\u6C42\u5730\u5740\uFF0C\u8BF1\u5BFC\u7528\u6237\u70B9\u51FB\u6216\u8005\u901A\u8FC7\u67D0\u4E9B\u9014\u5F84\u81EA\u52A8\u53D1\u8D77\u8BF7\u6C42\u3002\u5982\u679C\u7528\u6237\u662F\u5728\u767B\u5F55\u72B6\u6001\u4E0B\u7684\u8BDD\uFF0C\u540E\u7AEF\u5C31\u4EE5\u4E3A\u662F\u7528\u6237\u5728\u64CD\u4F5C\uFF0C\u4ECE\u800C\u8FDB\u884C\u76F8\u5E94\u7684\u903B\u8F91\u3002</p></blockquote><p>\u4E3E\u4E2A\u4F8B\u5B50\uFF0C\u5047\u8BBE\u7F51\u7AD9\u4E2D\u6709\u4E00\u4E2A\u901A\u8FC7 <code>GET</code> \u8BF7\u6C42\u63D0\u4EA4\u7528\u6237\u8BC4\u8BBA\u7684\u63A5\u53E3\uFF0C\u90A3\u4E48\u653B\u51FB\u8005\u5C31\u53EF\u4EE5\u5728\u9493\u9C7C\u7F51\u7AD9\u4E2D\u52A0\u5165\u4E00\u4E2A\u56FE\u7247\uFF0C\u56FE\u7247\u7684\u5730\u5740\u5C31\u662F\u8BC4\u8BBA\u63A5\u53E3</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.domain.com/xxx?comment=<span class="token punctuation">&#39;</span>attack<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u90A3\u4E48\u4F60\u662F\u5426\u4F1A\u60F3\u5230\u4F7F\u7528 <code>POST</code> \u65B9\u5F0F\u63D0\u4EA4\u8BF7\u6C42\u662F\u4E0D\u662F\u5C31\u6CA1\u6709\u8FD9\u4E2A\u95EE\u9898\u4E86\u5462\uFF1F\u5176\u5B9E\u5E76\u4E0D\u662F\uFF0C\u4F7F\u7528\u8FD9\u79CD\u65B9\u5F0F\u4E5F\u4E0D\u662F\u767E\u5206\u767E\u5B89\u5168\u7684\uFF0C\u653B\u51FB\u8005\u540C\u6837\u53EF\u4EE5\u8BF1\u5BFC\u7528\u6237\u8FDB\u5165\u67D0\u4E2A\u9875\u9762\uFF0C\u5728\u9875\u9762\u4E2D\u901A\u8FC7\u8868\u5355\u63D0\u4EA4 <code>POST</code> \u8BF7\u6C42\u3002</p></blockquote><p><strong>\u5982\u4F55\u9632\u5FA1</strong></p><ul><li><code>Get</code> \u8BF7\u6C42\u4E0D\u5BF9\u6570\u636E\u8FDB\u884C\u4FEE\u6539</li><li>\u4E0D\u8BA9\u7B2C\u4E09\u65B9\u7F51\u7AD9\u8BBF\u95EE\u5230\u7528\u6237 <code>Cookie</code></li><li>\u963B\u6B62\u7B2C\u4E09\u65B9\u7F51\u7AD9\u8BF7\u6C42\u63A5\u53E3</li><li>\u8BF7\u6C42\u65F6\u9644\u5E26\u9A8C\u8BC1\u4FE1\u606F\uFF0C\u6BD4\u5982\u9A8C\u8BC1\u7801\u6216\u8005 <code>Token</code></li></ul><p><strong>SameSite</strong></p><blockquote><p>\u53EF\u4EE5\u5BF9 <code>Cookie</code> \u8BBE\u7F6E <code>SameSite</code> \u5C5E\u6027\u3002\u8BE5\u5C5E\u6027\u8868\u793A <code>Cookie</code> \u4E0D\u968F\u7740\u8DE8\u57DF\u8BF7\u6C42\u53D1\u9001\uFF0C\u53EF\u4EE5\u5F88\u5927\u7A0B\u5EA6\u51CF\u5C11 <code>CSRF</code> \u7684\u653B\u51FB\uFF0C\u4F46\u662F\u8BE5\u5C5E\u6027\u76EE\u524D\u5E76\u4E0D\u662F\u6240\u6709\u6D4F\u89C8\u5668\u90FD\u517C\u5BB9\u3002</p></blockquote><p><strong>\u9A8C\u8BC1 Referer</strong></p><blockquote><p>\u5BF9\u4E8E\u9700\u8981\u9632\u8303 <code>CSRF</code> \u7684\u8BF7\u6C42\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u9A8C\u8BC1 <code>Referer</code> \u6765\u5224\u65AD\u8BE5\u8BF7\u6C42\u662F\u5426\u4E3A\u7B2C\u4E09\u65B9\u7F51\u7AD9\u53D1\u8D77\u7684\u3002</p></blockquote><p><strong>Token</strong></p><blockquote><p>\u670D\u52A1\u5668\u4E0B\u53D1\u4E00\u4E2A\u968F\u673A <code>Token</code>\uFF0C\u6BCF\u6B21\u53D1\u8D77\u8BF7\u6C42\u65F6\u5C06 <code>Token</code> \u643A\u5E26\u4E0A\uFF0C\u670D\u52A1\u5668\u9A8C\u8BC1 <code>Token</code> \u662F\u5426\u6709\u6548</p></blockquote>`,13),it={id:"_22-3-\u70B9\u51FB\u52AB\u6301",tabindex:"-1"},kt=n("a",{class:"header-anchor",href:"#_22-3-\u70B9\u51FB\u52AB\u6301","aria-hidden":"true"},"#",-1),dt=s(),bt={href:"http://interview.poetries.top/docs/excellent.html#_22-3-%E7%82%B9%E5%87%BB%E5%8A%AB%E6%8C%81",target:"_blank",rel:"noopener noreferrer"},mt=s("#"),ht=s("22.3 \u70B9\u51FB\u52AB\u6301"),gt=e(`<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u4EC0\u4E48\u662F\u70B9\u51FB\u52AB\u6301\uFF1F\u5982\u4F55\u9632\u8303\u70B9\u51FB\u52AB\u6301\uFF1F</p></blockquote><blockquote><p>\u70B9\u51FB\u52AB\u6301\u662F\u4E00\u79CD\u89C6\u89C9\u6B3A\u9A97\u7684\u653B\u51FB\u624B\u6BB5\u3002\u653B\u51FB\u8005\u5C06\u9700\u8981\u653B\u51FB\u7684\u7F51\u7AD9\u901A\u8FC7 <code>iframe</code> \u5D4C\u5957\u7684\u65B9\u5F0F\u5D4C\u5165\u81EA\u5DF1\u7684\u7F51\u9875\u4E2D\uFF0C\u5E76\u5C06 <code>iframe</code> \u8BBE\u7F6E\u4E3A\u900F\u660E\uFF0C\u5728\u9875\u9762\u4E2D\u900F\u51FA\u4E00\u4E2A\u6309\u94AE\u8BF1\u5BFC\u7528\u6237\u70B9\u51FB</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/5.png" alt="image.png"></p><blockquote><p>\u5BF9\u4E8E\u8FD9\u79CD\u653B\u51FB\u65B9\u5F0F\uFF0C\u63A8\u8350\u9632\u5FA1\u7684\u65B9\u6CD5\u6709\u4E24\u79CD</p></blockquote><p><strong>1. X-FRAME-OPTIONS</strong></p><blockquote><p><code>X-FRAME-OPTIONS</code> \u662F\u4E00\u4E2A <code>HTTP</code> \u54CD\u5E94\u5934\uFF0C\u5728\u73B0\u4EE3\u6D4F\u89C8\u5668\u6709\u4E00\u4E2A\u5F88\u597D\u7684\u652F\u6301\u3002\u8FD9\u4E2A HTTP \u54CD\u5E94\u5934 \u5C31\u662F\u4E3A\u4E86\u9632\u5FA1\u7528<code>iframe</code> \u5D4C\u5957\u7684\u70B9\u51FB\u52AB\u6301\u653B\u51FB\u3002</p></blockquote><blockquote><p>\u8BE5\u54CD\u5E94\u5934\u6709\u4E09\u4E2A\u503C\u53EF\u9009\uFF0C\u5206\u522B\u662F</p></blockquote><ul><li><code>DENY</code>\uFF0C\u8868\u793A\u9875\u9762\u4E0D\u5141\u8BB8\u901A\u8FC7 <code>iframe</code> \u7684\u65B9\u5F0F\u5C55\u793A</li><li><code>SAMEORIGIN</code>\uFF0C\u8868\u793A\u9875\u9762\u53EF\u4EE5\u5728\u76F8\u540C\u57DF\u540D\u4E0B\u901A\u8FC7 <code>iframe</code> \u7684\u65B9\u5F0F\u5C55\u793A</li><li><code>ALLOW-FROM</code>\uFF0C\u8868\u793A\u9875\u9762\u53EF\u4EE5\u5728\u6307\u5B9A\u6765\u6E90\u7684 <code>iframe</code> \u4E2D\u5C55\u793A</li></ul><p><strong>2. JS \u9632\u5FA1</strong></p><blockquote><p>\u5BF9\u4E8E\u67D0\u4E9B\u8FDC\u53E4\u6D4F\u89C8\u5668\u6765\u8BF4\uFF0C\u5E76\u4E0D\u80FD\u652F\u6301\u4E0A\u9762\u7684\u8FD9\u79CD\u65B9\u5F0F\uFF0C\u90A3\u6211\u4EEC\u53EA\u6709\u901A\u8FC7 JS \u7684\u65B9\u5F0F\u6765\u9632\u5FA1\u70B9\u51FB\u52AB\u6301\u4E86\u3002</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>click-jack<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">if</span> <span class="token punctuation">(</span>self <span class="token operator">==</span> top<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> style <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;click-jack&#39;</span><span class="token punctuation">)</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      top<span class="token punctuation">.</span>location <span class="token operator">=</span> self<span class="token punctuation">.</span>location
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u4EE3\u7801\u7684\u4F5C\u7528\u5C31\u662F\u5F53\u901A\u8FC7 <code>iframe</code> \u7684\u65B9\u5F0F\u52A0\u8F7D\u9875\u9762\u65F6\uFF0C\u653B\u51FB\u8005\u7684\u7F51\u9875\u76F4\u63A5\u4E0D\u663E\u793A\u6240\u6709\u5185\u5BB9\u4E86</p></blockquote>`,12),_t={id:"_23-\u4ECE-v8-\u4E2D\u770B-js-\u6027\u80FD\u4F18\u5316",tabindex:"-1"},ft=n("a",{class:"header-anchor",href:"#_23-\u4ECE-v8-\u4E2D\u770B-js-\u6027\u80FD\u4F18\u5316","aria-hidden":"true"},"#",-1),yt=s(),vt={href:"http://interview.poetries.top/docs/excellent.html#_23-%E4%BB%8E-v8-%E4%B8%AD%E7%9C%8B-js-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},wt=s("#"),xt=s("23 \u4ECE V8 \u4E2D\u770B JS \u6027\u80FD\u4F18\u5316"),qt=n("blockquote",null,[n("p",null,"\u6CE8\u610F\uFF1A\u8BE5\u77E5\u8BC6\u70B9\u5C5E\u4E8E\u6027\u80FD\u4F18\u5316\u9886\u57DF\u3002")],-1),Et={id:"_23-1-\u6D4B\u8BD5\u6027\u80FD\u5DE5\u5177",tabindex:"-1"},jt=n("a",{class:"header-anchor",href:"#_23-1-\u6D4B\u8BD5\u6027\u80FD\u5DE5\u5177","aria-hidden":"true"},"#",-1),Ct=s(),St={href:"http://interview.poetries.top/docs/excellent.html#_23-1-%E6%B5%8B%E8%AF%95%E6%80%A7%E8%83%BD%E5%B7%A5%E5%85%B7",target:"_blank",rel:"noopener noreferrer"},At=s("#"),Bt=s("23.1 \u6D4B\u8BD5\u6027\u80FD\u5DE5\u5177"),Tt=e('<blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Chrome` \u5DF2\u7ECF\u63D0\u4F9B\u4E86\u4E00\u4E2A\u5927\u800C\u5168\u7684\u6027\u80FD\u6D4B\u8BD5\u5DE5\u5177 `Audits\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/21.png" alt="img"></p><blockquote><p>\u70B9\u6211\u4EEC\u70B9\u51FB <code>Audits</code> \u540E\uFF0C\u53EF\u4EE5\u770B\u5230\u5982\u4E0B\u7684\u754C\u9762</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/22.png" alt="img"></p><blockquote><p>\u5728\u8FD9\u4E2A\u754C\u9762\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u9009\u62E9\u60F3\u6D4B\u8BD5\u7684\u529F\u80FD\u7136\u540E\u70B9\u51FB <code>Run audits</code> \uFF0C\u5DE5\u5177\u5C31\u4F1A\u81EA\u52A8\u8FD0\u884C\u5E2E\u52A9\u6211\u4EEC\u6D4B\u8BD5\u95EE\u9898\u5E76\u4E14\u7ED9\u51FA\u4E00\u4E2A\u5B8C\u6574\u7684\u62A5\u544A</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/23.png" alt="img"></p><blockquote><p>\u4E0A\u56FE\u662F\u7ED9\u6398\u91D1\u9996\u9875\u6D4B\u8BD5\u6027\u80FD\u540E\u7ED9\u51FA\u7684\u4E00\u4E2A\u62A5\u544A\uFF0C\u53EF\u4EE5\u770B\u5230\u62A5\u544A\u4E2D\u5206\u522B\u4E3A\u6027\u80FD\u3001\u4F53\u9A8C\u3001SEO \u90FD\u7ED9\u51FA\u4E86\u6253\u5206\uFF0C\u5E76\u4E14\u6BCF\u4E00\u4E2A\u6307\u6807\u90FD\u6709\u8BE6\u7EC6\u7684\u8BC4\u4F30</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/24.png" alt="img"></p><p>\u8BC4\u4F30\u7ED3\u675F\u540E\uFF0C\u5DE5\u5177\u8FD8\u63D0\u4F9B\u4E86\u4E00\u4E9B\u5EFA\u8BAE\u4FBF\u4E8E\u6211\u4EEC\u63D0\u9AD8\u8FD9\u4E2A\u6307\u6807\u7684\u5206\u6570</p><p>\u6211\u4EEC\u53EA\u9700\u8981\u4E00\u6761\u6761\u6839\u636E\u5EFA\u8BAE\u53BB\u4F18\u5316\u6027\u80FD\u5373\u53EF\u3002</p><blockquote><p>\u9664\u4E86 <code>Audits</code> \u5DE5\u5177\u4E4B\u5916\uFF0C\u8FD8\u6709\u4E00\u4E2A <code>Performance</code>\u5DE5\u5177\u4E5F\u53EF\u4EE5\u4F9B\u6211\u4EEC\u4F7F\u7528\u3002</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/25.png" alt="img"></p><blockquote><p>\u5728\u8FD9\u5F20\u56FE\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8BE6\u7EC6\u7684\u770B\u5230\u6BCF\u4E2A\u65F6\u95F4\u6BB5\u4E2D\u6D4F\u89C8\u5668\u5728\u5904\u7406\u4EC0\u4E48\u4E8B\u60C5\uFF0C\u54EA\u4E2A\u8FC7\u7A0B\u6700\u6D88\u8017\u65F6\u95F4\uFF0C\u4FBF\u4E8E\u6211\u4EEC\u66F4\u52A0\u8BE6\u7EC6\u7684\u4E86\u89E3\u6027\u80FD\u74F6\u9888</p></blockquote>',13),Pt={id:"_23-2-js-\u6027\u80FD\u4F18\u5316",tabindex:"-1"},Dt=n("a",{class:"header-anchor",href:"#_23-2-js-\u6027\u80FD\u4F18\u5316","aria-hidden":"true"},"#",-1),Mt=s(),Ot={href:"http://interview.poetries.top/docs/excellent.html#_23-2-js-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},Rt=s("#"),Ft=s("23.2 JS \u6027\u80FD\u4F18\u5316"),Nt=e(`<blockquote><p><code>JS</code> \u662F\u7F16\u8BD1\u578B\u8FD8\u662F\u89E3\u91CA\u578B\u8BED\u8A00\u5176\u5B9E\u5E76\u4E0D\u56FA\u5B9A\u3002\u9996\u5148 <code>JS</code> \u9700\u8981\u6709\u5F15\u64CE\u624D\u80FD\u8FD0\u884C\u8D77\u6765\uFF0C\u65E0\u8BBA\u662F\u6D4F\u89C8\u5668\u8FD8\u662F\u5728 <code>Node</code> \u4E2D\uFF0C\u8FD9\u662F\u89E3\u91CA\u578B\u8BED\u8A00\u7684\u7279\u6027\u3002\u4F46\u662F\u5728 V8 \u5F15\u64CE\u4E0B\uFF0C\u53C8\u5F15\u5165\u4E86 <code>TurboFan</code> \u7F16\u8BD1\u5668\uFF0C\u4ED6\u4F1A\u5728\u7279\u5B9A\u7684\u60C5\u51B5\u4E0B\u8FDB\u884C\u4F18\u5316\uFF0C\u5C06\u4EE3\u7801\u7F16\u8BD1\u6210\u6267\u884C\u6548\u7387\u66F4\u9AD8\u7684 <code>Machine Code</code>\uFF0C\u5F53\u7136\u8FD9\u4E2A\u7F16\u8BD1\u5668\u5E76\u4E0D\u662F <code>JS</code> \u5FC5\u987B\u9700\u8981\u7684\uFF0C\u53EA\u662F\u4E3A\u4E86\u63D0\u9AD8\u4EE3\u7801\u6267\u884C\u6027\u80FD\uFF0C\u6240\u4EE5\u603B\u7684\u6765\u8BF4 <code>JS</code> \u66F4\u504F\u5411\u4E8E\u89E3\u91CA\u578B\u8BED\u8A00\u3002</p></blockquote><p>\u90A3\u4E48\u8FD9\u4E00\u5C0F\u8282\u7684\u5185\u5BB9\u4E3B\u8981\u4F1A\u9488\u5BF9\u4E8E <code>Chrome</code> \u7684 <code>V8</code> \u5F15\u64CE\u6765\u8BB2\u89E3\u3002</p><blockquote><p>\u5728\u8FD9\u4E00\u8FC7\u7A0B\u4E2D\uFF0C<code>JS</code> \u4EE3\u7801\u9996\u5148\u4F1A\u89E3\u6790\u4E3A\u62BD\u8C61\u8BED\u6CD5\u6811\uFF08<code>AST</code>\uFF09\uFF0C\u7136\u540E\u4F1A\u901A\u8FC7\u89E3\u91CA\u5668\u6216\u8005\u7F16\u8BD1\u5668\u8F6C\u5316\u4E3A <code>Bytecode</code> \u6216\u8005<code>Machine Code</code></p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/26.png" alt="img"></p><blockquote><p>\u4ECE\u4E0A\u56FE\u4E2D\u6211\u4EEC\u53EF\u4EE5\u53D1\u73B0\uFF0C<code>JS</code> \u4F1A\u9996\u5148\u88AB\u89E3\u6790\u4E3A <code>AST</code>\uFF0C\u89E3\u6790\u7684\u8FC7\u7A0B\u5176\u5B9E\u662F\u7565\u6162\u7684\u3002\u4EE3\u7801\u8D8A\u591A\uFF0C\u89E3\u6790\u7684\u8FC7\u7A0B\u4E5F\u5C31\u8017\u8D39\u8D8A\u957F\uFF0C\u8FD9\u4E5F\u662F\u6211\u4EEC\u9700\u8981\u538B\u7F29\u4EE3\u7801\u7684\u539F\u56E0\u4E4B\u4E00\u3002\u53E6\u5916\u4E00\u79CD\u51CF\u5C11\u89E3\u6790\u65F6\u95F4\u7684\u65B9\u5F0F\u662F\u9884\u89E3\u6790\uFF0C\u4F1A\u4F5C\u7528\u4E8E\u672A\u6267\u884C\u7684\u51FD\u6570\uFF0C\u8FD9\u4E2A\u6211\u4EEC\u4E0B\u9762\u518D\u8C08</p></blockquote><p>\u8FD9\u91CC\u9700\u8981\u6CE8\u610F\u4E00\u70B9\uFF0C\u5BF9\u4E8E\u51FD\u6570\u6765\u8BF4\uFF0C\u5E94\u8BE5\u5C3D\u53EF\u80FD\u907F\u514D\u58F0\u660E\u5D4C\u5957\u51FD\u6570\uFF08\u7C7B\u4E5F\u662F\u51FD\u6570\uFF09\uFF0C\u56E0\u4E3A\u8FD9\u6837\u4F1A\u9020\u6210\u51FD\u6570\u7684\u91CD\u590D\u89E3\u6790</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u4F1A\u88AB\u91CD\u590D\u89E3\u6790</span>
  <span class="token keyword">function</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>\u7136\u540E <code>Ignition</code> \u8D1F\u8D23\u5C06 <code>AST</code> \u8F6C\u5316\u4E3A <code>Bytecode</code>\uFF0C<code>TurboFan</code> \u8D1F\u8D23\u7F16\u8BD1\u51FA\u4F18\u5316\u540E\u7684 <code>Machine Code</code>\uFF0C\u5E76\u4E14 <code>Machine Code</code> \u5728\u6267\u884C\u6548\u7387\u4E0A\u4F18\u4E8E <code>Bytecode</code></p></blockquote><blockquote><p>\u90A3\u4E48\u6211\u4EEC\u5C31\u4EA7\u751F\u4E86\u4E00\u4E2A\u7591\u95EE\uFF0C\u4EC0\u4E48\u60C5\u51B5\u4E0B\u4EE3\u7801\u4F1A\u7F16\u8BD1\u4E3A <code>Machine Code</code>\uFF1F</p></blockquote><blockquote><p><code>JS</code> \u662F\u4E00\u95E8\u52A8\u6001\u7C7B\u578B\u7684\u8BED\u8A00\uFF0C\u5E76\u4E14\u8FD8\u6709\u4E00\u5927\u5806\u7684\u89C4\u5219\u3002\u7B80\u5355\u7684\u52A0\u6CD5\u8FD0\u7B97\u4EE3\u7801\uFF0C\u5185\u90E8\u5C31\u9700\u8981\u8003\u8651\u597D\u51E0\u79CD\u89C4\u5219\uFF0C\u6BD4\u5982\u6570\u5B57\u76F8\u52A0\u3001\u5B57\u7B26\u4E32\u76F8\u52A0\u3001\u5BF9\u8C61\u548C\u5B57\u7B26\u4E32\u76F8\u52A0\u7B49\u7B49\u3002\u8FD9\u6837\u7684\u60C5\u51B5\u4E5F\u5C31\u52BF\u5FC5\u5BFC\u81F4\u4E86\u5185\u90E8\u8981\u589E\u52A0\u5F88\u591A\u5224\u65AD\u903B\u8F91\uFF0C\u964D\u4F4E\u8FD0\u884C\u6548\u7387\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> x
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>\u5BF9\u4E8E\u4EE5\u4E0A\u4EE3\u7801\u6765\u8BF4\uFF0C\u5982\u679C\u4E00\u4E2A\u51FD\u6570\u88AB\u591A\u6B21\u8C03\u7528\u5E76\u4E14\u53C2\u6570\u4E00\u76F4\u4F20\u5165 <code>number</code> \u7C7B\u578B\uFF0C\u90A3\u4E48 <code>V8</code> \u5C31\u4F1A\u8BA4\u4E3A\u8BE5\u6BB5\u4EE3\u7801\u53EF\u4EE5\u7F16\u8BD1\u4E3A <code>Machine Code</code>\uFF0C\u56E0\u4E3A\u4F60\u56FA\u5B9A\u4E86\u7C7B\u578B\uFF0C\u4E0D\u9700\u8981\u518D\u6267\u884C\u5F88\u591A\u5224\u65AD\u903B\u8F91\u4E86\u3002</li><li>\u4F46\u662F\u5982\u679C\u4E00\u65E6\u6211\u4EEC\u4F20\u5165\u7684\u53C2\u6570\u7C7B\u578B\u6539\u53D8\uFF0C\u90A3\u4E48 <code>Machine Code</code> \u5C31\u4F1A\u88AB <code>DeOptimized</code>\u4E3A <code>Bytecode</code>\uFF0C\u8FD9\u6837\u5C31\u6709\u6027\u80FD\u4E0A\u7684\u4E00\u4E2A\u635F\u8017\u4E86\u3002\u6240\u4EE5\u5982\u679C\u6211\u4EEC\u5E0C\u671B\u4EE3\u7801\u80FD\u591A\u7684\u7F16\u8BD1\u4E3A <code>Machine Code</code> \u5E76\u4E14 <code>DeOptimized</code>\u7684\u6B21\u6570\u51CF\u5C11\uFF0C\u5C31\u5E94\u8BE5\u5C3D\u53EF\u80FD\u4FDD\u8BC1\u4F20\u5165\u7684\u7C7B\u578B\u4E00\u81F4\u3002</li><li>\u90A3\u4E48\u4F60\u53EF\u80FD\u4F1A\u6709\u4E00\u4E2A\u7591\u95EE\uFF0C\u5230\u5E95\u4F18\u5316\u524D\u540E\u6709\u591A\u5C11\u7684\u63D0\u5347\u5462\uFF0C\u63A5\u4E0B\u6765\u6211\u4EEC\u5C31\u6765\u5B9E\u8DF5\u6D4B\u8BD5\u4E00\u4E0B\u5230\u5E95\u6709\u591A\u5C11\u7684\u63D0\u5347</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> performance<span class="token punctuation">,</span> PerformanceObserver <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;perf_hooks&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> x
<span class="token punctuation">}</span>
<span class="token comment">// node 10 \u4E2D\u624D\u6709 PerformanceObserver</span>
<span class="token comment">// \u5728\u8FD9\u4E4B\u524D\u7684 node \u7248\u672C\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 performance \u4E2D\u7684 API</span>
<span class="token keyword">const</span> obs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PerformanceObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">list<span class="token punctuation">,</span> observer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  observer<span class="token punctuation">.</span><span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
obs<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">entryTypes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;measure&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">buffered</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&#39;start&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token number">10000000</span>
<span class="token comment">// \u4E0D\u4F18\u5316\u4EE3\u7801</span>
<span class="token operator">%</span><span class="token function">NeverOptimizeFunction</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>number<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">)</span>
performance<span class="token punctuation">.</span><span class="token function">measure</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;start&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;end&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u4EE3\u7801\u4E2D\u6211\u4EEC\u4F7F\u7528\u4E86 <code>performance API</code>\uFF0C\u8FD9\u4E2A <code>API</code> \u5728\u6027\u80FD\u6D4B\u8BD5\u4E0A\u5341\u5206\u597D\u7528\u3002\u4E0D\u4EC5\u53EF\u4EE5\u7528\u6765\u6D4B\u91CF\u4EE3\u7801\u7684\u6267\u884C\u65F6\u95F4\uFF0C\u8FD8\u80FD\u7528\u6765\u6D4B\u91CF\u5404\u79CD\u7F51\u7EDC\u8FDE\u63A5\u4E2D\u7684\u65F6\u95F4\u6D88\u8017\u7B49\u7B49\uFF0C\u5E76\u4E14\u8FD9\u4E2A API \u4E5F\u53EF\u4EE5\u5728\u6D4F\u89C8\u5668\u4E2D\u4F7F</p></blockquote><blockquote><p>\u4ECE\u4E0A\u56FE\u4E2D\u6211\u4EEC\u53EF\u4EE5\u53D1\u73B0\uFF0C\u4F18\u5316\u8FC7\u7684\u4EE3\u7801\u6267\u884C\u65F6\u95F4\u53EA\u9700\u8981 <code>9ms</code>\uFF0C\u4F46\u662F\u4E0D\u4F18\u5316\u8FC7\u7684\u4EE3\u7801\u6267\u884C\u65F6\u95F4\u5374\u662F\u524D\u8005\u7684\u4E8C\u5341\u500D\uFF0C\u5DF2\u7ECF\u63A5\u8FD1 <code>200ms</code> \u4E86\u3002\u5728\u8FD9\u4E2A\u6848\u4F8B\u4E2D\uFF0C\u6211\u76F8\u4FE1\u5927\u5BB6\u5DF2\u7ECF\u770B\u5230\u4E86 <code>V8</code> \u7684\u6027\u80FD\u4F18\u5316\u5230\u5E95\u6709\u591A\u5F3A\uFF0C\u53EA\u9700\u8981\u6211\u4EEC\u7B26\u5408\u4E00\u5B9A\u7684\u89C4\u5219\u4E66\u5199\u4EE3\u7801\uFF0C\u5F15\u64CE\u5E95\u5C42\u5C31\u80FD\u5E2E\u52A9\u6211\u4EEC\u81EA\u52A8\u4F18\u5316\u4EE3\u7801\u3002</p></blockquote><blockquote><p>\u53E6\u5916\uFF0C\u7F16\u8BD1\u5668\u8FD8\u6709\u4E2A\u9A9A\u64CD\u4F5C <code>Lazy-Compile</code>\uFF0C\u5F53\u51FD\u6570\u6CA1\u6709\u88AB\u6267\u884C\u7684\u65F6\u5019\uFF0C\u4F1A\u5BF9\u51FD\u6570\u8FDB\u884C\u4E00\u6B21\u9884\u89E3\u6790\uFF0C\u76F4\u5230\u4EE3\u7801\u88AB\u6267\u884C\u4EE5\u540E\u624D\u4F1A\u88AB\u89E3\u6790\u7F16\u8BD1\u3002\u5BF9\u4E8E\u4E0A\u8FF0\u4EE3\u7801\u6765\u8BF4\uFF0C<code>test</code> \u51FD\u6570\u9700\u8981\u88AB\u9884\u89E3\u6790\u4E00\u6B21\uFF0C\u7136\u540E\u5728\u8C03\u7528\u7684\u65F6\u5019\u518D\u88AB\u89E3\u6790\u7F16\u8BD1\u3002\u4F46\u662F\u5BF9\u4E8E\u8FD9\u79CD\u51FD\u6570\u9A6C\u4E0A\u5C31\u88AB\u8C03\u7528\u7684\u60C5\u51B5\u6765\u8BF4\uFF0C\u9884\u89E3\u6790\u8FD9\u4E2A\u8FC7\u7A0B\u5176\u5B9E\u662F\u591A\u4F59\u7684\uFF0C\u90A3\u4E48\u6709\u4EC0\u4E48\u529E\u6CD5\u80FD\u591F\u8BA9\u4EE3\u7801\u4E0D\u88AB\u9884\u89E3\u6790\u5462\uFF1F</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> x
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>\u4F46\u662F\u4E0D\u53EF\u80FD\u6211\u4EEC\u4E3A\u4E86\u6027\u80FD\u4F18\u5316\uFF0C\u7ED9\u6240\u6709\u7684\u51FD\u6570\u90FD\u53BB\u5957\u4E0A\u62EC\u53F7\uFF0C\u5E76\u4E14\u4E5F\u4E0D\u662F\u6240\u6709\u51FD\u6570\u90FD\u9700\u8981\u8FD9\u6837\u505A\u3002\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7 <code>optimize-js</code> \u5B9E\u73B0\u8FD9\u4E2A\u529F\u80FD\uFF0C\u8FD9\u4E2A\u5E93\u4F1A\u5206\u6790\u4E00\u4E9B\u51FD\u6570\u7684\u4F7F\u7528\u60C5\u51B5\uFF0C\u7136\u540E\u7ED9\u9700\u8981\u7684\u51FD\u6570\u6DFB\u52A0\u62EC\u53F7\uFF0C\u5F53\u7136\u8FD9\u4E2A\u5E93\u5F88\u4E45\u6CA1\u4EBA\u7EF4\u62A4\u4E86\uFF0C\u5982\u679C\u9700\u8981\u4F7F\u7528\u7684\u8BDD\uFF0C\u8FD8\u662F\u9700\u8981\u6D4B\u8BD5\u8FC7\u76F8\u5173\u5185\u5BB9\u7684\u3002</p></blockquote><p>\u5176\u5B9E\u5F88\u7B80\u5355\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u7ED9\u51FD\u6570\u5957\u4E0A\u62EC\u53F7\u5C31\u53EF\u4EE5\u4E86</p>`,19),Lt={id:"_24-\u6027\u80FD\u4F18\u5316",tabindex:"-1"},Vt=n("a",{class:"header-anchor",href:"#_24-\u6027\u80FD\u4F18\u5316","aria-hidden":"true"},"#",-1),It=s(),Ht={href:"http://interview.poetries.top/docs/excellent.html#_24-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},Jt=s("#"),Ut=s("24 \u6027\u80FD\u4F18\u5316"),zt=n("blockquote",null,[n("p",null,"\u603B\u7684\u6765\u8BF4\u6027\u80FD\u4F18\u5316\u8FD9\u4E2A\u9886\u57DF\u7684\u5F88\u591A\u5185\u5BB9\u90FD\u5F88\u788E\u7247\u5316\uFF0C\u8FD9\u4E00\u7AE0\u8282\u6211\u4EEC\u5C06\u6765\u5B66\u4E60\u8FD9\u4E9B\u788E\u7247\u5316\u7684\u5185\u5BB9\u3002")],-1),Wt={id:"_24-1-\u56FE\u7247\u4F18\u5316",tabindex:"-1"},Xt=n("a",{class:"header-anchor",href:"#_24-1-\u56FE\u7247\u4F18\u5316","aria-hidden":"true"},"#",-1),Gt=s(),Qt={href:"http://interview.poetries.top/docs/excellent.html#_24-1-%E5%9B%BE%E7%89%87%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},Kt=s("#"),$t=s("24.1 \u56FE\u7247\u4F18\u5316"),Yt=e("<p><strong>\u8BA1\u7B97\u56FE\u7247\u5927\u5C0F</strong></p><blockquote><p>\u5BF9\u4E8E\u4E00\u5F20 <code>100 * 100</code> \u50CF\u7D20\u7684\u56FE\u7247\u6765\u8BF4\uFF0C\u56FE\u50CF\u4E0A\u6709 <code>10000</code> \u4E2A\u50CF\u7D20\u70B9\uFF0C\u5982\u679C\u6BCF\u4E2A\u50CF\u7D20\u7684\u503C\u662F <code>RGBA</code> \u5B58\u50A8\u7684\u8BDD\uFF0C\u90A3\u4E48\u4E5F\u5C31\u662F\u8BF4\u6BCF\u4E2A\u50CF\u7D20\u6709 <code>4</code> \u4E2A\u901A\u9053\uFF0C\u6BCF\u4E2A\u901A\u9053 <code>1</code> \u4E2A\u5B57\u8282\uFF08<code>8</code> \u4F4D = <code>1</code>\u4E2A\u5B57\u8282\uFF09\uFF0C\u6240\u4EE5\u8BE5\u56FE\u7247\u5927\u5C0F\u5927\u6982\u4E3A <code>39KB</code>\uFF08<code>10000 * 1 * 4 / 1024</code>\uFF09\u3002</p></blockquote><ul><li>\u4F46\u662F\u5728\u5B9E\u9645\u9879\u76EE\u4E2D\uFF0C\u4E00\u5F20\u56FE\u7247\u53EF\u80FD\u5E76\u4E0D\u9700\u8981\u4F7F\u7528\u90A3\u4E48\u591A\u989C\u8272\u53BB\u663E\u793A\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u51CF\u5C11\u6BCF\u4E2A\u50CF\u7D20\u7684\u8C03\u8272\u677F\u6765\u76F8\u5E94\u7F29\u5C0F\u56FE\u7247\u7684\u5927\u5C0F\u3002</li><li>\u4E86\u89E3\u4E86\u5982\u4F55\u8BA1\u7B97\u56FE\u7247\u5927\u5C0F\u7684\u77E5\u8BC6\uFF0C\u90A3\u4E48\u5BF9\u4E8E\u5982\u4F55\u4F18\u5316\u56FE\u7247\uFF0C\u60F3\u5FC5\u5927\u5BB6\u5DF2\u7ECF\u6709 2 \u4E2A\u601D\u8DEF\u4E86\uFF1A</li></ul><ol><li>\u51CF\u5C11\u50CF\u7D20\u70B9</li><li>\u51CF\u5C11\u6BCF\u4E2A\u50CF\u7D20\u70B9\u80FD\u591F\u663E\u793A\u7684\u989C\u8272</li></ol>",4),Zt={id:"_24-2-\u56FE\u7247\u52A0\u8F7D\u4F18\u5316",tabindex:"-1"},no=n("a",{class:"header-anchor",href:"#_24-2-\u56FE\u7247\u52A0\u8F7D\u4F18\u5316","aria-hidden":"true"},"#",-1),so=s(),ao={href:"http://interview.poetries.top/docs/excellent.html#_24-2-%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},po=s("#"),eo=s("24.2 \u56FE\u7247\u52A0\u8F7D\u4F18\u5316"),to=e("<ul><li>\u4E0D\u7528\u56FE\u7247\u3002\u5F88\u591A\u65F6\u5019\u4F1A\u4F7F\u7528\u5230\u5F88\u591A\u4FEE\u9970\u7C7B\u56FE\u7247\uFF0C\u5176\u5B9E\u8FD9\u7C7B\u4FEE\u9970\u56FE\u7247\u5B8C\u5168\u53EF\u4EE5\u7528 <code>CSS</code> \u53BB\u4EE3\u66FF\u3002</li><li>\u5BF9\u4E8E\u79FB\u52A8\u7AEF\u6765\u8BF4\uFF0C\u5C4F\u5E55\u5BBD\u5EA6\u5C31\u90A3\u4E48\u70B9\uFF0C\u5B8C\u5168\u6CA1\u6709\u5FC5\u8981\u53BB\u52A0\u8F7D\u539F\u56FE\u6D6A\u8D39\u5E26\u5BBD\u3002\u4E00\u822C\u56FE\u7247\u90FD\u7528 <code>CDN</code> \u52A0\u8F7D\uFF0C\u53EF\u4EE5\u8BA1\u7B97\u51FA\u9002\u914D\u5C4F\u5E55\u7684\u5BBD\u5EA6\uFF0C\u7136\u540E\u53BB\u8BF7\u6C42\u76F8\u5E94\u88C1\u526A\u597D\u7684\u56FE\u7247\u3002</li><li>\u5C0F\u56FE\u4F7F\u7528 <code>base64</code> \u683C\u5F0F</li><li>\u5C06\u591A\u4E2A\u56FE\u6807\u6587\u4EF6\u6574\u5408\u5230\u4E00\u5F20\u56FE\u7247\u4E2D\uFF08\u96EA\u78A7\u56FE\uFF09</li><li>\u9009\u62E9\u6B63\u786E\u7684\u56FE\u7247\u683C\u5F0F\uFF1A <ul><li>\u5BF9\u4E8E\u80FD\u591F\u663E\u793A <code>WebP</code>\u683C\u5F0F\u7684\u6D4F\u89C8\u5668\u5C3D\u91CF\u4F7F\u7528 <code>WebP</code> \u683C\u5F0F\u3002\u56E0\u4E3A <code>WebP</code> \u683C\u5F0F\u5177\u6709\u66F4\u597D\u7684\u56FE\u50CF\u6570\u636E\u538B\u7F29\u7B97\u6CD5\uFF0C\u80FD\u5E26\u6765\u66F4\u5C0F\u7684\u56FE\u7247\u4F53\u79EF\uFF0C\u800C\u4E14\u62E5\u6709\u8089\u773C\u8BC6\u522B\u65E0\u5DEE\u5F02\u7684\u56FE\u50CF\u8D28\u91CF\uFF0C\u7F3A\u70B9\u5C31\u662F\u517C\u5BB9\u6027\u5E76\u4E0D\u597D</li><li>\u5C0F\u56FE\u4F7F\u7528 <code>PNG</code>\uFF0C\u5176\u5B9E\u5BF9\u4E8E\u5927\u90E8\u5206\u56FE\u6807\u8FD9\u7C7B\u56FE\u7247\uFF0C\u5B8C\u5168\u53EF\u4EE5\u4F7F\u7528 <code>SVG</code>\u4EE3\u66FF</li><li>\u7167\u7247\u4F7F\u7528 <code>JPEG</code></li></ul></li></ul>",1),oo={id:"_24-3-dns-\u9884\u89E3\u6790",tabindex:"-1"},co=n("a",{class:"header-anchor",href:"#_24-3-dns-\u9884\u89E3\u6790","aria-hidden":"true"},"#",-1),lo=s(),uo={href:"http://interview.poetries.top/docs/excellent.html#_24-3-dns-%E9%A2%84%E8%A7%A3%E6%9E%90",target:"_blank",rel:"noopener noreferrer"},ro=s("#"),io=s("24.3 DNS \u9884\u89E3\u6790"),ko=e(`<blockquote><p><code>DNS</code> \u89E3\u6790\u4E5F\u662F\u9700\u8981\u65F6\u95F4\u7684\uFF0C\u53EF\u4EE5\u901A\u8FC7\u9884\u89E3\u6790\u7684\u65B9\u5F0F\u6765\u9884\u5148\u83B7\u5F97\u57DF\u540D\u6240\u5BF9\u5E94\u7684 <code>IP</code>\u3002</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>//blog.poetries.top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,2),bo={id:"_24-4-\u8282\u6D41",tabindex:"-1"},mo=n("a",{class:"header-anchor",href:"#_24-4-\u8282\u6D41","aria-hidden":"true"},"#",-1),ho=s(),go={href:"http://interview.poetries.top/docs/excellent.html#_24-4-%E8%8A%82%E6%B5%81",target:"_blank",rel:"noopener noreferrer"},_o=s("#"),fo=s("24.4 \u8282\u6D41"),yo=e(`<blockquote><p>\u8003\u8651\u4E00\u4E2A\u573A\u666F\uFF0C\u6EDA\u52A8\u4E8B\u4EF6\u4E2D\u4F1A\u53D1\u8D77\u7F51\u7EDC\u8BF7\u6C42\uFF0C\u4F46\u662F\u6211\u4EEC\u5E76\u4E0D\u5E0C\u671B\u7528\u6237\u5728\u6EDA\u52A8\u8FC7\u7A0B\u4E2D\u4E00\u76F4\u53D1\u8D77\u8BF7\u6C42\uFF0C\u800C\u662F\u9694\u4E00\u6BB5\u65F6\u95F4\u53D1\u8D77\u4E00\u6B21\uFF0C\u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\u6211\u4EEC\u5C31\u53EF\u4EE5\u4F7F\u7528\u8282\u6D41\u3002</p></blockquote><p>\u7406\u89E3\u4E86\u8282\u6D41\u7684\u7528\u9014\uFF0C\u6211\u4EEC\u5C31\u6765\u5B9E\u73B0\u4E0B\u8FD9\u4E2A\u51FD\u6570</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// func\u662F\u7528\u6237\u4F20\u5165\u9700\u8981\u9632\u6296\u7684\u51FD\u6570</span>
<span class="token comment">// wait\u662F\u7B49\u5F85\u65F6\u95F4</span>
<span class="token keyword">const</span> <span class="token function-variable function">throttle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait <span class="token operator">=</span> <span class="token number">50</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u4E0A\u4E00\u6B21\u6267\u884C\u8BE5\u51FD\u6570\u7684\u65F6\u95F4</span>
  <span class="token keyword">let</span> lastTime <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5F53\u524D\u65F6\u95F4</span>
    <span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// \u5C06\u5F53\u524D\u65F6\u95F4\u548C\u4E0A\u4E00\u6B21\u6267\u884C\u51FD\u6570\u65F6\u95F4\u5BF9\u6BD4</span>
    <span class="token comment">// \u5982\u679C\u5DEE\u503C\u5927\u4E8E\u8BBE\u7F6E\u7684\u7B49\u5F85\u65F6\u95F4\u5C31\u6267\u884C\u51FD\u6570</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> lastTime <span class="token operator">&gt;</span> wait<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      lastTime <span class="token operator">=</span> now
      <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">setInterval</span><span class="token punctuation">(</span>
  <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token number">1</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div>`,3),vo={id:"_24-5-\u9632\u6296",tabindex:"-1"},wo=n("a",{class:"header-anchor",href:"#_24-5-\u9632\u6296","aria-hidden":"true"},"#",-1),xo=s(),qo={href:"http://interview.poetries.top/docs/excellent.html#_24-5-%E9%98%B2%E6%8A%96",target:"_blank",rel:"noopener noreferrer"},Eo=s("#"),jo=s("24.5 \u9632\u6296"),Co=e(`<blockquote><p>\u8003\u8651\u4E00\u4E2A\u573A\u666F\uFF0C\u6709\u4E00\u4E2A\u6309\u94AE\u70B9\u51FB\u4F1A\u89E6\u53D1\u7F51\u7EDC\u8BF7\u6C42\uFF0C\u4F46\u662F\u6211\u4EEC\u5E76\u4E0D\u5E0C\u671B\u6BCF\u6B21\u70B9\u51FB\u90FD\u53D1\u8D77\u7F51\u7EDC\u8BF7\u6C42\uFF0C\u800C\u662F\u5F53\u7528\u6237\u70B9\u51FB\u6309\u94AE\u4E00\u6BB5\u65F6\u95F4\u540E\u6CA1\u6709\u518D\u6B21\u70B9\u51FB\u7684\u60C5\u51B5\u624D\u53BB\u53D1\u8D77\u7F51\u7EDC\u8BF7\u6C42\uFF0C\u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\u6211\u4EEC\u5C31\u53EF\u4EE5\u4F7F\u7528\u9632\u6296\u3002</p></blockquote><p>\u7406\u89E3\u4E86\u9632\u6296\u7684\u7528\u9014\uFF0C\u6211\u4EEC\u5C31\u6765\u5B9E\u73B0\u4E0B\u8FD9\u4E2A\u51FD\u6570</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// func\u662F\u7528\u6237\u4F20\u5165\u9700\u8981\u9632\u6296\u7684\u51FD\u6570</span>
<span class="token comment">// wait\u662F\u7B49\u5F85\u65F6\u95F4</span>
<span class="token keyword">const</span> <span class="token function-variable function">debounce</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait <span class="token operator">=</span> <span class="token number">50</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u7F13\u5B58\u4E00\u4E2A\u5B9A\u65F6\u5668id</span>
  <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token comment">// \u8FD9\u91CC\u8FD4\u56DE\u7684\u51FD\u6570\u662F\u6BCF\u6B21\u7528\u6237\u5B9E\u9645\u8C03\u7528\u7684\u9632\u6296\u51FD\u6570</span>
  <span class="token comment">// \u5982\u679C\u5DF2\u7ECF\u8BBE\u5B9A\u8FC7\u5B9A\u65F6\u5668\u4E86\u5C31\u6E05\u7A7A\u4E0A\u4E00\u6B21\u7684\u5B9A\u65F6\u5668</span>
  <span class="token comment">// \u5F00\u59CB\u4E00\u4E2A\u65B0\u7684\u5B9A\u65F6\u5668\uFF0C\u5EF6\u8FDF\u6267\u884C\u7528\u6237\u4F20\u5165\u7684\u65B9\u6CD5</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div>`,3),So={id:"_24-6-\u9884\u52A0\u8F7D",tabindex:"-1"},Ao=n("a",{class:"header-anchor",href:"#_24-6-\u9884\u52A0\u8F7D","aria-hidden":"true"},"#",-1),Bo=s(),To={href:"http://interview.poetries.top/docs/excellent.html#_24-6-%E9%A2%84%E5%8A%A0%E8%BD%BD",target:"_blank",rel:"noopener noreferrer"},Po=s("#"),Do=s("24.6 \u9884\u52A0\u8F7D"),Mo=e(`<ul><li>\u5728\u5F00\u53D1\u4E2D\uFF0C\u53EF\u80FD\u4F1A\u9047\u5230\u8FD9\u6837\u7684\u60C5\u51B5\u3002\u6709\u4E9B\u8D44\u6E90\u4E0D\u9700\u8981\u9A6C\u4E0A\u7528\u5230\uFF0C\u4F46\u662F\u5E0C\u671B\u5C3D\u65E9\u83B7\u53D6\uFF0C\u8FD9\u65F6\u5019\u5C31\u53EF\u4EE5\u4F7F\u7528\u9884\u52A0\u8F7D\u3002</li><li>\u9884\u52A0\u8F7D\u5176\u5B9E\u662F\u58F0\u660E\u5F0F\u7684 <code>fetch</code> \uFF0C\u5F3A\u5236\u6D4F\u89C8\u5668\u8BF7\u6C42\u8D44\u6E90\uFF0C\u5E76\u4E14\u4E0D\u4F1A\u963B\u585E <code>onload</code> \u4E8B\u4EF6\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u4EE3\u7801\u5F00\u542F\u9884\u52A0\u8F7D</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://blog.poetries.top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u9884\u52A0\u8F7D\u53EF\u4EE5\u4E00\u5B9A\u7A0B\u5EA6\u4E0A\u964D\u4F4E\u9996\u5C4F\u7684\u52A0\u8F7D\u65F6\u95F4\uFF0C\u56E0\u4E3A\u53EF\u4EE5\u5C06\u4E00\u4E9B\u4E0D\u5F71\u54CD\u9996\u5C4F\u4F46\u91CD\u8981\u7684\u6587\u4EF6\u5EF6\u540E\u52A0\u8F7D\uFF0C\u552F\u4E00\u7F3A\u70B9\u5C31\u662F\u517C\u5BB9\u6027\u4E0D\u597D\u3002</p></blockquote>`,3),Oo={id:"_24-7-\u9884\u6E32\u67D3",tabindex:"-1"},Ro=n("a",{class:"header-anchor",href:"#_24-7-\u9884\u6E32\u67D3","aria-hidden":"true"},"#",-1),Fo=s(),No={href:"http://interview.poetries.top/docs/excellent.html#_24-7-%E9%A2%84%E6%B8%B2%E6%9F%93",target:"_blank",rel:"noopener noreferrer"},Lo=s("#"),Vo=s("24.7 \u9884\u6E32\u67D3"),Io=e(`<blockquote><p>\u53EF\u4EE5\u901A\u8FC7\u9884\u6E32\u67D3\u5C06\u4E0B\u8F7D\u7684\u6587\u4EF6\u9884\u5148\u5728\u540E\u53F0\u6E32\u67D3\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u4EE3\u7801\u5F00\u542F\u9884\u6E32\u67D3</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prerender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://blog.poetries.top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u9884\u6E32\u67D3\u867D\u7136\u53EF\u4EE5\u63D0\u9AD8\u9875\u9762\u7684\u52A0\u8F7D\u901F\u5EA6\uFF0C\u4F46\u662F\u8981\u786E\u4FDD\u8BE5\u9875\u9762\u5927\u6982\u7387\u4F1A\u88AB\u7528\u6237\u5728\u4E4B\u540E\u6253\u5F00\uFF0C\u5426\u5219\u5C31\u662F\u767D\u767D\u6D6A\u8D39\u8D44\u6E90\u53BB\u6E32\u67D3\u3002</p></blockquote>`,3),Ho={id:"_24-8-\u61D2\u6267\u884C",tabindex:"-1"},Jo=n("a",{class:"header-anchor",href:"#_24-8-\u61D2\u6267\u884C","aria-hidden":"true"},"#",-1),Uo=s(),zo={href:"http://interview.poetries.top/docs/excellent.html#_24-8-%E6%87%92%E6%89%A7%E8%A1%8C",target:"_blank",rel:"noopener noreferrer"},Wo=s("#"),Xo=s("24.8 \u61D2\u6267\u884C"),Go=n("blockquote",null,[n("p",null,"\u61D2\u6267\u884C\u5C31\u662F\u5C06\u67D0\u4E9B\u903B\u8F91\u5EF6\u8FDF\u5230\u4F7F\u7528\u65F6\u518D\u8BA1\u7B97\u3002\u8BE5\u6280\u672F\u53EF\u4EE5\u7528\u4E8E\u9996\u5C4F\u4F18\u5316\uFF0C\u5BF9\u4E8E\u67D0\u4E9B\u8017\u65F6\u903B\u8F91\u5E76\u4E0D\u9700\u8981\u5728\u9996\u5C4F\u5C31\u4F7F\u7528\u7684\uFF0C\u5C31\u53EF\u4EE5\u4F7F\u7528\u61D2\u6267\u884C\u3002\u61D2\u6267\u884C\u9700\u8981\u5524\u9192\uFF0C\u4E00\u822C\u53EF\u4EE5\u901A\u8FC7\u5B9A\u65F6\u5668\u6216\u8005\u4E8B\u4EF6\u7684\u8C03\u7528\u6765\u5524\u9192\u3002")],-1),Qo={id:"_24-9-\u61D2\u52A0\u8F7D",tabindex:"-1"},Ko=n("a",{class:"header-anchor",href:"#_24-9-\u61D2\u52A0\u8F7D","aria-hidden":"true"},"#",-1),$o=s(),Yo={href:"http://interview.poetries.top/docs/excellent.html#_24-9-%E6%87%92%E5%8A%A0%E8%BD%BD",target:"_blank",rel:"noopener noreferrer"},Zo=s("#"),nc=s("24.9 \u61D2\u52A0\u8F7D"),sc=n("ul",null,[n("li",null,"\u61D2\u52A0\u8F7D\u5C31\u662F\u5C06\u4E0D\u5173\u952E\u7684\u8D44\u6E90\u5EF6\u540E\u52A0\u8F7D\u3002"),n("li",null,[s("\u61D2\u52A0\u8F7D\u7684\u539F\u7406\u5C31\u662F\u53EA\u52A0\u8F7D\u81EA\u5B9A\u4E49\u533A\u57DF\uFF08\u901A\u5E38\u662F\u53EF\u89C6\u533A\u57DF\uFF0C\u4F46\u4E5F\u53EF\u4EE5\u662F\u5373\u5C06\u8FDB\u5165\u53EF\u89C6\u533A\u57DF\uFF09\u5185\u9700\u8981\u52A0\u8F7D\u7684\u4E1C\u897F\u3002\u5BF9\u4E8E\u56FE\u7247\u6765\u8BF4\uFF0C\u5148\u8BBE\u7F6E\u56FE\u7247\u6807\u7B7E\u7684 "),n("code",null,"src"),s(" \u5C5E\u6027\u4E3A\u4E00\u5F20\u5360\u4F4D\u56FE\uFF0C\u5C06\u771F\u5B9E\u7684\u56FE\u7247\u8D44\u6E90\u653E\u5165\u4E00\u4E2A\u81EA\u5B9A\u4E49\u5C5E\u6027\u4E2D\uFF0C\u5F53\u8FDB\u5165\u81EA\u5B9A\u4E49\u533A\u57DF\u65F6\uFF0C\u5C31\u5C06\u81EA\u5B9A\u4E49\u5C5E\u6027\u66FF\u6362\u4E3A "),n("code",null,"src"),s(" \u5C5E\u6027\uFF0C\u8FD9\u6837\u56FE\u7247\u5C31\u4F1A\u53BB\u4E0B\u8F7D\u8D44\u6E90\uFF0C\u5B9E\u73B0\u4E86\u56FE\u7247\u61D2\u52A0\u8F7D\u3002")]),n("li",null,"\u61D2\u52A0\u8F7D\u4E0D\u4EC5\u53EF\u4EE5\u7528\u4E8E\u56FE\u7247\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u5728\u522B\u7684\u8D44\u6E90\u4E0A\u3002\u6BD4\u5982\u8FDB\u5165\u53EF\u89C6\u533A\u57DF\u624D\u5F00\u59CB\u64AD\u653E\u89C6\u9891\u7B49\u7B49\u3002")],-1),ac={id:"_24-10-cdn",tabindex:"-1"},pc=n("a",{class:"header-anchor",href:"#_24-10-cdn","aria-hidden":"true"},"#",-1),ec=s(),tc={href:"http://interview.poetries.top/docs/excellent.html#_24-10-cdn",target:"_blank",rel:"noopener noreferrer"},oc=s("#"),cc=s("24.10 CDN"),lc=e("<blockquote><p><code>CDN</code>\u7684\u539F\u7406\u662F\u5C3D\u53EF\u80FD\u7684\u5728\u5404\u4E2A\u5730\u65B9\u5206\u5E03\u673A\u623F\u7F13\u5B58\u6570\u636E\uFF0C\u8FD9\u6837\u5373\u4F7F\u6211\u4EEC\u7684\u6839\u670D\u52A1\u5668\u8FDC\u5728\u56FD\u5916\uFF0C\u5728\u56FD\u5185\u7684\u7528\u6237\u4E5F\u53EF\u4EE5\u901A\u8FC7\u56FD\u5185\u7684\u673A\u623F\u8FC5\u901F\u52A0\u8F7D\u8D44\u6E90\u3002</p></blockquote><blockquote><p>\u56E0\u6B64\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C06\u9759\u6001\u8D44\u6E90\u5C3D\u91CF\u4F7F\u7528 <code>CDN</code> \u52A0\u8F7D\uFF0C\u7531\u4E8E\u6D4F\u89C8\u5668\u5BF9\u4E8E\u5355\u4E2A\u57DF\u540D\u6709\u5E76\u53D1\u8BF7\u6C42\u4E0A\u9650\uFF0C\u53EF\u4EE5\u8003\u8651\u4F7F\u7528\u591A\u4E2A <code>CDN</code> \u57DF\u540D\u3002\u5E76\u4E14\u5BF9\u4E8E <code>CDN</code> \u52A0\u8F7D\u9759\u6001\u8D44\u6E90\u9700\u8981\u6CE8\u610F <code>CDN</code> \u57DF\u540D\u8981\u4E0E\u4E3B\u7AD9\u4E0D\u540C\uFF0C\u5426\u5219\u6BCF\u6B21\u8BF7\u6C42\u90FD\u4F1A\u5E26\u4E0A\u4E3B\u7AD9\u7684 <code>Cookie</code>\uFF0C\u5E73\u767D\u6D88\u8017\u6D41\u91CF</p></blockquote>",2),uc={id:"_25-webpack-\u6027\u80FD\u4F18\u5316",tabindex:"-1"},rc=n("a",{class:"header-anchor",href:"#_25-webpack-\u6027\u80FD\u4F18\u5316","aria-hidden":"true"},"#",-1),ic=s(),kc={href:"http://interview.poetries.top/docs/excellent.html#_25-webpack-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},dc=s("#"),bc=s("25 Webpack \u6027\u80FD\u4F18\u5316"),mc=n("blockquote",null,[n("p",null,"\u5728\u8FD9\u90E8\u5206\u7684\u5185\u5BB9\u4E2D\uFF0C\u6211\u4EEC\u4F1A\u805A\u7126\u4E8E\u4EE5\u4E0B\u4E24\u4E2A\u77E5\u8BC6\u70B9\uFF0C\u5E76\u4E14\u6BCF\u4E00\u4E2A\u77E5\u8BC6\u70B9\u90FD\u5C5E\u4E8E\u9AD8\u9891\u8003\u70B9\uFF1A")],-1),hc=n("ul",null,[n("li",null,[s("\u6709\u54EA\u4E9B\u65B9\u5F0F\u53EF\u4EE5\u51CF\u5C11 "),n("code",null,"Webpack"),s(" \u7684\u6253\u5305\u65F6\u95F4")]),n("li",null,[s("\u6709\u54EA\u4E9B\u65B9\u5F0F\u53EF\u4EE5\u8BA9 "),n("code",null,"Webpack"),s(" \u6253\u51FA\u6765\u7684\u5305\u66F4\u5C0F")])],-1),gc={id:"_25-1-\u51CF\u5C11-webpack-\u6253\u5305\u65F6\u95F4",tabindex:"-1"},_c=n("a",{class:"header-anchor",href:"#_25-1-\u51CF\u5C11-webpack-\u6253\u5305\u65F6\u95F4","aria-hidden":"true"},"#",-1),fc=s(),yc={href:"http://interview.poetries.top/docs/excellent.html#_25-1-%E5%87%8F%E5%B0%91-webpack-%E6%89%93%E5%8C%85%E6%97%B6%E9%97%B4",target:"_blank",rel:"noopener noreferrer"},vc=s("#"),wc=s("25.1 \u51CF\u5C11 Webpack \u6253\u5305\u65F6\u95F4"),xc=e(`<p><strong>1. \u4F18\u5316 Loader</strong></p><blockquote><p>\u5BF9\u4E8E <code>Loader</code> \u6765\u8BF4\uFF0C\u5F71\u54CD\u6253\u5305\u6548\u7387\u9996\u5F53\u5176\u51B2\u5FC5\u5C5E <code>Babel</code> \u4E86\u3002\u56E0\u4E3A <code>Babel</code> \u4F1A\u5C06\u4EE3\u7801\u8F6C\u4E3A\u5B57\u7B26\u4E32\u751F\u6210 <code>AST</code>\uFF0C\u7136\u540E\u5BF9 <code>AST</code> \u7EE7\u7EED\u8FDB\u884C\u8F6C\u53D8\u6700\u540E\u518D\u751F\u6210\u65B0\u7684\u4EE3\u7801\uFF0C\u9879\u76EE\u8D8A\u5927\uFF0C\u8F6C\u6362\u4EE3\u7801\u8D8A\u591A\uFF0C\u6548\u7387\u5C31\u8D8A\u4F4E\u3002\u5F53\u7136\u4E86\uFF0C\u6211\u4EEC\u662F\u6709\u529E\u6CD5\u4F18\u5316\u7684</p></blockquote><blockquote><p>\u9996\u5148\u6211\u4EEC\u53EF\u4EE5\u4F18\u5316 <code>Loader</code> \u7684\u6587\u4EF6\u641C\u7D22\u8303\u56F4</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// js \u6587\u4EF6\u624D\u4F7F\u7528 babel</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token comment">// \u53EA\u5728 src \u6587\u4EF6\u5939\u4E0B\u67E5\u627E</span>
        <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// \u4E0D\u4F1A\u53BB\u67E5\u627E\u7684\u8DEF\u5F84</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><p>\u5BF9\u4E8E <code>Babel</code> \u6765\u8BF4\uFF0C\u6211\u4EEC\u80AF\u5B9A\u662F\u5E0C\u671B\u53EA\u4F5C\u7528\u5728 <code>JS</code>\u4EE3\u7801\u4E0A\u7684\uFF0C\u7136\u540E <code>node_modules</code> \u4E2D\u4F7F\u7528\u7684\u4EE3\u7801\u90FD\u662F\u7F16\u8BD1\u8FC7\u7684\uFF0C\u6240\u4EE5\u6211\u4EEC\u4E5F\u5B8C\u5168\u6CA1\u6709\u5FC5\u8981\u518D\u53BB\u5904\u7406\u4E00\u904D</p></blockquote><ul><li>\u5F53\u7136\u8FD9\u6837\u505A\u8FD8\u4E0D\u591F\uFF0C\u6211\u4EEC\u8FD8\u53EF\u4EE5\u5C06 <code>Babel</code> \u7F16\u8BD1\u8FC7\u7684\u6587\u4EF6\u7F13\u5B58\u8D77\u6765\uFF0C\u4E0B\u6B21\u53EA\u9700\u8981\u7F16\u8BD1\u66F4\u6539\u8FC7\u7684\u4EE3\u7801\u6587\u4EF6\u5373\u53EF\uFF0C\u8FD9\u6837\u53EF\u4EE5\u5927\u5E45\u5EA6\u52A0\u5FEB\u6253\u5305\u65F6\u95F4</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader?cacheDirectory=true&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>2. HappyPack</strong></p><blockquote><p>\u53D7\u9650\u4E8E <code>Node</code> \u662F\u5355\u7EBF\u7A0B\u8FD0\u884C\u7684\uFF0C\u6240\u4EE5 <code>Webpack</code> \u5728\u6253\u5305\u7684\u8FC7\u7A0B\u4E2D\u4E5F\u662F\u5355\u7EBF\u7A0B\u7684\uFF0C\u7279\u522B\u662F\u5728\u6267\u884C<code>Loader</code> \u7684\u65F6\u5019\uFF0C\u957F\u65F6\u95F4\u7F16\u8BD1\u7684\u4EFB\u52A1\u5F88\u591A\uFF0C\u8FD9\u6837\u5C31\u4F1A\u5BFC\u81F4\u7B49\u5F85\u7684\u60C5\u51B5\u3002</p></blockquote><blockquote><p><code>HappyPack</code> \u53EF\u4EE5\u5C06 <code>Loader</code> \u7684\u540C\u6B65\u6267\u884C\u8F6C\u6362\u4E3A\u5E76\u884C\u7684\uFF0C\u8FD9\u6837\u5C31\u80FD\u5145\u5206\u5229\u7528\u7CFB\u7EDF\u8D44\u6E90\u6765\u52A0\u5FEB\u6253\u5305\u6548\u7387\u4E86</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">loaders</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token comment">// id \u540E\u9762\u7684\u5185\u5BB9\u5BF9\u5E94\u4E0B\u9762</span>
      <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;happypack/loader?id=happybabel&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">HappyPack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;happybabel&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">loaders</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;babel-loader?cacheDirectory&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// \u5F00\u542F 4 \u4E2A\u7EBF\u7A0B</span>
    <span class="token literal-property property">threads</span><span class="token operator">:</span> <span class="token number">4</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>3. DllPlugin</strong></p><blockquote><p><code>DllPlugin</code> \u53EF\u4EE5\u5C06\u7279\u5B9A\u7684\u7C7B\u5E93\u63D0\u524D\u6253\u5305\u7136\u540E\u5F15\u5165\u3002\u8FD9\u79CD\u65B9\u5F0F\u53EF\u4EE5\u6781\u5927\u7684\u51CF\u5C11\u6253\u5305\u7C7B\u5E93\u7684\u6B21\u6570\uFF0C\u53EA\u6709\u5F53\u7C7B\u5E93\u66F4\u65B0\u7248\u672C\u624D\u6709\u9700\u8981\u91CD\u65B0\u6253\u5305\uFF0C\u5E76\u4E14\u4E5F\u5B9E\u73B0\u4E86\u5C06\u516C\u5171\u4EE3\u7801\u62BD\u79BB\u6210\u5355\u72EC\u6587\u4EF6\u7684\u4F18\u5316\u65B9\u6848\u3002</p></blockquote><p>\u63A5\u4E0B\u6765\u6211\u4EEC\u5C31\u6765\u5B66\u4E60\u5982\u4F55\u4F7F\u7528 <code>DllPlugin</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5355\u72EC\u914D\u7F6E\u5728\u4E00\u4E2A\u6587\u4EF6\u4E2D</span>
<span class="token comment">// webpack.dll.conf.js</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u60F3\u7EDF\u4E00\u6253\u5305\u7684\u7C7B\u5E93</span>
    <span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;react&#39;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].dll.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">&#39;[name]-[hash]&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// name \u5FC5\u987B\u548C output.library \u4E00\u81F4</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;[name]-[hash]&#39;</span><span class="token punctuation">,</span>
      <span class="token comment">// \u8BE5\u5C5E\u6027\u9700\u8981\u4E0E DllReferencePlugin \u4E2D\u4E00\u81F4</span>
      <span class="token literal-property property">context</span><span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;[name]-manifest.json&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><blockquote><p>\u7136\u540E\u6211\u4EEC\u9700\u8981\u6267\u884C\u8FD9\u4E2A\u914D\u7F6E\u6587\u4EF6\u751F\u6210\u4F9D\u8D56\u6587\u4EF6\uFF0C\u63A5\u4E0B\u6765\u6211\u4EEC\u9700\u8981\u4F7F\u7528 <code>DllReferencePlugin</code> \u5C06\u4F9D\u8D56\u6587\u4EF6\u5F15\u5165\u9879\u76EE\u4E2D</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.conf.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...\u7701\u7565\u5176\u4ED6\u914D\u7F6E</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">context</span><span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
      <span class="token comment">// manifest \u5C31\u662F\u4E4B\u524D\u6253\u5305\u51FA\u6765\u7684 json \u6587\u4EF6</span>
      <span class="token literal-property property">manifest</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./dist/vendor-manifest.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>4. \u4EE3\u7801\u538B\u7F29</strong></p><blockquote><p>\u5728 <code>Webpack3</code> \u4E2D\uFF0C\u6211\u4EEC\u4E00\u822C\u4F7F\u7528 <code>UglifyJS</code> \u6765\u538B\u7F29\u4EE3\u7801\uFF0C\u4F46\u662F\u8FD9\u4E2A\u662F\u5355\u7EBF\u7A0B\u8FD0\u884C\u7684\uFF0C\u4E3A\u4E86\u52A0\u5FEB\u6548\u7387\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 <code>webpack-parallel-uglify-plugin</code> \u6765\u5E76\u884C\u8FD0\u884C <code>UglifyJS</code>\uFF0C\u4ECE\u800C\u63D0\u9AD8\u6548\u7387\u3002</p></blockquote><blockquote><p>\u5728 <code>Webpack4</code> \u4E2D\uFF0C\u6211\u4EEC\u5C31\u4E0D\u9700\u8981\u4EE5\u4E0A\u8FD9\u4E9B\u64CD\u4F5C\u4E86\uFF0C\u53EA\u9700\u8981\u5C06 <code>mode</code> \u8BBE\u7F6E\u4E3A <code>production</code> \u5C31\u53EF\u4EE5\u9ED8\u8BA4\u5F00\u542F\u4EE5\u4E0A\u529F\u80FD\u3002\u4EE3\u7801\u538B\u7F29\u4E5F\u662F\u6211\u4EEC\u5FC5\u505A\u7684\u6027\u80FD\u4F18\u5316\u65B9\u6848\uFF0C\u5F53\u7136\u6211\u4EEC\u4E0D\u6B62\u53EF\u4EE5\u538B\u7F29 <code>JS</code> \u4EE3\u7801\uFF0C\u8FD8\u53EF\u4EE5\u538B\u7F29 <code>HTML</code>\u3001<code>CSS</code> \u4EE3\u7801\uFF0C\u5E76\u4E14\u5728\u538B\u7F29 <code>JS</code> \u4EE3\u7801\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u6211\u4EEC\u8FD8\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u5B9E\u73B0\u6BD4\u5982\u5220\u9664 <code>console.log</code> \u8FD9\u7C7B\u4EE3\u7801\u7684\u529F\u80FD\u3002</p></blockquote><p><strong>5. \u4E00\u4E9B\u5C0F\u7684\u4F18\u5316\u70B9</strong></p><blockquote><p>\u6211\u4EEC\u8FD8\u53EF\u4EE5\u901A\u8FC7\u4E00\u4E9B\u5C0F\u7684\u4F18\u5316\u70B9\u6765\u52A0\u5FEB\u6253\u5305\u901F\u5EA6</p></blockquote><ul><li><code>resolve.extensions</code>\uFF1A\u7528\u6765\u8868\u660E\u6587\u4EF6\u540E\u7F00\u5217\u8868\uFF0C\u9ED8\u8BA4\u67E5\u627E\u987A\u5E8F\u662F <code>[&#39;.js&#39;, &#39;.json&#39;]</code>\uFF0C\u5982\u679C\u4F60\u7684\u5BFC\u5165\u6587\u4EF6\u6CA1\u6709\u6DFB\u52A0\u540E\u7F00\u5C31\u4F1A\u6309\u7167\u8FD9\u4E2A\u987A\u5E8F\u67E5\u627E\u6587\u4EF6\u3002\u6211\u4EEC\u5E94\u8BE5\u5C3D\u53EF\u80FD\u51CF\u5C11\u540E\u7F00\u5217\u8868\u957F\u5EA6\uFF0C\u7136\u540E\u5C06\u51FA\u73B0\u9891\u7387\u9AD8\u7684\u540E\u7F00\u6392\u5728\u524D\u9762</li><li><code>resolve.alias</code>\uFF1A\u53EF\u4EE5\u901A\u8FC7\u522B\u540D\u7684\u65B9\u5F0F\u6765\u6620\u5C04\u4E00\u4E2A\u8DEF\u5F84\uFF0C\u80FD\u8BA9 <code>Webpack</code> \u66F4\u5FEB\u627E\u5230\u8DEF\u5F84</li><li><code>module.noParse</code>\uFF1A\u5982\u679C\u4F60\u786E\u5B9A\u4E00\u4E2A\u6587\u4EF6\u4E0B\u6CA1\u6709\u5176\u4ED6\u4F9D\u8D56\uFF0C\u5C31\u53EF\u4EE5\u4F7F\u7528\u8BE5\u5C5E\u6027\u8BA9 Webpack \u4E0D\u626B\u63CF\u8BE5\u6587\u4EF6\uFF0C\u8FD9\u79CD\u65B9\u5F0F\u5BF9\u4E8E\u5927\u578B\u7684\u7C7B\u5E93\u5F88\u6709\u5E2E\u52A9</li></ul>`,23),qc={id:"_25-2-\u51CF\u5C11-webpack-\u6253\u5305\u540E\u7684\u6587\u4EF6\u4F53\u79EF",tabindex:"-1"},Ec=n("a",{class:"header-anchor",href:"#_25-2-\u51CF\u5C11-webpack-\u6253\u5305\u540E\u7684\u6587\u4EF6\u4F53\u79EF","aria-hidden":"true"},"#",-1),jc=s(),Cc={href:"http://interview.poetries.top/docs/excellent.html#_25-2-%E5%87%8F%E5%B0%91-webpack-%E6%89%93%E5%8C%85%E5%90%8E%E7%9A%84%E6%96%87%E4%BB%B6%E4%BD%93%E7%A7%AF",target:"_blank",rel:"noopener noreferrer"},Sc=s("#"),Ac=s("25.2 \u51CF\u5C11 Webpack \u6253\u5305\u540E\u7684\u6587\u4EF6\u4F53\u79EF"),Bc=e(`<p><strong>1. \u6309\u9700\u52A0\u8F7D</strong></p><blockquote><p>\u60F3\u5FC5\u5927\u5BB6\u5728\u5F00\u53D1 <code>SPA</code> \u9879\u76EE\u7684\u65F6\u5019\uFF0C\u9879\u76EE\u4E2D\u90FD\u4F1A\u5B58\u5728\u5341\u51E0\u751A\u81F3\u66F4\u591A\u7684\u8DEF\u7531\u9875\u9762\u3002\u5982\u679C\u6211\u4EEC\u5C06\u8FD9\u4E9B\u9875\u9762\u5168\u90E8\u6253\u5305\u8FDB\u4E00\u4E2A <code>JS</code>\u6587\u4EF6\u7684\u8BDD\uFF0C\u867D\u7136\u5C06\u591A\u4E2A\u8BF7\u6C42\u5408\u5E76\u4E86\uFF0C\u4F46\u662F\u540C\u6837\u4E5F\u52A0\u8F7D\u4E86\u5F88\u591A\u5E76\u4E0D\u9700\u8981\u7684\u4EE3\u7801\uFF0C\u8017\u8D39\u4E86\u66F4\u957F\u7684\u65F6\u95F4\u3002\u90A3\u4E48\u4E3A\u4E86\u9996\u9875\u80FD\u66F4\u5FEB\u5730\u5448\u73B0\u7ED9\u7528\u6237\uFF0C\u6211\u4EEC\u80AF\u5B9A\u662F\u5E0C\u671B\u9996\u9875\u80FD\u52A0\u8F7D\u7684\u6587\u4EF6\u4F53\u79EF\u8D8A\u5C0F\u8D8A\u597D\uFF0C\u8FD9\u65F6\u5019\u6211\u4EEC\u5C31\u53EF\u4EE5\u4F7F\u7528\u6309\u9700\u52A0\u8F7D\uFF0C\u5C06\u6BCF\u4E2A\u8DEF\u7531\u9875\u9762\u5355\u72EC\u6253\u5305\u4E3A\u4E00\u4E2A\u6587\u4EF6\u3002\u5F53\u7136\u4E0D\u4EC5\u4EC5\u8DEF\u7531\u53EF\u4EE5\u6309\u9700\u52A0\u8F7D\uFF0C\u5BF9\u4E8E <code>loadash</code> \u8FD9\u79CD\u5927\u578B\u7C7B\u5E93\u540C\u6837\u53EF\u4EE5\u4F7F\u7528\u8FD9\u4E2A\u529F\u80FD\u3002</p></blockquote><blockquote><p>\u6309\u9700\u52A0\u8F7D\u7684\u4EE3\u7801\u5B9E\u73B0\u8FD9\u91CC\u5C31\u4E0D\u8BE6\u7EC6\u5C55\u5F00\u4E86\uFF0C\u56E0\u4E3A\u9274\u4E8E\u7528\u7684\u6846\u67B6\u4E0D\u540C\uFF0C\u5B9E\u73B0\u8D77\u6765\u90FD\u662F\u4E0D\u4E00\u6837\u7684\u3002\u5F53\u7136\u4E86\uFF0C\u867D\u7136\u4ED6\u4EEC\u7684\u7528\u6CD5\u53EF\u80FD\u4E0D\u540C\uFF0C\u4F46\u662F\u5E95\u5C42\u7684\u673A\u5236\u90FD\u662F\u4E00\u6837\u7684\u3002\u90FD\u662F\u5F53\u4F7F\u7528\u7684\u65F6\u5019\u518D\u53BB\u4E0B\u8F7D\u5BF9\u5E94\u6587\u4EF6\uFF0C\u8FD4\u56DE\u4E00\u4E2A <code>Promise</code>\uFF0C\u5F53 <code>Promise</code>\u6210\u529F\u4EE5\u540E\u53BB\u6267\u884C\u56DE\u8C03\u3002</p></blockquote><p><strong>2. Scope Hoisting</strong></p><blockquote><p><code>Scope Hoisting</code> \u4F1A\u5206\u6790\u51FA\u6A21\u5757\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u5C3D\u53EF\u80FD\u7684\u628A\u6253\u5305\u51FA\u6765\u7684\u6A21\u5757\u5408\u5E76\u5230\u4E00\u4E2A\u51FD\u6570\u4E2D\u53BB\u3002</p></blockquote><p>\u6BD4\u5982\u6211\u4EEC\u5E0C\u671B\u6253\u5305\u4E24\u4E2A\u6587\u4EF6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// test.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">// index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> a <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./test.js&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\uFF0C\u6211\u4EEC\u6253\u5305\u51FA\u6765\u7684\u4EE3\u7801\u4F1A\u7C7B\u4F3C\u8FD9\u6837</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span>
  <span class="token comment">/* 0 */</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> require</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">/* 1 */</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> require</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>\u4F46\u662F\u5982\u679C\u6211\u4EEC\u4F7F\u7528 <code>Scope Hoisting</code> \u7684\u8BDD\uFF0C\u4EE3\u7801\u5C31\u4F1A\u5C3D\u53EF\u80FD\u7684\u5408\u5E76\u5230\u4E00\u4E2A\u51FD\u6570\u4E2D\u53BB\uFF0C\u4E5F\u5C31\u53D8\u6210\u4E86\u8FD9\u6837\u7684\u7C7B\u4F3C\u4EE3\u7801</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span>
  <span class="token comment">/* 0 */</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> require</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>\u8FD9\u6837\u7684\u6253\u5305\u65B9\u5F0F\u751F\u6210\u7684\u4EE3\u7801\u660E\u663E\u6BD4\u4E4B\u524D\u7684\u5C11\u591A\u4E86\u3002\u5982\u679C\u5728 <code>Webpack4</code> \u4E2D\u4F60\u5E0C\u671B\u5F00\u542F\u8FD9\u4E2A\u529F\u80FD\uFF0C\u53EA\u9700\u8981\u542F\u7528 <code>optimization.concatenateModules</code>\u5C31\u53EF\u4EE5\u4E86\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">concatenateModules</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>3. Tree Shaking</strong></p><blockquote><p><code>Tree Shaking</code> \u53EF\u4EE5\u5B9E\u73B0\u5220\u9664\u9879\u76EE\u4E2D\u672A\u88AB\u5F15\u7528\u7684\u4EE3\u7801\uFF0C\u6BD4\u5982</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// test.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">2</span>
<span class="token comment">// index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> a <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./test.js&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>\u5BF9\u4E8E\u4EE5\u4E0A\u60C5\u51B5\uFF0C<code>test</code> \u6587\u4EF6\u4E2D\u7684\u53D8\u91CF <code>b</code> \u5982\u679C\u6CA1\u6709\u5728\u9879\u76EE\u4E2D\u4F7F\u7528\u5230\u7684\u8BDD\uFF0C\u5C31\u4E0D\u4F1A\u88AB\u6253\u5305\u5230\u6587\u4EF6\u4E2D\u3002</li><li>\u5982\u679C\u4F60\u4F7F\u7528 <code>Webpack 4</code> \u7684\u8BDD\uFF0C\u5F00\u542F\u751F\u4EA7\u73AF\u5883\u5C31\u4F1A\u81EA\u52A8\u542F\u52A8\u8FD9\u4E2A\u4F18\u5316\u529F\u80FD\u3002</li></ul>`,17),Tc={id:"_26-\u5B9E\u73B0\u5C0F\u578B\u6253\u5305\u5DE5\u5177",tabindex:"-1"},Pc=n("a",{class:"header-anchor",href:"#_26-\u5B9E\u73B0\u5C0F\u578B\u6253\u5305\u5DE5\u5177","aria-hidden":"true"},"#",-1),Dc=s(),Mc={href:"http://interview.poetries.top/docs/excellent.html#_26-%E5%AE%9E%E7%8E%B0%E5%B0%8F%E5%9E%8B%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7",target:"_blank",rel:"noopener noreferrer"},Oc=s("#"),Rc=s("26 \u5B9E\u73B0\u5C0F\u578B\u6253\u5305\u5DE5\u5177"),Fc=e(`<blockquote><p>\u8BE5\u5DE5\u5177\u53EF\u4EE5\u5B9E\u73B0\u4EE5\u4E0B\u4E24\u4E2A\u529F\u80FD</p></blockquote><ul><li>\u5C06 <code>ES6</code> \u8F6C\u6362\u4E3A <code>ES5</code></li><li>\u652F\u6301\u5728 <code>JS</code> \u6587\u4EF6\u4E2D <code>import CSS</code> \u6587\u4EF6</li></ul><blockquote><p>\u901A\u8FC7\u8FD9\u4E2A\u5DE5\u5177\u7684\u5B9E\u73B0\uFF0C\u5927\u5BB6\u53EF\u4EE5\u7406\u89E3\u5230\u6253\u5305\u5DE5\u5177\u7684\u539F\u7406\u5230\u5E95\u662F\u4EC0\u4E48</p></blockquote><p><strong>\u5B9E\u73B0</strong></p><blockquote><p>\u56E0\u4E3A\u6D89\u53CA\u5230 <code>ES6</code> \u8F6C <code>ES5</code>\uFF0C\u6240\u4EE5\u6211\u4EEC\u9996\u5148\u9700\u8981\u5B89\u88C5\u4E00\u4E9B <code>Babel</code> \u76F8\u5173\u7684\u5DE5\u5177</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yarn add babylon babel-traverse babel-core babel-preset-env  
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u63A5\u4E0B\u6765\u6211\u4EEC\u5C06\u8FD9\u4E9B\u5DE5\u5177\u5F15\u5165\u6587\u4EF6\u4E2D</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> babylon <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;babylon&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> traverse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;babel-traverse&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default
<span class="token keyword">const</span> <span class="token punctuation">{</span> transformFromAst <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;babel-core&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u9996\u5148\uFF0C\u6211\u4EEC\u5148\u6765\u5B9E\u73B0\u5982\u4F55\u4F7F\u7528 <code>Babel</code> \u8F6C\u6362\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">readCode</span><span class="token punctuation">(</span><span class="token parameter">filePath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8BFB\u53D6\u6587\u4EF6\u5185\u5BB9</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span>
  <span class="token comment">// \u751F\u6210 AST</span>
  <span class="token keyword">const</span> ast <span class="token operator">=</span> babylon<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">&#39;module&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// \u5BFB\u627E\u5F53\u524D\u6587\u4EF6\u7684\u4F9D\u8D56\u5173\u7CFB</span>
  <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token function">traverse</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">ImportDeclaration</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      dependencies<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// \u901A\u8FC7 AST \u5C06\u4EE3\u7801\u8F6C\u4E3A ES5</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> code <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">transformFromAst</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;env&#39;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    filePath<span class="token punctuation">,</span>
    dependencies<span class="token punctuation">,</span>
    code
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><ul><li>\u9996\u5148\u6211\u4EEC\u4F20\u5165\u4E00\u4E2A\u6587\u4EF6\u8DEF\u5F84\u53C2\u6570\uFF0C\u7136\u540E\u901A\u8FC7 <code>fs</code> \u5C06\u6587\u4EF6\u4E2D\u7684\u5185\u5BB9\u8BFB\u53D6\u51FA\u6765</li><li>\u63A5\u4E0B\u6765\u6211\u4EEC\u901A\u8FC7 <code>babylon</code> \u89E3\u6790\u4EE3\u7801\u83B7\u53D6 <code>AST</code>\uFF0C\u76EE\u7684\u662F\u4E3A\u4E86\u5206\u6790\u4EE3\u7801\u4E2D\u662F\u5426\u8FD8\u5F15\u5165\u4E86\u522B\u7684\u6587\u4EF6</li><li>\u901A\u8FC7 <code>dependencies</code> \u6765\u5B58\u50A8\u6587\u4EF6\u4E2D\u7684\u4F9D\u8D56\uFF0C\u7136\u540E\u518D\u5C06 <code>AST</code> \u8F6C\u6362\u4E3A <code>ES5</code> \u4EE3\u7801</li><li>\u6700\u540E\u51FD\u6570\u8FD4\u56DE\u4E86\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5BF9\u8C61\u4E2D\u5305\u542B\u4E86\u5F53\u524D\u6587\u4EF6\u8DEF\u5F84\u3001\u5F53\u524D\u6587\u4EF6\u4F9D\u8D56\u548C\u5F53\u524D\u6587\u4EF6\u8F6C\u6362\u540E\u7684\u4EE3\u7801</li></ul><blockquote><p>\u63A5\u4E0B\u6765\u6211\u4EEC\u9700\u8981\u5B9E\u73B0\u4E00\u4E2A\u51FD\u6570\uFF0C\u8FD9\u4E2A\u51FD\u6570\u7684\u529F\u80FD\u6709\u4EE5\u4E0B\u51E0\u70B9</p></blockquote><ul><li>\u8C03\u7528 <code>readCode</code> \u51FD\u6570\uFF0C\u4F20\u5165\u5165\u53E3\u6587\u4EF6</li><li>\u5206\u6790\u5165\u53E3\u6587\u4EF6\u7684\u4F9D\u8D56</li><li>\u8BC6\u522B <code>JS</code> \u548C <code>CSS</code> \u6587\u4EF6</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getDependencies</span><span class="token punctuation">(</span><span class="token parameter">entry</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8BFB\u53D6\u5165\u53E3\u6587\u4EF6</span>
  <span class="token keyword">const</span> entryObject <span class="token operator">=</span> <span class="token function">readCode</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span>
  <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">[</span>entryObject<span class="token punctuation">]</span>
  <span class="token comment">// \u904D\u5386\u6240\u6709\u6587\u4EF6\u4F9D\u8D56\u5173\u7CFB</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> asset <span class="token keyword">of</span> dependencies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u83B7\u5F97\u6587\u4EF6\u76EE\u5F55</span>
    <span class="token keyword">const</span> dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>asset<span class="token punctuation">.</span>filePath<span class="token punctuation">)</span>
    <span class="token comment">// \u904D\u5386\u5F53\u524D\u6587\u4EF6\u4F9D\u8D56\u5173\u7CFB</span>
    asset<span class="token punctuation">.</span>dependencies<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">relativePath</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u83B7\u5F97\u7EDD\u5BF9\u8DEF\u5F84</span>
      <span class="token keyword">const</span> absolutePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> relativePath<span class="token punctuation">)</span>
      <span class="token comment">// CSS \u6587\u4EF6\u903B\u8F91\u5C31\u662F\u5C06\u4EE3\u7801\u63D2\u5165\u5230 \`style\` \u6807\u7B7E\u4E2D</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>absolutePath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>absolutePath<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> code <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">
          const style = document.createElement(&#39;style&#39;)
          style.innerText = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\\\r\\\\n</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
          document.head.appendChild(style)
        </span><span class="token template-punctuation string">\`</span></span>
        dependencies<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">filePath</span><span class="token operator">:</span> absolutePath<span class="token punctuation">,</span>
          relativePath<span class="token punctuation">,</span>
          <span class="token literal-property property">dependencies</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          code
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// JS \u4EE3\u7801\u9700\u8981\u7EE7\u7EED\u67E5\u627E\u662F\u5426\u6709\u4F9D\u8D56\u5173\u7CFB</span>
        <span class="token keyword">const</span> child <span class="token operator">=</span> <span class="token function">readCode</span><span class="token punctuation">(</span>absolutePath<span class="token punctuation">)</span>
        child<span class="token punctuation">.</span>relativePath <span class="token operator">=</span> relativePath
        dependencies<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> dependencies
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><ul><li>\u9996\u5148\u6211\u4EEC\u8BFB\u53D6\u5165\u53E3\u6587\u4EF6\uFF0C\u7136\u540E\u521B\u5EFA\u4E00\u4E2A\u6570\u7EC4\uFF0C\u8BE5\u6570\u7EC4\u7684\u76EE\u7684\u662F\u5B58\u50A8\u4EE3\u7801\u4E2D\u6D89\u53CA\u5230\u7684\u6240\u6709\u6587\u4EF6</li><li>\u63A5\u4E0B\u6765\u6211\u4EEC\u904D\u5386\u8FD9\u4E2A\u6570\u7EC4\uFF0C\u4E00\u5F00\u59CB\u8FD9\u4E2A\u6570\u7EC4\u4E2D\u53EA\u6709\u5165\u53E3\u6587\u4EF6\uFF0C\u5728\u904D\u5386\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u5982\u679C\u5165\u53E3\u6587\u4EF6\u6709\u4F9D\u8D56\u5176\u4ED6\u7684\u6587\u4EF6\uFF0C\u90A3\u4E48\u5C31\u4F1A\u88AB <code>push</code> \u5230\u8FD9\u4E2A\u6570\u7EC4\u4E2D</li><li>\u5728\u904D\u5386\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u6211\u4EEC\u5148\u83B7\u5F97\u8BE5\u6587\u4EF6\u5BF9\u5E94\u7684\u76EE\u5F55\uFF0C\u7136\u540E\u904D\u5386\u5F53\u524D\u6587\u4EF6\u7684\u4F9D\u8D56\u5173\u7CFB</li><li>\u5728\u904D\u5386\u5F53\u524D\u6587\u4EF6\u4F9D\u8D56\u5173\u7CFB\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u9996\u5148\u751F\u6210\u4F9D\u8D56\u6587\u4EF6\u7684\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u7136\u540E\u5224\u65AD\u5F53\u524D\u6587\u4EF6\u662F <code>CSS</code> \u6587\u4EF6\u8FD8\u662F <code>JS</code> \u6587\u4EF6</li><li>\u5982\u679C\u662F <code>CSS</code> \u6587\u4EF6\u7684\u8BDD\uFF0C\u6211\u4EEC\u5C31\u4E0D\u80FD\u7528 <code>Babel</code> \u53BB\u7F16\u8BD1\u4E86\uFF0C\u53EA\u9700\u8981\u8BFB\u53D6 <code>CSS</code> \u6587\u4EF6\u4E2D\u7684\u4EE3\u7801\uFF0C\u7136\u540E\u521B\u5EFA\u4E00\u4E2A <code>style</code> \u6807\u7B7E\uFF0C\u5C06\u4EE3\u7801\u63D2\u5165\u8FDB\u6807\u7B7E\u5E76\u4E14\u653E\u5165 <code>head</code> \u4E2D\u5373\u53EF</li><li>\u5982\u679C\u662F <code>JS</code> \u6587\u4EF6\u7684\u8BDD\uFF0C\u6211\u4EEC\u8FD8\u9700\u8981\u5206\u6790 <code>JS</code> \u6587\u4EF6\u662F\u5426\u8FD8\u6709\u522B\u7684\u4F9D\u8D56\u5173\u7CFB</li><li>\u6700\u540E\u5C06\u8BFB\u53D6\u6587\u4EF6\u540E\u7684\u5BF9\u8C61 <code>push</code> \u8FDB\u6570\u7EC4\u4E2D</li><li>\u73B0\u5728\u6211\u4EEC\u5DF2\u7ECF\u83B7\u53D6\u5230\u4E86\u6240\u6709\u7684\u4F9D\u8D56\u6587\u4EF6\uFF0C\u63A5\u4E0B\u6765\u5C31\u662F\u5B9E\u73B0\u6253\u5305\u7684\u529F\u80FD\u4E86</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bundle</span><span class="token punctuation">(</span><span class="token parameter">dependencies<span class="token punctuation">,</span> entry</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> modules <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
  <span class="token comment">// \u6784\u5EFA\u51FD\u6570\u53C2\u6570\uFF0C\u751F\u6210\u7684\u7ED3\u6784\u4E3A</span>
  <span class="token comment">// { &#39;./entry.js&#39;: function(module, exports, require) { \u4EE3\u7801 } }</span>
  dependencies<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">dep</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> filePath <span class="token operator">=</span> dep<span class="token punctuation">.</span>relativePath <span class="token operator">||</span> entry
    modules <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&#39;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>filePath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39;: (
      function (module, exports, require) { </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>dep<span class="token punctuation">.</span>code<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> }
    ),</span><span class="token template-punctuation string">\`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// \u6784\u5EFA require \u51FD\u6570\uFF0C\u76EE\u7684\u662F\u4E3A\u4E86\u83B7\u53D6\u6A21\u5757\u66B4\u9732\u51FA\u6765\u7684\u5185\u5BB9</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">
    (function(modules) {
      function require(id) {
        const module = { exports : {} }
        modules[id](module, module.exports, require)
        return module.exports
      }
      require(&#39;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>entry<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39;)
    })({</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>modules<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">})
  </span><span class="token template-punctuation string">\`</span></span>
  <span class="token comment">// \u5F53\u751F\u6210\u7684\u5185\u5BB9\u5199\u5165\u5230\u6587\u4EF6\u4E2D</span>
  fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span><span class="token string">&#39;./bundle.js&#39;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><blockquote><p>\u8FD9\u6BB5\u4EE3\u7801\u9700\u8981\u7ED3\u5408\u7740 <code>Babel</code> \u8F6C\u6362\u540E\u7684\u4EE3\u7801\u6765\u770B\uFF0C\u8FD9\u6837\u5927\u5BB6\u5C31\u80FD\u7406\u89E3\u4E3A\u4EC0\u4E48\u9700\u8981\u8FD9\u6837\u5199\u4E86</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// entry.js</span>
<span class="token keyword">var</span> _a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./a.js&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> _a2 <span class="token operator">=</span> <span class="token function">_interopRequireDefault</span><span class="token punctuation">(</span>_a<span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">_interopRequireDefault</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> obj <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>__esModule <span class="token operator">?</span> obj <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> obj <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_a2<span class="token punctuation">.</span>default<span class="token punctuation">)</span>
<span class="token comment">// a.js</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>exports<span class="token punctuation">,</span> <span class="token string">&#39;__esModule&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
exports<span class="token punctuation">.</span>default <span class="token operator">=</span> a
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p><code>Babel</code> \u5C06\u6211\u4EEC <code>ES6</code>\u7684\u6A21\u5757\u5316\u4EE3\u7801\u8F6C\u6362\u4E3A\u4E86 <code>CommonJS</code>\u7684\u4EE3\u7801\uFF0C\u4F46\u662F\u6D4F\u89C8\u5668\u662F\u4E0D\u652F\u6301 <code>CommonJS</code> \u7684\uFF0C\u6240\u4EE5\u5982\u679C\u8FD9\u6BB5\u4EE3\u7801\u9700\u8981\u5728\u6D4F\u89C8\u5668\u73AF\u5883\u4E0B\u8FD0\u884C\u7684\u8BDD\uFF0C\u6211\u4EEC\u9700\u8981\u81EA\u5DF1\u5B9E\u73B0 <code>CommonJS</code> \u76F8\u5173\u7684\u4EE3\u7801\uFF0C\u8FD9\u5C31\u662F <code>bundle</code> \u51FD\u6570\u505A\u7684\u5927\u90E8\u5206\u4E8B\u60C5\u3002</p></blockquote><p><strong>\u63A5\u4E0B\u6765\u6211\u4EEC\u518D\u6765\u9010\u884C\u89E3\u6790 bundle \u51FD\u6570</strong></p><ul><li><p>\u9996\u5148\u904D\u5386\u6240\u6709\u4F9D\u8D56\u6587\u4EF6\uFF0C\u6784\u5EFA\u51FA\u4E00\u4E2A\u51FD\u6570\u53C2\u6570\u5BF9\u8C61</p></li><li><p>\u5BF9\u8C61\u7684\u5C5E\u6027\u5C31\u662F\u5F53\u524D\u6587\u4EF6\u7684\u76F8\u5BF9\u8DEF\u5F84\uFF0C\u5C5E\u6027\u503C\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u51FD\u6570\u4F53\u662F\u5F53\u524D\u6587\u4EF6\u4E0B\u7684\u4EE3\u7801\uFF0C\u51FD\u6570\u63A5\u53D7\u4E09\u4E2A\u53C2\u6570</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>module
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u3001</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>exports
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u3001</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>require
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>module</code> \u53C2\u6570\u5BF9\u5E94 <code>CommonJS</code> \u4E2D\u7684 <code>module</code></li><li><code>exports</code> \u53C2\u6570\u5BF9\u5E94 <code>CommonJS</code> \u4E2D\u7684 <code>module.export</code></li><li><code>require</code> \u53C2\u6570\u5BF9\u5E94\u6211\u4EEC\u81EA\u5DF1\u521B\u5EFA\u7684 <code>require</code> \u51FD\u6570</li></ul></li><li><p>\u63A5\u4E0B\u6765\u5C31\u662F\u6784\u9020\u4E00\u4E2A\u4F7F\u7528\u53C2\u6570\u7684\u51FD\u6570\u4E86\uFF0C\u51FD\u6570\u505A\u7684\u4E8B\u60C5\u5F88\u7B80\u5355\uFF0C\u5C31\u662F\u5185\u90E8\u521B\u5EFA\u4E00\u4E2A <code>require</code>\u51FD\u6570\uFF0C\u7136\u540E\u8C03\u7528 <code>require(entry)</code>\uFF0C\u4E5F\u5C31\u662F <code>require(&#39;./entry.js&#39;)</code>\uFF0C\u8FD9\u6837\u5C31\u4F1A\u4ECE\u51FD\u6570\u53C2\u6570\u4E2D\u627E\u5230 <code>./entry.js</code> \u5BF9\u5E94\u7684\u51FD\u6570\u5E76\u6267\u884C\uFF0C\u6700\u540E\u5C06\u5BFC\u51FA\u7684\u5185\u5BB9\u901A\u8FC7 <code>module.export</code> \u7684\u65B9\u5F0F\u8BA9\u5916\u90E8\u83B7\u53D6\u5230</p></li><li><p>\u6700\u540E\u518D\u5C06\u6253\u5305\u51FA\u6765\u7684\u5185\u5BB9\u5199\u5165\u5230\u5355\u72EC\u7684\u6587\u4EF6\u4E2D</p></li></ul><blockquote><p>\u5982\u679C\u4F60\u5BF9\u4E8E\u4E0A\u9762\u7684\u5B9E\u73B0\u8FD8\u6709\u7591\u60D1\u7684\u8BDD\uFF0C\u53EF\u4EE5\u9605\u8BFB\u4E0B\u6253\u5305\u540E\u7684\u90E8\u5206\u7B80\u5316\u4EE3\u7801</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">modules</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u6784\u9020\u4E00\u4E2A CommonJS \u5BFC\u51FA\u4EE3\u7801</span>
    <span class="token keyword">const</span> module <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">exports</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>
    <span class="token comment">// \u53BB\u53C2\u6570\u4E2D\u83B7\u53D6\u6587\u4EF6\u5BF9\u5E94\u7684\u51FD\u6570\u5E76\u6267\u884C</span>
    modules<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span> require<span class="token punctuation">)</span>
    <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports
  <span class="token punctuation">}</span>
  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./entry.js&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string-property property">&#39;./entry.js&#39;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> require</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8FD9\u91CC\u7EE7\u7EED\u901A\u8FC7\u6784\u9020\u7684 require \u53BB\u627E\u5230 a.js \u6587\u4EF6\u5BF9\u5E94\u7684\u51FD\u6570</span>
    <span class="token keyword">var</span> _a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./a.js&#39;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_a2<span class="token punctuation">.</span>default<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&#39;./a.js&#39;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> require</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token comment">// \u5C06 require \u51FD\u6570\u4E2D\u7684\u53D8\u91CF module \u53D8\u6210\u4E86\u8FD9\u6837\u7684\u7ED3\u6784</span>
    <span class="token comment">// module.exports = 1</span>
    <span class="token comment">// \u8FD9\u6837\u5C31\u80FD\u5728\u5916\u90E8\u53D6\u5230\u5BFC\u51FA\u7684\u5185\u5BB9\u4E86</span>
    exports<span class="token punctuation">.</span>default <span class="token operator">=</span> a
  <span class="token punctuation">}</span>
  <span class="token comment">// \u7701\u7565</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><blockquote><p>\u867D\u7136\u5B9E\u73B0\u8FD9\u4E2A\u5DE5\u5177\u53EA\u5199\u4E86\u4E0D\u5230 <code>100</code> \u884C\u7684\u4EE3\u7801\uFF0C\u4F46\u662F\u6253\u5305\u5DE5\u5177\u7684\u6838\u5FC3\u539F\u7406\u5C31\u662F\u8FD9\u4E9B\u4E86</p></blockquote><ul><li>\u627E\u51FA\u5165\u53E3\u6587\u4EF6\u6240\u6709\u7684\u4F9D\u8D56\u5173\u7CFB</li><li>\u7136\u540E\u901A\u8FC7\u6784\u5EFA <code>CommonJS</code> \u4EE3\u7801\u6765\u83B7\u53D6 <code>exports</code> \u5BFC\u51FA\u7684\u5185\u5BB9</li></ul>`,25),Nc={id:"_27-mvvm-\u865A\u62DFdom-\u524D\u7AEF\u8DEF\u7531",tabindex:"-1"},Lc=n("a",{class:"header-anchor",href:"#_27-mvvm-\u865A\u62DFdom-\u524D\u7AEF\u8DEF\u7531","aria-hidden":"true"},"#",-1),Vc=s(),Ic={href:"http://interview.poetries.top/docs/excellent.html#_27-mvvm-%E8%99%9A%E6%8B%9Fdom-%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1",target:"_blank",rel:"noopener noreferrer"},Hc=s("#"),Jc=s("27 MVVM/\u865A\u62DFDOM/\u524D\u7AEF\u8DEF\u7531"),Uc={id:"_27-1-mvvm",tabindex:"-1"},zc=n("a",{class:"header-anchor",href:"#_27-1-mvvm","aria-hidden":"true"},"#",-1),Wc=s(),Xc={href:"http://interview.poetries.top/docs/excellent.html#_27-1-mvvm",target:"_blank",rel:"noopener noreferrer"},Gc=s("#"),Qc=s("27.1 MVVM"),Kc=e('<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u4EC0\u4E48\u662F <code>MVVM</code>\uFF1F\u6BD4\u4E4B <code>MVC</code> \u6709\u4EC0\u4E48\u533A\u522B\uFF1F</p></blockquote><p><strong>\u9996\u5148\u5148\u6765\u8BF4\u4E0B View \u548C Model</strong></p><ul><li><code>View</code> \u5F88\u7B80\u5355\uFF0C\u5C31\u662F\u7528\u6237\u770B\u5230\u7684\u89C6\u56FE</li><li><code>Model</code> \u540C\u6837\u5F88\u7B80\u5355\uFF0C\u4E00\u822C\u5C31\u662F\u672C\u5730\u6570\u636E\u548C\u6570\u636E\u5E93\u4E2D\u7684\u6570\u636E</li></ul><blockquote><p>\u57FA\u672C\u4E0A\uFF0C\u6211\u4EEC\u5199\u7684\u4EA7\u54C1\u5C31\u662F\u901A\u8FC7\u63A5\u53E3\u4ECE\u6570\u636E\u5E93\u4E2D\u8BFB\u53D6\u6570\u636E\uFF0C\u7136\u540E\u5C06\u6570\u636E\u7ECF\u8FC7\u5904\u7406\u5C55\u73B0\u5230\u7528\u6237\u770B\u5230\u7684\u89C6\u56FE\u4E0A\u3002\u5F53\u7136\u6211\u4EEC\u8FD8\u53EF\u4EE5\u4ECE\u89C6\u56FE\u4E0A\u8BFB\u53D6\u7528\u6237\u7684\u8F93\u5165\uFF0C\u7136\u540E\u53C8\u5C06\u7528\u6237\u7684\u8F93\u5165\u901A\u8FC7\u63A5\u53E3\u5199\u5165\u5230\u6570\u636E\u5E93\u4E2D\u3002\u4F46\u662F\uFF0C\u5982\u4F55\u5C06\u6570\u636E\u5C55\u793A\u5230\u89C6\u56FE\u4E0A\uFF0C\u7136\u540E\u53C8\u5982\u4F55\u5C06\u7528\u6237\u7684\u8F93\u5165\u5199\u5165\u5230\u6570\u636E\u4E2D\uFF0C\u4E0D\u540C\u7684\u4EBA\u5C31\u4EA7\u751F\u4E86\u4E0D\u540C\u7684\u770B\u6CD5\uFF0C\u4ECE\u6B64\u51FA\u73B0\u4E86\u5F88\u591A\u79CD\u67B6\u6784\u8BBE\u8BA1\u3002</p></blockquote><blockquote><p>\u4F20\u7EDF\u7684 <code>MVC</code> \u67B6\u6784\u901A\u5E38\u662F\u4F7F\u7528\u63A7\u5236\u5668\u66F4\u65B0\u6A21\u578B\uFF0C\u89C6\u56FE\u4ECE\u6A21\u578B\u4E2D\u83B7\u53D6\u6570\u636E\u53BB\u6E32\u67D3\u3002\u5F53\u7528\u6237\u6709\u8F93\u5165\u65F6\uFF0C\u4F1A\u901A\u8FC7\u63A7\u5236\u5668\u53BB\u66F4\u65B0\u6A21\u578B\uFF0C\u5E76\u4E14\u901A\u77E5\u89C6\u56FE\u8FDB\u884C\u66F4\u65B0</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/27.png" alt="img"></p><ul><li>\u4F46\u662F <code>MVC</code> \u6709\u4E00\u4E2A\u5DE8\u5927\u7684\u7F3A\u9677\u5C31\u662F\u63A7\u5236\u5668\u627F\u62C5\u7684\u8D23\u4EFB\u592A\u5927\u4E86\uFF0C\u968F\u7740\u9879\u76EE\u6108\u52A0\u590D\u6742\uFF0C\u63A7\u5236\u5668\u4E2D\u7684\u4EE3\u7801\u4F1A\u8D8A\u6765\u8D8A\u81C3\u80BF\uFF0C\u5BFC\u81F4\u51FA\u73B0\u4E0D\u5229\u4E8E\u7EF4\u62A4\u7684\u60C5\u51B5\u3002</li><li>\u5728 <code>MVVM</code> \u67B6\u6784\u4E2D\uFF0C\u5F15\u5165\u4E86 <code>ViewModel</code> \u7684\u6982\u5FF5\u3002<code>ViewModel</code> \u53EA\u5173\u5FC3\u6570\u636E\u548C\u4E1A\u52A1\u7684\u5904\u7406\uFF0C\u4E0D\u5173\u5FC3 <code>View</code> \u5982\u4F55\u5904\u7406\u6570\u636E\uFF0C\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C<code>View</code>\u548C <code>Model</code> \u90FD\u53EF\u4EE5\u72EC\u7ACB\u51FA\u6765\uFF0C\u4EFB\u4F55\u4E00\u65B9\u6539\u53D8\u4E86\u4E5F\u4E0D\u4E00\u5B9A\u9700\u8981\u6539\u53D8\u53E6\u4E00\u65B9\uFF0C\u5E76\u4E14\u53EF\u4EE5\u5C06\u4E00\u4E9B\u53EF\u590D\u7528\u7684\u903B\u8F91\u653E\u5728\u4E00\u4E2A <code>ViewModel</code> \u4E2D\uFF0C\u8BA9\u591A\u4E2A <code>View</code> \u590D\u7528\u8FD9\u4E2A <code>ViewModel</code>\u3002</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/28.png" alt="img"></p><ul><li>\u4EE5 <code>Vue</code> \u6846\u67B6\u6765\u4E3E\u4F8B\uFF0C<code>ViewModel</code> \u5C31\u662F\u7EC4\u4EF6\u7684\u5B9E\u4F8B\u3002<code>View</code> \u5C31\u662F\u6A21\u677F\uFF0C<code>Model</code> \u7684\u8BDD\u5728\u5F15\u5165 <code>Vuex</code> \u7684\u60C5\u51B5\u4E0B\u662F\u5B8C\u5168\u53EF\u4EE5\u548C\u7EC4\u4EF6\u5206\u79BB\u7684\u3002</li><li>\u9664\u4E86\u4EE5\u4E0A\u4E09\u4E2A\u90E8\u5206\uFF0C\u5176\u5B9E\u5728 <code>MVVM</code> \u4E2D\u8FD8\u5F15\u5165\u4E86\u4E00\u4E2A\u9690\u5F0F\u7684 <code>Binder</code> \u5C42\uFF0C\u5B9E\u73B0\u4E86 <code>View</code> \u548C <code>ViewModel</code> \u7684\u7ED1\u5B9A</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/29.png" alt="img"></p><ul><li>\u540C\u6837\u4EE5 <code>Vue</code> \u6846\u67B6\u6765\u4E3E\u4F8B\uFF0C\u8FD9\u4E2A\u9690\u5F0F\u7684 <code>Binder</code> \u5C42\u5C31\u662F <code>Vue</code> \u901A\u8FC7\u89E3\u6790\u6A21\u677F\u4E2D\u7684\u63D2\u503C\u548C\u6307\u4EE4\u4ECE\u800C\u5B9E\u73B0 <code>View</code> \u4E0E <code>ViewModel</code> \u7684\u7ED1\u5B9A\u3002</li><li>\u5BF9\u4E8E <code>MVVM</code>\u6765\u8BF4\uFF0C\u5176\u5B9E\u6700\u91CD\u8981\u7684\u5E76\u4E0D\u662F\u901A\u8FC7\u53CC\u5411\u7ED1\u5B9A\u6216\u8005\u5176\u4ED6\u7684\u65B9\u5F0F\u5C06 <code>View</code> \u4E0E <code>ViewModel</code> \u7ED1\u5B9A\u8D77\u6765\uFF0C\u800C\u662F\u901A\u8FC7 <code>ViewModel</code> \u5C06\u89C6\u56FE\u4E2D\u7684\u72B6\u6001\u548C\u7528\u6237\u7684\u884C\u4E3A\u5206\u79BB\u51FA\u4E00\u4E2A\u62BD\u8C61\uFF0C\u8FD9\u624D\u662F <code>MVVM</code> \u7684\u7CBE\u9AD3</li></ul>',11),$c={id:"_27-2-virtual-dom",tabindex:"-1"},Yc=n("a",{class:"header-anchor",href:"#_27-2-virtual-dom","aria-hidden":"true"},"#",-1),Zc=s(),nl={href:"http://interview.poetries.top/docs/excellent.html#_27-2-virtual-dom",target:"_blank",rel:"noopener noreferrer"},sl=s("#"),al=s("27.2 Virtual DOM"),pl=e(`<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u4EC0\u4E48\u662F <code>Virtual DOM</code>\uFF1F\u4E3A\u4EC0\u4E48 <code>Virtual DOM</code>\u6BD4\u539F\u751F <code>DOM</code> \u5FEB\uFF1F</p></blockquote><ul><li>\u5927\u5BB6\u90FD\u77E5\u9053\u64CD\u4F5C <code>DOM</code> \u662F\u5F88\u6162\u7684\uFF0C\u4E3A\u4EC0\u4E48\u6162\u7684\u539F\u56E0\u4EE5\u53CA\u5728\u300C\u6D4F\u89C8\u5668\u6E32\u67D3\u539F\u7406\u300D\u7AE0\u8282\u4E2D\u8BF4\u8FC7\uFF0C\u8FD9\u91CC\u5C31\u4E0D\u518D\u8D58\u8FF0\u4E86- \u90A3\u4E48\u76F8\u8F83\u4E8E <code>DOM</code>\u6765\u8BF4\uFF0C\u64CD\u4F5C <code>JS</code> \u5BF9\u8C61\u4F1A\u5FEB\u5F88\u591A\uFF0C\u5E76\u4E14\u6211\u4EEC\u4E5F\u53EF\u4EE5\u901A\u8FC7 <code>JS</code>\u6765\u6A21\u62DF <code>DOM</code></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ul <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">tag</span><span class="token operator">:</span> <span class="token string">&#39;ul&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">&#39;list&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">tag</span><span class="token operator">:</span> <span class="token string">&#39;li&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token string">&#39;1&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u4E0A\u8FF0\u4EE3\u7801\u5BF9\u5E94\u7684 <code>DOM</code> \u5C31\u662F</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>list<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>\u90A3\u4E48\u65E2\u7136 <code>DOM</code> \u53EF\u4EE5\u901A\u8FC7 <code>JS</code> \u5BF9\u8C61\u6765\u6A21\u62DF\uFF0C\u53CD\u4E4B\u4E5F\u53EF\u4EE5\u901A\u8FC7 <code>JS</code> \u5BF9\u8C61\u6765\u6E32\u67D3\u51FA\u5BF9\u5E94\u7684 <code>DOM</code>\u3002\u5F53\u7136\u4E86\uFF0C\u901A\u8FC7 <code>JS</code> \u6765\u6A21\u62DF <code>DOM</code> \u5E76\u4E14\u6E32\u67D3\u5BF9\u5E94\u7684 <code>DOM</code> \u53EA\u662F\u7B2C\u4E00\u6B65\uFF0C\u96BE\u70B9\u5728\u4E8E\u5982\u4F55\u5224\u65AD\u65B0\u65E7\u4E24\u4E2A <code>JS</code> \u5BF9\u8C61\u7684\u6700\u5C0F\u5DEE\u5F02\u5E76\u4E14\u5B9E\u73B0\u5C40\u90E8\u66F4\u65B0 <code>DOM</code></li></ul><blockquote><p>\u9996\u5148 <code>DOM</code> \u662F\u4E00\u4E2A\u591A\u53C9\u6811\u7684\u7ED3\u6784\uFF0C\u5982\u679C\u9700\u8981\u5B8C\u6574\u7684\u5BF9\u6BD4\u4E24\u9897\u6811\u7684\u5DEE\u5F02\uFF0C\u90A3\u4E48\u9700\u8981\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u4F1A\u662F <code>O(n ^ 3)</code>\uFF0C\u8FD9\u4E2A\u590D\u6742\u5EA6\u80AF\u5B9A\u662F\u4E0D\u80FD\u63A5\u53D7\u7684\u3002\u4E8E\u662F <code>React</code> \u56E2\u961F\u4F18\u5316\u4E86\u7B97\u6CD5\uFF0C\u5B9E\u73B0\u4E86 <code>O(n)</code> \u7684\u590D\u6742\u5EA6\u6765\u5BF9\u6BD4\u5DEE\u5F02\u3002 \u5B9E\u73B0 <code>O(n)</code> \u590D\u6742\u5EA6\u7684\u5173\u952E\u5C31\u662F\u53EA\u5BF9\u6BD4\u540C\u5C42\u7684\u8282\u70B9\uFF0C\u800C\u4E0D\u662F\u8DE8\u5C42\u5BF9\u6BD4\uFF0C\u8FD9\u4E5F\u662F\u8003\u8651\u5230\u5728\u5B9E\u9645\u4E1A\u52A1\u4E2D\u5F88\u5C11\u4F1A\u53BB\u8DE8\u5C42\u7684\u79FB\u52A8 <code>DOM</code> \u5143\u7D20\u3002 \u6240\u4EE5\u5224\u65AD\u5DEE\u5F02\u7684\u7B97\u6CD5\u5C31\u5206\u4E3A\u4E86\u4E24\u6B65</p></blockquote><ul><li>\u9996\u5148\u4ECE\u4E0A\u81F3\u4E0B\uFF0C\u4ECE\u5DE6\u5F80\u53F3\u904D\u5386\u5BF9\u8C61\uFF0C\u4E5F\u5C31\u662F\u6811\u7684\u6DF1\u5EA6\u904D\u5386\uFF0C\u8FD9\u4E00\u6B65\u4E2D\u4F1A\u7ED9\u6BCF\u4E2A\u8282\u70B9\u6DFB\u52A0\u7D22\u5F15\uFF0C\u4FBF\u4E8E\u6700\u540E\u6E32\u67D3\u5DEE\u5F02</li><li>\u4E00\u65E6\u8282\u70B9\u6709\u5B50\u5143\u7D20\uFF0C\u5C31\u53BB\u5224\u65AD\u5B50\u5143\u7D20\u662F\u5426\u6709\u4E0D\u540C</li></ul><blockquote><p>\u5728\u7B2C\u4E00\u6B65\u7B97\u6CD5\u4E2D\u6211\u4EEC\u9700\u8981\u5224\u65AD\u65B0\u65E7\u8282\u70B9\u7684 <code>tagName</code> \u662F\u5426\u76F8\u540C\uFF0C\u5982\u679C\u4E0D\u76F8\u540C\u7684\u8BDD\u5C31\u4EE3\u8868\u8282\u70B9\u88AB\u66FF\u6362\u4E86\u3002\u5982\u679C\u6CA1\u6709\u66F4\u6539 <code>tagName</code> \u7684\u8BDD\uFF0C\u5C31\u9700\u8981\u5224\u65AD\u662F\u5426\u6709\u5B50\u5143\u7D20\uFF0C\u6709\u7684\u8BDD\u5C31\u8FDB\u884C\u7B2C\u4E8C\u6B65\u7B97\u6CD5\u3002</p></blockquote><blockquote><p>\u5728\u7B2C\u4E8C\u6B65\u7B97\u6CD5\u4E2D\uFF0C\u6211\u4EEC\u9700\u8981\u5224\u65AD\u539F\u672C\u7684\u5217\u8868\u4E2D\u662F\u5426\u6709\u8282\u70B9\u88AB\u79FB\u9664\uFF0C\u5728\u65B0\u7684\u5217\u8868\u4E2D\u9700\u8981\u5224\u65AD\u662F\u5426\u6709\u65B0\u7684\u8282\u70B9\u52A0\u5165\uFF0C\u8FD8\u9700\u8981\u5224\u65AD\u8282\u70B9\u662F\u5426\u6709\u79FB\u52A8\u3002</p></blockquote><p>\u4E3E\u4E2A\u4F8B\u5B50\u6765\u8BF4\uFF0C\u5047\u8BBE\u9875\u9762\u4E2D\u53EA\u6709\u4E00\u4E2A\u5217\u8868\uFF0C\u6211\u4EEC\u5BF9\u5217\u8868\u4E2D\u7684\u5143\u7D20\u8FDB\u884C\u4E86\u53D8\u66F4</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5047\u8BBE\u8FD9\u91CC\u6A21\u62DF\u4E00\u4E2A ul\uFF0C\u5176\u4E2D\u5305\u542B\u4E86 5 \u4E2A li</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token comment">// \u8FD9\u91CC\u66FF\u6362\u4E0A\u9762\u7684 li</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>\u4ECE\u4E0A\u8FF0\u4F8B\u5B50\u4E2D\uFF0C\u6211\u4EEC\u4E00\u773C\u5C31\u53EF\u4EE5\u770B\u51FA\u5148\u524D\u7684 <code>ul</code> \u4E2D\u7684\u7B2C\u4E09\u4E2A<code>li</code>\u88AB\u79FB\u9664\u4E86\uFF0C\u56DB\u4E94\u66FF\u6362\u4E86\u4F4D\u7F6E\u3002</p></blockquote><blockquote><p>\u90A3\u4E48\u5728\u5B9E\u9645\u7684\u7B97\u6CD5\u4E2D\uFF0C\u6211\u4EEC\u5982\u4F55\u53BB\u8BC6\u522B\u6539\u52A8\u7684\u662F\u54EA\u4E2A\u8282\u70B9\u5462\uFF1F\u8FD9\u5C31\u5F15\u5165\u4E86 <code>key</code> \u8FD9\u4E2A\u5C5E\u6027\uFF0C\u60F3\u5FC5\u5927\u5BB6\u5728 <code>Vue</code> \u6216\u8005 <code>React</code> \u7684\u5217\u8868\u4E2D\u90FD\u7528\u8FC7\u8FD9\u4E2A\u5C5E\u6027\u3002\u8FD9\u4E2A\u5C5E\u6027\u662F\u7528\u6765\u7ED9\u6BCF\u4E00\u4E2A\u8282\u70B9\u6253\u6807\u5FD7\u7684\uFF0C\u7528\u4E8E\u5224\u65AD\u662F\u5426\u662F\u540C\u4E00\u4E2A\u8282\u70B9\u3002</p></blockquote><ul><li>\u5F53\u7136\u5728\u5224\u65AD\u4EE5\u4E0A\u5DEE\u5F02\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u6211\u4EEC\u8FD8\u9700\u8981\u5224\u65AD\u8282\u70B9\u7684\u5C5E\u6027\u662F\u5426\u6709\u53D8\u5316\u7B49\u7B49\u3002</li><li>\u5F53\u6211\u4EEC\u5224\u65AD\u51FA\u4EE5\u4E0A\u7684\u5DEE\u5F02\u540E\uFF0C\u5C31\u53EF\u4EE5\u628A\u8FD9\u4E9B\u5DEE\u5F02\u8BB0\u5F55\u4E0B\u6765\u3002\u5F53\u5BF9\u6BD4\u5B8C\u4E24\u68F5\u6811\u4EE5\u540E\uFF0C\u5C31\u53EF\u4EE5\u901A\u8FC7\u5DEE\u5F02\u53BB\u5C40\u90E8\u66F4\u65B0 <code>DOM</code>\uFF0C\u5B9E\u73B0\u6027\u80FD\u7684\u6700\u4F18\u5316\u3002</li></ul><blockquote><p>\u5F53\u7136\u4E86 <code>Virtual DOM</code> \u63D0\u9AD8\u6027\u80FD\u662F\u5176\u4E2D\u4E00\u4E2A\u4F18\u52BF\uFF0C\u5176\u5B9E\u6700\u5927\u7684\u4F18\u52BF\u8FD8\u662F\u5728\u4E8E\uFF1A</p></blockquote><ul><li>\u5C06 <code>Virtual DOM</code>\u4F5C\u4E3A\u4E00\u4E2A\u517C\u5BB9\u5C42\uFF0C\u8BA9\u6211\u4EEC\u8FD8\u80FD\u5BF9\u63A5\u975E <code>Web</code> \u7AEF\u7684\u7CFB\u7EDF\uFF0C\u5B9E\u73B0\u8DE8\u7AEF\u5F00\u53D1\u3002</li><li>\u540C\u6837\u7684\uFF0C\u901A\u8FC7 <code>Virtual DOM</code>\u6211\u4EEC\u53EF\u4EE5\u6E32\u67D3\u5230\u5176\u4ED6\u7684\u5E73\u53F0\uFF0C\u6BD4\u5982\u5B9E\u73B0 <code>SSR</code>\u3001\u540C\u6784\u6E32\u67D3\u7B49\u7B49\u3002</li><li>\u5B9E\u73B0\u7EC4\u4EF6\u7684\u9AD8\u5EA6\u62BD\u8C61\u5316</li></ul>`,17),el={id:"_27-3-\u8DEF\u7531\u539F\u7406",tabindex:"-1"},tl=n("a",{class:"header-anchor",href:"#_27-3-\u8DEF\u7531\u539F\u7406","aria-hidden":"true"},"#",-1),ol=s(),cl={href:"http://interview.poetries.top/docs/excellent.html#_27-3-%E8%B7%AF%E7%94%B1%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},ll=s("#"),ul=s("27.3 \u8DEF\u7531\u539F\u7406"),rl=e('<blockquote><p>\u6D89\u53CA\u9762\u8BD5\u9898\uFF1A\u524D\u7AEF\u8DEF\u7531\u539F\u7406\uFF1F\u4E24\u79CD\u5B9E\u73B0\u65B9\u5F0F\u6709\u4EC0\u4E48\u533A\u522B\uFF1F</p></blockquote><blockquote><p>\u524D\u7AEF\u8DEF\u7531\u5B9E\u73B0\u8D77\u6765\u5176\u5B9E\u5F88\u7B80\u5355\uFF0C\u672C\u8D28\u5C31\u662F\u76D1\u542C <code>URL</code> \u7684\u53D8\u5316\uFF0C\u7136\u540E\u5339\u914D\u8DEF\u7531\u89C4\u5219\uFF0C\u663E\u793A\u76F8\u5E94\u7684\u9875\u9762\uFF0C\u5E76\u4E14\u65E0\u987B\u5237\u65B0\u9875\u9762\u3002\u76EE\u524D\u524D\u7AEF\u4F7F\u7528\u7684\u8DEF\u7531\u5C31\u53EA\u6709\u4E24\u79CD\u5B9E\u73B0\u65B9\u5F0F</p></blockquote><ul><li><code>Hash</code> \u6A21\u5F0F</li><li><code>History</code> \u6A21\u5F0F</li></ul><p><strong>1. Hash \u6A21\u5F0F</strong></p><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>www.test.com/#/` \u5C31\u662F `Hash URL`\uFF0C\u5F53 `#` \u540E\u9762\u7684\u54C8\u5E0C\u503C\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u53EF\u4EE5\u901A\u8FC7 `hashchange` \u4E8B\u4EF6\u6765\u76D1\u542C\u5230 `URL` \u7684\u53D8\u5316\uFF0C\u4ECE\u800C\u8FDB\u884C\u8DF3\u8F6C\u9875\u9762\uFF0C\u5E76\u4E14\u65E0\u8BBA\u54C8\u5E0C\u503C\u5982\u4F55\u53D8\u5316\uFF0C\u670D\u52A1\u7AEF\u63A5\u6536\u5230\u7684 `URL` \u8BF7\u6C42\u6C38\u8FDC\u662F `www.test.com\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;hashchange&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment">// ... \u5177\u4F53\u903B\u8F91</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p><code>Hash</code> \u6A21\u5F0F\u76F8\u5BF9\u6765\u8BF4\u66F4\u7B80\u5355\uFF0C\u5E76\u4E14\u517C\u5BB9\u6027\u4E5F\u66F4\u597D</p></blockquote><p><strong>2. History \u6A21\u5F0F</strong></p><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>History` \u6A21\u5F0F\u662F `HTML5` \u65B0\u63A8\u51FA\u7684\u529F\u80FD\uFF0C\u4E3B\u8981\u4F7F\u7528 `history.pushState` \u548C `history.replaceState` \u6539\u53D8 `URL\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><ul><li>\u901A\u8FC7 <code>History</code> \u6A21\u5F0F\u6539\u53D8 <code>URL</code> \u540C\u6837\u4E0D\u4F1A\u5F15\u8D77\u9875\u9762\u7684\u5237\u65B0\uFF0C\u53EA\u4F1A\u66F4\u65B0\u6D4F\u89C8\u5668\u7684\u5386\u53F2\u8BB0\u5F55\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u65B0\u589E\u5386\u53F2\u8BB0\u5F55</span>\nhistory<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span>stateObject<span class="token punctuation">,</span> title<span class="token punctuation">,</span> <span class="token constant">URL</span><span class="token punctuation">)</span>\n<span class="token comment">// \u66FF\u6362\u5F53\u524D\u5386\u53F2\u8BB0\u5F55</span>\nhistory<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span>stateObject<span class="token punctuation">,</span> title<span class="token punctuation">,</span> <span class="token constant">URL</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>\u5F53\u7528\u6237\u505A\u51FA\u6D4F\u89C8\u5668\u52A8\u4F5C\u65F6\uFF0C\u6BD4\u5982\u70B9\u51FB\u540E\u9000\u6309\u94AE\u65F6\u4F1A\u89E6\u53D1 <code>popState</code> \u4E8B\u4EF6</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;popstate&#39;</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment">// e.state \u5C31\u662F pushState(stateObject) \u4E2D\u7684 stateObject</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>state<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>\u4E24\u79CD\u6A21\u5F0F\u5BF9\u6BD4</strong></p><ul><li><code>Hash</code>\u6A21\u5F0F\u53EA\u53EF\u4EE5\u66F4\u6539 <code>#</code> \u540E\u9762\u7684\u5185\u5BB9\uFF0C<code>History</code> \u6A21\u5F0F\u53EF\u4EE5\u901A\u8FC7 <code>API</code> \u8BBE\u7F6E\u4EFB\u610F\u7684\u540C\u6E90 <code>URL</code></li><li><code>History</code> \u6A21\u5F0F\u53EF\u4EE5\u901A\u8FC7 <code>API</code> \u6DFB\u52A0\u4EFB\u610F\u7C7B\u578B\u7684\u6570\u636E\u5230\u5386\u53F2\u8BB0\u5F55\u4E2D\uFF0C<code>Hash</code> \u6A21\u5F0F\u53EA\u80FD\u66F4\u6539\u54C8\u5E0C\u503C\uFF0C\u4E5F\u5C31\u662F\u5B57\u7B26\u4E32</li><li><code>Hash</code> \u6A21\u5F0F\u65E0\u9700\u540E\u7AEF\u914D\u7F6E\uFF0C\u5E76\u4E14\u517C\u5BB9\u6027\u597D\u3002<code>History</code> \u6A21\u5F0F\u5728\u7528\u6237\u624B\u52A8\u8F93\u5165\u5730\u5740\u6216\u8005\u5237\u65B0\u9875\u9762\u7684\u65F6\u5019\u4F1A\u53D1\u8D77 <code>URL</code> \u8BF7\u6C42\uFF0C\u540E\u7AEF\u9700\u8981\u914D\u7F6E <code>index.html</code> \u9875\u9762\u7528\u4E8E\u5339\u914D\u4E0D\u5230\u9759\u6001\u8D44\u6E90\u7684\u65F6\u5019</li></ul>',15),il={id:"_27-4-vue-\u548C-react-\u4E4B\u95F4\u7684\u533A\u522B",tabindex:"-1"},kl=n("a",{class:"header-anchor",href:"#_27-4-vue-\u548C-react-\u4E4B\u95F4\u7684\u533A\u522B","aria-hidden":"true"},"#",-1),dl=s(),bl={href:"http://interview.poetries.top/docs/excellent.html#_27-4-vue-%E5%92%8C-react-%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},ml=s("#"),hl=s("27.4 Vue \u548C React \u4E4B\u95F4\u7684\u533A\u522B"),gl=e("<ul><li><code>Vue</code> \u7684\u8868\u5355\u53EF\u4EE5\u4F7F\u7528 <code>v-model</code> \u652F\u6301\u53CC\u5411\u7ED1\u5B9A\uFF0C\u76F8\u6BD4\u4E8E <code>React</code> \u6765\u8BF4\u5F00\u53D1\u4E0A\u66F4\u52A0\u65B9\u4FBF\uFF0C\u5F53\u7136\u4E86 <code>v-model</code> \u5176\u5B9E\u5C31\u662F\u4E2A\u8BED\u6CD5\u7CD6\uFF0C\u672C\u8D28\u4E0A\u548C <code>React</code> \u5199\u8868\u5355\u7684\u65B9\u5F0F\u6CA1\u4EC0\u4E48\u533A\u522B</li><li>\u6539\u53D8\u6570\u636E\u65B9\u5F0F\u4E0D\u540C\uFF0C<code>Vue</code> \u4FEE\u6539\u72B6\u6001\u76F8\u6BD4\u6765\u8BF4\u8981\u7B80\u5355\u8BB8\u591A\uFF0C<code>React</code> \u9700\u8981\u4F7F\u7528 <code>setState</code> \u6765\u6539\u53D8\u72B6\u6001\uFF0C\u5E76\u4E14\u4F7F\u7528\u8FD9\u4E2A <code>API</code> \u4E5F\u6709\u4E00\u4E9B\u5751\u70B9\u3002\u5E76\u4E14 <code>Vue</code> \u7684\u5E95\u5C42\u4F7F\u7528\u4E86\u4F9D\u8D56\u8FFD\u8E2A\uFF0C\u9875\u9762\u66F4\u65B0\u6E32\u67D3\u5DF2\u7ECF\u662F\u6700\u4F18\u7684\u4E86\uFF0C\u4F46\u662F <code>React</code> \u8FD8\u662F\u9700\u8981\u7528\u6237\u624B\u52A8\u53BB\u4F18\u5316\u8FD9\u65B9\u9762\u7684\u95EE\u9898\u3002</li><li><code>React 16</code>\u4EE5\u540E\uFF0C\u6709\u4E9B\u94A9\u5B50\u51FD\u6570\u4F1A\u6267\u884C\u591A\u6B21\uFF0C\u8FD9\u662F\u56E0\u4E3A\u5F15\u5165 <code>Fiber</code> \u7684\u539F\u56E0</li><li><code>React</code> \u9700\u8981\u4F7F\u7528 <code>JSX</code>\uFF0C\u6709\u4E00\u5B9A\u7684\u4E0A\u624B\u6210\u672C\uFF0C\u5E76\u4E14\u9700\u8981\u4E00\u6574\u5957\u7684\u5DE5\u5177\u94FE\u652F\u6301\uFF0C\u4F46\u662F\u5B8C\u5168\u53EF\u4EE5\u901A\u8FC7 <code>JS</code> \u6765\u63A7\u5236\u9875\u9762\uFF0C\u66F4\u52A0\u7684\u7075\u6D3B\u3002<code>Vue</code> \u4F7F\u7528\u4E86\u6A21\u677F\u8BED\u6CD5\uFF0C\u76F8\u6BD4\u4E8E <code>JSX</code> \u6765\u8BF4\u6CA1\u6709\u90A3\u4E48\u7075\u6D3B\uFF0C\u4F46\u662F\u5B8C\u5168\u53EF\u4EE5\u8131\u79BB\u5DE5\u5177\u94FE\uFF0C\u901A\u8FC7\u76F4\u63A5\u7F16\u5199 <code>render</code> \u51FD\u6570\u5C31\u80FD\u5728\u6D4F\u89C8\u5668\u4E2D\u8FD0\u884C\u3002</li><li>\u5728\u751F\u6001\u4E0A\u6765\u8BF4\uFF0C\u4E24\u8005\u5176\u5B9E\u6CA1\u591A\u5927\u7684\u5DEE\u8DDD\uFF0C\u5F53\u7136 <code>React</code>\u7684\u7528\u6237\u662F\u8FDC\u8FDC\u9AD8\u4E8E<code>Vue</code> \u7684</li></ul>",1),_l={id:"_28-vue\u5E38\u8003\u77E5\u8BC6\u70B9",tabindex:"-1"},fl=n("a",{class:"header-anchor",href:"#_28-vue\u5E38\u8003\u77E5\u8BC6\u70B9","aria-hidden":"true"},"#",-1),yl=s(),vl={href:"http://interview.poetries.top/docs/excellent.html#_28-vue%E5%B8%B8%E8%80%83%E7%9F%A5%E8%AF%86%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},wl=s("#"),xl=s("28 Vue\u5E38\u8003\u77E5\u8BC6\u70B9"),ql={id:"_28-1-\u751F\u547D\u5468\u671F\u94A9\u5B50\u51FD\u6570",tabindex:"-1"},El=n("a",{class:"header-anchor",href:"#_28-1-\u751F\u547D\u5468\u671F\u94A9\u5B50\u51FD\u6570","aria-hidden":"true"},"#",-1),jl=s(),Cl={href:"http://interview.poetries.top/docs/excellent.html#_28-1-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0",target:"_blank",rel:"noopener noreferrer"},Sl=s("#"),Al=s("28.1 \u751F\u547D\u5468\u671F\u94A9\u5B50\u51FD\u6570"),Bl=e("<ul><li>\u5728 <code>beforeCreate</code> \u94A9\u5B50\u51FD\u6570\u8C03\u7528\u7684\u65F6\u5019\uFF0C\u662F\u83B7\u53D6\u4E0D\u5230 <code>props</code> \u6216\u8005 <code>data</code> \u4E2D\u7684\u6570\u636E\u7684\uFF0C\u56E0\u4E3A\u8FD9\u4E9B\u6570\u636E\u7684\u521D\u59CB\u5316\u90FD\u5728 <code>initState</code> \u4E2D\u3002</li><li>\u7136\u540E\u4F1A\u6267\u884C <code>created</code> \u94A9\u5B50\u51FD\u6570\uFF0C\u5728\u8FD9\u4E00\u6B65\u7684\u65F6\u5019\u5DF2\u7ECF\u53EF\u4EE5\u8BBF\u95EE\u5230\u4E4B\u524D\u4E0D\u80FD\u8BBF\u95EE\u5230\u7684\u6570\u636E\uFF0C\u4F46\u662F\u8FD9\u65F6\u5019\u7EC4\u4EF6\u8FD8\u6CA1\u88AB\u6302\u8F7D\uFF0C\u6240\u4EE5\u662F\u770B\u4E0D\u5230\u7684\u3002</li><li>\u63A5\u4E0B\u6765\u4F1A\u5148\u6267\u884C <code>beforeMount</code> \u94A9\u5B50\u51FD\u6570\uFF0C\u5F00\u59CB\u521B\u5EFA <code>VDOM</code>\uFF0C\u6700\u540E\u6267\u884C <code>mounted</code> \u94A9\u5B50\uFF0C\u5E76\u5C06 <code>VDOM</code>\u6E32\u67D3\u4E3A\u771F\u5B9E <code>DOM</code> \u5E76\u4E14\u6E32\u67D3\u6570\u636E\u3002\u7EC4\u4EF6\u4E2D\u5982\u679C\u6709\u5B50\u7EC4\u4EF6\u7684\u8BDD\uFF0C\u4F1A\u9012\u5F52\u6302\u8F7D\u5B50\u7EC4\u4EF6\uFF0C\u53EA\u6709\u5F53\u6240\u6709\u5B50\u7EC4\u4EF6\u5168\u90E8\u6302\u8F7D\u5B8C\u6BD5\uFF0C\u624D\u4F1A\u6267\u884C\u6839\u7EC4\u4EF6\u7684\u6302\u8F7D\u94A9\u5B50\u3002</li><li>\u63A5\u4E0B\u6765\u662F\u6570\u636E\u66F4\u65B0\u65F6\u4F1A\u8C03\u7528\u7684\u94A9\u5B50\u51FD\u6570 <code>beforeUpdate</code> \u548C <code>updated</code>\uFF0C\u8FD9\u4E24\u4E2A\u94A9\u5B50\u51FD\u6570\u6CA1\u4EC0\u4E48\u597D\u8BF4\u7684\uFF0C\u5C31\u662F\u5206\u522B\u5728\u6570\u636E\u66F4\u65B0\u524D\u548C\u66F4\u65B0\u540E\u4F1A\u8C03\u7528\u3002</li><li>\u53E6\u5916\u8FD8\u6709 <code>keep-alive</code> \u72EC\u6709\u7684\u751F\u547D\u5468\u671F\uFF0C\u5206\u522B\u4E3A <code>activated</code> \u548C <code>deactivated</code>\u3002\u7528 <code>keep-alive</code> \u5305\u88F9\u7684\u7EC4\u4EF6\u5728\u5207\u6362\u65F6\u4E0D\u4F1A\u8FDB\u884C\u9500\u6BC1\uFF0C\u800C\u662F\u7F13\u5B58\u5230\u5185\u5B58\u4E2D\u5E76\u6267\u884C <code>deactivated</code> \u94A9\u5B50\u51FD\u6570\uFF0C\u547D\u4E2D\u7F13\u5B58\u6E32\u67D3\u540E\u4F1A\u6267\u884C <code>actived</code> \u94A9\u5B50\u51FD\u6570\u3002</li><li>\u6700\u540E\u5C31\u662F\u9500\u6BC1\u7EC4\u4EF6\u7684\u94A9\u5B50\u51FD\u6570 <code>beforeDestroy</code> \u548C <code>destroyed</code>\u3002\u524D\u8005\u9002\u5408\u79FB\u9664\u4E8B\u4EF6\u3001\u5B9A\u65F6\u5668\u7B49\u7B49\uFF0C\u5426\u5219\u53EF\u80FD\u4F1A\u5F15\u8D77\u5185\u5B58\u6CC4\u9732\u7684\u95EE\u9898\u3002\u7136\u540E\u8FDB\u884C\u4E00\u7CFB\u5217\u7684\u9500\u6BC1\u64CD\u4F5C\uFF0C\u5982\u679C\u6709\u5B50\u7EC4\u4EF6\u7684\u8BDD\uFF0C\u4E5F\u4F1A\u9012\u5F52\u9500\u6BC1\u5B50\u7EC4\u4EF6\uFF0C\u6240\u6709\u5B50\u7EC4\u4EF6\u90FD\u9500\u6BC1\u5B8C\u6BD5\u540E\u624D\u4F1A\u6267\u884C\u6839\u7EC4\u4EF6\u7684 <code>destroyed</code> \u94A9\u5B50\u51FD\u6570</li></ul>",1),Tl={id:"_28-2-\u7EC4\u4EF6\u901A\u4FE1",tabindex:"-1"},Pl=n("a",{class:"header-anchor",href:"#_28-2-\u7EC4\u4EF6\u901A\u4FE1","aria-hidden":"true"},"#",-1),Dl=s(),Ml={href:"http://interview.poetries.top/docs/excellent.html#_28-2-%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1",target:"_blank",rel:"noopener noreferrer"},Ol=s("#"),Rl=s("28.2 \u7EC4\u4EF6\u901A\u4FE1"),Fl=e(`<blockquote><p>\u7EC4\u4EF6\u901A\u4FE1\u4E00\u822C\u5206\u4E3A\u4EE5\u4E0B\u51E0\u79CD\u60C5\u51B5\uFF1A</p></blockquote><ul><li>\u7236\u5B50\u7EC4\u4EF6\u901A\u4FE1</li><li>\u5144\u5F1F\u7EC4\u4EF6\u901A\u4FE1</li><li>\u8DE8\u591A\u5C42\u7EA7\u7EC4\u4EF6\u901A\u4FE1</li></ul><blockquote><p>\u5BF9\u4E8E\u4EE5\u4E0A\u6BCF\u79CD\u60C5\u51B5\u90FD\u6709\u591A\u79CD\u65B9\u5F0F\u53BB\u5B9E\u73B0\uFF0C\u63A5\u4E0B\u6765\u5C31\u6765\u5B66\u4E60\u4E0B\u5982\u4F55\u5B9E\u73B0\u3002</p></blockquote><p><strong>1. \u7236\u5B50\u901A\u4FE1</strong></p><ul><li>\u7236\u7EC4\u4EF6\u901A\u8FC7 <code>props</code> \u4F20\u9012\u6570\u636E\u7ED9\u5B50\u7EC4\u4EF6\uFF0C\u5B50\u7EC4\u4EF6\u901A\u8FC7 <code>emit</code> \u53D1\u9001\u4E8B\u4EF6\u4F20\u9012\u6570\u636E\u7ED9\u7236\u7EC4\u4EF6\uFF0C\u8FD9\u4E24\u79CD\u65B9\u5F0F\u662F\u6700\u5E38\u7528\u7684\u7236\u5B50\u901A\u4FE1\u5B9E\u73B0\u529E\u6CD5\u3002</li><li>\u8FD9\u79CD\u7236\u5B50\u901A\u4FE1\u65B9\u5F0F\u4E5F\u5C31\u662F\u5178\u578B\u7684\u5355\u5411\u6570\u636E\u6D41\uFF0C\u7236\u7EC4\u4EF6\u901A\u8FC7 <code>props</code> \u4F20\u9012\u6570\u636E\uFF0C\u5B50\u7EC4\u4EF6\u4E0D\u80FD\u76F4\u63A5\u4FEE\u6539 <code>props</code>\uFF0C\u800C\u662F\u5FC5\u987B\u901A\u8FC7\u53D1\u9001\u4E8B\u4EF6\u7684\u65B9\u5F0F\u544A\u77E5\u7236\u7EC4\u4EF6\u4FEE\u6539\u6570\u636E\u3002</li><li>\u53E6\u5916\u8FD9\u4E24\u79CD\u65B9\u5F0F\u8FD8\u53EF\u4EE5\u4F7F\u7528\u8BED\u6CD5\u7CD6 <code>v-model</code> \u6765\u76F4\u63A5\u5B9E\u73B0\uFF0C\u56E0\u4E3A <code>v-model</code> \u9ED8\u8BA4\u4F1A\u89E3\u6790\u6210\u540D\u4E3A <code>value</code> \u7684 <code>prop</code> \u548C\u540D\u4E3A <code>input</code> \u7684\u4E8B\u4EF6\u3002\u8FD9\u79CD\u8BED\u6CD5\u7CD6\u7684\u65B9\u5F0F\u662F\u5178\u578B\u7684\u53CC\u5411\u7ED1\u5B9A\uFF0C\u5E38\u7528\u4E8E <code>UI</code> \u63A7\u4EF6\u4E0A\uFF0C\u4F46\u662F\u7A76\u5176\u6839\u672C\uFF0C\u8FD8\u662F\u901A\u8FC7\u4E8B\u4EF6\u7684\u65B9\u6CD5\u8BA9\u7236\u7EC4\u4EF6\u4FEE\u6539\u6570\u636E\u3002</li><li>\u5F53\u7136\u6211\u4EEC\u8FD8\u53EF\u4EE5\u901A\u8FC7\u8BBF\u95EE <code>$parent</code> \u6216\u8005 <code>$children</code> \u5BF9\u8C61\u6765\u8BBF\u95EE\u7EC4\u4EF6\u5B9E\u4F8B\u4E2D\u7684\u65B9\u6CD5\u548C\u6570\u636E\u3002</li><li>\u53E6\u5916\u5982\u679C\u4F60\u4F7F\u7528 Vue 2.3 \u53CA\u4EE5\u4E0A\u7248\u672C\u7684\u8BDD\u8FD8\u53EF\u4EE5\u4F7F\u7528 <code>$listeners</code> \u548C <code>.sync</code> \u8FD9\u4E24\u4E2A\u5C5E\u6027\u3002</li><li><code>$listeners</code> \u5C5E\u6027\u4F1A\u5C06\u7236\u7EC4\u4EF6\u4E2D\u7684 (\u4E0D\u542B <code>.native</code> \u4FEE\u9970\u5668\u7684) <code>v-on</code> \u4E8B\u4EF6\u76D1\u542C\u5668\u4F20\u9012\u7ED9\u5B50\u7EC4\u4EF6\uFF0C\u5B50\u7EC4\u4EF6\u53EF\u4EE5\u901A\u8FC7\u8BBF\u95EE <code>$listeners</code> \u6765\u81EA\u5B9A\u4E49\u76D1\u542C\u5668\u3002</li><li><code>.sync</code> \u5C5E\u6027\u662F\u4E2A\u8BED\u6CD5\u7CD6\uFF0C\u53EF\u4EE5\u5F88\u7B80\u5355\u7684\u5B9E\u73B0\u5B50\u7EC4\u4EF6\u4E0E\u7236\u7EC4\u4EF6\u901A\u4FE1</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--\u7236\u7EC4\u4EF6\u4E2D--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">:value.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--\u4EE5\u4E0A\u5199\u6CD5\u7B49\u540C\u4E8E--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>v =&gt; value = v<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comp</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--\u5B50\u7EC4\u4EF6\u4E2D--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&#39;update:value&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>2. \u5144\u5F1F\u7EC4\u4EF6\u901A\u4FE1</strong></p><blockquote><p>\u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\u53EF\u4EE5\u901A\u8FC7\u67E5\u627E\u7236\u7EC4\u4EF6\u4E2D\u7684\u5B50\u7EC4\u4EF6\u5B9E\u73B0\uFF0C\u4E5F\u5C31\u662F <code>this.$parent.$children</code>\uFF0C\u5728 <code>$children</code> \u4E2D\u53EF\u4EE5\u901A\u8FC7\u7EC4\u4EF6 <code>name</code> \u67E5\u8BE2\u5230\u9700\u8981\u7684\u7EC4\u4EF6\u5B9E\u4F8B\uFF0C\u7136\u540E\u8FDB\u884C\u901A\u4FE1\u3002</p></blockquote><p><strong>3. \u8DE8\u591A\u5C42\u6B21\u7EC4\u4EF6\u901A\u4FE1</strong></p><blockquote><p>\u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\u53EF\u4EE5\u4F7F\u7528 <code>Vue 2.2</code> \u65B0\u589E\u7684 <code>API provide / inject</code>\uFF0C\u867D\u7136\u6587\u6863\u4E2D\u4E0D\u63A8\u8350\u76F4\u63A5\u4F7F\u7528\u5728\u4E1A\u52A1\u4E2D\uFF0C\u4F46\u662F\u5982\u679C\u7528\u5F97\u597D\u7684\u8BDD\u8FD8\u662F\u5F88\u6709\u7528\u7684\u3002</p></blockquote><p>\u5047\u8BBE\u6709\u7236\u7EC4\u4EF6 <code>A</code>\uFF0C\u7136\u540E\u6709\u4E00\u4E2A\u8DE8\u591A\u5C42\u7EA7\u7684\u5B50\u7EC4\u4EF6 <code>B</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7236\u7EC4\u4EF6 A</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">provide</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u5B50\u7EC4\u4EF6 B</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u65E0\u8BBA\u8DE8\u51E0\u5C42\u90FD\u80FD\u83B7\u5F97\u7236\u7EC4\u4EF6\u7684 data \u5C5E\u6027</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token comment">// =&gt; 1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>\u7EC8\u6781\u529E\u6CD5\u89E3\u51B3\u4E00\u5207\u901A\u4FE1\u95EE\u9898</strong></p><blockquote><p>\u53EA\u8981\u4F60\u4E0D\u6015\u9EBB\u70E6\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>Vuex</code> \u6216\u8005 <code>Event Bus</code> \u89E3\u51B3\u4E0A\u8FF0\u6240\u6709\u7684\u901A\u4FE1\u60C5\u51B5\u3002</p></blockquote>`,14),Nl={id:"_28-3-extend-\u80FD\u505A\u4EC0\u4E48",tabindex:"-1"},Ll=n("a",{class:"header-anchor",href:"#_28-3-extend-\u80FD\u505A\u4EC0\u4E48","aria-hidden":"true"},"#",-1),Vl=s(),Il={href:"http://interview.poetries.top/docs/excellent.html#_28-3-extend-%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},Hl=s("#"),Jl=s("28.3 extend \u80FD\u505A\u4EC0\u4E48"),Ul=e(`<blockquote><p>\u8FD9\u4E2A <code>API</code> \u5F88\u5C11\u7528\u5230\uFF0C\u4F5C\u7528\u662F\u6269\u5C55\u7EC4\u4EF6\u751F\u6210\u4E00\u4E2A\u6784\u9020\u5668\uFF0C\u901A\u5E38\u4F1A\u4E0E <code>$mount</code> \u4E00\u8D77\u4F7F\u7528\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u521B\u5EFA\u7EC4\u4EF6\u6784\u9020\u5668</span>
<span class="token keyword">let</span> Component <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;&lt;div&gt;test&lt;/div&gt;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// \u6302\u8F7D\u5230 #app \u4E0A</span>
<span class="token keyword">new</span> <span class="token class-name">Component</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u9664\u4E86\u4E0A\u9762\u7684\u65B9\u5F0F\uFF0C\u8FD8\u53EF\u4EE5\u7528\u6765\u6269\u5C55\u5DF2\u6709\u7684\u7EC4\u4EF6</span>
<span class="token keyword">let</span> SuperComponent <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>Component<span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">SuperComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">new</span> <span class="token class-name">SuperComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div>`,2),zl={id:"_28-4-mixin-\u548C-mixins-\u533A\u522B",tabindex:"-1"},Wl=n("a",{class:"header-anchor",href:"#_28-4-mixin-\u548C-mixins-\u533A\u522B","aria-hidden":"true"},"#",-1),Xl=s(),Gl={href:"http://interview.poetries.top/docs/excellent.html#_28-4-mixin-%E5%92%8C-mixins-%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},Ql=s("#"),Kl=s("28.4 mixin \u548C mixins \u533A\u522B"),$l=e(`<blockquote><p><code>mixin</code> \u7528\u4E8E\u5168\u5C40\u6DF7\u5165\uFF0C\u4F1A\u5F71\u54CD\u5230\u6BCF\u4E2A\u7EC4\u4EF6\u5B9E\u4F8B\uFF0C\u901A\u5E38\u63D2\u4EF6\u90FD\u662F\u8FD9\u6837\u505A\u521D\u59CB\u5316\u7684</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...\u903B\u8F91</span>
        <span class="token comment">// \u8FD9\u79CD\u65B9\u5F0F\u4F1A\u5F71\u54CD\u5230\u6BCF\u4E2A\u7EC4\u4EF6\u7684 beforeCreate \u94A9\u5B50\u51FD\u6570</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>\u867D\u7136\u6587\u6863\u4E0D\u5EFA\u8BAE\u6211\u4EEC\u5728\u5E94\u7528\u4E2D\u76F4\u63A5\u4F7F\u7528 <code>mixin</code>\uFF0C\u4F46\u662F\u5982\u679C\u4E0D\u6EE5\u7528\u7684\u8BDD\u4E5F\u662F\u5F88\u6709\u5E2E\u52A9\u7684\uFF0C\u6BD4\u5982\u53EF\u4EE5\u5168\u5C40\u6DF7\u5165\u5C01\u88C5\u597D\u7684 <code>ajax</code> \u6216\u8005\u4E00\u4E9B\u5DE5\u5177\u51FD\u6570\u7B49\u7B49\u3002</li><li><code>mixins</code> \u5E94\u8BE5\u662F\u6211\u4EEC\u6700\u5E38\u4F7F\u7528\u7684\u6269\u5C55\u7EC4\u4EF6\u7684\u65B9\u5F0F\u4E86\u3002\u5982\u679C\u591A\u4E2A\u7EC4\u4EF6\u4E2D\u6709\u76F8\u540C\u7684\u4E1A\u52A1\u903B\u8F91\uFF0C\u5C31\u53EF\u4EE5\u5C06\u8FD9\u4E9B\u903B\u8F91\u5265\u79BB\u51FA\u6765\uFF0C\u901A\u8FC7 <code>mixins</code> \u6DF7\u5165\u4EE3\u7801\uFF0C\u6BD4\u5982\u4E0A\u62C9\u4E0B\u62C9\u52A0\u8F7D\u6570\u636E\u8FD9\u79CD\u903B\u8F91\u7B49\u7B49\u3002</li><li>\u53E6\u5916\u9700\u8981\u6CE8\u610F\u7684\u662F <code>mixins</code> \u6DF7\u5165\u7684\u94A9\u5B50\u51FD\u6570\u4F1A\u5148\u4E8E\u7EC4\u4EF6\u5185\u7684\u94A9\u5B50\u51FD\u6570\u6267\u884C\uFF0C\u5E76\u4E14\u5728\u9047\u5230\u540C\u540D\u9009\u9879\u7684\u65F6\u5019\u4E5F\u4F1A\u6709\u9009\u62E9\u6027\u7684\u8FDB\u884C\u5408\u5E76\uFF0C\u5177\u4F53\u53EF\u4EE5\u9605\u8BFB \u6587\u6863\u3002</li></ul>`,3),Yl={id:"_28-5-computed-\u548C-watch-\u533A\u522B",tabindex:"-1"},Zl=n("a",{class:"header-anchor",href:"#_28-5-computed-\u548C-watch-\u533A\u522B","aria-hidden":"true"},"#",-1),nu=s(),su={href:"http://interview.poetries.top/docs/excellent.html#_28-5-computed-%E5%92%8C-watch-%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},au=s("#"),pu=s("28.5 computed \u548C watch \u533A\u522B"),eu=e(`<ul><li><code>computed</code> \u662F\u8BA1\u7B97\u5C5E\u6027\uFF0C\u4F9D\u8D56\u5176\u4ED6\u5C5E\u6027\u8BA1\u7B97\u503C\uFF0C\u5E76\u4E14 <code>computed</code> \u7684\u503C\u6709\u7F13\u5B58\uFF0C\u53EA\u6709\u5F53\u8BA1\u7B97\u503C\u53D8\u5316\u624D\u4F1A\u8FD4\u56DE\u5185\u5BB9\u3002</li><li><code>watch</code> \u76D1\u542C\u5230\u503C\u7684\u53D8\u5316\u5C31\u4F1A\u6267\u884C\u56DE\u8C03\uFF0C\u5728\u56DE\u8C03\u4E2D\u53EF\u4EE5\u8FDB\u884C\u4E00\u4E9B\u903B\u8F91\u64CD\u4F5C\u3002</li><li>\u6240\u4EE5\u4E00\u822C\u6765\u8BF4\u9700\u8981\u4F9D\u8D56\u522B\u7684\u5C5E\u6027\u6765\u52A8\u6001\u83B7\u5F97\u503C\u7684\u65F6\u5019\u53EF\u4EE5\u4F7F\u7528 <code>computed</code>\uFF0C\u5BF9\u4E8E\u76D1\u542C\u5230\u503C\u7684\u53D8\u5316\u9700\u8981\u505A\u4E00\u4E9B\u590D\u6742\u4E1A\u52A1\u903B\u8F91\u7684\u60C5\u51B5\u53EF\u4EE5\u4F7F\u7528 <code>watch</code>\u3002</li><li>\u53E6\u5916 <code>computer</code> \u548C <code>watch</code> \u8FD8\u90FD\u652F\u6301\u5BF9\u8C61\u7684\u5199\u6CD5\uFF0C\u8FD9\u79CD\u65B9\u5F0F\u77E5\u9053\u7684\u4EBA\u5E76\u4E0D\u591A\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>vm<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span><span class="token string">&#39;obj&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u6DF1\u5EA6\u904D\u5386</span>
    <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// \u7ACB\u5373\u89E6\u53D1</span>
    <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// \u6267\u884C\u7684\u51FD\u6570</span>
    <span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">aPlus</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// this.aPlus \u65F6\u89E6\u53D1</span>
      <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// this.aPlus = 1 \u65F6\u89E6\u53D1</span>
      <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> v <span class="token operator">-</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div>`,2),tu={id:"_28-6-keep-alive-\u7EC4\u4EF6\u6709\u4EC0\u4E48\u4F5C\u7528",tabindex:"-1"},ou=n("a",{class:"header-anchor",href:"#_28-6-keep-alive-\u7EC4\u4EF6\u6709\u4EC0\u4E48\u4F5C\u7528","aria-hidden":"true"},"#",-1),cu=s(),lu={href:"http://interview.poetries.top/docs/excellent.html#_28-6-keep-alive-%E7%BB%84%E4%BB%B6%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},uu=s("#"),ru=s("28.6 keep-alive \u7EC4\u4EF6\u6709\u4EC0\u4E48\u4F5C\u7528"),iu=e("<ul><li>\u5982\u679C\u4F60\u9700\u8981\u5728\u7EC4\u4EF6\u5207\u6362\u7684\u65F6\u5019\uFF0C\u4FDD\u5B58\u4E00\u4E9B\u7EC4\u4EF6\u7684\u72B6\u6001\u9632\u6B62\u591A\u6B21\u6E32\u67D3\uFF0C\u5C31\u53EF\u4EE5\u4F7F\u7528 <code>keep-alive</code> \u7EC4\u4EF6\u5305\u88F9\u9700\u8981\u4FDD\u5B58\u7684\u7EC4\u4EF6\u3002</li><li>\u5BF9\u4E8E <code>keep-alive</code> \u7EC4\u4EF6\u6765\u8BF4\uFF0C\u5B83\u62E5\u6709\u4E24\u4E2A\u72EC\u6709\u7684\u751F\u547D\u5468\u671F\u94A9\u5B50\u51FD\u6570\uFF0C\u5206\u522B\u4E3A <code>activated</code> \u548C <code>deactivated</code> \u3002\u7528 <code>keep-alive</code> \u5305\u88F9\u7684\u7EC4\u4EF6\u5728\u5207\u6362\u65F6\u4E0D\u4F1A\u8FDB\u884C\u9500\u6BC1\uFF0C\u800C\u662F\u7F13\u5B58\u5230\u5185\u5B58\u4E2D\u5E76\u6267\u884C <code>deactivated</code> \u94A9\u5B50\u51FD\u6570\uFF0C\u547D\u4E2D\u7F13\u5B58\u6E32\u67D3\u540E\u4F1A\u6267\u884C <code>actived</code> \u94A9\u5B50\u51FD\u6570\u3002</li></ul>",1),ku={id:"_28-7-v-show-\u4E0E-v-if-\u533A\u522B",tabindex:"-1"},du=n("a",{class:"header-anchor",href:"#_28-7-v-show-\u4E0E-v-if-\u533A\u522B","aria-hidden":"true"},"#",-1),bu=s(),mu={href:"http://interview.poetries.top/docs/excellent.html#_28-7-v-show-%E4%B8%8E-v-if-%E5%8C%BA%E5%88%AB",target:"_blank",rel:"noopener noreferrer"},hu=s("#"),gu=s("28.7 v-show \u4E0E v-if \u533A\u522B"),_u=e("<ul><li><code>v-show</code> \u53EA\u662F\u5728 <code>display: none</code> \u548C <code>display: block</code> \u4E4B\u95F4\u5207\u6362\u3002\u65E0\u8BBA\u521D\u59CB\u6761\u4EF6\u662F\u4EC0\u4E48\u90FD\u4F1A\u88AB\u6E32\u67D3\u51FA\u6765\uFF0C\u540E\u9762\u53EA\u9700\u8981\u5207\u6362 <code>CSS</code>\uFF0C<code>DOM</code> \u8FD8\u662F\u4E00\u76F4\u4FDD\u7559\u7740\u7684\u3002\u6240\u4EE5\u603B\u7684\u6765\u8BF4 <code>v-show</code> \u5728\u521D\u59CB\u6E32\u67D3\u65F6\u6709\u66F4\u9AD8\u7684\u5F00\u9500\uFF0C\u4F46\u662F\u5207\u6362\u5F00\u9500\u5F88\u5C0F\uFF0C\u66F4\u9002\u5408\u4E8E\u9891\u7E41\u5207\u6362\u7684\u573A\u666F\u3002</li><li><code>v-if</code> \u7684\u8BDD\u5C31\u5F97\u8BF4\u5230 <code>Vue</code> \u5E95\u5C42\u7684\u7F16\u8BD1\u4E86\u3002\u5F53\u5C5E\u6027\u521D\u59CB\u4E3A <code>false</code> \u65F6\uFF0C\u7EC4\u4EF6\u5C31\u4E0D\u4F1A\u88AB\u6E32\u67D3\uFF0C\u76F4\u5230\u6761\u4EF6\u4E3A <code>true</code>\uFF0C\u5E76\u4E14\u5207\u6362\u6761\u4EF6\u65F6\u4F1A\u89E6\u53D1\u9500\u6BC1/\u6302\u8F7D\u7EC4\u4EF6\uFF0C\u6240\u4EE5\u603B\u7684\u6765\u8BF4\u5728\u5207\u6362\u65F6\u5F00\u9500\u66F4\u9AD8\uFF0C\u66F4\u9002\u5408\u4E0D\u7ECF\u5E38\u5207\u6362\u7684\u573A\u666F\u3002</li><li>\u5E76\u4E14\u57FA\u4E8E <code>v-if</code> \u7684\u8FD9\u79CD\u60F0\u6027\u6E32\u67D3\u673A\u5236\uFF0C\u53EF\u4EE5\u5728\u5FC5\u8981\u7684\u65F6\u5019\u624D\u53BB\u6E32\u67D3\u7EC4\u4EF6\uFF0C\u51CF\u5C11\u6574\u4E2A\u9875\u9762\u7684\u521D\u59CB\u6E32\u67D3\u5F00\u9500\u3002</li></ul>",1),fu={id:"_28-8-\u7EC4\u4EF6\u4E2D-data-\u4EC0\u4E48\u65F6\u5019\u53EF\u4EE5\u4F7F\u7528\u5BF9\u8C61",tabindex:"-1"},yu=n("a",{class:"header-anchor",href:"#_28-8-\u7EC4\u4EF6\u4E2D-data-\u4EC0\u4E48\u65F6\u5019\u53EF\u4EE5\u4F7F\u7528\u5BF9\u8C61","aria-hidden":"true"},"#",-1),vu=s(),wu={href:"http://interview.poetries.top/docs/excellent.html#_28-8-%E7%BB%84%E4%BB%B6%E4%B8%AD-data-%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1",target:"_blank",rel:"noopener noreferrer"},xu=s("#"),qu=s("28.8 \u7EC4\u4EF6\u4E2D data \u4EC0\u4E48\u65F6\u5019\u53EF\u4EE5\u4F7F\u7528\u5BF9\u8C61"),Eu=e("<blockquote><p>\u8FD9\u9053\u9898\u76EE\u5176\u5B9E\u66F4\u591A\u8003\u7684\u662F JS \u529F\u5E95\u3002</p></blockquote><ul><li>\u7EC4\u4EF6\u590D\u7528\u65F6\u6240\u6709\u7EC4\u4EF6\u5B9E\u4F8B\u90FD\u4F1A\u5171\u4EAB <code>data</code>\uFF0C\u5982\u679C <code>data</code> \u662F\u5BF9\u8C61\u7684\u8BDD\uFF0C\u5C31\u4F1A\u9020\u6210\u4E00\u4E2A\u7EC4\u4EF6\u4FEE\u6539 <code>data</code> \u4EE5\u540E\u4F1A\u5F71\u54CD\u5230\u5176\u4ED6\u6240\u6709\u7EC4\u4EF6\uFF0C\u6240\u4EE5\u9700\u8981\u5C06 <code>data</code> \u5199\u6210\u51FD\u6570\uFF0C\u6BCF\u6B21\u7528\u5230\u5C31\u8C03\u7528\u4E00\u6B21\u51FD\u6570\u83B7\u5F97\u65B0\u7684\u6570\u636E\u3002</li><li>\u5F53\u6211\u4EEC\u4F7F\u7528 <code>new Vue()</code> \u7684\u65B9\u5F0F\u7684\u65F6\u5019\uFF0C\u65E0\u8BBA\u6211\u4EEC\u5C06 <code>data</code> \u8BBE\u7F6E\u4E3A\u5BF9\u8C61\u8FD8\u662F\u51FD\u6570\u90FD\u662F\u53EF\u4EE5\u7684\uFF0C\u56E0\u4E3A <code>new Vue()</code> \u7684\u65B9\u5F0F\u662F\u751F\u6210\u4E00\u4E2A\u6839\u7EC4\u4EF6\uFF0C\u8BE5\u7EC4\u4EF6\u4E0D\u4F1A\u590D\u7528\uFF0C\u4E5F\u5C31\u4E0D\u5B58\u5728\u5171\u4EAB <code>data</code> \u7684\u60C5\u51B5\u4E86</li></ul><blockquote><p>\u4EE5\u4E0B\u662F\u8FDB\u9636\u90E8\u5206</p></blockquote>",3),ju={id:"_28-9-\u54CD\u5E94\u5F0F\u539F\u7406",tabindex:"-1"},Cu=n("a",{class:"header-anchor",href:"#_28-9-\u54CD\u5E94\u5F0F\u539F\u7406","aria-hidden":"true"},"#",-1),Su=s(),Au={href:"http://interview.poetries.top/docs/excellent.html#_28-9-%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"},Bu=s("#"),Tu=s("28.9 \u54CD\u5E94\u5F0F\u539F\u7406"),Pu=e(`<blockquote><p><code>Vue</code> \u5185\u90E8\u4F7F\u7528\u4E86 <code>Object.defineProperty()</code> \u6765\u5B9E\u73B0\u6570\u636E\u54CD\u5E94\u5F0F\uFF0C\u901A\u8FC7\u8FD9\u4E2A\u51FD\u6570\u53EF\u4EE5\u76D1\u542C\u5230 <code>set</code> \u548C <code>get</code> \u7684\u4E8B\u4EF6</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;poetries&#39;</span> <span class="token punctuation">}</span>
<span class="token function">observe</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> data<span class="token punctuation">.</span>name <span class="token comment">// -&gt; get value</span>
data<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;yyy&#39;</span> <span class="token comment">// -&gt; change value</span>

<span class="token keyword">function</span> <span class="token function">observe</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5224\u65AD\u7C7B\u578B</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>obj <span class="token operator">||</span> <span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">defineReactive</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u9012\u5F52\u5B50\u5C5E\u6027</span>
  <span class="token function">observe</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u53EF\u679A\u4E3E</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// \u53EF\u914D\u7F6E</span>
    <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// \u81EA\u5B9A\u4E49\u51FD\u6570</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveGetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;get value&#39;</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> val
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveSetter</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;change value&#39;</span><span class="token punctuation">)</span>
      val <span class="token operator">=</span> newVal
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u4EE3\u7801\u7B80\u5355\u7684\u5B9E\u73B0\u4E86\u5982\u4F55\u76D1\u542C\u6570\u636E\u7684 <code>set</code> \u548C <code>get</code> \u7684\u4E8B\u4EF6\uFF0C\u4F46\u662F\u4EC5\u4EC5\u5982\u6B64\u662F\u4E0D\u591F\u7684\uFF0C\u56E0\u4E3A\u81EA\u5B9A\u4E49\u7684\u51FD\u6570\u4E00\u5F00\u59CB\u662F\u4E0D\u4F1A\u6267\u884C\u7684\u3002\u53EA\u6709\u5148\u6267\u884C\u4E86\u4F9D\u8D56\u6536\u96C6\uFF0C\u4ECE\u80FD\u5728\u5C5E\u6027\u66F4\u65B0\u7684\u65F6\u5019\u6D3E\u53D1\u66F4\u65B0\uFF0C\u6240\u4EE5\u63A5\u4E0B\u6765\u6211\u4EEC\u9700\u8981\u5148\u89E6\u53D1\u4F9D\u8D56\u6536\u96C6</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    {{name}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>\u5728\u89E3\u6790\u5982\u4E0A\u6A21\u677F\u4EE3\u7801\u65F6\uFF0C\u9047\u5230 <code>{name}</code> \u5C31\u4F1A\u8FDB\u884C\u4F9D\u8D56\u6536\u96C6\u3002</li><li>\u63A5\u4E0B\u6765\u6211\u4EEC\u5148\u6765\u5B9E\u73B0\u4E00\u4E2A <code>Dep</code> \u7C7B\uFF0C\u7528\u4E8E\u89E3\u8026\u5C5E\u6027\u7684\u4F9D\u8D56\u6536\u96C6\u548C\u6D3E\u53D1\u66F4\u65B0\u64CD\u4F5C</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u901A\u8FC7 Dep \u89E3\u8026\u5C5E\u6027\u7684\u4F9D\u8D56\u548C\u66F4\u65B0\u64CD\u4F5C</span>
<span class="token keyword">class</span> <span class="token class-name">Dep</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u6DFB\u52A0\u4F9D\u8D56</span>
  <span class="token function">addSub</span><span class="token punctuation">(</span><span class="token parameter">sub</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u66F4\u65B0</span>
  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">sub</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      sub<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u5168\u5C40\u5C5E\u6027\uFF0C\u901A\u8FC7\u8BE5\u5C5E\u6027\u914D\u7F6E Watcher</span>
Dep<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">null</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u7684\u4EE3\u7801\u5B9E\u73B0\u5F88\u7B80\u5355\uFF0C\u5F53\u9700\u8981\u4F9D\u8D56\u6536\u96C6\u7684\u65F6\u5019\u8C03\u7528 <code>addSub</code>\uFF0C\u5F53\u9700\u8981\u6D3E\u53D1\u66F4\u65B0\u7684\u65F6\u5019\u8C03\u7528 <code>notify</code>\u3002</p></blockquote><blockquote><p>\u63A5\u4E0B\u6765\u6211\u4EEC\u5148\u6765\u7B80\u5355\u7684\u4E86\u89E3\u4E0B <code>Vue</code>\u7EC4\u4EF6\u6302\u8F7D\u65F6\u6DFB\u52A0\u54CD\u5E94\u5F0F\u7684\u8FC7\u7A0B\u3002\u5728\u7EC4\u4EF6\u6302\u8F7D\u65F6\uFF0C\u4F1A\u5148\u5BF9\u6240\u6709\u9700\u8981\u7684\u5C5E\u6027\u8C03\u7528 <code>Object.defineProperty()</code>\uFF0C\u7136\u540E\u5B9E\u4F8B\u5316 <code>Watcher</code>\uFF0C\u4F20\u5165\u7EC4\u4EF6\u66F4\u65B0\u7684\u56DE\u8C03\u3002\u5728\u5B9E\u4F8B\u5316\u8FC7\u7A0B\u4E2D\uFF0C\u4F1A\u5BF9\u6A21\u677F\u4E2D\u7684\u5C5E\u6027\u8FDB\u884C\u6C42\u503C\uFF0C\u89E6\u53D1\u4F9D\u8D56\u6536\u96C6\u3002</p></blockquote><p>\u56E0\u4E3A\u8FD9\u4E00\u5C0F\u8282\u4E3B\u8981\u76EE\u7684\u662F\u5B66\u4E60\u54CD\u5E94\u5F0F\u539F\u7406\u7684\u7EC6\u8282\uFF0C\u6240\u4EE5\u63A5\u4E0B\u6765\u7684\u4EE3\u7801\u4F1A\u7B80\u7565\u7684\u8868\u8FBE\u89E6\u53D1\u4F9D\u8D56\u6536\u96C6\u65F6\u7684\u64CD\u4F5C\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Watcher</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5C06 Dep.target \u6307\u5411\u81EA\u5DF1</span>
    <span class="token comment">// \u7136\u540E\u89E6\u53D1\u5C5E\u6027\u7684 getter \u6DFB\u52A0\u76D1\u542C</span>
    <span class="token comment">// \u6700\u540E\u5C06 Dep.target \u7F6E\u7A7A</span>
    Dep<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cb <span class="token operator">=</span> cb
    <span class="token keyword">this</span><span class="token punctuation">.</span>obj <span class="token operator">=</span> obj
    <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    Dep<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
  <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u83B7\u5F97\u65B0\u503C</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">]</span>
    <span class="token comment">// \u8C03\u7528 update \u65B9\u6CD5\u66F4\u65B0 Dom</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">cb</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u5C31\u662F <code>Watcher</code>\u7684\u7B80\u5355\u5B9E\u73B0\uFF0C\u5728\u6267\u884C\u6784\u9020\u51FD\u6570\u7684\u65F6\u5019\u5C06 <code>Dep.target</code>\u6307\u5411\u81EA\u8EAB\uFF0C\u4ECE\u800C\u4F7F\u5F97\u6536\u96C6\u5230\u4E86\u5BF9\u5E94\u7684 <code>Watcher</code>\uFF0C\u5728\u6D3E\u53D1\u66F4\u65B0\u7684\u65F6\u5019\u53D6\u51FA\u5BF9\u5E94\u7684 <code>Watcher</code> \u7136\u540E\u6267\u884C <code>update</code> \u51FD\u6570\u3002</p></blockquote><p>\u63A5\u4E0B\u6765\uFF0C\u9700\u8981\u5BF9<code>defineReactive</code> \u51FD\u6570\u8FDB\u884C\u6539\u9020\uFF0C\u5728\u81EA\u5B9A\u4E49\u51FD\u6570\u4E2D\u6DFB\u52A0\u4F9D\u8D56\u6536\u96C6\u548C\u6D3E\u53D1\u66F4\u65B0\u76F8\u5173\u7684\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u9012\u5F52\u5B50\u5C5E\u6027</span>
  <span class="token function">observe</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  <span class="token keyword">let</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveGetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;get value&#39;</span><span class="token punctuation">)</span>
      <span class="token comment">// \u5C06 Watcher \u6DFB\u52A0\u5230\u8BA2\u9605</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Dep<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        dp<span class="token punctuation">.</span><span class="token function">addSub</span><span class="token punctuation">(</span>Dep<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> val
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveSetter</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;change value&#39;</span><span class="token punctuation">)</span>
      val <span class="token operator">=</span> newVal
      <span class="token comment">// \u6267\u884C watcher \u7684 update \u65B9\u6CD5</span>
      dp<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u6240\u6709\u4EE3\u7801\u5B9E\u73B0\u4E86\u4E00\u4E2A\u7B80\u6613\u7684\u6570\u636E\u54CD\u5E94\u5F0F\uFF0C\u6838\u5FC3\u601D\u8DEF\u5C31\u662F\u624B\u52A8\u89E6\u53D1\u4E00\u6B21\u5C5E\u6027\u7684 <code>getter</code> \u6765\u5B9E\u73B0\u4F9D\u8D56\u6536\u96C6\u3002</p></blockquote><p>\u73B0\u5728\u6211\u4EEC\u5C31\u6765\u6D4B\u8BD5\u4E0B\u4EE3\u7801\u7684\u6548\u679C\uFF0C\u53EA\u9700\u8981\u628A\u6240\u6709\u7684\u4EE3\u7801\u590D\u5236\u5230\u6D4F\u89C8\u5668\u4E2D\u6267\u884C\uFF0C\u5C31\u4F1A\u53D1\u73B0\u9875\u9762\u7684\u5185\u5BB9\u5168\u90E8\u88AB\u66FF\u6362\u4E86</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;poetries&#39;</span> <span class="token punctuation">}</span>
<span class="token function">observe</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> value
<span class="token punctuation">}</span>
<span class="token comment">// \u6A21\u62DF\u89E3\u6790\u5230 \`{{name}}\` \u89E6\u53D1\u7684\u64CD\u4F5C</span>
<span class="token keyword">new</span> <span class="token class-name">Watcher</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> update<span class="token punctuation">)</span>
<span class="token comment">// update Dom innerText</span>
data<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;yyy&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div>`,16),Du={id:"_28-9-1-object-defineproperty-\u7684\u7F3A\u9677",tabindex:"-1"},Mu=n("a",{class:"header-anchor",href:"#_28-9-1-object-defineproperty-\u7684\u7F3A\u9677","aria-hidden":"true"},"#",-1),Ou=s(),Ru={href:"http://interview.poetries.top/docs/excellent.html#_28-9-1-object-defineproperty-%E7%9A%84%E7%BC%BA%E9%99%B7",target:"_blank",rel:"noopener noreferrer"},Fu=s("#"),Nu=s("28.9.1 Object.defineProperty \u7684\u7F3A\u9677"),Lu=e(`<ul><li>\u4EE5\u4E0A\u5DF2\u7ECF\u5206\u6790\u5B8C\u4E86 <code>Vue</code> \u7684\u54CD\u5E94\u5F0F\u539F\u7406\uFF0C\u63A5\u4E0B\u6765\u8BF4\u4E00\u70B9 <code>Object.defineProperty</code> \u4E2D\u7684\u7F3A\u9677\u3002</li><li>\u5982\u679C\u901A\u8FC7\u4E0B\u6807\u65B9\u5F0F\u4FEE\u6539\u6570\u7EC4\u6570\u636E\u6216\u8005\u7ED9\u5BF9\u8C61\u65B0\u589E\u5C5E\u6027\u5E76\u4E0D\u4F1A\u89E6\u53D1\u7EC4\u4EF6\u7684\u91CD\u65B0\u6E32\u67D3\uFF0C\u56E0\u4E3A<code>Object.defineProperty</code> \u4E0D\u80FD\u62E6\u622A\u5230\u8FD9\u4E9B\u64CD\u4F5C\uFF0C\u66F4\u7CBE\u786E\u7684\u6765\u8BF4\uFF0C\u5BF9\u4E8E\u6570\u7EC4\u800C\u8A00\uFF0C\u5927\u90E8\u5206\u64CD\u4F5C\u90FD\u662F\u62E6\u622A\u4E0D\u5230\u7684\uFF0C\u53EA\u662F <code>Vue</code> \u5185\u90E8\u901A\u8FC7\u91CD\u5199\u51FD\u6570\u7684\u65B9\u5F0F\u89E3\u51B3\u4E86\u8FD9\u4E2A\u95EE\u9898\u3002</li><li>\u5BF9\u4E8E\u7B2C\u4E00\u4E2A\u95EE\u9898\uFF0C<code>Vue</code> \u63D0\u4F9B\u4E86\u4E00\u4E2A <code>API</code> \u89E3\u51B3</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">set</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">target</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span> <span class="token operator">|</span> Object<span class="token punctuation">,</span> <span class="token literal-property property">key</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">val</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span><span class="token operator">:</span> any <span class="token punctuation">{</span>
  <span class="token comment">// \u5224\u65AD\u662F\u5426\u4E3A\u6570\u7EC4\u4E14\u4E0B\u6807\u662F\u5426\u6709\u6548</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isValidArrayIndex</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8C03\u7528 splice \u51FD\u6570\u89E6\u53D1\u6D3E\u53D1\u66F4\u65B0</span>
    <span class="token comment">// \u8BE5\u51FD\u6570\u5DF2\u88AB\u91CD\u5199</span>
    target<span class="token punctuation">.</span>length <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>length<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
    target<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span>
    <span class="token keyword">return</span> val
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5224\u65AD key \u662F\u5426\u5DF2\u7ECF\u5B58\u5728</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> target <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token punctuation">(</span>key <span class="token keyword">in</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val
    <span class="token keyword">return</span> val
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> ob <span class="token operator">=</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>__ob__
  <span class="token comment">// \u5982\u679C\u5BF9\u8C61\u4E0D\u662F\u54CD\u5E94\u5F0F\u5BF9\u8C61\uFF0C\u5C31\u8D4B\u503C\u8FD4\u56DE</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ob<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val
    <span class="token keyword">return</span> val
  <span class="token punctuation">}</span>
  <span class="token comment">// \u8FDB\u884C\u53CC\u5411\u7ED1\u5B9A</span>
  <span class="token function">defineReactive</span><span class="token punctuation">(</span>ob<span class="token punctuation">.</span>value<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val<span class="token punctuation">)</span>
  <span class="token comment">// \u624B\u52A8\u6D3E\u53D1\u66F4\u65B0</span>
  ob<span class="token punctuation">.</span>dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> val
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u6570\u7EC4\u800C\u8A00\uFF0C<code>Vue</code>\u5185\u90E8\u91CD\u5199\u4E86\u4EE5\u4E0B\u51FD\u6570\u5B9E\u73B0\u6D3E\u53D1\u66F4\u65B0</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u83B7\u5F97\u6570\u7EC4\u539F\u578B</span>
<span class="token keyword">const</span> arrayProto <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype
<span class="token keyword">export</span> <span class="token keyword">const</span> arrayMethods <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>arrayProto<span class="token punctuation">)</span>
<span class="token comment">// \u91CD\u5199\u4EE5\u4E0B\u51FD\u6570</span>
<span class="token keyword">const</span> methodsToPatch <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">&#39;push&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;pop&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;shift&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;unshift&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;splice&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;sort&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;reverse&#39;</span>
<span class="token punctuation">]</span>
methodsToPatch<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">method</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u7F13\u5B58\u539F\u751F\u51FD\u6570</span>
  <span class="token keyword">const</span> original <span class="token operator">=</span> arrayProto<span class="token punctuation">[</span>method<span class="token punctuation">]</span>
  <span class="token comment">// \u91CD\u5199\u51FD\u6570</span>
  <span class="token function">def</span><span class="token punctuation">(</span>arrayMethods<span class="token punctuation">,</span> method<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">mutator</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5148\u8C03\u7528\u539F\u751F\u51FD\u6570\u83B7\u5F97\u7ED3\u679C</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">original</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token keyword">const</span> ob <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>__ob__
    <span class="token keyword">let</span> inserted
    <span class="token comment">// \u8C03\u7528\u4EE5\u4E0B\u51E0\u4E2A\u51FD\u6570\u65F6\uFF0C\u76D1\u542C\u65B0\u6570\u636E</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>method<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&#39;push&#39;</span><span class="token operator">:</span>
      <span class="token keyword">case</span> <span class="token string">&#39;unshift&#39;</span><span class="token operator">:</span>
        inserted <span class="token operator">=</span> args
        <span class="token keyword">break</span>
      <span class="token keyword">case</span> <span class="token string">&#39;splice&#39;</span><span class="token operator">:</span>
        inserted <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>inserted<span class="token punctuation">)</span> ob<span class="token punctuation">.</span><span class="token function">observeArray</span><span class="token punctuation">(</span>inserted<span class="token punctuation">)</span>
    <span class="token comment">// \u624B\u52A8\u6D3E\u53D1\u66F4\u65B0</span>
    ob<span class="token punctuation">.</span>dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div>`,4),Vu={id:"_28-9-2-\u7F16\u8BD1\u8FC7\u7A0B",tabindex:"-1"},Iu=n("a",{class:"header-anchor",href:"#_28-9-2-\u7F16\u8BD1\u8FC7\u7A0B","aria-hidden":"true"},"#",-1),Hu=s(),Ju={href:"http://interview.poetries.top/docs/excellent.html#_28-9-2-%E7%BC%96%E8%AF%91%E8%BF%87%E7%A8%8B",target:"_blank",rel:"noopener noreferrer"},Uu=s("#"),zu=s("28.9.2 \u7F16\u8BD1\u8FC7\u7A0B"),Wu=e(`<blockquote><p>\u60F3\u5FC5\u5927\u5BB6\u5728\u4F7F\u7528 Vue \u5F00\u53D1\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u57FA\u672C\u90FD\u662F\u4F7F\u7528\u6A21\u677F\u7684\u65B9\u5F0F\u3002\u90A3\u4E48\u4F60\u6709\u8FC7\u300C\u6A21\u677F\u662F\u600E\u4E48\u5728\u6D4F\u89C8\u5668\u4E2D\u8FD0\u884C\u7684\u300D\u8FD9\u79CD\u7591\u8651\u561B\uFF1F</p></blockquote><ul><li>\u9996\u5148\u76F4\u63A5\u628A\u6A21\u677F\u4E22\u5230\u6D4F\u89C8\u5668\u4E2D\u80AF\u5B9A\u662F\u4E0D\u80FD\u8FD0\u884C\u7684\uFF0C\u6A21\u677F\u53EA\u662F\u4E3A\u4E86\u65B9\u4FBF\u5F00\u53D1\u8005\u8FDB\u884C\u5F00\u53D1\u3002<code>Vue</code> \u4F1A\u901A\u8FC7\u7F16\u8BD1\u5668\u5C06\u6A21\u677F\u901A\u8FC7\u51E0\u4E2A\u9636\u6BB5\u6700\u7EC8\u7F16\u8BD1\u4E3A <code>render</code> \u51FD\u6570\uFF0C\u7136\u540E\u901A\u8FC7\u6267\u884C <code>render</code> \u51FD\u6570\u751F\u6210 <code>Virtual DOM</code> \u6700\u7EC8\u6620\u5C04\u4E3A\u771F\u5B9E <code>DOM</code>\u3002</li><li>\u63A5\u4E0B\u6765\u6211\u4EEC\u5C31\u6765\u5B66\u4E60\u8FD9\u4E2A\u7F16\u8BD1\u7684\u8FC7\u7A0B\uFF0C\u4E86\u89E3\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\u5927\u6982\u53D1\u751F\u4E86\u4EC0\u4E48\u4E8B\u60C5\u3002<strong>\u8FD9\u4E2A\u8FC7\u7A0B\u5176\u4E2D\u53C8\u5206\u4E3A\u4E09\u4E2A\u9636\u6BB5</strong>\uFF0C\u5206\u522B\u4E3A\uFF1A</li></ul><blockquote><ul><li>\u5C06\u6A21\u677F\u89E3\u6790\u4E3A <code>AST</code></li><li>\u4F18\u5316 <code>AST</code></li><li>\u5C06 <code>AST</code>\u8F6C\u6362\u4E3A <code>render</code>\u51FD\u6570</li></ul></blockquote><p>\u5728\u7B2C\u4E00\u4E2A\u9636\u6BB5\u4E2D\uFF0C\u6700\u4E3B\u8981\u7684\u4E8B\u60C5\u8FD8\u662F\u901A\u8FC7\u5404\u79CD\u5404\u6837\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u53BB\u5339\u914D\u6A21\u677F\u4E2D\u7684\u5185\u5BB9\uFF0C\u7136\u540E\u5C06\u5185\u5BB9\u63D0\u53D6\u51FA\u6765\u505A\u5404\u79CD\u903B\u8F91\u64CD\u4F5C\uFF0C\u63A5\u4E0B\u6765\u4F1A\u751F\u6210\u4E00\u4E2A\u6700\u57FA\u672C\u7684 <code>AST</code>\u5BF9\u8C61</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token comment">// \u7C7B\u578B</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token comment">// \u6807\u7B7E</span>
    tag<span class="token punctuation">,</span>
    <span class="token comment">// \u5C5E\u6027\u5217\u8868</span>
    <span class="token literal-property property">attrsList</span><span class="token operator">:</span> attrs<span class="token punctuation">,</span>
    <span class="token comment">// \u5C5E\u6027\u6620\u5C04</span>
    <span class="token literal-property property">attrsMap</span><span class="token operator">:</span> <span class="token function">makeAttrsMap</span><span class="token punctuation">(</span>attrs<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// \u7236\u8282\u70B9</span>
    parent<span class="token punctuation">,</span>
    <span class="token comment">// \u5B50\u8282\u70B9</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>\u7136\u540E\u4F1A\u6839\u636E\u8FD9\u4E2A\u6700\u57FA\u672C\u7684 AST \u5BF9\u8C61\u4E2D\u7684\u5C5E\u6027\uFF0C\u8FDB\u4E00\u6B65\u6269\u5C55 <code>AST</code>\u3002</li><li>\u5F53\u7136\u5728\u8FD9\u4E00\u9636\u6BB5\u4E2D\uFF0C\u8FD8\u4F1A\u8FDB\u884C\u5176\u4ED6\u7684\u4E00\u4E9B\u5224\u65AD\u903B\u8F91\u3002\u6BD4\u5982\u8BF4\u5BF9\u6BD4\u524D\u540E\u5F00\u95ED\u6807\u7B7E\u662F\u5426\u4E00\u81F4\uFF0C\u5224\u65AD\u6839\u7EC4\u4EF6\u662F\u5426\u53EA\u5B58\u5728\u4E00\u4E2A\uFF0C\u5224\u65AD\u662F\u5426\u7B26\u5408 <code>HTML5 Content Model</code>\u89C4\u8303\u7B49\u7B49\u95EE\u9898\u3002</li><li>\u63A5\u4E0B\u6765\u5C31\u662F\u4F18\u5316 AST \u7684\u9636\u6BB5\u3002\u5728\u5F53\u524D\u7248\u672C\u4E0B\uFF0C<code>Vue</code> \u8FDB\u884C\u7684\u4F18\u5316\u5185\u5BB9\u5176\u5B9E\u8FD8\u662F\u4E0D\u591A\u7684\u3002\u53EA\u662F\u5BF9\u8282\u70B9\u8FDB\u884C\u4E86\u9759\u6001\u5185\u5BB9\u63D0\u53D6\uFF0C\u4E5F\u5C31\u662F\u5C06\u6C38\u8FDC\u4E0D\u4F1A\u53D8\u52A8\u7684\u8282\u70B9\u63D0\u53D6\u4E86\u51FA\u6765\uFF0C\u5B9E\u73B0\u590D\u7528 <code>Virtual DOM</code>\uFF0C\u8DF3\u8FC7\u5BF9\u6BD4\u7B97\u6CD5\u7684\u529F\u80FD\u3002\u5728\u4E0B\u4E00\u4E2A\u5927\u7248\u672C\u4E2D\uFF0C<code>Vue</code> \u4F1A\u5728\u4F18\u5316 <code>AST</code> \u7684\u9636\u6BB5\u7EE7\u7EED\u53D1\u529B\uFF0C\u5B9E\u73B0\u66F4\u591A\u7684\u4F18\u5316\u529F\u80FD\uFF0C\u5C3D\u53EF\u80FD\u7684\u5728\u7F16\u8BD1\u9636\u6BB5\u538B\u69A8\u66F4\u591A\u7684\u6027\u80FD\uFF0C\u6BD4\u5982\u8BF4\u63D0\u53D6\u9759\u6001\u7684\u5C5E\u6027\u7B49\u7B49\u4F18\u5316\u884C\u4E3A\u3002</li><li>\u6700\u540E\u4E00\u4E2A\u9636\u6BB5\u5C31\u662F\u901A\u8FC7 <code>AST</code> \u751F\u6210 <code>render</code> \u51FD\u6570\u4E86\u3002\u5176\u5B9E\u8FD9\u4E00\u9636\u6BB5\u867D\u7136\u5206\u652F\u6709\u5F88\u591A\uFF0C\u4F46\u662F\u6700\u4E3B\u8981\u7684\u76EE\u7684\u5C31\u662F\u904D\u5386\u6574\u4E2A <code>AST</code>\uFF0C\u6839\u636E\u4E0D\u540C\u7684\u6761\u4EF6\u751F\u6210\u4E0D\u540C\u7684\u4EE3\u7801\u7F62\u4E86\u3002</li></ul>`,6),Xu={id:"_28-9-3-nexttick-\u539F\u7406\u5206\u6790",tabindex:"-1"},Gu=n("a",{class:"header-anchor",href:"#_28-9-3-nexttick-\u539F\u7406\u5206\u6790","aria-hidden":"true"},"#",-1),Qu=s(),Ku={href:"http://interview.poetries.top/docs/excellent.html#_28-9-3-nexttick-%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90",target:"_blank",rel:"noopener noreferrer"},$u=s("#"),Yu=s("28.9.3 NextTick \u539F\u7406\u5206\u6790"),Zu=e(`<blockquote><p><code>nextTick</code> \u53EF\u4EE5\u8BA9\u6211\u4EEC\u5728\u4E0B\u6B21 <code>DOM</code> \u66F4\u65B0\u5FAA\u73AF\u7ED3\u675F\u4E4B\u540E\u6267\u884C\u5EF6\u8FDF\u56DE\u8C03\uFF0C\u7528\u4E8E\u83B7\u5F97\u66F4\u65B0\u540E\u7684 <code>DOM</code>\u3002</p></blockquote><ul><li>\u5728 <code>Vue 2.4</code> \u4E4B\u524D\u90FD\u662F\u4F7F\u7528\u7684 <code>microtasks</code>\uFF0C\u4F46\u662F<code>microtasks</code> \u7684\u4F18\u5148\u7EA7\u8FC7\u9AD8\uFF0C\u5728\u67D0\u4E9B\u60C5\u51B5\u4E0B\u53EF\u80FD\u4F1A\u51FA\u73B0\u6BD4\u4E8B\u4EF6\u5192\u6CE1\u66F4\u5FEB\u7684\u60C5\u51B5\uFF0C\u4F46\u5982\u679C\u90FD\u4F7F\u7528 <code>macrotasks</code> \u53C8\u53EF\u80FD\u4F1A\u51FA\u73B0\u6E32\u67D3\u7684\u6027\u80FD\u95EE\u9898\u3002\u6240\u4EE5\u5728\u65B0\u7248\u672C\u4E2D\uFF0C\u4F1A\u9ED8\u8BA4\u4F7F\u7528 <code>microtasks</code>\uFF0C\u4F46\u5728\u7279\u6B8A\u60C5\u51B5\u4E0B\u4F1A\u4F7F\u7528 <code>macrotasks</code>\uFF0C\u6BD4\u5982 <code>v-on</code>\u3002</li><li>\u5BF9\u4E8E\u5B9E\u73B0 <code>macrotasks</code> \uFF0C\u4F1A\u5148\u5224\u65AD\u662F\u5426\u80FD\u4F7F\u7528 <code>setImmediate</code> \uFF0C\u4E0D\u80FD\u7684\u8BDD\u964D\u7EA7\u4E3A <code>MessageChannel</code> \uFF0C\u4EE5\u4E0A\u90FD\u4E0D\u884C\u7684\u8BDD\u5C31\u4F7F\u7528 <code>setTimeout</code></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> setImmediate <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isNative</span><span class="token punctuation">(</span>setImmediate<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">macroTimerFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setImmediate</span><span class="token punctuation">(</span>flushCallbacks<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>
  <span class="token keyword">typeof</span> MessageChannel <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span> <span class="token operator">&amp;&amp;</span>
  <span class="token punctuation">(</span><span class="token function">isNative</span><span class="token punctuation">(</span>MessageChannel<span class="token punctuation">)</span> <span class="token operator">||</span>
    <span class="token comment">// PhantomJS</span>
    MessageChannel<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&#39;[object MessageChannelConstructor]&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> channel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> port <span class="token operator">=</span> channel<span class="token punctuation">.</span>port2
  channel<span class="token punctuation">.</span>port1<span class="token punctuation">.</span>onmessage <span class="token operator">=</span> flushCallbacks
  <span class="token function-variable function">macroTimerFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    port<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">macroTimerFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>flushCallbacks<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u4EE3\u7801\u5F88\u7B80\u5355\uFF0C\u5C31\u662F\u5224\u65AD\u80FD\u4E0D\u80FD\u4F7F\u7528\u76F8\u5E94\u7684<code>API</code></p></blockquote>`,4),nr={id:"_29-react\u5E38\u8003\u77E5\u8BC6\u70B9",tabindex:"-1"},sr=n("a",{class:"header-anchor",href:"#_29-react\u5E38\u8003\u77E5\u8BC6\u70B9","aria-hidden":"true"},"#",-1),ar=s(),pr={href:"http://interview.poetries.top/docs/excellent.html#_29-react%E5%B8%B8%E8%80%83%E7%9F%A5%E8%AF%86%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},er=s("#"),tr=s("29 React\u5E38\u8003\u77E5\u8BC6\u70B9"),or={id:"_29-1-\u751F\u547D\u5468\u671F",tabindex:"-1"},cr=n("a",{class:"header-anchor",href:"#_29-1-\u751F\u547D\u5468\u671F","aria-hidden":"true"},"#",-1),lr=s(),ur={href:"http://interview.poetries.top/docs/excellent.html#_29-1-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F",target:"_blank",rel:"noopener noreferrer"},rr=s("#"),ir=s("29.1 \u751F\u547D\u5468\u671F"),kr=e(`<blockquote><p>\u5728 <code>V16</code> \u7248\u672C\u4E2D\u5F15\u5165\u4E86 <code>Fiber</code> \u673A\u5236\u3002\u8FD9\u4E2A\u673A\u5236\u4E00\u5B9A\u7A0B\u5EA6\u4E0A\u7684\u5F71\u54CD\u4E86\u90E8\u5206\u751F\u547D\u5468\u671F\u7684\u8C03\u7528\uFF0C\u5E76\u4E14\u4E5F\u5F15\u5165\u4E86\u65B0\u7684 <code>2</code> \u4E2A <code>API</code> \u6765\u89E3\u51B3\u95EE\u9898</p></blockquote><blockquote><p>\u5728\u4E4B\u524D\u7684\u7248\u672C\u4E2D\uFF0C\u5982\u679C\u4F60\u62E5\u6709\u4E00\u4E2A\u5F88\u590D\u6742\u7684\u590D\u5408\u7EC4\u4EF6\uFF0C\u7136\u540E\u6539\u52A8\u4E86\u6700\u4E0A\u5C42\u7EC4\u4EF6\u7684 <code>state</code>\uFF0C\u90A3\u4E48\u8C03\u7528\u6808\u53EF\u80FD\u4F1A\u5F88\u957F</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/30.png" alt="img"></p><ul><li>\u8C03\u7528\u6808\u8FC7\u957F\uFF0C\u518D\u52A0\u4E0A\u4E2D\u95F4\u8FDB\u884C\u4E86\u590D\u6742\u7684\u64CD\u4F5C\uFF0C\u5C31\u53EF\u80FD\u5BFC\u81F4\u957F\u65F6\u95F4\u963B\u585E\u4E3B\u7EBF\u7A0B\uFF0C\u5E26\u6765\u4E0D\u597D\u7684\u7528\u6237\u4F53\u9A8C\u3002<code>Fiber</code> \u5C31\u662F\u4E3A\u4E86\u89E3\u51B3\u8BE5\u95EE\u9898\u800C\u751F</li><li><code>Fiber</code> \u672C\u8D28\u4E0A\u662F\u4E00\u4E2A\u865A\u62DF\u7684\u5806\u6808\u5E27\uFF0C\u65B0\u7684\u8C03\u5EA6\u5668\u4F1A\u6309\u7167\u4F18\u5148\u7EA7\u81EA\u7531\u8C03\u5EA6\u8FD9\u4E9B\u5E27\uFF0C\u4ECE\u800C\u5C06\u4E4B\u524D\u7684\u540C\u6B65\u6E32\u67D3\u6539\u6210\u4E86\u5F02\u6B65\u6E32\u67D3\uFF0C\u5728\u4E0D\u5F71\u54CD\u4F53\u9A8C\u7684\u60C5\u51B5\u4E0B\u53BB\u5206\u6BB5\u8BA1\u7B97\u66F4\u65B0</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/31.png" alt="img"></p><ul><li>\u5BF9\u4E8E\u5982\u4F55\u533A\u522B\u4F18\u5148\u7EA7\uFF0C<code>React</code> \u6709\u81EA\u5DF1\u7684\u4E00\u5957\u903B\u8F91\u3002\u5BF9\u4E8E\u52A8\u753B\u8FD9\u79CD\u5B9E\u65F6\u6027\u5F88\u9AD8\u7684\u4E1C\u897F\uFF0C\u4E5F\u5C31\u662F <code>16 ms</code> \u5FC5\u987B\u6E32\u67D3\u4E00\u6B21\u4FDD\u8BC1\u4E0D\u5361\u987F\u7684\u60C5\u51B5\u4E0B\uFF0C<code>React</code> \u4F1A\u6BCF <code>16 ms</code>\uFF08\u4EE5\u5185\uFF09 \u6682\u505C\u4E00\u4E0B\u66F4\u65B0\uFF0C\u8FD4\u56DE\u6765\u7EE7\u7EED\u6E32\u67D3\u52A8\u753B</li><li>\u5BF9\u4E8E\u5F02\u6B65\u6E32\u67D3\uFF0C\u73B0\u5728\u6E32\u67D3\u6709\u4E24\u4E2A\u9636\u6BB5\uFF1A<code>reconciliation</code> \u548C <code>commit</code> \u3002\u524D\u8005\u8FC7\u7A0B\u662F\u53EF\u4EE5\u6253\u65AD\u7684\uFF0C\u540E\u8005\u4E0D\u80FD\u6682\u505C\uFF0C\u4F1A\u4E00\u76F4\u66F4\u65B0\u754C\u9762\u76F4\u5230\u5B8C\u6210\u3002</li></ul><p><strong>1. Reconciliation \u9636\u6BB5</strong></p><ul><li><code>componentWillMount</code></li><li><code>componentWillReceiveProps</code></li><li><code>shouldComponentUpdate</code></li><li><code>componentWillUpdate</code></li></ul><p><strong>2. Commit \u9636\u6BB5</strong></p><ul><li><code>componentDidMount</code></li><li><code>componentDidUpdate</code></li><li><code>componentWillUnmount</code></li></ul><blockquote><p>\u56E0\u4E3A <code>Reconciliation</code> \u9636\u6BB5\u662F\u53EF\u4EE5\u88AB\u6253\u65AD\u7684\uFF0C\u6240\u4EE5 <code>Reconciliation</code> \u9636\u6BB5\u4F1A\u6267\u884C\u7684\u751F\u547D\u5468\u671F\u51FD\u6570\u5C31\u53EF\u80FD\u4F1A\u51FA\u73B0\u8C03\u7528\u591A\u6B21\u7684\u60C5\u51B5\uFF0C\u4ECE\u800C\u5F15\u8D77 <code>Bug</code>\u3002\u7531\u6B64\u5BF9\u4E8E <code>Reconciliation</code> \u9636\u6BB5\u8C03\u7528\u7684\u51E0\u4E2A\u51FD\u6570\uFF0C\u9664\u4E86 <code>shouldComponentUpdate</code> \u4EE5\u5916\uFF0C\u5176\u4ED6\u90FD\u5E94\u8BE5\u907F\u514D\u53BB\u4F7F\u7528\uFF0C\u5E76\u4E14 <code>V16</code> \u4E2D\u4E5F\u5F15\u5165\u4E86\u65B0\u7684 <code>API</code> \u6765\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u3002</p></blockquote><blockquote><p><code>getDerivedStateFromProps</code> \u7528\u4E8E\u66FF\u6362 <code>componentWillReceiveProps</code> \uFF0C\u8BE5\u51FD\u6570\u4F1A\u5728\u521D\u59CB\u5316\u548C <code>update</code> \u65F6\u88AB\u8C03\u7528</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">ExampleComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// Initialize state in constructor,</span>
  <span class="token comment">// Or with a property initializer.</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> prevState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prevState<span class="token punctuation">.</span>someMirroredValue <span class="token operator">!==</span> nextProps<span class="token punctuation">.</span>someValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">derivedData</span><span class="token operator">:</span> <span class="token function">computeDerivedState</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">someMirroredValue</span><span class="token operator">:</span> nextProps<span class="token punctuation">.</span>someValue
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Return null to indicate no change to state.</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p><code>getSnapshotBeforeUpdate</code> \u7528\u4E8E\u66FF\u6362 <code>componentWillUpdate</code> \uFF0C\u8BE5\u51FD\u6570\u4F1A\u5728 <code>update</code> \u540E <code>DOM</code> \u66F4\u65B0\u524D\u88AB\u8C03\u7528\uFF0C\u7528\u4E8E\u8BFB\u53D6\u6700\u65B0\u7684 <code>DOM</code> \u6570\u636E</p></blockquote><blockquote><p>\u66F4\u591A\u8BE6\u60C5 http://blog.poetries.top/2018/11/18/react-lifecircle</p></blockquote>`,15),dr={id:"_29-2-setstate",tabindex:"-1"},br=n("a",{class:"header-anchor",href:"#_29-2-setstate","aria-hidden":"true"},"#",-1),mr=s(),hr={href:"http://interview.poetries.top/docs/excellent.html#_29-2-setstate",target:"_blank",rel:"noopener noreferrer"},gr=s("#"),_r=s("29.2 setState"),fr=e(`<ul><li><code>setState</code> \u5728 <code>React</code> \u4E2D\u662F\u7ECF\u5E38\u4F7F\u7528\u7684\u4E00\u4E2A <code>API</code>\uFF0C\u4F46\u662F\u5B83\u5B58\u5728\u4E00\u4E9B\u7684\u95EE\u9898\u7ECF\u5E38\u4F1A\u5BFC\u81F4\u521D\u5B66\u8005\u51FA\u9519\uFF0C\u6838\u5FC3\u539F\u56E0\u5C31\u662F\u56E0\u4E3A\u8FD9\u4E2A <code>API</code> \u662F\u5F02\u6B65\u7684\u3002</li><li>\u9996\u5148 <code>setState</code> \u7684\u8C03\u7528\u5E76\u4E0D\u4F1A\u9A6C\u4E0A\u5F15\u8D77 <code>state</code> \u7684\u6539\u53D8\uFF0C\u5E76\u4E14\u5982\u679C\u4F60\u4E00\u6B21\u8C03\u7528\u4E86\u591A\u4E2A <code>setState</code> \uFF0C\u90A3\u4E48\u7ED3\u679C\u53EF\u80FD\u5E76\u4E0D\u5982\u4F60\u671F\u5F85\u7684\u4E00\u6837\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u521D\u59CB\u5316 \`count\` \u4E3A 0</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// -&gt; 0</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// -&gt; 0</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>\u7B2C\u4E00\uFF0C\u4E24\u6B21\u7684\u6253\u5370\u90FD\u4E3A <code>0</code>\uFF0C\u56E0\u4E3A <code>setState</code> \u662F\u4E2A\u5F02\u6B65 <code>API</code>\uFF0C\u53EA\u6709\u540C\u6B65\u4EE3\u7801\u8FD0\u884C\u5B8C\u6BD5\u624D\u4F1A\u6267\u884C\u3002<code>setState</code> \u5F02\u6B65\u7684\u539F\u56E0\u6211\u8BA4\u4E3A\u5728\u4E8E\uFF0C<code>setState</code> \u53EF\u80FD\u4F1A\u5BFC\u81F4 <code>DOM</code> \u7684\u91CD\u7ED8\uFF0C\u5982\u679C\u8C03\u7528\u4E00\u6B21\u5C31\u9A6C\u4E0A\u53BB\u8FDB\u884C\u91CD\u7ED8\uFF0C\u90A3\u4E48\u8C03\u7528\u591A\u6B21\u5C31\u4F1A\u9020\u6210\u4E0D\u5FC5\u8981\u7684\u6027\u80FD\u635F\u5931\u3002\u8BBE\u8BA1\u6210\u5F02\u6B65\u7684\u8BDD\uFF0C\u5C31\u53EF\u4EE5\u5C06\u591A\u6B21\u8C03\u7528\u653E\u5165\u4E00\u4E2A\u961F\u5217\u4E2D\uFF0C\u5728\u6070\u5F53\u7684\u65F6\u5019\u7EDF\u4E00\u8FDB\u884C\u66F4\u65B0\u8FC7\u7A0B\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>  
  <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>\u5F53\u7136\u4F60\u4E5F\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u6765\u5B9E\u73B0\u8C03\u7528\u4E09\u6B21 <code>setState</code>\u4F7F\u5F97 <code>count</code> \u4E3A <code>3</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u5982\u679C\u4F60\u60F3\u5728\u6BCF\u6B21\u8C03\u7528 <code>setState</code> \u540E\u83B7\u5F97\u6B63\u786E\u7684 <code>state</code>\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5982\u4E0B\u4EE3\u7801\u5B9E\u73B0</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u66F4\u591A\u8BE6\u60C5 http://blog.poetries.top/2018/12/20/react-setState</p></blockquote>`,9),yr={id:"_29-3-\u6027\u80FD\u4F18\u5316",tabindex:"-1"},vr=n("a",{class:"header-anchor",href:"#_29-3-\u6027\u80FD\u4F18\u5316","aria-hidden":"true"},"#",-1),wr=s(),xr={href:"http://interview.poetries.top/docs/excellent.html#_29-3-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},qr=s("#"),Er=s("29.3 \u6027\u80FD\u4F18\u5316"),jr=e(`<ul><li>\u5728 <code>shouldComponentUpdate</code> \u51FD\u6570\u4E2D\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u8FD4\u56DE\u5E03\u5C14\u503C\u6765\u51B3\u5B9A\u5F53\u524D\u7EC4\u4EF6\u662F\u5426\u9700\u8981\u66F4\u65B0\u3002\u8FD9\u5C42\u4EE3\u7801\u903B\u8F91\u53EF\u4EE5\u662F\u7B80\u5355\u5730\u6D45\u6BD4\u8F83\u4E00\u4E0B\u5F53\u524D <code>state</code> \u548C\u4E4B\u524D\u7684 <code>state</code> \u662F\u5426\u76F8\u540C\uFF0C\u4E5F\u53EF\u4EE5\u662F\u5224\u65AD\u67D0\u4E2A\u503C\u66F4\u65B0\u4E86\u624D\u89E6\u53D1\u7EC4\u4EF6\u66F4\u65B0\u3002\u4E00\u822C\u6765\u8BF4\u4E0D\u63A8\u8350\u5B8C\u6574\u5730\u5BF9\u6BD4\u5F53\u524D <code>state</code> \u548C\u4E4B\u524D\u7684 <code>state</code> \u662F\u5426\u76F8\u540C\uFF0C\u56E0\u4E3A\u7EC4\u4EF6\u66F4\u65B0\u89E6\u53D1\u53EF\u80FD\u4F1A\u5F88\u9891\u7E41\uFF0C\u8FD9\u6837\u7684\u5B8C\u6574\u5BF9\u6BD4\u6027\u80FD\u5F00\u9500\u4F1A\u6709\u70B9\u5927\uFF0C\u53EF\u80FD\u4F1A\u9020\u6210\u5F97\u4E0D\u507F\u5931\u7684\u60C5\u51B5\u3002</li><li>\u5F53\u7136\u5982\u679C\u771F\u7684\u60F3\u5B8C\u6574\u5BF9\u6BD4\u5F53\u524D <code>state</code> \u548C\u4E4B\u524D\u7684 <code>state</code> \u662F\u5426\u76F8\u540C\uFF0C\u5E76\u4E14\u4E0D\u5F71\u54CD\u6027\u80FD\u4E5F\u662F\u884C\u5F97\u901A\u7684\uFF0C\u53EF\u4EE5\u901A\u8FC7 <code>immutable</code> \u6216\u8005 <code>immer</code> \u8FD9\u4E9B\u5E93\u6765\u751F\u6210\u4E0D\u53EF\u53D8\u5BF9\u8C61\u3002\u8FD9\u7C7B\u5E93\u5BF9\u4E8E\u64CD\u4F5C\u5927\u89C4\u6A21\u7684\u6570\u636E\u6765\u8BF4\u4F1A\u63D0\u5347\u4E0D\u9519\u7684\u6027\u80FD\uFF0C\u5E76\u4E14\u4E00\u65E6\u6539\u53D8\u6570\u636E\u5C31\u4F1A\u751F\u6210\u4E00\u4E2A\u65B0\u7684\u5BF9\u8C61\uFF0C\u5BF9\u6BD4\u524D\u540E <code>state</code> \u662F\u5426\u4E00\u81F4\u4E5F\u5C31\u65B9\u4FBF\u591A\u4E86\uFF0C\u540C\u65F6\u4E5F\u5F88\u63A8\u8350\u9605\u8BFB\u4E0B <code>immer</code> \u7684\u6E90\u7801\u5B9E\u73B0</li><li>\u53E6\u5916\u5982\u679C\u53EA\u662F\u5355\u7EAF\u7684\u6D45\u6BD4\u8F83\u4E00\u4E0B\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 <code>PureComponent</code>\uFF0C\u5E95\u5C42\u5C31\u662F\u5B9E\u73B0\u4E86\u6D45\u6BD4\u8F83 <code>state</code></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        PureComponent
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>\u8FD9\u65F6\u5019\u4F60\u53EF\u80FD\u4F1A\u8003\u8651\u5230\u51FD\u6570\u7EC4\u4EF6\u5C31\u4E0D\u80FD\u4F7F\u7528\u8FD9\u79CD\u65B9\u5F0F\u4E86\uFF0C\u5982\u679C\u4F60\u4F7F\u7528 <code>16.6.0</code> \u4E4B\u540E\u7684\u7248\u672C\u7684\u8BDD\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>React.memo</code> \u6765\u5B9E\u73B0\u76F8\u540C\u7684\u529F\u80FD</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Test <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">memo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        PureComponent
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u901A\u8FC7\u8FD9\u79CD\u65B9\u5F0F\u6211\u4EEC\u5C31\u53EF\u4EE5\u65E2\u5B9E\u73B0\u4E86 <code>shouldComponentUpdate</code> \u7684\u6D45\u6BD4\u8F83\uFF0C\u53C8\u80FD\u591F\u4F7F\u7528\u51FD\u6570\u7EC4\u4EF6</p></blockquote>`,5),Cr={id:"_29-4-\u901A\u4FE1",tabindex:"-1"},Sr=n("a",{class:"header-anchor",href:"#_29-4-\u901A\u4FE1","aria-hidden":"true"},"#",-1),Ar=s(),Br={href:"http://interview.poetries.top/docs/excellent.html#_29-4-%E9%80%9A%E4%BF%A1",target:"_blank",rel:"noopener noreferrer"},Tr=s("#"),Pr=s("29.4 \u901A\u4FE1"),Dr=e(`<p><strong>1. \u7236\u5B50\u901A\u4FE1</strong></p><ul><li>\u7236\u7EC4\u4EF6\u901A\u8FC7 <code>props</code> \u4F20\u9012\u6570\u636E\u7ED9\u5B50\u7EC4\u4EF6\uFF0C\u5B50\u7EC4\u4EF6\u901A\u8FC7\u8C03\u7528\u7236\u7EC4\u4EF6\u4F20\u6765\u7684\u51FD\u6570\u4F20\u9012\u6570\u636E\u7ED9\u7236\u7EC4\u4EF6\uFF0C\u8FD9\u4E24\u79CD\u65B9\u5F0F\u662F\u6700\u5E38\u7528\u7684\u7236\u5B50\u901A\u4FE1\u5B9E\u73B0\u529E\u6CD5\u3002</li><li>\u8FD9\u79CD\u7236\u5B50\u901A\u4FE1\u65B9\u5F0F\u4E5F\u5C31\u662F\u5178\u578B\u7684\u5355\u5411\u6570\u636E\u6D41\uFF0C\u7236\u7EC4\u4EF6\u901A\u8FC7 <code>props</code> \u4F20\u9012\u6570\u636E\uFF0C\u5B50\u7EC4\u4EF6\u4E0D\u80FD\u76F4\u63A5\u4FEE\u6539 <code>props</code>\uFF0C \u800C\u662F\u5FC5\u987B\u901A\u8FC7\u8C03\u7528\u7236\u7EC4\u4EF6\u51FD\u6570\u7684\u65B9\u5F0F\u544A\u77E5\u7236\u7EC4\u4EF6\u4FEE\u6539\u6570\u636E\u3002</li></ul><p><strong>2. \u5144\u5F1F\u7EC4\u4EF6\u901A\u4FE1</strong></p><blockquote><p>\u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\u53EF\u4EE5\u901A\u8FC7\u5171\u540C\u7684\u7236\u7EC4\u4EF6\u6765\u7BA1\u7406\u72B6\u6001\u548C\u4E8B\u4EF6\u51FD\u6570\u3002\u6BD4\u5982\u8BF4\u5176\u4E2D\u4E00\u4E2A\u5144\u5F1F\u7EC4\u4EF6\u8C03\u7528\u7236\u7EC4\u4EF6\u4F20\u9012\u8FC7\u6765\u7684\u4E8B\u4EF6\u51FD\u6570\u4FEE\u6539\u7236\u7EC4\u4EF6\u4E2D\u7684\u72B6\u6001\uFF0C\u7136\u540E\u7236\u7EC4\u4EF6\u5C06\u72B6\u6001\u4F20\u9012\u7ED9\u53E6\u4E00\u4E2A\u5144\u5F1F\u7EC4\u4EF6</p></blockquote><p><strong>3. \u8DE8\u591A\u5C42\u6B21\u7EC4\u4EF6\u901A\u4FE1</strong></p><blockquote><p>\u5982\u679C\u4F60\u4F7F\u7528 <code>16.3</code> \u4EE5\u4E0A\u7248\u672C\u7684\u8BDD\uFF0C\u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\u53EF\u4EE5\u4F7F\u7528 <code>Context API</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u521B\u5EFA Context\uFF0C\u53EF\u4EE5\u5728\u5F00\u59CB\u5C31\u4F20\u5165\u503C</span>
<span class="token keyword">const</span> StateContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token comment">// value \u5C31\u662F\u4F20\u5165 Context \u4E2D\u7684\u503C</span>
      <span class="token operator">&lt;</span>StateContext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token string">&#39;yck&#39;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Child <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>StateContext<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ThemeContext<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
        <span class="token comment">// \u53D6\u51FA\u503C</span>
        <span class="token punctuation">{</span><span class="token parameter">context</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
          name is <span class="token punctuation">{</span> context <span class="token punctuation">}</span>
        <span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeContext<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><strong>4. \u4EFB\u610F\u7EC4\u4EF6</strong></p><blockquote><p>\u8FD9\u79CD\u65B9\u5F0F\u53EF\u4EE5\u901A\u8FC7 <code>Redux</code> \u6216\u8005 <code>Event Bus</code> \u89E3\u51B3\uFF0C\u53E6\u5916\u5982\u679C\u4F60\u4E0D\u6015\u9EBB\u70E6\u7684\u8BDD\uFF0C\u53EF\u4EE5\u4F7F\u7528\u8FD9\u79CD\u65B9\u5F0F\u89E3\u51B3\u4E0A\u8FF0\u6240\u6709\u7684\u901A\u4FE1\u60C5\u51B5</p></blockquote>`,9),Mr={id:"_29-5-hoc-\u662F\u4EC0\u4E48-\u76F8\u6BD4-mixins-\u6709\u4EC0\u4E48\u4F18\u70B9",tabindex:"-1"},Or=n("a",{class:"header-anchor",href:"#_29-5-hoc-\u662F\u4EC0\u4E48-\u76F8\u6BD4-mixins-\u6709\u4EC0\u4E48\u4F18\u70B9","aria-hidden":"true"},"#",-1),Rr=s(),Fr={href:"http://interview.poetries.top/docs/excellent.html#_29-5-hoc-%E6%98%AF%E4%BB%80%E4%B9%88-%E7%9B%B8%E6%AF%94-mixins-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},Nr=s("#"),Lr=s("29.5 HOC \u662F\u4EC0\u4E48\uFF1F\u76F8\u6BD4 mixins \u6709\u4EC0\u4E48\u4F18\u70B9\uFF1F"),Vr=e(`<blockquote><p>\u5F88\u591A\u4EBA\u770B\u5230\u9AD8\u9636\u7EC4\u4EF6\uFF08<code>HOC</code>\uFF09\u8FD9\u4E2A\u6982\u5FF5\u5C31\u88AB\u5413\u5230\u4E86\uFF0C\u8BA4\u4E3A\u8FD9\u4E1C\u897F\u5F88\u96BE\uFF0C\u5176\u5B9E\u8FD9\u4E1C\u897F\u6982\u5FF5\u771F\u7684\u5F88\u7B80\u5355\uFF0C\u6211\u4EEC\u5148\u6765\u770B\u4E00\u4E2A\u4F8B\u5B50\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>\u73B0\u5728\u5982\u679C\u6211\u60F3\u7ED9\u8FD9\u4E2A <code>add</code> \u51FD\u6570\u6DFB\u52A0\u4E00\u4E2A\u8F93\u51FA\u7ED3\u679C\u7684\u529F\u80FD\uFF0C\u90A3\u4E48\u4F60\u53EF\u80FD\u4F1A\u8003\u8651\u6211\u76F4\u63A5\u4F7F\u7528 <code>console.log</code> \u4E0D\u5C31\u5B9E\u73B0\u4E86\u4E48\u3002\u8BF4\u7684\u6CA1\u9519\uFF0C\u4F46\u662F\u5982\u679C\u6211\u4EEC\u60F3\u505A\u7684\u66F4\u52A0\u4F18\u96C5\u5E76\u4E14\u5BB9\u6613\u590D\u7528\u548C\u6269\u5C55\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8FD9\u6837\u53BB\u505A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">withLog</span> <span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">wrapper</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
        <span class="token keyword">return</span> result
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> wrapper
<span class="token punctuation">}</span>
<span class="token keyword">const</span> withLogAdd <span class="token operator">=</span> <span class="token function">withLog</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span>
<span class="token function">withLogAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>\u5176\u5B9E\u8FD9\u4E2A\u505A\u6CD5\u5728\u51FD\u6570\u5F0F\u7F16\u7A0B\u91CC\u79F0\u4E4B\u4E3A\u9AD8\u9636\u51FD\u6570\uFF0C\u5927\u5BB6\u90FD\u77E5\u9053 <code>React</code> \u7684\u601D\u60F3\u4E2D\u662F\u5B58\u5728\u51FD\u6570\u5F0F\u7F16\u7A0B\u7684\uFF0C\u9AD8\u9636\u7EC4\u4EF6\u548C\u9AD8\u9636\u51FD\u6570\u5C31\u662F\u540C\u4E00\u4E2A\u4E1C\u897F\u3002\u6211\u4EEC\u5B9E\u73B0\u4E00\u4E2A\u51FD\u6570\uFF0C\u4F20\u5165\u4E00\u4E2A\u7EC4\u4EF6\uFF0C\u7136\u540E\u5728\u51FD\u6570\u5185\u90E8\u518D\u5B9E\u73B0\u4E00\u4E2A\u51FD\u6570\u53BB\u6269\u5C55\u4F20\u5165\u7684\u7EC4\u4EF6\uFF0C\u6700\u540E\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u7EC4\u4EF6\uFF0C\u8FD9\u5C31\u662F\u9AD8\u9636\u7EC4\u4EF6\u7684\u6982\u5FF5\uFF0C\u4F5C\u7528\u5C31\u662F\u4E3A\u4E86\u66F4\u597D\u7684\u590D\u7528\u4EE3\u7801\u3002</li><li>\u5176\u5B9E <code>HOC</code> \u548C <code>Vue</code> \u4E2D\u7684 <code>mixins</code> \u4F5C\u7528\u662F\u4E00\u81F4\u7684\uFF0C\u5E76\u4E14\u5728\u65E9\u671F <code>React</code> \u4E5F\u662F\u4F7F\u7528 <code>mixins</code> \u7684\u65B9\u5F0F\u3002\u4F46\u662F\u5728\u4F7F\u7528 <code>class</code> \u7684\u65B9\u5F0F\u521B\u5EFA\u7EC4\u4EF6\u4EE5\u540E\uFF0C<code>mixins</code> \u7684\u65B9\u5F0F\u5C31\u4E0D\u80FD\u4F7F\u7528\u4E86\uFF0C\u5E76\u4E14\u5176\u5B9E <code>mixins</code> \u4E5F\u662F\u5B58\u5728\u4E00\u4E9B\u95EE\u9898\u7684\uFF0C\u6BD4\u5982</li></ul><ol><li>\u9690\u542B\u4E86\u4E00\u4E9B\u4F9D\u8D56\uFF0C\u6BD4\u5982\u6211\u5728\u7EC4\u4EF6\u4E2D\u5199\u4E86\u67D0\u4E2A <code>state</code> \u5E76\u4E14\u5728 <code>mixin</code> \u4E2D\u4F7F\u7528\u4E86\uFF0C\u5C31\u8FD9\u5B58\u5728\u4E86\u4E00\u4E2A\u4F9D\u8D56\u5173\u7CFB\u3002\u4E07\u4E00\u4E0B\u6B21\u522B\u4EBA\u8981\u79FB\u9664\u5B83\uFF0C\u5C31\u5F97\u53BB <code>mixin</code> \u4E2D\u67E5\u627E\u4F9D\u8D56</li><li>\u591A\u4E2A <code>mixin</code> \u4E2D\u53EF\u80FD\u5B58\u5728\u76F8\u540C\u547D\u540D\u7684\u51FD\u6570\uFF0C\u540C\u65F6\u4EE3\u7801\u7EC4\u4EF6\u4E2D\u4E5F\u4E0D\u80FD\u51FA\u73B0\u76F8\u540C\u547D\u540D\u7684\u51FD\u6570\uFF0C\u5426\u5219\u5C31\u662F\u91CD\u5199\u4E86\uFF0C\u5176\u5B9E\u6211\u4E00\u76F4\u89C9\u5F97\u547D\u540D\u771F\u7684\u662F\u4E00\u4EF6\u9EBB\u70E6\u4E8B\u3002\u3002</li><li>\u96EA\u7403\u6548\u5E94\uFF0C\u867D\u7136\u6211\u4E00\u4E2A\u7EC4\u4EF6\u8FD8\u662F\u4F7F\u7528\u7740\u540C\u4E00\u4E2A <code>mixin</code>\uFF0C\u4F46\u662F\u4E00\u4E2A <code>mixin</code> \u4F1A\u88AB\u591A\u4E2A\u7EC4\u4EF6\u4F7F\u7528\uFF0C\u53EF\u80FD\u4F1A\u5B58\u5728\u9700\u6C42\u4F7F\u5F97 <code>mixin</code> \u4FEE\u6539\u539F\u672C\u7684\u51FD\u6570\u6216\u8005\u65B0\u589E\u66F4\u591A\u7684\u51FD\u6570\uFF0C\u8FD9\u6837\u53EF\u80FD\u5C31\u4F1A\u4EA7\u751F\u4E00\u4E2A\u7EF4\u62A4\u6210\u672C</li></ol><blockquote><p><code>HOC</code> \u89E3\u51B3\u4E86\u8FD9\u4E9B\u95EE\u9898\uFF0C\u5E76\u4E14\u5B83\u4EEC\u8FBE\u6210\u7684\u6548\u679C\u4E5F\u662F\u4E00\u81F4\u7684\uFF0C\u540C\u65F6\u4E5F\u66F4\u52A0\u7684\u653F\u6CBB\u6B63\u786E\uFF08\u6BD5\u7ADF\u66F4\u52A0\u51FD\u6570\u5F0F\u4E86\uFF09</p></blockquote>`,7),Ir={id:"_29-6-\u4E8B\u4EF6\u673A\u5236",tabindex:"-1"},Hr=n("a",{class:"header-anchor",href:"#_29-6-\u4E8B\u4EF6\u673A\u5236","aria-hidden":"true"},"#",-1),Jr=s(),Ur={href:"http://interview.poetries.top/docs/excellent.html#_29-6-%E4%BA%8B%E4%BB%B6%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"},zr=s("#"),Wr=s("29.6 \u4E8B\u4EF6\u673A\u5236"),Xr=e(`<blockquote><p><code>React</code> \u5176\u5B9E\u81EA\u5DF1\u5B9E\u73B0\u4E86\u4E00\u5957\u4E8B\u4EF6\u673A\u5236\uFF0C\u9996\u5148\u6211\u4EEC\u8003\u8651\u4E00\u4E0B\u4EE5\u4E0B\u4EE3\u7801\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">Test</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> list<span class="token punctuation">,</span> handleClick <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>span onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span> key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>\u4EE5\u4E0A\u7C7B\u4F3C\u4EE3\u7801\u60F3\u5FC5\u5927\u5BB6\u7ECF\u5E38\u4F1A\u5199\u5230\uFF0C\u4F46\u662F\u4F60\u662F\u5426\u8003\u8651\u8FC7\u70B9\u51FB\u4E8B\u4EF6\u662F\u5426\u7ED1\u5B9A\u5728\u4E86\u6BCF\u4E00\u4E2A\u6807\u7B7E\u4E0A\uFF1F\u4E8B\u5B9E\u5F53\u7136\u4E0D\u662F\uFF0C<code>JSX</code> \u4E0A\u5199\u7684\u4E8B\u4EF6\u5E76\u6CA1\u6709\u7ED1\u5B9A\u5728\u5BF9\u5E94\u7684\u771F\u5B9E <code>DOM</code> \u4E0A\uFF0C\u800C\u662F\u901A\u8FC7\u4E8B\u4EF6\u4EE3\u7406\u7684\u65B9\u5F0F\uFF0C\u5C06\u6240\u6709\u7684\u4E8B\u4EF6\u90FD\u7EDF\u4E00\u7ED1\u5B9A\u5728\u4E86 <code>document</code> \u4E0A\u3002\u8FD9\u6837\u7684\u65B9\u5F0F\u4E0D\u4EC5\u51CF\u5C11\u4E86\u5185\u5B58\u6D88\u8017\uFF0C\u8FD8\u80FD\u5728\u7EC4\u4EF6\u6302\u8F7D\u9500\u6BC1\u65F6\u7EDF\u4E00\u8BA2\u9605\u548C\u79FB\u9664\u4E8B\u4EF6\u3002</li><li>\u53E6\u5916\u5192\u6CE1\u5230 <code>document</code> \u4E0A\u7684\u4E8B\u4EF6\u4E5F\u4E0D\u662F\u539F\u751F\u6D4F\u89C8\u5668\u4E8B\u4EF6\uFF0C\u800C\u662F <code>React</code> \u81EA\u5DF1\u5B9E\u73B0\u7684\u5408\u6210\u4E8B\u4EF6\uFF08<code>SyntheticEvent</code>\uFF09\u3002\u56E0\u6B64\u6211\u4EEC\u5982\u679C\u4E0D\u60F3\u8981\u4E8B\u4EF6\u5192\u6CE1\u7684\u8BDD\uFF0C\u8C03\u7528 <code>event.stopPropagation</code> \u662F\u65E0\u6548\u7684\uFF0C\u800C\u5E94\u8BE5\u8C03\u7528 <code>event.preventDefault</code></li></ul><blockquote><p>\u90A3\u4E48\u5B9E\u73B0\u5408\u6210\u4E8B\u4EF6\u7684\u76EE\u7684\u662F\u4EC0\u4E48\u5462\uFF1F\u603B\u7684\u6765\u8BF4\u5728\u6211\u770B\u6765\u597D\u5904\u6709\u4E24\u70B9\uFF0C\u5206\u522B\u662F\uFF1A</p></blockquote><ol><li>\u5408\u6210\u4E8B\u4EF6\u9996\u5148\u62B9\u5E73\u4E86\u6D4F\u89C8\u5668\u4E4B\u95F4\u7684\u517C\u5BB9\u95EE\u9898\uFF0C\u53E6\u5916\u8FD9\u662F\u4E00\u4E2A\u8DE8\u6D4F\u89C8\u5668\u539F\u751F\u4E8B\u4EF6\u5305\u88C5\u5668\uFF0C\u8D4B\u4E88\u4E86\u8DE8\u6D4F\u89C8\u5668\u5F00\u53D1\u7684\u80FD\u529B</li><li>\u5BF9\u4E8E\u539F\u751F\u6D4F\u89C8\u5668\u4E8B\u4EF6\u6765\u8BF4\uFF0C\u6D4F\u89C8\u5668\u4F1A\u7ED9\u76D1\u542C\u5668\u521B\u5EFA\u4E00\u4E2A\u4E8B\u4EF6\u5BF9\u8C61\u3002\u5982\u679C\u4F60\u6709\u5F88\u591A\u7684\u4E8B\u4EF6\u76D1\u542C\uFF0C\u90A3\u4E48\u5C31\u9700\u8981\u5206\u914D\u5F88\u591A\u7684\u4E8B\u4EF6\u5BF9\u8C61\uFF0C\u9020\u6210\u9AD8\u989D\u7684\u5185\u5B58\u5206\u914D\u95EE\u9898\u3002\u4F46\u662F\u5BF9\u4E8E\u5408\u6210\u4E8B\u4EF6\u6765\u8BF4\uFF0C\u6709\u4E00\u4E2A\u4E8B\u4EF6\u6C60\u4E13\u95E8\u6765\u7BA1\u7406\u5B83\u4EEC\u7684\u521B\u5EFA\u548C\u9500\u6BC1\uFF0C\u5F53\u4E8B\u4EF6\u9700\u8981\u88AB\u4F7F\u7528\u65F6\uFF0C\u5C31\u4F1A\u4ECE\u6C60\u5B50\u4E2D\u590D\u7528\u5BF9\u8C61\uFF0C\u4E8B\u4EF6\u56DE\u8C03\u7ED3\u675F\u540E\uFF0C\u5C31\u4F1A\u9500\u6BC1\u4E8B\u4EF6\u5BF9\u8C61\u4E0A\u7684\u5C5E\u6027\uFF0C\u4ECE\u800C\u4FBF\u4E8E\u4E0B\u6B21\u590D\u7528\u4E8B\u4EF6\u5BF9\u8C61\u3002</li></ol>`,5),Gr={id:"_30-\u76D1\u63A7",tabindex:"-1"},Qr=n("a",{class:"header-anchor",href:"#_30-\u76D1\u63A7","aria-hidden":"true"},"#",-1),Kr=s(),$r={href:"http://interview.poetries.top/docs/excellent.html#_30-%E7%9B%91%E6%8E%A7",target:"_blank",rel:"noopener noreferrer"},Yr=s("#"),Zr=s("30 \u76D1\u63A7"),ni=n("blockquote",null,[n("p",null,"\u524D\u7AEF\u76D1\u63A7\u4E00\u822C\u5206\u4E3A\u4E09\u79CD\uFF0C\u5206\u522B\u4E3A\u9875\u9762\u57CB\u70B9\u3001\u6027\u80FD\u76D1\u63A7\u4EE5\u53CA\u5F02\u5E38\u76D1\u63A7\u3002")],-1),si=n("p",null,"\u8FD9\u4E00\u7AE0\u8282\u6211\u4EEC\u5C06\u6765\u5B66\u4E60\u8FD9\u4E9B\u76D1\u63A7\u76F8\u5173\u7684\u5185\u5BB9\uFF0C\u4F46\u662F\u57FA\u672C\u4E0D\u4F1A\u6D89\u53CA\u5230\u4EE3\u7801\uFF0C\u53EA\u662F\u8BA9\u5927\u5BB6\u4E86\u89E3\u4E0B\u524D\u7AEF\u76D1\u63A7\u8BE5\u7528\u4EC0\u4E48\u65B9\u5F0F\u5B9E\u73B0\u3002\u6BD5\u7ADF\u5927\u90E8\u5206\u516C\u53F8\u90FD\u53EA\u662F\u4F7F\u7528\u5230\u4E86\u7B2C\u4E09\u65B9\u7684\u76D1\u63A7\u5DE5\u5177\uFF0C\u800C\u4E0D\u662F\u9009\u62E9\u81EA\u5DF1\u9020\u8F6E\u5B50",-1),ai={id:"_30-1-\u9875\u9762\u57CB\u70B9",tabindex:"-1"},pi=n("a",{class:"header-anchor",href:"#_30-1-\u9875\u9762\u57CB\u70B9","aria-hidden":"true"},"#",-1),ei=s(),ti={href:"http://interview.poetries.top/docs/excellent.html#_30-1-%E9%A1%B5%E9%9D%A2%E5%9F%8B%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},oi=s("#"),ci=s("30.1 \u9875\u9762\u57CB\u70B9"),li=e("<blockquote><p>\u9875\u9762\u57CB\u70B9\u5E94\u8BE5\u662F\u5927\u5BB6\u6700\u5E38\u5199\u7684\u76D1\u63A7\u4E86\uFF0C\u4E00\u822C\u8D77\u7801\u4F1A\u76D1\u63A7\u4EE5\u4E0B\u51E0\u4E2A\u6570\u636E\uFF1A</p></blockquote><ul><li><code>PV</code> / <code>UV</code></li><li>\u505C\u7559\u65F6\u957F</li><li>\u6D41\u91CF\u6765\u6E90</li><li>\u7528\u6237\u4EA4\u4E92</li></ul><blockquote><p>\u5BF9\u4E8E\u8FD9\u51E0\u7C7B\u7EDF\u8BA1\uFF0C\u4E00\u822C\u7684\u5B9E\u73B0\u601D\u8DEF\u5927\u81F4\u53EF\u4EE5\u5206\u4E3A\u4E24\u79CD\uFF0C\u5206\u522B\u4E3A\u624B\u5199\u57CB\u70B9\u548C\u65E0\u57CB\u70B9\u7684\u65B9\u5F0F\u3002</p></blockquote><p>\u76F8\u4FE1\u7B2C\u4E00\u79CD\u65B9\u5F0F\u4E5F\u662F\u5927\u5BB6\u6700\u5E38\u7528\u7684\u65B9\u5F0F\uFF0C\u53EF\u4EE5\u81EA\u4E3B\u9009\u62E9\u9700\u8981\u76D1\u63A7\u7684\u6570\u636E\u7136\u540E\u5728\u76F8\u5E94\u7684\u5730\u65B9\u5199\u5165\u4EE3\u7801\u3002\u8FD9\u79CD\u65B9\u5F0F\u7684\u7075\u6D3B\u6027\u5F88\u5927\uFF0C\u4F46\u662F\u552F\u4E00\u7684\u7F3A\u70B9\u5C31\u662F\u5DE5\u4F5C\u91CF\u8F83\u5927\uFF0C\u6BCF\u4E2A\u9700\u8981\u76D1\u63A7\u7684\u5730\u65B9\u90FD\u5F97\u63D2\u5165\u4EE3\u7801\u3002</p><p>\u53E6\u4E00\u79CD\u65E0\u57CB\u70B9\u7684\u65B9\u5F0F\u57FA\u672C\u4E0D\u9700\u8981\u5F00\u53D1\u8005\u624B\u5199\u57CB\u70B9\u4E86\uFF0C\u800C\u662F\u7EDF\u8BA1\u6240\u6709\u7684\u4E8B\u4EF6\u5E76\u4E14\u5B9A\u65F6\u4E0A\u62A5\u3002\u8FD9\u79CD\u65B9\u5F0F\u867D\u7136\u6CA1\u6709\u524D\u4E00\u79CD\u65B9\u5F0F\u7E41\u7410\u4E86\uFF0C\u4F46\u662F\u56E0\u4E3A\u7EDF\u8BA1\u7684\u662F\u6240\u6709\u4E8B\u4EF6\uFF0C\u6240\u4EE5\u8FD8\u9700\u8981\u540E\u671F\u8FC7\u6EE4\u51FA\u9700\u8981\u7684\u6570\u636E\u3002</p>",5),ui={id:"_30-2-\u6027\u80FD\u76D1\u63A7",tabindex:"-1"},ri=n("a",{class:"header-anchor",href:"#_30-2-\u6027\u80FD\u76D1\u63A7","aria-hidden":"true"},"#",-1),ii=s(),ki={href:"http://interview.poetries.top/docs/excellent.html#_30-2-%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7",target:"_blank",rel:"noopener noreferrer"},di=s("#"),bi=s("30.2 \u6027\u80FD\u76D1\u63A7"),mi=e('<ul><li>\u6027\u80FD\u76D1\u63A7\u53EF\u4EE5\u5F88\u597D\u7684\u5E2E\u52A9\u5F00\u53D1\u8005\u4E86\u89E3\u5728\u5404\u79CD\u771F\u5B9E\u73AF\u5883\u4E0B\uFF0C\u9875\u9762\u7684\u6027\u80FD\u60C5\u51B5\u662F\u5982\u4F55\u7684\u3002</li><li>\u5BF9\u4E8E\u6027\u80FD\u76D1\u63A7\u6765\u8BF4\uFF0C\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u6D4F\u89C8\u5668\u81EA\u5E26\u7684 <code>Performance API</code> \u6765\u5B9E\u73B0\u8FD9\u4E2A\u529F\u80FD\u3002</li><li>\u5BF9\u4E8E\u6027\u80FD\u76D1\u63A7\u6765\u8BF4\uFF0C\u5176\u5B9E\u6211\u4EEC\u53EA\u9700\u8981\u8C03\u7528 <code>performance.getEntriesByType(&#39;navigation&#39;)</code> \u8FD9\u884C\u4EE3\u7801\u5C31\u884C\u4E86\u3002\u5BF9\uFF0C\u4F60\u6CA1\u770B\u9519\uFF0C\u4E00\u884C\u4EE3\u7801\u6211\u4EEC\u5C31\u53EF\u4EE5\u83B7\u5F97\u9875\u9762\u4E2D\u5404\u79CD\u8BE6\u7EC6\u7684\u6027\u80FD\u76F8\u5173\u4FE1\u606F</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/32.png" alt="img"></p><blockquote><p>\u6211\u4EEC\u53EF\u4EE5\u53D1\u73B0\u8FD9\u884C\u4EE3\u7801\u8FD4\u56DE\u4E86\u4E00\u4E2A\u6570\u7EC4\uFF0C\u5185\u90E8\u5305\u542B\u4E86\u76F8\u5F53\u591A\u7684\u4FE1\u606F\uFF0C\u4ECE\u6570\u636E\u5F00\u59CB\u5728\u7F51\u7EDC\u4E2D\u4F20\u8F93\u5230\u9875\u9762\u52A0\u8F7D\u5B8C\u6210\u90FD\u63D0\u4F9B\u4E86\u76F8\u5E94\u7684\u6570\u636E</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/33.png" alt="img"></p>',4),hi={id:"_30-3-\u5F02\u5E38\u76D1\u63A7",tabindex:"-1"},gi=n("a",{class:"header-anchor",href:"#_30-3-\u5F02\u5E38\u76D1\u63A7","aria-hidden":"true"},"#",-1),_i=s(),fi={href:"http://interview.poetries.top/docs/excellent.html#_30-3-%E5%BC%82%E5%B8%B8%E7%9B%91%E6%8E%A7",target:"_blank",rel:"noopener noreferrer"},yi=s("#"),vi=s("30.3 \u5F02\u5E38\u76D1\u63A7"),wi=e("<ul><li>\u5BF9\u4E8E\u5F02\u5E38\u76D1\u63A7\u6765\u8BF4\uFF0C\u4EE5\u4E0B\u4E24\u79CD\u76D1\u63A7\u662F\u5FC5\u4E0D\u53EF\u5C11\u7684\uFF0C\u5206\u522B\u662F\u4EE3\u7801\u62A5\u9519\u4EE5\u53CA\u63A5\u53E3\u5F02\u5E38\u4E0A\u62A5\u3002</li><li>\u5BF9\u4E8E\u4EE3\u7801\u8FD0\u884C\u9519\u8BEF\uFF0C\u901A\u5E38\u7684\u529E\u6CD5\u662F\u4F7F\u7528 <code>window.onerror</code> \u62E6\u622A\u62A5\u9519\u3002\u8BE5\u65B9\u6CD5\u80FD\u62E6\u622A\u5230\u5927\u90E8\u5206\u7684\u8BE6\u7EC6\u62A5\u9519\u4FE1\u606F\uFF0C\u4F46\u662F\u4E5F\u6709\u4F8B\u5916</li></ul><ol><li>\u5BF9\u4E8E\u8DE8\u57DF\u7684\u4EE3\u7801\u8FD0\u884C\u9519\u8BEF\u4F1A\u663E\u793A <code>Script error</code>. \u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\u6211\u4EEC\u9700\u8981\u7ED9 <code>script</code>\u6807\u7B7E\u6DFB\u52A0 <code>crossorigin</code> \u5C5E\u6027</li><li>\u5BF9\u4E8E\u67D0\u4E9B\u6D4F\u89C8\u5668\u53EF\u80FD\u4E0D\u4F1A\u663E\u793A\u8C03\u7528\u6808\u4FE1\u606F\uFF0C\u8FD9\u79CD\u60C5\u51B5\u53EF\u4EE5\u901A\u8FC7 <code>arguments.callee.caller</code> \u6765\u505A\u6808\u9012\u5F52</li></ol><ul><li>\u5BF9\u4E8E\u5F02\u6B65\u4EE3\u7801\u6765\u8BF4\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>catch</code> \u7684\u65B9\u5F0F\u6355\u83B7\u9519\u8BEF\u3002\u6BD4\u5982 <code>Promise</code> \u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 <code>catch</code> \u51FD\u6570\uFF0C<code>async await</code> \u53EF\u4EE5\u4F7F\u7528 <code>try catch</code></li><li>\u4F46\u662F\u8981\u6CE8\u610F\u7EBF\u4E0A\u8FD0\u884C\u7684\u4EE3\u7801\u90FD\u662F\u538B\u7F29\u8FC7\u7684\uFF0C\u9700\u8981\u5728\u6253\u5305\u65F6\u751F\u6210 <code>sourceMap</code> \u6587\u4EF6\u4FBF\u4E8E <code>debug</code></li><li>\u5BF9\u4E8E\u6355\u83B7\u7684\u9519\u8BEF\u9700\u8981\u4E0A\u4F20\u7ED9\u670D\u52A1\u5668\uFF0C\u901A\u5E38\u53EF\u4EE5\u901A\u8FC7 <code>img</code> \u6807\u7B7E\u7684 <code>src</code> \u53D1\u8D77\u4E00\u4E2A\u8BF7\u6C42\u3002</li><li>\u53E6\u5916\u63A5\u53E3\u5F02\u5E38\u5C31\u76F8\u5BF9\u6765\u8BF4\u7B80\u5355\u4E86\uFF0C\u53EF\u4EE5\u5217\u4E3E\u51FA\u51FA\u9519\u7684\u72B6\u6001\u7801\u3002\u4E00\u65E6\u51FA\u73B0\u6B64\u7C7B\u7684\u72B6\u6001\u7801\u5C31\u53EF\u4EE5\u7ACB\u5373\u4E0A\u62A5\u51FA\u9519\u3002\u63A5\u53E3\u5F02\u5E38\u4E0A\u62A5\u53EF\u4EE5\u8BA9\u5F00\u53D1\u4EBA\u5458\u8FC5\u901F\u77E5\u9053\u6709\u54EA\u4E9B\u63A5\u53E3\u51FA\u73B0\u4E86\u5927\u9762\u79EF\u7684\u62A5\u9519\uFF0C\u4EE5\u4FBF\u8FC5\u901F\u4FEE\u590D\u95EE\u9898\u3002</li></ul>",3),xi={id:"_31-tcp-udp",tabindex:"-1"},qi=n("a",{class:"header-anchor",href:"#_31-tcp-udp","aria-hidden":"true"},"#",-1),Ei=s(),ji={href:"http://interview.poetries.top/docs/excellent.html#_31-tcp-udp",target:"_blank",rel:"noopener noreferrer"},Ci=s("#"),Si=s("31 TCP/UDP"),Ai={id:"_31-1-udp",tabindex:"-1"},Bi=n("a",{class:"header-anchor",href:"#_31-1-udp","aria-hidden":"true"},"#",-1),Ti=s(),Pi={href:"http://interview.poetries.top/docs/excellent.html#_31-1-udp",target:"_blank",rel:"noopener noreferrer"},Di=s("#"),Mi=s("31.1 UDP"),Oi=e("<blockquote><p>\u7F51\u7EDC\u534F\u8BAE\u662F\u6BCF\u4E2A\u524D\u7AEF\u5DE5\u7A0B\u5E08\u90FD\u5FC5\u987B\u8981\u638C\u63E1\u7684\u77E5\u8BC6\uFF0C\u6211\u4EEC\u5C06\u5148\u6765\u5B66\u4E60\u4F20\u8F93\u5C42\u4E2D\u7684\u4E24\u4E2A\u534F\u8BAE\uFF1A<code>UDP</code> \u4EE5\u53CA<code>TCP</code>\u3002\u5BF9\u4E8E\u5927\u90E8\u5206\u5DE5\u7A0B\u5E08\u6765\u8BF4\u6700\u5E38\u7528\u7684\u534F\u8BAE\u4E5F\u5C31\u662F\u8FD9\u4E24\u4E2A\u4E86\uFF0C\u5E76\u4E14\u9762\u8BD5\u4E2D\u7ECF\u5E38\u4F1A\u63D0\u95EE\u7684\u4E5F\u662F\u5173\u4E8E\u8FD9\u4E24\u4E2A\u534F\u8BAE\u7684\u533A\u522B</p></blockquote><blockquote><p>\u5E38\u8003\u9762\u8BD5\u9898\uFF1A<code>UDP</code> \u4E0E <code>TCP</code> \u7684\u533A\u522B\u662F\u4EC0\u4E48\uFF1F</p></blockquote><p>\u9996\u5148 <code>UDP</code> \u534F\u8BAE\u662F\u9762\u5411\u65E0\u8FDE\u63A5\u7684\uFF0C\u4E5F\u5C31\u662F\u8BF4\u4E0D\u9700\u8981\u5728\u6B63\u5F0F\u4F20\u9012\u6570\u636E\u4E4B\u524D\u5148\u8FDE\u63A5\u8D77\u53CC\u65B9\u3002\u7136\u540E <code>UDP</code>\u534F\u8BAE\u53EA\u662F\u6570\u636E\u62A5\u6587\u7684\u642C\u8FD0\u5DE5\uFF0C\u4E0D\u4FDD\u8BC1\u6709\u5E8F\u4E14\u4E0D\u4E22\u5931\u7684\u4F20\u9012\u5230\u5BF9\u7AEF\uFF0C\u5E76\u4E14<code>UDP</code> \u534F\u8BAE\u4E5F\u6CA1\u6709\u4EFB\u4F55\u63A7\u5236\u6D41\u91CF\u7684\u7B97\u6CD5\uFF0C\u603B\u7684\u6765\u8BF4 <code>UDP</code> \u76F8\u8F83\u4E8E <code>TCP</code> \u66F4\u52A0\u7684\u8F7B\u4FBF</p><p><strong>1. \u9762\u5411\u65E0\u8FDE\u63A5</strong></p><ul><li>\u9996\u5148<code>UDP</code> \u662F\u4E0D\u9700\u8981\u548C <code>TCP</code> \u4E00\u6837\u5728\u53D1\u9001\u6570\u636E\u524D\u8FDB\u884C\u4E09\u6B21\u63E1\u624B\u5EFA\u7ACB\u8FDE\u63A5\u7684\uFF0C\u60F3\u53D1\u6570\u636E\u5C31\u53EF\u4EE5\u5F00\u59CB\u53D1\u9001\u4E86\u3002</li><li>\u5E76\u4E14\u4E5F\u53EA\u662F\u6570\u636E\u62A5\u6587\u7684\u642C\u8FD0\u5DE5\uFF0C\u4E0D\u4F1A\u5BF9\u6570\u636E\u62A5\u6587\u8FDB\u884C\u4EFB\u4F55\u62C6\u5206\u548C\u62FC\u63A5\u64CD\u4F5C\u3002</li></ul><blockquote><p>\u5177\u4F53\u6765\u8BF4\u5C31\u662F\uFF1A</p></blockquote><ul><li>\u5728\u53D1\u9001\u7AEF\uFF0C\u5E94\u7528\u5C42\u5C06\u6570\u636E\u4F20\u9012\u7ED9\u4F20\u8F93\u5C42\u7684 <code>UDP</code> \u534F\u8BAE\uFF0C<code>UDP</code> \u53EA\u4F1A\u7ED9\u6570\u636E\u589E\u52A0\u4E00\u4E2A <code>UDP</code> \u5934\u6807\u8BC6\u4E0B\u662F <code>UDP</code> \u534F\u8BAE\uFF0C\u7136\u540E\u5C31\u4F20\u9012\u7ED9\u7F51\u7EDC\u5C42\u4E86 \u5728\u63A5\u6536\u7AEF\uFF0C\u7F51\u7EDC\u5C42\u5C06\u6570\u636E\u4F20\u9012\u7ED9\u4F20\u8F93\u5C42\uFF0C<code>UDP</code> \u53EA\u53BB\u9664 <code>IP</code> \u62A5\u6587\u5934\u5C31\u4F20\u9012\u7ED9\u5E94\u7528\u5C42\uFF0C\u4E0D\u4F1A\u4EFB\u4F55\u62FC\u63A5\u64CD\u4F5C</li></ul><p><strong>2. \u4E0D\u53EF\u9760\u6027</strong></p><ul><li>\u9996\u5148\u4E0D\u53EF\u9760\u6027\u4F53\u73B0\u5728\u65E0\u8FDE\u63A5\u4E0A\uFF0C\u901A\u4FE1\u90FD\u4E0D\u9700\u8981\u5EFA\u7ACB\u8FDE\u63A5\uFF0C\u60F3\u53D1\u5C31\u53D1\uFF0C\u8FD9\u6837\u7684\u60C5\u51B5\u80AF\u5B9A\u4E0D\u53EF\u9760\u3002</li><li>\u5E76\u4E14\u6536\u5230\u4EC0\u4E48\u6570\u636E\u5C31\u4F20\u9012\u4EC0\u4E48\u6570\u636E\uFF0C\u5E76\u4E14\u4E5F\u4E0D\u4F1A\u5907\u4EFD\u6570\u636E\uFF0C\u53D1\u9001\u6570\u636E\u4E5F\u4E0D\u4F1A\u5173\u5FC3\u5BF9\u65B9\u662F\u5426\u5DF2\u7ECF\u6B63\u786E\u63A5\u6536\u5230\u6570\u636E\u4E86\u3002</li><li>\u518D\u8005\u7F51\u7EDC\u73AF\u5883\u65F6\u597D\u65F6\u574F\uFF0C\u4F46\u662F <code>UDP</code> \u56E0\u4E3A\u6CA1\u6709\u62E5\u585E\u63A7\u5236\uFF0C\u4E00\u76F4\u4F1A\u4EE5\u6052\u5B9A\u7684\u901F\u5EA6\u53D1\u9001\u6570\u636E\u3002\u5373\u4F7F\u7F51\u7EDC\u6761\u4EF6\u4E0D\u597D\uFF0C\u4E5F\u4E0D\u4F1A\u5BF9\u53D1\u9001\u901F\u7387\u8FDB\u884C\u8C03\u6574\u3002\u8FD9\u6837\u5B9E\u73B0\u7684\u5F0A\u7AEF\u5C31\u662F\u5728\u7F51\u7EDC\u6761\u4EF6\u4E0D\u597D\u7684\u60C5\u51B5\u4E0B\u53EF\u80FD\u4F1A\u5BFC\u81F4\u4E22\u5305\uFF0C\u4F46\u662F\u4F18\u70B9\u4E5F\u5F88\u660E\u663E\uFF0C\u5728\u67D0\u4E9B\u5B9E\u65F6\u6027\u8981\u6C42\u9AD8\u7684\u573A\u666F\uFF08\u6BD4\u5982\u7535\u8BDD\u4F1A\u8BAE\uFF09\u5C31\u9700\u8981\u4F7F\u7528 <code>UDP</code> \u800C\u4E0D\u662F <code>TCP</code></li></ul><p><strong>3. \u9AD8\u6548</strong></p><ul><li>\u867D\u7136 <code>UDP</code> \u534F\u8BAE\u4E0D\u662F\u90A3\u4E48\u7684\u53EF\u9760\uFF0C\u4F46\u662F\u6B63\u662F\u56E0\u4E3A\u5B83\u4E0D\u662F\u90A3\u4E48\u7684\u53EF\u9760\uFF0C\u6240\u4EE5\u4E5F\u5C31\u6CA1\u6709 <code>TCP</code> \u90A3\u4E48\u590D\u6742\u4E86\uFF0C\u9700\u8981\u4FDD\u8BC1\u6570\u636E\u4E0D\u4E22\u5931\u4E14\u6709\u5E8F\u5230\u8FBE\u3002</li><li>\u56E0\u6B64 <code>UDP</code> \u7684\u5934\u90E8\u5F00\u9500\u5C0F\uFF0C\u53EA\u6709\u516B\u5B57\u8282\uFF0C\u76F8\u6BD4 <code>TCP</code> \u7684\u81F3\u5C11\u4E8C\u5341\u5B57\u8282\u8981\u5C11\u5F97\u591A\uFF0C\u5728\u4F20\u8F93\u6570\u636E\u62A5\u6587\u65F6\u662F\u5F88\u9AD8\u6548\u7684\u3002</li></ul><blockquote><p><code>UDP</code> \u5934\u90E8\u5305\u542B\u4E86\u4EE5\u4E0B\u51E0\u4E2A\u6570\u636E</p></blockquote><ul><li>\u4E24\u4E2A\u5341\u516D\u4F4D\u7684\u7AEF\u53E3\u53F7\uFF0C\u5206\u522B\u4E3A\u6E90\u7AEF\u53E3\uFF08\u53EF\u9009\u5B57\u6BB5\uFF09\u548C\u76EE\u6807\u7AEF\u53E3 \u6574\u4E2A\u6570\u636E\u62A5\u6587\u7684\u957F\u5EA6</li><li>\u6574\u4E2A\u6570\u636E\u62A5\u6587\u7684\u68C0\u9A8C\u548C\uFF08<code>IPv4</code> \u53EF\u9009 \u5B57\u6BB5\uFF09\uFF0C\u8BE5\u5B57\u6BB5\u7528\u4E8E\u53D1\u73B0\u5934\u90E8\u4FE1\u606F\u548C\u6570\u636E\u4E2D\u7684\u9519\u8BEF</li></ul><p><strong>4. \u4F20\u8F93\u65B9\u5F0F</strong></p><blockquote><p><code>UDP</code> \u4E0D\u6B62\u652F\u6301\u4E00\u5BF9\u4E00\u7684\u4F20\u8F93\u65B9\u5F0F\uFF0C\u540C\u6837\u652F\u6301\u4E00\u5BF9\u591A\uFF0C\u591A\u5BF9\u591A\uFF0C\u591A\u5BF9\u4E00\u7684\u65B9\u5F0F\uFF0C\u4E5F\u5C31\u662F\u8BF4 <code>UDP</code> \u63D0\u4F9B\u4E86\u5355\u64AD\uFF0C\u591A\u64AD\uFF0C\u5E7F\u64AD\u7684\u529F\u80FD\u3002</p></blockquote><p><strong>5. \u9002\u5408\u4F7F\u7528\u7684\u573A\u666F</strong></p><blockquote><p><code>UDP</code>\u867D\u7136\u5BF9\u6BD4 <code>TCP</code> \u6709\u5F88\u591A\u7F3A\u70B9\uFF0C\u4F46\u662F\u6B63\u662F\u56E0\u4E3A\u8FD9\u4E9B\u7F3A\u70B9\u9020\u5C31\u4E86\u5B83\u9AD8\u6548\u7684\u7279\u6027\uFF0C\u5728\u5F88\u591A\u5B9E\u65F6\u6027\u8981\u6C42\u9AD8\u7684\u5730\u65B9\u90FD\u53EF\u4EE5\u770B\u5230 <code>UDP</code> \u7684\u8EAB\u5F71\u3002</p></blockquote><p><strong>5.1 \u76F4\u64AD</strong></p><ul><li>\u60F3\u5FC5\u5927\u5BB6\u90FD\u770B\u8FC7\u76F4\u64AD\u5427\uFF0C\u5927\u5BB6\u53EF\u4EE5\u8003\u8651\u4E0B\u5982\u679C\u76F4\u64AD\u4F7F\u7528\u4E86\u57FA\u4E8E TCP \u7684\u534F\u8BAE\u4F1A\u53D1\u751F\u4EC0\u4E48\u4E8B\u60C5\uFF1F</li></ul><blockquote><ul><li><code>TCP</code> \u4F1A\u4E25\u683C\u63A7\u5236\u4F20\u8F93\u7684\u6B63\u786E\u6027\uFF0C\u4E00\u65E6\u6709\u67D0\u4E00\u4E2A\u6570\u636E\u5BF9\u7AEF\u6CA1\u6709\u6536\u5230\uFF0C\u5C31\u4F1A\u505C\u6B62\u4E0B\u6765\u76F4\u5230\u5BF9\u7AEF\u6536\u5230\u8FD9\u4E2A\u6570\u636E\u3002\u8FD9\u79CD\u95EE\u9898\u5728\u7F51\u7EDC\u6761\u4EF6\u4E0D\u9519\u7684\u60C5\u51B5\u4E0B\u53EF\u80FD\u5E76\u4E0D\u4F1A\u53D1\u751F\u4EC0\u4E48\u4E8B\u60C5\uFF0C\u4F46\u662F\u5728\u7F51\u7EDC\u60C5\u51B5\u5DEE\u7684\u65F6\u5019\u5C31\u4F1A\u53D8\u6210\u753B\u9762\u5361\u4F4F\uFF0C\u7136\u540E\u518D\u7EE7\u7EED\u64AD\u653E\u4E0B\u4E00\u5E27\u7684\u60C5\u51B5\u3002</li><li>\u4F46\u662F\u5BF9\u4E8E\u76F4\u64AD\u6765\u8BF4\uFF0C\u7528\u6237\u80AF\u5B9A\u5173\u6CE8\u7684\u662F\u6700\u65B0\u7684\u753B\u9762\uFF0C\u800C\u4E0D\u662F\u56E0\u4E3A\u7F51\u7EDC\u6761\u4EF6\u5DEE\u800C\u4E22\u5931\u7684\u8001\u65E7\u753B\u9762\uFF0C\u6240\u4EE5 <code>TCP</code> \u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\u65E0\u7528\u6B66\u4E4B\u5730\uFF0C\u53EA\u4F1A\u964D\u4F4E\u7528\u6237\u4F53\u9A8C\u3002</li></ul></blockquote><p><strong>5.2 \u738B\u8005\u8363\u8000</strong></p><ul><li>\u9996\u5148\u5BF9\u4E8E\u738B\u8005\u8363\u8000\u6765\u8BF4\uFF0C\u7528\u6237\u4F53\u91CF\u662F\u76F8\u5F53\u5927\u7684\uFF0C\u5982\u679C\u4F7F\u7528 <code>TCP</code> \u8FDE\u63A5\u7684\u8BDD\uFF0C\u5C31\u53EF\u80FD\u4F1A\u51FA\u73B0\u670D\u52A1\u5668\u4E0D\u591F\u7528\u7684\u60C5\u51B5\uFF0C\u56E0\u4E3A\u6BCF\u53F0\u670D\u52A1\u5668\u53EF\u4F9B\u652F\u6491\u7684 <code>TCP</code> \u8FDE\u63A5\u6570\u91CF\u662F\u6709\u9650\u5236\u7684\u3002</li><li>\u518D\u8005\uFF0C\u56E0\u4E3A <code>TCP</code> \u4F1A\u4E25\u683C\u63A7\u5236\u4F20\u8F93\u7684\u6B63\u786E\u6027\uFF0C\u5982\u679C\u56E0\u4E3A\u7528\u6237\u7F51\u7EDC\u6761\u4EF6\u4E0D\u597D\u5C31\u9020\u6210\u9875\u9762\u5361\u987F\u7136\u540E\u518D\u4F20\u8F93\u65E7\u7684\u6E38\u620F\u753B\u9762\u662F\u80AF\u5B9A\u4E0D\u80FD\u63A5\u53D7\u7684\uFF0C\u6BD5\u7ADF\u5BF9\u4E8E\u8FD9\u7C7B\u5B9E\u65F6\u6027\u8981\u6C42\u5F88\u9AD8\u7684\u6E38\u620F\u6765\u8BF4\uFF0C\u6700\u65B0\u7684\u6E38\u620F\u753B\u9762\u624D\u662F\u6700\u9700\u8981\u7684\uFF0C\u800C\u4E0D\u662F\u8001\u65E7\u7684\u753B\u9762\uFF0C\u5426\u5219\u89D2\u8272\u90FD\u4E0D\u77E5\u9053\u6B7B\u591A\u5C11\u6B21\u4E86\u3002</li></ul>",22),Ri={id:"_31-2-tcp",tabindex:"-1"},Fi=n("a",{class:"header-anchor",href:"#_31-2-tcp","aria-hidden":"true"},"#",-1),Ni=s(),Li={href:"http://interview.poetries.top/docs/excellent.html#_31-2-tcp",target:"_blank",rel:"noopener noreferrer"},Vi=s("#"),Ii=s("31.2 TCP"),Hi=e('<blockquote><p>\u5E38\u8003\u9762\u8BD5\u9898\uFF1A<code>UDP</code> \u4E0E <code>TCP</code> \u7684\u533A\u522B\u662F\u4EC0\u4E48\uFF1F</p></blockquote><blockquote><p><code>TCP</code> \u57FA\u672C\u662F\u548C <code>UDP</code> \u53CD\u7740\u6765\uFF0C\u5EFA\u7ACB\u8FDE\u63A5\u65AD\u5F00\u8FDE\u63A5\u90FD\u9700\u8981\u5148\u9700\u8981\u8FDB\u884C\u63E1\u624B\u3002\u5728\u4F20\u8F93\u6570\u636E\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u901A\u8FC7\u5404\u79CD\u7B97\u6CD5\u4FDD\u8BC1\u6570\u636E\u7684\u53EF\u9760\u6027\uFF0C\u5F53\u7136\u5E26\u6765\u7684\u95EE\u9898\u5C31\u662F\u76F8\u6BD4 <code>UDP</code> \u6765\u8BF4\u4E0D\u90A3\u4E48\u7684\u9AD8\u6548</p></blockquote><p><strong>1. \u5934\u90E8</strong></p><blockquote><p><code>TCP</code> \u5934\u90E8\u6BD4 <code>UDP</code> \u5934\u90E8\u590D\u6742\u7684\u591A</p></blockquote><blockquote><p>\u5BF9\u4E8E <code>TCP</code> \u5934\u90E8\u6765\u8BF4\uFF0C\u4EE5\u4E0B\u51E0\u4E2A\u5B57\u6BB5\u662F\u5F88\u91CD\u8981\u7684</p></blockquote><ul><li><code>Sequence number</code>\uFF0C\u8FD9\u4E2A\u5E8F\u53F7\u4FDD\u8BC1\u4E86 TCP \u4F20\u8F93\u7684\u62A5\u6587\u90FD\u662F\u6709\u5E8F\u7684\uFF0C\u5BF9\u7AEF\u53EF\u4EE5\u901A\u8FC7\u5E8F\u53F7\u987A\u5E8F\u7684\u62FC\u63A5\u62A5\u6587</li><li><code>Acknowledgement Number</code>\uFF0C\u8FD9\u4E2A\u5E8F\u53F7\u8868\u793A\u6570\u636E\u63A5\u6536\u7AEF\u671F\u671B\u63A5\u6536\u7684\u4E0B\u4E00\u4E2A\u5B57\u8282\u7684\u7F16\u53F7\u662F\u591A\u5C11\uFF0C\u540C\u65F6\u4E5F\u8868\u793A\u4E0A\u4E00\u4E2A\u5E8F\u53F7\u7684\u6570\u636E\u5DF2\u7ECF\u6536\u5230</li><li><code>Window Size</code>\uFF0C\u7A97\u53E3\u5927\u5C0F\uFF0C\u8868\u793A\u8FD8\u80FD\u63A5\u6536\u591A\u5C11\u5B57\u8282\u7684\u6570\u636E\uFF0C\u7528\u4E8E\u6D41\u91CF\u63A7\u5236</li><li>\u6807\u8BC6\u7B26 <ul><li><code>URG=1</code>\uFF1A\u8BE5\u5B57\u6BB5\u4E3A\u4E00\u8868\u793A\u672C\u6570\u636E\u62A5\u7684\u6570\u636E\u90E8\u5206\u5305\u542B\u7D27\u6025\u4FE1\u606F\uFF0C\u662F\u4E00\u4E2A\u9AD8\u4F18\u5148\u7EA7\u6570\u636E\u62A5\u6587\uFF0C\u6B64\u65F6\u7D27\u6025\u6307\u9488\u6709\u6548\u3002\u7D27\u6025\u6570\u636E\u4E00\u5B9A\u4F4D\u4E8E\u5F53\u524D\u6570\u636E\u5305\u6570\u636E\u90E8\u5206\u7684\u6700\u524D\u9762\uFF0C\u7D27\u6025\u6307\u9488\u6807\u660E\u4E86\u7D27\u6025\u6570\u636E\u7684\u5C3E\u90E8\u3002</li><li><code>ACK=1</code>\uFF1A\u8BE5\u5B57\u6BB5\u4E3A\u4E00\u8868\u793A\u786E\u8BA4\u53F7\u5B57\u6BB5\u6709\u6548\u3002\u6B64\u5916\uFF0C<code>TCP</code> \u8FD8\u89C4\u5B9A\u5728\u8FDE\u63A5\u5EFA\u7ACB\u540E\u4F20\u9001\u7684\u6240\u6709\u62A5\u6587\u6BB5\u90FD\u5FC5\u987B\u628A <code>ACK</code> \u7F6E\u4E3A\u4E00\u3002</li><li><code>PSH=1</code>\uFF1A\u8BE5\u5B57\u6BB5\u4E3A\u4E00\u8868\u793A\u63A5\u6536\u7AEF\u5E94\u8BE5\u7ACB\u5373\u5C06\u6570\u636E <code>push</code> \u7ED9\u5E94\u7528\u5C42\uFF0C\u800C\u4E0D\u662F\u7B49\u5230\u7F13\u51B2\u533A\u6EE1\u540E\u518D\u63D0\u4EA4\u3002</li><li><code>RST=1</code>\uFF1A\u8BE5\u5B57\u6BB5\u4E3A\u4E00\u8868\u793A\u5F53\u524D <code>TCP</code> \u8FDE\u63A5\u51FA\u73B0\u4E25\u91CD\u95EE\u9898\uFF0C\u53EF\u80FD\u9700\u8981\u91CD\u65B0\u5EFA\u7ACB TCP \u8FDE\u63A5\uFF0C\u4E5F\u53EF\u4EE5\u7528\u4E8E\u62D2\u7EDD\u975E\u6CD5\u7684\u62A5\u6587\u6BB5\u548C\u62D2\u7EDD\u8FDE\u63A5\u8BF7\u6C42\u3002</li><li><code>SYN=1</code>\uFF1A\u5F53<code>SYN=1</code>\uFF0C<code>ACK=0</code>\u65F6\uFF0C\u8868\u793A\u5F53\u524D\u62A5\u6587\u6BB5\u662F\u4E00\u4E2A\u8FDE\u63A5\u8BF7\u6C42\u62A5\u6587\u3002\u5F53 <code>SYN=1</code>\uFF0C<code>ACK=1</code>\u65F6\uFF0C\u8868\u793A\u5F53\u524D\u62A5\u6587\u6BB5\u662F\u4E00\u4E2A\u540C\u610F\u5EFA\u7ACB\u8FDE\u63A5\u7684\u5E94\u7B54\u62A5\u6587\u3002</li><li><code>FIN=1</code>\uFF1A\u8BE5\u5B57\u6BB5\u4E3A\u4E00\u8868\u793A\u6B64\u62A5\u6587\u6BB5\u662F\u4E00\u4E2A\u91CA\u653E\u8FDE\u63A5\u7684\u8BF7\u6C42\u62A5\u6587\u3002</li></ul></li></ul><p><strong>2. \u72B6\u6001\u673A</strong></p><blockquote><p><code>TCP</code> \u7684\u72B6\u6001\u673A\u662F\u5F88\u590D\u6742\u7684\uFF0C\u5E76\u4E14\u4E0E\u5EFA\u7ACB\u65AD\u5F00\u8FDE\u63A5\u65F6\u7684\u63E1\u624B\u606F\u606F\u76F8\u5173\uFF0C\u63A5\u4E0B\u6765\u5C31\u6765\u8BE6\u7EC6\u63CF\u8FF0\u4E0B\u4E24\u79CD\u63E1\u624B</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/34.png" alt="img"></p><blockquote><p>\u5728\u8FD9\u4E4B\u524D\u9700\u8981\u4E86\u89E3\u4E00\u4E2A\u91CD\u8981\u7684\u6027\u80FD\u6307\u6807 <code>RTT</code>\u3002\u8BE5\u6307\u6807\u8868\u793A\u53D1\u9001\u7AEF\u53D1\u9001\u6570\u636E\u5230\u63A5\u6536\u5230\u5BF9\u7AEF\u6570\u636E\u6240\u9700\u7684\u5F80\u8FD4\u65F6\u95F4</p></blockquote><p><strong>2.1. \u5EFA\u7ACB\u8FDE\u63A5\u4E09\u6B21\u63E1\u624B</strong></p><ul><li>\u9996\u5148\u5047\u8BBE\u4E3B\u52A8\u53D1\u8D77\u8BF7\u6C42\u7684\u4E00\u7AEF\u79F0\u4E3A\u5BA2\u6237\u7AEF\uFF0C\u88AB\u52A8\u8FDE\u63A5\u7684\u4E00\u7AEF\u79F0\u4E3A\u670D\u52A1\u7AEF\u3002\u4E0D\u7BA1\u662F\u5BA2\u6237\u7AEF\u8FD8\u662F\u670D\u52A1\u7AEF\uFF0C<code>TCP</code> \u8FDE\u63A5\u5EFA\u7ACB\u5B8C\u540E\u90FD\u80FD\u53D1\u9001\u548C\u63A5\u6536\u6570\u636E\uFF0C\u6240\u4EE5 <code>TCP</code> \u662F\u4E00\u4E2A\u5168\u53CC\u5DE5\u7684\u534F\u8BAE\u3002</li><li>\u8D77\u521D\uFF0C\u4E24\u7AEF\u90FD\u4E3A <code>CLOSED</code> \u72B6\u6001\u3002\u5728\u901A\u4FE1\u5F00\u59CB\u524D\uFF0C\u53CC\u65B9\u90FD\u4F1A\u521B\u5EFA <code>TCB</code>\u3002 \u670D\u52A1\u5668\u521B\u5EFA\u5B8C <code>TCB</code> \u540E\u4FBF\u8FDB\u5165 <code>LISTEN</code> \u72B6\u6001\uFF0C\u6B64\u65F6\u5F00\u59CB\u7B49\u5F85\u5BA2\u6237\u7AEF\u53D1\u9001\u6570\u636E</li></ul><p><strong>\u7B2C\u4E00\u6B21\u63E1\u624B</strong></p><blockquote><p>\u5BA2\u6237\u7AEF\u5411\u670D\u52A1\u7AEF\u53D1\u9001\u8FDE\u63A5\u8BF7\u6C42\u62A5\u6587\u6BB5\u3002\u8BE5\u62A5\u6587\u6BB5\u4E2D\u5305\u542B\u81EA\u8EAB\u7684\u6570\u636E\u901A\u8BAF\u521D\u59CB\u5E8F\u53F7\u3002\u8BF7\u6C42\u53D1\u9001\u540E\uFF0C\u5BA2\u6237\u7AEF\u4FBF\u8FDB\u5165 <code>SYN-SENT</code> \u72B6\u6001</p></blockquote><p><strong>\u7B2C\u4E8C\u6B21\u63E1\u624B</strong></p><blockquote><p>\u670D\u52A1\u7AEF\u6536\u5230\u8FDE\u63A5\u8BF7\u6C42\u62A5\u6587\u6BB5\u540E\uFF0C\u5982\u679C\u540C\u610F\u8FDE\u63A5\uFF0C\u5219\u4F1A\u53D1\u9001\u4E00\u4E2A\u5E94\u7B54\uFF0C\u8BE5\u5E94\u7B54\u4E2D\u4E5F\u4F1A\u5305\u542B\u81EA\u8EAB\u7684\u6570\u636E\u901A\u8BAF\u521D\u59CB\u5E8F\u53F7\uFF0C\u53D1\u9001\u5B8C\u6210\u540E\u4FBF\u8FDB\u5165 <code>SYN-RECEIVED</code> \u72B6\u6001</p></blockquote><p><strong>\u7B2C\u4E09\u6B21\u63E1\u624B</strong></p><ul><li>\u5F53\u5BA2\u6237\u7AEF\u6536\u5230\u8FDE\u63A5\u540C\u610F\u7684\u5E94\u7B54\u540E\uFF0C\u8FD8\u8981\u5411\u670D\u52A1\u7AEF\u53D1\u9001\u4E00\u4E2A\u786E\u8BA4\u62A5\u6587\u3002\u5BA2\u6237\u7AEF\u53D1\u5B8C\u8FD9\u4E2A\u62A5\u6587\u6BB5\u540E\u4FBF\u8FDB\u5165 <code>ESTABLISHED</code> \u72B6\u6001\uFF0C\u670D\u52A1\u7AEF\u6536\u5230\u8FD9\u4E2A\u5E94\u7B54\u540E\u4E5F\u8FDB\u5165 <code>ESTABLISHED</code> \u72B6\u6001\uFF0C\u6B64\u65F6\u8FDE\u63A5\u5EFA\u7ACB\u6210\u529F\u3002</li><li>PS\uFF1A\u7B2C\u4E09\u6B21\u63E1\u624B\u4E2D\u53EF\u4EE5\u5305\u542B\u6570\u636E\uFF0C\u901A\u8FC7\u5FEB\u901F\u6253\u5F00\uFF08<code>TFO</code>\uFF09\u6280\u672F\u5C31\u53EF\u4EE5\u5B9E\u73B0\u8FD9\u4E00\u529F\u80FD\u3002\u5176\u5B9E\u53EA\u8981\u6D89\u53CA\u5230\u63E1\u624B\u7684\u534F\u8BAE\uFF0C\u90FD\u53EF\u4EE5\u4F7F\u7528\u7C7B\u4F3C <code>TFO</code> \u7684\u65B9\u5F0F\uFF0C\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u5B58\u50A8\u76F8\u540C\u7684 <code>cookie</code>\uFF0C\u4E0B\u6B21\u63E1\u624B\u65F6\u53D1\u51FA <code>cookie</code> \u8FBE\u5230\u51CF\u5C11 <code>RTT</code> \u7684\u76EE\u7684\u3002</li></ul><blockquote><p>\u5E38\u8003\u9762\u8BD5\u9898\uFF1A\u4E3A\u4EC0\u4E48 <code>TCP</code> \u5EFA\u7ACB\u8FDE\u63A5\u9700\u8981\u4E09\u6B21\u63E1\u624B\uFF0C\u660E\u660E\u4E24\u6B21\u5C31\u53EF\u4EE5\u5EFA\u7ACB\u8D77\u8FDE\u63A5</p></blockquote><ul><li>\u56E0\u4E3A\u8FD9\u662F\u4E3A\u4E86\u9632\u6B62\u51FA\u73B0\u5931\u6548\u7684\u8FDE\u63A5\u8BF7\u6C42\u62A5\u6587\u6BB5\u88AB\u670D\u52A1\u7AEF\u63A5\u6536\u7684\u60C5\u51B5\uFF0C\u4ECE\u800C\u4EA7\u751F\u9519\u8BEF\u3002</li><li>\u53EF\u4EE5\u60F3\u8C61\u5982\u4E0B\u573A\u666F\u3002\u5BA2\u6237\u7AEF\u53D1\u9001\u4E86\u4E00\u4E2A\u8FDE\u63A5\u8BF7\u6C42 <code>A</code>\uFF0C\u4F46\u662F\u56E0\u4E3A\u7F51\u7EDC\u539F\u56E0\u9020\u6210\u4E86\u8D85\u65F6\uFF0C\u8FD9\u65F6 <code>TCP</code> \u4F1A\u542F\u52A8\u8D85\u65F6\u91CD\u4F20\u7684\u673A\u5236\u518D\u6B21\u53D1\u9001\u4E00\u4E2A\u8FDE\u63A5\u8BF7\u6C42 <code>B</code>\u3002\u6B64\u65F6\u8BF7\u6C42\u987A\u5229\u5230\u8FBE\u670D\u52A1\u7AEF\uFF0C\u670D\u52A1\u7AEF\u5E94\u7B54\u5B8C\u5C31\u5EFA\u7ACB\u4E86\u8BF7\u6C42\uFF0C\u7136\u540E\u63A5\u6536\u6570\u636E\u540E\u91CA\u653E\u4E86\u8FDE\u63A5\u3002</li></ul><blockquote><p>\u5047\u8BBE\u8FD9\u65F6\u5019\u8FDE\u63A5\u8BF7\u6C42 <code>A</code> \u5728\u4E24\u7AEF\u5173\u95ED\u540E\u7EC8\u4E8E\u62B5\u8FBE\u4E86\u670D\u52A1\u7AEF\uFF0C\u90A3\u4E48\u6B64\u65F6\u670D\u52A1\u7AEF\u4F1A\u8BA4\u4E3A\u5BA2\u6237\u7AEF\u53C8\u9700\u8981\u5EFA\u7ACB <code>TCP</code> \u8FDE\u63A5\uFF0C\u4ECE\u800C\u5E94\u7B54\u4E86\u8BE5\u8BF7\u6C42\u5E76\u8FDB\u5165 <code>ESTABLISHED</code> \u72B6\u6001\u3002\u4F46\u662F\u5BA2\u6237\u7AEF\u5176\u5B9E\u662F <code>CLOSED</code> \u7684\u72B6\u6001\uFF0C\u90A3\u4E48\u5C31\u4F1A\u5BFC\u81F4\u670D\u52A1\u7AEF\u4E00\u76F4\u7B49\u5F85\uFF0C\u9020\u6210\u8D44\u6E90\u7684\u6D6A\u8D39\u3002</p></blockquote><blockquote><p>PS\uFF1A\u5728\u5EFA\u7ACB\u8FDE\u63A5\u4E2D\uFF0C\u4EFB\u610F\u4E00\u7AEF\u6389\u7EBF\uFF0C<code>TCP</code> \u90FD\u4F1A\u91CD\u53D1 <code>SYN</code> \u5305\uFF0C\u4E00\u822C\u4F1A\u91CD\u8BD5\u4E94\u6B21\uFF0C\u5728\u5EFA\u7ACB\u8FDE\u63A5\u4E2D\u53EF\u80FD\u4F1A\u9047\u5230 <code>SYN Flood</code> \u653B\u51FB\u3002\u9047\u5230\u8FD9\u79CD\u60C5\u51B5\u4F60\u53EF\u4EE5\u9009\u62E9\u8C03\u4F4E\u91CD\u8BD5\u6B21\u6570\u6216\u8005\u5E72\u8106\u5728\u4E0D\u80FD\u5904\u7406\u7684\u60C5\u51B5\u4E0B\u62D2\u7EDD\u8BF7\u6C42</p></blockquote><p><strong>2.2. \u65AD\u5F00\u94FE\u63A5\u56DB\u6B21\u63E1\u624B</strong></p><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/35.png" alt="img"></p><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>TCP` \u662F\u5168\u53CC\u5DE5\u7684\uFF0C\u5728\u65AD\u5F00\u8FDE\u63A5\u65F6\u4E24\u7AEF\u90FD\u9700\u8981\u53D1\u9001 `FIN` \u548C `ACK\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><p><strong>\u7B2C\u4E00\u6B21\u63E1\u624B</strong></p><blockquote><p>\u82E5\u5BA2\u6237\u7AEF <code>A</code> \u8BA4\u4E3A\u6570\u636E\u53D1\u9001\u5B8C\u6210\uFF0C\u5219\u5B83\u9700\u8981\u5411\u670D\u52A1\u7AEF <code>B</code> \u53D1\u9001\u8FDE\u63A5\u91CA\u653E\u8BF7\u6C42\u3002</p></blockquote><p><strong>\u7B2C\u4E8C\u6B21\u63E1\u624B</strong></p><blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>B` \u6536\u5230\u8FDE\u63A5\u91CA\u653E\u8BF7\u6C42\u540E\uFF0C\u4F1A\u544A\u8BC9\u5E94\u7528\u5C42\u8981\u91CA\u653E `TCP` \u94FE\u63A5\u3002\u7136\u540E\u4F1A\u53D1\u9001 `ACK` \u5305\uFF0C\u5E76\u8FDB\u5165 `CLOSE_WAIT`\u72B6\u6001\uFF0C\u6B64\u65F6\u8868\u660E `A` \u5230 `B` \u7684\u8FDE\u63A5\u5DF2\u7ECF\u91CA\u653E\uFF0C\u4E0D\u518D\u63A5\u6536 `A` \u53D1\u7684\u6570\u636E\u4E86\u3002\u4F46\u662F\u56E0\u4E3A `TCP` \u8FDE\u63A5\u662F\u53CC\u5411\u7684\uFF0C\u6240\u4EE5 `B` \u4ECD\u65E7\u53EF\u4EE5\u53D1\u9001\u6570\u636E\u7ED9 `A\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></blockquote><p><strong>3. ARQ \u534F\u8BAE</strong></p><blockquote><p><code>ARQ</code> \u534F\u8BAE\u4E5F\u5C31\u662F\u8D85\u65F6\u91CD\u4F20\u673A\u5236\u3002\u901A\u8FC7\u786E\u8BA4\u548C\u8D85\u65F6\u673A\u5236\u4FDD\u8BC1\u4E86\u6570\u636E\u7684\u6B63\u786E\u9001\u8FBE\uFF0C<code>ARQ</code> \u534F\u8BAE\u5305\u542B\u505C\u6B62\u7B49\u5F85 <code>ARQ</code> \u548C\u8FDE\u7EED <code>ARQ</code> \u4E24\u79CD\u534F\u8BAE\u3002</p></blockquote><p><strong>\u505C\u6B62\u7B49\u5F85 ARQ</strong></p><p><strong>\u6B63\u5E38\u4F20\u8F93\u8FC7\u7A0B</strong></p><blockquote><p>\u53EA\u8981 A \u5411 B \u53D1\u9001\u4E00\u6BB5\u62A5\u6587\uFF0C\u90FD\u8981\u505C\u6B62\u53D1\u9001\u5E76\u542F\u52A8\u4E00\u4E2A\u5B9A\u65F6\u5668\uFF0C\u7B49\u5F85\u5BF9\u7AEF\u56DE\u5E94\uFF0C\u5728\u5B9A\u65F6\u5668\u65F6\u95F4\u5185\u63A5\u6536\u5230\u5BF9\u7AEF\u5E94\u7B54\u5C31\u53D6\u6D88\u5B9A\u65F6\u5668\u5E76\u53D1\u9001\u4E0B\u4E00\u6BB5\u62A5\u6587\u3002</p></blockquote><p><strong>\u62A5\u6587\u4E22\u5931\u6216\u51FA\u9519</strong></p><ul><li>\u5728\u62A5\u6587\u4F20\u8F93\u7684\u8FC7\u7A0B\u4E2D\u53EF\u80FD\u4F1A\u51FA\u73B0\u4E22\u5305\u3002\u8FD9\u65F6\u5019\u8D85\u8FC7\u5B9A\u65F6\u5668\u8BBE\u5B9A\u7684\u65F6\u95F4\u5C31\u4F1A\u518D\u6B21\u53D1\u9001\u4E22\u5931\u7684\u6570\u636E\u76F4\u5230\u5BF9\u7AEF\u54CD\u5E94\uFF0C\u6240\u4EE5\u9700\u8981\u6BCF\u6B21\u90FD\u5907\u4EFD\u53D1\u9001\u7684\u6570\u636E\u3002</li><li>\u5373\u4F7F\u62A5\u6587\u6B63\u5E38\u7684\u4F20\u8F93\u5230\u5BF9\u7AEF\uFF0C\u4E5F\u53EF\u80FD\u51FA\u73B0\u5728\u4F20\u8F93\u8FC7\u7A0B\u4E2D\u62A5\u6587\u51FA\u9519\u7684\u95EE\u9898\u3002\u8FD9\u65F6\u5019\u5BF9\u7AEF\u4F1A\u629B\u5F03\u8BE5\u62A5\u6587\u5E76\u7B49\u5F85 <code>A</code> \u7AEF\u91CD\u4F20\u3002</li><li>PS\uFF1A\u4E00\u822C\u5B9A\u65F6\u5668\u8BBE\u5B9A\u7684\u65F6\u95F4\u90FD\u4F1A\u5927\u4E8E\u4E00\u4E2A <code>RTT</code> \u7684\u5E73\u5747\u65F6\u95F4\u3002</li></ul><p><strong>\u7B2C\u4E09\u6B21\u63E1\u624B</strong></p><ul><li><code>B</code> \u5982\u679C\u6B64\u65F6\u8FD8\u6709\u6CA1\u53D1\u5B8C\u7684\u6570\u636E\u4F1A\u7EE7\u7EED\u53D1\u9001\uFF0C\u5B8C\u6BD5\u540E\u4F1A\u5411 <code>A</code> \u53D1\u9001\u8FDE\u63A5\u91CA\u653E\u8BF7\u6C42\uFF0C\u7136\u540E <code>B</code> \u4FBF\u8FDB\u5165 <code>LAST-ACK</code> \u72B6\u6001\u3002</li><li>PS\uFF1A\u901A\u8FC7\u5EF6\u8FDF\u786E\u8BA4\u7684\u6280\u672F\uFF08\u901A\u5E38\u6709\u65F6\u95F4\u9650\u5236\uFF0C\u5426\u5219\u5BF9\u65B9\u4F1A\u8BEF\u8BA4\u4E3A\u9700\u8981\u91CD\u4F20\uFF09\uFF0C\u53EF\u4EE5\u5C06\u7B2C\u4E8C\u6B21\u548C\u7B2C\u4E09\u6B21\u63E1\u624B\u5408\u5E76\uFF0C\u5EF6\u8FDF <code>ACK</code> \u5305\u7684\u53D1\u9001\u3002</li></ul><p><strong>\u7B2C\u56DB\u6B21\u63E1\u624B</strong></p><blockquote><p>A \u6536\u5230\u91CA\u653E\u8BF7\u6C42\u540E\uFF0C\u5411 B \u53D1\u9001\u786E\u8BA4\u5E94\u7B54\uFF0C\u6B64\u65F6 A \u8FDB\u5165 TIME-WAIT \u72B6\u6001\u3002\u8BE5\u72B6\u6001\u4F1A\u6301\u7EED 2MSL\uFF08\u6700\u5927\u6BB5\u751F\u5B58\u671F\uFF0C\u6307\u62A5\u6587\u6BB5\u5728\u7F51\u7EDC\u4E2D\u751F\u5B58\u7684\u65F6\u95F4\uFF0C\u8D85\u65F6\u4F1A\u88AB\u629B\u5F03\uFF09 \u65F6\u95F4\uFF0C\u82E5\u8BE5\u65F6\u95F4\u6BB5\u5185\u6CA1\u6709 B \u7684\u91CD\u53D1\u8BF7\u6C42\u7684\u8BDD\uFF0C\u5C31\u8FDB\u5165 CLOSED \u72B6\u6001\u3002\u5F53 B \u6536\u5230\u786E\u8BA4\u5E94\u7B54\u540E\uFF0C\u4E5F\u4FBF\u8FDB\u5165 CLOSED \u72B6\u6001\u3002</p></blockquote><ul><li>\u4E3A\u4EC0\u4E48 A \u8981\u8FDB\u5165 TIME-WAIT \u72B6\u6001\uFF0C\u7B49\u5F85 2MSL \u65F6\u95F4\u540E\u624D\u8FDB\u5165 CLOSED \u72B6\u6001\uFF1F</li><li>\u4E3A\u4E86\u4FDD\u8BC1 B \u80FD\u6536\u5230 A \u7684\u786E\u8BA4\u5E94\u7B54\u3002\u82E5 A \u53D1\u5B8C\u786E\u8BA4\u5E94\u7B54\u540E\u76F4\u63A5\u8FDB\u5165 CLOSED \u72B6\u6001\uFF0C\u5982\u679C\u786E\u8BA4\u5E94\u7B54\u56E0\u4E3A\u7F51\u7EDC\u95EE\u9898\u4E00\u76F4\u6CA1\u6709\u5230\u8FBE\uFF0C\u90A3\u4E48\u4F1A\u9020\u6210 B \u4E0D\u80FD\u6B63\u5E38\u5173\u95ED\u3002</li></ul><p><strong>ACK \u8D85\u65F6\u6216\u4E22\u5931</strong></p><ul><li>\u5BF9\u7AEF\u4F20\u8F93\u7684\u5E94\u7B54\u4E5F\u53EF\u80FD\u51FA\u73B0\u4E22\u5931\u6216\u8D85\u65F6\u7684\u60C5\u51B5\u3002\u90A3\u4E48\u8D85\u8FC7\u5B9A\u65F6\u5668\u65F6\u95F4 A \u7AEF\u7167\u6837\u4F1A\u91CD\u4F20\u62A5\u6587\u3002\u8FD9\u65F6\u5019 B \u7AEF\u6536\u5230\u76F8\u540C\u5E8F\u53F7\u7684\u62A5\u6587\u4F1A\u4E22\u5F03\u8BE5\u62A5\u6587\u5E76\u91CD\u4F20\u5E94\u7B54\uFF0C\u76F4\u5230 A \u7AEF\u53D1\u9001\u4E0B\u4E00\u4E2A\u5E8F\u53F7\u7684\u62A5\u6587\u3002</li><li>\u5728\u8D85\u65F6\u7684\u60C5\u51B5\u4E0B\u4E5F\u53EF\u80FD\u51FA\u73B0\u5E94\u7B54\u5F88\u8FDF\u5230\u8FBE\uFF0C\u8FD9\u65F6 A \u7AEF\u4F1A\u5224\u65AD\u8BE5\u5E8F\u53F7\u662F\u5426\u5DF2\u7ECF\u63A5\u6536\u8FC7\uFF0C\u5982\u679C\u63A5\u6536\u8FC7\u53EA\u9700\u8981\u4E22\u5F03\u5E94\u7B54\u5373\u53EF\u3002</li><li>\u4ECE\u4E0A\u9762\u7684\u63CF\u8FF0\u4E2D\u5927\u5BB6\u80AF\u5B9A\u53EF\u4EE5\u53D1\u73B0\u8FD9\u80AF\u5B9A\u4E0D\u662F\u4E00\u4E2A\u9AD8\u6548\u7684\u65B9\u5F0F\u3002\u5047\u8BBE\u5728\u826F\u597D\u7684\u7F51\u7EDC\u73AF\u5883\u4E2D\uFF0C\u6BCF\u6B21\u53D1\u9001\u6570\u636E\u90FD\u9700\u8981\u7B49\u5F85\u7247\u523B\u80AF\u5B9A\u662F\u4E0D\u80FD\u63A5\u53D7\u7684\u3002\u90A3\u4E48\u65E2\u7136\u6211\u4EEC\u4E0D\u80FD\u63A5\u53D7\u8FD9\u4E2A\u4E0D\u90A3\u4E48\u9AD8\u6548\u7684\u534F\u8BAE\uFF0C\u5C31\u6765\u7EE7\u7EED\u5B66\u4E60\u76F8\u5BF9\u9AD8\u6548\u7684\u534F\u8BAE\u5427\u3002</li></ul><p><strong>\u8FDE\u7EED ARQ</strong></p><blockquote><p>\u5728\u8FDE\u7EED ARQ \u4E2D\uFF0C\u53D1\u9001\u7AEF\u62E5\u6709\u4E00\u4E2A\u53D1\u9001\u7A97\u53E3\uFF0C\u53EF\u4EE5\u5728\u6CA1\u6709\u6536\u5230\u5E94\u7B54\u7684\u60C5\u51B5\u4E0B\u6301\u7EED\u53D1\u9001\u7A97\u53E3\u5185\u7684\u6570\u636E\uFF0C\u8FD9\u6837\u76F8\u6BD4\u505C\u6B62\u7B49\u5F85 ARQ \u534F\u8BAE\u6765\u8BF4\u51CF\u5C11\u4E86\u7B49\u5F85\u65F6\u95F4\uFF0C\u63D0\u9AD8\u4E86\u6548\u7387\u3002</p></blockquote><p><strong>\u7D2F\u8BA1\u786E\u8BA4</strong></p><blockquote><p>\u8FDE\u7EED ARQ \u4E2D\uFF0C\u63A5\u6536\u7AEF\u4F1A\u6301\u7EED\u4E0D\u65AD\u6536\u5230\u62A5\u6587\u3002\u5982\u679C\u548C\u505C\u6B62\u7B49\u5F85 ARQ \u4E2D\u63A5\u6536\u4E00\u4E2A\u62A5\u6587\u5C31\u53D1\u9001\u4E00\u4E2A\u5E94\u7B54\u4E00\u6837\uFF0C\u5C31\u592A\u6D6A\u8D39\u8D44\u6E90\u4E86\u3002\u901A\u8FC7\u7D2F\u8BA1\u786E\u8BA4\uFF0C\u53EF\u4EE5\u5728\u6536\u5230\u591A\u4E2A\u62A5\u6587\u4EE5\u540E\u7EDF\u4E00\u56DE\u590D\u4E00\u4E2A\u5E94\u7B54\u62A5\u6587\u3002\u62A5\u6587\u4E2D\u7684 ACK \u6807\u5FD7\u4F4D\u53EF\u4EE5\u7528\u6765\u544A\u8BC9\u53D1\u9001\u7AEF\u8FD9\u4E2A\u5E8F\u53F7\u4E4B\u524D\u7684\u6570\u636E\u5DF2\u7ECF\u5168\u90E8\u63A5\u6536\u5230\u4E86\uFF0C\u4E0B\u6B21\u8BF7\u53D1\u9001\u8FD9\u4E2A\u5E8F\u53F7\u540E\u7684\u6570\u636E\u3002</p></blockquote><blockquote><p>\u4F46\u662F\u7D2F\u8BA1\u786E\u8BA4\u4E5F\u6709\u4E00\u4E2A\u5F0A\u7AEF\u3002\u5728\u8FDE\u7EED\u63A5\u6536\u62A5\u6587\u65F6\uFF0C\u53EF\u80FD\u4F1A\u9047\u5230\u63A5\u6536\u5230\u5E8F\u53F7 5 \u7684\u62A5\u6587\u540E\uFF0C\u5E76\u672A\u63A5\u6536\u5230\u5E8F\u53F7 6 \u7684\u62A5\u6587\uFF0C\u7136\u800C\u5E8F\u53F7 7 \u4EE5\u540E\u7684\u62A5\u6587\u5DF2\u7ECF\u63A5\u6536\u3002\u9047\u5230\u8FD9\u79CD\u60C5\u51B5\u65F6\uFF0CACK \u53EA\u80FD\u56DE\u590D 6\uFF0C\u8FD9\u6837\u5C31\u4F1A\u9020\u6210\u53D1\u9001\u7AEF\u91CD\u590D\u53D1\u9001\u6570\u636E\u7684\u60C5\u51B5</p></blockquote><p><strong>4. \u6ED1\u52A8\u7A97\u53E3</strong></p><ul><li>\u4E0A\u9762\u5C0F\u8282\u4E2D\u8BB2\u5230\u4E86\u53D1\u9001\u7A97\u53E3\u3002\u5728 <code>TCP</code> \u4E2D\uFF0C\u4E24\u7AEF\u5176\u5B9E\u90FD\u7EF4\u62A4\u7740\u7A97\u53E3\uFF1A\u5206\u522B\u4E3A\u53D1\u9001\u7AEF\u7A97\u53E3\u548C\u63A5\u6536\u7AEF\u7A97\u53E3\u3002</li><li>\u53D1\u9001\u7AEF\u7A97\u53E3\u5305\u542B\u5DF2\u53D1\u9001\u4F46\u672A\u6536\u5230\u5E94\u7B54\u7684\u6570\u636E\u548C\u53EF\u4EE5\u53D1\u9001\u4F46\u662F\u672A\u53D1\u9001\u7684\u6570\u636E\u3002</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/36.png" alt="img"></p><ul><li>\u53D1\u9001\u7AEF\u7A97\u53E3\u662F\u7531\u63A5\u6536\u7A97\u53E3\u5269\u4F59\u5927\u5C0F\u51B3\u5B9A\u7684\u3002\u63A5\u6536\u65B9\u4F1A\u628A\u5F53\u524D\u63A5\u6536\u7A97\u53E3\u7684\u5269\u4F59\u5927\u5C0F\u5199\u5165\u5E94\u7B54\u62A5\u6587\uFF0C\u53D1\u9001\u7AEF\u6536\u5230\u5E94\u7B54\u540E\u6839\u636E\u8BE5\u503C\u548C\u5F53\u524D\u7F51\u7EDC\u62E5\u585E\u60C5\u51B5\u8BBE\u7F6E\u53D1\u9001\u7A97\u53E3\u7684\u5927\u5C0F\uFF0C\u6240\u4EE5\u53D1\u9001\u7A97\u53E3\u7684\u5927\u5C0F\u662F\u4E0D\u65AD\u53D8\u5316\u7684\u3002</li><li>\u5F53\u53D1\u9001\u7AEF\u63A5\u6536\u5230\u5E94\u7B54\u62A5\u6587\u540E\uFF0C\u4F1A\u968F\u4E4B\u5C06\u7A97\u53E3\u8FDB\u884C\u6ED1\u52A8</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/37.png" alt="img"></p><blockquote><p>\u6ED1\u52A8\u7A97\u53E3\u662F\u4E00\u4E2A\u5F88\u91CD\u8981\u7684\u6982\u5FF5\uFF0C\u5B83\u5E2E\u52A9 TCP \u5B9E\u73B0\u4E86\u6D41\u91CF\u63A7\u5236\u7684\u529F\u80FD\u3002\u63A5\u6536\u65B9\u901A\u8FC7\u62A5\u6587\u544A\u77E5\u53D1\u9001\u65B9\u8FD8\u53EF\u4EE5\u53D1\u9001\u591A\u5C11\u6570\u636E\uFF0C\u4ECE\u800C\u4FDD\u8BC1\u63A5\u6536\u65B9\u80FD\u591F\u6765\u5F97\u53CA\u63A5\u6536\u6570\u636E\uFF0C\u9632\u6B62\u51FA\u73B0\u63A5\u6536\u65B9\u5E26\u5BBD\u5DF2\u6EE1\uFF0C\u4F46\u662F\u53D1\u9001\u65B9\u8FD8\u4E00\u76F4\u53D1\u9001\u6570\u636E\u7684\u60C5\u51B5</p></blockquote><p><strong>Zero \u7A97\u53E3</strong></p><blockquote><p>\u5728\u53D1\u9001\u62A5\u6587\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u53EF\u80FD\u4F1A\u9047\u5230\u5BF9\u7AEF\u51FA\u73B0\u96F6\u7A97\u53E3\u7684\u60C5\u51B5\u3002\u5728\u8BE5\u60C5\u51B5\u4E0B\uFF0C\u53D1\u9001\u7AEF\u4F1A\u505C\u6B62\u53D1\u9001\u6570\u636E\uFF0C\u5E76\u542F\u52A8 <code>persistent timer</code> \u3002\u8BE5\u5B9A\u65F6\u5668\u4F1A\u5B9A\u65F6\u53D1\u9001\u8BF7\u6C42\u7ED9\u5BF9\u7AEF\uFF0C\u8BA9\u5BF9\u7AEF\u544A\u77E5\u7A97\u53E3\u5927\u5C0F\u3002\u5728\u91CD\u8BD5\u6B21\u6570\u8D85\u8FC7\u4E00\u5B9A\u6B21\u6570\u540E\uFF0C\u53EF\u80FD\u4F1A\u4E2D\u65AD <code>TCP</code> \u94FE\u63A5</p></blockquote><p><strong>5. \u62E5\u585E\u5904\u7406</strong></p><ul><li>\u62E5\u585E\u5904\u7406\u548C\u6D41\u91CF\u63A7\u5236\u4E0D\u540C\uFF0C\u540E\u8005\u662F\u4F5C\u7528\u4E8E\u63A5\u6536\u65B9\uFF0C\u4FDD\u8BC1\u63A5\u6536\u65B9\u6765\u5F97\u53CA\u63A5\u53D7\u6570\u636E\u3002\u800C\u524D\u8005\u662F\u4F5C\u7528\u4E8E\u7F51\u7EDC\uFF0C\u9632\u6B62\u8FC7\u591A\u7684\u6570\u636E\u62E5\u585E\u7F51\u7EDC\uFF0C\u907F\u514D\u51FA\u73B0\u7F51\u7EDC\u8D1F\u8F7D\u8FC7\u5927\u7684\u60C5\u51B5\u3002</li><li>\u62E5\u585E\u5904\u7406\u5305\u62EC\u4E86\u56DB\u4E2A\u7B97\u6CD5\uFF0C\u5206\u522B\u4E3A\uFF1A\u6162\u5F00\u59CB\uFF0C\u62E5\u585E\u907F\u514D\uFF0C\u5FEB\u901F\u91CD\u4F20\uFF0C\u5FEB\u901F\u6062\u590D</li></ul><p><strong>\u6162\u5F00\u59CB\u7B97\u6CD5</strong></p><blockquote><p>\u6162\u5F00\u59CB\u7B97\u6CD5\uFF0C\u987E\u540D\u601D\u4E49\uFF0C\u5C31\u662F\u5728\u4F20\u8F93\u5F00\u59CB\u65F6\u5C06\u53D1\u9001\u7A97\u53E3\u6162\u6162\u6307\u6570\u7EA7\u6269\u5927\uFF0C\u4ECE\u800C\u907F\u514D\u4E00\u5F00\u59CB\u5C31\u4F20\u8F93\u5927\u91CF\u6570\u636E\u5BFC\u81F4\u7F51\u7EDC\u62E5\u585E\u3002\u60F3\u5FC5\u5927\u5BB6\u90FD\u4E0B\u8F7D\u8FC7\u8D44\u6E90\uFF0C\u6BCF\u5F53\u6211\u4EEC\u5F00\u59CB\u4E0B\u8F7D\u7684\u65F6\u5019\u90FD\u4F1A\u53D1\u73B0\u4E0B\u8F7D\u901F\u5EA6\u662F\u6162\u6162\u63D0\u5347\u7684\uFF0C\u800C\u4E0D\u662F\u4E00\u8E74\u800C\u5C31\u76F4\u63A5\u62C9\u6EE1\u5E26\u5BBD</p></blockquote><p><strong>\u6162\u5F00\u59CB\u7B97\u6CD5\u6B65\u9AA4\u5177\u4F53\u5982\u4E0B</strong></p><ul><li>\u8FDE\u63A5\u521D\u59CB\u8BBE\u7F6E\u62E5\u585E\u7A97\u53E3\uFF08Congestion Window\uFF09 \u4E3A <code>1 MSS</code>\uFF08\u4E00\u4E2A\u5206\u6BB5\u7684\u6700\u5927\u6570\u636E\u91CF\uFF09</li><li>\u6BCF\u8FC7\u4E00\u4E2A <code>RTT</code> \u5C31\u5C06\u7A97\u53E3\u5927\u5C0F\u4E58\u4E8C</li><li>\u6307\u6570\u7EA7\u589E\u957F\u80AF\u5B9A\u4E0D\u80FD\u6CA1\u6709\u9650\u5236\u7684\uFF0C\u6240\u4EE5\u6709\u4E00\u4E2A\u9608\u503C\u9650\u5236\uFF0C\u5F53\u7A97\u53E3\u5927\u5C0F\u5927\u4E8E\u9608\u503C\u65F6\u5C31\u4F1A\u542F\u52A8\u62E5\u585E\u907F\u514D\u7B97\u6CD5\u3002</li></ul><p><strong>\u62E5\u585E\u907F\u514D\u7B97\u6CD5</strong></p><ul><li>\u62E5\u585E\u907F\u514D\u7B97\u6CD5\u76F8\u6BD4\u7B80\u5355\u70B9\uFF0C\u6BCF\u8FC7\u4E00\u4E2A <code>RTT</code> \u7A97\u53E3\u5927\u5C0F\u53EA\u52A0\u4E00\uFF0C\u8FD9\u6837\u80FD\u591F\u907F\u514D\u6307\u6570\u7EA7\u589E\u957F\u5BFC\u81F4\u7F51\u7EDC\u62E5\u585E\uFF0C\u6162\u6162\u5C06\u5927\u5C0F\u8C03\u6574\u5230\u6700\u4F73\u503C\u3002</li><li>\u5728\u4F20\u8F93\u8FC7\u7A0B\u4E2D\u53EF\u80FD\u5B9A\u65F6\u5668\u8D85\u65F6\u7684\u60C5\u51B5\uFF0C\u8FD9\u65F6\u5019 <code>TCP</code> \u4F1A\u8BA4\u4E3A\u7F51\u7EDC\u62E5\u585E\u4E86\uFF0C\u4F1A\u9A6C\u4E0A\u8FDB\u884C\u4EE5\u4E0B\u6B65\u9AA4\uFF1A</li></ul><ol><li>\u5C06\u9608\u503C\u8BBE\u4E3A\u5F53\u524D\u62E5\u585E\u7A97\u53E3\u7684\u4E00\u534A</li><li>\u5C06\u62E5\u585E\u7A97\u53E3\u8BBE\u4E3A <code>1 MSS</code></li><li>\u542F\u52A8\u62E5\u585E\u907F\u514D\u7B97\u6CD5</li></ol><p><strong>\u5FEB\u901F\u91CD\u4F20</strong></p><blockquote><p>\u5FEB\u901F\u91CD\u4F20\u4E00\u822C\u548C\u5FEB\u6062\u590D\u4E00\u8D77\u51FA\u73B0\u3002\u4E00\u65E6\u63A5\u6536\u7AEF\u6536\u5230\u7684\u62A5\u6587\u51FA\u73B0\u5931\u5E8F\u7684\u60C5\u51B5\uFF0C\u63A5\u6536\u7AEF\u53EA\u4F1A\u56DE\u590D\u6700\u540E\u4E00\u4E2A\u987A\u5E8F\u6B63\u786E\u7684\u62A5\u6587\u5E8F\u53F7\u3002\u5982\u679C\u53D1\u9001\u7AEF\u6536\u5230\u4E09\u4E2A\u91CD\u590D\u7684 <code>ACK</code>\uFF0C\u65E0\u9700\u7B49\u5F85\u5B9A\u65F6\u5668\u8D85\u65F6\u800C\u662F\u76F4\u63A5\u542F\u52A8\u5FEB\u901F\u91CD\u4F20\u7B97\u6CD5\u3002\u5177\u4F53\u7B97\u6CD5\u5206\u4E3A\u4E24\u79CD\uFF1A</p></blockquote><p><strong>TCP Taho \u5B9E\u73B0\u5982\u4E0B</strong></p><ul><li>\u5C06\u9608\u503C\u8BBE\u4E3A\u5F53\u524D\u62E5\u585E\u7A97\u53E3\u7684\u4E00\u534A</li><li>\u5C06\u62E5\u585E\u7A97\u53E3\u8BBE\u4E3A 1 MSS</li><li>\u91CD\u65B0\u5F00\u59CB\u6162\u5F00\u59CB\u7B97\u6CD5</li><li><code>TCP Reno</code> \u5B9E\u73B0\u5982\u4E0B</li></ul><p><strong>\u62E5\u585E\u7A97\u53E3\u51CF\u534A</strong></p><ul><li>\u5C06\u9608\u503C\u8BBE\u4E3A\u5F53\u524D\u62E5\u585E\u7A97\u53E3</li><li>\u8FDB\u5165\u5FEB\u6062\u590D\u9636\u6BB5\uFF08\u91CD\u53D1\u5BF9\u7AEF\u9700\u8981\u7684\u5305\uFF0C\u4E00\u65E6\u6536\u5230\u4E00\u4E2A\u65B0\u7684 ACK \u7B54\u590D\u5C31\u9000\u51FA\u8BE5\u9636\u6BB5\uFF09\uFF0C\u8FD9\u79CD\u65B9\u5F0F\u5728\u4E22\u5931\u591A\u4E2A\u5305\u7684\u60C5\u51B5\u4E0B\u5C31\u4E0D\u90A3\u4E48\u597D\u4E86</li><li>\u4F7F\u7528\u62E5\u585E\u907F\u514D\u7B97\u6CD5</li></ul><p><strong>TCP New Ren \u6539\u8FDB\u540E\u7684\u5FEB\u6062\u590D</strong></p><ul><li>TCP New Reno \u7B97\u6CD5\u6539\u8FDB\u4E86\u4E4B\u524D TCP Reno \u7B97\u6CD5\u7684\u7F3A\u9677\u3002\u5728\u4E4B\u524D\uFF0C\u5FEB\u6062\u590D\u4E2D\u53EA\u8981\u6536\u5230\u4E00\u4E2A\u65B0\u7684 ACK \u5305\uFF0C\u5C31\u4F1A\u9000\u51FA\u5FEB\u6062\u590D\u3002</li><li>\u5728 TCP New Reno \u4E2D\uFF0CTCP \u53D1\u9001\u65B9\u5148\u8BB0\u4E0B\u4E09\u4E2A\u91CD\u590D ACK \u7684\u5206\u6BB5\u7684\u6700\u5927\u5E8F\u53F7\u3002</li></ul><blockquote><p>\u5047\u5982\u6211\u6709\u4E00\u4E2A\u5206\u6BB5\u6570\u636E\u662F <code>1 ~ 10</code> \u8FD9\u5341\u4E2A\u5E8F\u53F7\u7684\u62A5\u6587\uFF0C\u5176\u4E2D\u4E22\u5931\u4E86\u5E8F\u53F7\u4E3A 3 \u548C 7 \u7684\u62A5\u6587\uFF0C\u90A3\u4E48\u8BE5\u5206\u6BB5\u7684\u6700\u5927\u5E8F\u53F7\u5C31\u662F 10\u3002\u53D1\u9001\u7AEF\u53EA\u4F1A\u6536\u5230 ACK \u5E8F\u53F7\u4E3A 3 \u7684\u5E94\u7B54\u3002\u8FD9\u65F6\u5019\u91CD\u53D1\u5E8F\u53F7\u4E3A 3 \u7684\u62A5\u6587\uFF0C\u63A5\u6536\u65B9\u987A\u5229\u63A5\u6536\u7684\u8BDD\u5C31\u4F1A\u53D1\u9001 ACK \u5E8F\u53F7\u4E3A 7 \u7684\u5E94\u7B54\u3002\u8FD9\u65F6\u5019 TCP \u77E5\u9053\u5BF9\u7AEF\u662F\u6709\u591A\u4E2A\u5305\u672A\u6536\u5230\uFF0C\u4F1A\u7EE7\u7EED\u53D1\u9001\u5E8F\u53F7\u4E3A 7 \u7684\u62A5\u6587\uFF0C\u63A5\u6536\u65B9\u987A\u5229\u63A5\u6536\u5E76\u4F1A\u53D1\u9001 ACK \u5E8F\u53F7\u4E3A 11 \u7684\u5E94\u7B54\uFF0C\u8FD9\u65F6\u53D1\u9001\u7AEF\u8BA4\u4E3A\u8FD9\u4E2A\u5206\u6BB5\u63A5\u6536\u7AEF\u5DF2\u7ECF\u987A\u5229\u63A5\u6536\uFF0C\u63A5\u4E0B\u6765\u4F1A\u9000\u51FA\u5FEB\u6062\u590D\u9636\u6BB5\u3002</p></blockquote>',74),Ji={id:"_32-http-tls",tabindex:"-1"},Ui=n("a",{class:"header-anchor",href:"#_32-http-tls","aria-hidden":"true"},"#",-1),zi=s(),Wi={href:"http://interview.poetries.top/docs/excellent.html#_32-http-tls",target:"_blank",rel:"noopener noreferrer"},Xi=s("#"),Gi=s("32 HTTP/TLS"),Qi={id:"_32-1-http-\u8BF7\u6C42\u4E2D\u7684\u5185\u5BB9",tabindex:"-1"},Ki=n("a",{class:"header-anchor",href:"#_32-1-http-\u8BF7\u6C42\u4E2D\u7684\u5185\u5BB9","aria-hidden":"true"},"#",-1),$i=s(),Yi={href:"http://interview.poetries.top/docs/excellent.html#_32-1-http-%E8%AF%B7%E6%B1%82%E4%B8%AD%E7%9A%84%E5%86%85%E5%AE%B9",target:"_blank",rel:"noopener noreferrer"},Zi=s("#"),nk=s("32.1 HTTP \u8BF7\u6C42\u4E2D\u7684\u5185\u5BB9"),sk=e("<blockquote><p><code>HTTP</code> \u8BF7\u6C42\u7531\u4E09\u90E8\u5206\u6784\u6210\uFF0C\u5206\u522B\u4E3A\uFF1A</p></blockquote><ul><li>\u8BF7\u6C42\u884C</li><li>\u9996\u90E8</li><li>\u5B9E\u4F53</li></ul><blockquote><ul><li>\u8BF7\u6C42\u884C\u5927\u6982\u957F\u8FD9\u6837 <code>GET /images/logo.gif HTTP/1.1</code>\uFF0C\u57FA\u672C\u7531\u8BF7\u6C42\u65B9\u6CD5\u3001<code>URL</code>\u3001\u534F\u8BAE\u7248\u672C\u7EC4\u6210\uFF0C\u8FD9\u5176\u4E2D\u503C\u5F97\u4E00\u8BF4\u7684\u5C31\u662F\u8BF7\u6C42\u65B9\u6CD5\u4E86\u3002</li><li>\u8BF7\u6C42\u65B9\u6CD5\u5206\u4E3A\u5F88\u591A\u79CD\uFF0C\u6700\u5E38\u7528\u7684\u4E5F\u5C31\u662F <code>Get</code> \u548C <code>Post</code> \u4E86\u3002\u867D\u7136\u8BF7\u6C42\u65B9\u6CD5\u6709\u5F88\u591A\uFF0C\u4F46\u662F\u66F4\u591A\u7684\u662F\u4F20\u8FBE\u4E00\u4E2A\u8BED\u4E49\uFF0C\u800C\u4E0D\u662F\u8BF4 <code>Post</code> \u80FD\u505A\u7684\u4E8B\u60C5 <code>Get</code> \u5C31\u4E0D\u80FD\u505A\u4E86\u3002\u5982\u679C\u4F60\u613F\u610F\uFF0C\u90FD\u4F7F\u7528 <code>Get</code> \u8BF7\u6C42\u6216\u8005 <code>Post</code> \u8BF7\u6C42\u90FD\u662F\u53EF\u4EE5\u7684</li></ul></blockquote><blockquote><p>\u5E38\u8003\u9762\u8BD5\u9898\uFF1APost \u548C Get \u7684\u533A\u522B\uFF1F</p></blockquote><ul><li>\u9996\u5148\u5148\u5F15\u5165\u526F\u4F5C\u7528\u548C\u5E42\u7B49\u7684\u6982\u5FF5\u3002</li><li>\u526F\u4F5C\u7528\u6307\u5BF9\u670D\u52A1\u5668\u4E0A\u7684\u8D44\u6E90\u505A\u6539\u53D8\uFF0C\u641C\u7D22\u662F\u65E0\u526F\u4F5C\u7528\u7684\uFF0C\u6CE8\u518C\u662F\u526F\u4F5C\u7528\u7684\u3002</li><li>\u5E42\u7B49\u6307\u53D1\u9001 M \u548C N \u6B21\u8BF7\u6C42\uFF08\u4E24\u8005\u4E0D\u76F8\u540C\u4E14\u90FD\u5927\u4E8E 1\uFF09\uFF0C\u670D\u52A1\u5668\u4E0A\u8D44\u6E90\u7684\u72B6\u6001\u4E00\u81F4\uFF0C\u6BD4\u5982\u6CE8\u518C 10 \u4E2A\u548C 11 \u4E2A\u5E10\u53F7\u662F\u4E0D\u5E42\u7B49\u7684\uFF0C\u5BF9\u6587\u7AE0\u8FDB\u884C\u66F4\u6539 10 \u6B21\u548C 11 \u6B21\u662F\u5E42\u7B49\u7684\u3002\u56E0\u4E3A\u524D\u8005\u662F\u591A\u4E86\u4E00\u4E2A\u8D26\u53F7\uFF08\u8D44\u6E90\uFF09\uFF0C\u540E\u8005\u53EA\u662F\u66F4\u65B0\u540C\u4E00\u4E2A\u8D44\u6E90\u3002</li><li>\u5728\u89C4\u8303\u7684\u5E94\u7528\u573A\u666F\u4E0A\u8BF4\uFF0CGet \u591A\u7528\u4E8E\u65E0\u526F\u4F5C\u7528\uFF0C\u5E42\u7B49\u7684\u573A\u666F\uFF0C\u4F8B\u5982\u641C\u7D22\u5173\u952E\u5B57\u3002Post \u591A\u7528\u4E8E\u526F\u4F5C\u7528\uFF0C\u4E0D\u5E42\u7B49\u7684\u573A\u666F\uFF0C\u4F8B\u5982\u6CE8\u518C\u3002</li></ul><blockquote><ul><li><code>Get</code> \u8BF7\u6C42\u80FD\u7F13\u5B58\uFF0C<code>Post</code> \u4E0D\u80FD</li><li><code>Post</code> \u76F8\u5BF9 <code>Get</code> \u5B89\u5168\u4E00\u70B9\u70B9\uFF0C\u56E0\u4E3A<code>Get</code> \u8BF7\u6C42\u90FD\u5305\u542B\u5728 <code>URL</code> \u91CC\uFF08\u5F53\u7136\u4F60\u60F3\u5199\u5230 <code>body</code> \u91CC\u4E5F\u662F\u53EF\u4EE5\u7684\uFF09\uFF0C\u4E14\u4F1A\u88AB\u6D4F\u89C8\u5668\u4FDD\u5B58\u5386\u53F2\u7EAA\u5F55\u3002<code>Post</code> \u4E0D\u4F1A\uFF0C\u4F46\u662F\u5728\u6293\u5305\u7684\u60C5\u51B5\u4E0B\u90FD\u662F\u4E00\u6837\u7684\u3002</li><li><code>URL</code>\u6709\u957F\u5EA6\u9650\u5236\uFF0C\u4F1A\u5F71\u54CD <code>Get</code> \u8BF7\u6C42\uFF0C\u4F46\u662F\u8FD9\u4E2A\u957F\u5EA6\u9650\u5236\u662F\u6D4F\u89C8\u5668\u89C4\u5B9A\u7684\uFF0C\u4E0D\u662F <code>RFC</code> \u89C4\u5B9A\u7684</li><li><code>Post</code> \u652F\u6301\u66F4\u591A\u7684\u7F16\u7801\u7C7B\u578B\u4E14\u4E0D\u5BF9\u6570\u636E\u7C7B\u578B\u9650\u5236</li></ul></blockquote><p><strong>1. \u9996\u90E8</strong></p><blockquote><p>\u9996\u90E8\u5206\u4E3A\u8BF7\u6C42\u9996\u90E8\u548C\u54CD\u5E94\u9996\u90E8\uFF0C\u5E76\u4E14\u90E8\u5206\u9996\u90E8\u4E24\u79CD\u901A\u7528\uFF0C\u63A5\u4E0B\u6765\u6211\u4EEC\u5C31\u6765\u5B66\u4E60\u4E00\u90E8\u5206\u7684\u5E38\u7528\u9996\u90E8\u3002</p></blockquote><p><strong>1.1 \u901A\u7528\u9996\u90E8</strong></p><table><thead><tr><th>\u901A\u7528\u5B57\u6BB5</th><th>\u4F5C\u7528</th></tr></thead><tbody><tr><td><code>Cache-Control</code></td><td>\u63A7\u5236\u7F13\u5B58\u7684\u884C\u4E3A</td></tr><tr><td><code>Connection</code></td><td>\u6D4F\u89C8\u5668\u60F3\u8981\u4F18\u5148\u4F7F\u7528\u7684\u8FDE\u63A5\u7C7B\u578B\uFF0C\u6BD4\u5982 <code>keep-alive</code></td></tr><tr><td><code>Date</code></td><td>\u521B\u5EFA\u62A5\u6587\u65F6\u95F4</td></tr><tr><td><code>Pragma</code></td><td>\u62A5\u6587\u6307\u4EE4</td></tr><tr><td><code>Via</code></td><td>\u4EE3\u7406\u670D\u52A1\u5668\u76F8\u5173\u4FE1\u606F</td></tr><tr><td><code>Transfer-Encoding</code></td><td>\u4F20\u8F93\u7F16\u7801\u65B9\u5F0F</td></tr><tr><td><code>Upgrade</code></td><td>\u8981\u6C42\u5BA2\u6237\u7AEF\u5347\u7EA7\u534F\u8BAE</td></tr><tr><td><code>Warning</code></td><td>\u5728\u5185\u5BB9\u4E2D\u53EF\u80FD\u5B58\u5728\u9519\u8BEF</td></tr></tbody></table><p><strong>1.2 \u8BF7\u6C42\u9996\u90E8</strong></p><table><thead><tr><th>\u8BF7\u6C42\u9996\u90E8</th><th>\u4F5C\u7528</th></tr></thead><tbody><tr><td><code>Accept</code></td><td>\u80FD\u6B63\u786E\u63A5\u6536\u7684\u5A92\u4F53\u7C7B\u578B</td></tr><tr><td><code>Accept-Charset</code></td><td>\u80FD\u6B63\u786E\u63A5\u6536\u7684\u5B57\u7B26\u96C6</td></tr><tr><td><code>Accept-Encoding</code></td><td>\u80FD\u6B63\u786E\u63A5\u6536\u7684\u7F16\u7801\u683C\u5F0F\u5217\u8868</td></tr><tr><td><code>Accept-Language</code></td><td>\u80FD\u6B63\u786E\u63A5\u6536\u7684\u8BED\u8A00\u5217\u8868</td></tr><tr><td><code>Expect</code></td><td>\u671F\u5F85\u670D\u52A1\u7AEF\u7684\u6307\u5B9A\u884C\u4E3A</td></tr><tr><td><code>From</code></td><td>\u8BF7\u6C42\u65B9\u90AE\u7BB1\u5730\u5740</td></tr><tr><td><code>Host</code></td><td>\u670D\u52A1\u5668\u7684\u57DF\u540D</td></tr><tr><td><code>If-Match</code></td><td>\u4E24\u7AEF\u8D44\u6E90\u6807\u8BB0\u6BD4\u8F83</td></tr><tr><td><code>If-Modified-Since</code></td><td>\u672C\u5730\u8D44\u6E90\u672A\u4FEE\u6539\u8FD4\u56DE <code>304</code>\uFF08\u6BD4\u8F83\u65F6\u95F4\uFF09</td></tr><tr><td><code>If-None-Match</code></td><td>\u672C\u5730\u8D44\u6E90\u672A\u4FEE\u6539\u8FD4\u56DE <code>304</code>\uFF08\u6BD4\u8F83\u6807\u8BB0\uFF09</td></tr><tr><td><code>User-Agent</code></td><td>\u5BA2\u6237\u7AEF\u4FE1\u606F</td></tr><tr><td><code>Max-Forwards</code></td><td>\u9650\u5236\u53EF\u88AB\u4EE3\u7406\u53CA\u7F51\u5173\u8F6C\u53D1\u7684\u6B21\u6570</td></tr><tr><td><code>Proxy-Authorization</code></td><td>\u5411\u4EE3\u7406\u670D\u52A1\u5668\u53D1\u9001\u9A8C\u8BC1\u4FE1\u606F</td></tr><tr><td><code>Range</code></td><td>\u8BF7\u6C42\u67D0\u4E2A\u5185\u5BB9\u7684\u4E00\u90E8\u5206</td></tr><tr><td><code>Referer</code></td><td>\u8868\u793A\u6D4F\u89C8\u5668\u6240\u8BBF\u95EE\u7684\u524D\u4E00\u4E2A\u9875\u9762</td></tr><tr><td><code>TE</code></td><td>\u4F20\u8F93\u7F16\u7801\u65B9\u5F0F</td></tr></tbody></table><p><strong>1.3 \u54CD\u5E94\u9996\u90E8</strong></p><table><thead><tr><th>\u54CD\u5E94\u9996\u90E8</th><th>\u4F5C\u7528</th></tr></thead><tbody><tr><td><code>Accept-Ranges</code></td><td>\u662F\u5426\u652F\u6301\u67D0\u4E9B\u79CD\u7C7B\u7684\u8303\u56F4</td></tr><tr><td><code>Age</code></td><td>\u8D44\u6E90\u5728\u4EE3\u7406\u7F13\u5B58\u4E2D\u5B58\u5728\u7684\u65F6\u95F4</td></tr><tr><td><code>ETag</code></td><td>\u8D44\u6E90\u6807\u8BC6</td></tr><tr><td><code>Location</code></td><td>\u5BA2\u6237\u7AEF\u91CD\u5B9A\u5411\u5230\u67D0\u4E2A <code>URL</code></td></tr><tr><td><code>Proxy-Authenticate</code></td><td>\u5411\u4EE3\u7406\u670D\u52A1\u5668\u53D1\u9001\u9A8C\u8BC1\u4FE1\u606F</td></tr><tr><td><code>Server</code></td><td>\u670D\u52A1\u5668\u540D\u5B57</td></tr><tr><td><code>WWW-Authenticate</code></td><td>\u83B7\u53D6\u8D44\u6E90\u9700\u8981\u7684\u9A8C\u8BC1\u4FE1\u606F</td></tr></tbody></table><p><strong>1.4 \u5B9E\u4F53\u9996\u90E8</strong></p><table><thead><tr><th>\u5B9E\u4F53\u9996\u90E8</th><th>\u4F5C\u7528</th></tr></thead><tbody><tr><td><code>Allow</code></td><td>\u8D44\u6E90\u7684\u6B63\u786E\u8BF7\u6C42\u65B9\u5F0F</td></tr><tr><td><code>Content-Encoding</code></td><td>\u5185\u5BB9\u7684\u7F16\u7801\u683C\u5F0F</td></tr><tr><td><code>Content-Language</code></td><td>\u5185\u5BB9\u4F7F\u7528\u7684\u8BED\u8A00</td></tr><tr><td><code>Content-Length</code></td><td><code>request body</code> \u957F\u5EA6</td></tr><tr><td><code>Content-Location</code></td><td>\u8FD4\u56DE\u6570\u636E\u7684\u5907\u7528\u5730\u5740</td></tr><tr><td><code>Content-MD5</code></td><td><code>Base64</code>\u52A0\u5BC6\u683C\u5F0F\u7684\u5185\u5BB9 <code>MD5</code>\u68C0\u9A8C\u503C</td></tr><tr><td><code>Content-Range</code></td><td>\u5185\u5BB9\u7684\u4F4D\u7F6E\u8303\u56F4</td></tr><tr><td><code>Content-Type</code></td><td>\u5185\u5BB9\u7684\u5A92\u4F53\u7C7B\u578B</td></tr><tr><td><code>Expires</code></td><td>\u5185\u5BB9\u7684\u8FC7\u671F\u65F6\u95F4</td></tr><tr><td><code>Last_modified</code></td><td>\u5185\u5BB9\u7684\u6700\u540E\u4FEE\u6539\u65F6\u95F4</td></tr></tbody></table><p><strong>2. \u5E38\u89C1\u72B6\u6001\u7801</strong></p><blockquote><p>\u72B6\u6001\u7801\u8868\u793A\u4E86\u54CD\u5E94\u7684\u4E00\u4E2A\u72B6\u6001\uFF0C\u53EF\u4EE5\u8BA9\u6211\u4EEC\u6E05\u6670\u7684\u4E86\u89E3\u5230\u8FD9\u4E00\u6B21\u8BF7\u6C42\u662F\u6210\u529F\u8FD8\u662F\u5931\u8D25\uFF0C\u5982\u679C\u5931\u8D25\u7684\u8BDD\uFF0C\u662F\u4EC0\u4E48\u539F\u56E0\u5BFC\u81F4\u7684\uFF0C\u5F53\u7136\u72B6\u6001\u7801\u4E5F\u662F\u7528\u4E8E\u4F20\u8FBE\u8BED\u4E49\u7684\u3002\u5982\u679C\u80E1\u4E71\u4F7F\u7528\u72B6\u6001\u7801\uFF0C\u90A3\u4E48\u5B83\u5B58\u5728\u7684\u610F\u4E49\u5C31\u6CA1\u6709\u4E86</p></blockquote><p><strong>2XX \u6210\u529F</strong></p><ul><li><code>200 OK</code>\uFF0C\u8868\u793A\u4ECE\u5BA2\u6237\u7AEF\u53D1\u6765\u7684\u8BF7\u6C42\u5728\u670D\u52A1\u5668\u7AEF\u88AB\u6B63\u786E\u5904\u7406</li><li><code>204 No content</code>\uFF0C\u8868\u793A\u8BF7\u6C42\u6210\u529F\uFF0C\u4F46\u54CD\u5E94\u62A5\u6587\u4E0D\u542B\u5B9E\u4F53\u7684\u4E3B\u4F53\u90E8\u5206</li><li><code>205 Reset Content</code>\uFF0C\u8868\u793A\u8BF7\u6C42\u6210\u529F\uFF0C\u4F46\u54CD\u5E94\u62A5\u6587\u4E0D\u542B\u5B9E\u4F53\u7684\u4E3B\u4F53\u90E8\u5206\uFF0C\u4F46\u662F\u4E0E <code>204</code> \u54CD\u5E94\u4E0D\u540C\u5728\u4E8E\u8981\u6C42\u8BF7\u6C42\u65B9\u91CD\u7F6E\u5185\u5BB9</li><li><code>206 Partial Content</code>\uFF0C\u8FDB\u884C\u8303\u56F4\u8BF7\u6C42</li></ul><p><strong>3XX \u91CD\u5B9A\u5411</strong></p><ul><li><code>301 moved permanently</code>\uFF0C\u6C38\u4E45\u6027\u91CD\u5B9A\u5411\uFF0C\u8868\u793A\u8D44\u6E90\u5DF2\u88AB\u5206\u914D\u4E86\u65B0\u7684 URL</li><li><code>302 found</code>\uFF0C\u4E34\u65F6\u6027\u91CD\u5B9A\u5411\uFF0C\u8868\u793A\u8D44\u6E90\u4E34\u65F6\u88AB\u5206\u914D\u4E86\u65B0\u7684 <code>URL</code></li><li><code>303 see other</code>\uFF0C\u8868\u793A\u8D44\u6E90\u5B58\u5728\u7740\u53E6\u4E00\u4E2A <code>URL</code>\uFF0C\u5E94\u4F7F\u7528 <code>GET</code> \u65B9\u6CD5\u83B7\u53D6\u8D44\u6E90</li><li><code>304 not modified</code>\uFF0C\u8868\u793A\u670D\u52A1\u5668\u5141\u8BB8\u8BBF\u95EE\u8D44\u6E90\uFF0C\u4F46\u56E0\u53D1\u751F\u8BF7\u6C42\u672A\u6EE1\u8DB3\u6761\u4EF6\u7684\u60C5\u51B5</li><li><code>307 temporary redirect</code>\uFF0C\u4E34\u65F6\u91CD\u5B9A\u5411\uFF0C\u548C<code>302</code>\u542B\u4E49\u7C7B\u4F3C\uFF0C\u4F46\u662F\u671F\u671B\u5BA2\u6237\u7AEF\u4FDD\u6301\u8BF7\u6C42\u65B9\u6CD5\u4E0D\u53D8\u5411\u65B0\u7684\u5730\u5740\u53D1\u51FA\u8BF7\u6C42</li></ul><p><strong>4XX \u5BA2\u6237\u7AEF\u9519\u8BEF</strong></p><ul><li><code>400 bad request</code>\uFF0C\u8BF7\u6C42\u62A5\u6587\u5B58\u5728\u8BED\u6CD5\u9519\u8BEF</li><li><code>401 unauthorized</code>\uFF0C\u8868\u793A\u53D1\u9001\u7684\u8BF7\u6C42\u9700\u8981\u6709\u901A\u8FC7 HTTP \u8BA4\u8BC1\u7684\u8BA4\u8BC1\u4FE1\u606F</li><li><code>403 forbidden</code>\uFF0C\u8868\u793A\u5BF9\u8BF7\u6C42\u8D44\u6E90\u7684\u8BBF\u95EE\u88AB\u670D\u52A1\u5668\u62D2\u7EDD</li><li><code>404 not found</code>\uFF0C\u8868\u793A\u5728\u670D\u52A1\u5668\u4E0A\u6CA1\u6709\u627E\u5230\u8BF7\u6C42\u7684\u8D44\u6E90</li></ul><p><strong>5XX \u670D\u52A1\u5668\u9519\u8BEF</strong></p><ul><li><code>500 internal sever error</code>\uFF0C\u8868\u793A\u670D\u52A1\u5668\u7AEF\u5728\u6267\u884C\u8BF7\u6C42\u65F6\u53D1\u751F\u4E86\u9519\u8BEF</li><li><code>501 Not Implemented</code>\uFF0C\u8868\u793A\u670D\u52A1\u5668\u4E0D\u652F\u6301\u5F53\u524D\u8BF7\u6C42\u6240\u9700\u8981\u7684\u67D0\u4E2A\u529F\u80FD</li><li><code>503 service unavailable</code>\uFF0C\u8868\u660E\u670D\u52A1\u5668\u6682\u65F6\u5904\u4E8E\u8D85\u8D1F\u8F7D\u6216\u6B63\u5728\u505C\u673A\u7EF4\u62A4\uFF0C\u65E0\u6CD5\u5904\u7406\u8BF7\u6C42</li></ul>",26),ak={id:"_32-2-tls",tabindex:"-1"},pk=n("a",{class:"header-anchor",href:"#_32-2-tls","aria-hidden":"true"},"#",-1),ek=s(),tk={href:"http://interview.poetries.top/docs/excellent.html#_32-2-tls",target:"_blank",rel:"noopener noreferrer"},ok=s("#"),ck=s("32.2 TLS"),lk=e('<ul><li><code>HTTPS</code> \u8FD8\u662F\u901A\u8FC7\u4E86 <code>HTTP</code> \u6765\u4F20\u8F93\u4FE1\u606F\uFF0C\u4F46\u662F\u4FE1\u606F\u901A\u8FC7 <code>TLS</code> \u534F\u8BAE\u8FDB\u884C\u4E86\u52A0\u5BC6\u3002</li><li><code>TLS</code> \u534F\u8BAE\u4F4D\u4E8E\u4F20\u8F93\u5C42\u4E4B\u4E0A\uFF0C\u5E94\u7528\u5C42\u4E4B\u4E0B\u3002\u9996\u6B21\u8FDB\u884C <code>TLS</code> \u534F\u8BAE\u4F20\u8F93\u9700\u8981\u4E24\u4E2A <code>RTT</code> \uFF0C\u63A5\u4E0B\u6765\u53EF\u4EE5\u901A\u8FC7 <code>Session Resumption</code> \u51CF\u5C11\u5230\u4E00\u4E2A <code>RTT</code>\u3002</li><li>\u5728 <code>TLS</code> \u4E2D\u4F7F\u7528\u4E86\u4E24\u79CD\u52A0\u5BC6\u6280\u672F\uFF0C\u5206\u522B\u4E3A\uFF1A\u5BF9\u79F0\u52A0\u5BC6\u548C\u975E\u5BF9\u79F0\u52A0\u5BC6\u3002</li></ul><p><strong>\u5BF9\u79F0\u52A0\u5BC6</strong></p><ul><li>\u5BF9\u79F0\u52A0\u5BC6\u5C31\u662F\u4E24\u8FB9\u62E5\u6709\u76F8\u540C\u7684\u79D8\u94A5\uFF0C\u4E24\u8FB9\u90FD\u77E5\u9053\u5982\u4F55\u5C06\u5BC6\u6587\u52A0\u5BC6\u89E3\u5BC6\u3002</li><li>\u8FD9\u79CD\u52A0\u5BC6\u65B9\u5F0F\u56FA\u7136\u5F88\u597D\uFF0C\u4F46\u662F\u95EE\u9898\u5C31\u5728\u4E8E\u5982\u4F55\u8BA9\u53CC\u65B9\u77E5\u9053\u79D8\u94A5\u3002\u56E0\u4E3A\u4F20\u8F93\u6570\u636E\u90FD\u662F\u8D70\u7684\u7F51\u7EDC\uFF0C\u5982\u679C\u5C06\u79D8\u94A5\u901A\u8FC7\u7F51\u7EDC\u7684\u65B9\u5F0F\u4F20\u9012\u7684\u8BDD\uFF0C\u4E00\u65E6\u79D8\u94A5\u88AB\u622A\u83B7\u5C31\u6CA1\u6709\u52A0\u5BC6\u7684\u610F\u4E49\u7684\u3002</li></ul><p><strong>\u975E\u5BF9\u79F0\u52A0\u5BC6</strong></p><ul><li>\u6709\u516C\u94A5\u79C1\u94A5\u4E4B\u5206\uFF0C\u516C\u94A5\u6240\u6709\u4EBA\u90FD\u53EF\u4EE5\u77E5\u9053\uFF0C\u53EF\u4EE5\u5C06\u6570\u636E\u7528\u516C\u94A5\u52A0\u5BC6\uFF0C\u4F46\u662F\u5C06\u6570\u636E\u89E3\u5BC6\u5FC5\u987B\u4F7F\u7528\u79C1\u94A5\u89E3\u5BC6\uFF0C\u79C1\u94A5\u53EA\u6709\u5206\u53D1\u516C\u94A5\u7684\u4E00\u65B9\u624D\u77E5\u9053\u3002</li><li>\u8FD9\u79CD\u52A0\u5BC6\u65B9\u5F0F\u5C31\u53EF\u4EE5\u5B8C\u7F8E\u89E3\u51B3\u5BF9\u79F0\u52A0\u5BC6\u5B58\u5728\u7684\u95EE\u9898\u3002\u5047\u8BBE\u73B0\u5728\u4E24\u7AEF\u9700\u8981\u4F7F\u7528\u5BF9\u79F0\u52A0\u5BC6\uFF0C\u90A3\u4E48\u5728\u8FD9\u4E4B\u524D\uFF0C\u53EF\u4EE5\u5148\u4F7F\u7528\u975E\u5BF9\u79F0\u52A0\u5BC6\u4EA4\u6362\u79D8\u94A5\u3002</li></ul><blockquote><p>\u7B80\u5355\u6D41\u7A0B\u5982\u4E0B\uFF1A\u9996\u5148\u670D\u52A1\u7AEF\u5C06\u516C\u94A5\u516C\u5E03\u51FA\u53BB\uFF0C\u90A3\u4E48\u5BA2\u6237\u7AEF\u4E5F\u5C31\u77E5\u9053\u516C\u94A5\u4E86\u3002\u63A5\u4E0B\u6765\u5BA2\u6237\u7AEF\u521B\u5EFA\u4E00\u4E2A\u79D8\u94A5\uFF0C\u7136\u540E\u901A\u8FC7\u516C\u94A5\u52A0\u5BC6\u5E76\u53D1\u9001\u7ED9\u670D\u52A1\u7AEF\uFF0C\u670D\u52A1\u7AEF\u63A5\u6536\u5230\u5BC6\u6587\u4EE5\u540E\u901A\u8FC7\u79C1\u94A5\u89E3\u5BC6\u51FA\u6B63\u786E\u7684\u79D8\u94A5\uFF0C\u8FD9\u65F6\u5019\u4E24\u7AEF\u5C31\u90FD\u77E5\u9053\u79D8\u94A5\u662F\u4EC0\u4E48\u4E86\u3002</p></blockquote><p>TLS \u63E1\u624B\u8FC7\u7A0B\u5982\u4E0B\u56FE\uFF1A</p><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/38.png" alt="img"></p><ul><li>\u5BA2\u6237\u7AEF\u53D1\u9001\u4E00\u4E2A\u968F\u673A\u503C\u4EE5\u53CA\u9700\u8981\u7684\u534F\u8BAE\u548C\u52A0\u5BC6\u65B9\u5F0F\u3002</li><li>\u670D\u52A1\u7AEF\u6536\u5230\u5BA2\u6237\u7AEF\u7684\u968F\u673A\u503C\uFF0C\u81EA\u5DF1\u4E5F\u4EA7\u751F\u4E00\u4E2A\u968F\u673A\u503C\uFF0C\u5E76\u6839\u636E\u5BA2\u6237\u7AEF\u9700\u6C42\u7684\u534F\u8BAE\u548C\u52A0\u5BC6\u65B9\u5F0F\u6765\u4F7F\u7528\u5BF9\u5E94\u7684\u65B9\u5F0F\uFF0C\u5E76\u4E14\u53D1\u9001\u81EA\u5DF1\u7684\u8BC1\u4E66\uFF08\u5982\u679C\u9700\u8981\u9A8C\u8BC1\u5BA2\u6237\u7AEF\u8BC1\u4E66\u9700\u8981\u8BF4\u660E\uFF09</li><li>\u5BA2\u6237\u7AEF\u6536\u5230\u670D\u52A1\u7AEF\u7684\u8BC1\u4E66\u5E76\u9A8C\u8BC1\u662F\u5426\u6709\u6548\uFF0C\u9A8C\u8BC1\u901A\u8FC7\u4F1A\u518D\u751F\u6210\u4E00\u4E2A\u968F\u673A\u503C\uFF0C\u901A\u8FC7\u670D\u52A1\u7AEF\u8BC1\u4E66\u7684\u516C\u94A5\u53BB\u52A0\u5BC6\u8FD9\u4E2A\u968F\u673A\u503C\u5E76\u53D1\u9001\u7ED9\u670D\u52A1\u7AEF\uFF0C\u5982\u679C\u670D\u52A1\u7AEF\u9700\u8981\u9A8C\u8BC1\u5BA2\u6237\u7AEF\u8BC1\u4E66\u7684\u8BDD\u4F1A\u9644\u5E26\u8BC1\u4E66</li><li>\u670D\u52A1\u7AEF\u6536\u5230\u52A0\u5BC6\u8FC7\u7684\u968F\u673A\u503C\u5E76\u4F7F\u7528\u79C1\u94A5\u89E3\u5BC6\u83B7\u5F97\u7B2C\u4E09\u4E2A\u968F\u673A\u503C\uFF0C\u8FD9\u65F6\u5019\u4E24\u7AEF\u90FD\u62E5\u6709\u4E86\u4E09\u4E2A\u968F\u673A\u503C\uFF0C\u53EF\u4EE5\u901A\u8FC7\u8FD9\u4E09\u4E2A\u968F\u673A\u503C\u6309\u7167\u4E4B\u524D\u7EA6\u5B9A\u7684\u52A0\u5BC6\u65B9\u5F0F\u751F\u6210\u5BC6\u94A5\uFF0C\u63A5\u4E0B\u6765\u7684\u901A\u4FE1\u5C31\u53EF\u4EE5\u901A\u8FC7\u8BE5\u5BC6\u94A5\u6765\u52A0\u5BC6\u89E3\u5BC6</li><li>\u901A\u8FC7\u4EE5\u4E0A\u6B65\u9AA4\u53EF\u77E5\uFF0C\u5728 TLS \u63E1\u624B\u9636\u6BB5\uFF0C\u4E24\u7AEF\u4F7F\u7528\u975E\u5BF9\u79F0\u52A0\u5BC6\u7684\u65B9\u5F0F\u6765\u901A\u4FE1\uFF0C\u4F46\u662F\u56E0\u4E3A\u975E\u5BF9\u79F0\u52A0\u5BC6\u635F\u8017\u7684\u6027\u80FD\u6BD4\u5BF9\u79F0\u52A0\u5BC6\u5927\uFF0C\u6240\u4EE5\u5728\u6B63\u5F0F\u4F20\u8F93\u6570\u636E\u65F6\uFF0C\u4E24\u7AEF\u4F7F\u7528\u5BF9\u79F0\u52A0\u5BC6\u7684\u65B9\u5F0F\u901A\u4FE1\u3002</li></ul><blockquote><p>PS\uFF1A\u4EE5\u4E0A\u8BF4\u660E\u7684\u90FD\u662F <code>TLS 1.2</code> \u534F\u8BAE\u7684\u63E1\u624B\u60C5\u51B5\uFF0C\u5728 1.3 \u534F\u8BAE\u4E2D\uFF0C\u9996\u6B21\u5EFA\u7ACB\u8FDE\u63A5\u53EA\u9700\u8981\u4E00\u4E2A RTT\uFF0C\u540E\u9762\u6062\u590D\u8FDE\u63A5\u4E0D\u9700\u8981 RTT \u4E86</p></blockquote>',10),uk={id:"_33-http2-0",tabindex:"-1"},rk=n("a",{class:"header-anchor",href:"#_33-http2-0","aria-hidden":"true"},"#",-1),ik=s(),kk={href:"http://interview.poetries.top/docs/excellent.html#_33-http2-0",target:"_blank",rel:"noopener noreferrer"},dk=s("#"),bk=s("33 HTTP2.0"),mk=e("<blockquote><ul><li><code>HTTP/2</code> \u5F88\u597D\u7684\u89E3\u51B3\u4E86\u5F53\u4E0B\u6700\u5E38\u7528\u7684 <code>HTTP/1</code> \u6240\u5B58\u5728\u7684\u4E00\u4E9B\u6027\u80FD\u95EE\u9898\uFF0C\u53EA\u9700\u8981\u5347\u7EA7\u5230\u8BE5\u534F\u8BAE\u5C31\u53EF\u4EE5\u51CF\u5C11\u5F88\u591A\u4E4B\u524D\u9700\u8981\u505A\u7684\u6027\u80FD\u4F18\u5316\u5DE5\u4F5C\uFF0C\u5F53\u7136\u517C\u5BB9\u95EE\u9898\u4EE5\u53CA\u5982\u4F55\u4F18\u96C5\u964D\u7EA7\u5E94\u8BE5\u662F\u56FD\u5185\u8FD8\u4E0D\u666E\u904D\u4F7F\u7528\u7684\u539F\u56E0\u4E4B\u4E00\u3002</li><li>\u867D\u7136 <code>HTTP/2</code> \u5DF2\u7ECF\u89E3\u51B3\u4E86\u5F88\u591A\u95EE\u9898\uFF0C\u4F46\u662F\u5E76\u4E0D\u4EE3\u8868\u5B83\u5DF2\u7ECF\u662F\u5B8C\u7F8E\u7684\u4E86\uFF0C<code>HTTP/3</code> \u5C31\u662F\u4E3A\u4E86\u89E3\u51B3 <code>HTTP/2</code> \u6240\u5B58\u5728\u7684\u4E00\u4E9B\u95EE\u9898\u800C\u88AB\u63A8\u51FA\u6765\u7684\u3002</li></ul></blockquote>",1),hk={id:"_33-1-http-2",tabindex:"-1"},gk=n("a",{class:"header-anchor",href:"#_33-1-http-2","aria-hidden":"true"},"#",-1),_k=s(),fk={href:"http://interview.poetries.top/docs/excellent.html#_33-1-http-2",target:"_blank",rel:"noopener noreferrer"},yk=s("#"),vk=s("33.1 HTTP/2"),wk=e("<ul><li><code>HTTP/2</code> \u76F8\u6BD4\u4E8E <code>HTTP/1</code>\uFF0C\u53EF\u4EE5\u8BF4\u662F\u5927\u5E45\u5EA6\u63D0\u9AD8\u4E86\u7F51\u9875\u7684\u6027\u80FD\u3002</li><li>\u5728 <code>HTTP/1</code> \u4E2D\uFF0C\u4E3A\u4E86\u6027\u80FD\u8003\u8651\uFF0C\u6211\u4EEC\u4F1A\u5F15\u5165\u96EA\u78A7\u56FE\u3001\u5C06\u5C0F\u56FE\u5185\u8054\u3001\u4F7F\u7528\u591A\u4E2A\u57DF\u540D\u7B49\u7B49\u7684\u65B9\u5F0F\u3002\u8FD9\u4E00\u5207\u90FD\u662F\u56E0\u4E3A\u6D4F\u89C8\u5668\u9650\u5236\u4E86\u540C\u4E00\u4E2A\u57DF\u540D\u4E0B\u7684\u8BF7\u6C42\u6570\u91CF\uFF08Chrome \u4E0B\u4E00\u822C\u662F\u9650\u5236\u516D\u4E2A\u8FDE\u63A5\uFF09\uFF0C\u5F53\u9875\u9762\u4E2D\u9700\u8981\u8BF7\u6C42\u5F88\u591A\u8D44\u6E90\u7684\u65F6\u5019\uFF0C\u961F\u5934\u963B\u585E\uFF08Head of line blocking\uFF09\u4F1A\u5BFC\u81F4\u5728\u8FBE\u5230\u6700\u5927\u8BF7\u6C42\u6570\u91CF\u65F6\uFF0C\u5269\u4F59\u7684\u8D44\u6E90\u9700\u8981\u7B49\u5F85\u5176\u4ED6\u8D44\u6E90\u8BF7\u6C42\u5B8C\u6210\u540E\u624D\u80FD\u53D1\u8D77\u8BF7\u6C42\u3002</li><li>\u5728 <code>HTTP/2</code> \u4E2D\u5F15\u5165\u4E86\u591A\u8DEF\u590D\u7528\u7684\u6280\u672F\uFF0C\u8FD9\u4E2A\u6280\u672F\u53EF\u4EE5\u53EA\u901A\u8FC7\u4E00\u4E2A <code>TCP</code> \u8FDE\u63A5\u5C31\u53EF\u4EE5\u4F20\u8F93\u6240\u6709\u7684\u8BF7\u6C42\u6570\u636E\u3002\u591A\u8DEF\u590D\u7528\u5F88\u597D\u7684\u89E3\u51B3\u4E86\u6D4F\u89C8\u5668\u9650\u5236\u540C\u4E00\u4E2A\u57DF\u540D\u4E0B\u7684\u8BF7\u6C42\u6570\u91CF\u7684\u95EE\u9898\uFF0C\u540C\u65F6\u4E5F\u63A5\u66F4\u5BB9\u6613\u5B9E\u73B0\u5168\u901F\u4F20\u8F93\uFF0C\u6BD5\u7ADF\u65B0\u5F00\u4E00\u4E2A <code>TCP</code> \u8FDE\u63A5\u90FD\u9700\u8981\u6162\u6162\u63D0\u5347\u4F20\u8F93\u901F\u5EA6\u3002</li></ul>",1),xk=s("\u5927\u5BB6\u53EF\u4EE5\u901A\u8FC7 "),qk={href:"https://http2.akamai.com/demo",target:"_blank",rel:"noopener noreferrer"},Ek=s("\u8BE5\u94FE\u63A5 (opens new window)"),jk=s("\u611F\u53D7\u4E0B HTTP/2 \u6BD4 HTTP/1 \u5230\u5E95\u5FEB\u4E86\u591A\u5C11"),Ck=e('<p><img src="https://poetries1.gitee.io/img-repo/2020/09/103.png" alt="img"></p><blockquote><p>\u5728 <code>HTTP/1</code> \u4E2D\uFF0C\u56E0\u4E3A\u961F\u5934\u963B\u585E\u7684\u539F\u56E0\uFF0C\u4F60\u4F1A\u53D1\u73B0\u53D1\u9001\u8BF7\u6C42\u662F\u957F\u8FD9\u6837\u7684</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/39.png" alt="img"></p><blockquote><p>\u5728 <code>HTTP/2</code> \u4E2D\uFF0C\u56E0\u4E3A\u53EF\u4EE5\u590D\u7528\u540C\u4E00\u4E2A <code>TCP</code> \u8FDE\u63A5\uFF0C\u4F60\u4F1A\u53D1\u73B0\u53D1\u9001\u8BF7\u6C42\u662F\u957F\u8FD9\u6837\u7684</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/40.png" alt="img"></p>',5),Sk={id:"_33-2-\u4E8C\u8FDB\u5236\u4F20\u8F93",tabindex:"-1"},Ak=n("a",{class:"header-anchor",href:"#_33-2-\u4E8C\u8FDB\u5236\u4F20\u8F93","aria-hidden":"true"},"#",-1),Bk=s(),Tk={href:"http://interview.poetries.top/docs/excellent.html#_33-2-%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BC%A0%E8%BE%93",target:"_blank",rel:"noopener noreferrer"},Pk=s("#"),Dk=s("33.2 \u4E8C\u8FDB\u5236\u4F20\u8F93"),Mk=n("blockquote",null,[n("p",null,[n("code",null,"HTTP/2"),s(" \u4E2D\u6240\u6709\u52A0\u5F3A\u6027\u80FD\u7684\u6838\u5FC3\u70B9\u5728\u4E8E\u6B64\u3002\u5728\u4E4B\u524D\u7684 "),n("code",null,"HTTP"),s(" \u7248\u672C\u4E2D\uFF0C\u6211\u4EEC\u662F\u901A\u8FC7\u6587\u672C\u7684\u65B9\u5F0F\u4F20\u8F93\u6570\u636E\u3002\u5728 "),n("code",null,"HTTP/2"),s(" \u4E2D\u5F15\u5165\u4E86\u65B0\u7684\u7F16\u7801\u673A\u5236\uFF0C\u6240\u6709\u4F20\u8F93\u7684\u6570\u636E\u90FD\u4F1A\u88AB\u5206\u5272\uFF0C\u5E76\u91C7\u7528\u4E8C\u8FDB\u5236\u683C\u5F0F\u7F16\u7801\u3002")])],-1),Ok=n("p",null,[n("img",{src:"https://poetries1.gitee.io/img-repo/2020/07/fe/41.png",alt:"img"})],-1),Rk={id:"_33-3-\u591A\u8DEF\u590D\u7528",tabindex:"-1"},Fk=n("a",{class:"header-anchor",href:"#_33-3-\u591A\u8DEF\u590D\u7528","aria-hidden":"true"},"#",-1),Nk=s(),Lk={href:"http://interview.poetries.top/docs/excellent.html#_33-3-%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},Vk=s("#"),Ik=s("33.3 \u591A\u8DEF\u590D\u7528"),Hk=n("ul",null,[n("li",null,[s("\u5728 "),n("code",null,"HTTP/2"),s(" \u4E2D\uFF0C\u6709\u4E24\u4E2A\u975E\u5E38\u91CD\u8981\u7684\u6982\u5FF5\uFF0C\u5206\u522B\u662F\u5E27\uFF08frame\uFF09\u548C\u6D41\uFF08stream\uFF09\u3002")]),n("li",null,"\u5E27\u4EE3\u8868\u7740\u6700\u5C0F\u7684\u6570\u636E\u5355\u4F4D\uFF0C\u6BCF\u4E2A\u5E27\u4F1A\u6807\u8BC6\u51FA\u8BE5\u5E27\u5C5E\u4E8E\u54EA\u4E2A\u6D41\uFF0C\u6D41\u4E5F\u5C31\u662F\u591A\u4E2A\u5E27\u7EC4\u6210\u7684\u6570\u636E\u6D41\u3002"),n("li",null,[s("\u591A\u8DEF\u590D\u7528\uFF0C\u5C31\u662F\u5728\u4E00\u4E2A "),n("code",null,"TCP"),s(" \u8FDE\u63A5\u4E2D\u53EF\u4EE5\u5B58\u5728\u591A\u6761\u6D41\u3002\u6362\u53E5\u8BDD\u8BF4\uFF0C\u4E5F\u5C31\u662F\u53EF\u4EE5\u53D1\u9001\u591A\u4E2A\u8BF7\u6C42\uFF0C\u5BF9\u7AEF\u53EF\u4EE5\u901A\u8FC7\u5E27\u4E2D\u7684\u6807\u8BC6\u77E5\u9053\u5C5E\u4E8E\u54EA\u4E2A\u8BF7\u6C42\u3002\u901A\u8FC7\u8FD9\u4E2A\u6280\u672F\uFF0C\u53EF\u4EE5\u907F\u514D "),n("code",null,"HTTP"),s(" \u65E7\u7248\u672C\u4E2D\u7684\u961F\u5934\u963B\u585E\u95EE\u9898\uFF0C\u6781\u5927\u7684\u63D0\u9AD8\u4F20\u8F93\u6027\u80FD\u3002")])],-1),Jk=n("p",null,[n("img",{src:"https://poetries1.gitee.io/img-repo/2020/07/fe/42.png",alt:"img"})],-1),Uk={id:"_33-4-header-\u538B\u7F29",tabindex:"-1"},zk=n("a",{class:"header-anchor",href:"#_33-4-header-\u538B\u7F29","aria-hidden":"true"},"#",-1),Wk=s(),Xk={href:"http://interview.poetries.top/docs/excellent.html#_33-4-header-%E5%8E%8B%E7%BC%A9",target:"_blank",rel:"noopener noreferrer"},Gk=s("#"),Qk=s("33.4 Header \u538B\u7F29"),Kk=e("<ul><li>\u5728 <code>HTTP/1</code> \u4E2D\uFF0C\u6211\u4EEC\u4F7F\u7528\u6587\u672C\u7684\u5F62\u5F0F\u4F20\u8F93 <code>header</code>\uFF0C\u5728 <code>header</code> \u643A\u5E26 cookie \u7684\u60C5\u51B5\u4E0B\uFF0C\u53EF\u80FD\u6BCF\u6B21\u90FD\u9700\u8981\u91CD\u590D\u4F20\u8F93\u51E0\u767E\u5230\u51E0\u5343\u7684\u5B57\u8282\u3002</li><li>\u5728 <code>HTTP / 2</code>\u4E2D\uFF0C\u4F7F\u7528\u4E86 <code>HPACK</code> \u538B\u7F29\u683C\u5F0F\u5BF9\u4F20\u8F93\u7684 <code>header</code> \u8FDB\u884C\u7F16\u7801\uFF0C\u51CF\u5C11\u4E86 <code>header</code> \u7684\u5927\u5C0F\u3002\u5E76\u5728\u4E24\u7AEF\u7EF4\u62A4\u4E86\u7D22\u5F15\u8868\uFF0C\u7528\u4E8E\u8BB0\u5F55\u51FA\u73B0\u8FC7\u7684 <code>header</code> \uFF0C\u540E\u9762\u5728\u4F20\u8F93\u8FC7\u7A0B\u4E2D\u5C31\u53EF\u4EE5\u4F20\u8F93\u5DF2\u7ECF\u8BB0\u5F55\u8FC7\u7684 <code>header</code> \u7684\u952E\u540D\uFF0C\u5BF9\u7AEF\u6536\u5230\u6570\u636E\u540E\u5C31\u53EF\u4EE5\u901A\u8FC7\u952E\u540D\u627E\u5230\u5BF9\u5E94\u7684\u503C\u3002</li></ul>",1),$k={id:"_33-5-\u670D\u52A1\u7AEF-push",tabindex:"-1"},Yk=n("a",{class:"header-anchor",href:"#_33-5-\u670D\u52A1\u7AEF-push","aria-hidden":"true"},"#",-1),Zk=s(),nd={href:"http://interview.poetries.top/docs/excellent.html#_33-5-%E6%9C%8D%E5%8A%A1%E7%AB%AF-push",target:"_blank",rel:"noopener noreferrer"},sd=s("#"),ad=s("33.5 \u670D\u52A1\u7AEF Push"),pd=n("ul",null,[n("li",null,[s("\u5728 "),n("code",null,"HTTP/2"),s(" \u4E2D\uFF0C\u670D\u52A1\u7AEF\u53EF\u4EE5\u5728\u5BA2\u6237\u7AEF\u67D0\u4E2A\u8BF7\u6C42\u540E\uFF0C\u4E3B\u52A8\u63A8\u9001\u5176\u4ED6\u8D44\u6E90\u3002")]),n("li",null,[s("\u53EF\u4EE5\u60F3\u8C61\u4EE5\u4E0B\u60C5\u51B5\uFF0C\u67D0\u4E9B\u8D44\u6E90\u5BA2\u6237\u7AEF\u662F\u4E00\u5B9A\u4F1A\u8BF7\u6C42\u7684\uFF0C\u8FD9\u65F6\u5C31\u53EF\u4EE5\u91C7\u53D6\u670D\u52A1\u7AEF "),n("code",null,"push"),s(" \u7684\u6280\u672F\uFF0C\u63D0\u524D\u7ED9\u5BA2\u6237\u7AEF\u63A8\u9001\u5FC5\u8981\u7684\u8D44\u6E90\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u76F8\u5BF9\u51CF\u5C11\u4E00\u70B9\u5EF6\u8FDF\u65F6\u95F4\u3002\u5F53\u7136\u5728\u6D4F\u89C8\u5668\u517C\u5BB9\u7684\u60C5\u51B5\u4E0B\u4F60\u4E5F\u53EF\u4EE5\u4F7F\u7528 "),n("code",null,"prefetch")])],-1),ed={id:"_33-6-http-3",tabindex:"-1"},td=n("a",{class:"header-anchor",href:"#_33-6-http-3","aria-hidden":"true"},"#",-1),od=s(),cd={href:"http://interview.poetries.top/docs/excellent.html#_33-6-http-3",target:"_blank",rel:"noopener noreferrer"},ld=s("#"),ud=s("33.6 HTTP/3"),rd=e("<ul><li>\u867D\u7136 <code>HTTP/2</code> \u89E3\u51B3\u4E86\u5F88\u591A\u4E4B\u524D\u65E7\u7248\u672C\u7684\u95EE\u9898\uFF0C\u4F46\u662F\u5B83\u8FD8\u662F\u5B58\u5728\u4E00\u4E2A\u5DE8\u5927\u7684\u95EE\u9898\uFF0C\u867D\u7136\u8FD9\u4E2A\u95EE\u9898\u5E76\u4E0D\u662F\u5B83\u672C\u8EAB\u9020\u6210\u7684\uFF0C\u800C\u662F\u5E95\u5C42\u652F\u6491\u7684 <code>TCP</code> \u534F\u8BAE\u7684\u95EE\u9898\u3002</li><li>\u56E0\u4E3A <code>HTTP/2</code> \u4F7F\u7528\u4E86\u591A\u8DEF\u590D\u7528\uFF0C\u4E00\u822C\u6765\u8BF4\u540C\u4E00\u57DF\u540D\u4E0B\u53EA\u9700\u8981\u4F7F\u7528\u4E00\u4E2A <code>TCP</code> \u8FDE\u63A5\u3002\u5F53\u8FD9\u4E2A\u8FDE\u63A5\u4E2D\u51FA\u73B0\u4E86\u4E22\u5305\u7684\u60C5\u51B5\uFF0C\u90A3\u5C31\u4F1A\u5BFC\u81F4 <code>HTTP/2</code> \u7684\u8868\u73B0\u60C5\u51B5\u53CD\u5012\u4E0D\u5982 <code>HTTP/1</code> \u4E86\u3002</li><li>\u56E0\u4E3A\u5728\u51FA\u73B0\u4E22\u5305\u7684\u60C5\u51B5\u4E0B\uFF0C\u6574\u4E2A <code>TCP</code> \u90FD\u8981\u5F00\u59CB\u7B49\u5F85\u91CD\u4F20\uFF0C\u4E5F\u5C31\u5BFC\u81F4\u4E86\u540E\u9762\u7684\u6240\u6709\u6570\u636E\u90FD\u88AB\u963B\u585E\u4E86\u3002\u4F46\u662F\u5BF9\u4E8E <code>HTTP/1</code> \u6765\u8BF4\uFF0C\u53EF\u4EE5\u5F00\u542F\u591A\u4E2A <code>TCP</code> \u8FDE\u63A5\uFF0C\u51FA\u73B0\u8FD9\u79CD\u60C5\u51B5\u53CD\u5230\u53EA\u4F1A\u5F71\u54CD\u5176\u4E2D\u4E00\u4E2A\u8FDE\u63A5\uFF0C\u5269\u4F59\u7684 <code>TCP</code> \u8FDE\u63A5\u8FD8\u53EF\u4EE5\u6B63\u5E38\u4F20\u8F93\u6570\u636E\u3002</li><li>\u90A3\u4E48\u53EF\u80FD\u5C31\u4F1A\u6709\u4EBA\u8003\u8651\u5230\u53BB\u4FEE\u6539 TCP \u534F\u8BAE\uFF0C\u5176\u5B9E\u8FD9\u5DF2\u7ECF\u662F\u4E00\u4EF6\u4E0D\u53EF\u80FD\u5B8C\u6210\u7684\u4EFB\u52A1\u4E86\u3002\u56E0\u4E3A TCP \u5B58\u5728\u7684\u65F6\u95F4\u5B9E\u5728\u592A\u957F\uFF0C\u5DF2\u7ECF\u5145\u65A5\u5728\u5404\u79CD\u8BBE\u5907\u4E2D\uFF0C\u5E76\u4E14\u8FD9\u4E2A\u534F\u8BAE\u662F\u7531\u64CD\u4F5C\u7CFB\u7EDF\u5B9E\u73B0\u7684\uFF0C\u66F4\u65B0\u8D77\u6765\u4E0D\u5927\u73B0\u5B9E\u3002</li><li>\u57FA\u4E8E\u8FD9\u4E2A\u539F\u56E0\uFF0CGoogle \u5C31\u66F4\u8D77\u7089\u7076\u641E\u4E86\u4E00\u4E2A\u57FA\u4E8E <code>UDP</code> \u534F\u8BAE\u7684 <code>QUIC</code> \u534F\u8BAE\uFF0C\u5E76\u4E14\u4F7F\u7528\u5728\u4E86 <code>HTTP/3</code> \u4E0A\uFF0C\u5F53\u7136 <code>HTTP/3</code> \u4E4B\u524D\u540D\u4E3A <code>HTTP-over-QUIC</code>\uFF0C\u4ECE\u8FD9\u4E2A\u540D\u5B57\u4E2D\u6211\u4EEC\u4E5F\u53EF\u4EE5\u53D1\u73B0\uFF0CHTTP/3 \u6700\u5927\u7684\u6539\u9020\u5C31\u662F\u4F7F\u7528\u4E86 <code>QUIC</code>\uFF0C\u63A5\u4E0B\u6765\u6211\u4EEC\u5C31\u6765\u5B66\u4E60\u5173\u4E8E\u8FD9\u4E2A\u534F\u8BAE\u7684\u5185\u5BB9\u3002</li></ul><p><strong>QUIC</strong></p><blockquote><p>\u4E4B\u524D\u6211\u4EEC\u5B66\u4E60\u8FC7 UDP \u534F\u8BAE\u7684\u5185\u5BB9\uFF0C\u77E5\u9053\u8FD9\u4E2A\u534F\u8BAE\u867D\u7136\u6548\u7387\u5F88\u9AD8\uFF0C\u4F46\u662F\u5E76\u4E0D\u662F\u90A3\u4E48\u7684\u53EF\u9760\u3002QUIC \u867D\u7136\u57FA\u4E8E UDP\uFF0C\u4F46\u662F\u5728\u539F\u672C\u7684\u57FA\u7840\u4E0A\u65B0\u589E\u4E86\u5F88\u591A\u529F\u80FD\uFF0C\u6BD4\u5982\u591A\u8DEF\u590D\u7528\u30010-RTT\u3001\u4F7F\u7528 TLS1.3 \u52A0\u5BC6\u3001\u6D41\u91CF\u63A7\u5236\u3001\u6709\u5E8F\u4EA4\u4ED8\u3001\u91CD\u4F20\u7B49\u7B49\u529F\u80FD\u3002\u8FD9\u91CC\u6211\u4EEC\u5C31\u6311\u9009\u51E0\u4E2A\u91CD\u8981\u7684\u529F\u80FD\u5B66\u4E60\u4E0B\u8FD9\u4E2A\u534F\u8BAE\u7684\u5185\u5BB9\u3002</p></blockquote><p><strong>\u591A\u8DEF\u590D\u7528</strong></p><blockquote><p>\u867D\u7136 HTTP/2 \u652F\u6301\u4E86\u591A\u8DEF\u590D\u7528\uFF0C\u4F46\u662F TCP \u534F\u8BAE\u7EC8\u7A76\u662F\u6CA1\u6709\u8FD9\u4E2A\u529F\u80FD\u7684\u3002QUIC \u539F\u751F\u5C31\u5B9E\u73B0\u4E86\u8FD9\u4E2A\u529F\u80FD\uFF0C\u5E76\u4E14\u4F20\u8F93\u7684\u5355\u4E2A\u6570\u636E\u6D41\u53EF\u4EE5\u4FDD\u8BC1\u6709\u5E8F\u4EA4\u4ED8\u4E14\u4E0D\u4F1A\u5F71\u54CD\u5176\u4ED6\u7684\u6570\u636E\u6D41\uFF0C\u8FD9\u6837\u7684\u6280\u672F\u5C31\u89E3\u51B3\u4E86\u4E4B\u524D TCP \u5B58\u5728\u7684\u95EE\u9898\u3002</p></blockquote><ul><li>\u5E76\u4E14 <code>QUIC</code> \u5728\u79FB\u52A8\u7AEF\u7684\u8868\u73B0\u4E5F\u4F1A\u6BD4 <code>TCP</code> \u597D\u3002\u56E0\u4E3A <code>TCP</code> \u662F\u57FA\u4E8E <code>IP</code> \u548C\u7AEF\u53E3\u53BB\u8BC6\u522B\u8FDE\u63A5\u7684\uFF0C\u8FD9\u79CD\u65B9\u5F0F\u5728\u591A\u53D8\u7684\u79FB\u52A8\u7AEF\u7F51\u7EDC\u73AF\u5883\u4E0B\u662F\u5F88\u8106\u5F31\u7684\u3002\u4F46\u662F <code>QUIC</code> \u662F\u901A\u8FC7 <code>ID</code>** \u7684\u65B9\u5F0F\u53BB\u8BC6\u522B\u4E00\u4E2A\u8FDE\u63A5\uFF0C\u4E0D\u7BA1\u4F60\u7F51\u7EDC\u73AF\u5883\u5982\u4F55\u53D8\u5316\uFF0C\u53EA\u8981 <code>ID</code> \u4E0D\u53D8\uFF0C\u5C31\u80FD\u8FC5\u901F\u91CD\u8FDE\u4E0A\u3002</li></ul><p><strong>0-RTT</strong></p><blockquote><p>\u901A\u8FC7\u4F7F\u7528\u7C7B\u4F3C TCP \u5FEB\u901F\u6253\u5F00\u7684\u6280\u672F\uFF0C\u7F13\u5B58\u5F53\u524D\u4F1A\u8BDD\u7684\u4E0A\u4E0B\u6587\uFF0C\u5728\u4E0B\u6B21\u6062\u590D\u4F1A\u8BDD\u7684\u65F6\u5019\uFF0C\u53EA\u9700\u8981\u5C06\u4E4B\u524D\u7684\u7F13\u5B58\u4F20\u9012\u7ED9\u670D\u52A1\u7AEF\u9A8C\u8BC1\u901A\u8FC7\u5C31\u53EF\u4EE5\u8FDB\u884C\u4F20\u8F93\u4E86\u3002</p></blockquote><p><strong>\u7EA0\u9519\u673A\u5236</strong></p><ul><li>\u5047\u5982\u8BF4\u8FD9\u6B21\u6211\u8981\u53D1\u9001\u4E09\u4E2A\u5305\uFF0C\u90A3\u4E48\u534F\u8BAE\u4F1A\u7B97\u51FA\u8FD9\u4E09\u4E2A\u5305\u7684\u5F02\u6216\u503C\u5E76\u5355\u72EC\u53D1\u51FA\u4E00\u4E2A\u6821\u9A8C\u5305\uFF0C\u4E5F\u5C31\u662F\u603B\u5171\u53D1\u51FA\u4E86\u56DB\u4E2A\u5305\u3002</li><li>\u5F53\u51FA\u73B0\u5176\u4E2D\u7684\u975E\u6821\u9A8C\u5305\u4E22\u5305\u7684\u60C5\u51B5\u65F6\uFF0C\u53EF\u4EE5\u901A\u8FC7\u53E6\u5916\u4E09\u4E2A\u5305\u8BA1\u7B97\u51FA\u4E22\u5931\u7684\u6570\u636E\u5305\u7684\u5185\u5BB9\u3002</li><li>\u5F53\u7136\u8FD9\u79CD\u6280\u672F\u53EA\u80FD\u4F7F\u7528\u5728\u4E22\u5931\u4E00\u4E2A\u5305\u7684\u60C5\u51B5\u4E0B\uFF0C\u5982\u679C\u51FA\u73B0\u4E22\u5931\u591A\u4E2A\u5305\u5C31\u4E0D\u80FD\u4F7F\u7528\u7EA0\u9519\u673A\u5236\u4E86\uFF0C\u53EA\u80FD\u4F7F\u7528\u91CD\u4F20\u7684\u65B9\u5F0F\u4E86</li></ul>",10),id={id:"_34-\u8BBE\u8BA1\u6A21\u5F0F",tabindex:"-1"},kd=n("a",{class:"header-anchor",href:"#_34-\u8BBE\u8BA1\u6A21\u5F0F","aria-hidden":"true"},"#",-1),dd=s(),bd={href:"http://interview.poetries.top/docs/excellent.html#_34-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},md=s("#"),hd=s("34 \u8BBE\u8BA1\u6A21\u5F0F"),gd=n("blockquote",null,[n("p",null,"\u8BBE\u8BA1\u6A21\u5F0F\u603B\u7684\u6765\u8BF4\u662F\u4E00\u4E2A\u62BD\u8C61\u7684\u6982\u5FF5\uFF0C\u524D\u4EBA\u901A\u8FC7\u65E0\u6570\u6B21\u7684\u5B9E\u8DF5\u603B\u7ED3\u51FA\u7684\u4E00\u5957\u5199\u4EE3\u7801\u7684\u65B9\u5F0F\uFF0C\u901A\u8FC7\u8FD9\u79CD\u65B9\u5F0F\u5199\u7684\u4EE3\u7801\u53EF\u4EE5\u8BA9\u522B\u4EBA\u66F4\u52A0\u5BB9\u6613\u9605\u8BFB\u3001\u7EF4\u62A4\u4EE5\u53CA\u590D\u7528\u3002")],-1),_d={id:"_34-1-\u5DE5\u5382\u6A21\u5F0F",tabindex:"-1"},fd=n("a",{class:"header-anchor",href:"#_34-1-\u5DE5\u5382\u6A21\u5F0F","aria-hidden":"true"},"#",-1),yd=s(),vd={href:"http://interview.poetries.top/docs/excellent.html#_34-1-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},wd=s("#"),xd=s("34.1 \u5DE5\u5382\u6A21\u5F0F"),qd=e(`<blockquote><p>\u5DE5\u5382\u6A21\u5F0F\u5206\u4E3A\u597D\u51E0\u79CD\uFF0C\u8FD9\u91CC\u5C31\u4E0D\u4E00\u4E00\u8BB2\u89E3\u4E86\uFF0C\u4EE5\u4E0B\u662F\u4E00\u4E2A\u7B80\u5355\u5DE5\u5382\u6A21\u5F0F\u7684\u4F8B\u5B50</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Man</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token function">alertName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Factory</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Man</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Factory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&#39;yck&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">alertName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ul><li>\u5F53\u7136\u5DE5\u5382\u6A21\u5F0F\u5E76\u4E0D\u4EC5\u4EC5\u662F\u7528\u6765 <code>new</code> \u51FA\u5B9E\u4F8B\u3002</li><li>\u53EF\u4EE5\u60F3\u8C61\u4E00\u4E2A\u573A\u666F\u3002\u5047\u8BBE\u6709\u4E00\u4EFD\u5F88\u590D\u6742\u7684\u4EE3\u7801\u9700\u8981\u7528\u6237\u53BB\u8C03\u7528\uFF0C\u4F46\u662F\u7528\u6237\u5E76\u4E0D\u5173\u5FC3\u8FD9\u4E9B\u590D\u6742\u7684\u4EE3\u7801\uFF0C\u53EA\u9700\u8981\u4F60\u63D0\u4F9B\u7ED9\u6211\u4E00\u4E2A\u63A5\u53E3\u53BB\u8C03\u7528\uFF0C\u7528\u6237\u53EA\u8D1F\u8D23\u4F20\u9012\u9700\u8981\u7684\u53C2\u6570\uFF0C\u81F3\u4E8E\u8FD9\u4E9B\u53C2\u6570\u600E\u4E48\u4F7F\u7528\uFF0C\u5185\u90E8\u6709\u4EC0\u4E48\u903B\u8F91\u662F\u4E0D\u5173\u5FC3\u7684\uFF0C\u53EA\u9700\u8981\u4F60\u6700\u540E\u8FD4\u56DE\u6211\u4E00\u4E2A\u5B9E\u4F8B\u3002\u8FD9\u4E2A\u6784\u9020\u8FC7\u7A0B\u5C31\u662F\u5DE5\u5382\u3002</li><li>\u5DE5\u5382\u8D77\u5230\u7684\u4F5C\u7528\u5C31\u662F\u9690\u85CF\u4E86\u521B\u5EFA\u5B9E\u4F8B\u7684\u590D\u6742\u5EA6\uFF0C\u53EA\u9700\u8981\u63D0\u4F9B\u4E00\u4E2A\u63A5\u53E3\uFF0C\u7B80\u5355\u6E05\u6670\u3002</li><li>\u5728 <code>Vue</code> \u6E90\u7801\u4E2D\uFF0C\u4F60\u4E5F\u53EF\u4EE5\u770B\u5230\u5DE5\u5382\u6A21\u5F0F\u7684\u4F7F\u7528\uFF0C\u6BD4\u5982\u521B\u5EFA\u5F02\u6B65\u7EC4\u4EF6</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createComponent</span> <span class="token punctuation">(</span>
  <span class="token parameter"><span class="token literal-property property">Ctor</span><span class="token operator">:</span> Class<span class="token operator">&lt;</span>Component<span class="token operator">&gt;</span> <span class="token operator">|</span> Function <span class="token operator">|</span> Object <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token operator">?</span>VNodeData<span class="token punctuation">,</span>
  <span class="token literal-property property">context</span><span class="token operator">:</span> Component<span class="token punctuation">,</span>
  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token operator">?</span>Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  tag<span class="token operator">?</span><span class="token operator">:</span> string</span>
<span class="token punctuation">)</span><span class="token operator">:</span> VNode <span class="token operator">|</span> Array<span class="token operator">&lt;</span>VNode<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// \u903B\u8F91\u5904\u7406...</span>
  
  <span class="token keyword">const</span> vnode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VNode</span><span class="token punctuation">(</span>
    <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">vue-component-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>Ctor<span class="token punctuation">.</span>cid<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
    data<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> context<span class="token punctuation">,</span>
    <span class="token punctuation">{</span> Ctor<span class="token punctuation">,</span> propsData<span class="token punctuation">,</span> listeners<span class="token punctuation">,</span> tag<span class="token punctuation">,</span> children <span class="token punctuation">}</span><span class="token punctuation">,</span>
    asyncFactory
  <span class="token punctuation">)</span>

  <span class="token keyword">return</span> vnode
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>\u5728\u4E0A\u8FF0\u4EE3\u7801\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\u6211\u4EEC\u53EA\u9700\u8981\u8C03\u7528 <code>createComponent</code> \u4F20\u5165\u53C2\u6570\u5C31\u80FD\u521B\u5EFA\u4E00\u4E2A\u7EC4\u4EF6\u5B9E\u4F8B\uFF0C\u4F46\u662F\u521B\u5EFA\u8FD9\u4E2A\u5B9E\u4F8B\u662F\u5F88\u590D\u6742\u7684\u4E00\u4E2A\u8FC7\u7A0B\uFF0C\u5DE5\u5382\u5E2E\u52A9\u6211\u4EEC\u9690\u85CF\u4E86\u8FD9\u4E2A\u590D\u6742\u7684\u8FC7\u7A0B\uFF0C\u53EA\u9700\u8981\u4E00\u53E5\u4EE3\u7801\u8C03\u7528\u5C31\u80FD\u5B9E\u73B0\u529F\u80FD</p></blockquote>`,5),Ed={id:"_34-2-\u5355\u4F8B\u6A21\u5F0F",tabindex:"-1"},jd=n("a",{class:"header-anchor",href:"#_34-2-\u5355\u4F8B\u6A21\u5F0F","aria-hidden":"true"},"#",-1),Cd=s(),Sd={href:"http://interview.poetries.top/docs/excellent.html#_34-2-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},Ad=s("#"),Bd=s("34.2 \u5355\u4F8B\u6A21\u5F0F"),Td=e(`<ul><li>\u5355\u4F8B\u6A21\u5F0F\u5F88\u5E38\u7528\uFF0C\u6BD4\u5982\u5168\u5C40\u7F13\u5B58\u3001\u5168\u5C40\u72B6\u6001\u7BA1\u7406\u7B49\u7B49\u8FD9\u4E9B\u53EA\u9700\u8981\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5C31\u53EF\u4EE5\u4F7F\u7528\u5355\u4F8B\u6A21\u5F0F\u3002</li><li>\u5355\u4F8B\u6A21\u5F0F\u7684\u6838\u5FC3\u5C31\u662F\u4FDD\u8BC1\u5168\u5C40\u53EA\u6709\u4E00\u4E2A\u5BF9\u8C61\u53EF\u4EE5\u8BBF\u95EE\u3002\u56E0\u4E3A <code>JS</code> \u662F\u95E8\u65E0\u7C7B\u7684\u8BED\u8A00\uFF0C\u6240\u4EE5\u522B\u7684\u8BED\u8A00\u5B9E\u73B0\u5355\u4F8B\u7684\u65B9\u5F0F\u5E76\u4E0D\u80FD\u5957\u5165 <code>JS</code> \u4E2D\uFF0C\u6211\u4EEC\u53EA\u9700\u8981\u7528\u4E00\u4E2A\u53D8\u91CF\u786E\u4FDD\u5B9E\u4F8B\u53EA\u521B\u5EFA\u4E00\u6B21\u5C31\u884C\uFF0C\u4EE5\u4E0B\u662F\u5982\u4F55\u5B9E\u73B0\u5355\u4F8B\u6A21\u5F0F\u7684\u4F8B\u5B50</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Singleton<span class="token punctuation">.</span>getInstance <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> instance
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> instance
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> s1 <span class="token operator">=</span> Singleton<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> Singleton<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1 <span class="token operator">===</span> s2<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>\u5728 <code>Vuex</code> \u6E90\u7801\u4E2D\uFF0C\u4F60\u4E5F\u53EF\u4EE5\u770B\u5230\u5355\u4F8B\u6A21\u5F0F\u7684\u4F7F\u7528\uFF0C\u867D\u7136\u5B83\u7684\u5B9E\u73B0\u65B9\u5F0F\u4E0D\u5927\u4E00\u6837\uFF0C\u901A\u8FC7\u4E00\u4E2A\u5916\u90E8\u53D8\u91CF\u6765\u63A7\u5236\u53EA\u5B89\u88C5\u4E00\u6B21 <code>Vuex</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> Vue <span class="token comment">// bind on install</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">install</span> <span class="token punctuation">(</span><span class="token parameter">_Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Vue <span class="token operator">&amp;&amp;</span> _Vue <span class="token operator">===</span> Vue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5982\u679C\u53D1\u73B0 Vue \u6709\u503C\uFF0C\u5C31\u4E0D\u91CD\u65B0\u521B\u5EFA\u5B9E\u4F8B\u4E86</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  Vue <span class="token operator">=</span> _Vue
  <span class="token function">applyMixin</span><span class="token punctuation">(</span>Vue<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div>`,4),Pd={id:"_34-3-\u9002\u914D\u5668\u6A21\u5F0F",tabindex:"-1"},Dd=n("a",{class:"header-anchor",href:"#_34-3-\u9002\u914D\u5668\u6A21\u5F0F","aria-hidden":"true"},"#",-1),Md=s(),Od={href:"http://interview.poetries.top/docs/excellent.html#_34-3-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},Rd=s("#"),Fd=s("34.3 \u9002\u914D\u5668\u6A21\u5F0F"),Nd=e(`<ul><li>\u9002\u914D\u5668\u7528\u6765\u89E3\u51B3\u4E24\u4E2A\u63A5\u53E3\u4E0D\u517C\u5BB9\u7684\u60C5\u51B5\uFF0C\u4E0D\u9700\u8981\u6539\u53D8\u5DF2\u6709\u7684\u63A5\u53E3\uFF0C\u901A\u8FC7\u5305\u88C5\u4E00\u5C42\u7684\u65B9\u5F0F\u5B9E\u73B0\u4E24\u4E2A\u63A5\u53E3\u7684\u6B63\u5E38\u534F\u4F5C\u3002</li><li>\u4EE5\u4E0B\u662F\u5982\u4F55\u5B9E\u73B0\u9002\u914D\u5668\u6A21\u5F0F\u7684\u4F8B\u5B50</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Plug</span> <span class="token punctuation">{</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;\u6E2F\u7248\u63D2\u5934&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Target</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>plug <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Plug</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>plug<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39; \u9002\u914D\u5668\u8F6C\u4E8C\u811A\u63D2\u5934&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Target</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
target<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u6E2F\u7248\u63D2\u5934 \u9002\u914D\u5668\u8F6C\u4E8C\u811A\u63D2\u5934</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>\u5728 <code>Vue</code> \u4E2D\uFF0C\u6211\u4EEC\u5176\u5B9E\u7ECF\u5E38\u4F7F\u7528\u5230\u9002\u914D\u5668\u6A21\u5F0F\u3002\u6BD4\u5982\u7236\u7EC4\u4EF6\u4F20\u9012\u7ED9\u5B50\u7EC4\u4EF6\u4E00\u4E2A\u65F6\u95F4\u6233\u5C5E\u6027\uFF0C\u7EC4\u4EF6\u5185\u90E8\u9700\u8981\u5C06\u65F6\u95F4\u6233\u8F6C\u4E3A\u6B63\u5E38\u7684\u65E5\u671F\u663E\u793A\uFF0C\u4E00\u822C\u4F1A\u4F7F\u7528 <code>computed</code> \u6765\u505A\u8F6C\u6362\u8FD9\u4EF6\u4E8B\u60C5\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u5C31\u4F7F\u7528\u5230\u4E86\u9002\u914D\u5668\u6A21\u5F0F</p></blockquote>`,3),Ld={id:"_34-4-\u88C5\u9970\u6A21\u5F0F",tabindex:"-1"},Vd=n("a",{class:"header-anchor",href:"#_34-4-\u88C5\u9970\u6A21\u5F0F","aria-hidden":"true"},"#",-1),Id=s(),Hd={href:"http://interview.poetries.top/docs/excellent.html#_34-4-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},Jd=s("#"),Ud=s("34.4 \u88C5\u9970\u6A21\u5F0F"),zd=e(`<ul><li>\u88C5\u9970\u6A21\u5F0F\u4E0D\u9700\u8981\u6539\u53D8\u5DF2\u6709\u7684\u63A5\u53E3\uFF0C\u4F5C\u7528\u662F\u7ED9\u5BF9\u8C61\u6DFB\u52A0\u529F\u80FD\u3002\u5C31\u50CF\u6211\u4EEC\u7ECF\u5E38\u9700\u8981\u7ED9\u624B\u673A\u6234\u4E2A\u4FDD\u62A4\u5957\u9632\u6454\u4E00\u6837\uFF0C\u4E0D\u6539\u53D8\u624B\u673A\u81EA\u8EAB\uFF0C\u7ED9\u624B\u673A\u6DFB\u52A0\u4E86\u4FDD\u62A4\u5957\u63D0\u4F9B\u9632\u6454\u529F\u80FD\u3002</li><li>\u4EE5\u4E0B\u662F\u5982\u4F55\u5B9E\u73B0\u88C5\u9970\u6A21\u5F0F\u7684\u4F8B\u5B50\uFF0C\u4F7F\u7528\u4E86 ES7 \u4E2D\u7684\u88C5\u9970\u5668\u8BED\u6CD5</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">readonly</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> descriptor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  descriptor<span class="token punctuation">.</span>writable <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token keyword">return</span> descriptor
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  @readonly
  name <span class="token operator">=</span> <span class="token string">&#39;yck&#39;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

t<span class="token punctuation">.</span>yck <span class="token operator">=</span> <span class="token string">&#39;111&#39;</span> <span class="token comment">// \u4E0D\u53EF\u4FEE\u6539</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>\u5728 <code>React</code> \u4E2D\uFF0C\u88C5\u9970\u6A21\u5F0F\u5176\u5B9E\u968F\u5904\u53EF\u89C1</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>
<span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,4),Wd={id:"_34-5-\u4EE3\u7406\u6A21\u5F0F",tabindex:"-1"},Xd=n("a",{class:"header-anchor",href:"#_34-5-\u4EE3\u7406\u6A21\u5F0F","aria-hidden":"true"},"#",-1),Gd=s(),Qd={href:"http://interview.poetries.top/docs/excellent.html#_34-5-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},Kd=s("#"),$d=s("34.5 \u4EE3\u7406\u6A21\u5F0F"),Yd=e(`<ul><li>\u4EE3\u7406\u662F\u4E3A\u4E86\u63A7\u5236\u5BF9\u5BF9\u8C61\u7684\u8BBF\u95EE\uFF0C\u4E0D\u8BA9\u5916\u90E8\u76F4\u63A5\u8BBF\u95EE\u5230\u5BF9\u8C61\u3002\u5728\u73B0\u5B9E\u751F\u6D3B\u4E2D\uFF0C\u4E5F\u6709\u5F88\u591A\u4EE3\u7406\u7684\u573A\u666F\u3002\u6BD4\u5982\u4F60\u9700\u8981\u4E70\u4E00\u4EF6\u56FD\u5916\u7684\u4EA7\u54C1\uFF0C\u8FD9\u65F6\u5019\u4F60\u53EF\u4EE5\u901A\u8FC7\u4EE3\u8D2D\u6765\u8D2D\u4E70\u4EA7\u54C1\u3002</li><li>\u5728\u5B9E\u9645\u4EE3\u7801\u4E2D\u5176\u5B9E\u4EE3\u7406\u7684\u573A\u666F\u5F88\u591A\uFF0C\u4E5F\u5C31\u4E0D\u4E3E\u6846\u67B6\u4E2D\u7684\u4F8B\u5B50\u4E86\uFF0C\u6BD4\u5982\u4E8B\u4EF6\u4EE3\u7406\u5C31\u7528\u5230\u4E86\u4EE3\u7406\u6A21\u5F0F</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ul<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#ul&#39;</span><span class="token punctuation">)</span>
    ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>\u56E0\u4E3A\u5B58\u5728\u592A\u591A\u7684 li\uFF0C\u4E0D\u53EF\u80FD\u6BCF\u4E2A\u90FD\u53BB\u7ED1\u5B9A\u4E8B\u4EF6\u3002\u8FD9\u65F6\u5019\u53EF\u4EE5\u901A\u8FC7\u7ED9\u7236\u8282\u70B9\u7ED1\u5B9A\u4E00\u4E2A\u4E8B\u4EF6\uFF0C\u8BA9\u7236\u8282\u70B9\u4F5C\u4E3A\u4EE3\u7406\u53BB\u62FF\u5230\u771F\u5B9E\u70B9\u51FB\u7684\u8282\u70B9\u3002</p></blockquote>`,3),Zd={id:"_34-6-\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F",tabindex:"-1"},nb=n("a",{class:"header-anchor",href:"#_34-6-\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F","aria-hidden":"true"},"#",-1),sb=s(),ab={href:"http://interview.poetries.top/docs/excellent.html#_34-6-%E5%8F%91%E5%B8%83-%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},pb=s("#"),eb=s("34.6 \u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F"),tb=e(`<ul><li>\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F\u4E5F\u53EB\u505A\u89C2\u5BDF\u8005\u6A21\u5F0F\u3002\u901A\u8FC7\u4E00\u5BF9\u4E00\u6216\u8005\u4E00\u5BF9\u591A\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u5F53\u5BF9\u8C61\u53D1\u751F\u6539\u53D8\u65F6\uFF0C\u8BA2\u9605\u65B9\u90FD\u4F1A\u6536\u5230\u901A\u77E5\u3002\u5728\u73B0\u5B9E\u751F\u6D3B\u4E2D\uFF0C\u4E5F\u6709\u5F88\u591A\u7C7B\u4F3C\u573A\u666F\uFF0C\u6BD4\u5982\u6211\u9700\u8981\u5728\u8D2D\u7269\u7F51\u7AD9\u4E0A\u8D2D\u4E70\u4E00\u4E2A\u4EA7\u54C1\uFF0C\u4F46\u662F\u53D1\u73B0\u8BE5\u4EA7\u54C1\u76EE\u524D\u5904\u4E8E\u7F3A\u8D27\u72B6\u6001\uFF0C\u8FD9\u65F6\u5019\u6211\u53EF\u4EE5\u70B9\u51FB\u6709\u8D27\u901A\u77E5\u7684\u6309\u94AE\uFF0C\u8BA9\u7F51\u7AD9\u5728\u4EA7\u54C1\u6709\u8D27\u7684\u65F6\u5019\u901A\u8FC7\u77ED\u4FE1\u901A\u77E5\u6211\u3002</li><li>\u5728\u5B9E\u9645\u4EE3\u7801\u4E2D\u5176\u5B9E\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F\u4E5F\u5F88\u5E38\u89C1\uFF0C\u6BD4\u5982\u6211\u4EEC\u70B9\u51FB\u4E00\u4E2A\u6309\u94AE\u89E6\u53D1\u4E86\u70B9\u51FB\u4E8B\u4EF6\u5C31\u662F\u4F7F\u7528\u4E86\u8BE5\u6A21\u5F0F</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ul<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#ul&#39;</span><span class="token punctuation">)</span>
    ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>\u5728 <code>Vue</code> \u4E2D\uFF0C\u5982\u4F55\u5B9E\u73B0\u54CD\u5E94\u5F0F\u4E5F\u662F\u4F7F\u7528\u4E86\u8BE5\u6A21\u5F0F\u3002\u5BF9\u4E8E\u9700\u8981\u5B9E\u73B0\u54CD\u5E94\u5F0F\u7684\u5BF9\u8C61\u6765\u8BF4\uFF0C\u5728 <code>get</code> \u7684\u65F6\u5019\u4F1A\u8FDB\u884C\u4F9D\u8D56\u6536\u96C6\uFF0C\u5F53\u6539\u53D8\u4E86\u5BF9\u8C61\u7684\u5C5E\u6027\u65F6\uFF0C\u5C31\u4F1A\u89E6\u53D1\u6D3E\u53D1\u66F4\u65B0\u3002</p></blockquote>`,3),ob={id:"_34-7-\u5916\u89C2\u6A21\u5F0F",tabindex:"-1"},cb=n("a",{class:"header-anchor",href:"#_34-7-\u5916\u89C2\u6A21\u5F0F","aria-hidden":"true"},"#",-1),lb=s(),ub={href:"http://interview.poetries.top/docs/excellent.html#_34-7-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"},rb=s("#"),ib=s("34.7 \u5916\u89C2\u6A21\u5F0F"),kb=e(`<ul><li>\u5916\u89C2\u6A21\u5F0F\u63D0\u4F9B\u4E86\u4E00\u4E2A\u63A5\u53E3\uFF0C\u9690\u85CF\u4E86\u5185\u90E8\u7684\u903B\u8F91\uFF0C\u66F4\u52A0\u65B9\u4FBF\u5916\u90E8\u8C03\u7528\u3002</li><li>\u4E2A\u4F8B\u5B50\u6765\u8BF4\uFF0C\u6211\u4EEC\u73B0\u5728\u9700\u8981\u5B9E\u73B0\u4E00\u4E2A\u517C\u5BB9\u591A\u79CD\u6D4F\u89C8\u5668\u7684\u6DFB\u52A0\u4E8B\u4EF6\u65B9\u6CD5</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">addEvent</span><span class="token punctuation">(</span><span class="token parameter">elm<span class="token punctuation">,</span> evType<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> useCapture</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>elm<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    elm<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>evType<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> useCapture<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>elm<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> r <span class="token operator">=</span> elm<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> evType<span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
    <span class="token keyword">return</span> r
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    elm<span class="token punctuation">[</span><span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> evType<span class="token punctuation">]</span> <span class="token operator">=</span> fn
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u4E0D\u540C\u7684\u6D4F\u89C8\u5668\uFF0C\u6DFB\u52A0\u4E8B\u4EF6\u7684\u65B9\u5F0F\u53EF\u80FD\u4F1A\u5B58\u5728\u517C\u5BB9\u95EE\u9898\u3002\u5982\u679C\u6BCF\u6B21\u90FD\u9700\u8981\u53BB\u8FD9\u6837\u5199\u4E00\u904D\u7684\u8BDD\u80AF\u5B9A\u662F\u4E0D\u80FD\u63A5\u53D7\u7684\uFF0C\u6240\u4EE5\u6211\u4EEC\u5C06\u8FD9\u4E9B\u5224\u65AD\u903B\u8F91\u7EDF\u4E00\u5C01\u88C5\u5728\u4E00\u4E2A\u63A5\u53E3\u4E2D\uFF0C\u5916\u90E8\u9700\u8981\u6DFB\u52A0\u4E8B\u4EF6\u53EA\u9700\u8981\u8C03\u7528 <code>addEvent</code> \u5373\u53EF\u3002</p></blockquote>`,3),db={id:"_35-\u5E38\u89C1\u6570\u636E\u7ED3\u6784",tabindex:"-1"},bb=n("a",{class:"header-anchor",href:"#_35-\u5E38\u89C1\u6570\u636E\u7ED3\u6784","aria-hidden":"true"},"#",-1),mb=s(),hb={href:"http://interview.poetries.top/docs/excellent.html#_35-%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84",target:"_blank",rel:"noopener noreferrer"},gb=s("#"),_b=s("35 \u5E38\u89C1\u6570\u636E\u7ED3\u6784"),fb={id:"_35-1-\u65F6\u95F4\u590D\u6742\u5EA6",tabindex:"-1"},yb=n("a",{class:"header-anchor",href:"#_35-1-\u65F6\u95F4\u590D\u6742\u5EA6","aria-hidden":"true"},"#",-1),vb=s(),wb={href:"http://interview.poetries.top/docs/excellent.html#_35-1-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6",target:"_blank",rel:"noopener noreferrer"},xb=s("#"),qb=s("35.1 \u65F6\u95F4\u590D\u6742\u5EA6"),Eb=e("<p>\u5728\u8FDB\u5165\u6B63\u9898\u4E4B\u524D\uFF0C\u6211\u4EEC\u5148\u6765\u4E86\u89E3\u4E0B\u4EC0\u4E48\u662F\u65F6\u95F4\u590D\u6742\u5EA6\u3002</p><ul><li>\u901A\u5E38\u4F7F\u7528\u6700\u5DEE\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u6765\u8861\u91CF\u4E00\u4E2A\u7B97\u6CD5\u7684\u597D\u574F\u3002</li><li>\u5E38\u6570\u65F6\u95F4 <code>O(1)</code> \u4EE3\u8868\u8FD9\u4E2A\u64CD\u4F5C\u548C\u6570\u636E\u91CF\u6CA1\u5173\u7CFB\uFF0C\u662F\u4E00\u4E2A\u56FA\u5B9A\u65F6\u95F4\u7684\u64CD\u4F5C\uFF0C\u6BD4\u5982\u8BF4\u56DB\u5219\u8FD0\u7B97\u3002</li><li>\u5BF9\u4E8E\u4E00\u4E2A\u7B97\u6CD5\u6765\u8BF4\uFF0C\u53EF\u80FD\u4F1A\u8BA1\u7B97\u51FA\u64CD\u4F5C\u6B21\u6570\u4E3A <code>aN + 1</code>\uFF0C<code>N</code> \u4EE3\u8868\u6570\u636E\u91CF\u3002\u90A3\u4E48\u8BE5\u7B97\u6CD5\u7684\u65F6\u95F4\u590D\u6742\u5EA6\u5C31\u662F <code>O(N)</code>\u3002\u56E0\u4E3A\u6211\u4EEC\u5728\u8BA1\u7B97\u65F6\u95F4\u590D\u6742\u5EA6\u7684\u65F6\u5019\uFF0C\u6570\u636E\u91CF\u901A\u5E38\u662F\u975E\u5E38\u5927\u7684\uFF0C\u8FD9\u65F6\u5019\u4F4E\u9636\u9879\u548C\u5E38\u6570\u9879\u53EF\u4EE5\u5FFD\u7565\u4E0D\u8BA1\u3002</li><li>\u5F53\u7136\u53EF\u80FD\u4F1A\u51FA\u73B0\u4E24\u4E2A\u7B97\u6CD5\u90FD\u662F <code>O(N)</code> \u7684\u65F6\u95F4\u590D\u6742\u5EA6\uFF0C\u90A3\u4E48\u5BF9\u6BD4\u4E24\u4E2A\u7B97\u6CD5\u7684\u597D\u574F\u5C31\u8981\u901A\u8FC7\u5BF9\u6BD4\u4F4E\u9636\u9879\u548C\u5E38\u6570\u9879\u4E86</li></ul>",2),jb={id:"_35-2-\u6808",tabindex:"-1"},Cb=n("a",{class:"header-anchor",href:"#_35-2-\u6808","aria-hidden":"true"},"#",-1),Sb=s(),Ab={href:"http://interview.poetries.top/docs/excellent.html#_35-2-%E6%A0%88",target:"_blank",rel:"noopener noreferrer"},Bb=s("#"),Tb=s("35.2 \u6808"),Pb=e(`<p><strong>\u6982\u5FF5</strong></p><ul><li>\u6808\u662F\u4E00\u4E2A\u7EBF\u6027\u7ED3\u6784\uFF0C\u5728\u8BA1\u7B97\u673A\u4E2D\u662F\u4E00\u4E2A\u76F8\u5F53\u5E38\u89C1\u7684\u6570\u636E\u7ED3\u6784\u3002</li><li>\u6808\u7684\u7279\u70B9\u662F\u53EA\u80FD\u5728\u67D0\u4E00\u7AEF\u6DFB\u52A0\u6216\u5220\u9664\u6570\u636E\uFF0C\u9075\u5FAA\u5148\u8FDB\u540E\u51FA\u7684\u539F\u5219</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/43.png" alt="img"></p><p><strong>\u5B9E\u73B0</strong></p><blockquote><p>\u6BCF\u79CD\u6570\u636E\u7ED3\u6784\u90FD\u53EF\u4EE5\u7528\u5F88\u591A\u79CD\u65B9\u5F0F\u6765\u5B9E\u73B0\uFF0C\u5176\u5B9E\u53EF\u4EE5\u628A\u6808\u770B\u6210\u662F\u6570\u7EC4\u7684\u4E00\u4E2A\u5B50\u96C6\uFF0C\u6240\u4EE5\u8FD9\u91CC\u4F7F\u7528\u6570\u7EC4\u6765\u5B9E\u73B0</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Stack</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div>`,6),Db={id:"_35-3-\u5E94\u7528",tabindex:"-1"},Mb=n("a",{class:"header-anchor",href:"#_35-3-\u5E94\u7528","aria-hidden":"true"},"#",-1),Ob=s(),Rb={href:"http://interview.poetries.top/docs/excellent.html#_35-3-%E5%BA%94%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},Fb=s("#"),Nb=s("35.3 \u5E94\u7528"),Lb=s("\u9009\u53D6\u4E86 LeetCode \u4E0A\u5E8F\u53F7\u4E3A "),Vb={href:"https://leetcode.com/problems/valid-parentheses/submissions/1",target:"_blank",rel:"noopener noreferrer"},Ib=s("20 \u7684\u9898 (opens new window)"),Hb=s("\u9898\u610F\u662F\u5339\u914D\u62EC\u53F7\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6808\u7684\u7279\u6027\u6765\u5B8C\u6210\u8FD9\u9053\u9898\u76EE"),Jb=e(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">isValid</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;(&#39;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;)&#39;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;[&#39;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;]&#39;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;{&#39;</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;}&#39;</span><span class="token operator">:</span> <span class="token number">3</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> last <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>last<span class="token punctuation">]</span> <span class="token operator">+</span> map<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><blockquote><p>\u5176\u5B9E\u5728 <code>Vue</code> \u4E2D\u5173\u4E8E\u6A21\u677F\u89E3\u6790\u7684\u4EE3\u7801\uFF0C\u5C31\u6709\u5E94\u7528\u5230\u5339\u914D\u5C16\u62EC\u53F7\u7684\u5185\u5BB9</p></blockquote>`,2),Ub={id:"_35-4-\u961F\u5217",tabindex:"-1"},zb=n("a",{class:"header-anchor",href:"#_35-4-\u961F\u5217","aria-hidden":"true"},"#",-1),Wb=s(),Xb={href:"http://interview.poetries.top/docs/excellent.html#_35-4-%E9%98%9F%E5%88%97",target:"_blank",rel:"noopener noreferrer"},Gb=s("#"),Qb=s("35.4 \u961F\u5217"),Kb=e(`<p><strong>\u6982\u5FF5</strong></p><blockquote><p>\u961F\u5217\u662F\u4E00\u4E2A\u7EBF\u6027\u7ED3\u6784\uFF0C\u7279\u70B9\u662F\u5728\u67D0\u4E00\u7AEF\u6DFB\u52A0\u6570\u636E\uFF0C\u5728\u53E6\u4E00\u7AEF\u5220\u9664\u6570\u636E\uFF0C\u9075\u5FAA\u5148\u8FDB\u5148\u51FA\u7684\u539F\u5219</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/44.png" alt="img"></p><p><strong>\u5B9E\u73B0</strong></p><blockquote><p>\u8FD9\u91CC\u4F1A\u8BB2\u89E3\u4E24\u79CD\u5B9E\u73B0\u961F\u5217\u7684\u65B9\u5F0F\uFF0C\u5206\u522B\u662F\u5355\u94FE\u961F\u5217\u548C\u5FAA\u73AF\u961F\u5217\u3002</p></blockquote><p><strong>\u5355\u94FE\u961F\u5217</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Queue</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">enQueue</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">deQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><blockquote><p>\u56E0\u4E3A\u5355\u94FE\u961F\u5217\u5728\u51FA\u961F\u64CD\u4F5C\u7684\u65F6\u5019\u9700\u8981 <code>O(n)</code> \u7684\u65F6\u95F4\u590D\u6742\u5EA6\uFF0C\u6240\u4EE5\u5F15\u5165\u4E86\u5FAA\u73AF\u961F\u5217\u3002\u5FAA\u73AF\u961F\u5217\u7684\u51FA\u961F\u64CD\u4F5C\u5E73\u5747\u662F <code>O(1)</code> \u7684\u65F6\u95F4\u590D\u6742\u5EA6\u3002</p></blockquote><p><strong>\u5FAA\u73AF\u961F\u5217</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">SqQueue</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment">// \u961F\u5934</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">// \u961F\u5C3E</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">// \u5F53\u524D\u961F\u5217\u5927\u5C0F</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">enQueue</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5224\u65AD\u961F\u5C3E + 1 \u662F\u5426\u4E3A\u961F\u5934</span>
    <span class="token comment">// \u5982\u679C\u662F\u5C31\u4EE3\u8868\u9700\u8981\u6269\u5BB9\u6570\u7EC4</span>
    <span class="token comment">// % this.queue.length \u662F\u4E3A\u4E86\u9632\u6B62\u6570\u7EC4\u8D8A\u754C</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">===</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>last<span class="token punctuation">]</span> <span class="token operator">=</span> item
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token function">deQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Queue is empty&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">--</span>
    <span class="token comment">// \u5224\u65AD\u5F53\u524D\u961F\u5217\u5927\u5C0F\u662F\u5426\u8FC7\u5C0F</span>
    <span class="token comment">// \u4E3A\u4E86\u4FDD\u8BC1\u4E0D\u6D6A\u8D39\u7A7A\u95F4\uFF0C\u5728\u961F\u5217\u7A7A\u95F4\u7B49\u4E8E\u603B\u957F\u5EA6\u56DB\u5206\u4E4B\u4E00\u65F6</span>
    <span class="token comment">// \u4E14\u4E0D\u4E3A 2 \u65F6\u7F29\u5C0F\u603B\u957F\u5EA6\u4E3A\u5F53\u524D\u7684\u4E00\u534A</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> r
  <span class="token punctuation">}</span>
  <span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Queue is empty&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>last
  <span class="token punctuation">}</span>
  <span class="token function">resize</span><span class="token punctuation">(</span><span class="token parameter">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> q <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      q<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">[</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>queue <span class="token operator">=</span> q
    <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div>`,10),$b={id:"_35-5-\u94FE\u8868",tabindex:"-1"},Yb=n("a",{class:"header-anchor",href:"#_35-5-\u94FE\u8868","aria-hidden":"true"},"#",-1),Zb=s(),nm={href:"http://interview.poetries.top/docs/excellent.html#_35-5-%E9%93%BE%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"},sm=s("#"),am=s("35.5 \u94FE\u8868"),pm=e(`<p><strong>\u6982\u5FF5</strong></p><blockquote><p>\u94FE\u8868\u662F\u4E00\u4E2A\u7EBF\u6027\u7ED3\u6784\uFF0C\u540C\u65F6\u4E5F\u662F\u4E00\u4E2A\u5929\u7136\u7684\u9012\u5F52\u7ED3\u6784\u3002\u94FE\u8868\u7ED3\u6784\u53EF\u4EE5\u5145\u5206\u5229\u7528\u8BA1\u7B97\u673A\u5185\u5B58\u7A7A\u95F4\uFF0C\u5B9E\u73B0\u7075\u6D3B\u7684\u5185\u5B58\u52A8\u6001\u7BA1\u7406\u3002\u4F46\u662F\u94FE\u8868\u5931\u53BB\u4E86\u6570\u7EC4\u968F\u673A\u8BFB\u53D6\u7684\u4F18\u70B9\uFF0C\u540C\u65F6\u94FE\u8868\u7531\u4E8E\u589E\u52A0\u4E86\u7ED3\u70B9\u7684\u6307\u9488\u57DF\uFF0C\u7A7A\u95F4\u5F00\u9500\u6BD4\u8F83\u5927\u3002</p></blockquote><p><strong>\u6982\u5FF5</strong></p><blockquote><p>\u94FE\u8868\u662F\u4E00\u4E2A\u7EBF\u6027\u7ED3\u6784\uFF0C\u540C\u65F6\u4E5F\u662F\u4E00\u4E2A\u5929\u7136\u7684\u9012\u5F52\u7ED3\u6784\u3002\u94FE\u8868\u7ED3\u6784\u53EF\u4EE5\u5145\u5206\u5229\u7528\u8BA1\u7B97\u673A\u5185\u5B58\u7A7A\u95F4\uFF0C\u5B9E\u73B0\u7075\u6D3B\u7684\u5185\u5B58\u52A8\u6001\u7BA1\u7406\u3002\u4F46\u662F\u94FE\u8868\u5931\u53BB\u4E86\u6570\u7EC4\u968F\u673A\u8BFB\u53D6\u7684\u4F18\u70B9\uFF0C\u540C\u65F6\u94FE\u8868\u7531\u4E8E\u589E\u52A0\u4E86\u7ED3\u70B9\u7684\u6307\u9488\u57DF\uFF0C\u7A7A\u95F4\u5F00\u9500\u6BD4\u8F83\u5927\u3002</p></blockquote><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/46.png" alt="img"></p><p><strong>\u5B9E\u73B0</strong></p><p><strong>\u5355\u5411\u94FE\u8868</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> v
    <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> next
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">LinkList</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u94FE\u8868\u957F\u5EA6</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">// \u865A\u62DF\u5934\u90E8</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dummyNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">header<span class="token punctuation">,</span> index<span class="token punctuation">,</span> currentIndex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> currentIndex<span class="token punctuation">)</span> <span class="token keyword">return</span> header
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>header<span class="token punctuation">.</span>next<span class="token punctuation">,</span> index<span class="token punctuation">,</span> currentIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">addNode</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    <span class="token comment">// \u5F53\u5F80\u94FE\u8868\u672B\u5C3E\u63D2\u5165\u65F6\uFF0Cprev.next \u4E3A\u7A7A</span>
    <span class="token comment">// \u5176\u4ED6\u60C5\u51B5\u65F6\uFF0C\u56E0\u4E3A\u8981\u63D2\u5165\u8282\u70B9\uFF0C\u6240\u4EE5\u63D2\u5165\u7684\u8282\u70B9</span>
    <span class="token comment">// \u7684 next \u5E94\u8BE5\u662F prev.next</span>
    <span class="token comment">// \u7136\u540E\u8BBE\u7F6E prev.next \u4E3A\u63D2\u5165\u7684\u8282\u70B9</span>
    <span class="token keyword">let</span> prev <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dummyNode<span class="token punctuation">,</span> index<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    prev<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> prev<span class="token punctuation">.</span>next<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
    <span class="token keyword">return</span> prev<span class="token punctuation">.</span>next
  <span class="token punctuation">}</span>
  <span class="token function">insertNode</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addNode</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">addToFirst</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addNode</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">addToLast</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addNode</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeNode</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> isLast</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    index <span class="token operator">=</span> isLast <span class="token operator">?</span> index <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">:</span> index
    <span class="token keyword">let</span> prev <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dummyNode<span class="token punctuation">,</span> index<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> prev<span class="token punctuation">.</span>next
    prev<span class="token punctuation">.</span>next <span class="token operator">=</span> node<span class="token punctuation">.</span>next
    node<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">--</span>
    <span class="token keyword">return</span> node
  <span class="token punctuation">}</span>
  <span class="token function">removeFirstNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeNode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeLastNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeNode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">checkIndex</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> index <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Index error&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getNode</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dummyNode<span class="token punctuation">,</span> index<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>next
  <span class="token punctuation">}</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br></div></div>`,8),em={id:"_35-6-\u6811",tabindex:"-1"},tm=n("a",{class:"header-anchor",href:"#_35-6-\u6811","aria-hidden":"true"},"#",-1),om=s(),cm={href:"http://interview.poetries.top/docs/excellent.html#_35-6-%E6%A0%91",target:"_blank",rel:"noopener noreferrer"},lm=s("#"),um=s("35.6 \u6811"),rm=e(`<p><strong>\u4E8C\u53C9\u6811</strong></p><ul><li>\u6811\u62E5\u6709\u5F88\u591A\u79CD\u7ED3\u6784\uFF0C\u4E8C\u53C9\u6811\u662F\u6811\u4E2D\u6700\u5E38\u7528\u7684\u7ED3\u6784\uFF0C\u540C\u65F6\u4E5F\u662F\u4E00\u4E2A\u5929\u7136\u7684\u9012\u5F52\u7ED3\u6784\u3002</li><li>\u4E8C\u53C9\u6811\u62E5\u6709\u4E00\u4E2A\u6839\u8282\u70B9\uFF0C\u6BCF\u4E2A\u8282\u70B9\u81F3\u591A\u62E5\u6709\u4E24\u4E2A\u5B50\u8282\u70B9\uFF0C\u5206\u522B\u4E3A\uFF1A\u5DE6\u8282\u70B9\u548C\u53F3\u8282\u70B9\u3002\u6811\u7684\u6700\u5E95\u90E8\u8282\u70B9\u79F0\u4E4B\u4E3A\u53F6\u8282\u70B9\uFF0C\u5F53\u4E00\u9897\u6811\u7684\u53F6\u6570\u91CF\u6570\u91CF\u4E3A\u6EE1\u65F6\uFF0C\u8BE5\u6811\u53EF\u4EE5\u79F0\u4E4B\u4E3A\u6EE1\u4E8C\u53C9\u6811\u3002</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/47.png" alt="img"></p><p><strong>\u4E8C\u5206\u641C\u7D22\u6811</strong></p><ul><li>\u4E8C\u5206\u641C\u7D22\u6811\u4E5F\u662F\u4E8C\u53C9\u6811\uFF0C\u62E5\u6709\u4E8C\u53C9\u6811\u7684\u7279\u6027\u3002\u4F46\u662F\u533A\u522B\u5728\u4E8E\u4E8C\u5206\u641C\u7D22\u6811\u6BCF\u4E2A\u8282\u70B9\u7684\u503C\u90FD\u6BD4\u4ED6\u7684\u5DE6\u5B50\u6811\u7684\u503C\u5927\uFF0C\u6BD4\u53F3\u5B50\u6811\u7684\u503C\u5C0F\u3002</li><li>\u8FD9\u79CD\u5B58\u50A8\u65B9\u5F0F\u5F88\u9002\u5408\u4E8E\u6570\u636E\u641C\u7D22\u3002\u5982\u4E0B\u56FE\u6240\u793A\uFF0C\u5F53\u9700\u8981\u67E5\u627E 6 \u7684\u65F6\u5019\uFF0C\u56E0\u4E3A\u9700\u8981\u67E5\u627E\u7684\u503C\u6BD4\u6839\u8282\u70B9\u7684\u503C\u5927\uFF0C\u6240\u4EE5\u53EA\u9700\u8981\u5728\u6839\u8282\u70B9\u7684\u53F3\u5B50\u6811\u4E0A\u5BFB\u627E\uFF0C\u5927\u5927\u63D0\u9AD8\u4E86\u641C\u7D22\u6548\u7387\u3002</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/48.png" alt="img"></p><p><strong>\u5B9E\u73B0</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value
    <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">BST</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size
  <span class="token punctuation">}</span>
  <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">addNode</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u6DFB\u52A0\u8282\u70B9\u65F6\uFF0C\u9700\u8981\u6BD4\u8F83\u6DFB\u52A0\u7684\u8282\u70B9\u503C\u548C\u5F53\u524D</span>
  <span class="token comment">// \u8282\u70B9\u503C\u7684\u5927\u5C0F</span>
  <span class="token function">_addChild</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> node
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><ul><li>\u4EE5\u4E0A\u662F\u6700\u57FA\u672C\u7684\u4E8C\u5206\u641C\u7D22\u6811\u5B9E\u73B0\uFF0C\u63A5\u4E0B\u6765\u5B9E\u73B0\u6811\u7684\u904D\u5386\u3002</li><li>\u5BF9\u4E8E\u6811\u7684\u904D\u5386\u6765\u8BF4\uFF0C\u6709\u4E09\u79CD\u904D\u5386\u65B9\u6CD5\uFF0C\u5206\u522B\u662F\u5148\u5E8F\u904D\u5386\u3001\u4E2D\u5E8F\u904D\u5386\u3001\u540E\u5E8F\u904D\u5386\u3002\u4E09\u79CD\u904D\u5386\u7684\u533A\u522B\u5728\u4E8E\u4F55\u65F6\u8BBF\u95EE\u8282\u70B9\u3002\u5728\u904D\u5386\u6811\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u6BCF\u4E2A\u8282\u70B9\u90FD\u4F1A\u904D\u5386\u4E09\u6B21\uFF0C\u5206\u522B\u662F\u904D\u5386\u5230\u81EA\u5DF1\uFF0C\u904D\u5386\u5DE6\u5B50\u6811\u548C\u904D\u5386\u53F3\u5B50\u6811\u3002\u5982\u679C\u9700\u8981\u5B9E\u73B0\u5148\u5E8F\u904D\u5386\uFF0C\u90A3\u4E48\u53EA\u9700\u8981\u7B2C\u4E00\u6B21\u904D\u5386\u5230\u8282\u70B9\u65F6\u8FDB\u884C\u64CD\u4F5C\u5373\u53EF\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5148\u5E8F\u904D\u5386\u53EF\u7528\u4E8E\u6253\u5370\u6811\u7684\u7ED3\u6784</span>
<span class="token comment">// \u5148\u5E8F\u904D\u5386\u5148\u8BBF\u95EE\u6839\u8282\u70B9\uFF0C\u7136\u540E\u8BBF\u95EE\u5DE6\u8282\u70B9\uFF0C\u6700\u540E\u8BBF\u95EE\u53F3\u8282\u70B9\u3002</span>
<span class="token function">preTraversal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_pre</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_pre</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_pre</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_pre</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u4E2D\u5E8F\u904D\u5386\u53EF\u7528\u4E8E\u6392\u5E8F</span>
<span class="token comment">// \u5BF9\u4E8E BST \u6765\u8BF4\uFF0C\u4E2D\u5E8F\u904D\u5386\u53EF\u4EE5\u5B9E\u73B0\u4E00\u6B21\u904D\u5386\u5C31</span>
<span class="token comment">// \u5F97\u5230\u6709\u5E8F\u7684\u503C</span>
<span class="token comment">// \u4E2D\u5E8F\u904D\u5386\u8868\u793A\u5148\u8BBF\u95EE\u5DE6\u8282\u70B9\uFF0C\u7136\u540E\u8BBF\u95EE\u6839\u8282\u70B9\uFF0C\u6700\u540E\u8BBF\u95EE\u53F3\u8282\u70B9\u3002</span>
<span class="token function">midTraversal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_mid</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_mid</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_mid</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_mid</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u540E\u5E8F\u904D\u5386\u53EF\u7528\u4E8E\u5148\u64CD\u4F5C\u5B50\u8282\u70B9</span>
<span class="token comment">// \u518D\u64CD\u4F5C\u7236\u8282\u70B9\u7684\u573A\u666F</span>
<span class="token comment">// \u540E\u5E8F\u904D\u5386\u8868\u793A\u5148\u8BBF\u95EE\u5DE6\u8282\u70B9\uFF0C\u7136\u540E\u8BBF\u95EE\u53F3\u8282\u70B9\uFF0C\u6700\u540E\u8BBF\u95EE\u6839\u8282\u70B9\u3002</span>
<span class="token function">backTraversal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_back</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_back</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_back</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_back</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u7684\u8FD9\u51E0\u79CD\u904D\u5386\u90FD\u53EF\u4EE5\u79F0\u4E4B\u4E3A\u6DF1\u5EA6\u904D\u5386\uFF0C\u5BF9\u5E94\u7684\u8FD8\u6709\u79CD\u904D\u5386\u53EB\u505A\u5E7F\u5EA6\u904D\u5386\uFF0C\u4E5F\u5C31\u662F\u4E00\u5C42\u5C42\u5730\u904D\u5386\u6811\u3002\u5BF9\u4E8E\u5E7F\u5EA6\u904D\u5386\u6765\u8BF4\uFF0C\u6211\u4EEC\u9700\u8981\u5229\u7528\u4E4B\u524D\u8BB2\u8FC7\u7684\u961F\u5217\u7ED3\u6784\u6765\u5B8C\u6210\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">breadthTraversal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token keyword">let</span> q <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// \u5C06\u6839\u8282\u70B9\u5165\u961F</span>
  q<span class="token punctuation">.</span><span class="token function">enQueue</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
  <span class="token comment">// \u5FAA\u73AF\u5224\u65AD\u961F\u5217\u662F\u5426\u4E3A\u7A7A\uFF0C\u4E3A\u7A7A</span>
  <span class="token comment">// \u4EE3\u8868\u6811\u904D\u5386\u5B8C\u6BD5</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5C06\u961F\u9996\u51FA\u961F\uFF0C\u5224\u65AD\u662F\u5426\u6709\u5DE6\u53F3\u5B50\u6811</span>
    <span class="token comment">// \u6709\u7684\u8BDD\uFF0C\u5C31\u5148\u5DE6\u540E\u53F3\u5165\u961F</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">deQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>left<span class="token punctuation">)</span> q<span class="token punctuation">.</span><span class="token function">enQueue</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>right<span class="token punctuation">)</span> q<span class="token punctuation">.</span><span class="token function">enQueue</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>\u63A5\u4E0B\u6765\u5148\u4ECB\u7ECD\u5982\u4F55\u5728\u6811\u4E2D\u5BFB\u627E\u6700\u5C0F\u503C\u6216\u6700\u5927\u6570\u3002\u56E0\u4E3A\u4E8C\u5206\u641C\u7D22\u6811\u7684\u7279\u6027\uFF0C\u6240\u4EE5\u6700\u5C0F\u503C\u4E00\u5B9A\u5728\u6839\u8282\u70B9\u7684\u6700\u5DE6\u8FB9\uFF0C\u6700\u5927\u503C\u76F8\u53CD</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">getMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span><span class="token punctuation">.</span>value
<span class="token punctuation">}</span>
<span class="token function">_getMin</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">return</span> node
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">getMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMax</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span><span class="token punctuation">.</span>value
<span class="token punctuation">}</span>
<span class="token function">_getMax</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token keyword">return</span> node
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>\u5411\u4E0A\u53D6\u6574\u548C\u5411\u4E0B\u53D6\u6574\uFF0C\u8FD9\u4E24\u4E2A\u64CD\u4F5C\u662F\u76F8\u53CD\u7684\uFF0C\u6240\u4EE5\u4EE3\u7801\u4E5F\u662F\u7C7B\u4F3C\u7684\uFF0C\u8FD9\u91CC\u53EA\u4ECB\u7ECD\u5982\u4F55\u5411\u4E0B\u53D6\u6574\u3002\u65E2\u7136\u662F\u5411\u4E0B\u53D6\u6574\uFF0C\u90A3\u4E48\u6839\u636E\u4E8C\u5206\u641C\u7D22\u6811\u7684\u7279\u6027\uFF0C\u503C\u4E00\u5B9A\u5728\u6839\u8282\u70B9\u7684\u5DE6\u4FA7\u3002\u53EA\u9700\u8981\u4E00\u76F4\u904D\u5386\u5DE6\u5B50\u6811\u76F4\u5230\u5F53\u524D\u8282\u70B9\u7684\u503C\u4E0D\u518D\u5927\u4E8E\u7B49\u4E8E\u9700\u8981\u7684\u503C\uFF0C\u7136\u540E\u5224\u65AD\u8282\u70B9\u662F\u5426\u8FD8\u62E5\u6709\u53F3\u5B50\u6811\u3002\u5982\u679C\u6709\u7684\u8BDD\uFF0C\u7EE7\u7EED\u4E0A\u9762\u7684\u9012\u5F52\u5224\u65AD\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">floor</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_floor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token keyword">return</span> node <span class="token operator">?</span> node<span class="token punctuation">.</span>value <span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
<span class="token function">_floor</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">===</span> v<span class="token punctuation">)</span> <span class="token keyword">return</span> v
  <span class="token comment">// \u5982\u679C\u5F53\u524D\u8282\u70B9\u503C\u8FD8\u6BD4\u9700\u8981\u7684\u503C\u5927\uFF0C\u5C31\u7EE7\u7EED\u9012\u5F52</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_floor</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5224\u65AD\u5F53\u524D\u8282\u70B9\u662F\u5426\u62E5\u6709\u53F3\u5B50\u6811</span>
  <span class="token keyword">let</span> right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_floor</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>right<span class="token punctuation">)</span> <span class="token keyword">return</span> right
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>\u6392\u540D\uFF0C\u8FD9\u662F\u7528\u4E8E\u83B7\u53D6\u7ED9\u5B9A\u503C\u7684\u6392\u540D\u6216\u8005\u6392\u540D\u7B2C\u51E0\u7684\u8282\u70B9\u7684\u503C\uFF0C\u8FD9\u4E24\u4E2A\u64CD\u4F5C\u4E5F\u662F\u76F8\u53CD\u7684\uFF0C\u6240\u4EE5\u8FD9\u4E2A\u53EA\u4ECB\u7ECD\u5982\u4F55\u83B7\u53D6\u6392\u540D\u7B2C\u51E0\u7684\u8282\u70B9\u7684\u503C\u3002\u5BF9\u4E8E\u8FD9\u4E2A\u64CD\u4F5C\u800C\u8A00\uFF0C\u6211\u4EEC\u9700\u8981\u7565\u5FAE\u7684\u6539\u9020\u70B9\u4EE3\u7801\uFF0C\u8BA9\u6BCF\u4E2A\u8282\u70B9\u62E5\u6709\u4E00\u4E2A size \u5C5E\u6027\u3002\u8BE5\u5C5E\u6027\u8868\u793A\u8BE5\u8282\u70B9\u4E0B\u6709\u591A\u5C11\u5B50\u8282\u70B9\uFF08\u5305\u542B\u81EA\u8EAB\uFF09</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value
    <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token comment">// \u4FEE\u6539\u4EE3\u7801</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u65B0\u589E\u4EE3\u7801</span>
<span class="token function">_getSize</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> node <span class="token operator">?</span> node<span class="token punctuation">.</span>size <span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
<span class="token function">_addChild</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4FEE\u6539\u4EE3\u7801</span>
    node<span class="token punctuation">.</span>size<span class="token operator">++</span>
    node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4FEE\u6539\u4EE3\u7801</span>
    node<span class="token punctuation">.</span>size<span class="token operator">++</span>
    node<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
<span class="token function">select</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_select</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">,</span> k<span class="token punctuation">)</span>
  <span class="token keyword">return</span> node <span class="token operator">?</span> node<span class="token punctuation">.</span>value <span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
<span class="token function">_select</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token comment">// \u5148\u83B7\u53D6\u5DE6\u5B50\u6811\u4E0B\u6709\u51E0\u4E2A\u8282\u70B9</span>
  <span class="token keyword">let</span> size <span class="token operator">=</span> node<span class="token punctuation">.</span>left <span class="token operator">?</span> node<span class="token punctuation">.</span>left<span class="token punctuation">.</span>size <span class="token operator">:</span> <span class="token number">0</span>
  <span class="token comment">// \u5224\u65AD size \u662F\u5426\u5927\u4E8E k</span>
  <span class="token comment">// \u5982\u679C\u5927\u4E8E k\uFF0C\u4EE3\u8868\u6240\u9700\u8981\u7684\u8282\u70B9\u5728\u5DE6\u8282\u70B9</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">&gt;</span> k<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_select</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> k<span class="token punctuation">)</span>
  <span class="token comment">// \u5982\u679C\u5C0F\u4E8E k\uFF0C\u4EE3\u8868\u6240\u9700\u8981\u7684\u8282\u70B9\u5728\u53F3\u8282\u70B9</span>
  <span class="token comment">// \u6CE8\u610F\u8FD9\u91CC\u9700\u8981\u91CD\u65B0\u8BA1\u7B97 k\uFF0C\u51CF\u53BB\u6839\u8282\u70B9\u9664\u4E86\u53F3\u5B50\u6811\u7684\u8282\u70B9\u6570\u91CF</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">&lt;</span> k<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_select</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> k <span class="token operator">-</span> size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><blockquote><p>\u63A5\u4E0B\u6765\u8BB2\u89E3\u7684\u662F\u4E8C\u5206\u641C\u7D22\u6811\u4E2D\u6700\u96BE\u5B9E\u73B0\u7684\u90E8\u5206\uFF1A\u5220\u9664\u8282\u70B9\u3002\u56E0\u4E3A\u5BF9\u4E8E\u5220\u9664\u8282\u70B9\u6765\u8BF4\uFF0C\u4F1A\u5B58\u5728\u4EE5\u4E0B\u51E0\u79CD\u60C5\u51B5</p></blockquote><ul><li>\u9700\u8981\u5220\u9664\u7684\u8282\u70B9\u6CA1\u6709\u5B50\u6811</li><li>\u9700\u8981\u5220\u9664\u7684\u8282\u70B9\u53EA\u6709\u4E00\u6761\u5B50\u6811</li><li>\u9700\u8981\u5220\u9664\u7684\u8282\u70B9\u6709\u5DE6\u53F3\u4E24\u6761\u6811</li></ul><blockquote><p>\u5BF9\u4E8E\u524D\u4E24\u79CD\u60C5\u51B5\u5F88\u597D\u89E3\u51B3\uFF0C\u4F46\u662F\u7B2C\u4E09\u79CD\u60C5\u51B5\u5C31\u6709\u96BE\u5EA6\u4E86\uFF0C\u6240\u4EE5\u5148\u6765\u5B9E\u73B0\u76F8\u5BF9\u7B80\u5355\u7684\u64CD\u4F5C\uFF1A\u5220\u9664\u6700\u5C0F\u8282\u70B9\uFF0C\u5BF9\u4E8E\u5220\u9664\u6700\u5C0F\u8282\u70B9\u6765\u8BF4\uFF0C\u662F\u4E0D\u5B58\u5728\u7B2C\u4E09\u79CD\u60C5\u51B5\u7684\uFF0C\u5220\u9664\u6700\u5927\u8282\u70B9\u64CD\u4F5C\u662F\u548C\u5220\u9664\u6700\u5C0F\u8282\u70B9\u76F8\u53CD\u7684\uFF0C\u6240\u4EE5\u8FD9\u91CC\u4E5F\u5C31\u4E0D\u518D\u8D58\u8FF0\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">delectMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delectMin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_delectMin</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u4E00\u76F4\u9012\u5F52\u5DE6\u5B50\u6811</span>
  <span class="token comment">// \u5982\u679C\u5DE6\u5B50\u6811\u4E3A\u7A7A\uFF0C\u5C31\u5224\u65AD\u8282\u70B9\u662F\u5426\u62E5\u6709\u53F3\u5B50\u6811</span>
  <span class="token comment">// \u6709\u53F3\u5B50\u6811\u7684\u8BDD\u5C31\u628A\u9700\u8981\u5220\u9664\u7684\u8282\u70B9\u66FF\u6362\u4E3A\u53F3\u5B50\u6811</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>node <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token operator">!</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">return</span> node<span class="token punctuation">.</span>right
  node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delectMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
  <span class="token comment">// \u6700\u540E\u9700\u8981\u91CD\u65B0\u7EF4\u62A4\u4E0B\u8282\u70B9\u7684 \`size\`</span>
  node<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getSize</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getSize</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>\u6700\u540E\u8BB2\u89E3\u7684\u5C31\u662F\u5982\u4F55\u5220\u9664\u4EFB\u610F\u8282\u70B9\u4E86\u3002\u5BF9\u4E8E\u8FD9\u4E2A\u64CD\u4F5C\uFF0CT.Hibbard \u5728 1962 \u5E74\u63D0\u51FA\u4E86\u89E3\u51B3\u8FD9\u4E2A\u96BE\u9898\u7684\u529E\u6CD5\uFF0C\u4E5F\u5C31\u662F\u5982\u4F55\u89E3\u51B3\u7B2C\u4E09\u79CD\u60C5\u51B5\u3002</li><li>\u5F53\u9047\u5230\u8FD9\u79CD\u60C5\u51B5\u65F6\uFF0C\u9700\u8981\u53D6\u51FA\u5F53\u524D\u8282\u70B9\u7684\u540E\u7EE7\u8282\u70B9\uFF08\u4E5F\u5C31\u662F\u5F53\u524D\u8282\u70B9\u53F3\u5B50\u6811\u7684\u6700\u5C0F\u8282\u70B9\uFF09\u6765\u66FF\u6362\u9700\u8981\u5220\u9664\u7684\u8282\u70B9\u3002\u7136\u540E\u5C06\u9700\u8981\u5220\u9664\u8282\u70B9\u7684\u5DE6\u5B50\u6811\u8D4B\u503C\u7ED9\u540E\u7EE7\u7ED3\u70B9\uFF0C\u53F3\u5B50\u6811\u5220\u9664\u540E\u7EE7\u7ED3\u70B9\u540E\u8D4B\u503C\u7ED9\u4ED6\u3002</li><li>\u4F60\u5982\u679C\u5BF9\u4E8E\u8FD9\u4E2A\u89E3\u51B3\u529E\u6CD5\u6709\u7591\u95EE\u7684\u8BDD\uFF0C\u53EF\u4EE5\u8FD9\u6837\u8003\u8651\u3002\u56E0\u4E3A\u4E8C\u5206\u641C\u7D22\u6811\u7684\u7279\u6027\uFF0C\u7236\u8282\u70B9\u4E00\u5B9A\u6BD4\u6240\u6709\u5DE6\u5B50\u8282\u70B9\u5927\uFF0C\u6BD4\u6240\u6709\u53F3\u5B50\u8282\u70B9\u5C0F\u3002\u90A3\u4E48\u5F53\u9700\u8981\u5220\u9664\u7236\u8282\u70B9\u65F6\uFF0C\u52BF\u5FC5\u9700\u8981\u62FF\u51FA\u4E00\u4E2A\u6BD4\u7236\u8282\u70B9\u5927\u7684\u8282\u70B9\u6765\u66FF\u6362\u7236\u8282\u70B9\u3002\u8FD9\u4E2A\u8282\u70B9\u80AF\u5B9A\u4E0D\u5B58\u5728\u4E8E\u5DE6\u5B50\u6811\uFF0C\u5FC5\u7136\u5B58\u5728\u4E8E\u53F3\u5B50\u6811\u3002\u7136\u540E\u53C8\u9700\u8981\u4FDD\u6301\u7236\u8282\u70B9\u90FD\u662F\u6BD4\u53F3\u5B50\u8282\u70B9\u5C0F\u7684\uFF0C\u90A3\u4E48\u5C31\u53EF\u4EE5\u53D6\u51FA\u53F3\u5B50\u6811\u4E2D\u6700\u5C0F\u7684\u90A3\u4E2A\u8282\u70B9\u6765\u66FF\u6362\u7236\u8282\u70B9\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">delect</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delect</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">_delect</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token comment">// \u5BFB\u627E\u7684\u8282\u70B9\u6BD4\u5F53\u524D\u8282\u70B9\u5C0F\uFF0C\u53BB\u5DE6\u5B50\u6811\u627E</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    node<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delect</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5BFB\u627E\u7684\u8282\u70B9\u6BD4\u5F53\u524D\u8282\u70B9\u5927\uFF0C\u53BB\u53F3\u5B50\u6811\u627E</span>
    node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delect</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8FDB\u5165\u8FD9\u4E2A\u6761\u4EF6\u8BF4\u660E\u5DF2\u7ECF\u627E\u5230\u8282\u70B9</span>
    <span class="token comment">// \u5148\u5224\u65AD\u8282\u70B9\u662F\u5426\u62E5\u6709\u62E5\u6709\u5DE6\u53F3\u5B50\u6811\u4E2D\u7684\u4E00\u4E2A</span>
    <span class="token comment">// \u662F\u7684\u8BDD\uFF0C\u5C06\u5B50\u6811\u8FD4\u56DE\u51FA\u53BB\uFF0C\u8FD9\u91CC\u548C \`_delectMin\` \u7684\u64CD\u4F5C\u4E00\u6837</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token keyword">return</span> node<span class="token punctuation">.</span>right
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token keyword">return</span> node<span class="token punctuation">.</span>left
    <span class="token comment">// \u8FDB\u5165\u8FD9\u91CC\uFF0C\u4EE3\u8868\u8282\u70B9\u62E5\u6709\u5DE6\u53F3\u5B50\u6811</span>
    <span class="token comment">// \u5148\u53D6\u51FA\u5F53\u524D\u8282\u70B9\u7684\u540E\u7EE7\u7ED3\u70B9\uFF0C\u4E5F\u5C31\u662F\u53D6\u5F53\u524D\u8282\u70B9\u53F3\u5B50\u6811\u7684\u6700\u5C0F\u503C</span>
    <span class="token keyword">let</span> min <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
    <span class="token comment">// \u53D6\u51FA\u6700\u5C0F\u503C\u540E\uFF0C\u5220\u9664\u6700\u5C0F\u503C</span>
    <span class="token comment">// \u7136\u540E\u628A\u5220\u9664\u8282\u70B9\u540E\u7684\u5B50\u6811\u8D4B\u503C\u7ED9\u6700\u5C0F\u503C\u8282\u70B9</span>
    min<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_delectMin</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
    <span class="token comment">// \u5DE6\u5B50\u6811\u4E0D\u52A8</span>
    min<span class="token punctuation">.</span>left <span class="token operator">=</span> node<span class="token punctuation">.</span>left
    node <span class="token operator">=</span> min
  <span class="token punctuation">}</span>
  <span class="token comment">// \u7EF4\u62A4 size</span>
  node<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getSize</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getSize</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div>`,24),im={id:"_35-7-avl-\u6811",tabindex:"-1"},km=n("a",{class:"header-anchor",href:"#_35-7-avl-\u6811","aria-hidden":"true"},"#",-1),dm=s(),bm={href:"http://interview.poetries.top/docs/excellent.html#_35-7-avl-%E6%A0%91",target:"_blank",rel:"noopener noreferrer"},mm=s("#"),hm=s("35.7 AVL \u6811"),gm=e(`<p><strong>\u6982\u5FF5</strong></p><blockquote><p>\u4E8C\u5206\u641C\u7D22\u6811\u5B9E\u9645\u5728\u4E1A\u52A1\u4E2D\u662F\u53D7\u5230\u9650\u5236\u7684\uFF0C\u56E0\u4E3A\u5E76\u4E0D\u662F\u4E25\u683C\u7684 O(logN)\uFF0C\u5728\u6781\u7AEF\u60C5\u51B5\u4E0B\u4F1A\u9000\u5316\u6210\u94FE\u8868\uFF0C\u6BD4\u5982\u52A0\u5165\u4E00\u7EC4\u5347\u5E8F\u7684\u6570\u5B57\u5C31\u4F1A\u9020\u6210\u8FD9\u79CD\u60C5\u51B5\u3002</p></blockquote><blockquote><p>AVL \u6811\u6539\u8FDB\u4E86\u4E8C\u5206\u641C\u7D22\u6811\uFF0C\u5728 AVL \u6811\u4E2D\u4EFB\u610F\u8282\u70B9\u7684\u5DE6\u53F3\u5B50\u6811\u7684\u9AD8\u5EA6\u5DEE\u90FD\u4E0D\u5927\u4E8E 1\uFF0C\u8FD9\u6837\u4FDD\u8BC1\u4E86\u65F6\u95F4\u590D\u6742\u5EA6\u662F\u4E25\u683C\u7684 O(logN)\u3002\u57FA\u4E8E\u6B64\uFF0C\u5BF9 AVL \u6811\u589E\u52A0\u6216\u5220\u9664\u8282\u70B9\u65F6\u53EF\u80FD\u9700\u8981\u65CB\u8F6C\u6811\u6765\u8FBE\u5230\u9AD8\u5EA6\u7684\u5E73\u8861\u3002</p></blockquote><p><strong>\u5B9E\u73B0</strong></p><ul><li>\u56E0\u4E3A <code>AVL</code> \u6811\u662F\u6539\u8FDB\u4E86\u4E8C\u5206\u641C\u7D22\u6811\uFF0C\u6240\u4EE5\u90E8\u5206\u4EE3\u7801\u662F\u4E8E\u4E8C\u5206\u641C\u7D22\u6811\u91CD\u590D\u7684\uFF0C\u5BF9\u4E8E\u91CD\u590D\u5185\u5BB9\u4E0D\u4F5C\u518D\u6B21\u89E3\u6790\u3002</li><li>\u5BF9\u4E8E AVL \u6811\u6765\u8BF4\uFF0C\u6DFB\u52A0\u8282\u70B9\u4F1A\u6709\u56DB\u79CD\u60C5\u51B5</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/49.png" alt="img"></p><ul><li>\u5BF9\u4E8E\u5DE6\u5DE6\u60C5\u51B5\u6765\u8BF4\uFF0C\u65B0\u589E\u52A0\u7684\u8282\u70B9\u4F4D\u4E8E\u8282\u70B9 <code>2</code> \u7684\u5DE6\u4FA7\uFF0C\u8FD9\u65F6\u6811\u5DF2\u7ECF\u4E0D\u5E73\u8861\uFF0C\u9700\u8981\u65CB\u8F6C\u3002\u56E0\u4E3A\u641C\u7D22\u6811\u7684\u7279\u6027\uFF0C\u8282\u70B9\u6BD4\u5DE6\u8282\u70B9\u5927\uFF0C\u6BD4\u53F3\u8282\u70B9\u5C0F\uFF0C\u6240\u4EE5\u65CB\u8F6C\u4EE5\u540E\u4E5F\u8981\u5B9E\u73B0\u8FD9\u4E2A\u7279\u6027\u3002</li><li>\u65CB\u8F6C\u4E4B\u524D\uFF1A<code>new &lt; 2 &lt; C &lt; 3 &lt; B &lt; 5 &lt; A</code>\uFF0C\u53F3\u65CB\u4E4B\u540E\u8282\u70B9 <code>3</code> \u4E3A\u6839\u8282\u70B9\uFF0C\u8FD9\u65F6\u5019\u9700\u8981\u5C06\u8282\u70B9 3 \u7684\u53F3\u8282\u70B9\u52A0\u5230\u8282\u70B9 5 \u7684\u5DE6\u8FB9\uFF0C\u6700\u540E\u8FD8\u9700\u8981\u66F4\u65B0\u8282\u70B9\u7684\u9AD8\u5EA6\u3002</li><li>\u5BF9\u4E8E\u53F3\u53F3\u60C5\u51B5\u6765\u8BF4\uFF0C\u76F8\u53CD\u4E8E\u5DE6\u5DE6\u60C5\u51B5\uFF0C\u6240\u4EE5\u4E0D\u518D\u8D58\u8FF0\u3002</li><li>\u5BF9\u4E8E\u5DE6\u53F3\u60C5\u51B5\u6765\u8BF4\uFF0C\u65B0\u589E\u52A0\u7684\u8282\u70B9\u4F4D\u4E8E\u8282\u70B9 4 \u7684\u53F3\u4FA7\u3002\u5BF9\u4E8E\u8FD9\u79CD\u60C5\u51B5\uFF0C\u9700\u8981\u901A\u8FC7\u4E24\u6B21\u65CB\u8F6C\u6765\u8FBE\u5230\u76EE\u7684\u3002</li><li>\u9996\u5148\u5BF9\u8282\u70B9\u7684\u5DE6\u8282\u70B9\u5DE6\u65CB\uFF0C\u8FD9\u65F6\u6811\u6EE1\u8DB3\u5DE6\u5DE6\u7684\u60C5\u51B5\uFF0C\u518D\u5BF9\u8282\u70B9\u8FDB\u884C\u4E00\u6B21\u53F3\u65CB\u5C31\u53EF\u4EE5\u8FBE\u5230\u76EE\u7684\u3002</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value
    <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">AVL</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
  <span class="token function">addNode</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">_addChild</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_addChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>value <span class="token operator">=</span> v
    <span class="token punctuation">}</span>
    node<span class="token punctuation">.</span>height <span class="token operator">=</span>
      <span class="token number">1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> factor <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getBalanceFactor</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
    <span class="token comment">// \u5F53\u9700\u8981\u53F3\u65CB\u65F6\uFF0C\u6839\u8282\u70B9\u7684\u5DE6\u6811\u4E00\u5B9A\u6BD4\u53F3\u6811\u9AD8\u5EA6\u9AD8</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>factor <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getBalanceFactor</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_rightRotate</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u5F53\u9700\u8981\u5DE6\u65CB\u65F6\uFF0C\u6839\u8282\u70B9\u7684\u5DE6\u6811\u4E00\u5B9A\u6BD4\u53F3\u6811\u9AD8\u5EA6\u77EE</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>factor <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getBalanceFactor</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_leftRotate</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u5DE6\u53F3\u60C5\u51B5</span>
    <span class="token comment">// \u8282\u70B9\u7684\u5DE6\u6811\u6BD4\u53F3\u6811\u9AD8\uFF0C\u4E14\u8282\u70B9\u7684\u5DE6\u6811\u7684\u53F3\u6811\u6BD4\u8282\u70B9\u7684\u5DE6\u6811\u7684\u5DE6\u6811\u9AD8</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>factor <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getBalanceFactor</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_leftRotate</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_rightRotate</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u53F3\u5DE6\u60C5\u51B5</span>
    <span class="token comment">// \u8282\u70B9\u7684\u5DE6\u6811\u6BD4\u53F3\u6811\u77EE\uFF0C\u4E14\u8282\u70B9\u7684\u53F3\u6811\u7684\u53F3\u6811\u6BD4\u8282\u70B9\u7684\u53F3\u6811\u7684\u5DE6\u6811\u77EE</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>factor <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getBalanceFactor</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_rightRotate</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_leftRotate</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> node
  <span class="token punctuation">}</span>
  <span class="token function">_getHeight</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token keyword">return</span> node<span class="token punctuation">.</span>height
  <span class="token punctuation">}</span>
  <span class="token function">_getBalanceFactor</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u8282\u70B9\u53F3\u65CB</span>
  <span class="token comment">//           5                    2</span>
  <span class="token comment">//         /   \\                /   \\</span>
  <span class="token comment">//        2     6   ==&gt;       1      5</span>
  <span class="token comment">//       /  \\               /       /  \\</span>
  <span class="token comment">//      1    3             new     3    6</span>
  <span class="token comment">//     /</span>
  <span class="token comment">//    new</span>
  <span class="token function">_rightRotate</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u65CB\u8F6C\u540E\u65B0\u6839\u8282\u70B9</span>
    <span class="token keyword">let</span> newRoot <span class="token operator">=</span> node<span class="token punctuation">.</span>left
    <span class="token comment">// \u9700\u8981\u79FB\u52A8\u7684\u8282\u70B9</span>
    <span class="token keyword">let</span> moveNode <span class="token operator">=</span> newRoot<span class="token punctuation">.</span>right
    <span class="token comment">// \u8282\u70B9 2 \u7684\u53F3\u8282\u70B9\u6539\u4E3A\u8282\u70B9 5</span>
    newRoot<span class="token punctuation">.</span>right <span class="token operator">=</span> node
    <span class="token comment">// \u8282\u70B9 5 \u5DE6\u8282\u70B9\u6539\u4E3A\u8282\u70B9 3</span>
    node<span class="token punctuation">.</span>left <span class="token operator">=</span> moveNode
    <span class="token comment">// \u66F4\u65B0\u6811\u7684\u9AD8\u5EA6</span>
    node<span class="token punctuation">.</span>height <span class="token operator">=</span>
      <span class="token number">1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
    newRoot<span class="token punctuation">.</span>height <span class="token operator">=</span>
      <span class="token number">1</span> <span class="token operator">+</span>
      Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>newRoot<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>newRoot<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> newRoot
  <span class="token punctuation">}</span>
  <span class="token comment">// \u8282\u70B9\u5DE6\u65CB</span>
  <span class="token comment">//           4                    6</span>
  <span class="token comment">//         /   \\                /   \\</span>
  <span class="token comment">//        2     6   ==&gt;       4      7</span>
  <span class="token comment">//             /  \\         /   \\      \\</span>
  <span class="token comment">//            5     7      2     5      new</span>
  <span class="token comment">//                   \\</span>
  <span class="token comment">//                    new</span>
  <span class="token function">_leftRotate</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u65CB\u8F6C\u540E\u65B0\u6839\u8282\u70B9</span>
    <span class="token keyword">let</span> newRoot <span class="token operator">=</span> node<span class="token punctuation">.</span>right
    <span class="token comment">// \u9700\u8981\u79FB\u52A8\u7684\u8282\u70B9</span>
    <span class="token keyword">let</span> moveNode <span class="token operator">=</span> newRoot<span class="token punctuation">.</span>left
    <span class="token comment">// \u8282\u70B9 6 \u7684\u5DE6\u8282\u70B9\u6539\u4E3A\u8282\u70B9 4</span>
    newRoot<span class="token punctuation">.</span>left <span class="token operator">=</span> node
    <span class="token comment">// \u8282\u70B9 4 \u53F3\u8282\u70B9\u6539\u4E3A\u8282\u70B9 5</span>
    node<span class="token punctuation">.</span>right <span class="token operator">=</span> moveNode
    <span class="token comment">// \u66F4\u65B0\u6811\u7684\u9AD8\u5EA6</span>
    node<span class="token punctuation">.</span>height <span class="token operator">=</span>
      <span class="token number">1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
    newRoot<span class="token punctuation">.</span>height <span class="token operator">=</span>
      <span class="token number">1</span> <span class="token operator">+</span>
      Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>newRoot<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getHeight</span><span class="token punctuation">(</span>newRoot<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> newRoot
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br></div></div>`,8),_m={id:"_35-8-trie",tabindex:"-1"},fm=n("a",{class:"header-anchor",href:"#_35-8-trie","aria-hidden":"true"},"#",-1),ym=s(),vm={href:"http://interview.poetries.top/docs/excellent.html#_35-8-trie",target:"_blank",rel:"noopener noreferrer"},wm=s("#"),xm=s("35.8 Trie"),qm=e(`<p><strong>\u6982\u5FF5</strong></p><ul><li>\u5728\u8BA1\u7B97\u673A\u79D1\u5B66\uFF0Ctrie\uFF0C\u53C8\u79F0\u524D\u7F00\u6811\u6216\u5B57\u5178\u6811\uFF0C\u662F\u4E00\u79CD\u6709\u5E8F\u6811\uFF0C\u7528\u4E8E\u4FDD\u5B58\u5173\u8054\u6570\u7EC4\uFF0C\u5176\u4E2D\u7684\u952E\u901A\u5E38\u662F\u5B57\u7B26\u4E32\u3002</li></ul><blockquote><p>\u7B80\u5355\u70B9\u6765\u8BF4\uFF0C\u8FD9\u4E2A\u7ED3\u6784\u7684\u4F5C\u7528\u5927\u591A\u662F\u4E3A\u4E86\u65B9\u4FBF\u641C\u7D22\u5B57\u7B26\u4E32\uFF0C\u8BE5\u6811\u6709\u4EE5\u4E0B\u51E0\u4E2A\u7279\u70B9</p></blockquote><ul><li>\u6839\u8282\u70B9\u4EE3\u8868\u7A7A\u5B57\u7B26\u4E32\uFF0C\u6BCF\u4E2A\u8282\u70B9\u90FD\u6709 N\uFF08\u5047\u5982\u641C\u7D22\u82F1\u6587\u5B57\u7B26\uFF0C\u5C31\u6709 26 \u6761\uFF09 \u6761\u94FE\u63A5\uFF0C\u6BCF\u6761\u94FE\u63A5\u4EE3\u8868\u4E00\u4E2A\u5B57\u7B26</li><li>\u8282\u70B9\u4E0D\u5B58\u50A8\u5B57\u7B26\uFF0C\u53EA\u6709\u8DEF\u5F84\u624D\u5B58\u50A8\uFF0C\u8FD9\u70B9\u548C\u5176\u4ED6\u7684\u6811\u7ED3\u6784\u4E0D\u540C</li><li>\u4ECE\u6839\u8282\u70B9\u5F00\u59CB\u5230\u4EFB\u610F\u4E00\u4E2A\u8282\u70B9\uFF0C\u5C06\u6CBF\u9014\u7ECF\u8FC7\u7684\u5B57\u7B26\u8FDE\u63A5\u8D77\u6765\u5C31\u662F\u8BE5\u8282\u70B9\u5BF9\u5E94\u7684\u5B57\u7B26\u4E32</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/50.png" alt="img"></p><p><strong>\u5B9E\u73B0</strong></p><blockquote><p>\u603B\u5F97\u6765\u8BF4 <code>Trie</code> \u7684\u5B9E\u73B0\u76F8\u6BD4\u522B\u7684\u6811\u7ED3\u6784\u6765\u8BF4\u7B80\u5355\u7684\u5F88\u591A\uFF0C\u5B9E\u73B0\u5C31\u4EE5\u641C\u7D22\u82F1\u6587\u5B57\u7B26\u4E3A\u4F8B\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">TrieNode</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4EE3\u8868\u6BCF\u4E2A\u5B57\u7B26\u7ECF\u8FC7\u8282\u70B9\u7684\u6B21\u6570</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">// \u4EE3\u8868\u5230\u8BE5\u8282\u70B9\u7684\u5B57\u7B26\u4E32\u6709\u51E0\u4E2A</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>end <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token comment">// \u94FE\u63A5</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Trie</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u6839\u8282\u70B9\uFF0C\u4EE3\u8868\u7A7A\u5B57\u7B26</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrieNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u63D2\u5165\u5B57\u7B26\u4E32</span>
  <span class="token function">insert</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>str<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>root
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u83B7\u5F97\u5B57\u7B26\u5148\u5BF9\u5E94\u7684\u7D22\u5F15</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// \u5982\u679C\u7D22\u5F15\u5BF9\u5E94\u6CA1\u6709\u503C\uFF0C\u5C31\u521B\u5EFA</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrieNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      node<span class="token punctuation">.</span>path <span class="token operator">+=</span> <span class="token number">1</span>
      node <span class="token operator">=</span> node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    node<span class="token punctuation">.</span>end <span class="token operator">+=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u641C\u7D22\u5B57\u7B26\u4E32\u51FA\u73B0\u7684\u6B21\u6570</span>
  <span class="token function">search</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>str<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>root
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// \u5982\u679C\u7D22\u5F15\u5BF9\u5E94\u6CA1\u6709\u503C\uFF0C\u4EE3\u8868\u6CA1\u6709\u9700\u8981\u641C\u7D20\u7684\u5B57\u7B26\u4E32</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
      <span class="token punctuation">}</span>
      node <span class="token operator">=</span> node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> node<span class="token punctuation">.</span>end
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5220\u9664\u5B57\u7B26\u4E32</span>
  <span class="token keyword">delete</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>root
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// \u5982\u679C\u7D22\u5F15\u5BF9\u5E94\u7684\u8282\u70B9\u7684 Path \u4E3A 0\uFF0C\u4EE3\u8868\u7ECF\u8FC7\u8BE5\u8282\u70B9\u7684\u5B57\u7B26\u4E32</span>
      <span class="token comment">// \u5DF2\u7ECF\u4E00\u4E2A\uFF0C\u76F4\u63A5\u5220\u9664\u5373\u53EF</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">--</span>node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>path <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
      node <span class="token operator">=</span> node<span class="token punctuation">.</span>next<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    node<span class="token punctuation">.</span>end <span class="token operator">-=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div>`,8),Em={id:"_35-9-\u5E76\u67E5\u96C6",tabindex:"-1"},jm=n("a",{class:"header-anchor",href:"#_35-9-\u5E76\u67E5\u96C6","aria-hidden":"true"},"#",-1),Cm=s(),Sm={href:"http://interview.poetries.top/docs/excellent.html#_35-9-%E5%B9%B6%E6%9F%A5%E9%9B%86",target:"_blank",rel:"noopener noreferrer"},Am=s("#"),Bm=s("35.9 \u5E76\u67E5\u96C6"),Tm=e(`<p><strong>\u6982\u5FF5</strong></p><ul><li>\u5E76\u67E5\u96C6\u662F\u4E00\u79CD\u7279\u6B8A\u7684\u6811\u7ED3\u6784\uFF0C\u7528\u4E8E\u5904\u7406\u4E00\u4E9B\u4E0D\u4EA4\u96C6\u7684\u5408\u5E76\u53CA\u67E5\u8BE2\u95EE\u9898\u3002\u8BE5\u7ED3\u6784\u4E2D\u6BCF\u4E2A\u8282\u70B9\u90FD\u6709\u4E00\u4E2A\u7236\u8282\u70B9\uFF0C\u5982\u679C\u53EA\u6709\u5F53\u524D\u4E00\u4E2A\u8282\u70B9\uFF0C\u90A3\u4E48\u8BE5\u8282\u70B9\u7684\u7236\u8282\u70B9\u6307\u5411\u81EA\u5DF1\u3002</li></ul><blockquote><p>\u8FD9\u4E2A\u7ED3\u6784\u4E2D\u6709\u4E24\u4E2A\u91CD\u8981\u7684\u64CD\u4F5C\uFF0C\u5206\u522B\u662F\uFF1A</p></blockquote><ul><li><code>Find</code>\uFF1A\u786E\u5B9A\u5143\u7D20\u5C5E\u4E8E\u54EA\u4E00\u4E2A\u5B50\u96C6\u3002\u5B83\u53EF\u4EE5\u88AB\u7528\u6765\u786E\u5B9A\u4E24\u4E2A\u5143\u7D20\u662F\u5426\u5C5E\u4E8E\u540C\u4E00\u5B50\u96C6\u3002</li><li><code>Union</code>\uFF1A\u5C06\u4E24\u4E2A\u5B50\u96C6\u5408\u5E76\u6210\u540C\u4E00\u4E2A\u96C6\u5408\u3002</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/51.png" alt="img"></p><p><strong>\u5B9E\u73B0</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">DisjointSet</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u521D\u59CB\u5316\u6837\u672C</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u521D\u59CB\u5316\u65F6\uFF0C\u6BCF\u4E2A\u8282\u70B9\u7684\u7236\u8282\u70B9\u90FD\u662F\u81EA\u5DF1</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
    <span class="token comment">// \u7528\u4E8E\u8BB0\u5F55\u6811\u7684\u6DF1\u5EA6\uFF0C\u4F18\u5316\u641C\u7D22\u590D\u6742\u5EA6</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rank <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i
      <span class="token keyword">this</span><span class="token punctuation">.</span>rank<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5BFB\u627E\u5F53\u524D\u8282\u70B9\u7684\u7236\u8282\u70B9\u662F\u5426\u4E3A\u81EA\u5DF1\uFF0C\u4E0D\u662F\u7684\u8BDD\u8868\u793A\u8FD8\u6CA1\u627E\u5230</span>
    <span class="token comment">// \u5F00\u59CB\u8FDB\u884C\u8DEF\u5F84\u538B\u7F29\u4F18\u5316</span>
    <span class="token comment">// \u5047\u8BBE\u5F53\u524D\u8282\u70B9\u7236\u8282\u70B9\u4E3A A</span>
    <span class="token comment">// \u5C06\u5F53\u524D\u8282\u70B9\u6302\u8F7D\u5230 A \u8282\u70B9\u7684\u7236\u8282\u70B9\u4E0A\uFF0C\u8FBE\u5230\u538B\u7F29\u6DF1\u5EA6\u7684\u76EE\u7684</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">]</span>
      p <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>p<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> p
  <span class="token punctuation">}</span>
  <span class="token function">isConnected</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">,</span> q</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5408\u5E76</span>
  <span class="token function">union</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">,</span> q</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u627E\u5230\u4E24\u4E2A\u6570\u5B57\u7684\u7236\u8282\u70B9</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> j<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token comment">// \u5224\u65AD\u4E24\u68F5\u6811\u7684\u6DF1\u5EA6\uFF0C\u6DF1\u5EA6\u5C0F\u7684\u52A0\u5230\u6DF1\u5EA6\u5927\u7684\u6811\u4E0B\u9762</span>
    <span class="token comment">// \u5982\u679C\u4E24\u68F5\u6811\u6DF1\u5EA6\u76F8\u7B49\uFF0C\u90A3\u5C31\u65E0\u6240\u8C13\u600E\u4E48\u52A0</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>rank<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rank<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> j
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>rank<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rank<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> i
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> j
      <span class="token keyword">this</span><span class="token punctuation">.</span>rank<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div>`,7),Pm={id:"_35-10-\u5806",tabindex:"-1"},Dm=n("a",{class:"header-anchor",href:"#_35-10-\u5806","aria-hidden":"true"},"#",-1),Mm=s(),Om={href:"http://interview.poetries.top/docs/excellent.html#_35-10-%E5%A0%86",target:"_blank",rel:"noopener noreferrer"},Rm=s("#"),Fm=s("35.10 \u5806"),Nm=e(`<p><strong>\u6982\u5FF5</strong></p><ul><li>\u5806\u901A\u5E38\u662F\u4E00\u4E2A\u53EF\u4EE5\u88AB\u770B\u505A\u4E00\u68F5\u6811\u7684\u6570\u7EC4\u5BF9\u8C61\u3002</li></ul><blockquote><p>\u5806\u7684\u5B9E\u73B0\u901A\u8FC7\u6784\u9020\u4E8C\u53C9\u5806\uFF0C\u5B9E\u4E3A\u4E8C\u53C9\u6811\u7684\u4E00\u79CD\u3002\u8FD9\u79CD\u6570\u636E\u7ED3\u6784\u5177\u6709\u4EE5\u4E0B\u6027\u8D28\u3002</p></blockquote><ol><li>\u4EFB\u610F\u8282\u70B9\u5C0F\u4E8E\uFF08\u6216\u5927\u4E8E\uFF09\u5B83\u7684\u6240\u6709\u5B50\u8282\u70B9</li><li>\u5806\u603B\u662F\u4E00\u68F5\u5B8C\u5168\u6811\u3002\u5373\u9664\u4E86\u6700\u5E95\u5C42\uFF0C\u5176\u4ED6\u5C42\u7684\u8282\u70B9\u90FD\u88AB\u5143\u7D20\u586B\u6EE1\uFF0C\u4E14\u6700\u5E95\u5C42\u4ECE\u5DE6\u5230\u53F3\u586B\u5165\u3002</li></ol><ul><li>\u5C06\u6839\u8282\u70B9\u6700\u5927\u7684\u5806\u53EB\u505A\u6700\u5927\u5806\u6216\u5927\u6839\u5806\uFF0C\u6839\u8282\u70B9\u6700\u5C0F\u7684\u5806\u53EB\u505A\u6700\u5C0F\u5806\u6216\u5C0F\u6839\u5806\u3002</li><li>\u4F18\u5148\u961F\u5217\u4E5F\u5B8C\u5168\u53EF\u4EE5\u7528\u5806\u6765\u5B9E\u73B0\uFF0C\u64CD\u4F5C\u662F\u4E00\u6A21\u4E00\u6837\u7684\u3002</li></ul><p><strong>\u5B9E\u73B0\u5927\u6839\u5806</strong></p><ul><li>\u5806\u7684\u6BCF\u4E2A\u8282\u70B9\u7684\u5DE6\u8FB9\u5B50\u8282\u70B9\u7D22\u5F15\u662F <code>i * 2 + 1</code>\uFF0C\u53F3\u8FB9\u662F <code>i * 2 + 2</code>\uFF0C\u7236\u8282\u70B9\u662F <code>(i - 1) /2</code>\u3002</li><li>\u5806\u6709\u4E24\u4E2A\u6838\u5FC3\u7684\u64CD\u4F5C\uFF0C\u5206\u522B\u662F <code>shiftUp</code> \u548C <code>shiftDown</code> \u3002\u524D\u8005\u7528\u4E8E\u6DFB\u52A0\u5143\u7D20\uFF0C\u540E\u8005\u7528\u4E8E\u5220\u9664\u6839\u8282\u70B9\u3002</li><li><code>shiftUp</code> \u7684\u6838\u5FC3\u601D\u8DEF\u662F\u4E00\u8DEF\u5C06\u8282\u70B9\u4E0E\u7236\u8282\u70B9\u5BF9\u6BD4\u5927\u5C0F\uFF0C\u5982\u679C\u6BD4\u7236\u8282\u70B9\u5927\uFF0C\u5C31\u548C\u7236\u8282\u70B9\u4EA4\u6362\u4F4D\u7F6E\u3002</li><li><code>shiftDown</code> \u7684\u6838\u5FC3\u601D\u8DEF\u662F\u5148\u5C06\u6839\u8282\u70B9\u548C\u672B\u5C3E\u4EA4\u6362\u4F4D\u7F6E\uFF0C\u7136\u540E\u79FB\u9664\u672B\u5C3E\u5143\u7D20\u3002\u63A5\u4E0B\u6765\u5FAA\u73AF\u5224\u65AD\u7236\u8282\u70B9\u548C\u4E24\u4E2A\u5B50\u8282\u70B9\u7684\u5927\u5C0F\uFF0C\u5982\u679C\u5B50\u8282\u70B9\u5927\uFF0C\u5C31\u628A\u6700\u5927\u7684\u5B50\u8282\u70B9\u548C\u7236\u8282\u70B9\u4EA4\u6362\u3002</li></ul><p><img src="https://poetries1.gitee.io/img-repo/2020/07/fe/52.png" alt="img"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">MaxHeap</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_shiftUp</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_shiftDown</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getParentIndex</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getLeftIndex</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> k <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token function">_shiftUp</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5982\u679C\u5F53\u524D\u8282\u70B9\u6BD4\u7236\u8282\u70B9\u5927\uFF0C\u5C31\u4EA4\u6362</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getParentIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_swap</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getParentIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token comment">// \u5C06\u7D22\u5F15\u53D8\u6210\u7236\u8282\u70B9</span>
      k <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getParentIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">_shiftDown</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4EA4\u6362\u9996\u4F4D\u5E76\u5220\u9664\u672B\u5C3E</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_swap</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment">// \u5224\u65AD\u8282\u70B9\u662F\u5426\u6709\u5DE6\u5B69\u5B50\uFF0C\u56E0\u4E3A\u4E8C\u53C9\u5806\u7684\u7279\u6027\uFF0C\u6709\u53F3\u5FC5\u6709\u5DE6</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLeftIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getLeftIndex</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
      <span class="token comment">// \u5224\u65AD\u662F\u5426\u6709\u53F3\u5B69\u5B50\uFF0C\u5E76\u4E14\u53F3\u5B69\u5B50\u662F\u5426\u5927\u4E8E\u5DE6\u5B69\u5B50</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> j<span class="token operator">++</span>
      <span class="token comment">// \u5224\u65AD\u7236\u8282\u70B9\u662F\u5426\u5DF2\u7ECF\u6BD4\u5B50\u8282\u70B9\u90FD\u5927</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">break</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_swap</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
      k <span class="token operator">=</span> j
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">_swap</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> rightValue <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>right<span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>heap<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">=</span> rightValue
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div>`,9),Lm={id:"_36-\u5E38\u8003\u7B97\u6CD5\u9898\u89E3\u6790",tabindex:"-1"},Vm=n("a",{class:"header-anchor",href:"#_36-\u5E38\u8003\u7B97\u6CD5\u9898\u89E3\u6790","aria-hidden":"true"},"#",-1),Im=s(),Hm={href:"http://interview.poetries.top/docs/excellent.html#_36-%E5%B8%B8%E8%80%83%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3%E6%9E%90",target:"_blank",rel:"noopener noreferrer"},Jm=s("#"),Um=s("36 \u5E38\u8003\u7B97\u6CD5\u9898\u89E3\u6790"),zm=n("blockquote",null,[n("p",null,"\u5BF9\u4E8E\u5927\u90E8\u5206\u516C\u53F8\u7684\u9762\u8BD5\u6765\u8BF4\uFF0C\u6392\u5E8F\u7684\u5185\u5BB9\u5DF2\u7ECF\u8DB3\u4EE5\u5E94\u4ED8\u4E86\uFF0C\u7531\u6B64\u4E3A\u4E86\u66F4\u597D\u7684\u7B26\u5408\u5927\u4F17\u9700\u6C42\uFF0C\u6392\u5E8F\u7684\u5185\u5BB9\u662F\u6700\u591A\u7684\u3002\u5F53\u7136\u5982\u679C\u4F60\u8FD8\u60F3\u51B2\u51FB\u66F4\u597D\u7684\u516C\u53F8\uFF0C\u90A3\u4E48\u6574\u4E00\u4E2A\u7AE0\u8282\u7684\u5185\u5BB9\u90FD\u662F\u9700\u8981\u638C\u63E1\u7684\u3002\u5BF9\u4E8E\u5B57\u8282\u8DF3\u52A8\u8FD9\u7C7B\u5341\u5206\u770B\u91CD\u7B97\u6CD5\u7684\u516C\u53F8\u6765\u8BF4\uFF0C\u8FD9\u4E00\u7AE0\u8282\u662F\u8FDC\u8FDC\u4E0D\u591F\u7684\uFF0C\u5251\u6307Offer\u5E94\u8BE5\u662F\u4F60\u66F4\u597D\u7684\u9009\u62E9")],-1),Wm=n("blockquote",null,[n("p",null,"\u8FD9\u4E00\u7AE0\u8282\u7684\u5185\u5BB9\u4FE1\u606F\u91CF\u4F1A\u5F88\u5927\uFF0C\u4E0D\u9002\u5408\u5728\u975E\u7535\u8111\u73AF\u5883\u4E0B\u9605\u8BFB\uFF0C\u8BF7\u5404\u4F4D\u6253\u5F00\u4EE3\u7801\u7F16\u8F91\u5668\uFF0C\u4E00\u884C\u884C\u7684\u6572\u4EE3\u7801\uFF0C\u5355\u7EAF\u9605\u8BFB\u662F\u5B66\u4E60\u4E0D\u4E86\u7B97\u6CD5\u7684")],-1),Xm=s("\u53E6\u5916\u5B66\u4E60\u7B97\u6CD5\u7684\u65F6\u5019\uFF0C\u6709\u4E00\u4E2A\u53EF\u89C6\u5316\u754C\u9762\u4F1A\u76F8\u5BF9\u51CF\u5C11\u70B9\u5B66\u4E60\u7684\u96BE\u5EA6\uFF0C\u5177\u4F53\u53EF\u4EE5\u9605\u8BFB "),Gm={href:"https://github.com/algorithm-visualizer/algorithm-visualizer",target:"_blank",rel:"noopener noreferrer"},Qm=s("algorithm-visualizer (opens new window)"),Km=s("\u8FD9\u4E2A\u4ED3\u5E93"),$m={id:"_36-1-\u4F4D\u8FD0\u7B97",tabindex:"-1"},Ym=n("a",{class:"header-anchor",href:"#_36-1-\u4F4D\u8FD0\u7B97","aria-hidden":"true"},"#",-1),Zm=s(),nh={href:"http://interview.poetries.top/docs/excellent.html#_36-1-%E4%BD%8D%E8%BF%90%E7%AE%97",target:"_blank",rel:"noopener noreferrer"},sh=s("#"),ah=s("36.1 \u4F4D\u8FD0\u7B97"),ph=e(`<ul><li>\u5728\u8FDB\u5165\u6B63\u9898\u4E4B\u524D\uFF0C\u6211\u4EEC\u5148\u6765\u5B66\u4E60\u4E00\u4E0B\u4F4D\u8FD0\u7B97\u7684\u5185\u5BB9\u3002\u56E0\u4E3A\u4F4D\u8FD0\u7B97\u5728\u7B97\u6CD5\u4E2D\u5F88\u6709\u7528\uFF0C\u901F\u5EA6\u53EF\u4EE5\u6BD4\u56DB\u5219\u8FD0\u7B97\u5FEB\u5F88\u591A\u3002</li><li>\u5728\u5B66\u4E60\u4F4D\u8FD0\u7B97\u4E4B\u524D\u5E94\u8BE5\u77E5\u9053\u5341\u8FDB\u5236\u5982\u4F55\u8F6C\u4E8C\u8FDB\u5236\uFF0C\u4E8C\u8FDB\u5236\u5982\u4F55\u8F6C\u5341\u8FDB\u5236\u3002\u8FD9\u91CC\u8BF4\u660E\u4E0B\u7B80\u5355\u7684\u8BA1\u7B97\u65B9\u5F0F</li></ul><ol><li>\u5341\u8FDB\u5236 <code>33</code> \u53EF\u4EE5\u770B\u6210\u662F <code>32 + 1</code> \uFF0C\u5E76\u4E14 <code>33</code> \u5E94\u8BE5\u662F\u516D\u4F4D\u4E8C\u8FDB\u5236\u7684\uFF08\u56E0\u4E3A <code>33</code> \u8FD1\u4F3C <code>32</code>\uFF0C\u800C <code>32</code> \u662F <code>2</code> \u7684\u4E94\u6B21\u65B9\uFF0C\u6240\u4EE5\u662F\u516D\u4F4D\uFF09\uFF0C\u90A3\u4E48 \u5341\u8FDB\u5236 <code>33</code> \u5C31\u662F <code>100001</code> \uFF0C\u53EA\u8981\u662F <code>2</code> \u7684\u6B21\u65B9\uFF0C\u90A3\u4E48\u5C31\u662F <code>1</code>\u5426\u5219\u90FD\u4E3A <code>0</code></li><li>\u90A3\u4E48\u4E8C\u8FDB\u5236 <code>100001</code> \u540C\u7406\uFF0C\u9996\u4F4D\u662F <code>2^5</code> \uFF0C\u672B\u4F4D\u662F <code>2^0</code> \uFF0C\u76F8\u52A0\u5F97\u51FA <code>33</code></li></ol><p><strong>1. \u5DE6\u79FB &lt;&lt;</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>10 &lt;&lt; 1 // -&gt; 20
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u5DE6\u79FB\u5C31\u662F\u5C06\u4E8C\u8FDB\u5236\u5168\u90E8\u5F80\u5DE6\u79FB\u52A8\uFF0C<code>10</code> \u5728\u4E8C\u8FDB\u5236\u4E2D\u8868\u793A\u4E3A <code>1010</code>\uFF0C\u5DE6\u79FB\u4E00\u4F4D\u540E\u53D8\u6210 <code>10100</code> \uFF0C\u8F6C\u6362\u4E3A\u5341\u8FDB\u5236\u4E5F\u5C31\u662F <code>20</code>\uFF0C\u6240\u4EE5\u57FA\u672C\u53EF\u4EE5\u628A\u5DE6\u79FB\u770B\u6210\u4EE5\u4E0B\u516C\u5F0F <code>a * (2 ^ b)</code></p></blockquote><p><strong>2. \u7B97\u6570\u53F3\u79FB &gt;&gt;</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>10 &gt;&gt; 1 // -&gt; 5
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u7B97\u6570\u53F3\u79FB\u5C31\u662F\u5C06\u4E8C\u8FDB\u5236\u5168\u90E8\u5F80\u53F3\u79FB\u52A8\u5E76\u53BB\u9664\u591A\u4F59\u7684\u53F3\u8FB9\uFF0C<code>10</code> \u5728\u4E8C\u8FDB\u5236\u4E2D\u8868\u793A\u4E3A <code>1010</code> \uFF0C\u53F3\u79FB\u4E00\u4F4D\u540E\u53D8\u6210 101 \uFF0C\u8F6C\u6362\u4E3A\u5341\u8FDB\u5236\u4E5F\u5C31\u662F <code>5</code>\uFF0C\u6240\u4EE5\u57FA\u672C\u53EF\u4EE5\u628A\u53F3\u79FB\u770B\u6210\u4EE5\u4E0B\u516C\u5F0F <code>int v = a / (2 ^ b)</code></p></blockquote><p>\u53F3\u79FB\u5F88\u597D\u7528\uFF0C\u6BD4\u5982\u53EF\u4EE5\u7528\u5728\u4E8C\u5206\u7B97\u6CD5\u4E2D\u53D6\u4E2D\u95F4\u503C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>13 &gt;&gt; 1 // -&gt; 6
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>3. \u6309\u4F4D\u64CD\u4F5C</strong></p><p><strong>3.1 \u6309\u4F4D\u4E0E</strong></p><blockquote><p>\u6BCF\u4E00\u4F4D\u90FD\u4E3A 1\uFF0C\u7ED3\u679C\u624D\u4E3A <code>1</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>8 &amp; 7 // -&gt; 0
// 1000 &amp; 0111 -&gt; 0000 -&gt; 0
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>3.2 \u6309\u4F4D\u6216</strong></p><blockquote><p>\u5176\u4E2D\u4E00\u4F4D\u4E3A <code>1</code>\uFF0C\u7ED3\u679C\u5C31\u662F <code>1</code></p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>8 | 7 // -&gt; 15
// 1000 | 0111 -&gt; 1111 -&gt; 15
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>3.3 \u6309\u4F4D\u5F02\u6216</strong></p><blockquote><p>\u6BCF\u4E00\u4F4D\u90FD\u4E0D\u540C\uFF0C\u7ED3\u679C\u624D\u4E3A <code>1</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token number">8</span> <span class="token operator">^</span> <span class="token number">7</span> <span class="token comment">// -&gt; 15</span>
<span class="token number">8</span> <span class="token operator">^</span> <span class="token number">8</span> <span class="token comment">// -&gt; 0</span>
<span class="token comment">// 1000 ^ 0111 -&gt; 1111 -&gt; 15</span>
<span class="token comment">// 1000 ^ 1000 -&gt; 0000 -&gt; 0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>\u4ECE\u4EE5\u4E0A\u4EE3\u7801\u4E2D\u53EF\u4EE5\u53D1\u73B0\u6309\u4F4D\u5F02\u6216\u5C31\u662F\u4E0D\u8FDB\u4F4D\u52A0\u6CD5</li><li>\u9762\u8BD5\u9898\uFF1A\u4E24\u4E2A\u6570\u4E0D\u4F7F\u7528\u56DB\u5219\u8FD0\u7B97\u5F97\u51FA\u548C</li></ul><blockquote><p>\u8FD9\u9053\u9898\u4E2D\u53EF\u4EE5\u6309\u4F4D\u5F02\u6216\uFF0C\u56E0\u4E3A\u6309\u4F4D\u5F02\u6216\u5C31\u662F\u4E0D\u8FDB\u4F4D\u52A0\u6CD5\uFF0C<code>8 ^ 8 = 0</code> \u5982\u679C\u8FDB\u4F4D\u4E86\uFF0C\u5C31\u662F <code>16</code> \u4E86\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EA\u9700\u8981\u5C06\u4E24\u4E2A\u6570\u8FDB\u884C\u5F02\u6216\u64CD\u4F5C\uFF0C\u7136\u540E\u8FDB\u4F4D\u3002\u90A3\u4E48\u4E5F\u5C31\u662F\u8BF4\u4E24\u4E2A\u4E8C\u8FDB\u5236\u90FD\u662F <code>1</code> \u7684\u4F4D\u7F6E\uFF0C\u5DE6\u8FB9\u5E94\u8BE5\u6709\u4E00\u4E2A\u8FDB\u4F4D <code>1</code>\uFF0C\u6240\u4EE5\u53EF\u4EE5\u5F97\u51FA\u4EE5\u4E0B\u516C\u5F0F <code>a + b = (a ^ b) + ((a &amp; b) &lt;&lt; 1)</code>\uFF0C\u7136\u540E\u901A\u8FC7\u8FED\u4EE3\u7684\u65B9\u5F0F\u6A21\u62DF\u52A0\u6CD5</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> b
    <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> a
    <span class="token keyword">let</span> newA <span class="token operator">=</span> a <span class="token operator">^</span> b
    <span class="token keyword">let</span> newB <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span>
    <span class="token keyword">return</span> <span class="token function">sum</span><span class="token punctuation">(</span>newA<span class="token punctuation">,</span> newB<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,23),eh={id:"_36-2-\u6392\u5E8F",tabindex:"-1"},th=n("a",{class:"header-anchor",href:"#_36-2-\u6392\u5E8F","aria-hidden":"true"},"#",-1),oh=s(),ch={href:"http://interview.poetries.top/docs/excellent.html#_36-2-%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},lh=s("#"),uh=s("36.2 \u6392\u5E8F"),rh=e(`<blockquote><p>\u4EE5\u4E0B\u4E24\u4E2A\u51FD\u6570\u662F\u6392\u5E8F\u4E2D\u4F1A\u7528\u5230\u7684\u901A\u7528\u51FD\u6570\uFF0C\u5C31\u4E0D\u4E00\u4E00\u5199\u4E86</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">checkArray</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>array<span class="token punctuation">)</span> <span class="token keyword">return</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> rightValue <span class="token operator">=</span> array<span class="token punctuation">[</span>right<span class="token punctuation">]</span>
    array<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>left<span class="token punctuation">]</span>
    array<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">=</span> rightValue
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>`,2),ih={id:"_36-2-1-\u5192\u6CE1\u6392\u5E8F",tabindex:"-1"},kh=n("a",{class:"header-anchor",href:"#_36-2-1-\u5192\u6CE1\u6392\u5E8F","aria-hidden":"true"},"#",-1),dh=s(),bh={href:"http://interview.poetries.top/docs/excellent.html#_36-2-1-%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},mh=s("#"),hh=s("36.2.1 \u5192\u6CE1\u6392\u5E8F"),gh=e(`<blockquote><p>\u5192\u6CE1\u6392\u5E8F\u7684\u539F\u7406\u5982\u4E0B\uFF0C\u4ECE\u7B2C\u4E00\u4E2A\u5143\u7D20\u5F00\u59CB\uFF0C\u628A\u5F53\u524D\u5143\u7D20\u548C\u4E0B\u4E00\u4E2A\u7D22\u5F15\u5143\u7D20\u8FDB\u884C\u6BD4\u8F83\u3002\u5982\u679C\u5F53\u524D\u5143\u7D20\u5927\uFF0C\u90A3\u4E48\u5C31\u4EA4\u6362\u4F4D\u7F6E\uFF0C\u91CD\u590D\u64CD\u4F5C\u76F4\u5230\u6BD4\u8F83\u5230\u6700\u540E\u4E00\u4E2A\u5143\u7D20\uFF0C\u90A3\u4E48\u6B64\u65F6\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u5C31\u662F\u8BE5\u6570\u7EC4\u4E2D\u6700\u5927\u7684\u6570\u3002\u4E0B\u4E00\u8F6E\u91CD\u590D\u4EE5\u4E0A\u64CD\u4F5C\uFF0C\u4F46\u662F\u6B64\u65F6\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u5DF2\u7ECF\u662F\u6700\u5927\u6570\u4E86\uFF0C\u6240\u4EE5\u4E0D\u9700\u8981\u518D\u6BD4\u8F83\u6700\u540E\u4E00\u4E2A\u5143\u7D20\uFF0C\u53EA\u9700\u8981\u6BD4\u8F83\u5230 <code>length - 1</code> \u7684\u4F4D\u7F6E\u3002</p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2018/4/12/162b895b452b306c" alt="img"> <img src="https://poetries1.gitee.io/img-repo/2020/09/104.png" alt="img"></p><p>\u4EE5\u4E0B\u662F\u5B9E\u73B0\u8BE5\u7B97\u6CD5\u7684\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bubble</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">checkArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4ECE 0 \u5230 \`length - 1\` \u904D\u5386</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> j<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>\u8BE5\u7B97\u6CD5\u7684\u64CD\u4F5C\u6B21\u6570\u662F\u4E00\u4E2A\u7B49\u5DEE\u6570\u5217 <code>n + (n - 1) + (n - 2) + 1</code> \uFF0C\u53BB\u6389\u5E38\u6570\u9879\u4EE5\u540E\u5F97\u51FA\u65F6\u95F4\u590D\u6742\u5EA6\u662F <code>O(n * n)</code></p></blockquote>`,5),_h={id:"_36-2-2-\u63D2\u5165\u6392\u5E8F",tabindex:"-1"},fh=n("a",{class:"header-anchor",href:"#_36-2-2-\u63D2\u5165\u6392\u5E8F","aria-hidden":"true"},"#",-1),yh=s(),vh={href:"http://interview.poetries.top/docs/excellent.html#_36-2-2-%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},wh=s("#"),xh=s("36.2.2 \u63D2\u5165\u6392\u5E8F"),qh=e(`<blockquote><p>\u63D2\u5165\u6392\u5E8F\u7684\u539F\u7406\u5982\u4E0B\u3002\u7B2C\u4E00\u4E2A\u5143\u7D20\u9ED8\u8BA4\u662F\u5DF2\u6392\u5E8F\u5143\u7D20\uFF0C\u53D6\u51FA\u4E0B\u4E00\u4E2A\u5143\u7D20\u548C\u5F53\u524D\u5143\u7D20\u6BD4\u8F83\uFF0C\u5982\u679C\u5F53\u524D\u5143\u7D20\u5927\u5C31\u4EA4\u6362\u4F4D\u7F6E\u3002\u90A3\u4E48\u6B64\u65F6\u7B2C\u4E00\u4E2A\u5143\u7D20\u5C31\u662F\u5F53\u524D\u7684\u6700\u5C0F\u6570\uFF0C\u6240\u4EE5\u4E0B\u6B21\u53D6\u51FA\u64CD\u4F5C\u4ECE\u7B2C\u4E09\u4E2A\u5143\u7D20\u5F00\u59CB\uFF0C\u5411\u524D\u5BF9\u6BD4\uFF0C\u91CD\u590D\u4E4B\u524D\u7684\u64CD\u4F5C</p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2018/4/12/162b895c7e59dcd1" alt="img"></p><p>\u4EE5\u4E0B\u662F\u5B9E\u73B0\u8BE5\u7B97\u6CD5\u7684\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">insertion</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">checkArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span>
      <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> j<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>\u8BE5\u7B97\u6CD5\u7684\u64CD\u4F5C\u6B21\u6570\u662F\u4E00\u4E2A\u7B49\u5DEE\u6570\u5217 <code>n + (n - 1) + (n - 2) + 1</code> \uFF0C\u53BB\u6389\u5E38\u6570\u9879\u4EE5\u540E\u5F97\u51FA\u65F6\u95F4\u590D\u6742\u5EA6\u662F <code>O(n * n)</code></p></blockquote>`,5),Eh={id:"_36-2-3-\u9009\u62E9\u6392\u5E8F",tabindex:"-1"},jh=n("a",{class:"header-anchor",href:"#_36-2-3-\u9009\u62E9\u6392\u5E8F","aria-hidden":"true"},"#",-1),Ch=s(),Sh={href:"http://interview.poetries.top/docs/excellent.html#_36-2-3-%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},Ah=s("#"),Bh=s("36.2.3 \u9009\u62E9\u6392\u5E8F"),Th=e(`<blockquote><p>\u9009\u62E9\u6392\u5E8F\u7684\u539F\u7406\u5982\u4E0B\u3002\u904D\u5386\u6570\u7EC4\uFF0C\u8BBE\u7F6E\u6700\u5C0F\u503C\u7684\u7D22\u5F15\u4E3A 0\uFF0C\u5982\u679C\u53D6\u51FA\u7684\u503C\u6BD4\u5F53\u524D\u6700\u5C0F\u503C\u5C0F\uFF0C\u5C31\u66FF\u6362\u6700\u5C0F\u503C\u7D22\u5F15\uFF0C\u904D\u5386\u5B8C\u6210\u540E\uFF0C\u5C06\u7B2C\u4E00\u4E2A\u5143\u7D20\u548C\u6700\u5C0F\u503C\u7D22\u5F15\u4E0A\u7684\u503C\u4EA4\u6362\u3002\u5982\u4E0A\u64CD\u4F5C\u540E\uFF0C\u7B2C\u4E00\u4E2A\u5143\u7D20\u5C31\u662F\u6570\u7EC4\u4E2D\u7684\u6700\u5C0F\u503C\uFF0C\u4E0B\u6B21\u904D\u5386\u5C31\u53EF\u4EE5\u4ECE\u7D22\u5F15 1 \u5F00\u59CB\u91CD\u590D\u4E0A\u8FF0\u64CD\u4F5C</p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2018/4/13/162bc8ea14567e2e" alt="img"></p><p>\u4EE5\u4E0B\u662F\u5B9E\u73B0\u8BE5\u7B97\u6CD5\u7684\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">selection</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">checkArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> minIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      minIndex <span class="token operator">=</span> array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span> <span class="token operator">?</span> j <span class="token operator">:</span> minIndex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> i<span class="token punctuation">,</span> minIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>\u8BE5\u7B97\u6CD5\u7684\u64CD\u4F5C\u6B21\u6570\u662F\u4E00\u4E2A\u7B49\u5DEE\u6570\u5217<code>n + (n - 1) + (n - 2) + 1</code> \uFF0C\u53BB\u6389\u5E38\u6570\u9879\u4EE5\u540E\u5F97\u51FA\u65F6\u95F4\u590D\u6742\u5EA6\u662F <code>O(n * n)</code></p></blockquote>`,5),Ph={id:"_36-2-4-\u5F52\u5E76\u6392\u5E8F",tabindex:"-1"},Dh=n("a",{class:"header-anchor",href:"#_36-2-4-\u5F52\u5E76\u6392\u5E8F","aria-hidden":"true"},"#",-1),Mh=s(),Oh={href:"http://interview.poetries.top/docs/excellent.html#_36-2-4-%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},Rh=s("#"),Fh=s("36.2.4 \u5F52\u5E76\u6392\u5E8F"),Nh=e(`<blockquote><p>\u5F52\u5E76\u6392\u5E8F\u7684\u539F\u7406\u5982\u4E0B\u3002\u9012\u5F52\u7684\u5C06\u6570\u7EC4\u4E24\u4E24\u5206\u5F00\u76F4\u5230\u6700\u591A\u5305\u542B\u4E24\u4E2A\u5143\u7D20\uFF0C\u7136\u540E\u5C06\u6570\u7EC4\u6392\u5E8F\u5408\u5E76\uFF0C\u6700\u7EC8\u5408\u5E76\u4E3A\u6392\u5E8F\u597D\u7684\u6570\u7EC4\u3002\u5047\u8BBE\u6211\u6709\u4E00\u7EC4\u6570\u7EC4 <code>[3, 1, 2, 8, 9, 7, 6]</code>\uFF0C\u4E2D\u95F4\u6570\u7D22\u5F15\u662F <code>3</code>\uFF0C\u5148\u6392\u5E8F\u6570\u7EC4 <code>[3, 1, 2, 8]</code> \u3002\u5728\u8FD9\u4E2A\u5DE6\u8FB9\u6570\u7EC4\u4E0A\uFF0C\u7EE7\u7EED\u62C6\u5206\u76F4\u5230\u53D8\u6210\u6570\u7EC4\u5305\u542B\u4E24\u4E2A\u5143\u7D20\uFF08\u5982\u679C\u6570\u7EC4\u957F\u5EA6\u662F\u5947\u6570\u7684\u8BDD\uFF0C\u4F1A\u6709\u4E00\u4E2A\u62C6\u5206\u6570\u7EC4\u53EA\u5305\u542B\u4E00\u4E2A\u5143\u7D20\uFF09\u3002\u7136\u540E\u6392\u5E8F\u6570\u7EC4 <code>[3, 1]</code> \u548C <code>[2, 8]</code> \uFF0C\u7136\u540E\u518D\u6392\u5E8F\u6570\u7EC4 <code>[1, 3, 2, 8]</code> \uFF0C\u8FD9\u6837\u5DE6\u8FB9\u6570\u7EC4\u5C31\u6392\u5E8F\u5B8C\u6210\uFF0C\u7136\u540E\u6309\u7167\u4EE5\u4E0A\u601D\u8DEF\u6392\u5E8F\u53F3\u8FB9\u6570\u7EC4\uFF0C\u6700\u540E\u5C06\u6570\u7EC4 <code>[1, 2, 3, 8]</code> \u548C <code>[6, 7, 9]</code> \u6392\u5E8F</p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2018/4/13/162be13c7e30bd86" alt="img"></p><p>\u4EE5\u4E0B\u662F\u5B9E\u73B0\u8BE5\u7B97\u6CD5\u7684\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">checkArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">mergeSort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5DE6\u53F3\u7D22\u5F15\u76F8\u540C\u8BF4\u660E\u5DF2\u7ECF\u53EA\u6709\u4E00\u4E2A\u6570</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">===</span> right<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token comment">// \u7B49\u540C\u4E8E \`left + (right - left) / 2\`</span>
  <span class="token comment">// \u76F8\u6BD4 \`(left + right) / 2\` \u6765\u8BF4\u66F4\u52A0\u5B89\u5168\uFF0C\u4E0D\u4F1A\u6EA2\u51FA</span>
  <span class="token comment">// \u4F7F\u7528\u4F4D\u8FD0\u7B97\u662F\u56E0\u4E3A\u4F4D\u8FD0\u7B97\u6BD4\u56DB\u5219\u8FD0\u7B97\u5FEB</span>
  <span class="token keyword">let</span> mid <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>left <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>right <span class="token operator">-</span> left<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">mergeSort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> left<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">mergeSort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> help <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> p1 <span class="token operator">=</span> left<span class="token punctuation">;</span>
  <span class="token keyword">let</span> p2 <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>p1 <span class="token operator">&lt;=</span> mid <span class="token operator">&amp;&amp;</span> p2 <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    help<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>p1<span class="token punctuation">]</span> <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>p2<span class="token punctuation">]</span> <span class="token operator">?</span> array<span class="token punctuation">[</span>p1<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">:</span> array<span class="token punctuation">[</span>p2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>p1 <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    help<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>p1<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>p2 <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    help<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>p2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> help<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    array<span class="token punctuation">[</span>left <span class="token operator">+</span> i<span class="token punctuation">]</span> <span class="token operator">=</span> help<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u7B97\u6CD5\u4F7F\u7528\u4E86\u9012\u5F52\u7684\u601D\u60F3\u3002\u9012\u5F52\u7684\u672C\u8D28\u5C31\u662F\u538B\u6808\uFF0C\u6BCF\u9012\u5F52\u6267\u884C\u4E00\u6B21\u51FD\u6570\uFF0C\u5C31\u5C06\u8BE5\u51FD\u6570\u7684\u4FE1\u606F\uFF08\u6BD4\u5982\u53C2\u6570\uFF0C\u5185\u90E8\u7684\u53D8\u91CF\uFF0C\u6267\u884C\u5230\u7684\u884C\u6570\uFF09\u538B\u6808\uFF0C\u76F4\u5230\u9047\u5230\u7EC8\u6B62\u6761\u4EF6\uFF0C\u7136\u540E\u51FA\u6808\u5E76\u7EE7\u7EED\u6267\u884C\u51FD\u6570\u3002\u5BF9\u4E8E\u4EE5\u4E0A\u9012\u5F52\u51FD\u6570\u7684\u8C03\u7528\u8F68\u8FF9\u5982\u4E0B</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">mergeSort</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token comment">// mid = 3</span>
  <span class="token function">mergeSort</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// mid = 1</span>
    <span class="token function">mergeSort</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// mid = 0</span>
      <span class="token function">mergeSort</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// \u9047\u5230\u7EC8\u6B62\uFF0C\u56DE\u9000\u5230\u4E0A\u4E00\u6B65</span>
    <span class="token function">mergeSort</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// \u9047\u5230\u7EC8\u6B62\uFF0C\u56DE\u9000\u5230\u4E0A\u4E00\u6B65</span>
    <span class="token comment">// \u6392\u5E8F p1 = 0, p2 = mid + 1 = 1</span>
    <span class="token comment">// \u56DE\u9000\u5230 \`mergeSort(data, 0, 3)\` \u6267\u884C\u4E0B\u4E00\u4E2A\u9012\u5F52</span>
  <span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// mid = 2</span>
    <span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// \u9047\u5230\u7EC8\u6B62\uFF0C\u56DE\u9000\u5230\u4E0A\u4E00\u6B65</span>
  <span class="token comment">// \u6392\u5E8F p1 = 2, p2 = mid + 1 = 3</span>
  <span class="token comment">// \u56DE\u9000\u5230 \`mergeSort(data, 0, 3)\` \u6267\u884C\u5408\u5E76\u903B\u8F91</span>
  <span class="token comment">// \u6392\u5E8F p1 = 0, p2 = mid + 1 = 2</span>
  <span class="token comment">// \u6267\u884C\u5B8C\u6BD5\u56DE\u9000</span>
  <span class="token comment">// \u5DE6\u8FB9\u6570\u7EC4\u6392\u5E8F\u5B8C\u6BD5\uFF0C\u53F3\u8FB9\u4E5F\u662F\u5982\u4E0A\u8F68\u8FF9</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>\u8BE5\u7B97\u6CD5\u7684\u64CD\u4F5C\u6B21\u6570\u662F\u53EF\u4EE5\u8FD9\u6837\u8BA1\u7B97\uFF1A\u9012\u5F52\u4E86\u4E24\u6B21\uFF0C\u6BCF\u6B21\u6570\u636E\u91CF\u662F\u6570\u7EC4\u7684\u4E00\u534A\uFF0C\u5E76\u4E14\u6700\u540E\u628A\u6574\u4E2A\u6570\u7EC4\u8FED\u4EE3\u4E86\u4E00\u6B21\uFF0C\u6240\u4EE5\u5F97\u51FA\u8868\u8FBE\u5F0F <code>2T(N / 2) + T(N)</code> \uFF08<code>T</code> \u4EE3\u8868\u65F6\u95F4\uFF0C<code>N</code> \u4EE3\u8868\u6570\u636E\u91CF\uFF09\u3002\u6839\u636E\u8BE5\u8868\u8FBE\u5F0F\u53EF\u4EE5\u5957\u7528 \u8BE5\u516C\u5F0F \u5F97\u51FA\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A <code>O(N * logN)</code></p></blockquote>`,7),Lh={id:"_36-2-5-\u5FEB\u6392",tabindex:"-1"},Vh=n("a",{class:"header-anchor",href:"#_36-2-5-\u5FEB\u6392","aria-hidden":"true"},"#",-1),Ih=s(),Hh={href:"http://interview.poetries.top/docs/excellent.html#_36-2-5-%E5%BF%AB%E6%8E%92",target:"_blank",rel:"noopener noreferrer"},Jh=s("#"),Uh=s("36.2.5 \u5FEB\u6392"),zh=e(`<blockquote><p>\u5FEB\u6392\u7684\u539F\u7406\u5982\u4E0B\u3002\u968F\u673A\u9009\u53D6\u4E00\u4E2A\u6570\u7EC4\u4E2D\u7684\u503C\u4F5C\u4E3A\u57FA\u51C6\u503C\uFF0C\u4ECE\u5DE6\u81F3\u53F3\u53D6\u503C\u4E0E\u57FA\u51C6\u503C\u5BF9\u6BD4\u5927\u5C0F\u3002\u6BD4\u57FA\u51C6\u503C\u5C0F\u7684\u653E\u6570\u7EC4\u5DE6\u8FB9\uFF0C\u5927\u7684\u653E\u53F3\u8FB9\uFF0C\u5BF9\u6BD4\u5B8C\u6210\u540E\u5C06\u57FA\u51C6\u503C\u548C\u7B2C\u4E00\u4E2A\u6BD4\u57FA\u51C6\u503C\u5927\u7684\u503C\u4EA4\u6362\u4F4D\u7F6E\u3002\u7136\u540E\u5C06\u6570\u7EC4\u4EE5\u57FA\u51C6\u503C\u7684\u4F4D\u7F6E\u5206\u4E3A\u4E24\u90E8\u5206\uFF0C\u7EE7\u7EED\u9012\u5F52\u4EE5\u4E0A\u64CD\u4F5C</p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2018/4/16/162cd23e69ca9ea3" alt="img"></p><p>\u4EE5\u4E0B\u662F\u5B9E\u73B0\u8BE5\u7B97\u6CD5\u7684\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">checkArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">quickSort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token punctuation">,</span> right<span class="token punctuation">)</span>
    <span class="token comment">// \u968F\u673A\u53D6\u503C\uFF0C\u7136\u540E\u548C\u672B\u5C3E\u4EA4\u6362\uFF0C\u8FD9\u6837\u505A\u6BD4\u56FA\u5B9A\u53D6\u4E00\u4E2A\u4F4D\u7F6E\u7684\u590D\u6742\u5EA6\u7565\u4F4E</span>
    <span class="token keyword">let</span> indexs <span class="token operator">=</span> <span class="token function">part</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">quickSort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> left<span class="token punctuation">,</span> indexs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">quickSort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> indexs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">part</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> less <span class="token operator">=</span> left <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> more <span class="token operator">=</span> right<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> more<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5F53\u524D\u503C\u6BD4\u57FA\u51C6\u503C\u5C0F\uFF0C\`less\` \u548C \`left\` \u90FD\u52A0\u4E00</span>
	   <span class="token operator">++</span>less<span class="token punctuation">;</span>
       <span class="token operator">++</span>left<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5F53\u524D\u503C\u6BD4\u57FA\u51C6\u503C\u5927\uFF0C\u5C06\u5F53\u524D\u503C\u548C\u53F3\u8FB9\u7684\u503C\u4EA4\u6362</span>
      <span class="token comment">// \u5E76\u4E14\u4E0D\u6539\u53D8 \`left\`\uFF0C\u56E0\u4E3A\u5F53\u524D\u6362\u8FC7\u6765\u7684\u503C\u8FD8\u6CA1\u6709\u5224\u65AD\u8FC7\u5927\u5C0F</span>
      <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token operator">--</span>more<span class="token punctuation">,</span> left<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u548C\u57FA\u51C6\u503C\u76F8\u540C\uFF0C\u53EA\u79FB\u52A8\u4E0B\u6807</span>
      left<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5C06\u57FA\u51C6\u503C\u548C\u6BD4\u57FA\u51C6\u503C\u5927\u7684\u7B2C\u4E00\u4E2A\u503C\u4EA4\u6362\u4F4D\u7F6E</span>
  <span class="token comment">// \u8FD9\u6837\u6570\u7EC4\u5C31\u53D8\u6210 \`[\u6BD4\u57FA\u51C6\u503C\u5C0F, \u57FA\u51C6\u503C, \u6BD4\u57FA\u51C6\u503C\u5927]\`</span>
  <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> right<span class="token punctuation">,</span> more<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>less<span class="token punctuation">,</span> more<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><blockquote><p>\u8BE5\u7B97\u6CD5\u7684\u590D\u6742\u5EA6\u548C\u5F52\u5E76\u6392\u5E8F\u662F\u76F8\u540C\u7684\uFF0C\u4F46\u662F\u989D\u5916\u7A7A\u95F4\u590D\u6742\u5EA6\u6BD4\u5F52\u5E76\u6392\u5E8F\u5C11\uFF0C\u53EA\u9700 <code>O(logN)</code>\uFF0C\u5E76\u4E14\u76F8\u6BD4\u5F52\u5E76\u6392\u5E8F\u6765\u8BF4\uFF0C\u6240\u9700\u7684\u5E38\u6570\u65F6\u95F4\u4E5F\u66F4\u5C11</p></blockquote><p><strong>\u9762\u8BD5\u9898</strong></p><blockquote><p>Sort Colors\uFF1A\u8BE5\u9898\u76EE\u6765\u81EA LeetCode\uFF0C\u9898\u76EE\u9700\u8981\u6211\u4EEC\u5C06 <code>[2,0,2,1,1,0]</code>\u6392\u5E8F\u6210 <code>[0,0,1,1,2,2]</code> \uFF0C\u8FD9\u4E2A\u95EE\u9898\u5C31\u53EF\u4EE5\u4F7F\u7528\u4E09\u8DEF\u5FEB\u6392\u7684\u601D\u60F3\u3002</p></blockquote><p>\u4EE5\u4E0B\u662F\u4EE3\u7801\u5B9E\u73B0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">sortColors</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> left <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> right <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token comment">// \u4E0B\u6807\u5982\u679C\u9047\u5230 right\uFF0C\u8BF4\u660E\u5DF2\u7ECF\u6392\u5E8F\u5B8C\u6210</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">swap</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> i<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token operator">++</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">swap</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token operator">--</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><p>Kth Largest Element in an Array\uFF1A\u8BE5\u9898\u76EE\u6765\u81EA LeetCode\uFF0C\u9898\u76EE\u9700\u8981\u627E\u51FA\u6570\u7EC4\u4E2D\u7B2C K \u5927\u7684\u5143\u7D20\uFF0C\u8FD9\u95EE\u9898\u4E5F\u53EF\u4EE5\u4F7F\u7528\u5FEB\u6392\u7684\u601D\u8DEF\u3002\u5E76\u4E14\u56E0\u4E3A\u662F\u627E\u51FA\u7B2C K \u5927\u5143\u7D20\uFF0C\u6240\u4EE5\u5728\u5206\u79BB\u6570\u7EC4\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u53EF\u4EE5\u627E\u51FA\u9700\u8981\u7684\u5143\u7D20\u5728\u54EA\u8FB9\uFF0C\u7136\u540E\u53EA\u9700\u8981\u6392\u5E8F\u76F8\u5E94\u7684\u4E00\u8FB9\u6570\u7EC4\u5C31\u597D\u3002</p></blockquote><p>\u4EE5\u4E0B\u662F\u4EE3\u7801\u5B9E\u73B0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">findKthLargest</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nums<span class="token punctuation">,</span> k</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> l <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">let</span> r <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
  <span class="token comment">// \u5F97\u51FA\u7B2C K \u5927\u5143\u7D20\u7684\u7D22\u5F15\u4F4D\u7F6E</span>
  k <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> k
  <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5206\u79BB\u6570\u7EC4\u540E\u83B7\u5F97\u6BD4\u57FA\u51C6\u6811\u5927\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20\u7D22\u5F15</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token function">part</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">)</span>
    <span class="token comment">// \u5224\u65AD\u8BE5\u7D22\u5F15\u548C k \u7684\u5927\u5C0F</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      l <span class="token operator">=</span> index <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      r <span class="token operator">=</span> index <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> nums<span class="token punctuation">[</span>k<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">part</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> less <span class="token operator">=</span> left <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> more <span class="token operator">=</span> right<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> more<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	   <span class="token operator">++</span>less<span class="token punctuation">;</span>
       <span class="token operator">++</span>left<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token operator">--</span>more<span class="token punctuation">,</span> left<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      left<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> right<span class="token punctuation">,</span> more<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> more<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div>`,12),Wh={id:"_36-2-6-\u5806\u6392\u5E8F",tabindex:"-1"},Xh=n("a",{class:"header-anchor",href:"#_36-2-6-\u5806\u6392\u5E8F","aria-hidden":"true"},"#",-1),Gh=s(),Qh={href:"http://interview.poetries.top/docs/excellent.html#_36-2-6-%E5%A0%86%E6%8E%92%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},Kh=s("#"),$h=s("36.2.6 \u5806\u6392\u5E8F"),Yh=e(`<blockquote><p>\u5806\u6392\u5E8F\u5229\u7528\u4E86\u4E8C\u53C9\u5806\u7684\u7279\u6027\u6765\u505A\uFF0C\u4E8C\u53C9\u5806\u901A\u5E38\u7528\u6570\u7EC4\u8868\u793A\uFF0C\u5E76\u4E14\u4E8C\u53C9\u5806\u662F\u4E00\u9897\u5B8C\u5168\u4E8C\u53C9\u6811\uFF08\u6240\u6709\u53F6\u8282\u70B9\uFF08\u6700\u5E95\u5C42\u7684\u8282\u70B9\uFF09\u90FD\u662F\u4ECE\u5DE6\u5F80\u53F3\u987A\u5E8F\u6392\u5E8F\uFF0C\u5E76\u4E14\u5176\u4ED6\u5C42\u7684\u8282\u70B9\u90FD\u662F\u6EE1\u7684\uFF09\u3002\u4E8C\u53C9\u5806\u53C8\u5206\u4E3A\u5927\u6839\u5806\u4E0E\u5C0F\u6839\u5806</p></blockquote><ul><li>\u5927\u6839\u5806\u662F\u67D0\u4E2A\u8282\u70B9\u7684\u6240\u6709\u5B50\u8282\u70B9\u7684\u503C\u90FD\u6BD4\u4ED6\u5C0F</li><li>\u5C0F\u6839\u5806\u662F\u67D0\u4E2A\u8282\u70B9\u7684\u6240\u6709\u5B50\u8282\u70B9\u7684\u503C\u90FD\u6BD4\u4ED6\u5927</li></ul><blockquote><p>\u5806\u6392\u5E8F\u7684\u539F\u7406\u5C31\u662F\u7EC4\u6210\u4E00\u4E2A\u5927\u6839\u5806\u6216\u8005\u5C0F\u6839\u5806\u3002\u4EE5\u5C0F\u6839\u5806\u4E3A\u4F8B\uFF0C\u67D0\u4E2A\u8282\u70B9\u7684\u5DE6\u8FB9\u5B50\u8282\u70B9\u7D22\u5F15\u662F <code>i * 2 + 1</code>\uFF0C\u53F3\u8FB9\u662F <code>i * 2 + 2</code>\uFF0C\u7236\u8282\u70B9\u662F <code>(i - 1) /2</code></p></blockquote><ol><li>\u9996\u5148\u904D\u5386\u6570\u7EC4\uFF0C\u5224\u65AD\u8BE5\u8282\u70B9\u7684\u7236\u8282\u70B9\u662F\u5426\u6BD4\u4ED6\u5C0F\uFF0C\u5982\u679C\u5C0F\u5C31\u4EA4\u6362\u4F4D\u7F6E\u5E76\u7EE7\u7EED\u5224\u65AD\uFF0C\u76F4\u5230\u4ED6\u7684\u7236\u8282\u70B9\u6BD4\u4ED6\u5927</li><li>\u91CD\u65B0\u4EE5\u4E0A\u64CD\u4F5C <code>1</code>\uFF0C\u76F4\u5230\u6570\u7EC4\u9996\u4F4D\u662F\u6700\u5927\u503C</li><li>\u7136\u540E\u5C06\u9996\u4F4D\u548C\u672B\u5C3E\u4EA4\u6362\u4F4D\u7F6E\u5E76\u5C06\u6570\u7EC4\u957F\u5EA6\u51CF\u4E00\uFF0C\u8868\u793A\u6570\u7EC4\u672B\u5C3E\u5DF2\u662F\u6700\u5927\u503C\uFF0C\u4E0D\u9700\u8981\u518D\u6BD4\u8F83\u5927\u5C0F</li><li>\u5BF9\u6BD4\u5DE6\u53F3\u8282\u70B9\u54EA\u4E2A\u5927\uFF0C\u7136\u540E\u8BB0\u4F4F\u5927\u7684\u8282\u70B9\u7684\u7D22\u5F15\u5E76\u4E14\u548C\u7236\u8282\u70B9\u5BF9\u6BD4\u5927\u5C0F\uFF0C\u5982\u679C\u5B50\u8282\u70B9\u5927\u5C31\u4EA4\u6362\u4F4D\u7F6E</li><li>\u91CD\u590D\u4EE5\u4E0A\u64CD\u4F5C <code>3 - 4</code> \u76F4\u5230\u6574\u4E2A\u6570\u7EC4\u90FD\u662F\u5927\u6839\u5806\u3002</li></ol><p><img src="https://user-gold-cdn.xitu.io/2018/4/17/162d2a9ff258dfe1" alt="img"></p><p>\u4EE5\u4E0B\u662F\u5B9E\u73B0\u8BE5\u7B97\u6CD5\u7684\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">heap</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">checkArray</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// \u5C06\u6700\u5927\u503C\u4EA4\u6362\u5230\u9996\u4F4D</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">heapInsert</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> size <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token comment">// \u4EA4\u6362\u9996\u4F4D\u548C\u672B\u5C3E</span>
  <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">--</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>size <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">heapify</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">--</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">heapInsert</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u5982\u679C\u5F53\u524D\u8282\u70B9\u6BD4\u7236\u8282\u70B9\u5927\uFF0C\u5C31\u4EA4\u6362</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> index<span class="token punctuation">,</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5C06\u7D22\u5F15\u53D8\u6210\u7236\u8282\u70B9</span>
    index <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">heapify</span><span class="token punctuation">(</span><span class="token parameter">array<span class="token punctuation">,</span> index<span class="token punctuation">,</span> size</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> left <span class="token operator">=</span> index <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5224\u65AD\u5DE6\u53F3\u8282\u70B9\u5927\u5C0F</span>
    <span class="token keyword">let</span> largest <span class="token operator">=</span>
      left <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> size <span class="token operator">&amp;&amp;</span> array<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">?</span> left <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">:</span> left<span class="token punctuation">;</span>
    <span class="token comment">// \u5224\u65AD\u5B50\u8282\u70B9\u548C\u7236\u8282\u70B9\u5927\u5C0F</span>
    largest <span class="token operator">=</span> array<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">&lt;</span> array<span class="token punctuation">[</span>largest<span class="token punctuation">]</span> <span class="token operator">?</span> largest <span class="token operator">:</span> index<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>largest <span class="token operator">===</span> index<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token function">swap</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> index<span class="token punctuation">,</span> largest<span class="token punctuation">)</span><span class="token punctuation">;</span>
    index <span class="token operator">=</span> largest<span class="token punctuation">;</span>
    left <span class="token operator">=</span> index <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><ul><li>\u4EE5\u4E0A\u4EE3\u7801\u5B9E\u73B0\u4E86\u5C0F\u6839\u5806\uFF0C\u5982\u679C\u9700\u8981\u5B9E\u73B0\u5927\u6839\u5806\uFF0C\u53EA\u9700\u8981\u628A\u8282\u70B9\u5BF9\u6BD4\u53CD\u4E00\u4E0B\u5C31\u597D\u3002</li><li>\u8BE5\u7B97\u6CD5\u7684\u590D\u6742\u5EA6\u662F <code>O(logN)</code></li></ul>`,8),Zh={id:"_36-3-\u94FE\u8868",tabindex:"-1"},n1=n("a",{class:"header-anchor",href:"#_36-3-\u94FE\u8868","aria-hidden":"true"},"#",-1),s1=s(),a1={href:"http://interview.poetries.top/docs/excellent.html#_36-3-%E9%93%BE%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"},p1=s("#"),e1=s("36.3 \u94FE\u8868"),t1=e(`<p><strong>\u53CD\u8F6C\u5355\u5411\u94FE\u8868</strong></p><blockquote><p>\u8BE5\u9898\u76EE\u6765\u81EA LeetCode\uFF0C\u9898\u76EE\u9700\u8981\u5C06\u4E00\u4E2A\u5355\u5411\u94FE\u8868\u53CD\u8F6C\u3002\u601D\u8DEF\u5F88\u7B80\u5355\uFF0C\u4F7F\u7528\u4E09\u4E2A\u53D8\u91CF\u5206\u522B\u8868\u793A\u5F53\u524D\u8282\u70B9\u548C\u5F53\u524D\u8282\u70B9\u7684\u524D\u540E\u8282\u70B9\uFF0C\u867D\u7136\u8FD9\u9898\u5F88\u7B80\u5355\uFF0C\u4F46\u662F\u5374\u662F\u4E00\u9053\u9762\u8BD5\u5E38\u8003\u9898</p></blockquote><p>\u4EE5\u4E0B\u662F\u5B9E\u73B0\u8BE5\u7B97\u6CD5\u7684\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">reverseList</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">head</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5224\u65AD\u4E0B\u53D8\u91CF\u8FB9\u754C\u95EE\u9898</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>head <span class="token operator">||</span> <span class="token operator">!</span>head<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token keyword">return</span> head
    <span class="token comment">// \u521D\u59CB\u8BBE\u7F6E\u4E3A\u7A7A\uFF0C\u56E0\u4E3A\u7B2C\u4E00\u4E2A\u8282\u70B9\u53CD\u8F6C\u540E\u5C31\u662F\u5C3E\u90E8\uFF0C\u5C3E\u90E8\u8282\u70B9\u6307\u5411 null</span>
    <span class="token keyword">let</span> pre <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> head
    <span class="token keyword">let</span> next
    <span class="token comment">// \u5224\u65AD\u5F53\u524D\u8282\u70B9\u662F\u5426\u4E3A\u7A7A</span>
    <span class="token comment">// \u4E0D\u4E3A\u7A7A\u5C31\u5148\u83B7\u53D6\u5F53\u524D\u8282\u70B9\u7684\u4E0B\u4E00\u8282\u70B9</span>
    <span class="token comment">// \u7136\u540E\u628A\u5F53\u524D\u8282\u70B9\u7684 next \u8BBE\u4E3A\u4E0A\u4E00\u4E2A\u8282\u70B9</span>
    <span class="token comment">// \u7136\u540E\u628A current \u8BBE\u4E3A\u4E0B\u4E00\u4E2A\u8282\u70B9\uFF0Cpre \u8BBE\u4E3A\u5F53\u524D\u8282\u70B9</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        next <span class="token operator">=</span> current<span class="token punctuation">.</span>next
        current<span class="token punctuation">.</span>next <span class="token operator">=</span> pre
        pre <span class="token operator">=</span> current
        current <span class="token operator">=</span> next
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> pre
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div>`,4),o1={id:"_36-4-\u6811",tabindex:"-1"},c1=n("a",{class:"header-anchor",href:"#_36-4-\u6811","aria-hidden":"true"},"#",-1),l1=s(),u1={href:"http://interview.poetries.top/docs/excellent.html#_36-4-%E6%A0%91",target:"_blank",rel:"noopener noreferrer"},r1=s("#"),i1=s("36.4 \u6811"),k1=e(`<p><strong>\u4E8C\u53C9\u6811\u7684\u5148\u5E8F\uFF0C\u4E2D\u5E8F\uFF0C\u540E\u5E8F\u904D\u5386</strong></p><ul><li>\u5148\u5E8F\u904D\u5386\u8868\u793A\u5148\u8BBF\u95EE\u6839\u8282\u70B9\uFF0C\u7136\u540E\u8BBF\u95EE\u5DE6\u8282\u70B9\uFF0C\u6700\u540E\u8BBF\u95EE\u53F3\u8282\u70B9\u3002</li><li>\u4E2D\u5E8F\u904D\u5386\u8868\u793A\u5148\u8BBF\u95EE\u5DE6\u8282\u70B9\uFF0C\u7136\u540E\u8BBF\u95EE\u6839\u8282\u70B9\uFF0C\u6700\u540E\u8BBF\u95EE\u53F3\u8282\u70B9\u3002</li><li>\u540E\u5E8F\u904D\u5386\u8868\u793A\u5148\u8BBF\u95EE\u5DE6\u8282\u70B9\uFF0C\u7136\u540E\u8BBF\u95EE\u53F3\u8282\u70B9\uFF0C\u6700\u540E\u8BBF\u95EE\u6839\u8282\u70B9\u3002</li></ul><p><strong>\u9012\u5F52\u5B9E\u73B0</strong></p><p>\u9012\u5F52\u5B9E\u73B0\u76F8\u5F53\u7B80\u5355\uFF0C\u4EE3\u7801\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">TreeNode</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> val<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token function-variable function">traversal</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5148\u5E8F</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token function">traversal</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u4E2D\u5E8F</span>
    <span class="token comment">// console.log(root); </span>
    <span class="token function">traversal</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u540E\u5E8F</span>
    <span class="token comment">// console.log(root);</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u9012\u5F52\u7684\u5B9E\u73B0\u6765\u8BF4\uFF0C\u53EA\u9700\u8981\u7406\u89E3\u6BCF\u4E2A\u8282\u70B9\u90FD\u4F1A\u88AB\u8BBF\u95EE\u4E09\u6B21\u5C31\u660E\u767D\u4E3A\u4EC0\u4E48\u8FD9\u6837\u5B9E\u73B0\u4E86\u3002</p></blockquote><p><strong>\u975E\u9012\u5F52\u5B9E\u73B0</strong></p><blockquote><p>\u975E\u9012\u5F52\u5B9E\u73B0\u4F7F\u7528\u4E86\u6808\u7684\u7ED3\u6784\uFF0C\u901A\u8FC7\u6808\u7684\u5148\u8FDB\u540E\u51FA\u6A21\u62DF\u9012\u5F52\u5B9E\u73B0\u3002</p></blockquote><p>\u4EE5\u4E0B\u662F\u5148\u5E8F\u904D\u5386\u4EE3\u7801\u5B9E\u73B0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">pre</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5148\u5C06\u6839\u8282\u70B9 push</span>
    stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5224\u65AD\u6808\u4E2D\u662F\u5426\u4E3A\u7A7A</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5F39\u51FA\u6808\u9876\u5143\u7D20</span>
      root <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u56E0\u4E3A\u5148\u5E8F\u904D\u5386\u662F\u5148\u5DE6\u540E\u53F3\uFF0C\u6808\u662F\u5148\u8FDB\u540E\u51FA\u7ED3\u6784</span>
      <span class="token comment">// \u6240\u4EE5\u5148 push \u53F3\u8FB9\u518D push \u5DE6\u8FB9</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>\u4EE5\u4E0B\u662F\u4E2D\u5E8F\u904D\u5386\u4EE3\u7801\u5B9E\u73B0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">mid</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// \u4E2D\u5E8F\u904D\u5386\u662F\u5148\u5DE6\u518D\u6839\u6700\u540E\u53F3</span>
    <span class="token comment">// \u6240\u4EE5\u9996\u5148\u5E94\u8BE5\u5148\u628A\u6700\u5DE6\u8FB9\u8282\u70B9\u904D\u5386\u5230\u5E95\u4F9D\u6B21 push \u8FDB\u6808</span>
    <span class="token comment">// \u5F53\u5DE6\u8FB9\u6CA1\u6709\u8282\u70B9\u65F6\uFF0C\u5C31\u6253\u5370\u6808\u9876\u5143\u7D20\uFF0C\u7136\u540E\u5BFB\u627E\u53F3\u8282\u70B9</span>
    <span class="token comment">// \u5BF9\u4E8E\u6700\u5DE6\u8FB9\u7684\u53F6\u8282\u70B9\u6765\u8BF4\uFF0C\u53EF\u4EE5\u628A\u5B83\u770B\u6210\u662F\u4E24\u4E2A null \u8282\u70B9\u7684\u7236\u8282\u70B9</span>
    <span class="token comment">// \u5DE6\u8FB9\u6253\u5370\u4E0D\u51FA\u4E1C\u897F\u5C31\u628A\u7236\u8282\u70B9\u62FF\u51FA\u6765\u6253\u5370\uFF0C\u7136\u540E\u518D\u770B\u53F3\u8282\u70B9</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">||</span> root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
        root <span class="token operator">=</span> root<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        root <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
        root <span class="token operator">=</span> root<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><blockquote><p>\u4EE5\u4E0B\u662F\u540E\u5E8F\u904D\u5386\u4EE3\u7801\u5B9E\u73B0\uFF0C\u8BE5\u4EE3\u7801\u4F7F\u7528\u4E86\u4E24\u4E2A\u6808\u6765\u5B9E\u73B0\u904D\u5386\uFF0C\u76F8\u6BD4\u4E00\u4E2A\u6808\u7684\u904D\u5386\u6765\u8BF4\u8981\u5BB9\u6613\u7406\u89E3\u5F88\u591A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">pos</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> stack1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> stack2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// \u540E\u5E8F\u904D\u5386\u662F\u5148\u5DE6\u518D\u53F3\u6700\u540E\u6839</span>
	<span class="token comment">// \u6240\u4EE5\u5BF9\u4E8E\u4E00\u4E2A\u6808\u6765\u8BF4\uFF0C\u5E94\u8BE5\u5148 push \u6839\u8282\u70B9</span>
    <span class="token comment">// \u7136\u540E push \u53F3\u8282\u70B9\uFF0C\u6700\u540E push \u5DE6\u8282\u70B9</span>
    stack1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>stack1<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      root <span class="token operator">=</span> stack1<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      stack2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stack1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stack1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>stack2<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>\u4E2D\u5E8F\u904D\u5386\u7684\u524D\u9A71\u540E\u7EE7\u8282\u70B9</strong></p><blockquote><p>\u5B9E\u73B0\u8FD9\u4E2A\u7B97\u6CD5\u7684\u524D\u63D0\u662F\u8282\u70B9\u6709\u4E00\u4E2A <code>parent</code> \u7684\u6307\u9488\u6307\u5411\u7236\u8282\u70B9\uFF0C\u6839\u8282\u70B9\u6307\u5411 <code>null</code> \u3002</p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2018/4/24/162f61ad8e8588b7" alt="img"></p><blockquote><p>\u5982\u56FE\u6240\u793A\uFF0C\u8BE5\u6811\u7684\u4E2D\u5E8F\u904D\u5386\u7ED3\u679C\u662F <code>4, 2, 5, 1, 6, 3, 7</code></p></blockquote><p><strong>\u524D\u9A71\u8282\u70B9</strong></p><blockquote><p>\u5BF9\u4E8E\u8282\u70B9 2 \u6765\u8BF4\uFF0C\u4ED6\u7684\u524D\u9A71\u8282\u70B9\u5C31\u662F 4 \uFF0C\u6309\u7167\u4E2D\u5E8F\u904D\u5386\u539F\u5219\uFF0C\u53EF\u4EE5\u5F97\u51FA\u4EE5\u4E0B\u7ED3\u8BBA</p></blockquote><ol><li>\u5982\u679C\u9009\u53D6\u7684\u8282\u70B9\u7684\u5DE6\u8282\u70B9\u4E0D\u4E3A\u7A7A\uFF0C\u5C31\u627E\u8BE5\u5DE6\u8282\u70B9\u6700\u53F3\u7684\u8282\u70B9\u3002\u5BF9\u4E8E\u8282\u70B9 1 \u6765\u8BF4\uFF0C\u4ED6\u6709\u5DE6\u8282\u70B9 <code>2</code> \uFF0C\u90A3\u4E48\u8282\u70B9 <code>2</code> \u7684\u6700\u53F3\u8282\u70B9\u5C31\u662F <code>5</code></li><li>\u5982\u679C\u5DE6\u8282\u70B9\u4E3A\u7A7A\uFF0C\u4E14\u76EE\u6807\u8282\u70B9\u662F\u7236\u8282\u70B9\u7684\u53F3\u8282\u70B9\uFF0C\u90A3\u4E48\u524D\u9A71\u8282\u70B9\u4E3A\u7236\u8282\u70B9\u3002\u5BF9\u4E8E\u8282\u70B9 5 \u6765\u8BF4\uFF0C\u6CA1\u6709\u5DE6\u8282\u70B9\uFF0C\u4E14\u662F\u8282\u70B9 <code>2</code> \u7684\u53F3\u8282\u70B9\uFF0C\u6240\u4EE5\u8282\u70B9 <code>2</code> \u662F\u524D\u9A71\u8282\u70B9</li><li>\u5982\u679C\u5DE6\u8282\u70B9\u4E3A\u7A7A\uFF0C\u4E14\u76EE\u6807\u8282\u70B9\u662F\u7236\u8282\u70B9\u7684\u5DE6\u8282\u70B9\uFF0C\u5411\u4E0A\u5BFB\u627E\u5230\u7B2C\u4E00\u4E2A\u662F\u7236\u8282\u70B9\u7684\u53F3\u8282\u70B9\u7684\u8282\u70B9\u3002\u5BF9\u4E8E\u8282\u70B9 <code>6</code> \u6765\u8BF4\uFF0C\u6CA1\u6709\u5DE6\u8282\u70B9\uFF0C\u4E14\u662F\u8282\u70B9 <code>3</code> \u7684\u5DE6\u8282\u70B9\uFF0C\u6240\u4EE5\u5411\u4E0A\u5BFB\u627E\u5230\u8282\u70B9 <code>1</code> \uFF0C\u53D1\u73B0\u8282\u70B9 <code>3</code> \u662F\u8282\u70B9 <code>1</code> \u7684\u53F3\u8282\u70B9\uFF0C\u6240\u4EE5\u8282\u70B9 <code>1</code> \u662F\u8282\u70B9 <code>6</code> \u7684\u524D\u9A71\u8282\u70B9</li></ol><p>\u4EE5\u4E0B\u662F\u7B97\u6CD5\u5B9E\u73B0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">predecessor</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> 
  <span class="token comment">// \u7ED3\u8BBA 1</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">getRight</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> parent <span class="token operator">=</span> node<span class="token punctuation">.</span>parent
    <span class="token comment">// \u7ED3\u8BBA 2 3 \u7684\u5224\u65AD</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token punctuation">.</span>right <span class="token operator">===</span> node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node <span class="token operator">=</span> parent
      parent <span class="token operator">=</span> node<span class="token punctuation">.</span>parent
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> parent
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getRight</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> 
  node <span class="token operator">=</span> node<span class="token punctuation">.</span>right
  <span class="token keyword">while</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> node <span class="token operator">=</span> node<span class="token punctuation">.</span>right
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>\u540E\u7EE7\u8282\u70B9</strong></p><ul><li>\u5BF9\u4E8E\u8282\u70B9 2 \u6765\u8BF4\uFF0C\u4ED6\u7684\u540E\u7EE7\u8282\u70B9\u5C31\u662F 5 \uFF0C\u6309\u7167\u4E2D\u5E8F\u904D\u5386\u539F\u5219\uFF0C\u53EF\u4EE5\u5F97\u51FA\u4EE5\u4E0B\u7ED3\u8BBA</li></ul><ol><li>\u5982\u679C\u6709\u53F3\u8282\u70B9\uFF0C\u5C31\u627E\u5230\u8BE5\u53F3\u8282\u70B9\u7684\u6700\u5DE6\u8282\u70B9\u3002\u5BF9\u4E8E\u8282\u70B9 1 \u6765\u8BF4\uFF0C\u4ED6\u6709\u53F3\u8282\u70B9 3 \uFF0C\u90A3\u4E48\u8282\u70B9 3 \u7684\u6700\u5DE6\u8282\u70B9\u5C31\u662F 6</li><li>\u5982\u679C\u6CA1\u6709\u53F3\u8282\u70B9\uFF0C\u5C31\u5411\u4E0A\u904D\u5386\u76F4\u5230\u627E\u5230\u4E00\u4E2A\u8282\u70B9\u662F\u7236\u8282\u70B9\u7684\u5DE6\u8282\u70B9\u3002\u5BF9\u4E8E\u8282\u70B9 5 \u6765\u8BF4\uFF0C\u6CA1\u6709\u53F3\u8282\u70B9\uFF0C\u5C31\u5411\u4E0A\u5BFB\u627E\u5230\u8282\u70B9 2 \uFF0C\u8BE5\u8282\u70B9\u662F\u7236\u8282\u70B9 1 \u7684\u5DE6\u8282\u70B9\uFF0C\u6240\u4EE5\u8282\u70B9 1 \u662F\u540E\u7EE7\u8282\u70B9</li></ol><p>\u4EE5\u4E0B\u662F\u7B97\u6CD5\u5B9E\u73B0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">successor</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> 
  <span class="token comment">// \u7ED3\u8BBA 1</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">getLeft</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u7ED3\u8BBA 2</span>
    <span class="token keyword">let</span> parent <span class="token operator">=</span> node<span class="token punctuation">.</span>parent
    <span class="token comment">// \u5224\u65AD parent \u4E3A\u7A7A</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>parent <span class="token operator">&amp;&amp;</span> parent<span class="token punctuation">.</span>left <span class="token operator">===</span> node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      node <span class="token operator">=</span> parent
      parent <span class="token operator">=</span> node<span class="token punctuation">.</span>parent
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> parent
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getLeft</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span> 
  node <span class="token operator">=</span> node<span class="token punctuation">.</span>left
  <span class="token keyword">while</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> node <span class="token operator">=</span> node<span class="token punctuation">.</span>left
  <span class="token keyword">return</span> node
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p><strong>\u6811\u7684\u6DF1\u5EA6</strong></p><blockquote><p>\u6811\u7684\u6700\u5927\u6DF1\u5EA6\uFF1A\u8BE5\u9898\u76EE\u6765\u81EA Leetcode\uFF0C\u9898\u76EE\u9700\u8981\u6C42\u51FA\u4E00\u9897\u4E8C\u53C9\u6811\u7684\u6700\u5927\u6DF1\u5EA6</p></blockquote><p>\u4EE5\u4E0B\u662F\u7B97\u6CD5\u5B9E\u73B0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">maxDepth</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>root<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span> 
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token function">maxDepth</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">maxDepth</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u8BE5\u9012\u5F52\u51FD\u6570\u53EF\u4EE5\u8FD9\u6837\u7406\u89E3\uFF1A\u4E00\u65E6\u6CA1\u6709\u627E\u5230\u8282\u70B9\u5C31\u4F1A\u8FD4\u56DE 0\uFF0C\u6BCF\u5F39\u51FA\u4E00\u6B21\u9012\u5F52\u51FD\u6570\u5C31\u4F1A\u52A0\u4E00\uFF0C\u6811\u6709\u4E09\u5C42\u5C31\u4F1A\u5F97\u52303\u3002</p></blockquote>`,33),d1={id:"_36-5-\u52A8\u6001\u89C4\u5212",tabindex:"-1"},b1=n("a",{class:"header-anchor",href:"#_36-5-\u52A8\u6001\u89C4\u5212","aria-hidden":"true"},"#",-1),m1=s(),h1={href:"http://interview.poetries.top/docs/excellent.html#_36-5-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92",target:"_blank",rel:"noopener noreferrer"},g1=s("#"),_1=s("36.5 \u52A8\u6001\u89C4\u5212"),f1=e(`<ul><li>\u52A8\u6001\u89C4\u5212\u80CC\u540E\u7684\u57FA\u672C\u601D\u60F3\u975E\u5E38\u7B80\u5355\u3002\u5C31\u662F\u5C06\u4E00\u4E2A\u95EE\u9898\u62C6\u5206\u4E3A\u5B50\u95EE\u9898\uFF0C\u4E00\u822C\u6765\u8BF4\u8FD9\u4E9B\u5B50\u95EE\u9898\u90FD\u662F\u975E\u5E38\u76F8\u4F3C\u7684\uFF0C\u90A3\u4E48\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u53EA\u89E3\u51B3\u4E00\u6B21\u6BCF\u4E2A\u5B50\u95EE\u9898\u6765\u8FBE\u5230\u51CF\u5C11\u8BA1\u7B97\u91CF\u7684\u76EE\u7684\u3002</li><li>\u4E00\u65E6\u5F97\u51FA\u6BCF\u4E2A\u5B50\u95EE\u9898\u7684\u89E3\uFF0C\u5C31\u5B58\u50A8\u8BE5\u7ED3\u679C\u4EE5\u4FBF\u4E0B\u6B21\u4F7F\u7528\u3002</li></ul><p><strong>\u6590\u6CE2\u90A3\u5951\u6570\u5217</strong></p><blockquote><p>\u6590\u6CE2\u90A3\u5951\u6570\u5217\u5C31\u662F\u4ECE <code>0</code> \u548C <code>1</code> \u5F00\u59CB\uFF0C\u540E\u9762\u7684\u6570\u90FD\u662F\u524D\u4E24\u4E2A\u6570\u4E4B\u548C</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>0\uFF0C1\uFF0C1\uFF0C2\uFF0C3\uFF0C5\uFF0C8\uFF0C13\uFF0C21\uFF0C34\uFF0C55\uFF0C89....
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u90A3\u4E48\u663E\u7136\u6613\u89C1\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u9012\u5F52\u7684\u65B9\u5F0F\u6765\u5B8C\u6210\u6C42\u89E3\u6590\u6CE2\u90A3\u5951\u6570\u5217</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> n <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> n
  <span class="token keyword">return</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fib</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u4EE5\u4E0A\u4EE3\u7801\u5DF2\u7ECF\u53EF\u4EE5\u5B8C\u7F8E\u7684\u89E3\u51B3\u95EE\u9898\u3002\u4F46\u662F\u4EE5\u4E0A\u89E3\u6CD5\u5374\u5B58\u5728\u5F88\u4E25\u91CD\u7684\u6027\u80FD\u95EE\u9898\uFF0C\u5F53 <code>n</code> \u8D8A\u5927\u7684\u65F6\u5019\uFF0C\u9700\u8981\u7684\u65F6\u95F4\u662F\u6307\u6570\u589E\u957F\u7684\uFF0C\u8FD9\u65F6\u5019\u5C31\u53EF\u4EE5\u901A\u8FC7\u52A8\u6001\u89C4\u5212\u6765\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u3002</p></blockquote><p><strong>\u52A8\u6001\u89C4\u5212\u7684\u672C\u8D28\u5176\u5B9E\u5C31\u662F\u4E24\u70B9</strong></p><ul><li>\u81EA\u5E95\u5411\u4E0A\u5206\u89E3\u5B50\u95EE\u9898</li><li>\u901A\u8FC7\u53D8\u91CF\u5B58\u50A8\u5DF2\u7ECF\u8BA1\u7B97\u8FC7\u7684\u89E3</li></ul><p><strong>\u6839\u636E\u4E0A\u9762\u4E24\u70B9\uFF0C\u6211\u4EEC\u7684\u6590\u6CE2\u90A3\u5951\u6570\u5217\u7684\u52A8\u6001\u89C4\u5212\u601D\u8DEF\u4E5F\u5C31\u51FA\u6765\u4E86</strong></p><ul><li>\u6590\u6CE2\u90A3\u5951\u6570\u5217\u4ECE <code>0</code> \u548C <code>1</code> \u5F00\u59CB\uFF0C\u90A3\u4E48\u8FD9\u5C31\u662F\u8FD9\u4E2A\u5B50\u95EE\u9898\u7684\u6700\u5E95\u5C42</li><li>\u901A\u8FC7\u6570\u7EC4\u6765\u5B58\u50A8\u6BCF\u4E00\u4F4D\u6240\u5BF9\u5E94\u7684\u6590\u6CE2\u90A3\u5951\u6570\u5217\u7684\u503C</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
  array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
  array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> array<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> array<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token function">fib</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>0 - 1\u80CC\u5305\u95EE\u9898</strong></p><blockquote><p>\u8BE5\u95EE\u9898\u53EF\u4EE5\u63CF\u8FF0\u4E3A\uFF1A\u7ED9\u5B9A\u4E00\u7EC4\u7269\u54C1\uFF0C\u6BCF\u79CD\u7269\u54C1\u90FD\u6709\u81EA\u5DF1\u7684\u91CD\u91CF\u548C\u4EF7\u683C\uFF0C\u5728\u9650\u5B9A\u7684\u603B\u91CD\u91CF\u5185\uFF0C\u6211\u4EEC\u5982\u4F55\u9009\u62E9\uFF0C\u624D\u80FD\u4F7F\u5F97\u7269\u54C1\u7684\u603B\u4EF7\u683C\u6700\u9AD8\u3002\u6BCF\u4E2A\u95EE\u9898\u53EA\u80FD\u653E\u5165\u81F3\u591A\u4E00\u6B21\u3002</p></blockquote><p>\u5047\u8BBE\u6211\u4EEC\u6709\u4EE5\u4E0B\u7269\u54C1</p><table><thead><tr><th>\u7269\u54C1 ID / \u91CD\u91CF</th><th>\u4EF7\u503C</th></tr></thead><tbody><tr><td>1</td><td>3</td></tr><tr><td>2</td><td>7</td></tr><tr><td>3</td><td>12</td></tr></tbody></table><ul><li>\u5BF9\u4E8E\u4E00\u4E2A\u603B\u5BB9\u91CF\u4E3A 5 \u7684\u80CC\u5305\u6765\u8BF4\uFF0C\u6211\u4EEC\u53EF\u4EE5\u653E\u5165\u91CD\u91CF 2 \u548C 3 \u7684\u7269\u54C1\u6765\u8FBE\u5230\u80CC\u5305\u5185\u7684\u7269\u54C1\u603B\u4EF7\u503C\u6700\u9AD8\u3002</li><li>\u5BF9\u4E8E\u8FD9\u4E2A\u95EE\u9898\u6765\u8BF4\uFF0C\u5B50\u95EE\u9898\u5C31\u4E24\u4E2A\uFF0C\u5206\u522B\u662F\u653E\u7269\u54C1\u548C\u4E0D\u653E\u7269\u54C1\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u8868\u683C\u6765\u7406\u89E3\u5B50\u95EE\u9898</li></ul><table><thead><tr><th>\u7269\u54C1 ID / \u5269\u4F59\u5BB9\u91CF</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead><tbody><tr><td>1</td><td>0</td><td>3</td><td>3</td><td>3</td><td>3</td><td>3</td></tr><tr><td>2</td><td>0</td><td>3</td><td>7</td><td>10</td><td>10</td><td>10</td></tr><tr><td>3</td><td>0</td><td>3</td><td>7</td><td>12</td><td>15</td><td>19</td></tr></tbody></table><blockquote><p>\u76F4\u63A5\u6765\u5206\u6790\u80FD\u653E\u4E09\u79CD\u7269\u54C1\u7684\u60C5\u51B5\uFF0C\u4E5F\u5C31\u662F\u6700\u540E\u4E00\u884C</p></blockquote><ul><li>\u5F53\u5BB9\u91CF\u5C11\u4E8E 3 \u65F6\uFF0C\u53EA\u53D6\u4E0A\u4E00\u884C\u5BF9\u5E94\u7684\u6570\u636E\uFF0C\u56E0\u4E3A\u5F53\u524D\u5BB9\u91CF\u4E0D\u80FD\u5BB9\u7EB3\u7269\u54C1 3</li><li>\u5F53\u5BB9\u91CF \u4E3A 3 \u65F6\uFF0C\u8003\u8651\u4E24\u79CD\u60C5\u51B5\uFF0C\u5206\u522B\u4E3A\u653E\u5165\u7269\u54C1 3 \u548C\u4E0D\u653E\u7269\u54C1 3 <ul><li>\u4E0D\u653E\u7269\u54C1 3 \u7684\u60C5\u51B5\u4E0B\uFF0C\u603B\u4EF7\u503C\u4E3A 10</li><li>\u653E\u5165\u7269\u54C1 3 \u7684\u60C5\u51B5\u4E0B\uFF0C\u603B\u4EF7\u503C\u4E3A 12\uFF0C\u6240\u4EE5\u5E94\u8BE5\u653E\u5165\u7269\u54C1 3</li></ul></li><li>\u5F53\u5BB9\u91CF \u4E3A 4 \u65F6\uFF0C\u8003\u8651\u4E24\u79CD\u60C5\u51B5\uFF0C\u5206\u522B\u4E3A\u653E\u5165\u7269\u54C1 3 \u548C\u4E0D\u653E\u7269\u54C1 3 <ul><li>\u4E0D\u653E\u7269\u54C1 3 \u7684\u60C5\u51B5\u4E0B\uFF0C\u603B\u4EF7\u503C\u4E3A 10</li><li>\u653E\u5165\u7269\u54C1 3 \u7684\u60C5\u51B5\u4E0B\uFF0C\u548C\u653E\u5165\u7269\u54C1 1 \u7684\u4EF7\u503C\u76F8\u52A0\uFF0C\u5F97\u51FA\u603B\u4EF7\u503C\u4E3A 15\uFF0C\u6240\u4EE5\u5E94\u8BE5\u653E\u5165\u7269\u54C1 3</li></ul></li><li>\u5F53\u5BB9\u91CF \u4E3A 5 \u65F6\uFF0C\u8003\u8651\u4E24\u79CD\u60C5\u51B5\uFF0C\u5206\u522B\u4E3A\u653E\u5165\u7269\u54C1 3 \u548C\u4E0D\u653E\u7269\u54C1 3 <ul><li>\u4E0D\u653E\u7269\u54C1 3 \u7684\u60C5\u51B5\u4E0B\uFF0C\u603B\u4EF7\u503C\u4E3A 10</li><li>\u653E\u5165\u7269\u54C1 3 \u7684\u60C5\u51B5\u4E0B\uFF0C\u548C\u653E\u5165\u7269\u54C1 2 \u7684\u4EF7\u503C\u76F8\u52A0\uFF0C\u5F97\u51FA\u603B\u4EF7\u503C\u4E3A 19\uFF0C\u6240\u4EE5\u5E94\u8BE5\u653E\u5165\u7269\u54C1 3</li></ul></li></ul><p>\u4EE5\u4E0B\u4EE3\u7801\u5BF9\u7167\u4E0A\u8868\u66F4\u5BB9\u6613\u7406\u89E3</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> <span class="token parameter">w</span> \u7269\u54C1\u91CD\u91CF
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> <span class="token parameter">v</span> \u7269\u54C1\u4EF7\u503C
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> <span class="token parameter">C</span> \u603B\u5BB9\u91CF
 * <span class="token keyword">@returns</span>
 */</span>
<span class="token keyword">function</span> <span class="token function">knapsack</span><span class="token punctuation">(</span><span class="token parameter">w<span class="token punctuation">,</span> v<span class="token punctuation">,</span> <span class="token constant">C</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> length <span class="token operator">=</span> w<span class="token punctuation">.</span>length
  <span class="token keyword">if</span> <span class="token punctuation">(</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span>

  <span class="token comment">// \u5BF9\u7167\u8868\u683C\uFF0C\u751F\u6210\u7684\u4E8C\u7EF4\u6570\u7EC4\uFF0C\u7B2C\u4E00\u7EF4\u4EE3\u8868\u7269\u54C1\uFF0C\u7B2C\u4E8C\u7EF4\u4EE3\u8868\u80CC\u5305\u5269\u4F59\u5BB9\u91CF</span>
  <span class="token comment">// \u7B2C\u4E8C\u7EF4\u4E2D\u7684\u5143\u7D20\u4EE3\u8868\u80CC\u5305\u7269\u54C1\u603B\u4EF7\u503C</span>
  <span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token constant">C</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token comment">// \u5B8C\u6210\u5E95\u90E8\u5B50\u95EE\u9898\u7684\u89E3</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token constant">C</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5BF9\u7167\u8868\u683C\u7B2C\u4E00\u884C\uFF0C array[0] \u4EE3\u8868\u7269\u54C1 1</span>
    <span class="token comment">// i \u4EE3\u8868\u5269\u4F59\u603B\u5BB9\u91CF</span>
    <span class="token comment">// \u5F53\u5269\u4F59\u603B\u5BB9\u91CF\u5927\u4E8E\u7269\u54C1 1 \u7684\u91CD\u91CF\u65F6\uFF0C\u8BB0\u5F55\u4E0B\u80CC\u5305\u7269\u54C1\u603B\u4EF7\u503C\uFF0C\u5426\u5219\u4EF7\u503C\u4E3A 0</span>
    array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">&gt;=</span> w<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">?</span> v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// \u81EA\u5E95\u5411\u4E0A\u5F00\u59CB\u89E3\u51B3\u5B50\u95EE\u9898\uFF0C\u4ECE\u7269\u54C1 2 \u5F00\u59CB</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token constant">C</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8FD9\u91CC\u6C42\u89E3\u5B50\u95EE\u9898\uFF0C\u5206\u522B\u4E3A\u4E0D\u653E\u5F53\u524D\u7269\u54C1\u548C\u653E\u5F53\u524D\u7269\u54C1</span>
      <span class="token comment">// \u5148\u6C42\u4E0D\u653E\u5F53\u524D\u7269\u54C1\u7684\u80CC\u5305\u603B\u4EF7\u503C\uFF0C\u8FD9\u91CC\u7684\u503C\u4E5F\u5C31\u662F\u5BF9\u5E94\u8868\u683C\u4E2D\u4E0A\u4E00\u884C\u5BF9\u5E94\u7684\u503C</span>
      array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>
      <span class="token comment">// \u5224\u65AD\u5F53\u524D\u5269\u4F59\u5BB9\u91CF\u662F\u5426\u53EF\u4EE5\u653E\u5165\u5F53\u524D\u7269\u54C1</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;=</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u53EF\u4EE5\u653E\u5165\u7684\u8BDD\uFF0C\u5C31\u6BD4\u5927\u5C0F</span>
        <span class="token comment">// \u653E\u5165\u5F53\u524D\u7269\u54C1\u548C\u4E0D\u653E\u5165\u5F53\u524D\u7269\u54C1\uFF0C\u54EA\u4E2A\u80CC\u5305\u603B\u4EF7\u503C\u5927</span>
        array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> array<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> array<span class="token punctuation">[</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">C</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p><strong>\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217</strong></p><blockquote><p>\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u610F\u601D\u662F\u5728\u4E00\u7EC4\u6570\u5B57\u4E2D\uFF0C\u627E\u51FA\u6700\u957F\u4E00\u4E32\u9012\u589E\u7684\u6570\u5B57\uFF0C\u6BD4\u5982</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>0, 3, 4, 17, 2, 8, 6, 10
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>\u5BF9\u4E8E\u4EE5\u4E0A\u8FD9\u4E32\u6570\u5B57\u6765\u8BF4\uFF0C\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u5C31\u662F <code>0, 3, 4, 8, 10</code>\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u8868\u683C\u66F4\u6E05\u6670\u7684\u7406\u89E3</p></blockquote><table><thead><tr><th>\u6570\u5B57</th><th>0</th><th>3</th><th>4</th><th>17</th><th>2</th><th>8</th><th>6</th><th>10</th></tr></thead><tbody><tr><td>\u957F\u5EA6</td><td>1</td><td>2</td><td>3</td><td>4</td><td>2</td><td>4 4</td><td>5</td><td></td></tr></tbody></table><p>\u901A\u8FC7\u4EE5\u4E0A\u8868\u683C\u53EF\u4EE5\u5F88\u6E05\u6670\u7684\u53D1\u73B0\u4E00\u4E2A\u89C4\u5F8B\uFF0C\u627E\u51FA\u521A\u597D\u6BD4\u5F53\u524D\u6570\u5B57\u5C0F\u7684\u6570\uFF0C\u5E76\u4E14\u5728\u5C0F\u7684\u6570\u7EC4\u6210\u7684\u957F\u5EA6\u57FA\u7840\u4E0A\u52A0\u4E00\u3002</p><p>\u8FD9\u4E2A\u95EE\u9898\u7684\u52A8\u6001\u601D\u8DEF\u89E3\u6CD5\u5F88\u7B80\u5355\uFF0C\u76F4\u63A5\u4E0A\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">lis</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span>
  <span class="token comment">// \u521B\u5EFA\u4E00\u4E2A\u548C\u53C2\u6570\u76F8\u540C\u5927\u5C0F\u7684\u6570\u7EC4\uFF0C\u5E76\u586B\u5145\u503C\u4E3A 1</span>
  <span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token comment">// \u4ECE\u7D22\u5F15 1 \u5F00\u59CB\u904D\u5386\uFF0C\u56E0\u4E3A\u6570\u7EC4\u5DF2\u7ECF\u6240\u6709\u90FD\u586B\u5145\u4E3A 1 \u4E86</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u4ECE\u7D22\u5F15 0 \u904D\u5386\u5230 i</span>
    <span class="token comment">// \u5224\u65AD\u7D22\u5F15 i \u4E0A\u7684\u503C\u662F\u5426\u5927\u4E8E\u4E4B\u524D\u7684\u503C</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> n<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> array<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> res
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div>`,30),y1={id:"_37-css\u5E38\u8003\u9762\u8BD5\u9898\u89E3\u6790",tabindex:"-1"},v1=n("a",{class:"header-anchor",href:"#_37-css\u5E38\u8003\u9762\u8BD5\u9898\u89E3\u6790","aria-hidden":"true"},"#",-1),w1=s(),x1={href:"http://interview.poetries.top/docs/excellent.html#_37-css%E5%B8%B8%E8%80%83%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90",target:"_blank",rel:"noopener noreferrer"},q1=s("#"),E1=s("37 css\u5E38\u8003\u9762\u8BD5\u9898\u89E3\u6790"),j1={href:"https://segmentfault.com/a/1190000013325778",target:"_blank",rel:"noopener noreferrer"},C1=s("50\u9053CSS\u57FA\u7840\u9762\u8BD5\u9898\uFF08\u9644\u7B54\u6848\uFF09(opens new window)"),S1={href:"https://segmentfault.com/a/1190000013860482",target:"_blank",rel:"noopener noreferrer"},A1=s("\u300A50\u9053CSS\u57FA\u7840\u9762\u8BD5\u9898\uFF08\u9644\u7B54\u6848\uFF09\u300B\u4E2D\u7684\u7B54\u6848\u771F\u7684\u5C31\u53EA\u662F\u7B54\u6848\u5417\uFF1F(opens new window)"),B1={href:"https://funteas.com/topic/5ada8eac230d1e5e25e45b89",target:"_blank",rel:"noopener noreferrer"},T1=s("CSS \u9762\u8BD5\u9898\u603B\u7ED3(opens new window)"),P1={href:"https://github.com/yangshun/front-end-interview-handbook/blob/master/Translations/Chinese/questions/css-questions.md",target:"_blank",rel:"noopener noreferrer"},D1=s("\u524D\u7AEF\u5F00\u53D1\u8005\u9762\u8BD5\u95EE\u9898 - CSS \u90E8\u5206");function M1(O1,R1){const a=t("ExternalLinkIcon");return o(),c(l,null,[i,n("h2",k,[d,b,n("a",m,[h,p(a)]),g]),_,n("h2",f,[y,v,n("a",w,[x,p(a)]),q]),E,n("h2",j,[C,S,n("a",A,[B,p(a)]),T]),P,n("h2",D,[M,O,n("a",R,[F,p(a)]),N]),L,n("h2",V,[I,H,n("a",J,[U,p(a)]),z]),W,n("h2",X,[G,Q,n("a",K,[$,p(a)]),Y]),Z,n("h2",nn,[sn,an,n("a",pn,[en,p(a)]),tn]),on,n("h2",cn,[ln,un,n("a",rn,[kn,p(a)]),dn]),bn,n("h2",mn,[hn,gn,n("a",_n,[fn,p(a)]),yn]),vn,n("h2",wn,[xn,qn,n("a",En,[jn,p(a)]),Cn]),Sn,n("h2",An,[Bn,Tn,n("a",Pn,[Dn,p(a)]),Mn]),On,n("h2",Rn,[Fn,Nn,n("a",Ln,[Vn,p(a)]),In]),n("h3",Hn,[Jn,Un,n("a",zn,[Wn,p(a)]),Xn]),Gn,n("h3",Qn,[Kn,$n,n("a",Yn,[Zn,p(a)]),ns]),ss,n("h3",as,[ps,es,n("a",ts,[os,p(a)]),cs]),ls,n("h3",us,[rs,is,n("a",ks,[ds,p(a)]),bs]),ms,n("h2",hs,[gs,_s,n("a",fs,[ys,p(a)]),vs]),ws,n("h2",xs,[qs,Es,n("a",js,[Cs,p(a)]),Ss]),As,n("h2",Bs,[Ts,Ps,n("a",Ds,[Ms,p(a)]),Os]),Rs,n("h2",Fs,[Ns,Ls,n("a",Vs,[Is,p(a)]),Hs]),Js,n("h2",Us,[zs,Ws,n("a",Xs,[Gs,p(a)]),Qs]),Ks,n("h3",$s,[Ys,Zs,n("a",na,[sa,p(a)]),aa]),pa,n("h3",ea,[ta,oa,n("a",ca,[la,p(a)]),ua]),ra,n("h3",ia,[ka,da,n("a",ba,[ma,p(a)]),ha]),ga,n("h2",_a,[fa,ya,n("a",va,[wa,p(a)]),xa]),qa,n("h3",Ea,[ja,Ca,n("a",Sa,[Aa,p(a)]),Ba]),Ta,n("h3",Pa,[Da,Ma,n("a",Oa,[Ra,p(a)]),Fa]),Na,n("h3",La,[Va,Ia,n("a",Ha,[Ja,p(a)]),Ua]),za,n("h3",Wa,[Xa,Ga,n("a",Qa,[Ka,p(a)]),$a]),Ya,n("h2",Za,[np,sp,n("a",ap,[pp,p(a)]),ep]),tp,n("h2",op,[cp,lp,n("a",up,[rp,p(a)]),ip]),kp,dp,bp,mp,n("h3",hp,[gp,_p,n("a",fp,[yp,p(a)]),vp]),wp,n("h3",xp,[qp,Ep,n("a",jp,[Cp,p(a)]),Sp]),Ap,n("h4",Bp,[Tp,Pp,n("a",Dp,[Mp,p(a)]),Op]),Rp,n("h4",Fp,[Np,Lp,n("a",Vp,[Ip,p(a)]),Hp]),Jp,n("h3",Up,[zp,Wp,n("a",Xp,[Gp,p(a)]),Qp]),Kp,n("h2",$p,[Yp,Zp,n("a",ne,[se,p(a)]),ae]),pe,n("h3",ee,[te,oe,n("a",ce,[le,p(a)]),ue]),re,n("h3",ie,[ke,de,n("a",be,[me,p(a)]),he]),ge,n("h3",_e,[fe,ye,n("a",ve,[we,p(a)]),xe]),qe,n("h3",Ee,[je,Ce,n("a",Se,[Ae,p(a)]),Be]),Te,n("h3",Pe,[De,Me,n("a",Oe,[Re,p(a)]),Fe]),Ne,n("h2",Le,[Ve,Ie,n("a",He,[Je,p(a)]),Ue]),n("h3",ze,[We,Xe,n("a",Ge,[Qe,p(a)]),Ke]),$e,n("blockquote",null,[n("p",null,[Ye,n("a",Ze,[nt,p(a)]),st])]),at,pt,n("h3",et,[tt,ot,n("a",ct,[lt,p(a)]),ut]),rt,n("h3",it,[kt,dt,n("a",bt,[mt,p(a)]),ht]),gt,n("h2",_t,[ft,yt,n("a",vt,[wt,p(a)]),xt]),qt,n("h3",Et,[jt,Ct,n("a",St,[At,p(a)]),Bt]),Tt,n("h3",Pt,[Dt,Mt,n("a",Ot,[Rt,p(a)]),Ft]),Nt,n("h2",Lt,[Vt,It,n("a",Ht,[Jt,p(a)]),Ut]),zt,n("h3",Wt,[Xt,Gt,n("a",Qt,[Kt,p(a)]),$t]),Yt,n("h3",Zt,[no,so,n("a",ao,[po,p(a)]),eo]),to,n("h3",oo,[co,lo,n("a",uo,[ro,p(a)]),io]),ko,n("h3",bo,[mo,ho,n("a",go,[_o,p(a)]),fo]),yo,n("h3",vo,[wo,xo,n("a",qo,[Eo,p(a)]),jo]),Co,n("h3",So,[Ao,Bo,n("a",To,[Po,p(a)]),Do]),Mo,n("h3",Oo,[Ro,Fo,n("a",No,[Lo,p(a)]),Vo]),Io,n("h3",Ho,[Jo,Uo,n("a",zo,[Wo,p(a)]),Xo]),Go,n("h3",Qo,[Ko,$o,n("a",Yo,[Zo,p(a)]),nc]),sc,n("h3",ac,[pc,ec,n("a",tc,[oc,p(a)]),cc]),lc,n("h2",uc,[rc,ic,n("a",kc,[dc,p(a)]),bc]),mc,hc,n("h3",gc,[_c,fc,n("a",yc,[vc,p(a)]),wc]),xc,n("h3",qc,[Ec,jc,n("a",Cc,[Sc,p(a)]),Ac]),Bc,n("h2",Tc,[Pc,Dc,n("a",Mc,[Oc,p(a)]),Rc]),Fc,n("h2",Nc,[Lc,Vc,n("a",Ic,[Hc,p(a)]),Jc]),n("h3",Uc,[zc,Wc,n("a",Xc,[Gc,p(a)]),Qc]),Kc,n("h3",$c,[Yc,Zc,n("a",nl,[sl,p(a)]),al]),pl,n("h3",el,[tl,ol,n("a",cl,[ll,p(a)]),ul]),rl,n("h3",il,[kl,dl,n("a",bl,[ml,p(a)]),hl]),gl,n("h2",_l,[fl,yl,n("a",vl,[wl,p(a)]),xl]),n("h3",ql,[El,jl,n("a",Cl,[Sl,p(a)]),Al]),Bl,n("h3",Tl,[Pl,Dl,n("a",Ml,[Ol,p(a)]),Rl]),Fl,n("h3",Nl,[Ll,Vl,n("a",Il,[Hl,p(a)]),Jl]),Ul,n("h3",zl,[Wl,Xl,n("a",Gl,[Ql,p(a)]),Kl]),$l,n("h3",Yl,[Zl,nu,n("a",su,[au,p(a)]),pu]),eu,n("h3",tu,[ou,cu,n("a",lu,[uu,p(a)]),ru]),iu,n("h3",ku,[du,bu,n("a",mu,[hu,p(a)]),gu]),_u,n("h3",fu,[yu,vu,n("a",wu,[xu,p(a)]),qu]),Eu,n("h3",ju,[Cu,Su,n("a",Au,[Bu,p(a)]),Tu]),Pu,n("h4",Du,[Mu,Ou,n("a",Ru,[Fu,p(a)]),Nu]),Lu,n("h4",Vu,[Iu,Hu,n("a",Ju,[Uu,p(a)]),zu]),Wu,n("h4",Xu,[Gu,Qu,n("a",Ku,[$u,p(a)]),Yu]),Zu,n("h2",nr,[sr,ar,n("a",pr,[er,p(a)]),tr]),n("h3",or,[cr,lr,n("a",ur,[rr,p(a)]),ir]),kr,n("h3",dr,[br,mr,n("a",hr,[gr,p(a)]),_r]),fr,n("h3",yr,[vr,wr,n("a",xr,[qr,p(a)]),Er]),jr,n("h3",Cr,[Sr,Ar,n("a",Br,[Tr,p(a)]),Pr]),Dr,n("h3",Mr,[Or,Rr,n("a",Fr,[Nr,p(a)]),Lr]),Vr,n("h3",Ir,[Hr,Jr,n("a",Ur,[zr,p(a)]),Wr]),Xr,n("h2",Gr,[Qr,Kr,n("a",$r,[Yr,p(a)]),Zr]),ni,si,n("h3",ai,[pi,ei,n("a",ti,[oi,p(a)]),ci]),li,n("h3",ui,[ri,ii,n("a",ki,[di,p(a)]),bi]),mi,n("h3",hi,[gi,_i,n("a",fi,[yi,p(a)]),vi]),wi,n("h2",xi,[qi,Ei,n("a",ji,[Ci,p(a)]),Si]),n("h3",Ai,[Bi,Ti,n("a",Pi,[Di,p(a)]),Mi]),Oi,n("h3",Ri,[Fi,Ni,n("a",Li,[Vi,p(a)]),Ii]),Hi,n("h2",Ji,[Ui,zi,n("a",Wi,[Xi,p(a)]),Gi]),n("h3",Qi,[Ki,$i,n("a",Yi,[Zi,p(a)]),nk]),sk,n("h3",ak,[pk,ek,n("a",tk,[ok,p(a)]),ck]),lk,n("h2",uk,[rk,ik,n("a",kk,[dk,p(a)]),bk]),mk,n("h3",hk,[gk,_k,n("a",fk,[yk,p(a)]),vk]),wk,n("blockquote",null,[n("p",null,[xk,n("a",qk,[Ek,p(a)]),jk])]),Ck,n("h3",Sk,[Ak,Bk,n("a",Tk,[Pk,p(a)]),Dk]),Mk,Ok,n("h3",Rk,[Fk,Nk,n("a",Lk,[Vk,p(a)]),Ik]),Hk,Jk,n("h3",Uk,[zk,Wk,n("a",Xk,[Gk,p(a)]),Qk]),Kk,n("h3",$k,[Yk,Zk,n("a",nd,[sd,p(a)]),ad]),pd,n("h3",ed,[td,od,n("a",cd,[ld,p(a)]),ud]),rd,n("h2",id,[kd,dd,n("a",bd,[md,p(a)]),hd]),gd,n("h3",_d,[fd,yd,n("a",vd,[wd,p(a)]),xd]),qd,n("h3",Ed,[jd,Cd,n("a",Sd,[Ad,p(a)]),Bd]),Td,n("h3",Pd,[Dd,Md,n("a",Od,[Rd,p(a)]),Fd]),Nd,n("h3",Ld,[Vd,Id,n("a",Hd,[Jd,p(a)]),Ud]),zd,n("h3",Wd,[Xd,Gd,n("a",Qd,[Kd,p(a)]),$d]),Yd,n("h3",Zd,[nb,sb,n("a",ab,[pb,p(a)]),eb]),tb,n("h3",ob,[cb,lb,n("a",ub,[rb,p(a)]),ib]),kb,n("h2",db,[bb,mb,n("a",hb,[gb,p(a)]),_b]),n("h3",fb,[yb,vb,n("a",wb,[xb,p(a)]),qb]),Eb,n("h3",jb,[Cb,Sb,n("a",Ab,[Bb,p(a)]),Tb]),Pb,n("h3",Db,[Mb,Ob,n("a",Rb,[Fb,p(a)]),Nb]),n("blockquote",null,[n("p",null,[Lb,n("a",Vb,[Ib,p(a)]),Hb])]),Jb,n("h3",Ub,[zb,Wb,n("a",Xb,[Gb,p(a)]),Qb]),Kb,n("h3",$b,[Yb,Zb,n("a",nm,[sm,p(a)]),am]),pm,n("h3",em,[tm,om,n("a",cm,[lm,p(a)]),um]),rm,n("h3",im,[km,dm,n("a",bm,[mm,p(a)]),hm]),gm,n("h3",_m,[fm,ym,n("a",vm,[wm,p(a)]),xm]),qm,n("h3",Em,[jm,Cm,n("a",Sm,[Am,p(a)]),Bm]),Tm,n("h3",Pm,[Dm,Mm,n("a",Om,[Rm,p(a)]),Fm]),Nm,n("h2",Lm,[Vm,Im,n("a",Hm,[Jm,p(a)]),Um]),zm,Wm,n("blockquote",null,[n("p",null,[Xm,n("a",Gm,[Qm,p(a)]),Km])]),n("h3",$m,[Ym,Zm,n("a",nh,[sh,p(a)]),ah]),ph,n("h3",eh,[th,oh,n("a",ch,[lh,p(a)]),uh]),rh,n("h4",ih,[kh,dh,n("a",bh,[mh,p(a)]),hh]),gh,n("h4",_h,[fh,yh,n("a",vh,[wh,p(a)]),xh]),qh,n("h4",Eh,[jh,Ch,n("a",Sh,[Ah,p(a)]),Bh]),Th,n("h4",Ph,[Dh,Mh,n("a",Oh,[Rh,p(a)]),Fh]),Nh,n("h4",Lh,[Vh,Ih,n("a",Hh,[Jh,p(a)]),Uh]),zh,n("h4",Wh,[Xh,Gh,n("a",Qh,[Kh,p(a)]),$h]),Yh,n("h3",Zh,[n1,s1,n("a",a1,[p1,p(a)]),e1]),t1,n("h3",o1,[c1,l1,n("a",u1,[r1,p(a)]),i1]),k1,n("h3",d1,[b1,m1,n("a",h1,[g1,p(a)]),_1]),f1,n("h2",y1,[v1,w1,n("a",x1,[q1,p(a)]),E1]),n("ul",null,[n("li",null,[n("a",j1,[C1,p(a)])]),n("li",null,[n("a",S1,[A1,p(a)])]),n("li",null,[n("a",B1,[T1,p(a)])]),n("li",null,[n("a",P1,[D1,p(a)])])])],64)}var L1=u(r,[["render",M1]]);export{L1 as default};
